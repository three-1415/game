<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Home</title>
        <!-- Allow fullscreen mode on iOS devices. (These are Apple specific meta tags.) -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="HandheldFriendly" content="true">
        <script async="" src="data:text/plain;base64,Ci8vIENvcHlyaWdodCAyMDEyIEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAKKGZ1bmN0aW9uKCl7Cgp2YXIgZGF0YSA9IHsKInJlc291cmNlIjogewogICJ2ZXJzaW9uIjoiMiIsCiAgCiAgIm1hY3JvcyI6W3siZnVuY3Rpb24iOiJfX2UifSx7ImZ1bmN0aW9uIjoiX19jIiwidnRwX3ZhbHVlIjoiIn0seyJmdW5jdGlvbiI6Il9fYyIsInZ0cF92YWx1ZSI6MH1dLAogICJ0YWdzIjpbeyJmdW5jdGlvbiI6Il9fb2d0X2dhX3NlbmQiLCJwcmlvcml0eSI6NywidnRwX3ZhbHVlIjp0cnVlLCJ0YWdfaWQiOjEwfSx7ImZ1bmN0aW9uIjoiX19vZ3RfcmVmZXJyYWxfZXhjbHVzaW9uIiwicHJpb3JpdHkiOjcsInZ0cF9pbmNsdWRlQ29uZGl0aW9ucyI6WyJsaXN0IiwiZ29vZ2xlXFwuY29tIl0sInRhZ19pZCI6MTJ9LHsiZnVuY3Rpb24iOiJfX29ndF9zZXNzaW9uX3RpbWVvdXQiLCJwcmlvcml0eSI6NywidnRwX3Nlc3Npb25NaW51dGVzIjozMCwidnRwX3Nlc3Npb25Ib3VycyI6MCwidGFnX2lkIjoxM30seyJmdW5jdGlvbiI6Il9fb2d0XzFwX2RhdGFfdjIiLCJwcmlvcml0eSI6NywidnRwX2lzQXV0b0VuYWJsZWQiOnRydWUsInZ0cF9hdXRvQ29sbGVjdEV4Y2x1c2lvblNlbGVjdG9ycyI6WyJsaXN0IixbIm1hcCIsImV4Y2x1c2lvblNlbGVjdG9yIiwiIl1dLCJ2dHBfaXNFbmFibGVkIjp0cnVlLCJ2dHBfY2l0eVR5cGUiOiJDU1NfU0VMRUNUT1IiLCJ2dHBfbWFudWFsRW1haWxFbmFibGVkIjpmYWxzZSwidnRwX2ZpcnN0TmFtZVR5cGUiOiJDU1NfU0VMRUNUT1IiLCJ2dHBfY291bnRyeVR5cGUiOiJDU1NfU0VMRUNUT1IiLCJ2dHBfY2l0eVZhbHVlIjoiIiwidnRwX2VtYWlsVHlwZSI6IkNTU19TRUxFQ1RPUiIsInZ0cF9yZWdpb25UeXBlIjoiQ1NTX1NFTEVDVE9SIiwidnRwX2F1dG9FbWFpbEVuYWJsZWQiOnRydWUsInZ0cF9wb3N0YWxDb2RlVmFsdWUiOiIiLCJ2dHBfbGFzdE5hbWVWYWx1ZSI6IiIsInZ0cF9waG9uZVR5cGUiOiJDU1NfU0VMRUNUT1IiLCJ2dHBfcGhvbmVWYWx1ZSI6IiIsInZ0cF9zdHJlZXRUeXBlIjoiQ1NTX1NFTEVDVE9SIiwidnRwX2F1dG9QaG9uZUVuYWJsZWQiOmZhbHNlLCJ2dHBfcG9zdGFsQ29kZVR5cGUiOiJDU1NfU0VMRUNUT1IiLCJ2dHBfZW1haWxWYWx1ZSI6IiIsInZ0cF9maXJzdE5hbWVWYWx1ZSI6IiIsInZ0cF9zdHJlZXRWYWx1ZSI6IiIsInZ0cF9sYXN0TmFtZVR5cGUiOiJDU1NfU0VMRUNUT1IiLCJ2dHBfYXV0b0FkZHJlc3NFbmFibGVkIjpmYWxzZSwidnRwX3JlZ2lvblZhbHVlIjoiIiwidnRwX2NvdW50cnlWYWx1ZSI6IiIsInZ0cF9pc0F1dG9Db2xsZWN0UGlpRW5hYmxlZEZsYWciOmZhbHNlLCJ0YWdfaWQiOjE0fSx7ImZ1bmN0aW9uIjoiX19jY2RfZ2FfZmlyc3QiLCJwcmlvcml0eSI6NiwidnRwX2luc3RhbmNlRGVzdGluYXRpb25JZCI6IkctTUVOQk02R1NOWSIsInRhZ19pZCI6MjF9LHsiZnVuY3Rpb24iOiJfX3NldF9wcm9kdWN0X3NldHRpbmdzIiwicHJpb3JpdHkiOjUsInZ0cF9pbnN0YW5jZURlc3RpbmF0aW9uSWQiOiJHLU1FTkJNNkdTTlkiLCJ2dHBfZm9yZWlnblRsZE1hY3JvUmVzdWx0IjpbIm1hY3JvIiwxXSwidnRwX2lzQ2hpbmFWaXBSZWdpb25NYWNyb1Jlc3VsdCI6WyJtYWNybyIsMl0sInRhZ19pZCI6MjB9LHsiZnVuY3Rpb24iOiJfX29ndF9nb29nbGVfc2lnbmFscyIsInByaW9yaXR5Ijo0LCJ2dHBfZ29vZ2xlU2lnbmFscyI6IkVOQUJMRUQiLCJ2dHBfaW5zdGFuY2VEZXN0aW5hdGlvbklkIjoiRy1NRU5CTTZHU05ZIiwidGFnX2lkIjoxOX0seyJmdW5jdGlvbiI6Il9fY2NkX2dhX3JlZ3Njb3BlIiwicHJpb3JpdHkiOjMsInZ0cF9zZXR0aW5nc1RhYmxlIjpbImxpc3QiLFsibWFwIiwicmVkYWN0RmllbGRHcm91cCIsIkRFVklDRV9BTkRfR0VPIiwiZGlzYWxsb3dBbGxSZWdpb25zIixmYWxzZSwiZGlzYWxsb3dlZFJlZ2lvbnMiLCIiXSxbIm1hcCIsInJlZGFjdEZpZWxkR3JvdXAiLCJHT09HTEVfU0lHTkFMUyIsImRpc2FsbG93QWxsUmVnaW9ucyIsZmFsc2UsImRpc2FsbG93ZWRSZWdpb25zIiwiIl1dLCJ2dHBfaW5zdGFuY2VEZXN0aW5hdGlvbklkIjoiRy1NRU5CTTZHU05ZIiwidGFnX2lkIjoxOH0seyJmdW5jdGlvbiI6Il9fY2NkX2NvbnZlcnNpb25fbWFya2luZyIsInByaW9yaXR5IjoyLCJ2dHBfY29udmVyc2lvblJ1bGVzIjpbImxpc3QiLFsibWFwIiwibWF0Y2hpbmdSdWxlcyIsIntcInR5cGVcIjo1LFwiYXJnc1wiOlt7XCJzdHJpbmdWYWx1ZVwiOlwicHVyY2hhc2VcIn0se1wiY29udGV4dFZhbHVlXCI6e1wibmFtZXNwYWNlVHlwZVwiOjEsXCJrZXlQYXJ0c1wiOltcImV2ZW50TmFtZVwiXX19XX0iXV0sInZ0cF9pbnN0YW5jZURlc3RpbmF0aW9uSWQiOiJHLU1FTkJNNkdTTlkiLCJ0YWdfaWQiOjE3fSx7ImZ1bmN0aW9uIjoiX19jY2RfYXV0b19yZWRhY3QiLCJwcmlvcml0eSI6MSwidnRwX3JlZGFjdEVtYWlsIjpmYWxzZSwidnRwX2luc3RhbmNlRGVzdGluYXRpb25JZCI6IkctTUVOQk02R1NOWSIsInRhZ19pZCI6MTZ9LHsiZnVuY3Rpb24iOiJfX2djdCIsInZ0cF90cmFja2luZ0lkIjoiRy1NRU5CTTZHU05ZIiwidnRwX3Nlc3Npb25EdXJhdGlvbiI6MCwidGFnX2lkIjo3fSx7ImZ1bmN0aW9uIjoiX19jY2RfZ2FfbGFzdCIsInByaW9yaXR5IjowLCJ2dHBfaW5zdGFuY2VEZXN0aW5hdGlvbklkIjoiRy1NRU5CTTZHU05ZIiwidGFnX2lkIjoxNX1dLAogICJwcmVkaWNhdGVzIjpbeyJmdW5jdGlvbiI6Il9lcSIsImFyZzAiOlsibWFjcm8iLDBdLCJhcmcxIjoiZ3RtLmpzIn0seyJmdW5jdGlvbiI6Il9lcSIsImFyZzAiOlsibWFjcm8iLDBdLCJhcmcxIjoiZ3RtLmluaXQifV0sCiAgInJ1bGVzIjpbW1siaWYiLDBdLFsiYWRkIiwxMF1dLFtbImlmIiwxXSxbImFkZCIsMCwxLDIsMywxMSw5LDgsNyw2LDUsNF1dXQp9LAoicnVudGltZSI6WyBbNTAsIl9fYyIsWzQ2LCJhIl0sWzM2LFsxNyxbMTUsImEiXSwidmFsdWUiXV1dCiAsWzUwLCJfX2NjZF9hdXRvX3JlZGFjdCIsWzQ2LCJhIl0sWzUwLCJ2IixbNDYsImFGIl0sWzM2LFsyLFsxNSwiYUYiXSwicmVwbGFjZSIsWzcsWzE1LCJ1Il0sIlxcJDEiXV1dXSxbNTAsInciLFs0NiwiYUYiXSxbNTIsImFHIixbMzAsWyJjIixbMTUsImFGIl1dLFsxNSwiYUYiXV1dLFs1MiwiYUgiLFs3XV0sWzY1LCJhSSIsWzIsWzE1LCJhRyJdLCJzcGxpdCIsWzcsIiJdXSxbNDYsWzUzLFs1MiwiYUoiLFs3LFsidiIsWzE1LCJhSSJdXV1dLFs1MiwiYUsiLFsiZCIsWzE1LCJhSSJdXV0sWzIyLFsxMixbMTUsImFLIl0sWzQ1XV0sWzQ2LFs1MyxbMzYsWyJkIixbInYiLFsxNSwiYUYiXV1dXV1dXSxbMjIsWzIxLFsxNSwiYUsiXSxbMTUsImFJIl1dLFs0NixbNTMsWzIsWzE1LCJhSiJdLCJwdXNoIixbNyxbMTUsImFLIl1dXSxbMjIsWzIxLFsxNSwiYUkiXSxbMixbMTUsImFJIl0sInRvTG93ZXJDYXNlIixbN11dXSxbNDYsWzUzLFsyLFsxNSwiYUoiXSwicHVzaCIsWzcsWyJkIixbMixbMTUsImFJIl0sInRvTG93ZXJDYXNlIixbN11dXV1dXV0sWzQ2LFsyMixbMjEsWzE1LCJhSSJdLFsyLFsxNSwiYUkiXSwidG9VcHBlckNhc2UiLFs3XV1dLFs0NixbNTMsWzIsWzE1LCJhSiJdLCJwdXNoIixbNyxbImQiLFsyLFsxNSwiYUkiXSwidG9VcHBlckNhc2UiLFs3XV1dXV1dXV1dXV1dXSxbMjIsWzE4LFsxNyxbMTUsImFKIl0sImxlbmd0aCJdLDFdLFs0NixbNTMsWzIsWzE1LCJhSCJdLCJwdXNoIixbNyxbMCxbMCwiKD86IixbMixbMTUsImFKIl0sImpvaW4iLFs3LCJ8Il1dXSwiKSJdXV1dXSxbNDYsWzUzLFsyLFsxNSwiYUgiXSwicHVzaCIsWzcsWzE2LFsxNSwiYUoiXSwwXV1dXV1dXV1dLFszNixbMixbMTUsImFIIl0sImpvaW4iLFs3LCIiXV1dXSxbNTAsIngiLFs0NiwiYUYiLCJhRyIsImFIIl0sWzUyLCJhSSIsWyJ6IixbMTUsImFGIl0sWzE1LCJhSCJdXV0sWzIyLFsyOCxbMTUsImFJIl1dLFs0NixbMzYsWzE1LCJhRiJdXV1dLFsyMixbMjgsWzE3LFsxNSwiYUkiXSwic2VhcmNoIl1dLFs0NixbMzYsWzE1LCJhRiJdXV1dLFs0MSwiYUoiXSxbMywiYUoiLFsxNyxbMTUsImFJIl0sInNlYXJjaCJdXSxbNjUsImFLIixbMTUsImFHIl0sWzQ2LFs1MyxbNTIsImFMIixbNyxbInYiLFsxNSwiYUsiXV0sWyJ3IixbMTUsImFLIl1dXV0sWzY1LCJhTSIsWzE1LCJhTCJdLFs0NixbNTMsWzUyLCJhTiIsWzMwLFsxNixbMTUsInQiXSxbMTUsImFNIl1dLFs0MyxbMTUsInQiXSxbMTUsImFNIl0sWyJiIixbMCxbMCwiKFs/Jl0iLFsxNSwiYU0iXV0sIj0pKFteJl0qKSJdLCJnaSJdXV1dLFszLCJhSiIsWzIsWzE1LCJhSiJdLCJyZXBsYWNlIixbNyxbMTUsImFOIl0sWzAsIiQxIixbMTUsInIiXV1dXV1dXV1dXV0sWzIyLFsyMCxbMTUsImFKIl0sWzE3LFsxNSwiYUkiXSwic2VhcmNoIl1dLFs0NixbMzYsWzE1LCJhRiJdXV1dLFsyMixbMjAsWzE2LFsxNSwiYUoiXSwwXSwiJiJdLFs0NixbMywiYUoiLFsyLFsxNSwiYUoiXSwic3Vic3RyaW5nIixbNywxXV1dXV0sWzIyLFsyMSxbMTYsWzE1LCJhSiJdLDBdLCI/Il0sWzQ2LFszLCJhSiIsWzAsIj8iLFsxNSwiYUoiXV1dXV0sWzIyLFsyMCxbMTUsImFKIl0sIj8iXSxbNDYsWzMsImFKIiwiIl1dXSxbNDMsWzE1LCJhSSJdLCJzZWFyY2giLFsxNSwiYUoiXV0sWzM2LFsiYUEiLFsxNSwiYUkiXSxbMTUsImFIIl1dXV0sWzUwLCJ6IixbNDYsImFGIiwiYUciXSxbMjIsWzIwLFsxNSwiYUciXSxbMTcsWzE1LCJzIl0sIlBBVEgiXV0sWzQ2LFs1MyxbMywiYUYiLFswLFsxNSwieSJdLFsxNSwiYUYiXV1dXV1dLFszNixbImYiLFsxNSwiYUYiXV1dXSxbNTAsImFBIixbNDYsImFGIiwiYUciXSxbNDEsImFIIl0sWzMsImFIIiwiIl0sWzIyLFsyMCxbMTUsImFHIl0sWzE3LFsxNSwicyJdLCJVUkwiXV0sWzQ2LFs1MyxbNDEsImFJIl0sWzMsImFJIiwiIl0sWzIyLFszMCxbMTcsWzE1LCJhRiJdLCJ1c2VybmFtZSJdLFsxNyxbMTUsImFGIl0sInBhc3N3b3JkIl1dLFs0NixbNTMsWzMsImFJIixbMCxbMTUsImFJIl0sWzAsWzAsWzAsWzE3LFsxNSwiYUYiXSwidXNlcm5hbWUiXSxbMzksWzE3LFsxNSwiYUYiXSwicGFzc3dvcmQiXSwiOiIsIiJdXSxbMTcsWzE1LCJhRiJdLCJwYXNzd29yZCJdXSwiQCJdXV1dXV0sWzMsImFIIixbMCxbMCxbMCxbMTcsWzE1LCJhRiJdLCJwcm90b2NvbCJdLCIvLyJdLFsxNSwiYUkiXV0sWzE3LFsxNSwiYUYiXSwiaG9zdCJdXV1dXV0sWzM2LFswLFswLFswLFsxNSwiYUgiXSxbMTcsWzE1LCJhRiJdLCJwYXRobmFtZSJdXSxbMTcsWzE1LCJhRiJdLCJzZWFyY2giXV0sWzE3LFsxNSwiYUYiXSwiaGFzaCJdXV1dLFs1MCwiYUIiLFs0NiwiYUYiLCJhRyJdLFs0MSwiYUgiXSxbMywiYUgiLFsyLFsxNSwiYUYiXSwicmVwbGFjZSIsWzcsWzE1LCJuIl0sWzE1LCJyIl1dXV0sWzIyLFszMCxbMjAsWzE1LCJhRyJdLFsxNyxbMTUsInMiXSwiVVJMIl1dLFsyMCxbMTUsImFHIl0sWzE3LFsxNSwicyJdLCJQQVRIIl1dXSxbNDYsWzUzLFs1MiwiYUkiLFsieiIsWzE1LCJhSCJdLFsxNSwiYUciXV1dLFsyMixbMjAsWzE1LCJhSSJdLFs0NF1dLFs0NixbMzYsWzE1LCJhSCJdXV1dLFs1MiwiYUoiLFsxNyxbMTUsImFJIl0sInNlYXJjaCJdXSxbNTIsImFLIixbMixbMTUsImFKIl0sInJlcGxhY2UiLFs3LFsxNSwibyJdLFsxNSwiciJdXV1dLFsyMixbMjAsWzE1LCJhSiJdLFsxNSwiYUsiXV0sWzQ2LFszNixbMTUsImFIIl1dXV0sWzQzLFsxNSwiYUkiXSwic2VhcmNoIixbMTUsImFLIl1dLFszLCJhSCIsWyJhQSIsWzE1LCJhSSJdLFsxNSwiYUciXV1dXV1dLFszNixbMTUsImFIIl1dXSxbNTAsImFDIixbNDYsImFGIl0sWzIyLFsyMCxbMTUsImFGIl0sWzE1LCJxIl1dLFs0NixbNTMsWzM2LFsxNyxbMTUsInMiXSwiUEFUSCJdXV1dLFs0NixbMjIsWzIxLFsyLFsxNSwicCJdLCJpbmRleE9mIixbNyxbMTUsImFGIl1dXSxbMjcsMV1dLFs0NixbNTMsWzM2LFsxNyxbMTUsInMiXSwiVVJMIl1dXV0sWzQ2LFs1MyxbMzYsWzE3LFsxNSwicyJdLCJURVhUIl1dXV1dXV1dLFs1MCwiYUQiLFs0NiwiYUYiLCJhRyJdLFs0MSwiYUgiXSxbMywiYUgiLGZhbHNlXSxbNTIsImFJIixbImUiLFsxNSwiYUYiXV1dLFszOCxbMTUsImFJIl0sWzQ2LCJzdHJpbmciLCJhcnJheSIsIm9iamVjdCJdLFs0NixbNSxbNDYsWzUyLCJhSiIsWyJhQiIsWzE1LCJhRiJdLFsxNSwiYUciXV1dLFsyMixbMjEsWzE1LCJhRiJdLFsxNSwiYUoiXV0sWzQ2LFs1MyxbMzYsWzE1LCJhSiJdXV1dXSxbNF1dXSxbNSxbNDYsWzUzLFs0MSwiYUsiXSxbMywiYUsiLDBdLFs2MyxbNywiYUsiXSxbMjMsWzE1LCJhSyJdLFsxNyxbMTUsImFGIl0sImxlbmd0aCJdXSxbMzMsWzE1LCJhSyJdLFszLCJhSyIsWzAsWzE1LCJhSyJdLDFdXV0sWzQ2LFs1MyxbNTIsImFMIixbImFEIixbMTYsWzE1LCJhRiJdLFsxNSwiYUsiXV0sWzE3LFsxNSwicyJdLCJURVhUIl1dXSxbMjIsWzIxLFsxNSwiYUwiXSxbNDRdXSxbNDYsWzUzLFs0MyxbMTUsImFGIl0sWzE1LCJhSyJdLFsxNSwiYUwiXV0sWzMsImFIIix0cnVlXV1dXV1dXV0sWzRdXV0sWzUsWzQ2LFs1NCwiYUsiLFsxNSwiYUYiXSxbNDYsWzUzLFs1MiwiYUwiLFsiYUQiLFsxNixbMTUsImFGIl0sWzE1LCJhSyJdXSxbMTcsWzE1LCJzIl0sIlRFWFQiXV1dLFsyMixbMjEsWzE1LCJhTCJdLFs0NF1dLFs0NixbNTMsWzQzLFsxNSwiYUYiXSxbMTUsImFLIl0sWzE1LCJhTCJdXSxbMywiYUgiLHRydWVdXV1dXV1dLFs0XV1dXV0sWzM2LFszOSxbMTUsImFIIl0sWzE1LCJhRiJdLFs0NF1dXV0sWzUwLCJhRSIsWzQ2LCJhRiIsImFHIl0sWzUyLCJhSCIsWzMwLFsyLFsxNSwiYUYiXSwiZ2V0TWV0YWRhdGEiLFs3LFsxNyxbMTUsImgiXSwiWSJdXV0sWzddXV0sWzIyLFsyMCxbMixbMTUsImFIIl0sImluZGV4T2YiLFs3LFsxNSwiYUciXV1dLFsyNywxXV0sWzQ2LFs1MyxbMixbMTUsImFIIl0sInB1c2giLFs3LFsxNSwiYUciXV1dXV1dLFsyLFsxNSwiYUYiXSwic2V0TWV0YWRhdGEiLFs3LFsxNyxbMTUsImgiXSwiWSJdLFsxNSwiYUgiXV1dXSxbNTIsImIiLFsicmVxdWlyZSIsImludGVybmFsLmNyZWF0ZVJlZ2V4Il1dLFs1MiwiYyIsWyJyZXF1aXJlIiwiZGVjb2RlVXJpQ29tcG9uZW50Il1dLFs1MiwiZCIsWyJyZXF1aXJlIiwiZW5jb2RlVXJpQ29tcG9uZW50Il1dLFs1MiwiZSIsWyJyZXF1aXJlIiwiZ2V0VHlwZSJdXSxbNTIsImYiLFsicmVxdWlyZSIsInBhcnNlVXJsIl1dLFs1MiwiZyIsWyJyZXF1aXJlIiwiaW50ZXJuYWwucmVnaXN0ZXJDY2RDYWxsYmFjayJdXSxbNTIsImgiLFsxNSwiX19tb2R1bGVfbWV0YWRhdGFTY2hlbWEiXV0sWzUyLCJpIixbMTUsIl9fbW9kdWxlX2dvbGRFdmVudFVzYWdlSWQiXV0sWzUyLCJqIixbMTcsWzE1LCJhIl0sImluc3RhbmNlRGVzdGluYXRpb25JZCJdXSxbNTIsImsiLFsxNyxbMTUsImEiXSwicmVkYWN0RW1haWwiXV0sWzUyLCJsIixbMTcsWzE1LCJhIl0sInJlZGFjdFF1ZXJ5UGFyYW1zIl1dLFs1MiwibSIsWzM5LFsxNSwibCJdLFsyLFsxNSwibCJdLCJzcGxpdCIsWzcsIiwiXV0sWzddXV0sWzIyLFsxLFsyOCxbMTcsWzE1LCJtIl0sImxlbmd0aCJdXSxbMjgsWzE1LCJrIl1dXSxbNDYsWzUzLFsyLFsxNSwiYSJdLCJndG1PblN1Y2Nlc3MiLFs3XV0sWzM2XV1dXSxbNTIsIm4iLFsiYiIsIltBLVowLTkuXyUrLV0rQFtBLVowLTkuLV0rXFwuW0EtWl17Mix9IiwiZ2kiXV0sWzUyLCJvIixbImIiLFswLCIoW0EtWjAtOS5fLV18JTI1fCUyQikrJTQwW0EtWjAtOS4tXSIsIitcXC5bQS1aXXsyLH0iXSwiZ2kiXV0sWzUyLCJwIixbNywicGFnZV9sb2NhdGlvbiIsInBhZ2VfcmVmZXJyZXIiLCJwYWdlX3BhdGgiLCJsaW5rX3VybCIsInZpZGVvX3VybCIsImZvcm1fZGVzdGluYXRpb24iXV0sWzUyLCJxIiwicGFnZV9wYXRoIl0sWzUyLCJyIiwiKHJlZGFjdGVkKSJdLFs1MiwicyIsWzgsIlRFWFQiLDAsIlVSTCIsMSwiUEFUSCIsMl1dLFs1MiwidCIsWzhdXSxbNTIsInUiLFsiYiIsIihbXFxcXF4kLnw/KisoKXt9XXxcXFt8XFxbKSIsImciXV0sWzUyLCJ5IiwiaHR0cDovLy4iXSxbImciLFsxNSwiaiJdLFs1MSwiIixbNywiYUYiXSxbMjIsWzE1LCJrIl0sWzQ2LFs1MyxbNTIsImFHIixbMixbMTUsImFGIl0sImdldEhpdEtleXMiLFs3XV1dLFs2NSwiYUgiLFsxNSwiYUciXSxbNDYsWzUzLFsyMixbMjAsWzE1LCJhSCJdLCJfc3N0X3BhcmFtZXRlcnMiXSxbNDYsWzZdXV0sWzUyLCJhSSIsWzIsWzE1LCJhRiJdLCJnZXRIaXREYXRhIixbNyxbMTUsImFIIl1dXV0sWzIyLFsyOCxbMTUsImFJIl1dLFs0NixbNl1dXSxbNTIsImFKIixbImFDIixbMTUsImFIIl1dXSxbNTIsImFLIixbImFEIixbMTUsImFJIl0sWzE1LCJhSiJdXV0sWzIyLFsyMSxbMTUsImFLIl0sWzQ0XV0sWzQ2LFs1MyxbMixbMTUsImFGIl0sInNldEhpdERhdGEiLFs3LFsxNSwiYUgiXSxbMTUsImFLIl1dXSxbImFFIixbMTUsImFGIl0sWzM5LFsyLFsxNSwiYUYiXSwiZ2V0TWV0YWRhdGEiLFs3LFsxNyxbMTUsImgiXSwiQkgiXV1dLFsxNyxbMTUsImkiXSwiVyJdLFsxNyxbMTUsImkiXSwiTyJdXV1dXV1dXV1dXV0sWzIyLFsxNyxbMTUsIm0iXSwibGVuZ3RoIl0sWzQ2LFs1MyxbNjUsImFHIixbMTUsInAiXSxbNDYsWzUzLFs1MiwiYUgiLFsyLFsxNSwiYUYiXSwiZ2V0SGl0RGF0YSIsWzcsWzE1LCJhRyJdXV1dLFsyMixbMjgsWzE1LCJhSCJdXSxbNDYsWzZdXV0sWzUyLCJhSSIsWzM5LFsyMCxbMTUsImFHIl0sWzE1LCJxIl1dLFsxNyxbMTUsInMiXSwiUEFUSCJdLFsxNyxbMTUsInMiXSwiVVJMIl1dXSxbNTIsImFKIixbIngiLFsxNSwiYUgiXSxbMTUsIm0iXSxbMTUsImFJIl1dXSxbMjIsWzIxLFsxNSwiYUoiXSxbMTUsImFIIl1dLFs0NixbNTMsWzIsWzE1LCJhRiJdLCJzZXRIaXREYXRhIixbNyxbMTUsImFHIl0sWzE1LCJhSiJdXV0sWyJhRSIsWzE1LCJhRiJdLFszOSxbMixbMTUsImFGIl0sImdldE1ldGFkYXRhIixbNyxbMTcsWzE1LCJoIl0sIkJIIl1dXSxbMTcsWzE1LCJpIl0sIlgiXSxbMTcsWzE1LCJpIl0sIlAiXV1dXV1dXV1dXV1dXV0sWzIsWzE1LCJhIl0sImd0bU9uU3VjY2VzcyIsWzddXV0KICxbNTAsIl9fY2NkX2NvbnZlcnNpb25fbWFya2luZyIsWzQ2LCJhIl0sWzIyLFszMCxbMjgsWzE3LFsxNSwiYSJdLCJjb252ZXJzaW9uUnVsZXMiXV0sWzIwLFsxNyxbMTcsWzE1LCJhIl0sImNvbnZlcnNpb25SdWxlcyJdLCJsZW5ndGgiXSwwXV0sWzQ2LFs1MyxbMixbMTUsImEiXSwiZ3RtT25TdWNjZXNzIixbN11dLFszNl1dXV0sWzUyLCJiIixbInJlcXVpcmUiLCJpbnRlcm5hbC5jb3B5UHJlSGl0Il1dLFs1MiwiYyIsWyJyZXF1aXJlIiwiaW50ZXJuYWwuZXZhbHVhdGVCb29sZWFuRXhwcmVzc2lvbiJdXSxbNTIsImQiLFsicmVxdWlyZSIsImludGVybmFsLnJlZ2lzdGVyQ2NkQ2FsbGJhY2siXV0sWzUyLCJlIixbMTUsIl9fbW9kdWxlX21ldGFkYXRhU2NoZW1hIl1dLFs1MiwiZiIsImZpcnN0X3Zpc2l0Il0sWzUyLCJnIiwic2Vzc2lvbl9zdGFydCJdLFs0MSwiaCJdLFs0MSwiaSJdLFsiZCIsWzE3LFsxNSwiYSJdLCJpbnN0YW5jZURlc3RpbmF0aW9uSWQiXSxbNTEsIiIsWzcsImoiXSxbNTIsImsiLFs4LCJwcmVIaXQiLFsxNSwiaiJdXV0sWzY1LCJsIixbMTcsWzE1LCJhIl0sImNvbnZlcnNpb25SdWxlcyJdLFs0NixbNTMsWzIyLFsiYyIsWzE3LFsxNSwibCJdLCJtYXRjaGluZ1J1bGVzIl0sWzE1LCJrIl1dLFs0NixbNTMsWzIsWzE1LCJqIl0sInNldE1ldGFkYXRhIixbNyxbMTcsWzE1LCJlIl0sIkFPIl0sdHJ1ZV1dLFs0XV1dXV1dXSxbMjIsWzIsWzE1LCJqIl0sImdldE1ldGFkYXRhIixbNyxbMTcsWzE1LCJlIl0sIkFUIl1dXSxbNDYsWzUzLFsyMixbMjgsWzE1LCJoIl1dLFs0NixbNTMsWzUyLCJsIixbImIiLFsxNSwiaiJdLFs4LCJvbWl0SGl0RGF0YSIsdHJ1ZSwib21pdE1ldGFkYXRhIix0cnVlXV1dLFsyLFsxNSwibCJdLCJzZXRFdmVudE5hbWUiLFs3LFsxNSwiZiJdXV0sWzMsImgiLFs4LCJwcmVIaXQiLFsxNSwibCJdXV1dXV0sWzY1LCJsIixbMTcsWzE1LCJhIl0sImNvbnZlcnNpb25SdWxlcyJdLFs0NixbNTMsWzIyLFsiYyIsWzE3LFsxNSwibCJdLCJtYXRjaGluZ1J1bGVzIl0sWzE1LCJoIl1dLFs0NixbNTMsWzIsWzE1LCJqIl0sInNldE1ldGFkYXRhIixbNyxbMTcsWzE1LCJlIl0sIkFVIl0sdHJ1ZV1dLFs0XV1dXV1dXV1dXSxbMjIsWzIsWzE1LCJqIl0sImdldE1ldGFkYXRhIixbNyxbMTcsWzE1LCJlIl0sIkJFIl1dXSxbNDYsWzUzLFsyMixbMjgsWzE1LCJpIl1dLFs0NixbNTMsWzUyLCJsIixbImIiLFsxNSwiaiJdLFs4LCJvbWl0SGl0RGF0YSIsdHJ1ZSwib21pdE1ldGFkYXRhIix0cnVlXV1dLFsyLFsxNSwibCJdLCJzZXRFdmVudE5hbWUiLFs3LFsxNSwiZyJdXV0sWzMsImkiLFs4LCJwcmVIaXQiLFsxNSwibCJdXV1dXV0sWzY1LCJsIixbMTcsWzE1LCJhIl0sImNvbnZlcnNpb25SdWxlcyJdLFs0NixbNTMsWzIyLFsiYyIsWzE3LFsxNSwibCJdLCJtYXRjaGluZ1J1bGVzIl0sWzE1LCJpIl1dLFs0NixbNTMsWzIsWzE1LCJqIl0sInNldE1ldGFkYXRhIixbNyxbMTcsWzE1LCJlIl0sIkJGIl0sdHJ1ZV1dLFs0XV1dXV1dXV1dXV1dLFsyLFsxNSwiYSJdLCJndG1PblN1Y2Nlc3MiLFs3XV0sWzM2XV0KICxbNTAsIl9fY2NkX2dhX2ZpcnN0IixbNDYsImEiXSxbNTAsImQiLFs0NiwiZSJdLFsyLFsxNSwiYyJdLCJBIixbNyxbMTUsImUiXV1dXSxbNTIsImIiLFsicmVxdWlyZSIsImludGVybmFsLnJlZ2lzdGVyQ2NkQ2FsbGJhY2siXV0sWzUyLCJjIixbMTUsIl9fbW9kdWxlX3Rhc2tQbGF0Zm9ybURldGVjdGlvbiJdXSxbImIiLFsxNyxbMTUsImEiXSwiaW5zdGFuY2VEZXN0aW5hdGlvbklkIl0sWzUxLCIiLFs3LCJlIl0sWyJkIixbMTUsImUiXV1dXSxbMixbMTUsImEiXSwiZ3RtT25TdWNjZXNzIixbN11dXQogLFs1MCwiX19jY2RfZ2FfbGFzdCIsWzQ2LCJhIl0sWzIsWzE1LCJhIl0sImd0bU9uU3VjY2VzcyIsWzddXV0KICxbNTAsIl9fY2NkX2dhX3JlZ3Njb3BlIixbNDYsImEiXSxbNTIsImIiLFsxNSwiX19tb2R1bGVfY2NkR2FSZWdpb25TY29wZWRTZXR0aW5ncyJdXSxbNTIsImMiLFsyLFsxNSwiYiJdLCJCIixbNyxbMTUsImEiXV1dXSxbMixbMTUsImIiXSwiQSIsWzcsWzE1LCJhIl0sWzE1LCJjIl1dXSxbMixbMTUsImEiXSwiZ3RtT25TdWNjZXNzIixbN11dXQogLFs1MCwiX19lIixbNDYsImEiXSxbMzYsWzEzLFs0MSwiJDAiXSxbMywiJDAiLFsicmVxdWlyZSIsImludGVybmFsLmdldEV2ZW50RGF0YSJdXSxbIiQwIiwiZXZlbnQiXV1dXQogLFs1MCwiX19nY3QiLFs0NiwiYSJdLFs1MCwiZyIsWzQ2LCJtIl0sWzUyLCJuIixbN11dLFs2NSwibyIsWzE1LCJtIl0sWzQ2LFs1MyxbNTIsInAiLFsiYiIsWzE1LCJvIl1dXSxbMjIsWzIxLFsxNSwicCJdLFs0NV1dLFs0NixbMixbMTUsIm4iXSwicHVzaCIsWzcsWzE1LCJwIl1dXV1dXV1dLFszNixbMTUsIm4iXV1dLFs1MCwiaCIsWzQ2LCJtIl0sWzUyLCJuIixbMTcsWzE1LCJtIl0sImxpbmtlciJdXSxbMjIsWzEsWzE1LCJuIl0sWzE2LFsxNSwibiJdLCJkb21haW5zIl1dLFs0NixbNTMsWzQzLFsxNSwibiJdLCJkb21haW5zIixbImciLFsxNixbMTUsIm4iXSwiZG9tYWlucyJdXV1dXV0sWzM2LFsxNSwibiJdXV0sWzUwLCJpIixbNDYsIm0iXSxbNTIsIm4iLFsxNyxbMTUsIm0iXSwicmVmZXJyYWxFeGNsdXNpb25EZWZpbml0aW9uIl1dLFsyMixbMSxbMTUsIm4iXSxbMTYsWzE1LCJuIl0sImluY2x1ZGVfY29uZGl0aW9ucyJdXSxbNDYsWzUzLFs0MyxbMTUsIm4iXSwiaW5jbHVkZV9jb25kaXRpb25zIixbImciLFsxNixbMTUsIm4iXSwiaW5jbHVkZV9jb25kaXRpb25zIl1dXV1dXSxbMzYsWzE1LCJuIl1dXSxbNTIsImIiLFsicmVxdWlyZSIsImludGVybmFsLmNyZWF0ZVJlZ2V4Il1dLFs1MiwiYyIsWyJyZXF1aXJlIiwiZ2V0VHlwZSJdXSxbNTIsImQiLFsicmVxdWlyZSIsImludGVybmFsLm1lcmdlUmVtb3RlQ29uZmlnIl1dLFs1MiwiZSIsWyJyZXF1aXJlIiwiaW50ZXJuYWwucmVnaXN0ZXJEZXN0aW5hdGlvbiJdXSxbNTIsImYiLFsicmVxdWlyZSIsInRlbXBsYXRlU3RvcmFnZSJdXSxbNTIsImoiLFszMCxbMixbMTUsImYiXSwiZ2V0SXRlbSIsWzcsInJlZ2V4Il1dLFsiYiIsIlsuKitcXC0/XiR7fSgpfFtcXF1cXFxcXSIsImciXV1dLFsyLFsxNSwiZiJdLCJzZXRJdGVtIixbNywicmVnZXgiLFsxNSwiaiJdXV0sWzUyLCJrIixbOF1dLFs1MiwibCIsWzE3LFsxNSwiYSJdLCJzZXNzaW9uRHVyYXRpb24iXV0sWzIyLFsxOCxbMTUsImwiXSwwXSxbNDYsWzUzLFs0MyxbMTUsImsiXSwic2Vzc2lvbl9kdXJhdGlvbiIsWzE1LCJsIl1dXV1dLFs0MyxbMTUsImsiXSwiZXZlbnRfc2V0dGluZ3MiLFsxNyxbMTUsImEiXSwiZXZlbnRTZXR0aW5ncyJdXSxbNDMsWzE1LCJrIl0sImR5bmFtaWNfZXZlbnRfc2V0dGluZ3MiLFsxNyxbMTUsImEiXSwiZHluYW1pY0V2ZW50U2V0dGluZ3MiXV0sWzQzLFsxNSwiayJdLCJnb29nbGVfc2lnbmFscyIsWzIwLFsxNyxbMTUsImEiXSwiZ29vZ2xlU2lnbmFscyJdLDFdXSxbNDMsWzE1LCJrIl0sImdvb2dsZV90bGQiLFsxNyxbMTUsImEiXSwiZm9yZWlnblRsZCJdXSxbNDMsWzE1LCJrIl0sImdhX3Jlc3RyaWN0X2RvbWFpbiIsWzIwLFsxNyxbMTUsImEiXSwicmVzdHJpY3REb21haW4iXSwxXV0sWzQzLFsxNSwiayJdLCJpbnRlcm5hbF90cmFmZmljX3Jlc3VsdHMiLFsxNyxbMTUsImEiXSwiaW50ZXJuYWxUcmFmZmljUmVzdWx0cyJdXSxbNDMsWzE1LCJrIl0sImxpbmtlciIsWyJoIixbMTUsImEiXV1dLFs0MyxbMTUsImsiXSwicmVmZXJyYWxfZXhjbHVzaW9uX2RlZmluaXRpb24iLFsiaSIsWzE1LCJhIl1dXSxbImQiLFsxNyxbMTUsImEiXSwidHJhY2tpbmdJZCJdLFsxNSwiayJdXSxbImUiLFsxNyxbMTUsImEiXSwidHJhY2tpbmdJZCJdXSxbMixbMTUsImEiXSwiZ3RtT25TdWNjZXNzIixbN11dXQogLFs1MCwiX19vZ3RfMXBfZGF0YV92MiIsWzQ2LCJhIl0sWzUwLCJxIixbNDYsInYiLCJ3Il0sWzUyLCJ4IixbN11dLFs1MiwieSIsWzIsWzE1LCJiIl0sImtleXMiLFs3LFsxNSwidiJdXV1dLFs2NSwieiIsWzE1LCJ5Il0sWzQ2LFs1MyxbNTIsImFBIixbMzAsWzE2LFsxNSwidiJdLFsxNSwieiJdXSxbN11dXSxbNTIsImFCIixbMzksWzE4LFsxNyxbMTUsImFBIl0sImxlbmd0aCJdLDBdLCIxIiwiMCJdXSxbNTIsImFDIixbMzksWyJyIixbMTUsInciXSxbMTUsInoiXV0sIjEiLCIwIl1dLFsyLFsxNSwieCJdLCJwdXNoIixbNyxbMCxbMCxbMCxbMTYsWzE1LCJwIl0sWzE1LCJ6Il1dLCItIl0sWzE1LCJhQiJdXSxbMTUsImFDIl1dXV1dXV0sWzM2LFsyLFsxNSwieCJdLCJqb2luIixbNywifiJdXV1dLFs1MCwiciIsWzQ2LCJ2IiwidyJdLFsyMixbMjgsWzE1LCJ2Il1dLFs0NixbNTMsWzM2LGZhbHNlXV1dXSxbMzgsWzE1LCJ3Il0sWzQ2LCJlbWFpbCIsInBob25lX251bWJlciIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJzdHJlZXQiLCJjaXR5IiwicmVnaW9uIiwicG9zdGFsX2NvZGUiLCJjb3VudHJ5Il0sWzQ2LFs1LFs0NixbMzYsWzI4LFsyOCxbMTYsWzE1LCJ2Il0sImVtYWlsIl1dXV1dXSxbNSxbNDYsWzM2LFsyOCxbMjgsWzE2LFsxNSwidiJdLCJwaG9uZV9udW1iZXIiXV1dXV1dLFs1LFs0Nl1dLFs1LFs0Nl1dLFs1LFs0Nl1dLFs1LFs0Nl1dLFs1LFs0Nl1dLFs1LFs0Nl1dLFs1LFs0NixbMzYsWyJzIixbMTUsInYiXSxbMTUsInciXV1dXV0sWzksWzQ2LFszNixmYWxzZV1dXV1dXSxbNTAsInMiLFs0NiwidiIsInciXSxbMzYsWzEsWzI4LFsyOCxbMTYsWzE1LCJ2Il0sImFkZHJlc3MiXV1dLFsyOCxbMjgsWzE2LFsxNixbMTUsInYiXSwiYWRkcmVzcyJdLFsxNSwidyJdXV1dXV1dLFs1MCwidCIsWzQ2LCJ2IiwidyIsIngiLCJ5Il0sWzIyLFsyMCxbMTYsWzE1LCJ3Il0sInR5cGUiXSxbMTUsIngiXV0sWzQ2LFs1MyxbMjIsWzI4LFsxNSwidiJdXSxbNDYsWzUzLFszLCJ2IixbOF1dXV1dLFsyMixbMjgsWzE2LFsxNSwidiJdLFsxNSwieCJdXV0sWzQ2LFs1MyxbNDMsWzE1LCJ2Il0sWzE1LCJ4Il0sWzE2LFsxNSwidyJdLCJ1c2VyRGF0YSJdXSxbNTIsInoiLFs4LCJtb2RlIiwiYSJdXSxbMjIsWzE2LFsxNSwidyJdLCJ0YWdOYW1lIl0sWzQ2LFs1MyxbNDMsWzE1LCJ6Il0sImxvY2F0aW9uIixbMTYsWzE1LCJ3Il0sInRhZ05hbWUiXV1dXV0sWzIyLFsxNixbMTUsInciXSwicXVlcnlTZWxlY3RvciJdLFs0NixbNTMsWzQzLFsxNSwieiJdLCJzZWxlY3RvciIsWzE2LFsxNSwidyJdLCJxdWVyeVNlbGVjdG9yIl1dXV1dLFs0MyxbMTUsInkiXSxbMTUsIngiXSxbMTUsInoiXV1dXV1dXV0sWzM2LFsxNSwidiJdXV0sWzUwLCJ1IixbNDYsInYiLCJ3IiwieCJdLFsyMixbMjgsWzE2LFsxNSwiYSJdLFsxNSwieCJdXV0sWzQ2LFszNl1dXSxbNDMsWzE1LCJ2Il0sWzE1LCJ3Il0sWzgsInZhbHVlIixbMTYsWzE1LCJhIl0sWzE1LCJ4Il1dXV1dLFsyMixbMjgsWzE3LFsxNSwiYSJdLCJpc0VuYWJsZWQiXV0sWzQ2LFs1MyxbMixbMTUsImEiXSwiZ3RtT25TdWNjZXNzIixbN11dLFszNl1dXV0sWzUyLCJiIixbInJlcXVpcmUiLCJPYmplY3QiXV0sWzUyLCJjIixbInJlcXVpcmUiLCJpbnRlcm5hbC5pc0ZlYXR1cmVFbmFibGVkIl1dLFs1MiwiZCIsWzE1LCJfX21vZHVsZV9mZWF0dXJlRmxhZ3MiXV0sWzUyLCJlIixbInJlcXVpcmUiLCJpbnRlcm5hbC5nZXREZXN0aW5hdGlvbklkcyJdXSxbNTIsImYiLFsicmVxdWlyZSIsImludGVybmFsLmdldFByb2R1Y3RTZXR0aW5nc1BhcmFtZXRlciJdXSxbNTIsImciLFsicmVxdWlyZSIsImludGVybmFsLmRldGVjdFVzZXJQcm92aWRlZERhdGEiXV0sWzUyLCJoIixbInJlcXVpcmUiLCJxdWVyeVBlcm1pc3Npb24iXV0sWzUyLCJpIixbInJlcXVpcmUiLCJpbnRlcm5hbC5zZXRSZW1vdGVDb25maWdQYXJhbWV0ZXIiXV0sWzUyLCJqIixbInJlcXVpcmUiLCJpbnRlcm5hbC5yZWdpc3RlckNjZENhbGxiYWNrIl1dLFs1MiwiayIsWzE1LCJfX21vZHVsZV9tZXRhZGF0YVNjaGVtYSJdXSxbNTIsImwiLCJfeiJdLFs1MiwibSIsWyJjIixbMTcsWzE1LCJkIl0sIkJVIl1dXSxbNTIsIm4iLFszMCxbImUiXSxbN11dXSxbNTIsIm8iLFs4LCJlbmFibGVfY29kZSIsdHJ1ZV1dLFs1MiwicCIsWzgsImVtYWlsIiwiMSIsInBob25lX251bWJlciIsIjIiLCJmaXJzdF9uYW1lIiwiMyIsImxhc3RfbmFtZSIsIjQiLCJjb3VudHJ5IiwiNSIsInBvc3RhbF9jb2RlIiwiNiIsInN0cmVldCIsIjciLCJjaXR5IiwiOCIsInJlZ2lvbiIsIjkiXV0sWzIyLFsxNyxbMTUsImEiXSwiaXNBdXRvRW5hYmxlZCJdLFs0NixbNTMsWzUyLCJ2IixbN11dLFsyMixbMSxbMTcsWzE1LCJhIl0sImF1dG9Db2xsZWN0RXhjbHVzaW9uU2VsZWN0b3JzIl0sWzE3LFsxNyxbMTUsImEiXSwiYXV0b0NvbGxlY3RFeGNsdXNpb25TZWxlY3RvcnMiXSwibGVuZ3RoIl1dLFs0NixbNTMsWzUzLFs0MSwieSJdLFszLCJ5IiwwXSxbNjMsWzcsInkiXSxbMjMsWzE1LCJ5Il0sWzE3LFsxNyxbMTUsImEiXSwiYXV0b0NvbGxlY3RFeGNsdXNpb25TZWxlY3RvcnMiXSwibGVuZ3RoIl1dLFszMyxbMTUsInkiXSxbMywieSIsWzAsWzE1LCJ5Il0sMV1dXSxbNDYsWzUzLFs1MiwieiIsWzE3LFsxNixbMTcsWzE1LCJhIl0sImF1dG9Db2xsZWN0RXhjbHVzaW9uU2VsZWN0b3JzIl0sWzE1LCJ5Il1dLCJleGNsdXNpb25TZWxlY3RvciJdXSxbMjIsWzE1LCJ6Il0sWzQ2LFs1MyxbMixbMTUsInYiXSwicHVzaCIsWzcsWzE1LCJ6Il1dXV1dXV1dXV1dXV0sWzUyLCJ3IixbMzAsWyJjIixbMTcsWzE1LCJkIl0sIk4iXV0sWzE3LFsxNSwiYSJdLCJpc0F1dG9Db2xsZWN0UGlpRW5hYmxlZEZsYWciXV1dLFs1MiwieCIsWzM5LFsxNyxbMTUsImEiXSwiaXNBdXRvQ29sbGVjdFBpaUVuYWJsZWRGbGFnIl0sWzE3LFsxNSwiYSJdLCJhdXRvRW1haWxFbmFibGVkIl0sdHJ1ZV1dLFs0MyxbMTUsIm8iXSwiYXV0b19kZXRlY3QiLFs4LCJlbWFpbCIsWzE1LCJ4Il0sInBob25lIixbMSxbMTUsInciXSxbMTcsWzE1LCJhIl0sImF1dG9QaG9uZUVuYWJsZWQiXV0sImFkZHJlc3MiLFsxLFsxNSwidyJdLFsxNyxbMTUsImEiXSwiYXV0b0FkZHJlc3NFbmFibGVkIl1dLCJleGNsdWRlX2VsZW1lbnRfc2VsZWN0b3JzIixbMTUsInYiXV1dXV1dLFsyMixbMTcsWzE1LCJhIl0sImlzTWFudWFsRW5hYmxlZCJdLFs0NixbNTMsWzUyLCJ2IixbOF1dLFsyMixbMTcsWzE1LCJhIl0sIm1hbnVhbEVtYWlsRW5hYmxlZCJdLFs0NixbNTMsWyJ1IixbMTUsInYiXSwiZW1haWwiLCJlbWFpbFZhbHVlIl1dXV0sWzIyLFsxNyxbMTUsImEiXSwibWFudWFsUGhvbmVFbmFibGVkIl0sWzQ2LFs1MyxbInUiLFsxNSwidiJdLCJwaG9uZSIsInBob25lVmFsdWUiXV1dXSxbMjIsWzE3LFsxNSwiYSJdLCJtYW51YWxBZGRyZXNzRW5hYmxlZCJdLFs0NixbNTMsWzUyLCJ3IixbOF1dLFsidSIsWzE1LCJ3Il0sImZpcnN0X25hbWUiLCJmaXJzdE5hbWVWYWx1ZSJdLFsidSIsWzE1LCJ3Il0sImxhc3RfbmFtZSIsImxhc3ROYW1lVmFsdWUiXSxbInUiLFsxNSwidyJdLCJzdHJlZXQiLCJzdHJlZXRWYWx1ZSJdLFsidSIsWzE1LCJ3Il0sImNpdHkiLCJjaXR5VmFsdWUiXSxbInUiLFsxNSwidyJdLCJyZWdpb24iLCJyZWdpb25WYWx1ZSJdLFsidSIsWzE1LCJ3Il0sImNvdW50cnkiLCJjb3VudHJ5VmFsdWUiXSxbInUiLFsxNSwidyJdLCJwb3N0YWxfY29kZSIsInBvc3RhbENvZGVWYWx1ZSJdLFs0MyxbMTUsInYiXSwibmFtZV9hbmRfYWRkcmVzcyIsWzcsWzE1LCJ3Il1dXV1dXSxbNDMsWzE1LCJvIl0sInNlbGVjdG9ycyIsWzE1LCJ2Il1dXV1dLFs2NSwidiIsWzE1LCJuIl0sWzQ2LFs1MyxbImkiLFsxNSwidiJdLCJ1c2VyX2RhdGFfc2V0dGluZ3MiLFsxNSwibyJdXSxbNTIsInciLFsxNixbMTUsIm8iXSwiYXV0b19kZXRlY3QiXV0sWzIyLFsyOCxbMTUsInciXV0sWzQ2LFs1MyxbNl1dXV0sWzUyLCJ4IixbNTEsIiIsWzcsInkiXSxbNTIsInoiLFsyLFsxNSwieSJdLCJnZXRNZXRhZGF0YSIsWzcsWzE3LFsxNSwiayJdLCJDSyJdXV1dLFsyMixbMTUsInoiXSxbNDYsWzUzLFszNixbMTUsInoiXV1dXV0sWzUyLCJhQSIsWzEsWyJjIixbMTcsWzE1LCJkIl0sIkJBIl1dLFsyMCxbMixbMTUsInYiXSwiaW5kZXhPZiIsWzcsIkctIl1dLDBdXV0sWzQxLCJhQiJdLFsyMixbImgiLCJkZXRlY3RfdXNlcl9wcm92aWRlZF9kYXRhIiwiYXV0byJdLFs0NixbNTMsWzMsImFCIixbImciLFs4LCJleGNsdWRlRWxlbWVudFNlbGVjdG9ycyIsWzE2LFsxNSwidyJdLCJleGNsdWRlX2VsZW1lbnRfc2VsZWN0b3JzIl0sImZpZWxkRmlsdGVycyIsWzgsImVtYWlsIixbMTYsWzE1LCJ3Il0sImVtYWlsIl0sInBob25lIixbMTYsWzE1LCJ3Il0sInBob25lIl0sImFkZHJlc3MiLFsxNixbMTUsInciXSwiYWRkcmVzcyJdXSwicGVyZm9ybURhdGFMYXllclNlYXJjaCIsWzE1LCJhQSJdXV1dXV1dLFs1MiwiYUMiLFsxLFsxNSwiYUIiXSxbMTYsWzE1LCJhQiJdLCJlbGVtZW50cyJdXV0sWzUyLCJhRCIsWzhdXSxbNTIsImFFIixbOF1dLFsyMixbMSxbMTUsImFDIl0sWzE4LFsxNyxbMTUsImFDIl0sImxlbmd0aCJdLDBdXSxbNDYsWzUzLFs0MSwiYUYiXSxbNDEsImFHIl0sWzMsImFHIixbOF1dLFs1MyxbNDEsImFIIl0sWzMsImFIIiwwXSxbNjMsWzcsImFIIl0sWzIzLFsxNSwiYUgiXSxbMTcsWzE1LCJhQyJdLCJsZW5ndGgiXV0sWzMzLFsxNSwiYUgiXSxbMywiYUgiLFswLFsxNSwiYUgiXSwxXV1dLFs0NixbNTMsWzUyLCJhSSIsWzE2LFsxNSwiYUMiXSxbMTUsImFIIl1dXSxbInQiLFsxNSwiYUQiXSxbMTUsImFJIl0sImVtYWlsIixbMTUsImFFIl1dLFsyMixbImMiLFsxNyxbMTUsImQiXSwiTyJdXSxbNDYsWzUzLFsidCIsWzE1LCJhRCJdLFsxNSwiYUkiXSwicGhvbmVfbnVtYmVyIixbMTUsImFFIl1dLFszLCJhRiIsWyJ0IixbMTUsImFGIl0sWzE1LCJhSSJdLCJmaXJzdF9uYW1lIixbMTUsImFHIl1dXSxbMywiYUYiLFsidCIsWzE1LCJhRiJdLFsxNSwiYUkiXSwibGFzdF9uYW1lIixbMTUsImFHIl1dXSxbMywiYUYiLFsidCIsWzE1LCJhRiJdLFsxNSwiYUkiXSwiY291bnRyeSIsWzE1LCJhRyJdXV0sWzMsImFGIixbInQiLFsxNSwiYUYiXSxbMTUsImFJIl0sInBvc3RhbF9jb2RlIixbMTUsImFHIl1dXV1dXV1dXV0sWzIyLFsxLFsxNSwiYUYiXSxbMjgsWzE2LFsxNSwiYUQiXSwiYWRkcmVzcyJdXV0sWzQ2LFs1MyxbNDMsWzE1LCJhRCJdLCJhZGRyZXNzIixbMTUsImFGIl1dLFsyMixbMTUsIm0iXSxbNDYsWzUzLFs0MyxbMTYsWzE1LCJhRCJdLCJhZGRyZXNzIl0sIl90YWdfbWV0YWRhdGEiLFsxNSwiYUciXV1dXV1dXV1dXV0sWzIyLFsxNSwiYUEiXSxbNDYsWzUzLFs1MiwiYUYiLFsxLFsxNSwiYUIiXSxbMTYsWzE1LCJhQiJdLCJkYXRhTGF5ZXJTZWFyY2hSZXN1bHRzIl1dXSxbMjIsWzE1LCJhRiJdLFs0NixbNTMsWzUyLCJhRyIsWyJxIixbMTUsImFGIl0sWzE1LCJhRCJdXV0sWzIyLFsxNSwiYUciXSxbNDYsWzUzLFsyLFsxNSwieSJdLCJzZXRIaXREYXRhIixbNyxbMTUsImwiXSxbMTUsImFHIl1dXV1dXV1dXV1dXSxbMjIsWzE1LCJtIl0sWzQ2LFs1MyxbMjIsWzMwLFsxNixbMTUsImFEIl0sImVtYWlsIl0sWzE2LFsxNSwiYUQiXSwicGhvbmVfbnVtYmVyIl1dLFs0NixbNTMsWzQzLFsxNSwiYUQiXSwiX3RhZ19tZXRhZGF0YSIsWzE1LCJhRSJdXV1dXV1dXSxbMixbMTUsInkiXSwic2V0TWV0YWRhdGEiLFs3LFsxNyxbMTUsImsiXSwiQ0siXSxbMTUsImFEIl1dXSxbMzYsWzE1LCJhRCJdXV1dLFsiaiIsWzE1LCJ2Il0sWzUxLCIiLFs3LCJ5Il0sWzIsWzE1LCJ5Il0sInNldE1ldGFkYXRhIixbNyxbMTcsWzE1LCJrIl0sIkNMIl0sWzE1LCJ4Il1dXV1dXV1dLFsyLFsxNSwiYSJdLCJndG1PblN1Y2Nlc3MiLFs3XV1dCiAsWzUwLCJfX29ndF9nYV9zZW5kIixbNDYsImEiXSxbNTAsImgiLFs0NiwiaSIsImoiLCJrIiwibCJdLFsyMixbMjEsWzE2LFsxNSwiaSJdLFsxNSwiaiJdXSxbNDRdXSxbNDYsWzUzLFs0MyxbMTUsImsiXSxbMTUsImwiXSxbMTYsWzE1LCJpIl0sWzE1LCJqIl1dXV1dXV0sWzIyLFsyOCxbMTcsWzE1LCJhIl0sInZhbHVlIl1dLFs0NixbNTMsWzIsWzE1LCJhIl0sImd0bU9uU3VjY2VzcyIsWzddXSxbMzZdXV1dLFs1MiwiYiIsWyJyZXF1aXJlIiwiZ2V0Q29udGFpbmVyVmVyc2lvbiJdXSxbNTIsImMiLFsicmVxdWlyZSIsImludGVybmFsLmdldERlc3RpbmF0aW9uSWRzIl1dLFs1MiwiZCIsWyJyZXF1aXJlIiwiaW50ZXJuYWwuc2VuZEd0YWdFdmVudCJdXSxbNTIsImUiLFsicmVxdWlyZSIsImludGVybmFsLmFkZEdhU2VuZExpc3RlbmVyIl1dLFs1MiwiZiIsWzE1LCJfX21vZHVsZV9nb2xkRXZlbnRVc2FnZUlkIl1dLFs0MSwiZyJdLFszLCJnIixbImMiXV0sWzIyLFszMCxbMjgsWzE1LCJnIl1dLFsyMCxbMTcsWzE1LCJnIl0sImxlbmd0aCJdLDBdXSxbNDYsWzUzLFszLCJnIixbNyxbMTcsWyJiIl0sImNvbnRhaW5lcklkIl1dXV1dXSxbImUiLFs1MSwiIixbNywiaSIsImoiXSxbNDEsImsiXSxbNDEsImwiXSxbMywibCIsWzhdXSxbMjIsWzIwLFsxNSwiaSJdLCJldmVudCJdLFs0NixbNTMsWzMsImsiLFsxNixbMTUsImoiXSwiZXZlbnRBY3Rpb24iXV0sWyJoIixbMTUsImoiXSwiZXZlbnRDYXRlZ29yeSIsWzE1LCJsIl0sImV2ZW50X2NhdGVnb3J5Il0sWyJoIixbMTUsImoiXSwiZXZlbnRMYWJlbCIsWzE1LCJsIl0sImV2ZW50X2xhYmVsIl0sWyJoIixbMTUsImoiXSwiZXZlbnRWYWx1ZSIsWzE1LCJsIl0sInZhbHVlIl1dXSxbNDYsWzIyLFsyMCxbMTUsImkiXSwiZXhjZXB0aW9uIl0sWzQ2LFs1MyxbMywiayIsImV4Y2VwdGlvbiJdLFsiaCIsWzE1LCJqIl0sImV4RGVzY3JpcHRpb24iLFsxNSwibCJdLCJkZXNjcmlwdGlvbiJdLFsiaCIsWzE1LCJqIl0sImV4RmF0YWwiLFsxNSwibCJdLCJmYXRhbCJdXV0sWzQ2LFsyMixbMjAsWzE1LCJpIl0sInRpbWluZyJdLFs0NixbNTMsWzIyLFszMCxbMzAsWzIwLFsxNixbMTUsImoiXSwidGltaW5nQ2F0ZWdvcnkiXSxbNDRdXSxbMjAsWzE2LFsxNSwiaiJdLCJ0aW1pbmdWYXIiXSxbNDRdXV0sWzIwLFsxNixbMTUsImoiXSwidGltaW5nVmFsdWUiXSxbNDRdXV0sWzQ2LFs1MyxbMzZdXV1dLFszLCJrIiwidGltaW5nX2NvbXBsZXRlIl0sWyJoIixbMTUsImoiXSwidGltaW5nQ2F0ZWdvcnkiLFsxNSwibCJdLCJldmVudF9jYXRlZ29yeSJdLFsiaCIsWzE1LCJqIl0sInRpbWluZ1ZhciIsWzE1LCJsIl0sIm5hbWUiXSxbImgiLFsxNSwiaiJdLCJ0aW1pbmdWYWx1ZSIsWzE1LCJsIl0sInZhbHVlIl0sWyJoIixbMTUsImoiXSwidGltaW5nTGFiZWwiLFsxNSwibCJdLCJldmVudF9sYWJlbCJdXV1dXV1dXSxbMjIsWzIxLFsxNSwiayJdLFs0NF1dLFs0NixbNTMsWzUyLCJtIixbOCwiZXZlbnRNZXRhZGF0YSIsWzgsImV2ZW50X3VzYWdlIixbNyxbMTcsWzE1LCJmIl0sIkciXV1dLCJldmVudElkIixbMTcsWzE1LCJhIl0sImd0bUV2ZW50SWQiXSwibm9HdG1FdmVudCIsdHJ1ZV1dLFs2NSwibiIsWzE1LCJnIl0sWzQ2LFs1MyxbMjIsWzIwLFsyLFsxNSwibiJdLCJpbmRleE9mIixbNywiRy0iXV0sMF0sWzQ2LFs1MyxbImQiLFsxNSwibiJdLFsxNSwiayJdLFsxNSwibCJdLFsxNSwibSJdXV1dXV1dXV1dXV1dLFsyLFsxNSwiYSJdLCJndG1PblN1Y2Nlc3MiLFs3XV1dCiAsWzUwLCJfX29ndF9nb29nbGVfc2lnbmFscyIsWzQ2LCJhIl0sWzUyLCJiIixbInJlcXVpcmUiLCJpbnRlcm5hbC5zZXRQcm9kdWN0U2V0dGluZ3NQYXJhbWV0ZXIiXV0sWzUyLCJjIixbInJlcXVpcmUiLCJnZXRDb250YWluZXJWZXJzaW9uIl1dLFs1MiwiZCIsWzMwLFsxNyxbMTUsImEiXSwiaW5zdGFuY2VEZXN0aW5hdGlvbklkIl0sWzE3LFsiYyJdLCJjb250YWluZXJJZCJdXV0sWyJiIixbMTUsImQiXSwiZ29vZ2xlX3NpZ25hbHMiLFsyMCxbMTcsWzE1LCJhIl0sImdvb2dsZVNpZ25hbHMiXSwiRU5BQkxFRCJdXSxbImIiLFsxNSwiZCJdLCJnb29nbGVfbmciLFsyMCxbMTcsWzE1LCJhIl0sImdvb2dsZVNpZ25hbHMiXSwiTk9OX0dBSUFfUkVNQVJLRVRJTkciXV0sWzIsWzE1LCJhIl0sImd0bU9uU3VjY2VzcyIsWzddXV0KICxbNTAsIl9fb2d0X3JlZmVycmFsX2V4Y2x1c2lvbiIsWzQ2LCJhIl0sWzUyLCJiIixbMTUsIl9fbW9kdWxlX2NvbnZlcnREb21haW5Db25kaXRpb25zIl1dLFs1MiwiYyIsWyJyZXF1aXJlIiwiaW50ZXJuYWwuZ2V0RGVzdGluYXRpb25JZHMiXV0sWzUyLCJkIixbInJlcXVpcmUiLCJpbnRlcm5hbC5zZXRSZW1vdGVDb25maWdQYXJhbWV0ZXIiXV0sWzIyLFsxNyxbMTUsImEiXSwiaW5jbHVkZUNvbmRpdGlvbnMiXSxbNDYsWzUzLFs0MSwiZSJdLFszLCJlIixbMzAsWyJjIl0sWzddXV0sWzY1LCJmIixbMTUsImUiXSxbNDYsWzUzLFs0MSwiZyJdLFszLCJnIixbMTcsWzE1LCJhIl0sImluY2x1ZGVDb25kaXRpb25zIl1dLFsyMixbMTcsWzE1LCJnIl0sImxlbmd0aCJdLFs0NixbNTMsWzMsImciLFsyLFsxNSwiYiJdLCJBIixbNyxbMTUsImciXV1dXSxbImQiLFsxNSwiZiJdLCJyZWZlcnJhbF9leGNsdXNpb25fZGVmaW5pdGlvbiIsWzgsImluY2x1ZGVfY29uZGl0aW9ucyIsWzE1LCJnIl1dXV1dXV1dXV1dXSxbMixbMTUsImEiXSwiZ3RtT25TdWNjZXNzIixbN11dXQogLFs1MCwiX19vZ3Rfc2Vzc2lvbl90aW1lb3V0IixbNDYsImEiXSxbNTIsImIiLFsicmVxdWlyZSIsImludGVybmFsLmdldERlc3RpbmF0aW9uSWRzIl1dLFs1MiwiYyIsWyJyZXF1aXJlIiwibWFrZU51bWJlciJdXSxbNTIsImQiLFsicmVxdWlyZSIsImludGVybmFsLnNldFJlbW90ZUNvbmZpZ1BhcmFtZXRlciJdXSxbNDEsImUiXSxbMywiZSIsWzMwLFsiYiJdLFs3XV1dLFs1MiwiZiIsWzMwLFsiYyIsWzE3LFsxNSwiYSJdLCJzZXNzaW9uSG91cnMiXV0sMF1dLFs1MiwiZyIsWzMwLFsiYyIsWzE3LFsxNSwiYSJdLCJzZXNzaW9uTWludXRlcyJdXSwwXV0sWzIyLFszMCxbMTUsImYiXSxbMTUsImciXV0sWzQ2LFs1MyxbNTIsImkiLFswLFsyNixbMTUsImYiXSw2MF0sWzE1LCJnIl1dXSxbNjUsImoiLFsxNSwiZSJdLFs0NixbNTMsWyJkIixbMTUsImoiXSwic2Vzc2lvbl9kdXJhdGlvbiIsWzE1LCJpIl1dXV1dXV1dLFs1MiwiaCIsWzMwLFsiYyIsWzE3LFsxNSwiYSJdLCJlbmdhZ2VtZW50U2Vjb25kcyJdXSwwXV0sWzIyLFsxNSwiaCJdLFs0NixbNTMsWzUyLCJpIixbMjYsWzE1LCJoIl0sMTAwMF1dLFs2NSwiaiIsWzE1LCJlIl0sWzQ2LFs1MyxbImQiLFsxNSwiaiJdLCJzZXNzaW9uX2VuZ2FnZWRfdGltZSIsWzE1LCJpIl1dXV1dXV1dLFsyLFsxNSwiYSJdLCJndG1PblN1Y2Nlc3MiLFs3XV1dCiAsWzUwLCJfX3NldF9wcm9kdWN0X3NldHRpbmdzIixbNDYsImEiXSxbMixbMTUsImEiXSwiZ3RtT25TdWNjZXNzIixbN11dXQogLFs1MiwiX19tb2R1bGVfZ3RhZ1NjaGVtYSIsWzEzLFs0MSwiJDAiXSxbMywiJDAiLFs1MSwiIixbN10sWzUwLCJhIixbNDZdLFs1MiwiYiIsImFkX3BlcnNvbmFsaXphdGlvbiJdLFs1MiwiYyIsImFkX3N0b3JhZ2UiXSxbNTIsImQiLCJhZF91c2VyX2RhdGEiXSxbNTIsImUiLCJjb25zZW50X3VwZGF0ZWQiXSxbNTIsImYiLCJhcHBfcmVtb3ZlIl0sWzUyLCJnIiwiYXBwX3N0b3JlX3JlZnVuZCJdLFs1MiwiaCIsImFwcF9zdG9yZV9zdWJzY3JpcHRpb25fY2FuY2VsIl0sWzUyLCJpIiwiYXBwX3N0b3JlX3N1YnNjcmlwdGlvbl9jb252ZXJ0Il0sWzUyLCJqIiwiYXBwX3N0b3JlX3N1YnNjcmlwdGlvbl9yZW5ldyJdLFs1MiwiayIsImNvbnZlcnNpb24iXSxbNTIsImwiLCJwdXJjaGFzZSJdLFs1MiwibSIsImZpcnN0X29wZW4iXSxbNTIsIm4iLCJmaXJzdF92aXNpdCJdLFs1MiwibyIsImd0YWcuY29uZmlnIl0sWzUyLCJwIiwiaW5fYXBwX3B1cmNoYXNlIl0sWzUyLCJxIiwicGFnZV92aWV3Il0sWzUyLCJyIiwic2Vzc2lvbl9zdGFydCJdLFs1MiwicyIsInVzZXJfZW5nYWdlbWVudCJdLFs1MiwidCIsImFkc19kYXRhX3JlZGFjdGlvbiJdLFs1MiwidSIsImFsbG93X2FkX3BlcnNvbmFsaXphdGlvbl9zaWduYWxzIl0sWzUyLCJ2IiwiYWxsb3dfY3VzdG9tX3NjcmlwdHMiXSxbNTIsInciLCJhbGxvd19kaXJlY3RfZ29vZ2xlX3JlcXVlc3RzIl0sWzUyLCJ4IiwiYWxsb3dfZW5oYW5jZWRfY29udmVyc2lvbnMiXSxbNTIsInkiLCJhbGxvd19nb29nbGVfc2lnbmFscyJdLFs1MiwieiIsImF1aWQiXSxbNTIsImFBIiwiYXdfcmVtYXJrZXRpbmdfb25seSJdLFs1MiwiYUIiLCJkaXNjb3VudCJdLFs1MiwiYUMiLCJhd19mZWVkX2NvdW50cnkiXSxbNTIsImFEIiwiYXdfZmVlZF9sYW5ndWFnZSJdLFs1MiwiYUUiLCJpdGVtcyJdLFs1MiwiYUYiLCJhd19tZXJjaGFudF9pZCJdLFs1MiwiYUciLCJhd19iYXNrZXRfdHlwZSJdLFs1MiwiYUgiLCJjbGllbnRfaWQiXSxbNTIsImFJIiwiY29udmVyc2lvbl9jb29raWVfcHJlZml4Il0sWzUyLCJhSiIsImNvbnZlcnNpb25faWQiXSxbNTIsImFLIiwiY29udmVyc2lvbl9saW5rZXIiXSxbNTIsImFMIiwiY29udmVyc2lvbl9hcGkiXSxbNTIsImFNIiwiY29va2llX2RlcHJlY2F0aW9uIl0sWzUyLCJhTiIsImNvb2tpZV9leHBpcmVzIl0sWzUyLCJhTyIsImNvb2tpZV9wcmVmaXgiXSxbNTIsImFQIiwiY29va2llX3VwZGF0ZSJdLFs1MiwiYVEiLCJjb3VudHJ5Il0sWzUyLCJhUiIsImN1cnJlbmN5Il0sWzUyLCJhUyIsImN1c3RvbWVyX2J1eWVyX3N0YWdlIl0sWzUyLCJhVCIsImN1c3RvbWVyX2xpZmV0aW1lX3ZhbHVlIl0sWzUyLCJhVSIsImN1c3RvbWVyX2xveWFsdHkiXSxbNTIsImFWIiwiY3VzdG9tZXJfbHR2X2J1Y2tldCJdLFs1MiwiYVciLCJkZWJ1Z19tb2RlIl0sWzUyLCJhWCIsImRldmVsb3Blcl9pZCJdLFs1MiwiYVkiLCJzaGlwcGluZyJdLFs1MiwiYVoiLCJlbmdhZ2VtZW50X3RpbWVfbXNlYyJdLFs1MiwiYkEiLCJlc3RpbWF0ZWRfZGVsaXZlcnlfZGF0ZSJdLFs1MiwiYkIiLCJldmVudF9kZXZlbG9wZXJfaWRfc3RyaW5nIl0sWzUyLCJiQyIsImV2ZW50Il0sWzUyLCJiRCIsImV2ZW50X3RpbWVvdXQiXSxbNTIsImJFIiwiZmlyc3RfcGFydHlfY29sbGVjdGlvbiJdLFs1MiwiYkYiLCJtYXRjaF9pZCJdLFs1MiwiYkciLCJnZHByX2FwcGxpZXMiXSxbNTIsImJIIiwiZ29vZ2xlX2FuYWx5c2lzX3BhcmFtcyJdLFs1MiwiYkkiLCJfZ29vZ2xlX25nIl0sWzUyLCJiSiIsImdwcF9zaWQiXSxbNTIsImJLIiwiZ3BwX3N0cmluZyJdLFs1MiwiYkwiLCJnc2FfZXhwZXJpbWVudF9pZCJdLFs1MiwiYk0iLCJndGFnX2V2ZW50X2ZlYXR1cmVfdXNhZ2UiXSxbNTIsImJOIiwiaWZyYW1lX3N0YXRlIl0sWzUyLCJiTyIsImlnbm9yZV9yZWZlcnJlciJdLFs1MiwiYlAiLCJpc19wYXNzdGhyb3VnaCJdLFs1MiwiYlEiLCJsYW5ndWFnZSJdLFs1MiwiYlIiLCJtZXJjaGFudF9mZWVkX2xhYmVsIl0sWzUyLCJiUyIsIm1lcmNoYW50X2ZlZWRfbGFuZ3VhZ2UiXSxbNTIsImJUIiwibWVyY2hhbnRfaWQiXSxbNTIsImJVIiwibmV3X2N1c3RvbWVyIl0sWzUyLCJiViIsInBhZ2VfaG9zdG5hbWUiXSxbNTIsImJXIiwicGFnZV9wYXRoIl0sWzUyLCJiWCIsInBhZ2VfcmVmZXJyZXIiXSxbNTIsImJZIiwicGFnZV90aXRsZSJdLFs1MiwiYloiLCJfcGxhdGludW1fcmVxdWVzdF9zdGF0dXMiXSxbNTIsImNBIiwicXVhbnRpdHkiXSxbNTIsImNCIiwicmVzdHJpY3RlZF9kYXRhX3Byb2Nlc3NpbmciXSxbNTIsImNDIiwic2NyZWVuX3Jlc29sdXRpb24iXSxbNTIsImNEIiwic2VuZF9wYWdlX3ZpZXciXSxbNTIsImNFIiwic2VydmVyX2NvbnRhaW5lcl91cmwiXSxbNTIsImNGIiwic2Vzc2lvbl9kdXJhdGlvbiJdLFs1MiwiY0ciLCJzZXNzaW9uX2VuZ2FnZWRfdGltZSJdLFs1MiwiY0giLCJzZXNzaW9uX2lkIl0sWzUyLCJjSSIsIl9zaGFyZWRfdXNlcl9pZCJdLFs1MiwiY0oiLCJkZWxpdmVyeV9wb3N0YWxfY29kZSJdLFs1MiwiY0siLCJ0b3Btb3N0X3VybCJdLFs1MiwiY0wiLCJ0cmFuc2FjdGlvbl9pZCJdLFs1MiwiY00iLCJ0cmFuc2FjdGlvbl9pZF9zb3VyY2UiXSxbNTIsImNOIiwidHJhbnNwb3J0X3VybCJdLFs1MiwiY08iLCJ1cGRhdGUiXSxbNTIsImNQIiwiX3VzZXJfYWdlbnRfYXJjaGl0ZWN0dXJlIl0sWzUyLCJjUSIsIl91c2VyX2FnZW50X2JpdG5lc3MiXSxbNTIsImNSIiwiX3VzZXJfYWdlbnRfZnVsbF92ZXJzaW9uX2xpc3QiXSxbNTIsImNTIiwiX3VzZXJfYWdlbnRfbW9iaWxlIl0sWzUyLCJjVCIsIl91c2VyX2FnZW50X21vZGVsIl0sWzUyLCJjVSIsIl91c2VyX2FnZW50X3BsYXRmb3JtIl0sWzUyLCJjViIsIl91c2VyX2FnZW50X3BsYXRmb3JtX3ZlcnNpb24iXSxbNTIsImNXIiwiX3VzZXJfYWdlbnRfd293NjQiXSxbNTIsImNYIiwidXNlcl9kYXRhIl0sWzUyLCJjWSIsInVzZXJfZGF0YV9hdXRvX2xhdGVuY3kiXSxbNTIsImNaIiwidXNlcl9kYXRhX2F1dG9fbWV0YSJdLFs1MiwiZEEiLCJ1c2VyX2RhdGFfYXV0b19tdWx0aSJdLFs1MiwiZEIiLCJ1c2VyX2RhdGFfYXV0b19zZWxlY3RvcnMiXSxbNTIsImRDIiwidXNlcl9kYXRhX2F1dG9fc3RhdHVzIl0sWzUyLCJkRCIsInVzZXJfZGF0YV9tb2RlIl0sWzUyLCJkRSIsInVzZXJfaWQiXSxbNTIsImRGIiwidXNlcl9wcm9wZXJ0aWVzIl0sWzUyLCJkRyIsInVzX3ByaXZhY3lfc3RyaW5nIl0sWzUyLCJkSCIsInZhbHVlIl0sWzUyLCJkSSIsIl9mcG1fcGFyYW1ldGVycyJdLFs1MiwiZEoiLCJfaG9zdF9uYW1lIl0sWzUyLCJkSyIsIl9pbl9wYWdlX2NvbW1hbmQiXSxbNTIsImRMIiwiX21lYXN1cmVtZW50X3R5cGUiXSxbNTIsImRNIiwibm9uX3BlcnNvbmFsaXplZF9hZHMiXSxbNTIsImROIiwiY29udmVyc2lvbl9sYWJlbCJdLFs1MiwiZE8iLCJwYWdlX2xvY2F0aW9uIl0sWzUyLCJkUCIsIl9leHRyYWN0ZWRfZGF0YSJdLFs1MiwiZFEiLCJnbG9iYWxfZGV2ZWxvcGVyX2lkX3N0cmluZyJdLFs1MiwiZFIiLCJ0Y19wcml2YWN5X3N0cmluZyJdLFszNixbOCwiQSIsWzE1LCJiIl0sIkIiLFsxNSwiYyJdLCJDIixbMTUsImQiXSwiRiIsWzE1LCJlIl0sIkgiLFsxNSwiZiJdLCJJIixbMTUsImciXSwiSiIsWzE1LCJoIl0sIksiLFsxNSwiaSJdLCJMIixbMTUsImoiXSwiTiIsWzE1LCJrIl0sIloiLFsxNSwibCJdLCJBRSIsWzE1LCJtIl0sIkFGIixbMTUsIm4iXSwiQUciLFsxNSwibyJdLCJBSSIsWzE1LCJwIl0sIkFKIixbMTUsInEiXSwiQUwiLFsxNSwiciJdLCJBUCIsWzE1LCJzIl0sIkFaIixbMTUsInQiXSwiQkciLFsxNSwidSJdLCJCSCIsWzE1LCJ2Il0sIkJJIixbMTUsInciXSwiQksiLFsxNSwieCJdLCJCTCIsWzE1LCJ5Il0sIkJSIixbMTUsInoiXSwiQlYiLFsxNSwiYUEiXSwiQlciLFsxNSwiYUIiXSwiQlgiLFsxNSwiYUMiXSwiQlkiLFsxNSwiYUQiXSwiQloiLFsxNSwiYUUiXSwiQ0EiLFsxNSwiYUYiXSwiQ0IiLFsxNSwiYUciXSwiQ0oiLFsxNSwiYUgiXSwiQ08iLFsxNSwiYUkiXSwiQ1AiLFsxNSwiYUoiXSwiSlciLFsxNSwiZE4iXSwiQ1EiLFsxNSwiYUsiXSwiQ1MiLFsxNSwiYUwiXSwiQ1QiLFsxNSwiYU0iXSwiQ1YiLFsxNSwiYU4iXSwiQ1oiLFsxNSwiYU8iXSwiREEiLFsxNSwiYVAiXSwiREIiLFsxNSwiYVEiXSwiREMiLFsxNSwiYVIiXSwiREQiLFsxNSwiYVMiXSwiREUiLFsxNSwiYVQiXSwiREYiLFsxNSwiYVUiXSwiREciLFsxNSwiYVYiXSwiREsiLFsxNSwiYVciXSwiREwiLFsxNSwiYVgiXSwiRFgiLFsxNSwiYVkiXSwiRFoiLFsxNSwiYVoiXSwiRUQiLFsxNSwiYkEiXSwiRUciLFsxNSwiYkIiXSwiRUkiLFsxNSwiYkMiXSwiRUsiLFsxNSwiYkQiXSwiSlkiLFsxNSwiZFAiXSwiRVAiLFsxNSwiYkUiXSwiRVkiLFsxNSwiYkYiXSwiRkkiLFsxNSwiYkciXSwiSloiLFsxNSwiZFEiXSwiRk0iLFsxNSwiYkgiXSwiRk4iLFsxNSwiYkkiXSwiRlEiLFsxNSwiYkoiXSwiRlIiLFsxNSwiYksiXSwiRlQiLFsxNSwiYkwiXSwiRlUiLFsxNSwiYk0iXSwiRlciLFsxNSwiYk4iXSwiRlgiLFsxNSwiYk8iXSwiR0MiLFsxNSwiYlAiXSwiR0UiLFsxNSwiYlEiXSwiR0wiLFsxNSwiYlIiXSwiR00iLFsxNSwiYlMiXSwiR04iLFsxNSwiYlQiXSwiR1IiLFsxNSwiYlUiXSwiR1UiLFsxNSwiYlYiXSwiSlgiLFsxNSwiZE8iXSwiR1YiLFsxNSwiYlciXSwiR1ciLFsxNSwiYlgiXSwiR1giLFsxNSwiYlkiXSwiSEYiLFsxNSwiYloiXSwiSEgiLFsxNSwiY0EiXSwiSEwiLFsxNSwiY0IiXSwiSFAiLFsxNSwiY0MiXSwiSFMiLFsxNSwiY0QiXSwiSFUiLFsxNSwiY0UiXSwiSFciLFsxNSwiY0YiXSwiSFkiLFsxNSwiY0ciXSwiSFoiLFsxNSwiY0giXSwiSUIiLFsxNSwiY0kiXSwiSUMiLFsxNSwiY0oiXSwiS0EiLFsxNSwiZFIiXSwiSUgiLFsxNSwiY0siXSwiSUsiLFsxNSwiY0wiXSwiSUwiLFsxNSwiY00iXSwiSU0iLFsxNSwiY04iXSwiSU8iLFsxNSwiY08iXSwiSVIiLFsxNSwiY1AiXSwiSVMiLFsxNSwiY1EiXSwiSVQiLFsxNSwiY1IiXSwiSVUiLFsxNSwiY1MiXSwiSVYiLFsxNSwiY1QiXSwiSVciLFsxNSwiY1UiXSwiSVgiLFsxNSwiY1YiXSwiSVkiLFsxNSwiY1ciXSwiSVoiLFsxNSwiY1giXSwiSkEiLFsxNSwiY1kiXSwiSkIiLFsxNSwiY1oiXSwiSkMiLFsxNSwiZEEiXSwiSkQiLFsxNSwiZEIiXSwiSkUiLFsxNSwiZEMiXSwiSkYiLFsxNSwiZEQiXSwiSkgiLFsxNSwiZEUiXSwiSkkiLFsxNSwiZEYiXSwiSksiLFsxNSwiZEciXSwiSkwiLFsxNSwiZEgiXSwiSk4iLFsxNSwiZEkiXSwiSk8iLFsxNSwiZEoiXSwiSlAiLFsxNSwiZEsiXSwiSlMiLFsxNSwiZEwiXSwiSlQiLFsxNSwiZE0iXV1dXSxbMzYsWyJhIl1dXV0sWyIkMCJdXV0KICxbNTIsIl9fbW9kdWxlX21ldGFkYXRhU2NoZW1hIixbMTMsWzQxLCIkMCJdLFszLCIkMCIsWzUxLCIiLFs3XSxbNTAsImEiLFs0Nl0sWzUyLCJiIiwiYWNjZXB0X2J5X2RlZmF1bHQiXSxbNTIsImMiLCJhbGxvd19hZF9wZXJzb25hbGl6YXRpb24iXSxbNTIsImQiLCJjb25zZW50X3N0YXRlIl0sWzUyLCJlIiwiY29uc2VudF91cGRhdGVkIl0sWzUyLCJmIiwiY29udmVyc2lvbl9saW5rZXJfZW5hYmxlZCJdLFs1MiwiZyIsImNvb2tpZV9vcHRpb25zIl0sWzUyLCJoIiwiZW1fZXZlbnQiXSxbNTIsImkiLCJldmVudF9zdGFydF90aW1lc3RhbXBfbXMiXSxbNTIsImoiLCJldmVudF91c2FnZSJdLFs1MiwiayIsImdhNF9jb2xsZWN0aW9uX3N1YmRvbWFpbiJdLFs1MiwibCIsImhhbmRsZV9pbnRlcm5hbGx5Il0sWzUyLCJtIiwiaGl0X3R5cGUiXSxbNTIsIm4iLCJoaXRfdHlwZV9vdmVycmlkZSJdLFs1MiwibyIsImlzX2NvbnZlcnNpb24iXSxbNTIsInAiLCJpc19leHRlcm5hbF9ldmVudCJdLFs1MiwicSIsImlzX2ZpcnN0X3Zpc2l0Il0sWzUyLCJyIiwiaXNfZmlyc3RfdmlzaXRfY29udmVyc2lvbiJdLFs1MiwicyIsImlzX2ZwbV9lbmNyeXB0aW9uIl0sWzUyLCJ0IiwiaXNfZnBtX3NwbGl0Il0sWzUyLCJ1IiwiaXNfZ2NwX2NvbnZlcnNpb24iXSxbNTIsInYiLCJpc19nb29nbGVfc2lnbmFsc19hbGxvd2VkIl0sWzUyLCJ3IiwiaXNfc2VydmVyX3NpZGVfZGVzdGluYXRpb24iXSxbNTIsIngiLCJpc19zZXNzaW9uX3N0YXJ0Il0sWzUyLCJ5IiwiaXNfc2Vzc2lvbl9zdGFydF9jb252ZXJzaW9uIl0sWzUyLCJ6IiwiaXNfc2d0bV9nYV9hZHNfY29udmVyc2lvbl9zdHVkeV9jb250cm9sX2dyb3VwIl0sWzUyLCJhQSIsImlzX3NndG1fcHJlaGl0Il0sWzUyLCJhQiIsImlzX3NwbGl0X2NvbnZlcnNpb24iXSxbNTIsImFDIiwiaXNfc3luIl0sWzUyLCJhRCIsInByZWhpdF9mb3JfcmV0cnkiXSxbNTIsImFFIiwicmVkYWN0X2Fkc19kYXRhIl0sWzUyLCJhRiIsInJlZGFjdF9jbGlja19pZHMiXSxbNTIsImFHIiwic2VuZF9jY21fcGFyYWxsZWxfcGluZyJdLFs1MiwiYUgiLCJzZW5kX3VzZXJfZGF0YV9oaXQiXSxbNTIsImFJIiwic3BlY3VsYXRpdmUiXSxbNTIsImFKIiwic3luX29yX21vZCJdLFs1MiwiYUsiLCJ0cmFuc2llbnRfZWNzaWQiXSxbNTIsImFMIiwidHJhbnNtaXNzaW9uX3R5cGUiXSxbNTIsImFNIiwidXNlcl9kYXRhIl0sWzUyLCJhTiIsInVzZXJfZGF0YV9mcm9tX2F1dG9tYXRpYyJdLFs1MiwiYU8iLCJ1c2VyX2RhdGFfZnJvbV9hdXRvbWF0aWNfZ2V0dGVyIl0sWzUyLCJhUCIsInVzZXJfZGF0YV9mcm9tX2NvZGUiXSxbNTIsImFRIiwidXNlcl9kYXRhX2Zyb21fbWFudWFsIl0sWzM2LFs4LCJBIixbMTUsImIiXSwiRCIsWzE1LCJjIl0sIkkiLFsxNSwiZCJdLCJKIixbMTUsImUiXSwiSyIsWzE1LCJmIl0sIkwiLFsxNSwiZyJdLCJSIixbMTUsImgiXSwiWCIsWzE1LCJpIl0sIlkiLFsxNSwiaiJdLCJBRyIsWzE1LCJrIl0sIkFJIixbMTUsImwiXSwiQUoiLFsxNSwibSJdLCJBSyIsWzE1LCJuIl0sIkFPIixbMTUsIm8iXSwiQVIiLFsxNSwicCJdLCJBVCIsWzE1LCJxIl0sIkFVIixbMTUsInIiXSwiQVciLFsxNSwicyJdLCJBWCIsWzE1LCJ0Il0sIkFZIixbMTUsInUiXSwiQVoiLFsxNSwidiJdLCJCRCIsWzE1LCJ3Il0sIkJFIixbMTUsIngiXSwiQkYiLFsxNSwieSJdLCJCRyIsWzE1LCJ6Il0sIkJIIixbMTUsImFBIl0sIkJKIixbMTUsImFCIl0sIkJLIixbMTUsImFDIl0sIkJSIixbMTUsImFEIl0sIkJVIixbMTUsImFFIl0sIkJWIixbMTUsImFGIl0sIkJYIixbMTUsImFHIl0sIkNCIixbMTUsImFIIl0sIkNEIixbMTUsImFJIl0sIkNHIixbMTUsImFKIl0sIkNIIixbMTUsImFLIl0sIkNJIixbMTUsImFMIl0sIkNKIixbMTUsImFNIl0sIkNLIixbMTUsImFOIl0sIkNMIixbMTUsImFPIl0sIkNNIixbMTUsImFQIl0sIkNOIixbMTUsImFRIl1dXV0sWzM2LFsiYSJdXV1dLFsiJDAiXV1dCiAsWzUyLCJfX21vZHVsZV9mZWF0dXJlRmxhZ3MiLFsxMyxbNDEsIiQwIl0sWzMsIiQwIixbNTEsIiIsWzddLFs1MCwiYSIsWzQ2XSxbNTIsImIiLDMyXSxbNTIsImMiLDMzXSxbNTIsImQiLDQ0XSxbNTIsImUiLDQ1XSxbNTIsImYiLDQ2XSxbNTIsImciLDQ3XSxbNTIsImgiLDExM10sWzUyLCJpIiwxMjldLFs1MiwiaiIsMTQyXSxbNTIsImsiLDE1Nl0sWzUyLCJsIiwxNjhdLFs1MiwibSIsMTc0XSxbNTIsIm4iLDE3OF0sWzUyLCJvIiwyNDNdLFs1MiwicCIsMjUyXSxbNTIsInEiLDI1M10sWzUyLCJyIiwyNTRdLFs1MiwicyIsMjc1XSxbNTIsInQiLDI3Nl0sWzM2LFs4LCJDVCIsWzE1LCJwIl0sIkJSIixbMTUsImwiXSwiTiIsWzE1LCJiIl0sIk8iLFsxNSwiYyJdLCJTIixbMTUsImQiXSwiVCIsWzE1LCJlIl0sIlUiLFsxNSwiZiJdLCJWIixbMTUsImciXSwiQlQiLFsxNSwibSJdLCJCVSIsWzE1LCJuIl0sIkRKIixbMTUsInQiXSwiREkiLFsxNSwicyJdLCJBUyIsWzE1LCJoIl0sIkNSIixbMTUsIm8iXSwiQkEiLFsxNSwiaSJdLCJDViIsWzE1LCJyIl0sIkNVIixbMTUsInEiXSwiQkgiLFsxNSwiaiJdLCJCTCIsWzE1LCJrIl1dXV0sWzM2LFsiYSJdXV1dLFsiJDAiXV1dCiAsWzUyLCJfX21vZHVsZV9jcm9zc0NvbnRhaW5lclNjaGVtYSIsWzEzLFs0MSwiJDAiXSxbMywiJDAiLFs1MSwiIixbN10sWzUwLCJhIixbNDZdLFs1MiwiYiIsImNvb2tpZV9kZXByZWNhdGlvbl9sYWJlbCJdLFs1MiwiYyIsImVtX3JlZ2lzdHJ5Il0sWzUyLCJkIiwicGxkIl0sWzUyLCJlIiwic2hhcmVkX3VzZXJfaWQiXSxbNTIsImYiLCJzaGFyZWRfdXNlcl9pZF9yZXF1ZXN0ZWQiXSxbNTIsImciLCJzaGFyZWRfdXNlcl9pZF9zb3VyY2UiXSxbMzYsWzgsIkIiLFsxNSwiYiJdLCJEIixbMTUsImMiXSwiTCIsWzE1LCJkIl0sIlAiLFsxNSwiZSJdLCJRIixbMTUsImYiXSwiUiIsWzE1LCJnIl1dXV0sWzM2LFsiYSJdXV1dLFsiJDAiXV1dCiAsWzUyLCJfX21vZHVsZV9mZWF0dXJlcyIsWzEzLFs0MSwiJDAiXSxbMywiJDAiLFs1MSwiIixbN10sWzUwLCJhIixbNDZdLFs1MiwiYiIsNDE4XSxbNTIsImMiLDQyNV0sWzUyLCJkIiw0MzBdLFs1MiwiZSIsNDM1XSxbMzYsWzgsIkFGIixbMTUsImQiXSwiVCIsWzE1LCJiIl0sIkFLIixbMTUsImUiXSwiQUEiLFsxNSwiYyJdXV1dLFszNixbImEiXV1dXSxbIiQwIl1dXQogLFs1MiwiX19tb2R1bGVfcGxhdGZvcm1TY2hlbWEiLFsxMyxbNDEsIiQwIl0sWzMsIiQwIixbNTEsIiIsWzddLFs1MCwiYSIsWzQ2XSxbNTIsImIiLDFdLFs1MiwiYyIsMl0sWzUyLCJkIiwzXSxbNTIsImUiLDRdLFs1MiwiZiIsNV0sWzUyLCJnIiw2XSxbMzYsWzgsIkEiLFsxNSwiYiJdLCJGIixbMTUsImciXSwiQiIsWzE1LCJjIl0sIkMiLFsxNSwiZCJdLCJEIixbMTUsImUiXSwiRSIsWzE1LCJmIl1dXV0sWzM2LFsiYSJdXV1dLFsiJDAiXV1dCiAsWzUyLCJfX21vZHVsZV9nb2xkRXZlbnRVc2FnZUlkIixbMTMsWzQxLCIkMCJdLFszLCIkMCIsWzUxLCIiLFs3XSxbNTAsImEiLFs0Nl0sWzUyLCJiIiwxXSxbNTIsImMiLDJdLFs1MiwiZCIsNV0sWzUyLCJlIiw2XSxbNTIsImYiLDddLFs1MiwiZyIsOF0sWzUyLCJoIiw5XSxbNTIsImkiLDExXSxbNTIsImoiLDE1XSxbNTIsImsiLDE2XSxbNTIsImwiLDIwXSxbNTIsIm0iLDIxXSxbNTIsIm4iLDIzXSxbNTIsIm8iLDI0XSxbNTIsInAiLDI3XSxbMzYsWzgsIk8iLFsxNSwiaiJdLCJXIixbMTUsIm4iXSwiUCIsWzE1LCJrIl0sIlgiLFsxNSwibyJdLCJLIixbMTUsImkiXSwiQSIsWzE1LCJiIl0sIlQiLFsxNSwibCJdLCJFIixbMTUsImQiXSwiRiIsWzE1LCJlIl0sIkIiLFsxNSwiYyJdLCJIIixbMTUsImciXSwiSSIsWzE1LCJoIl0sIkciLFsxNSwiZiJdLCJVIixbMTUsIm0iXSwiQUEiLFsxNSwicCJdXV1dLFszNixbImEiXV1dXSxbIiQwIl1dXQogLFs1MiwiX19tb2R1bGVfY29udmVydERvbWFpbkNvbmRpdGlvbnMiLFsxMyxbNDEsIiQwIl0sWzMsIiQwIixbNTEsIiIsWzddLFs1MCwiYSIsWzQ2XSxbNTAsImUiLFs0NiwiZyJdLFszNixbMixbMTUsImciXSwicmVwbGFjZSIsWzcsWzE1LCJkIl0sIlxcJCYiXV1dXSxbNTAsImYiLFs0NiwiZyJdLFs1MiwiaCIsWzddXSxbNTMsWzQxLCJpIl0sWzMsImkiLDBdLFs2MyxbNywiaSJdLFsyMyxbMTUsImkiXSxbMTcsWzE1LCJnIl0sImxlbmd0aCJdXSxbMzMsWzE1LCJpIl0sWzMsImkiLFswLFsxNSwiaSJdLDFdXV0sWzQ2LFs1MyxbNDEsImoiXSxbMjIsWzIwLFsiYyIsWzE2LFsxNSwiZyJdLFsxNSwiaSJdXV0sIm9iamVjdCJdLFs0NixbNTMsWzUyLCJsIixbMTYsWzE2LFsxNSwiZyJdLFsxNSwiaSJdXSwibWF0Y2hUeXBlIl1dLFs1MiwibSIsWzE2LFsxNixbMTUsImciXSxbMTUsImkiXV0sIm1hdGNoVmFsdWUiXV0sWzM4LFsxNSwibCJdLFs0NiwiQkVHSU5TX1dJVEgiLCJFTkRTX1dJVEgiLCJFUVVBTFMiLCJSRUdFWCIsIkNPTlRBSU5TIl0sWzQ2LFs1LFs0NixbMywiaiIsWzAsIl4iLFsiZSIsWzE1LCJtIl1dXV0sWzRdXV0sWzUsWzQ2LFszLCJqIixbMCxbImUiLFsxNSwibSJdXSwiJCJdXSxbNF1dXSxbNSxbNDYsWzMsImoiLFswLFswLCJeIixbImUiLFsxNSwibSJdXV0sIiQiXV0sWzRdXV0sWzUsWzQ2LFszLCJqIixbMTUsIm0iXV0sWzRdXV0sWzUsWzQ2XV0sWzksWzQ2LFszLCJqIixbImUiLFsxNSwibSJdXV0sWzRdXV1dXV1dLFs0NixbNTMsWzMsImoiLFsxNixbMTUsImciXSxbMTUsImkiXV1dXV1dLFs0MSwiayJdLFsyMixbMTUsImoiXSxbNDYsWzUzLFszLCJrIixbImIiLFsxNSwiaiJdXV1dXV0sWzIyLFsxNSwiayJdLFs0NixbNTMsWzIsWzE1LCJoIl0sInB1c2giLFs3LFsxNSwiayJdXV1dXV1dXV1dLFszNixbMTUsImgiXV1dLFs1MiwiYiIsWyJyZXF1aXJlIiwiaW50ZXJuYWwuY3JlYXRlUmVnZXgiXV0sWzUyLCJjIixbInJlcXVpcmUiLCJnZXRUeXBlIl1dLFs1MiwiZCIsWyJiIiwiWy4qK1xcLT9eJHt9KCl8W1xcXVxcXFxdIiwiZyJdXSxbMzYsWzgsIkEiLFsxNSwiZiJdXV1dLFszNixbImEiXV1dXSxbIiQwIl1dXQogLFs1MiwiX19tb2R1bGVfYWN0aXZpdGllcyIsWzEzLFs0MSwiJDAiXSxbMywiJDAiLFs1MSwiIixbN10sWzUwLCJhIixbNDZdLFs1MCwiYiIsWzQ2LCJjIiwiZCJdLFszNixbMzksWzE1LCJkIl0sWyJkIixbMTUsImMiXV0sWzE1LCJjIl1dXV0sWzM2LFs4LCJBIixbMTUsImIiXV1dXSxbMzYsWyJhIl1dXV0sWyIkMCJdXV0KICxbNTIsIl9fbW9kdWxlX3BsYXRmb3JtRGV0ZWN0aW9uIixbMTMsWzQxLCIkMCJdLFszLCIkMCIsWzUxLCIiLFs3XSxbNTAsImEiLFs0Nl0sWzUwLCJuIixbNDZdLFs2OCwidiIsWzUzLFsyMixbMjgsWyJlIixbMTcsWzE1LCJpIl0sIkNSIl1dXSxbNDYsWzUzLFszNixbN11dXV1dLFs1MiwidiIsWyJlIixbMTcsWzE1LCJoIl0sIkFGIl1dXSxbMjIsWzE1LCJ2Il0sWzQ2LFs1MyxbNTIsIngiLFsiYiIsWzE3LFsxNSwiZyJdLCJMIl1dXSxbMjIsWyJtIixbMTUsIngiXV0sWzQ2LFs1MyxbMzYsWzE1LCJ4Il1dXV1dXV1dLFs1MiwidyIsWzddXSxbMjIsWyJvIl0sWzQ2LFsyLFsxNSwidyJdLCJwdXNoIixbNyxbMTcsWzE1LCJqIl0sIkEiXV1dXV0sWzIyLFsicCJdLFs0NixbMixbMTUsInciXSwicHVzaCIsWzcsWzE3LFsxNSwiaiJdLCJCIl1dXV1dLFsyMixbInEiXSxbNDYsWzIsWzE1LCJ3Il0sInB1c2giLFs3LFsxNyxbMTUsImoiXSwiRiJdXV1dXSxbMjIsWyJ0Il0sWzQ2LFsyLFsxNSwidyJdLCJwdXNoIixbNyxbMTcsWzE1LCJqIl0sIkQiXV1dXV0sWzIyLFsiciJdLFs0NixbMixbMTUsInciXSwicHVzaCIsWzcsWzE3LFsxNSwiaiJdLCJFIl1dXV1dLFsyMixbInMiXSxbNDYsWzIsWzE1LCJ3Il0sInB1c2giLFs3LFsxNyxbMTUsImoiXSwiQyJdXV1dXSxbMjIsWzEsWyJsIl0sWzE1LCJ2Il1dLFs0NixbNTMsWyJmIixbMTcsWzE1LCJnIl0sIkwiXSxbMTUsInciXSx0cnVlXV1dXSxbMzYsWzE1LCJ3Il1dXSxbNDZdXSxbMzYsWzddXV0sWzUwLCJvIixbNDZdLFs2OCwidiIsWzUzLFszNixbMjgsWzI4LFsiYyIsInNjcmlwdFtkYXRhLXJlcXVpcmVtb2R1bGVePVwibWFnZS9cIl0iXV1dXV0sWzQ2XV0sWzM2LGZhbHNlXV0sWzUwLCJwIixbNDZdLFs2OCwidiIsWzUzLFszNixbMjgsWzI4LFsiYyIsInNjcmlwdFtzcmNePVwiLy9hc3NldHMuc3F1YXJlc3BhY2UuY29tL1wiXSJdXV1dXSxbNDZdXSxbMzYsZmFsc2VdXSxbNTAsInEiLFs0Nl0sWzIyLFsyOCxbImUiLFsxNyxbMTUsImgiXSwiQUEiXV1dLFs0NixbNTMsWzM2LGZhbHNlXV1dXSxbNjgsInYiLFs1MyxbMzYsWzI4LFsyOCxbImMiLFswLFswLFswLFswLFswLCJzY3JpcHRbc3JjKj1cImNkbi5zaG9waWZ5LmNvbVwiXSwiLCJtZXRhW3Byb3BlcnR5PVwib2c6aW1hZ2VcIl1bY29udGVudCo9XCJjZG4uc2hvcGlmeS5jb21cIl0sIl0sImxpbmtbcmVsPVwicHJlY29ubmVjdFwiXVtocmVmKj1cImNkbi5zaG9waWZ5LmNvbVwiXSwiXSwibGlua1tyZWw9XCJwcmVjb25uZWN0XCJdW2hyZWYqPVwiZm9udHMuc2hvcGlmeWNkbi5jb21cIl0sIl0sImxpbmtbcmVsPVwicHJlY29ubmVjdFwiXVtocmVmKj1cIml0ZXJhYmxlLXNob3BpZnlcIl0sIl0sImxpbmtbcmVsPVwicHJlY29ubmVjdFwiXVtocmVmKj1cInYuc2hvcGlmeS5jb21cIl0iXV1dXV1dLFs0Nl1dLFszNixmYWxzZV1dLFs1MCwiciIsWzQ2XSxbNjgsInYiLFs1MyxbNTIsInYiLFsiZCIsInByb3RvY29sIl1dLFs1MiwidyIsWyJkIiwiaG9zdCJdXSxbNTIsIngiLFszOSxbMSxbMTUsInYiXSxbMTUsInciXV0sWzAsWzAsWzAsWzAsIltzcmNePVwiIixbMTUsInYiXV0sIi8vIl0sWzE1LCJ3Il1dLCIvd3AtY29udGVudFwiXSwiXSwiIl1dLFszNixbMzAsWyJ1IixbMTUsInciXSwiLndvcmRwcmVzcy5jb20iXSxbMjgsWzI4LFsiYyIsWzAsWzAsWzE1LCJ4Il0sIm1ldGFbbmFtZT1cImdlbmVyYXRvclwiXVtjb250ZW50Xj1cIldvcmRQcmVzcyBcIl0sIl0sImxpbmtbcmVsPVwiZG5zLXByZWZldGNoXCJdW2hyZWY9XCIvL3Mudy5vcmdcIl0iXV1dXV1dXSxbNDZdXSxbMzYsZmFsc2VdXSxbNTAsInMiLFs0Nl0sWzY4LCJ2IixbNTMsWzUyLCJ2IixbMjgsWzI4LFsiYyIsWzAsIltjbGFzcyo9XCJ3b29jb21tZXJjZVwiXSwiLCJtZXRhW25hbWU9XCJnZW5lcmF0b3JcIl1bY29udGVudF49XCJXb29Db21tZXJjZSBcIl0iXV1dXV0sWzIyLFsxNSwidiJdLFs0NixbNTNdXV0sWzM2LFsxNSwidiJdXV0sWzQ2XV0sWzM2LGZhbHNlXV0sWzUwLCJ0IixbNDZdLFs2OCwidiIsWzUzLFs1MiwidiIsWzI4LFsyOCxbImMiLFswLFswLCJzY3JpcHRbc3JjKj1cIndvb2NvbW1lcmNlXCJdLCIsImxpbmtbaHJlZio9XCJ3b29jb21tZXJjZVwiXSwiXSwiW2NsYXNzfD1cIndvb2NvbW1lcmNlXCJdIl1dXV1dLFsyMixbMTUsInYiXSxbNDYsWzUzXV1dLFszNixbMTUsInYiXV1dLFs0Nl1dLFszNixmYWxzZV1dLFs1MCwidSIsWzQ2LCJ2IiwidyJdLFszNixbMSxbMTksWzE3LFsxNSwidiJdLCJsZW5ndGgiXSxbMTcsWzE1LCJ3Il0sImxlbmd0aCJdXSxbMjAsWzIsWzE1LCJ2Il0sInN1YnN0cmluZyIsWzcsWzM3LFsxNyxbMTUsInYiXSwibGVuZ3RoIl0sWzE3LFsxNSwidyJdLCJsZW5ndGgiXV0sWzE3LFsxNSwidiJdLCJsZW5ndGgiXV1dLFsxNSwidyJdXV1dXSxbNTIsImIiLFsicmVxdWlyZSIsImludGVybmFsLmNvcHlGcm9tQ3Jvc3NDb250YWluZXJEYXRhIl1dLFs1MiwiYyIsWyJyZXF1aXJlIiwiaW50ZXJuYWwuZ2V0Rmlyc3RFbGVtZW50QnlDc3NTZWxlY3RvciJdXSxbNTIsImQiLFsicmVxdWlyZSIsImdldFVybCJdXSxbNTIsImUiLFsicmVxdWlyZSIsImludGVybmFsLmlzRmVhdHVyZUVuYWJsZWQiXV0sWzUyLCJmIixbInJlcXVpcmUiLCJpbnRlcm5hbC5zZXRJbkNyb3NzQ29udGFpbmVyRGF0YSJdXSxbNTIsImciLFsxNSwiX19tb2R1bGVfY3Jvc3NDb250YWluZXJTY2hlbWEiXV0sWzUyLCJoIixbMTUsIl9fbW9kdWxlX2ZlYXR1cmVzIl1dLFs1MiwiaSIsWzE1LCJfX21vZHVsZV9mZWF0dXJlRmxhZ3MiXV0sWzUyLCJqIixbMTUsIl9fbW9kdWxlX3BsYXRmb3JtU2NoZW1hIl1dLFs1MiwiayIsWyJyZXF1aXJlIiwiZ2V0VHlwZSJdXSxbNTIsImwiLFsicmVxdWlyZSIsImludGVybmFsLmlzRG9tUmVhZHkiXV0sWzUyLCJtIixbNTEsIiIsWzcsInYiXSxbMzYsWzIwLFsiayIsWzE1LCJ2Il1dLCJhcnJheSJdXV1dLFszNixbOCwiQSIsWzE1LCJuIl1dXV0sWzM2LFsiYSJdXV1dLFsiJDAiXV1dCiAsWzUyLCJfX21vZHVsZV9jY2RHYVJlZ2lvblNjb3BlZFNldHRpbmdzIixbMTMsWzQxLCIkMCJdLFszLCIkMCIsWzUxLCIiLFs3XSxbNTAsImEiLFs0Nl0sWzUwLCJqIixbNDYsIm0iLCJuIiwibyJdLFs1MCwidCIsWzQ2LCJ2Il0sWzUyLCJ3IixbMTYsWzE1LCJpIl0sWzE1LCJ2Il1dXSxbMjIsWzI4LFsxNSwidyJdXSxbNDYsWzM2XV1dLFs1MyxbNDEsIngiXSxbMywieCIsMF0sWzYzLFs3LCJ4Il0sWzIzLFsxNSwieCJdLFsxNyxbMTUsInciXSwibGVuZ3RoIl1dLFszMyxbMTUsIngiXSxbMywieCIsWzAsWzE1LCJ4Il0sMV1dXSxbNDYsWzUzLFs1MiwieSIsWzE2LFsxNSwidyJdLFsxNSwieCJdXV0sWyJxIixbMTUsInAiXSxbMTcsWzE1LCJ5Il0sIm5hbWUiXSxbMTcsWzE1LCJ5Il0sInZhbHVlIl1dXV1dXV0sWzUwLCJ1IixbNDYsInYiXSxbMjIsWzMwLFsyOCxbMTUsInIiXV0sWzIxLFsxNyxbMTUsInIiXSwibGVuZ3RoIl0sMl1dLFs0NixbNTMsWzM2LGZhbHNlXV1dXSxbNDEsInciXSxbMywidyIsWzE2LFsxNSwidiJdLFsxNSwicyJdXV0sWzIyLFsyMCxbMTUsInciXSxbNDRdXSxbNDYsWzUzLFszLCJ3IixbMTYsWzE1LCJ2Il0sWzE1LCJyIl1dXV1dXSxbMzYsWzI4LFsyOCxbMTUsInciXV1dXV0sWzIyLFsyOCxbMTUsIm4iXV0sWzQ2LFszNl1dXSxbNTIsInAiLFszMCxbMTcsWzE1LCJtIl0sImluc3RhbmNlRGVzdGluYXRpb25JZCJdLFsxNyxbImMiXSwiY29udGFpbmVySWQiXV1dLFs1MiwicSIsWyJoIixbMTUsImYiXSxbMTUsIm8iXV1dLFs1MiwiciIsWzEzLFs0MSwiJDAiXSxbMywiJDAiLFsiaCIsWzE1LCJkIl0sWzE1LCJvIl1dXSxbIiQwIl1dXSxbNTIsInMiLFsxMyxbNDEsIiQwIl0sWzMsIiQwIixbImgiLFsxNSwiZSJdLFsxNSwibyJdXV0sWyIkMCJdXV0sWzUzLFs0MSwidiJdLFszLCJ2IiwwXSxbNjMsWzcsInYiXSxbMjMsWzE1LCJ2Il0sWzE3LFsxNSwibiJdLCJsZW5ndGgiXV0sWzMzLFsxNSwidiJdLFszLCJ2IixbMCxbMTUsInYiXSwxXV1dLFs0NixbNTMsWzUyLCJ3IixbMTYsWzE1LCJuIl0sWzE1LCJ2Il1dXSxbMjIsWzMwLFsxNyxbMTUsInciXSwiZGlzYWxsb3dBbGxSZWdpb25zIl0sWyJ1IixbMTcsWzE1LCJ3Il0sImRpc2FsbG93ZWRSZWdpb25zIl1dXSxbNDYsWzUzLFsidCIsWzE3LFsxNSwidyJdLCJyZWRhY3RGaWVsZEdyb3VwIl1dXV1dXV1dXV0sWzUwLCJrIixbNDYsIm0iXSxbNTIsIm4iLFs4XV0sWzIyLFsyOCxbMTUsIm0iXV0sWzQ2LFszNixbMTUsIm4iXV1dXSxbNTIsIm8iLFsyLFsxNSwibSJdLCJzcGxpdCIsWzcsIiwiXV1dLFs1MyxbNDEsInAiXSxbMywicCIsMF0sWzYzLFs3LCJwIl0sWzIzLFsxNSwicCJdLFsxNyxbMTUsIm8iXSwibGVuZ3RoIl1dLFszMyxbMTUsInAiXSxbMywicCIsWzAsWzE1LCJwIl0sMV1dXSxbNDYsWzUzLFs1MiwicSIsWzIsWzE2LFsxNSwibyJdLFsxNSwicCJdXSwidHJpbSIsWzddXV0sWzIyLFsyOCxbMTUsInEiXV0sWzQ2LFs2XV1dLFs1MiwiciIsWzIsWzE1LCJxIl0sInNwbGl0IixbNywiLSJdXV0sWzUyLCJzIixbMTYsWzE1LCJyIl0sMF1dLFs1MiwidCIsWzM5LFsyMCxbMTcsWzE1LCJyIl0sImxlbmd0aCJdLDJdLFsxNSwicSJdLFs0NF1dXSxbMjIsWzMwLFsyOCxbMTUsInMiXV0sWzIxLFsxNyxbMTUsInMiXSwibGVuZ3RoIl0sMl1dLFs0NixbNTMsWzZdXV1dLFsyMixbMSxbMjEsWzE1LCJ0Il0sWzQ0XV0sWzMwLFsyMyxbMTcsWzE1LCJ0Il0sImxlbmd0aCJdLDRdLFsxOCxbMTcsWzE1LCJ0Il0sImxlbmd0aCJdLDZdXV0sWzQ2LFs1MyxbNl1dXV0sWzQzLFsxNSwibiJdLFsxNSwicSJdLHRydWVdXV1dXSxbMzYsWzE1LCJuIl1dXSxbNTAsImwiLFs0NiwibSJdLFsyMixbMjgsWzE3LFsxNSwibSJdLCJzZXR0aW5nc1RhYmxlIl1dLFs0NixbMzYsWzddXV1dLFs1MiwibiIsWzhdXSxbNTMsWzQxLCJvIl0sWzMsIm8iLDBdLFs2MyxbNywibyJdLFsyMyxbMTUsIm8iXSxbMTcsWzE3LFsxNSwibSJdLCJzZXR0aW5nc1RhYmxlIl0sImxlbmd0aCJdXSxbMzMsWzE1LCJvIl0sWzMsIm8iLFswLFsxNSwibyJdLDFdXV0sWzQ2LFs1MyxbNTIsInAiLFsxNixbMTcsWzE1LCJtIl0sInNldHRpbmdzVGFibGUiXSxbMTUsIm8iXV1dLFs1MiwicSIsWzE3LFsxNSwicCJdLCJyZWRhY3RGaWVsZEdyb3VwIl1dLFsyMixbMjgsWzE2LFsxNSwiaSJdLFsxNSwicSJdXV0sWzQ2LFs2XV1dLFs0MyxbMTUsIm4iXSxbMTUsInEiXSxbOCwicmVkYWN0RmllbGRHcm91cCIsWzE1LCJxIl0sImRpc2FsbG93QWxsUmVnaW9ucyIsZmFsc2UsImRpc2FsbG93ZWRSZWdpb25zIixbOF1dXSxbNTIsInIiLFsxNixbMTUsIm4iXSxbMTUsInEiXV1dLFsyMixbMTcsWzE1LCJwIl0sImRpc2FsbG93QWxsUmVnaW9ucyJdLFs0NixbNTMsWzQzLFsxNSwiciJdLCJkaXNhbGxvd0FsbFJlZ2lvbnMiLHRydWVdLFs2XV1dXSxbNDMsWzE1LCJyIl0sImRpc2FsbG93ZWRSZWdpb25zIixbImsiLFsxNyxbMTUsInAiXSwiZGlzYWxsb3dlZFJlZ2lvbnMiXV1dXV1dXSxbMzYsWzIsWzE1LCJiIl0sInZhbHVlcyIsWzcsWzE1LCJuIl1dXV1dLFs1MiwiYiIsWyJyZXF1aXJlIiwiT2JqZWN0Il1dLFs1MiwiYyIsWyJyZXF1aXJlIiwiZ2V0Q29udGFpbmVyVmVyc2lvbiJdXSxbNTIsImQiLFsicmVxdWlyZSIsImludGVybmFsLmdldENvdW50cnlDb2RlIl1dLFs1MiwiZSIsWyJyZXF1aXJlIiwiaW50ZXJuYWwuZ2V0UmVnaW9uQ29kZSJdXSxbNTIsImYiLFsicmVxdWlyZSIsImludGVybmFsLnNldFJlbW90ZUNvbmZpZ1BhcmFtZXRlciJdXSxbNTIsImciLFsxNSwiX19tb2R1bGVfYWN0aXZpdGllcyJdXSxbNTIsImgiLFsxNyxbMTUsImciXSwiQSJdXSxbNTIsImkiLFs4LCJHT09HTEVfU0lHTkFMUyIsWzcsWzgsIm5hbWUiLCJhbGxvd19nb29nbGVfc2lnbmFscyIsInZhbHVlIixmYWxzZV1dLCJERVZJQ0VfQU5EX0dFTyIsWzcsWzgsIm5hbWUiLCJnZW9fZ3JhbnVsYXJpdHkiLCJ2YWx1ZSIsdHJ1ZV0sWzgsIm5hbWUiLCJyZWRhY3RfZGV2aWNlX2luZm8iLCJ2YWx1ZSIsdHJ1ZV1dXV0sWzM2LFs4LCJBIixbMTUsImoiXSwiQiIsWzE1LCJsIl1dXV0sWzM2LFsiYSJdXV1dLFsiJDAiXV1dCiAsWzUyLCJfX21vZHVsZV90YXNrUGxhdGZvcm1EZXRlY3Rpb24iLFsxMyxbNDEsIiQwIl0sWzMsIiQwIixbNTEsIiIsWzddLFs1MCwiYSIsWzQ2XSxbNTAsImQiLFs0NiwiZSJdLFs1MiwiZiIsWzIsWzE1LCJjIl0sIkEiLFs3XV1dLFsyMixbMSxbMTUsImYiXSxbMTgsWzE3LFsxNSwiZiJdLCJsZW5ndGgiXSwwXV0sWzQ2LFs1MyxbMixbMTUsImUiXSwibWVyZ2VIaXREYXRhRm9yS2V5IixbNyxbMTcsWzE1LCJiIl0sIkZNIl0sWzgsInBsZiIsWzIsWzE1LCJmIl0sImpvaW4iLFs3LCIuIl1dXV1dXV1dXSxbNTIsImIiLFsxNSwiX19tb2R1bGVfZ3RhZ1NjaGVtYSJdXSxbNTIsImMiLFsxNSwiX19tb2R1bGVfcGxhdGZvcm1EZXRlY3Rpb24iXV0sWzM2LFs4LCJBIixbMTUsImQiXV1dXSxbMzYsWyJhIl1dXV0sWyIkMCJdXV0KIApdCiwiZW50aXRpZXMiOnsKIl9fYyI6eyIyIjp0cnVlLCI1Ijp0cnVlfQosCiJfX2NjZF9hdXRvX3JlZGFjdCI6eyIyIjp0cnVlLCI1Ijp0cnVlfQosCiJfX2NjZF9jb252ZXJzaW9uX21hcmtpbmciOnsiMiI6dHJ1ZSwiNSI6dHJ1ZX0KLAoiX19jY2RfZ2FfZmlyc3QiOnsiMiI6dHJ1ZSwiNSI6dHJ1ZX0KLAoiX19jY2RfZ2FfbGFzdCI6eyIyIjp0cnVlLCI1Ijp0cnVlfQosCiJfX2NjZF9nYV9yZWdzY29wZSI6eyIyIjp0cnVlLCI1Ijp0cnVlfQosCiJfX2UiOnsiMiI6dHJ1ZSwiNSI6dHJ1ZX0KLAoiX19nY3QiOnsiNSI6dHJ1ZX0KLAoiX19vZ3RfMXBfZGF0YV92MiI6eyIyIjp0cnVlLCI1Ijp0cnVlfQosCiJfX29ndF9nYV9zZW5kIjp7IjIiOnRydWUsIjUiOnRydWV9CiwKIl9fb2d0X2dvb2dsZV9zaWduYWxzIjp7IjIiOnRydWUsIjUiOnRydWV9CiwKIl9fb2d0X3JlZmVycmFsX2V4Y2x1c2lvbiI6eyIyIjp0cnVlLCI1Ijp0cnVlfQosCiJfX29ndF9zZXNzaW9uX3RpbWVvdXQiOnsiMiI6dHJ1ZSwiNSI6dHJ1ZX0KLAoiX19zZXRfcHJvZHVjdF9zZXR0aW5ncyI6eyIyIjp0cnVlLCI1Ijp0cnVlfQoKCn0KLCJibG9iIjp7IjEiOiIyIiwiMTAiOiJHLU1FTkJNNkdTTll8R1QtV0tQSjVRRyIsIjExIjp0cnVlLCIxNCI6IjVjYTEiLCIxNSI6IjAiLCIxNiI6IkNoQUlnTERUeWdZUTAvaWVsYWZhK2RRN0VoMEFvM3RZS01xMG9FaGxuNW5TMFhqZE9kdFUzTnpYSVhXU2ZIQlh2aG9DZlVZPSIsIjE3IjoiIiwiMTkiOiJkYXRhTGF5ZXIiLCIyMCI6IiIsIjIxIjoid3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tIiwiMjIiOiJleUl3SWpvaVZWTWlMQ0l4SWpvaVZWTXRRMEVpTENJeUlqcG1ZV3h6WlN3aU15STZJaUlzSWpRaU9pSWlMQ0kxSWpwMGNuVmxMQ0kySWpwbVlXeHpaU3dpTnlJNkltRmtYM04wYjNKaFoyVjhZVzVoYkhsMGFXTnpYM04wYjNKaFoyVjhZV1JmZFhObGNsOWtZWFJoZkdGa1gzQmxjbk52Ym1Gc2FYcGhkR2x2YmlJc0lqZ2lPaUlpZlEiLCIyMyI6Imdvb2dsZS50YWdtYW5hZ2VyLmRlYnVndWkyLnF1ZXVlIiwiMjQiOiJ0YWdhc3Npc3RhbnQuZ29vZ2xlLmNvbSIsIjI3IjowLjAwNSwiMyI6Ind3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbSIsIjMwIjoiVVMiLCIzMSI6IlVTLUNBIiwiMzIiOnRydWUsIjM0IjoiRy1NRU5CTTZHU05ZIiwiMzUiOiJHIiwiMzYiOiJodHRwczovL2Fkc2VydmljZS5nb29nbGUuY29tL3BhZ2VhZC9yZWdjbGsiLCIzNyI6Il9fVEFHR1lfSU5TVEFMTEVEIiwiMzgiOiJjY3QuZ29vZ2xlIiwiMzkiOiJnb29nVGFnZ3lSZWZlcnJlciIsIjQwIjoiaHR0cHM6Ly9jY3QuZ29vZ2xlL3RhZ2d5L2FnZW50LmpzIiwiNDEiOiJnb29nbGUudGFnbWFuYWdlci50YS5wcm9kcXVldWUiLCI0MiI6MC4wMSwiNDMiOiJ7XCJrZXlzXCI6W3tcImhwa2VQdWJsaWNLZXlcIjp7XCJwYXJhbXNcIjp7XCJhZWFkXCI6XCJBRVNfMTI4X0dDTVwiLFwia2RmXCI6XCJIS0RGX1NIQTI1NlwiLFwia2VtXCI6XCJESEtFTV9QMjU2X0hLREZfU0hBMjU2XCJ9LFwicHVibGljS2V5XCI6XCJCR09XWFA2eEg5S1czMmg0L2pyV2hoSE1NYitCL3I5QWQrWlB0ZkJuSDZxZThBc3pxTTNQSm5SNEdJU1dpVHF4Y1BCTmNvQTMzNUFwUUVzRWhzSjdkMlk9XCIsXCJ2ZXJzaW9uXCI6MH0sXCJpZFwiOlwiZDlkYjJjYTAtNWNjOC00N2U2LTk4MjAtNjEyMDNhNjljZTY4XCJ9LHtcImhwa2VQdWJsaWNLZXlcIjp7XCJwYXJhbXNcIjp7XCJhZWFkXCI6XCJBRVNfMTI4X0dDTVwiLFwia2RmXCI6XCJIS0RGX1NIQTI1NlwiLFwia2VtXCI6XCJESEtFTV9QMjU2X0hLREZfU0hBMjU2XCJ9LFwicHVibGljS2V5XCI6XCJCTHdBR0lUU1VlTVlCWnlsTis2MUZPY3U3bVBWS1dnMnFXaU5hQjVPMm8vRG5nR0c3Z2x6Wkl2b2l6N0xja3pLVDM5QlpNNUltNVFhWEhidyt4SGlUNGs9XCIsXCJ2ZXJzaW9uXCI6MH0sXCJpZFwiOlwiZDliZTA2ODctYTdhNC00OWQzLTlhZTUtOTYxYTdiY2RkNTE1XCJ9LHtcImhwa2VQdWJsaWNLZXlcIjp7XCJwYXJhbXNcIjp7XCJhZWFkXCI6XCJBRVNfMTI4X0dDTVwiLFwia2RmXCI6XCJIS0RGX1NIQTI1NlwiLFwia2VtXCI6XCJESEtFTV9QMjU2X0hLREZfU0hBMjU2XCJ9LFwicHVibGljS2V5XCI6XCJCTjJVTWlwK3pZWmh3V3hpeEpHNjk1UjFUZ3NZOWFWNnJsSm1MREREWk9JOHRXc3RNaTFERU5pMjBmb3FqUS94UkNwcUJFWm5WYUZvNHdkSFhnWWtHQWs9XCIsXCJ2ZXJzaW9uXCI6MH0sXCJpZFwiOlwiYzE5YzQ2NTctZWQyMy00YTVmLThlOGEtODlmOWEyN2UyYmIwXCJ9LHtcImhwa2VQdWJsaWNLZXlcIjp7XCJwYXJhbXNcIjp7XCJhZWFkXCI6XCJBRVNfMTI4X0dDTVwiLFwia2RmXCI6XCJIS0RGX1NIQTI1NlwiLFwia2VtXCI6XCJESEtFTV9QMjU2X0hLREZfU0hBMjU2XCJ9LFwicHVibGljS2V5XCI6XCJCQ1BWdDJwZS91bGNSVjYrRVdIWnhzZTR5MVA3TWZEc3lyUHd6dkNEVjc3aVl5MFpYWUs3UW9JbzVET1FjVWFvTnRCSHJMWHJnOHgzcklKM2d1clp6bjQ9XCIsXCJ2ZXJzaW9uXCI6MH0sXCJpZFwiOlwiMjY3NTViNmEtZTJmNi00ZDllLTkyYmYtN2JhNmViZmJiNWQ4XCJ9LHtcImhwa2VQdWJsaWNLZXlcIjp7XCJwYXJhbXNcIjp7XCJhZWFkXCI6XCJBRVNfMTI4X0dDTVwiLFwia2RmXCI6XCJIS0RGX1NIQTI1NlwiLFwia2VtXCI6XCJESEtFTV9QMjU2X0hLREZfU0hBMjU2XCJ9LFwicHVibGljS2V5XCI6XCJCQzFrc1JHYTFiMzZDRGZRTHcrNi8xTktjclIrMXRwTDBWTkp0VnBLcFRlY1ZBeDFsQjhXNlVGQXlGMXUxZitJZ3paODJvR3AyNllaNUM0NFcxQlV4RmM9XCIsXCJ2ZXJzaW9uXCI6MH0sXCJpZFwiOlwiMWE4NWI4MjYtZDQyYS00ZWZmLTkyYTItYzY5ZTcwYmNhNTcxXCJ9XX0iLCI0NCI6IjEwMzExNjAyNn4xMDMyMDAwMDR+MTA0Njg0MjA4fjEwNDY4NDIxMX4xMTYxODQ5Mjd+MTE2MTg0OTI5fjExNjI1MTkzOH4xMTYyNTE5NDAiLCI0NSI6dHJ1ZSwiNDYiOnsiMSI6IjEwMDAiLCIxMCI6IjVjMjAiLCIxMSI6IjVjMjAiLCIxNCI6IjEwMDAiLCIxNiI6IlVTLUNPflVTLUNUflVTLU1UflVTLU5FflVTLU5IflVTLVRYflVTLU1OflVTLU5KflVTLU1EflVTLU9SflVTLURFIiwiMTciOiJVUy1DT35VUy1DVH5VUy1NVH5VUy1ORX5VUy1OSH5VUy1UWH5VUy1NTn5VUy1OSn5VUy1NRCIsIjIiOiI5IiwiMjAiOiI1MDAwIiwiMjEiOiI1MDAwIiwiMjIiOiI0LjAuMCIsIjIzIjoiMC4wLjAiLCIyNSI6IjEiLCIyNiI6IjQwMDAiLCIyNyI6IjEwMCIsIjMiOiI1IiwiNCI6ImFkX3N0b3JhZ2V8YW5hbHl0aWNzX3N0b3JhZ2V8YWRfdXNlcl9kYXRhfGFkX3BlcnNvbmFsaXphdGlvbiIsIjQ0IjoiMTUwMDAiLCI0OCI6IjMwMDAwIiwiNSI6ImFkX3N0b3JhZ2V8YW5hbHl0aWNzX3N0b3JhZ2V8YWRfdXNlcl9kYXRhIiwiNiI6IjEiLCI3IjoiMTAifSwiNDgiOnRydWUsIjUiOiJHLU1FTkJNNkdTTlkiLCI1NSI6WyJHLU1FTkJNNkdTTlkiXSwiNTYiOlt7IjEiOjQwMywiMyI6MC41LCI0IjoxMTU5Mzg0NjUsIjUiOjExNTkzODQ2NiwiNiI6MCwiNyI6Mn0seyIxIjo0MDQsIjMiOjAuNSwiNCI6MTE1OTM4NDY4LCI1IjoxMTU5Mzg0NjksIjYiOjAsIjciOjF9LHsiMSI6NDMzLCIzIjowLjEsIjQiOjExNjY4Mjg3NSwiNSI6MTE2NjgyODc2LCI2IjoxMTY2ODI4NzcsIjciOjJ9LHsiMSI6NDI5LCIyIjp0cnVlfSx7IjEiOjQwOSwiMyI6MC4xLCI0IjoxMTY3NDQ4NjYsIjUiOjExNjc0NDg2NywiNiI6MCwiNyI6Mn0seyIxIjo0MzQsIjIiOnRydWV9LHsiMSI6NDE3LCIyIjp0cnVlfSx7IjEiOjQyMCwiMiI6dHJ1ZX0seyIxIjo0MDYsIjIiOnRydWV9LHsiMSI6NDE0LCIzIjowLjAxLCI0IjoxMTU5ODU2NjEsIjUiOjExNTk4NTY2MCwiNiI6MCwiNyI6Mn0seyIxIjo0MTUsIjIiOnRydWV9LHsiMSI6NDEyLCIyIjp0cnVlfV0sIjU5IjpbIkctTUVOQk02R1NOWSJdLCI2IjoiMTMyMjQ0ODA0In0KLCJwZXJtaXNzaW9ucyI6ewoiX19jIjp7fQosCiJfX2NjZF9hdXRvX3JlZGFjdCI6e30KLAoiX19jY2RfY29udmVyc2lvbl9tYXJraW5nIjp7fQosCiJfX2NjZF9nYV9maXJzdCI6eyJyZWFkX2RvbV9lbGVtZW50cyI6eyJhbGxvd2VkQ3NzU2VsZWN0b3JzIjoiYW55In0sImdldF91cmwiOnsidXJsUGFydHMiOiJzcGVjaWZpYyIsInByb3RvY29sIjp0cnVlLCJob3N0Ijp0cnVlfX0KLAoiX19jY2RfZ2FfbGFzdCI6e30KLAoiX19jY2RfZ2FfcmVnc2NvcGUiOnsicmVhZF9jb250YWluZXJfZGF0YSI6e319CiwKIl9fZSI6eyJyZWFkX2V2ZW50X2RhdGEiOnsiZXZlbnREYXRhQWNjZXNzIjoic3BlY2lmaWMiLCJrZXlQYXR0ZXJucyI6WyJldmVudCJdfX0KLAoiX19nY3QiOnsiYWNjZXNzX3RlbXBsYXRlX3N0b3JhZ2UiOnt9fQosCiJfX29ndF8xcF9kYXRhX3YyIjp7ImRldGVjdF91c2VyX3Byb3ZpZGVkX2RhdGEiOnsibGltaXREYXRhU291cmNlcyI6dHJ1ZSwiYWxsb3dBdXRvRGF0YVNvdXJjZXMiOnRydWUsImFsbG93TWFudWFsRGF0YVNvdXJjZXMiOmZhbHNlLCJhbGxvd0NvZGVEYXRhU291cmNlcyI6ZmFsc2V9fQosCiJfX29ndF9nYV9zZW5kIjp7ImFjY2Vzc19nbG9iYWxzIjp7ImtleXMiOlt7ImtleSI6ImdhLnEiLCJyZWFkIjp0cnVlLCJ3cml0ZSI6dHJ1ZSwiZXhlY3V0ZSI6dHJ1ZX0seyJrZXkiOiJHb29nbGVBbmFseXRpY3NPYmplY3QiLCJyZWFkIjp0cnVlLCJ3cml0ZSI6ZmFsc2UsImV4ZWN1dGUiOmZhbHNlfV19LCJyZWFkX2NvbnRhaW5lcl9kYXRhIjp7fX0KLAoiX19vZ3RfZ29vZ2xlX3NpZ25hbHMiOnsicmVhZF9jb250YWluZXJfZGF0YSI6e319CiwKIl9fb2d0X3JlZmVycmFsX2V4Y2x1c2lvbiI6e30KLAoiX19vZ3Rfc2Vzc2lvbl90aW1lb3V0Ijp7fQosCiJfX3NldF9wcm9kdWN0X3NldHRpbmdzIjp7fQoKCn0KCgoKLCJzZWN1cml0eV9ncm91cHMiOnsKImdvb2dsZSI6WwoiX19jIgosCiJfX2NjZF9hdXRvX3JlZGFjdCIKLAoiX19jY2RfY29udmVyc2lvbl9tYXJraW5nIgosCiJfX2NjZF9nYV9maXJzdCIKLAoiX19jY2RfZ2FfbGFzdCIKLAoiX19jY2RfZ2FfcmVnc2NvcGUiCiwKIl9fZSIKLAoiX19nY3QiCiwKIl9fb2d0XzFwX2RhdGFfdjIiCiwKIl9fb2d0X2dhX3NlbmQiCiwKIl9fb2d0X2dvb2dsZV9zaWduYWxzIgosCiJfX29ndF9yZWZlcnJhbF9leGNsdXNpb24iCiwKIl9fb2d0X3Nlc3Npb25fdGltZW91dCIKLAoiX19zZXRfcHJvZHVjdF9zZXR0aW5ncyIKCl0KCgp9CgoKCn07CgoKCgp2YXIgayxhYT10eXBlb2YgT2JqZWN0LmNyZWF0ZT09ImZ1bmN0aW9uIj9PYmplY3QuY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7fTtiLnByb3RvdHlwZT1hO3JldHVybiBuZXcgYn0sY2E9dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzPT0iZnVuY3Rpb24iP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7aWYoYT09QXJyYXkucHJvdG90eXBlfHxhPT1PYmplY3QucHJvdG90eXBlKXJldHVybiBhO2FbYl09Yy52YWx1ZTtyZXR1cm4gYX0sZGE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVsib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMsYSwib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93LCJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZiwib2JqZWN0Ij09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsXSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107aWYoZCYmZC5NYXRoPT1NYXRoKXJldHVybiBkfXRocm93IEVycm9yKCJDYW5ub3QgZmluZCBnbG9iYWwgb2JqZWN0Iik7Cn0sZWE9ZGEodGhpcyksZmE9dHlwZW9mIFN5bWJvbD09PSJmdW5jdGlvbiImJnR5cGVvZiBTeW1ib2woIngiKT09PSJzeW1ib2wiLGlhPXt9LGthPXt9LG5hPWZ1bmN0aW9uKGEsYixjKXtpZighY3x8YSE9bnVsbCl7dmFyIGQ9a2FbYl07aWYoZD09bnVsbClyZXR1cm4gYVtiXTt2YXIgZT1hW2RdO3JldHVybiBlIT09dm9pZCAwP2U6YVtiXX19LG9hPWZ1bmN0aW9uKGEsYixjKXtpZihiKWE6e3ZhciBkPWEuc3BsaXQoIi4iKSxlPWQubGVuZ3RoPT09MSxmPWRbMF0sZzshZSYmZiBpbiBpYT9nPWlhOmc9ZWE7Zm9yKHZhciBoPTA7aDxkLmxlbmd0aC0xO2grKyl7dmFyIGw9ZFtoXTtpZighKGwgaW4gZykpYnJlYWsgYTtnPWdbbF19dmFyIG49ZFtkLmxlbmd0aC0xXSxwPWZhJiZjPT09ImVzNiI/Z1tuXTpudWxsLHE9YihwKTtpZihxIT1udWxsKWlmKGUpY2EoaWEsbix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnF9KTtlbHNlIGlmKHEhPT1wKXtpZihrYVtuXT09PXZvaWQgMCl7dmFyIHI9Ck1hdGgucmFuZG9tKCkqMUU5Pj4+MDtrYVtuXT1mYT9lYS5TeW1ib2wobik6IiRqc2NwJCIrcisiJCIrbn1jYShnLGthW25dLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cX0pfX19LHFhO2lmKGZhJiZ0eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mPT0iZnVuY3Rpb24iKXFhPU9iamVjdC5zZXRQcm90b3R5cGVPZjtlbHNle3ZhciByYTthOnt2YXIgc2E9e2E6ITB9LHVhPXt9O3RyeXt1YS5fX3Byb3RvX189c2E7cmE9dWEuYTticmVhayBhfWNhdGNoKGEpe31yYT0hMX1xYT1yYT9mdW5jdGlvbihhLGIpe2EuX19wcm90b19fPWI7aWYoYS5fX3Byb3RvX18hPT1iKXRocm93IG5ldyBUeXBlRXJyb3IoYSsiIGlzIG5vdCBleHRlbnNpYmxlIik7cmV0dXJuIGF9Om51bGx9CnZhciB2YT1xYSx3YT1mdW5jdGlvbihhLGIpe2EucHJvdG90eXBlPWFhKGIucHJvdG90eXBlKTthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2lmKHZhKXZhKGEsYik7ZWxzZSBmb3IodmFyIGMgaW4gYilpZihjIT0icHJvdG90eXBlIilpZihPYmplY3QuZGVmaW5lUHJvcGVydGllcyl7dmFyIGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpO2QmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsZCl9ZWxzZSBhW2NdPWJbY107YS5ucz1iLnByb3RvdHlwZX0seGE9ZnVuY3Rpb24oYSl7dmFyIGI9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX19LG09ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIFN5bWJvbCE9InVuZGVmaW5lZCImJlN5bWJvbC5pdGVyYXRvciYmYVtTeW1ib2wuaXRlcmF0b3JdO2lmKGIpcmV0dXJuIGIuY2FsbChhKTtpZih0eXBlb2YgYS5sZW5ndGg9PSJudW1iZXIiKXJldHVybntuZXh0OnhhKGEpfTsKdGhyb3cgRXJyb3IoU3RyaW5nKGEpKyIgaXMgbm90IGFuIGl0ZXJhYmxlIG9yIEFycmF5TGlrZSIpO30seWE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9W107IShiPWEubmV4dCgpKS5kb25lOyljLnB1c2goYi52YWx1ZSk7cmV0dXJuIGN9LHphPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQXJyYXk/YTp5YShtKGEpKX0sQmE9ZnVuY3Rpb24oYSl7cmV0dXJuIEFhKGEsYSl9LEFhPWZ1bmN0aW9uKGEsYil7YS5yYXc9YjtPYmplY3QuZnJlZXplJiYoT2JqZWN0LmZyZWV6ZShhKSxPYmplY3QuZnJlZXplKGIpKTtyZXR1cm4gYX0sQ2E9ZmEmJnR5cGVvZiBuYShPYmplY3QsImFzc2lnbiIpPT0iZnVuY3Rpb24iP25hKE9iamVjdCwiYXNzaWduIik6ZnVuY3Rpb24oYSxiKXtpZihhPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoIk5vIG51bGxpc2ggYXJnIik7YT1PYmplY3QoYSk7Zm9yKHZhciBjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7dmFyIGQ9YXJndW1lbnRzW2NdOwppZihkKWZvcih2YXIgZSBpbiBkKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGUpJiYoYVtlXT1kW2VdKX1yZXR1cm4gYX07b2EoIk9iamVjdC5hc3NpZ24iLGZ1bmN0aW9uKGEpe3JldHVybiBhfHxDYX0sImVzNiIpO3ZhciBEYT1mdW5jdGlvbigpe2Zvcih2YXIgYT1OdW1iZXIodGhpcyksYj1bXSxjPWE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyliW2MtYV09YXJndW1lbnRzW2NdO3JldHVybiBifTsvKgoKIENvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuCiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMAoqLwp2YXIgRWE9dGhpc3x8c2VsZixGYT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5ucz1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EudnQ9ZnVuY3Rpb24oZCxlLGYpe2Zvcih2YXIgZz1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGg9MjtoPGFyZ3VtZW50cy5sZW5ndGg7aCsrKWdbaC0yXT1hcmd1bWVudHNbaF07cmV0dXJuIGIucHJvdG90eXBlW2VdLmFwcGx5KGQsZyl9fTt2YXIgR2E9ZnVuY3Rpb24oYSxiKXt0aGlzLnR5cGU9YTt0aGlzLmRhdGE9Yn07dmFyIEhhPWZ1bmN0aW9uKCl7dGhpcy5tYXA9e307dGhpcy5DPXt9fTtIYS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcFsiZHVzdC4iK2FdfTtIYS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9ImR1c3QuIithO3RoaXMuQy5oYXNPd25Qcm9wZXJ0eShjKXx8KHRoaXMubWFwW2NdPWIpfTtIYS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eSgiZHVzdC4iK2EpfTtIYS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPSJkdXN0LiIrYTt0aGlzLkMuaGFzT3duUHJvcGVydHkoYil8fGRlbGV0ZSB0aGlzLm1hcFtiXX07CnZhciBJYT1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ7Zm9yKGQgaW4gYS5tYXApaWYoYS5tYXAuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBlPWQuc3Vic3RyaW5nKDUpO3N3aXRjaChiKXtjYXNlIDE6Yy5wdXNoKGUpO2JyZWFrO2Nhc2UgMjpjLnB1c2goYS5tYXBbZF0pO2JyZWFrO2Nhc2UgMzpjLnB1c2goW2UsYS5tYXBbZF1dKX19cmV0dXJuIGN9O0hhLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiBJYSh0aGlzLDEpfTtIYS5wcm90b3R5cGUud2M9ZnVuY3Rpb24oKXtyZXR1cm4gSWEodGhpcywyKX07SGEucHJvdG90eXBlLmhjPWZ1bmN0aW9uKCl7cmV0dXJuIElhKHRoaXMsMyl9O3ZhciBKYT1mdW5jdGlvbigpe307SmEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7fTt2YXIgS2E9ZnVuY3Rpb24oYSxiKXt0aGlzLlQ9YTt0aGlzLnBhcmVudD1iO3RoaXMuUD10aGlzLkM9dm9pZCAwO3RoaXMuQmI9ITE7dGhpcy5IPWZ1bmN0aW9uKGMsZCxlKXtyZXR1cm4gYy5hcHBseShkLGUpfTt0aGlzLnZhbHVlcz1uZXcgSGF9O0thLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSxiKXtMYSh0aGlzLGEsYiwhMSl9O0thLnByb3RvdHlwZS5GaD1mdW5jdGlvbihhLGIpe0xhKHRoaXMsYSxiLCEwKX07dmFyIExhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKCFhLkJiKWlmKGQpe3ZhciBlPWEudmFsdWVzO2Uuc2V0KGIsYyk7ZS5DWyJkdXN0LiIrYl09ITB9ZWxzZSBhLnZhbHVlcy5zZXQoYixjKX07az1LYS5wcm90b3R5cGU7ay5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLkJifHwoIXRoaXMudmFsdWVzLmhhcyhhKSYmdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmhhcyhhKT90aGlzLnBhcmVudC5zZXQoYSxiKTp0aGlzLnZhbHVlcy5zZXQoYSxiKSl9OwprLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YWx1ZXMuaGFzKGEpP3RoaXMudmFsdWVzLmdldChhKTp0aGlzLnBhcmVudD90aGlzLnBhcmVudC5nZXQoYSk6dm9pZCAwfTtrLmhhcz1mdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMudmFsdWVzLmhhcyhhKXx8ISghdGhpcy5wYXJlbnR8fCF0aGlzLnBhcmVudC5oYXMoYSkpfTtrLm9iPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEthKHRoaXMuVCx0aGlzKTt0aGlzLkMmJmEuUmIodGhpcy5DKTthLlpjKHRoaXMuSCk7YS5VZCh0aGlzLlApO3JldHVybiBhfTtrLkxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07ay5SYj1mdW5jdGlvbihhKXt0aGlzLkM9YX07ay5rbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkN9O2suWmM9ZnVuY3Rpb24oYSl7dGhpcy5IPWF9O2sua2o9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IfTtrLlZhPWZ1bmN0aW9uKCl7dGhpcy5CYj0hMH07ay5VZD1mdW5jdGlvbihhKXt0aGlzLlA9YX07ay5xYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlB9O3ZhciBOYT1mdW5jdGlvbigpe3RoaXMudmFsdWU9e307dGhpcy5wcmVmaXg9Imd0bS4ifTtOYS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZVt0aGlzLnByZWZpeCtTdHJpbmcoYSldPWJ9O05hLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudmFsdWVbdGhpcy5wcmVmaXgrU3RyaW5nKGEpXX07TmEucHJvdG90eXBlLmhhcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YWx1ZS5oYXNPd25Qcm9wZXJ0eSh0aGlzLnByZWZpeCtTdHJpbmcoYSkpfTtmdW5jdGlvbiBPYSgpe3RyeXtpZihNYXApcmV0dXJuIG5ldyBNYXB9Y2F0Y2goYSl7fXJldHVybiBuZXcgTmF9O3ZhciBQYT1mdW5jdGlvbigpe3RoaXMudmFsdWVzPVtdfTtQYS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe3RoaXMudmFsdWVzLmluZGV4T2YoYSk9PT0tMSYmdGhpcy52YWx1ZXMucHVzaChhKX07UGEucHJvdG90eXBlLmhhcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YWx1ZXMuaW5kZXhPZihhKT4tMX07dmFyIFFhPWZ1bmN0aW9uKGEsYil7dGhpcy5sYT1hO3RoaXMucGFyZW50PWI7dGhpcy5UPXRoaXMuSD12b2lkIDA7dGhpcy5CYj0hMTt0aGlzLlA9ZnVuY3Rpb24oZCxlLGYpe3JldHVybiBkLmFwcGx5KGUsZil9O3RoaXMuQz1PYSgpO3ZhciBjO2E6e3RyeXtpZihTZXQpe2M9bmV3IFNldDticmVhayBhfX1jYXRjaChkKXt9Yz1uZXcgUGF9dGhpcy5WPWN9O1FhLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSxiKXtSYSh0aGlzLGEsYiwhMSl9O1FhLnByb3RvdHlwZS5GaD1mdW5jdGlvbihhLGIpe1JhKHRoaXMsYSxiLCEwKX07dmFyIFJhPWZ1bmN0aW9uKGEsYixjLGQpe2EuQmJ8fGEuVi5oYXMoYil8fChkJiZhLlYuYWRkKGIpLGEuQy5zZXQoYixjKSl9O2s9UWEucHJvdG90eXBlOwprLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuQmJ8fCghdGhpcy5DLmhhcyhhKSYmdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmhhcyhhKT90aGlzLnBhcmVudC5zZXQoYSxiKTp0aGlzLlYuaGFzKGEpfHx0aGlzLkMuc2V0KGEsYikpfTtrLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5DLmhhcyhhKT90aGlzLkMuZ2V0KGEpOnRoaXMucGFyZW50P3RoaXMucGFyZW50LmdldChhKTp2b2lkIDB9O2suaGFzPWZ1bmN0aW9uKGEpe3JldHVybiEhdGhpcy5DLmhhcyhhKXx8ISghdGhpcy5wYXJlbnR8fCF0aGlzLnBhcmVudC5oYXMoYSkpfTtrLm9iPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFFhKHRoaXMubGEsdGhpcyk7dGhpcy5IJiZhLlJiKHRoaXMuSCk7YS5aYyh0aGlzLlApO2EuVWQodGhpcy5UKTtyZXR1cm4gYX07ay5MZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhfTtrLlJiPWZ1bmN0aW9uKGEpe3RoaXMuSD1hfTtrLmtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSH07CmsuWmM9ZnVuY3Rpb24oYSl7dGhpcy5QPWF9O2sua2o9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QfTtrLlZhPWZ1bmN0aW9uKCl7dGhpcy5CYj0hMH07ay5VZD1mdW5jdGlvbihhKXt0aGlzLlQ9YX07ay5xYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O3ZhciBUYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7ZD1FcnJvci5jYWxsKHRoaXMsYS5tZXNzYWdlKTt0aGlzLm1lc3NhZ2U9ZC5tZXNzYWdlOyJzdGFjayJpbiBkJiYodGhpcy5zdGFjaz1kLnN0YWNrKTt0aGlzLnVuPWE7dGhpcy5abT1jPT09dm9pZCAwPyExOmM7dGhpcy5kZWJ1Z0luZm89W107dGhpcy5DPWJ9O3dhKFRhLEVycm9yKTt2YXIgVWE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBUYT9hOm5ldyBUYShhLHZvaWQgMCwhMCl9O3ZhciBWYT1bXTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gVmFbYV09PT12b2lkIDA/ITE6VmFbYV19O3ZhciBYYT1PYSgpO2Z1bmN0aW9uIFphKGEsYil7Zm9yKHZhciBjLGQ9bShiKSxlPWQubmV4dCgpOyFlLmRvbmUmJiEoYz0kYShhLGUudmFsdWUpLGMgaW5zdGFuY2VvZiBHYSk7ZT1kLm5leHQoKSk7cmV0dXJuIGN9CmZ1bmN0aW9uICRhKGEsYil7dHJ5e2lmKFdhKDE4KSl7dmFyIGM9YlswXSxkPWIuc2xpY2UoMSksZT1TdHJpbmcoYyksZj1YYS5oYXMoZSk/WGEuZ2V0KGUpOmEuZ2V0KGUpO2lmKCFmfHx0eXBlb2YgZi5pbnZva2UhPT0iZnVuY3Rpb24iKXRocm93IFVhKEVycm9yKCJBdHRlbXB0aW5nIHRvIGV4ZWN1dGUgbm9uLWZ1bmN0aW9uICIrYlswXSsiLiIpKTtyZXR1cm4gZi5hcHBseShhLGQpfXZhciBnPW0oYiksaD1nLm5leHQoKS52YWx1ZSxsPXlhKGcpLG49YS5nZXQoU3RyaW5nKGgpKTtpZighbnx8dHlwZW9mIG4uaW52b2tlIT09ImZ1bmN0aW9uIil0aHJvdyBVYShFcnJvcigiQXR0ZW1wdGluZyB0byBleGVjdXRlIG5vbi1mdW5jdGlvbiAiK2JbMF0rIi4iKSk7cmV0dXJuIG4uaW52b2tlLmFwcGx5KG4sW2FdLmNvbmNhdCh6YShsKSkpfWNhdGNoKHEpe3ZhciBwPWEua24oKTtwJiZwKHEsYi5jb250ZXh0P3tpZDpiWzBdLGxpbmU6Yi5jb250ZXh0LmxpbmV9Om51bGwpO3Rocm93IHE7fX0KO3ZhciBhYj1mdW5jdGlvbigpe3RoaXMuSD1uZXcgSmE7dGhpcy5DPVdhKDE4KT9uZXcgUWEodGhpcy5IKTpuZXcgS2EodGhpcy5IKX07az1hYi5wcm90b3R5cGU7ay5MZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkh9O2suUmI9ZnVuY3Rpb24oYSl7dGhpcy5DLlJiKGEpfTtrLlpjPWZ1bmN0aW9uKGEpe3RoaXMuQy5aYyhhKX07ay5leGVjdXRlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLktqKFthXS5jb25jYXQoemEoRGEuYXBwbHkoMSxhcmd1bWVudHMpKSkpfTtrLktqPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9bShEYS5hcHBseSgwLGFyZ3VtZW50cykpLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWE9JGEodGhpcy5DLGMudmFsdWUpO3JldHVybiBhfTsKay5JcD1mdW5jdGlvbihhKXt2YXIgYj1EYS5hcHBseSgxLGFyZ3VtZW50cyksYz10aGlzLkMub2IoKTtjLlVkKGEpO2Zvcih2YXIgZCxlPW0oYiksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpZD0kYShjLGYudmFsdWUpO3JldHVybiBkfTtrLlZhPWZ1bmN0aW9uKCl7dGhpcy5DLlZhKCl9O3ZhciBiYj1mdW5jdGlvbigpe3RoaXMuSGE9ITE7dGhpcy5kYT1uZXcgSGF9O2s9YmIucHJvdG90eXBlO2suZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRhLmdldChhKX07ay5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLkhhfHx0aGlzLmRhLnNldChhLGIpfTtrLmhhcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kYS5oYXMoYSl9O2sucmVtb3ZlPWZ1bmN0aW9uKGEpe3RoaXMuSGF8fHRoaXMuZGEucmVtb3ZlKGEpfTtrLnlhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGEueWEoKX07ay53Yz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhLndjKCl9O2suaGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYS5oYygpfTtrLlZhPWZ1bmN0aW9uKCl7dGhpcy5IYT0hMH07ay5CYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhhfTtmdW5jdGlvbiBkYigpe2Zvcih2YXIgYT1lYixiPXt9LGM9MDtjPGEubGVuZ3RoOysrYyliW2FbY11dPWM7cmV0dXJuIGJ9ZnVuY3Rpb24gZmIoKXt2YXIgYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoiO2ErPWEudG9Mb3dlckNhc2UoKSsiMDEyMzQ1Njc4OS1fIjtyZXR1cm4gYSsiLiJ9dmFyIGViLGdiO2Z1bmN0aW9uIGhiKGEpe2ViPWVifHxmYigpO2diPWdifHxkYigpO2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKz0zKXt2YXIgZD1jKzE8YS5sZW5ndGgsZT1jKzI8YS5sZW5ndGgsZj1hLmNoYXJDb2RlQXQoYyksZz1kP2EuY2hhckNvZGVBdChjKzEpOjAsaD1lP2EuY2hhckNvZGVBdChjKzIpOjAsbD1mPj4yLG49KGYmMyk8PDR8Zz4+NCxwPShnJjE1KTw8MnxoPj42LHE9aCY2MztlfHwocT02NCxkfHwocD02NCkpO2IucHVzaChlYltsXSxlYltuXSxlYltwXSxlYltxXSl9cmV0dXJuIGIuam9pbigiIil9CmZ1bmN0aW9uIGliKGEpe2Z1bmN0aW9uIGIobCl7Zm9yKDtkPGEubGVuZ3RoOyl7dmFyIG49YS5jaGFyQXQoZCsrKSxwPWdiW25dO2lmKHAhPW51bGwpcmV0dXJuIHA7aWYoIS9eW1xzXHhhMF0qJC8udGVzdChuKSl0aHJvdyBFcnJvcigiVW5rbm93biBiYXNlNjQgZW5jb2RpbmcgYXQgY2hhcjogIituKTt9cmV0dXJuIGx9ZWI9ZWJ8fGZiKCk7Z2I9Z2J8fGRiKCk7Zm9yKHZhciBjPSIiLGQ9MDs7KXt2YXIgZT1iKC0xKSxmPWIoMCksZz1iKDY0KSxoPWIoNjQpO2lmKGg9PT02NCYmZT09PS0xKXJldHVybiBjO2MrPVN0cmluZy5mcm9tQ2hhckNvZGUoZTw8MnxmPj40KTtnIT09NjQmJihjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGY8PDQmMjQwfGc+PjIpLGghPT02NCYmKGMrPVN0cmluZy5mcm9tQ2hhckNvZGUoZzw8NiYxOTJ8aCkpKX19O3ZhciBqYj17fTtmdW5jdGlvbiBrYihhLGIpe3ZhciBjPWpiW2FdO2N8fChjPWpiW2FdPVtdKTtjW2JdPSEwfWZ1bmN0aW9uIGxiKCl7ZGVsZXRlIGpiLkdBNF9FVkVOVH1mdW5jdGlvbiBuYigpe3ZhciBhPW9iLnNsaWNlKCk7amIuR1RBR19FVkVOVF9GRUFUVVJFX0NIQU5ORUw9YX1mdW5jdGlvbiBwYihhKXtmb3IodmFyIGI9W10sYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKylkJTg9PT0wJiZkPjAmJihiLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShjKSksYz0wKSxhW2RdJiYoY3w9MTw8ZCU4KTtjPjAmJmIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGMpKTtyZXR1cm4gaGIoYi5qb2luKCIiKSkucmVwbGFjZSgvXC4rJC8sIiIpfTtmdW5jdGlvbiBxYigpe31mdW5jdGlvbiByYihhKXtyZXR1cm4gdHlwZW9mIGE9PT0iZnVuY3Rpb24ifWZ1bmN0aW9uIHNiKGEpe3JldHVybiB0eXBlb2YgYT09PSJzdHJpbmcifWZ1bmN0aW9uIHRiKGEpe3JldHVybiB0eXBlb2YgYT09PSJudW1iZXIiJiYhaXNOYU4oYSl9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSk/YTpbYV19ZnVuY3Rpb24gdmIoYSxiKXtpZihhJiZBcnJheS5pc0FycmF5KGEpKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY10mJmIoYVtjXSkpcmV0dXJuIGFbY119ZnVuY3Rpb24gd2IoYSxiKXtpZighdGIoYSl8fCF0YihiKXx8YT5iKWE9MCxiPTIxNDc0ODM2NDc7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooYi1hKzEpK2EpfQpmdW5jdGlvbiB4YihhLGIpe2Zvcih2YXIgYz1uZXcgeWIsZD0wO2Q8YS5sZW5ndGg7ZCsrKWMuc2V0KGFbZF0sITApO2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKGMuZ2V0KGJbZV0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHpiKGEsYil7Zm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJmIoYyxhW2NdKX1mdW5jdGlvbiBBYihhKXtyZXR1cm4hIWEmJihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk9PT0iW29iamVjdCBBcmd1bWVudHNdInx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImNhbGxlZSIpKX1mdW5jdGlvbiBCYihhKXtyZXR1cm4gTWF0aC5yb3VuZChOdW1iZXIoYSkpfHwwfWZ1bmN0aW9uIENiKGEpe3JldHVybiJmYWxzZSI9PT1TdHJpbmcoYSkudG9Mb3dlckNhc2UoKT8hMTohIWF9CmZ1bmN0aW9uIERiKGEpe3ZhciBiPVtdO2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXNoKFN0cmluZyhhW2NdKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gRWIoYSl7cmV0dXJuIGE/YS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIik6IiJ9ZnVuY3Rpb24gRmIoKXtyZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSl9ZnVuY3Rpb24gR2IoKXtyZXR1cm4gRmIoKS5nZXRUaW1lKCl9dmFyIHliPWZ1bmN0aW9uKCl7dGhpcy5wcmVmaXg9Imd0bS4iO3RoaXMudmFsdWVzPXt9fTt5Yi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZXNbdGhpcy5wcmVmaXgrYV09Yn07eWIucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YWx1ZXNbdGhpcy5wcmVmaXgrYV19O3liLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXQoYSkhPT12b2lkIDB9OwpmdW5jdGlvbiBIYihhLGIsYyl7cmV0dXJuIGEmJmEuaGFzT3duUHJvcGVydHkoYik/YVtiXTpjfWZ1bmN0aW9uIEliKGEpe3ZhciBiPWE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoYil7dmFyIGM9YjtiPXZvaWQgMDt0cnl7YygpfWNhdGNoKGQpe319fX1mdW5jdGlvbiBKYihhLGIpe2Zvcih2YXIgYyBpbiBiKWIuaGFzT3duUHJvcGVydHkoYykmJihhW2NdPWJbY10pfWZ1bmN0aW9uIEtiKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKyljLnB1c2goYVtkXSksYy5wdXNoLmFwcGx5KGMsYlthW2RdXXx8W10pO3JldHVybiBjfWZ1bmN0aW9uIExiKGEsYil7cmV0dXJuIGEubGVuZ3RoPj1iLmxlbmd0aCYmYS5zdWJzdHJpbmcoMCxiLmxlbmd0aCk9PT1ifWZ1bmN0aW9uIE1iKGEsYil7cmV0dXJuIGEubGVuZ3RoPj1iLmxlbmd0aCYmYS5zdWJzdHJpbmcoYS5sZW5ndGgtYi5sZW5ndGgsYS5sZW5ndGgpPT09Yn0KZnVuY3Rpb24gTmIoYSxiLGMpe2M9Y3x8W107Zm9yKHZhciBkPWEsZT0wO2U8Yi5sZW5ndGgtMTtlKyspe2lmKCFkLmhhc093blByb3BlcnR5KGJbZV0pKXJldHVybjtkPWRbYltlXV07aWYoYy5pbmRleE9mKGQpPj0wKXJldHVybn1yZXR1cm4gZH1mdW5jdGlvbiBPYihhLGIpe2Zvcih2YXIgYz17fSxkPWMsZT1hLnNwbGl0KCIuIiksZj0wO2Y8ZS5sZW5ndGgtMTtmKyspZD1kW2VbZl1dPXt9O2RbZVtlLmxlbmd0aC0xXV09YjtyZXR1cm4gY312YXIgUmI9L15cd3sxLDl9JC87ZnVuY3Rpb24gU2IoYSxiKXthPWF8fHt9O2I9Ynx8IiwiO3ZhciBjPVtdO3piKGEsZnVuY3Rpb24oZCxlKXtSYi50ZXN0KGQpJiZlJiZjLnB1c2goZCl9KTtyZXR1cm4gYy5qb2luKGIpfQpmdW5jdGlvbiBUYihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hLmNoYXJDb2RlQXQoYyk7ZDwxMjg/Yi5wdXNoKGQpOmQ8MjA0OD9iLnB1c2goMTkyfGQ+PjYsMTI4fGQmNjMpOmQ8NTUyOTZ8fGQ+PTU3MzQ0P2IucHVzaCgyMjR8ZD4+MTIsMTI4fGQ+PjYmNjMsMTI4fGQmNjMpOihkPTY1NTM2KygoZCYxMDIzKTw8MTB8YS5jaGFyQ29kZUF0KCsrYykmMTAyMyksYi5wdXNoKDI0MHxkPj4xOCwxMjh8ZD4+MTImNjMsMTI4fGQ+PjYmNjMsMTI4fGQmNjMpKX1yZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYil9ZnVuY3Rpb24gVWIoYSxiKXtmdW5jdGlvbiBjKCl7ZSYmKytkPT09YiYmKGUoKSxlPW51bGwsYy5kb25lPSEwKX12YXIgZD0wLGU9YTtjLmRvbmU9ITE7cmV0dXJuIGN9CmZ1bmN0aW9uIFZiKGEpe2lmKCFhKXJldHVybiBhO3ZhciBiPWE7dHJ5e2I9ZGVjb2RlVVJJQ29tcG9uZW50KGEpfWNhdGNoKGQpe312YXIgYz1iLnNwbGl0KCIsIik7cmV0dXJuIGMubGVuZ3RoPT09MiYmY1swXT09PWNbMV0/Y1swXTphfQpmdW5jdGlvbiBXYihhLGIsYyl7ZnVuY3Rpb24gZChuKXt2YXIgcD1uLnNwbGl0KCI9IilbMF07aWYoYS5pbmRleE9mKHApPDApcmV0dXJuIG47aWYoYyE9PXZvaWQgMClyZXR1cm4gcCsiPSIrY31mdW5jdGlvbiBlKG4pe3JldHVybiBuLnNwbGl0KCImIikubWFwKGQpLmZpbHRlcihmdW5jdGlvbihwKXtyZXR1cm4gcCE9PXZvaWQgMH0pLmpvaW4oIiYiKX12YXIgZj1iLmhyZWYuc3BsaXQoL1s/I10vKVswXSxnPWIuc2VhcmNoLGg9Yi5oYXNoO2dbMF09PT0iPyImJihnPWcuc3Vic3RyaW5nKDEpKTtoWzBdPT09IiMiJiYoaD1oLnN1YnN0cmluZygxKSk7Zz1lKGcpO2g9ZShoKTtnIT09IiImJihnPSI/IitnKTtoIT09IiImJihoPSIjIitoKTt2YXIgbD0iIitmK2craDtsW2wubGVuZ3RoLTFdPT09Ii8iJiYobD1sLnN1YnN0cmluZygwLGwubGVuZ3RoLTEpKTtyZXR1cm4gbH0KZnVuY3Rpb24gWGIoYSl7Zm9yKHZhciBiPTA7YjwzOysrYil0cnl7dmFyIGM9ZGVjb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoL1wrL2csIiAiKTtpZihjPT09YSlicmVhazthPWN9Y2F0Y2goZCl7cmV0dXJuIiJ9cmV0dXJuIGF9ZnVuY3Rpb24gWWIoKXt2YXIgYT13LGI7YTp7dmFyIGM9YS5jcnlwdG98fGEubXNDcnlwdG87aWYoYyYmYy5nZXRSYW5kb21WYWx1ZXMpdHJ5e3ZhciBkPW5ldyBVaW50OEFycmF5KDI1KTtjLmdldFJhbmRvbVZhbHVlcyhkKTtiPWJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsemEoZCkpKS5yZXBsYWNlKC9cKy9nLCItIikucmVwbGFjZSgvXC8vZywiXyIpLnJlcGxhY2UoLz0rJC8sIiIpO2JyZWFrIGF9Y2F0Y2goZSl7fWI9dm9pZCAwfXJldHVybiBifTsvKgoKIENvcHlyaWdodCBHb29nbGUgTExDCiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMAoqLwp2YXIgWmI9Z2xvYmFsVGhpcy50cnVzdGVkVHlwZXMsJGI7ZnVuY3Rpb24gYWMoKXt2YXIgYT1udWxsO2lmKCFaYilyZXR1cm4gYTt0cnl7dmFyIGI9ZnVuY3Rpb24oYyl7cmV0dXJuIGN9O2E9WmIuY3JlYXRlUG9saWN5KCJnb29nI2h0bWwiLHtjcmVhdGVIVE1MOmIsY3JlYXRlU2NyaXB0OmIsY3JlYXRlU2NyaXB0VVJMOmJ9KX1jYXRjaChjKXt9cmV0dXJuIGF9ZnVuY3Rpb24gYmMoKXskYj09PXZvaWQgMCYmKCRiPWFjKCkpO3JldHVybiAkYn07dmFyIGNjPWZ1bmN0aW9uKGEpe3RoaXMuQz1hfTtjYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DKyIifTtmdW5jdGlvbiBkYyhhKXt2YXIgYj1hLGM9YmMoKSxkPWM/Yy5jcmVhdGVTY3JpcHRVUkwoYik6YjtyZXR1cm4gbmV3IGNjKGQpfWZ1bmN0aW9uIGVjKGEpe2lmKGEgaW5zdGFuY2VvZiBjYylyZXR1cm4gYS5DO3Rocm93IEVycm9yKCIiKTt9O3ZhciBmYz1CYShbIiJdKSxoYz1BYShbIlx4MDAiXSxbIlxcMCJdKSxpYz1BYShbIlxuIl0sWyJcXG4iXSksamM9QWEoWyJceDAwIl0sWyJcXHUwMDAwIl0pO2Z1bmN0aW9uIGtjKGEpe3JldHVybiBhLnRvU3RyaW5nKCkuaW5kZXhPZigiYCIpPT09LTF9a2MoZnVuY3Rpb24oYSl7cmV0dXJuIGEoZmMpfSl8fGtjKGZ1bmN0aW9uKGEpe3JldHVybiBhKGhjKX0pfHxrYyhmdW5jdGlvbihhKXtyZXR1cm4gYShpYyl9KXx8a2MoZnVuY3Rpb24oYSl7cmV0dXJuIGEoamMpfSk7dmFyIGxjPWZ1bmN0aW9uKGEpe3RoaXMuQz1hfTtsYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DfTt2YXIgbWM9ZnVuY3Rpb24oYSl7dGhpcy55cj1hfTtmdW5jdGlvbiBuYyhhKXtyZXR1cm4gbmV3IG1jKGZ1bmN0aW9uKGIpe3JldHVybiBiLnN1YnN0cigwLGEubGVuZ3RoKzEpLnRvTG93ZXJDYXNlKCk9PT1hKyI6In0pfXZhciBvYz1bbmMoImRhdGEiKSxuYygiaHR0cCIpLG5jKCJodHRwcyIpLG5jKCJtYWlsdG8iKSxuYygiZnRwIiksbmV3IG1jKGZ1bmN0aW9uKGEpe3JldHVybi9eW146XSooWy8/I118JCkvLnRlc3QoYSl9KV07ZnVuY3Rpb24gcGMoYSl7dmFyIGI7Yj1iPT09dm9pZCAwP29jOmI7aWYoYSBpbnN0YW5jZW9mIGxjKXJldHVybiBhO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1iW2NdO2lmKGQgaW5zdGFuY2VvZiBtYyYmZC55cihhKSlyZXR1cm4gbmV3IGxjKGEpfX12YXIgcWM9L15ccyooPyFqYXZhc2NyaXB0OikoPzpbXHcrLi1dKzp8W146Lz8jXSooPzpbLz8jXXwkKSkvaTsKZnVuY3Rpb24gcmMoYSl7dmFyIGI7aWYoYSBpbnN0YW5jZW9mIGxjKWlmKGEgaW5zdGFuY2VvZiBsYyliPWEuQztlbHNlIHRocm93IEVycm9yKCIiKTtlbHNlIGI9cWMudGVzdChhKT9hOnZvaWQgMDtyZXR1cm4gYn07ZnVuY3Rpb24gc2MoYSxiKXt2YXIgYz1yYyhiKTtjIT09dm9pZCAwJiYoYS5hY3Rpb249Yyl9O2Z1bmN0aW9uIHRjKGEsYil7dGhyb3cgRXJyb3IoYj09PXZvaWQgMD8idW5leHBlY3RlZCB2YWx1ZSAiK2ErIiEiOmIpO307dmFyIHVjPWZ1bmN0aW9uKGEpe3RoaXMuQz1hfTt1Yy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DKyIifTt2YXIgd2M9ZnVuY3Rpb24oKXt0aGlzLkM9dmNbMF0udG9Mb3dlckNhc2UoKX07d2MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ307ZnVuY3Rpb24geGMoYSxiKXt2YXIgYz1bbmV3IHdjXTtpZihjLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoIiIpO3ZhciBkPWMubWFwKGZ1bmN0aW9uKGYpe3ZhciBnO2lmKGYgaW5zdGFuY2VvZiB3YylnPWYuQztlbHNlIHRocm93IEVycm9yKCIiKTtyZXR1cm4gZ30pLGU9Yi50b0xvd2VyQ2FzZSgpO2lmKGQuZXZlcnkoZnVuY3Rpb24oZil7cmV0dXJuIGUuaW5kZXhPZihmKSE9PTB9KSl0aHJvdyBFcnJvcignQXR0cmlidXRlICInK2IrJyIgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBhbGxvd2VkIHByZWZpeGVzLicpO2Euc2V0QXR0cmlidXRlKGIsInRydWUiKX07dmFyIHljPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYSxiLHZvaWQgMCl9OmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGE9PT0ic3RyaW5nIilyZXR1cm4gdHlwZW9mIGIhPT0ic3RyaW5nInx8Yi5sZW5ndGghPTE/LTE6YS5pbmRleE9mKGIsMCk7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX07IkFSVElDTEUgU0VDVElPTiBOQVYgQVNJREUgSDEgSDIgSDMgSDQgSDUgSDYgSEVBREVSIEZPT1RFUiBBRERSRVNTIFAgSFIgUFJFIEJMT0NLUVVPVEUgT0wgVUwgTEggTEkgREwgRFQgREQgRklHVVJFIEZJR0NBUFRJT04gTUFJTiBESVYgRU0gU1RST05HIFNNQUxMIFMgQ0lURSBRIERGTiBBQkJSIFJVQlkgUkIgUlQgUlRDIFJQIERBVEEgVElNRSBDT0RFIFZBUiBTQU1QIEtCRCBTVUIgU1VQIEkgQiBVIE1BUksgQkRJIEJETyBTUEFOIEJSIFdCUiBOT0JSIElOUyBERUwgUElDVFVSRSBQQVJBTSBUUkFDSyBNQVAgVEFCTEUgQ0FQVElPTiBDT0xHUk9VUCBDT0wgVEJPRFkgVEhFQUQgVEZPT1QgVFIgVEQgVEggU0VMRUNUIERBVEFMSVNUIE9QVEdST1VQIE9QVElPTiBPVVRQVVQgUFJPR1JFU1MgTUVURVIgRklFTERTRVQgTEVHRU5EIERFVEFJTFMgU1VNTUFSWSBNRU5VIERJQUxPRyBTTE9UIENBTlZBUyBGT05UIENFTlRFUiBBQ1JPTllNIEJBU0VGT05UIEJJRyBESVIgSEdST1VQIFNUUklLRSBUVCIuc3BsaXQoIiAiKS5jb25jYXQoWyJCVVRUT04iLAoiSU5QVVQiXSk7ZnVuY3Rpb24gemMoYSl7cmV0dXJuIGE9PT1udWxsPyJudWxsIjphPT09dm9pZCAwPyJ1bmRlZmluZWQiOmF9O3ZhciB3PXdpbmRvdyxBYz13aW5kb3cuaGlzdG9yeSx6PWRvY3VtZW50LEJjPW5hdmlnYXRvcjtmdW5jdGlvbiBDYygpe3ZhciBhO3RyeXthPUJjLnNlcnZpY2VXb3JrZXJ9Y2F0Y2goYil7cmV0dXJufXJldHVybiBhfXZhciBEYz16LmN1cnJlbnRTY3JpcHQsRWM9RGMmJkRjLnNyYztmdW5jdGlvbiBGYyhhLGIpe3ZhciBjPXcsZD1jW2FdO2NbYV09ZD09PXZvaWQgMD9iOmQ7cmV0dXJuIGNbYV19ZnVuY3Rpb24gR2MoYSl7cmV0dXJuKEJjLnVzZXJBZ2VudHx8IiIpLmluZGV4T2YoYSkhPT0tMX1mdW5jdGlvbiBIYygpe3JldHVybiBHYygiRmlyZWZveCIpfHxHYygiRnhpT1MiKX1mdW5jdGlvbiBJYygpe3JldHVybihHYygiR1NBIil8fEdjKCJHb29nbGVBcHAiKSkmJihHYygiaVBob25lIil8fEdjKCJpUGFkIikpfWZ1bmN0aW9uIEpjKCl7cmV0dXJuIEdjKCJFZGcvIil8fEdjKCJFZGdBLyIpfHxHYygiRWRnaU9TLyIpfQp2YXIgS2M9e2FzeW5jOjEsbm9uY2U6MSxvbmVycm9yOjEsb25sb2FkOjEsc3JjOjEsdHlwZToxfSxMYz17aGVpZ2h0OjEsb25sb2FkOjEsc3JjOjEsc3R5bGU6MSx3aWR0aDoxfTtmdW5jdGlvbiBNYyhhLGIsYyl7YiYmemIoYixmdW5jdGlvbihkLGUpe2Q9ZC50b0xvd2VyQ2FzZSgpO2MuaGFzT3duUHJvcGVydHkoZCl8fGEuc2V0QXR0cmlidXRlKGQsZSl9KX0KZnVuY3Rpb24gTmMoYSxiLGMsZCxlKXt2YXIgZj16LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO01jKGYsZCxLYyk7Zi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO2YuYXN5bmM9ZCYmZC5hc3luYz09PSExPyExOiEwO3ZhciBnO2c9ZGMoemMoYSkpO2Yuc3JjPWVjKGcpO3ZhciBoLGw9Zi5vd25lckRvY3VtZW50O2w9bD09PXZvaWQgMD9kb2N1bWVudDpsO3ZhciBuLHAscT0ocD0obj1sKS5xdWVyeVNlbGVjdG9yKT09bnVsbD92b2lkIDA6cC5jYWxsKG4sInNjcmlwdFtub25jZV0iKTsoaD1xPT1udWxsPyIiOnEubm9uY2V8fHEuZ2V0QXR0cmlidXRlKCJub25jZSIpfHwiIikmJmYuc2V0QXR0cmlidXRlKCJub25jZSIsaCk7YiYmKGYub25sb2FkPWIpO2MmJihmLm9uZXJyb3I9Yyk7aWYoZSllLmFwcGVuZENoaWxkKGYpO2Vsc2V7dmFyIHI9ei5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF18fHouYm9keXx8ei5oZWFkO3IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZixyKX1yZXR1cm4gZn0KZnVuY3Rpb24gT2MoKXtpZihFYyl7dmFyIGE9RWMudG9Mb3dlckNhc2UoKTtpZihhLmluZGV4T2YoImh0dHBzOi8vIik9PT0wKXJldHVybiAyO2lmKGEuaW5kZXhPZigiaHR0cDovLyIpPT09MClyZXR1cm4gM31yZXR1cm4gMX1mdW5jdGlvbiBQYyhhLGIsYyxkLGUsZil7Zj1mPT09dm9pZCAwPyEwOmY7dmFyIGc9ZSxoPSExO2d8fChnPXouY3JlYXRlRWxlbWVudCgiaWZyYW1lIiksaD0hMCk7TWMoZyxjLExjKTtkJiZ6YihkLGZ1bmN0aW9uKG4scCl7Zy5kYXRhc2V0W25dPXB9KTtmJiYoZy5oZWlnaHQ9IjAiLGcud2lkdGg9IjAiLGcuc3R5bGUuZGlzcGxheT0ibm9uZSIsZy5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTthIT09dm9pZCAwJiYoZy5zcmM9YSk7aWYoaCl7dmFyIGw9ei5ib2R5JiZ6LmJvZHkubGFzdENoaWxkfHx6LmJvZHl8fHouaGVhZDtsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcsbCl9YiYmKGcub25sb2FkPWIpO3JldHVybiBnfQpmdW5jdGlvbiBRYyhhLGIsYyxkKXtyZXR1cm4gUmMoYSxiLGMsZCl9ZnVuY3Rpb24gU2MoYSxiLGMsZCl7YS5hZGRFdmVudExpc3RlbmVyJiZhLmFkZEV2ZW50TGlzdGVuZXIoYixjLCEhZCl9ZnVuY3Rpb24gVGMoYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9ZnVuY3Rpb24gVWMoYSl7dy5zZXRUaW1lb3V0KGEsMCl9ZnVuY3Rpb24gVmMoYSxiKXtyZXR1cm4gYSYmYiYmYS5hdHRyaWJ1dGVzJiZhLmF0dHJpYnV0ZXNbYl0/YS5hdHRyaWJ1dGVzW2JdLnZhbHVlOm51bGx9ZnVuY3Rpb24gV2MoYSl7dmFyIGI9YS5pbm5lclRleHR8fGEudGV4dENvbnRlbnR8fCIiO2ImJmIhPT0iICImJihiPWIucmVwbGFjZSgvXltcc1x4YTBdKy9nLCIiKSxiPWIucmVwbGFjZSgvW1xzXHhhMF0rJC9nLCIiKSk7YiYmKGI9Yi5yZXBsYWNlKC8oXHhhMCt8XHN7Mix9fFxufFxyXHQpL2csIiAiKSk7cmV0dXJuIGJ9CmZ1bmN0aW9uIFhjKGEpe3ZhciBiPXouY3JlYXRlRWxlbWVudCgiZGl2IiksYz1iLGQsZT16YygiQTxkaXY+IithKyI8L2Rpdj4iKSxmPWJjKCksZz1mP2YuY3JlYXRlSFRNTChlKTplO2Q9bmV3IHVjKGcpO2lmKGMubm9kZVR5cGU9PT0xJiYvXihzY3JpcHR8c3R5bGUpJC9pLnRlc3QoYy50YWdOYW1lKSl0aHJvdyBFcnJvcigiIik7dmFyIGg7aWYoZCBpbnN0YW5jZW9mIHVjKWg9ZC5DO2Vsc2UgdGhyb3cgRXJyb3IoIiIpO2MuaW5uZXJIVE1MPWg7Yj1iLmxhc3RDaGlsZDtmb3IodmFyIGw9W107YiYmYi5maXJzdENoaWxkOylsLnB1c2goYi5yZW1vdmVDaGlsZChiLmZpcnN0Q2hpbGQpKTtyZXR1cm4gbH0KZnVuY3Rpb24gWWMoYSxiLGMpe2M9Y3x8MTAwO2Zvcih2YXIgZD17fSxlPTA7ZTxiLmxlbmd0aDtlKyspZFtiW2VdXT0hMDtmb3IodmFyIGY9YSxnPTA7ZiYmZzw9YztnKyspe2lmKGRbU3RyaW5nKGYudGFnTmFtZSkudG9Mb3dlckNhc2UoKV0pcmV0dXJuIGY7Zj1mLnBhcmVudEVsZW1lbnR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gWmMoYSxiLGMpe3ZhciBkO3RyeXtkPUJjLnNlbmRCZWFjb24mJkJjLnNlbmRCZWFjb24oYSl9Y2F0Y2goZSl7a2IoIlRBR0dJTkciLDE1KX1kP2I9PW51bGx8fGIoKTpSYyhhLGIsYyl9ZnVuY3Rpb24gJGMoYSxiKXt0cnl7cmV0dXJuIEJjLnNlbmRCZWFjb24oYSxiKX1jYXRjaChjKXtrYigiVEFHR0lORyIsMTUpfXJldHVybiExfXZhciBhZD1PYmplY3QuZnJlZXplKHtjYWNoZToibm8tc3RvcmUiLGNyZWRlbnRpYWxzOiJpbmNsdWRlIixrZWVwYWxpdmU6ITAsbWV0aG9kOiJQT1NUIixtb2RlOiJuby1jb3JzIixyZWRpcmVjdDoiZm9sbG93In0pOwpmdW5jdGlvbiBiZChhLGIsYyxkLGUpe2lmKGNkKCkpe3ZhciBmPW5hKE9iamVjdCwiYXNzaWduIikuY2FsbChPYmplY3Qse30sYWQpO2ImJihmLmJvZHk9Yik7YyYmKGMuYXR0cmlidXRpb25SZXBvcnRpbmcmJihmLmF0dHJpYnV0aW9uUmVwb3J0aW5nPWMuYXR0cmlidXRpb25SZXBvcnRpbmcpLGMuYnJvd3NpbmdUb3BpY3MhPT12b2lkIDAmJihmLmJyb3dzaW5nVG9waWNzPWMuYnJvd3NpbmdUb3BpY3MpLGMuY3JlZGVudGlhbHMmJihmLmNyZWRlbnRpYWxzPWMuY3JlZGVudGlhbHMpLGMua2VlcGFsaXZlIT09dm9pZCAwJiYoZi5rZWVwYWxpdmU9Yy5rZWVwYWxpdmUpLGMubWV0aG9kJiYoZi5tZXRob2Q9Yy5tZXRob2QpLGMubW9kZSYmKGYubW9kZT1jLm1vZGUpKTt0cnl7dmFyIGc9dy5mZXRjaChhLGYpO2lmKGcpcmV0dXJuIGcudGhlbihmdW5jdGlvbihsKXtsJiYobC5va3x8bC5zdGF0dXM9PT0wKT9kPT1udWxsfHxkKCk6ZT09bnVsbHx8ZSgpfSkuY2F0Y2goZnVuY3Rpb24oKXtlPT0KbnVsbHx8ZSgpfSksITB9Y2F0Y2gobCl7fX1pZigoYz09bnVsbD8wOmMuUmUpfHwoYz09bnVsbD8wOmMuY3JlZGVudGlhbHMpJiZjLmNyZWRlbnRpYWxzIT09ImluY2x1ZGUiKXJldHVybiBlPT1udWxsfHxlKCksITE7aWYoYil7dmFyIGg9JGMoYSxiKTtoP2Q9PW51bGx8fGQoKTplPT1udWxsfHxlKCk7cmV0dXJuIGh9ZGQoYSxkLGUpO3JldHVybiEwfWZ1bmN0aW9uIGNkKCl7cmV0dXJuIHR5cGVvZiB3LmZldGNoPT09ImZ1bmN0aW9uIn1mdW5jdGlvbiBlZChhLGIpe3ZhciBjPWFbYl07YyYmdHlwZW9mIGMuYW5pbVZhbD09PSJzdHJpbmciJiYoYz1jLmFuaW1WYWwpO3JldHVybiBjfWZ1bmN0aW9uIGZkKCl7dmFyIGE9dy5wZXJmb3JtYW5jZTtpZihhJiZyYihhLm5vdykpcmV0dXJuIGEubm93KCl9CmZ1bmN0aW9uIGdkKCl7dmFyIGEsYj13LnBlcmZvcm1hbmNlO2lmKGImJmIuZ2V0RW50cmllc0J5VHlwZSl0cnl7dmFyIGM9Yi5nZXRFbnRyaWVzQnlUeXBlKCJuYXZpZ2F0aW9uIik7YyYmYy5sZW5ndGg+MCYmKGE9Y1swXS50eXBlKX1jYXRjaChkKXtyZXR1cm4iZSJ9aWYoIWEpcmV0dXJuInUiO3N3aXRjaChhKXtjYXNlICJuYXZpZ2F0ZSI6cmV0dXJuIm4iO2Nhc2UgImJhY2tfZm9yd2FyZCI6cmV0dXJuImgiO2Nhc2UgInJlbG9hZCI6cmV0dXJuInIiO2Nhc2UgInByZXJlbmRlciI6cmV0dXJuInAiO2RlZmF1bHQ6cmV0dXJuIngifX1mdW5jdGlvbiBoZCgpe3JldHVybiB3LnBlcmZvcm1hbmNlfHx2b2lkIDB9ZnVuY3Rpb24gaWQoKXt2YXIgYT13LndlYlBpeGVsc01hbmFnZXI7cmV0dXJuIGE/YS5jcmVhdGVTaG9waWZ5RXh0ZW5kIT09dm9pZCAwOiExfQp2YXIgUmM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bmV3IEltYWdlKDEsMSk7TWMoZSxkLHt9KTtlLm9ubG9hZD1mdW5jdGlvbigpe2Uub25sb2FkPW51bGw7YiYmYigpfTtlLm9uZXJyb3I9ZnVuY3Rpb24oKXtlLm9uZXJyb3I9bnVsbDtjJiZjKCl9O2Uuc3JjPWE7cmV0dXJuIGV9LGRkPVpjO2Z1bmN0aW9uIGpkKGEsYil7cmV0dXJuIHRoaXMuZXZhbHVhdGUoYSkmJnRoaXMuZXZhbHVhdGUoYil9ZnVuY3Rpb24ga2QoYSxiKXtyZXR1cm4gdGhpcy5ldmFsdWF0ZShhKT09PXRoaXMuZXZhbHVhdGUoYil9ZnVuY3Rpb24gbGQoYSxiKXtyZXR1cm4gdGhpcy5ldmFsdWF0ZShhKXx8dGhpcy5ldmFsdWF0ZShiKX1mdW5jdGlvbiBtZChhLGIpe3ZhciBjPXRoaXMuZXZhbHVhdGUoYSksZD10aGlzLmV2YWx1YXRlKGIpO3JldHVybiBTdHJpbmcoYykuaW5kZXhPZihTdHJpbmcoZCkpPi0xfWZ1bmN0aW9uIG5kKGEsYil7dmFyIGM9U3RyaW5nKHRoaXMuZXZhbHVhdGUoYSkpLGQ9U3RyaW5nKHRoaXMuZXZhbHVhdGUoYikpO3JldHVybiBjLnN1YnN0cmluZygwLGQubGVuZ3RoKT09PWR9CmZ1bmN0aW9uIG9kKGEsYil7dmFyIGM9dGhpcy5ldmFsdWF0ZShhKSxkPXRoaXMuZXZhbHVhdGUoYik7c3dpdGNoKGMpe2Nhc2UgInBhZ2VMb2NhdGlvbiI6dmFyIGU9dy5sb2NhdGlvbi5ocmVmO2QgaW5zdGFuY2VvZiBiYiYmZC5nZXQoInN0cmlwUHJvdG9jb2wiKSYmKGU9ZS5yZXBsYWNlKC9eaHR0cHM/OlwvXC8vLCIiKSk7cmV0dXJuIGV9fTsvKgogalF1ZXJ5IChjKSAyMDA1LCAyMDEyIGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIGpxdWVyeS5vcmcvbGljZW5zZS4KKi8KdmFyIHBkPS9cW29iamVjdCAoQm9vbGVhbnxOdW1iZXJ8U3RyaW5nfEZ1bmN0aW9ufEFycmF5fERhdGV8UmVnRXhwKVxdLyxxZD1mdW5jdGlvbihhKXtpZihhPT1udWxsKXJldHVybiBTdHJpbmcoYSk7dmFyIGI9cGQuZXhlYyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoT2JqZWN0KGEpKSk7cmV0dXJuIGI/YlsxXS50b0xvd2VyQ2FzZSgpOiJvYmplY3QifSxyZD1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoT2JqZWN0KGEpLGIpfSxzZD1mdW5jdGlvbihhKXtpZighYXx8cWQoYSkhPSJvYmplY3QifHxhLm5vZGVUeXBlfHxhPT1hLndpbmRvdylyZXR1cm4hMTt0cnl7aWYoYS5jb25zdHJ1Y3RvciYmIXJkKGEsImNvbnN0cnVjdG9yIikmJiFyZChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWZvcih2YXIgYiBpbiBhKTtyZXR1cm4gYj09PXZvaWQgMHx8CnJkKGEsYil9LHRkPWZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8KHFkKGEpPT0iYXJyYXkiP1tdOnt9KSxkO2ZvcihkIGluIGEpaWYocmQoYSxkKSl7dmFyIGU9YVtkXTtxZChlKT09ImFycmF5Ij8ocWQoY1tkXSkhPSJhcnJheSImJihjW2RdPVtdKSxjW2RdPXRkKGUsY1tkXSkpOnNkKGUpPyhzZChjW2RdKXx8KGNbZF09e30pLGNbZF09dGQoZSxjW2RdKSk6Y1tkXT1lfXJldHVybiBjfTtmdW5jdGlvbiB1ZChhKXtpZihhPT12b2lkIDB8fEFycmF5LmlzQXJyYXkoYSl8fHNkKGEpKXJldHVybiEwO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSAiYm9vbGVhbiI6Y2FzZSAibnVtYmVyIjpjYXNlICJzdHJpbmciOmNhc2UgImZ1bmN0aW9uIjpyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiB2ZChhKXtyZXR1cm4gdHlwZW9mIGE9PT0ibnVtYmVyIiYmYT49MCYmaXNGaW5pdGUoYSkmJmElMT09PTB8fHR5cGVvZiBhPT09InN0cmluZyImJmFbMF0hPT0iLSImJmE9PT0iIitwYXJzZUludChhKX07dmFyIHdkPWZ1bmN0aW9uKGEpe2E9YT09PXZvaWQgMD9bXTphO3RoaXMuZGE9bmV3IEhhO3RoaXMudmFsdWVzPVtdO3RoaXMuSGE9ITE7Zm9yKHZhciBiIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShiKSYmKHZkKGIpP3RoaXMudmFsdWVzW051bWJlcihiKV09YVtOdW1iZXIoYildOnRoaXMuZGEuc2V0KGIsYVtiXSkpfTtrPXdkLnByb3RvdHlwZTtrLnRvU3RyaW5nPWZ1bmN0aW9uKGEpe2lmKGEmJmEuaW5kZXhPZih0aGlzKT49MClyZXR1cm4iIjtmb3IodmFyIGI9W10sYz0wO2M8dGhpcy52YWx1ZXMubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy52YWx1ZXNbY107ZD09PW51bGx8fGQ9PT12b2lkIDA/Yi5wdXNoKCIiKTpkIGluc3RhbmNlb2Ygd2Q/KGE9YXx8W10sYS5wdXNoKHRoaXMpLGIucHVzaChkLnRvU3RyaW5nKGEpKSxhLnBvcCgpKTpiLnB1c2goU3RyaW5nKGQpKX1yZXR1cm4gYi5qb2luKCIsIil9OwprLnNldD1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLkhhKWlmKGE9PT0ibGVuZ3RoIil7aWYoIXZkKGIpKXRocm93IFVhKEVycm9yKCJSYW5nZUVycm9yOiBMZW5ndGggcHJvcGVydHkgbXVzdCBiZSBhIHZhbGlkIGludGVnZXIuIikpO3RoaXMudmFsdWVzLmxlbmd0aD1OdW1iZXIoYil9ZWxzZSB2ZChhKT90aGlzLnZhbHVlc1tOdW1iZXIoYSldPWI6dGhpcy5kYS5zZXQoYSxiKX07ay5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0ibGVuZ3RoIj90aGlzLmxlbmd0aCgpOnZkKGEpP3RoaXMudmFsdWVzW051bWJlcihhKV06dGhpcy5kYS5nZXQoYSl9O2subGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aH07ay55YT1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmRhLnlhKCksYj0wO2I8dGhpcy52YWx1ZXMubGVuZ3RoO2IrKyl0aGlzLnZhbHVlcy5oYXNPd25Qcm9wZXJ0eShiKSYmYS5wdXNoKFN0cmluZyhiKSk7cmV0dXJuIGF9OwprLndjPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZGEud2MoKSxiPTA7Yjx0aGlzLnZhbHVlcy5sZW5ndGg7YisrKXRoaXMudmFsdWVzLmhhc093blByb3BlcnR5KGIpJiZhLnB1c2godGhpcy52YWx1ZXNbYl0pO3JldHVybiBhfTtrLmhjPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZGEuaGMoKSxiPTA7Yjx0aGlzLnZhbHVlcy5sZW5ndGg7YisrKXRoaXMudmFsdWVzLmhhc093blByb3BlcnR5KGIpJiZhLnB1c2goW1N0cmluZyhiKSx0aGlzLnZhbHVlc1tiXV0pO3JldHVybiBhfTtrLnJlbW92ZT1mdW5jdGlvbihhKXt2ZChhKT9kZWxldGUgdGhpcy52YWx1ZXNbTnVtYmVyKGEpXTp0aGlzLkhhfHx0aGlzLmRhLnJlbW92ZShhKX07ay5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMucG9wKCl9O2sucHVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcy5wdXNoLmFwcGx5KHRoaXMudmFsdWVzLHphKERhLmFwcGx5KDAsYXJndW1lbnRzKSkpfTtrLnNoaWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLnNoaWZ0KCl9OwprLnNwbGljZT1mdW5jdGlvbihhLGIpe3ZhciBjPURhLmFwcGx5KDIsYXJndW1lbnRzKTtyZXR1cm4gYj09PXZvaWQgMCYmYy5sZW5ndGg9PT0wP25ldyB3ZCh0aGlzLnZhbHVlcy5zcGxpY2UoYSkpOm5ldyB3ZCh0aGlzLnZhbHVlcy5zcGxpY2UuYXBwbHkodGhpcy52YWx1ZXMsW2EsYnx8MF0uY29uY2F0KHphKGMpKSkpfTtrLnVuc2hpZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMudW5zaGlmdC5hcHBseSh0aGlzLnZhbHVlcyx6YShEYS5hcHBseSgwLGFyZ3VtZW50cykpKX07ay5oYXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHZkKGEpJiZ0aGlzLnZhbHVlcy5oYXNPd25Qcm9wZXJ0eShhKXx8dGhpcy5kYS5oYXMoYSl9O2suVmE9ZnVuY3Rpb24oKXt0aGlzLkhhPSEwO09iamVjdC5mcmVlemUodGhpcy52YWx1ZXMpfTtrLkJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSGF9OwpmdW5jdGlvbiB4ZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGgoKTtjKyspYS5oYXMoYykmJihiW2NdPWEuZ2V0KGMpKTtyZXR1cm4gYn07dmFyIHlkPWZ1bmN0aW9uKGEsYil7dGhpcy5mdW5jdGlvbk5hbWU9YTt0aGlzLktkPWI7dGhpcy5kYT1uZXcgSGE7dGhpcy5IYT0hMX07az15ZC5wcm90b3R5cGU7ay50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ1bmN0aW9uTmFtZX07ay5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVuY3Rpb25OYW1lfTtrLmdldEtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHdkKHRoaXMueWEoKSl9O2suaW52b2tlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLktkLmNhbGwuYXBwbHkodGhpcy5LZCxbbmV3IHpkKHRoaXMsYSldLmNvbmNhdCh6YShEYS5hcHBseSgxLGFyZ3VtZW50cykpKSl9O2suYXBwbHk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5LZC5hcHBseShuZXcgemQodGhpcyxhKSxiKX07ay5QYj1mdW5jdGlvbihhKXt2YXIgYj1EYS5hcHBseSgxLGFyZ3VtZW50cyk7dHJ5e3JldHVybiB0aGlzLmludm9rZS5hcHBseSh0aGlzLFthXS5jb25jYXQoemEoYikpKX1jYXRjaChjKXt9fTsKay5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGEuZ2V0KGEpfTtrLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuSGF8fHRoaXMuZGEuc2V0KGEsYil9O2suaGFzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRhLmhhcyhhKX07ay5yZW1vdmU9ZnVuY3Rpb24oYSl7dGhpcy5IYXx8dGhpcy5kYS5yZW1vdmUoYSl9O2sueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYS55YSgpfTtrLndjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGEud2MoKX07ay5oYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhLmhjKCl9O2suVmE9ZnVuY3Rpb24oKXt0aGlzLkhhPSEwfTtrLkJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSGF9O3ZhciBBZD1mdW5jdGlvbihhLGIpe3lkLmNhbGwodGhpcyxhLGIpfTt3YShBZCx5ZCk7dmFyIEJkPWZ1bmN0aW9uKGEsYil7eWQuY2FsbCh0aGlzLGEsYil9O3dhKEJkLHlkKTt2YXIgemQ9ZnVuY3Rpb24oYSxiKXt0aGlzLktkPWE7dGhpcy5LPWJ9Owp6ZC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5LO3JldHVybiBBcnJheS5pc0FycmF5KGEpPyRhKGIsYSk6YX07emQucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5LZC5nZXROYW1lKCl9O3pkLnByb3RvdHlwZS5MZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLksuTGQoKX07dmFyIENkPWZ1bmN0aW9uKCl7dGhpcy5tYXA9bmV3IE1hcH07Q2QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMubWFwLnNldChhLGIpfTtDZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcC5nZXQoYSl9O3ZhciBEZD1mdW5jdGlvbigpe3RoaXMua2V5cz1bXTt0aGlzLnZhbHVlcz1bXX07RGQucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMua2V5cy5wdXNoKGEpO3RoaXMudmFsdWVzLnB1c2goYil9O0RkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7aWYoYj4tMSlyZXR1cm4gdGhpcy52YWx1ZXNbYl19O2Z1bmN0aW9uIEVkKCl7dHJ5e3JldHVybiBNYXA/bmV3IENkOm5ldyBEZH1jYXRjaChhKXtyZXR1cm4gbmV3IERkfX07dmFyIEZkPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBGZClyZXR1cm4gYTtpZih1ZChhKSl0aHJvdyBFcnJvcigiVHlwZSBvZiBnaXZlbiB2YWx1ZSBoYXMgYW4gZXF1aXZhbGVudCBQaXhpZSB0eXBlLiIpO3RoaXMudmFsdWU9YX07RmQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9O0ZkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcodGhpcy52YWx1ZSl9O3ZhciBIZD1mdW5jdGlvbihhKXt0aGlzLnByb21pc2U9YTt0aGlzLkhhPSExO3RoaXMuZGE9bmV3IEhhO3RoaXMuZGEuc2V0KCJ0aGVuIixHZCh0aGlzKSk7dGhpcy5kYS5zZXQoImNhdGNoIixHZCh0aGlzLCEwKSk7dGhpcy5kYS5zZXQoImZpbmFsbHkiLEdkKHRoaXMsITEsITApKX07az1IZC5wcm90b3R5cGU7ay5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGEuZ2V0KGEpfTtrLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuSGF8fHRoaXMuZGEuc2V0KGEsYil9O2suaGFzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRhLmhhcyhhKX07ay5yZW1vdmU9ZnVuY3Rpb24oYSl7dGhpcy5IYXx8dGhpcy5kYS5yZW1vdmUoYSl9O2sueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYS55YSgpfTtrLndjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGEud2MoKX07ay5oYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhLmhjKCl9Owp2YXIgR2Q9ZnVuY3Rpb24oYSxiLGMpe2I9Yj09PXZvaWQgMD8hMTpiO2M9Yz09PXZvaWQgMD8hMTpjO3JldHVybiBuZXcgQWQoIiIsZnVuY3Rpb24oZCxlKXtiJiYoZT1kLGQ9dm9pZCAwKTtjJiYoZT1kKTtkIGluc3RhbmNlb2YgQWR8fChkPXZvaWQgMCk7ZSBpbnN0YW5jZW9mIEFkfHwoZT12b2lkIDApO3ZhciBmPXRoaXMuSy5vYigpLGc9ZnVuY3Rpb24obCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3RyeXtyZXR1cm4gYz8obC5pbnZva2UoZiksYS5wcm9taXNlKTpsLmludm9rZShmLG4pfWNhdGNoKHApe3JldHVybiBQcm9taXNlLnJlamVjdChwIGluc3RhbmNlb2YgRXJyb3I/bmV3IEZkKHApOlN0cmluZyhwKSl9fX0saD1hLnByb21pc2UudGhlbihkJiZnKGQpLGUmJmcoZSkpO3JldHVybiBuZXcgSGQoaCl9KX07SGQucHJvdG90eXBlLlZhPWZ1bmN0aW9uKCl7dGhpcy5IYT0hMH07SGQucHJvdG90eXBlLkJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSGF9O2Z1bmN0aW9uIEIoYSxiLGMpe3ZhciBkPUVkKCksZT1mdW5jdGlvbihnLGgpe2Zvcih2YXIgbD1nLnlhKCksbj0wO248bC5sZW5ndGg7bisrKWhbbFtuXV09ZihnLmdldChsW25dKSl9LGY9ZnVuY3Rpb24oZyl7aWYoZz09PW51bGx8fGc9PT12b2lkIDApcmV0dXJuIGc7dmFyIGg9ZC5nZXQoZyk7aWYoaClyZXR1cm4gaDtpZihnIGluc3RhbmNlb2Ygd2Qpe3ZhciBsPVtdO2Quc2V0KGcsbCk7Zm9yKHZhciBuPWcueWEoKSxwPTA7cDxuLmxlbmd0aDtwKyspbFtuW3BdXT1mKGcuZ2V0KG5bcF0pKTtyZXR1cm4gbH1pZihnIGluc3RhbmNlb2YgSGQpcmV0dXJuIGcucHJvbWlzZS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBCKHQsYiwxKX0sZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVqZWN0KEIodCxiLDEpKX0pO2lmKGcgaW5zdGFuY2VvZiBiYil7dmFyIHE9e307ZC5zZXQoZyxxKTtlKGcscSk7cmV0dXJuIHF9aWYoZyBpbnN0YW5jZW9mIEFkKXt2YXIgcj1mdW5jdGlvbigpe2Zvcih2YXIgdD0KW10sdj0wO3Y8YXJndW1lbnRzLmxlbmd0aDt2KyspdFt2XT1JZChhcmd1bWVudHNbdl0sYixjKTt2YXIgeD1uZXcgS2EoYj9iLkxkKCk6bmV3IEphKTtiJiZ4LlVkKGIucWIoKSk7cmV0dXJuIGYoV2EoMTgpP2cuYXBwbHkoeCx0KTpnLmludm9rZS5hcHBseShnLFt4XS5jb25jYXQoemEodCkpKSl9O2Quc2V0KGcscik7ZShnLHIpO3JldHVybiByfXZhciB1PSExO3N3aXRjaChjKXtjYXNlIDE6dT0hMDticmVhaztjYXNlIDI6dT0hMTticmVhaztjYXNlIDM6dT0hMTticmVhaztkZWZhdWx0On1pZihnIGluc3RhbmNlb2YgRmQmJnUpcmV0dXJuIGcuZ2V0VmFsdWUoKTtzd2l0Y2godHlwZW9mIGcpe2Nhc2UgImJvb2xlYW4iOmNhc2UgIm51bWJlciI6Y2FzZSAic3RyaW5nIjpjYXNlICJ1bmRlZmluZWQiOnJldHVybiBnOwpjYXNlICJvYmplY3QiOmlmKGc9PT1udWxsKXJldHVybiBudWxsfX07cmV0dXJuIGYoYSl9CmZ1bmN0aW9uIElkKGEsYixjKXt2YXIgZD1FZCgpLGU9ZnVuY3Rpb24oZyxoKXtmb3IodmFyIGwgaW4gZylnLmhhc093blByb3BlcnR5KGwpJiZoLnNldChsLGYoZ1tsXSkpfSxmPWZ1bmN0aW9uKGcpe3ZhciBoPWQuZ2V0KGcpO2lmKGgpcmV0dXJuIGg7aWYoQXJyYXkuaXNBcnJheShnKXx8QWIoZykpe3ZhciBsPW5ldyB3ZDtkLnNldChnLGwpO2Zvcih2YXIgbiBpbiBnKWcuaGFzT3duUHJvcGVydHkobikmJmwuc2V0KG4sZihnW25dKSk7cmV0dXJuIGx9aWYoc2QoZykpe3ZhciBwPW5ldyBiYjtkLnNldChnLHApO2UoZyxwKTtyZXR1cm4gcH1pZih0eXBlb2YgZz09PSJmdW5jdGlvbiIpe3ZhciBxPW5ldyBBZCgiIixmdW5jdGlvbigpe2Zvcih2YXIgdD1EYS5hcHBseSgwLGFyZ3VtZW50cyksdj1bXSx4PTA7eDx0Lmxlbmd0aDt4Kyspdlt4XT1CKHRoaXMuZXZhbHVhdGUodFt4XSksYixjKTtyZXR1cm4gZih0aGlzLksua2ooKShnLGcsdikpfSk7ZC5zZXQoZyxxKTtlKGcscSk7cmV0dXJuIHF9dmFyIHI9dHlwZW9mIGc7aWYoZz09PW51bGx8fHI9PT0ic3RyaW5nInx8cj09PSJudW1iZXIifHxyPT09ImJvb2xlYW4iKXJldHVybiBnO3ZhciB1PSExO3N3aXRjaChjKXtjYXNlIDE6dT0hMDticmVhaztjYXNlIDI6dT0hMTticmVhaztkZWZhdWx0On1pZihnIT09dm9pZCAwJiZ1KXJldHVybiBuZXcgRmQoZyl9O3JldHVybiBmKGEpfTt2YXIgSmQ9e3N1cHBvcnRlZE1ldGhvZHM6ImNvbmNhdCBldmVyeSBmaWx0ZXIgZm9yRWFjaCBoYXNPd25Qcm9wZXJ0eSBpbmRleE9mIGpvaW4gbGFzdEluZGV4T2YgbWFwIHBvcCBwdXNoIHJlZHVjZSByZWR1Y2VSaWdodCByZXZlcnNlIHNoaWZ0IHNsaWNlIHNvbWUgc29ydCBzcGxpY2UgdW5zaGlmdCB0b1N0cmluZyIuc3BsaXQoIiAiKSxjb25jYXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPHRoaXMubGVuZ3RoKCk7YysrKWIucHVzaCh0aGlzLmdldChjKSk7Zm9yKHZhciBkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKylpZihhcmd1bWVudHNbZF1pbnN0YW5jZW9mIHdkKWZvcih2YXIgZT1hcmd1bWVudHNbZF0sZj0wO2Y8ZS5sZW5ndGgoKTtmKyspYi5wdXNoKGUuZ2V0KGYpKTtlbHNlIGIucHVzaChhcmd1bWVudHNbZF0pO3JldHVybiBuZXcgd2QoYil9LGV2ZXJ5OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMubGVuZ3RoKCksZD0wO2Q8dGhpcy5sZW5ndGgoKSYmCmQ8YztkKyspaWYodGhpcy5oYXMoZCkmJiFiLmludm9rZShhLHRoaXMuZ2V0KGQpLGQsdGhpcykpcmV0dXJuITE7cmV0dXJuITB9LGZpbHRlcjpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmxlbmd0aCgpLGQ9W10sZT0wO2U8dGhpcy5sZW5ndGgoKSYmZTxjO2UrKyl0aGlzLmhhcyhlKSYmYi5pbnZva2UoYSx0aGlzLmdldChlKSxlLHRoaXMpJiZkLnB1c2godGhpcy5nZXQoZSkpO3JldHVybiBuZXcgd2QoZCl9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5sZW5ndGgoKSxkPTA7ZDx0aGlzLmxlbmd0aCgpJiZkPGM7ZCsrKXRoaXMuaGFzKGQpJiZiLmludm9rZShhLHRoaXMuZ2V0KGQpLGQsdGhpcyl9LGhhc093blByb3BlcnR5OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaGFzKGIpfSxpbmRleE9mOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmxlbmd0aCgpLGU9Yz09PXZvaWQgMD8wOk51bWJlcihjKTtlPDAmJihlPU1hdGgubWF4KGQrZSwwKSk7Zm9yKHZhciBmPQplO2Y8ZDtmKyspaWYodGhpcy5oYXMoZikmJnRoaXMuZ2V0KGYpPT09YilyZXR1cm4gZjtyZXR1cm4tMX0sam9pbjpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDx0aGlzLmxlbmd0aCgpO2QrKyljLnB1c2godGhpcy5nZXQoZCkpO3JldHVybiBjLmpvaW4oYil9LGxhc3RJbmRleE9mOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmxlbmd0aCgpLGU9ZC0xO2MhPT12b2lkIDAmJihlPWM8MD9kK2M6TWF0aC5taW4oYyxlKSk7Zm9yKHZhciBmPWU7Zj49MDtmLS0paWYodGhpcy5oYXMoZikmJnRoaXMuZ2V0KGYpPT09YilyZXR1cm4gZjtyZXR1cm4tMX0sbWFwOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMubGVuZ3RoKCksZD1bXSxlPTA7ZTx0aGlzLmxlbmd0aCgpJiZlPGM7ZSsrKXRoaXMuaGFzKGUpJiYoZFtlXT1iLmludm9rZShhLHRoaXMuZ2V0KGUpLGUsdGhpcykpO3JldHVybiBuZXcgd2QoZCl9LHBvcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcCgpfSxwdXNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2guYXBwbHkodGhpcywKemEoRGEuYXBwbHkoMSxhcmd1bWVudHMpKSl9LHJlZHVjZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5sZW5ndGgoKSxlLGY9MDtpZihjIT09dm9pZCAwKWU9YztlbHNle2lmKGQ9PT0wKXRocm93IFVhKEVycm9yKCJUeXBlRXJyb3I6IFJlZHVjZSBvbiBMaXN0IHdpdGggbm8gZWxlbWVudHMuIikpO2Zvcih2YXIgZz0wO2c8ZDtnKyspaWYodGhpcy5oYXMoZykpe2U9dGhpcy5nZXQoZyk7Zj1nKzE7YnJlYWt9aWYoZz09PWQpdGhyb3cgVWEoRXJyb3IoIlR5cGVFcnJvcjogUmVkdWNlIG9uIExpc3Qgd2l0aCBubyBlbGVtZW50cy4iKSk7fWZvcih2YXIgaD1mO2g8ZDtoKyspdGhpcy5oYXMoaCkmJihlPWIuaW52b2tlKGEsZSx0aGlzLmdldChoKSxoLHRoaXMpKTtyZXR1cm4gZX0scmVkdWNlUmlnaHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMubGVuZ3RoKCksZSxmPWQtMTtpZihjIT09dm9pZCAwKWU9YztlbHNle2lmKGQ9PT0wKXRocm93IFVhKEVycm9yKCJUeXBlRXJyb3I6IFJlZHVjZVJpZ2h0IG9uIExpc3Qgd2l0aCBubyBlbGVtZW50cy4iKSk7CmZvcih2YXIgZz0xO2c8PWQ7ZysrKWlmKHRoaXMuaGFzKGQtZykpe2U9dGhpcy5nZXQoZC1nKTtmPWQtKGcrMSk7YnJlYWt9aWYoZz5kKXRocm93IFVhKEVycm9yKCJUeXBlRXJyb3I6IFJlZHVjZVJpZ2h0IG9uIExpc3Qgd2l0aCBubyBlbGVtZW50cy4iKSk7fWZvcih2YXIgaD1mO2g+PTA7aC0tKXRoaXMuaGFzKGgpJiYoZT1iLmludm9rZShhLGUsdGhpcy5nZXQoaCksaCx0aGlzKSk7cmV0dXJuIGV9LHJldmVyc2U6ZnVuY3Rpb24oKXtmb3IodmFyIGE9eGQodGhpcyksYj1hLmxlbmd0aC0xLGM9MDtiPj0wO2ItLSxjKyspYS5oYXNPd25Qcm9wZXJ0eShiKT90aGlzLnNldChjLGFbYl0pOnRoaXMucmVtb3ZlKGMpO3JldHVybiB0aGlzfSxzaGlmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoaWZ0KCl9LHNsaWNlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmxlbmd0aCgpO2I9PT12b2lkIDAmJihiPTApO2I9YjwwP01hdGgubWF4KGQrYiwwKTpNYXRoLm1pbihiLGQpO2M9Yz09PQp2b2lkIDA/ZDpjPDA/TWF0aC5tYXgoZCtjLDApOk1hdGgubWluKGMsZCk7Yz1NYXRoLm1heChiLGMpO2Zvcih2YXIgZT1bXSxmPWI7ZjxjO2YrKyllLnB1c2godGhpcy5nZXQoZikpO3JldHVybiBuZXcgd2QoZSl9LHNvbWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5sZW5ndGgoKSxkPTA7ZDx0aGlzLmxlbmd0aCgpJiZkPGM7ZCsrKWlmKHRoaXMuaGFzKGQpJiZiLmludm9rZShhLHRoaXMuZ2V0KGQpLGQsdGhpcykpcmV0dXJuITA7cmV0dXJuITF9LHNvcnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz14ZCh0aGlzKTtiPT09dm9pZCAwP2Muc29ydCgpOmMuc29ydChmdW5jdGlvbihlLGYpe3JldHVybiBOdW1iZXIoYi5pbnZva2UoYSxlLGYpKX0pO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWMuaGFzT3duUHJvcGVydHkoZCk/dGhpcy5zZXQoZCxjW2RdKTp0aGlzLnJlbW92ZShkKTtyZXR1cm4gdGhpc30sc3BsaWNlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5zcGxpY2UuYXBwbHkodGhpcywKW2IsY10uY29uY2F0KHphKERhLmFwcGx5KDMsYXJndW1lbnRzKSkpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpfSx1bnNoaWZ0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnVuc2hpZnQuYXBwbHkodGhpcyx6YShEYS5hcHBseSgxLGFyZ3VtZW50cykpKX19O3ZhciBLZD17Y2hhckF0OjEsY29uY2F0OjEsaW5kZXhPZjoxLGxhc3RJbmRleE9mOjEsbWF0Y2g6MSxyZXBsYWNlOjEsc2VhcmNoOjEsc2xpY2U6MSxzcGxpdDoxLHN1YnN0cmluZzoxLHRvTG93ZXJDYXNlOjEsdG9Mb2NhbGVMb3dlckNhc2U6MSx0b1N0cmluZzoxLHRvVXBwZXJDYXNlOjEsdG9Mb2NhbGVVcHBlckNhc2U6MSx0cmltOjF9LExkPW5ldyBHYSgiYnJlYWsiKSxNZD1uZXcgR2EoImNvbnRpbnVlIik7ZnVuY3Rpb24gTmQoYSxiKXtyZXR1cm4gdGhpcy5ldmFsdWF0ZShhKSt0aGlzLmV2YWx1YXRlKGIpfWZ1bmN0aW9uIE9kKGEsYil7cmV0dXJuIHRoaXMuZXZhbHVhdGUoYSkmJnRoaXMuZXZhbHVhdGUoYil9CmZ1bmN0aW9uIFBkKGEsYixjKXt2YXIgZD10aGlzLmV2YWx1YXRlKGEpLGU9dGhpcy5ldmFsdWF0ZShiKSxmPXRoaXMuZXZhbHVhdGUoYyk7aWYoIShmIGluc3RhbmNlb2Ygd2QpKXRocm93IEVycm9yKCJFcnJvcjogTm9uLUxpc3QgYXJndW1lbnQgZ2l2ZW4gdG8gQXBwbHkgaW5zdHJ1Y3Rpb24uIik7aWYoZD09PW51bGx8fGQ9PT12b2lkIDApdGhyb3cgVWEoRXJyb3IoIlR5cGVFcnJvcjogQ2FuJ3QgcmVhZCBwcm9wZXJ0eSAiK2UrIiBvZiAiK2QrIi4iKSk7dmFyIGc9dHlwZW9mIGQ9PT0ibnVtYmVyIjtpZih0eXBlb2YgZD09PSJib29sZWFuInx8Zyl7aWYoZT09PSJ0b1N0cmluZyIpe2lmKGcmJmYubGVuZ3RoKCkpe3ZhciBoPUIoZi5nZXQoMCkpO3RyeXtyZXR1cm4gZC50b1N0cmluZyhoKX1jYXRjaCh4KXt9fXJldHVybiBkLnRvU3RyaW5nKCl9aWYoV2EoMjIpJiZlPT09InRvTG9jYWxlU3RyaW5nIiYmZyl7dmFyIGw9QihmLmdldCgwKSksbj1CKGYuZ2V0KDEpKTtyZXR1cm4gZC50b0xvY2FsZVN0cmluZyhsLApuKX10aHJvdyBVYShFcnJvcigiVHlwZUVycm9yOiAiK2QrIi4iK2UrIiBpcyBub3QgYSBmdW5jdGlvbi4iKSk7fWlmKHR5cGVvZiBkPT09InN0cmluZyIpe2lmKEtkLmhhc093blByb3BlcnR5KGUpKXt2YXIgcD1CKGYsdm9pZCAwLDEpO3JldHVybiBJZChkW2VdLmFwcGx5KGQscCksdGhpcy5LKX10aHJvdyBVYShFcnJvcigiVHlwZUVycm9yOiAiK2UrIiBpcyBub3QgYSBmdW5jdGlvbiIpKTt9aWYoZCBpbnN0YW5jZW9mIHdkKXtpZihkLmhhcyhlKSl7dmFyIHE9ZC5nZXQoU3RyaW5nKGUpKTtpZihxIGluc3RhbmNlb2YgQWQpe3ZhciByPXhkKGYpO3JldHVybiBXYSgxOCk/cS5hcHBseSh0aGlzLksscik6cS5pbnZva2UuYXBwbHkocSxbdGhpcy5LXS5jb25jYXQoemEocikpKX10aHJvdyBVYShFcnJvcigiVHlwZUVycm9yOiAiK2UrIiBpcyBub3QgYSBmdW5jdGlvbiIpKTt9aWYoSmQuc3VwcG9ydGVkTWV0aG9kcy5pbmRleE9mKGUpPj0wKXt2YXIgdT14ZChmKTtyZXR1cm4gSmRbZV0uY2FsbC5hcHBseShKZFtlXSwKW2QsdGhpcy5LXS5jb25jYXQoemEodSkpKX19aWYoZCBpbnN0YW5jZW9mIEFkfHxkIGluc3RhbmNlb2YgYmJ8fGQgaW5zdGFuY2VvZiBIZCl7aWYoZC5oYXMoZSkpe3ZhciB0PWQuZ2V0KGUpO2lmKHQgaW5zdGFuY2VvZiBBZCl7dmFyIHY9eGQoZik7cmV0dXJuIFdhKDE4KT90LmFwcGx5KHRoaXMuSyx2KTp0Lmludm9rZS5hcHBseSh0LFt0aGlzLktdLmNvbmNhdCh6YSh2KSkpfXRocm93IFVhKEVycm9yKCJUeXBlRXJyb3I6ICIrZSsiIGlzIG5vdCBhIGZ1bmN0aW9uIikpO31pZihlPT09InRvU3RyaW5nIilyZXR1cm4gZCBpbnN0YW5jZW9mIEFkP2QuZ2V0TmFtZSgpOmQudG9TdHJpbmcoKTtpZihlPT09Imhhc093blByb3BlcnR5IilyZXR1cm4gZC5oYXMoZi5nZXQoMCkpfWlmKGQgaW5zdGFuY2VvZiBGZCYmZT09PSJ0b1N0cmluZyIpcmV0dXJuIGQudG9TdHJpbmcoKTt0aHJvdyBVYShFcnJvcigiVHlwZUVycm9yOiBPYmplY3QgaGFzIG5vICciK2UrIicgcHJvcGVydHkuIikpO30KZnVuY3Rpb24gUWQoYSxiKXthPXRoaXMuZXZhbHVhdGUoYSk7aWYodHlwZW9mIGEhPT0ic3RyaW5nIil0aHJvdyBFcnJvcigiSW52YWxpZCBrZXkgbmFtZSBnaXZlbiBmb3IgYXNzaWdubWVudC4iKTt2YXIgYz10aGlzLks7aWYoIWMuaGFzKGEpKXRocm93IEVycm9yKCJBdHRlbXB0aW5nIHRvIGFzc2lnbiB0byB1bmRlZmluZWQgdmFsdWUgIitiKTt2YXIgZD10aGlzLmV2YWx1YXRlKGIpO2Muc2V0KGEsZCk7cmV0dXJuIGR9ZnVuY3Rpb24gUmQoKXt2YXIgYT1EYS5hcHBseSgwLGFyZ3VtZW50cyksYj10aGlzLksub2IoKSxjPVphKGIsYSk7aWYoYyBpbnN0YW5jZW9mIEdhKXJldHVybiBjfWZ1bmN0aW9uIFNkKCl7cmV0dXJuIExkfWZ1bmN0aW9uIFRkKGEpe2Zvcih2YXIgYj10aGlzLmV2YWx1YXRlKGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5ldmFsdWF0ZShiW2NdKTtpZihkIGluc3RhbmNlb2YgR2EpcmV0dXJuIGR9fQpmdW5jdGlvbiBVZCgpe2Zvcih2YXIgYT10aGlzLkssYj0wO2I8YXJndW1lbnRzLmxlbmd0aC0xO2IrPTIpe3ZhciBjPWFyZ3VtZW50c1tiXTtpZih0eXBlb2YgYz09PSJzdHJpbmciKXt2YXIgZD10aGlzLmV2YWx1YXRlKGFyZ3VtZW50c1tiKzFdKTthLkZoKGMsZCl9fX1mdW5jdGlvbiBWZCgpe3JldHVybiBNZH1mdW5jdGlvbiBXZChhLGIpe3JldHVybiBuZXcgR2EoYSx0aGlzLmV2YWx1YXRlKGIpKX1mdW5jdGlvbiBYZChhLGIpe3ZhciBjPURhLmFwcGx5KDIsYXJndW1lbnRzKSxkO2Q9bmV3IHdkO2Zvcih2YXIgZT10aGlzLmV2YWx1YXRlKGIpLGY9MDtmPGUubGVuZ3RoO2YrKylkLnB1c2goZVtmXSk7dmFyIGc9WzUxLGEsZF0uY29uY2F0KHphKGMpKTt0aGlzLksuYWRkKGEsdGhpcy5ldmFsdWF0ZShnKSl9ZnVuY3Rpb24gWWQoYSxiKXtyZXR1cm4gdGhpcy5ldmFsdWF0ZShhKS90aGlzLmV2YWx1YXRlKGIpfQpmdW5jdGlvbiBaZChhLGIpe3ZhciBjPXRoaXMuZXZhbHVhdGUoYSksZD10aGlzLmV2YWx1YXRlKGIpLGU9YyBpbnN0YW5jZW9mIEZkLGY9ZCBpbnN0YW5jZW9mIEZkO3JldHVybiBlfHxmP2UmJmY/Yy5nZXRWYWx1ZSgpPT09ZC5nZXRWYWx1ZSgpOiExOmM9PWR9ZnVuY3Rpb24gJGQoKXtmb3IodmFyIGEsYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspYT10aGlzLmV2YWx1YXRlKGFyZ3VtZW50c1tiXSk7cmV0dXJuIGF9ZnVuY3Rpb24gYWUoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiKCk7ZSsrKXt2YXIgZj1hKGMoZSkpLGc9WmEoZixkKTtpZihnIGluc3RhbmNlb2YgR2Epe2lmKGcudHlwZT09PSJicmVhayIpYnJlYWs7aWYoZy50eXBlPT09InJldHVybiIpcmV0dXJuIGd9fX0KZnVuY3Rpb24gYmUoYSxiLGMpe2lmKHR5cGVvZiBiPT09InN0cmluZyIpcmV0dXJuIGFlKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi5sZW5ndGh9LGZ1bmN0aW9uKGYpe3JldHVybiBmfSxjKTtpZihiIGluc3RhbmNlb2YgYmJ8fGIgaW5zdGFuY2VvZiBIZHx8YiBpbnN0YW5jZW9mIHdkfHxiIGluc3RhbmNlb2YgQWQpe3ZhciBkPWIueWEoKSxlPWQubGVuZ3RoO3JldHVybiBhZShhLGZ1bmN0aW9uKCl7cmV0dXJuIGV9LGZ1bmN0aW9uKGYpe3JldHVybiBkW2ZdfSxjKX19ZnVuY3Rpb24gY2UoYSxiLGMpe3ZhciBkPXRoaXMuZXZhbHVhdGUoYSksZT10aGlzLmV2YWx1YXRlKGIpLGY9dGhpcy5ldmFsdWF0ZShjKSxnPXRoaXMuSztyZXR1cm4gYmUoZnVuY3Rpb24oaCl7Zy5zZXQoZCxoKTtyZXR1cm4gZ30sZSxmKX0KZnVuY3Rpb24gZGUoYSxiLGMpe3ZhciBkPXRoaXMuZXZhbHVhdGUoYSksZT10aGlzLmV2YWx1YXRlKGIpLGY9dGhpcy5ldmFsdWF0ZShjKSxnPXRoaXMuSztyZXR1cm4gYmUoZnVuY3Rpb24oaCl7dmFyIGw9Zy5vYigpO2wuRmgoZCxoKTtyZXR1cm4gbH0sZSxmKX1mdW5jdGlvbiBlZShhLGIsYyl7dmFyIGQ9dGhpcy5ldmFsdWF0ZShhKSxlPXRoaXMuZXZhbHVhdGUoYiksZj10aGlzLmV2YWx1YXRlKGMpLGc9dGhpcy5LO3JldHVybiBiZShmdW5jdGlvbihoKXt2YXIgbD1nLm9iKCk7bC5hZGQoZCxoKTtyZXR1cm4gbH0sZSxmKX1mdW5jdGlvbiBmZShhLGIsYyl7dmFyIGQ9dGhpcy5ldmFsdWF0ZShhKSxlPXRoaXMuZXZhbHVhdGUoYiksZj10aGlzLmV2YWx1YXRlKGMpLGc9dGhpcy5LO3JldHVybiBnZShmdW5jdGlvbihoKXtnLnNldChkLGgpO3JldHVybiBnfSxlLGYpfQpmdW5jdGlvbiBoZShhLGIsYyl7dmFyIGQ9dGhpcy5ldmFsdWF0ZShhKSxlPXRoaXMuZXZhbHVhdGUoYiksZj10aGlzLmV2YWx1YXRlKGMpLGc9dGhpcy5LO3JldHVybiBnZShmdW5jdGlvbihoKXt2YXIgbD1nLm9iKCk7bC5GaChkLGgpO3JldHVybiBsfSxlLGYpfWZ1bmN0aW9uIGllKGEsYixjKXt2YXIgZD10aGlzLmV2YWx1YXRlKGEpLGU9dGhpcy5ldmFsdWF0ZShiKSxmPXRoaXMuZXZhbHVhdGUoYyksZz10aGlzLks7cmV0dXJuIGdlKGZ1bmN0aW9uKGgpe3ZhciBsPWcub2IoKTtsLmFkZChkLGgpO3JldHVybiBsfSxlLGYpfQpmdW5jdGlvbiBnZShhLGIsYyl7aWYodHlwZW9mIGI9PT0ic3RyaW5nIilyZXR1cm4gYWUoYSxmdW5jdGlvbigpe3JldHVybiBiLmxlbmd0aH0sZnVuY3Rpb24oZCl7cmV0dXJuIGJbZF19LGMpO2lmKGIgaW5zdGFuY2VvZiB3ZClyZXR1cm4gYWUoYSxmdW5jdGlvbigpe3JldHVybiBiLmxlbmd0aCgpfSxmdW5jdGlvbihkKXtyZXR1cm4gYi5nZXQoZCl9LGMpO3Rocm93IFVhKEVycm9yKCJUaGUgdmFsdWUgaXMgbm90IGl0ZXJhYmxlLiIpKTt9CmZ1bmN0aW9uIGplKGEsYixjLGQpe2Z1bmN0aW9uIGUocSxyKXtmb3IodmFyIHU9MDt1PGYubGVuZ3RoKCk7dSsrKXt2YXIgdD1mLmdldCh1KTtyLmFkZCh0LHEuZ2V0KHQpKX19dmFyIGY9dGhpcy5ldmFsdWF0ZShhKTtpZighKGYgaW5zdGFuY2VvZiB3ZCkpdGhyb3cgRXJyb3IoIlR5cGVFcnJvcjogTm9uLUxpc3QgYXJndW1lbnQgZ2l2ZW4gdG8gRm9yTGV0IGluc3RydWN0aW9uLiIpO3ZhciBnPXRoaXMuSyxoPXRoaXMuZXZhbHVhdGUoZCksbD1nLm9iKCk7Zm9yKGUoZyxsKTskYShsLGIpOyl7dmFyIG49WmEobCxoKTtpZihuIGluc3RhbmNlb2YgR2Epe2lmKG4udHlwZT09PSJicmVhayIpYnJlYWs7aWYobi50eXBlPT09InJldHVybiIpcmV0dXJuIG59dmFyIHA9Zy5vYigpO2UobCxwKTskYShwLGMpO2w9cH19CmZ1bmN0aW9uIG1lKGEsYil7dmFyIGM9RGEuYXBwbHkoMixhcmd1bWVudHMpLGQ9dGhpcy5LLGU9dGhpcy5ldmFsdWF0ZShiKTtpZighKGUgaW5zdGFuY2VvZiB3ZCkpdGhyb3cgRXJyb3IoIkVycm9yOiBub24tTGlzdCB2YWx1ZSBnaXZlbiBmb3IgRm4gYXJndW1lbnQgbmFtZXMuIik7cmV0dXJuIG5ldyBBZChhLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGY9RGEuYXBwbHkoMCxhcmd1bWVudHMpLGc9ZC5vYigpO2cucWIoKT09PXZvaWQgMCYmZy5VZCh0aGlzLksucWIoKSk7Zm9yKHZhciBoPVtdLGw9MDtsPGYubGVuZ3RoO2wrKyl7dmFyIG49dGhpcy5ldmFsdWF0ZShmW2xdKTtoW2xdPW59Zm9yKHZhciBwPWUuZ2V0KCJsZW5ndGgiKSxxPTA7cTxwO3ErKylxPGgubGVuZ3RoP2cuYWRkKGUuZ2V0KHEpLGhbcV0pOmcuYWRkKGUuZ2V0KHEpLHZvaWQgMCk7Zy5hZGQoImFyZ3VtZW50cyIsbmV3IHdkKGgpKTt2YXIgcj1aYShnLGMpO2lmKHIgaW5zdGFuY2VvZiBHYSlyZXR1cm4gci50eXBlPT09CiJyZXR1cm4iP3IuZGF0YTpyfX0oKSl9ZnVuY3Rpb24gbmUoYSl7dmFyIGI9dGhpcy5ldmFsdWF0ZShhKSxjPXRoaXMuSztpZihvZSYmIWMuaGFzKGIpKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihiKyIgaXMgbm90IGRlZmluZWQuIik7cmV0dXJuIGMuZ2V0KGIpfQpmdW5jdGlvbiBwZShhLGIpe3ZhciBjLGQ9dGhpcy5ldmFsdWF0ZShhKSxlPXRoaXMuZXZhbHVhdGUoYik7aWYoZD09PXZvaWQgMHx8ZD09PW51bGwpdGhyb3cgVWEoRXJyb3IoIlR5cGVFcnJvcjogQ2Fubm90IHJlYWQgcHJvcGVydGllcyBvZiAiK2QrIiAocmVhZGluZyAnIitlKyInKSIpKTtpZihkIGluc3RhbmNlb2YgYmJ8fGQgaW5zdGFuY2VvZiBIZHx8ZCBpbnN0YW5jZW9mIHdkfHxkIGluc3RhbmNlb2YgQWQpYz1kLmdldChlKTtlbHNlIGlmKHR5cGVvZiBkPT09InN0cmluZyIpZT09PSJsZW5ndGgiP2M9ZC5sZW5ndGg6dmQoZSkmJihjPWRbZV0pO2Vsc2UgaWYoZCBpbnN0YW5jZW9mIEZkKXJldHVybjtyZXR1cm4gY31mdW5jdGlvbiBxZShhLGIpe3JldHVybiB0aGlzLmV2YWx1YXRlKGEpPnRoaXMuZXZhbHVhdGUoYil9ZnVuY3Rpb24gcmUoYSxiKXtyZXR1cm4gdGhpcy5ldmFsdWF0ZShhKT49dGhpcy5ldmFsdWF0ZShiKX0KZnVuY3Rpb24gc2UoYSxiKXt2YXIgYz10aGlzLmV2YWx1YXRlKGEpLGQ9dGhpcy5ldmFsdWF0ZShiKTtjIGluc3RhbmNlb2YgRmQmJihjPWMuZ2V0VmFsdWUoKSk7ZCBpbnN0YW5jZW9mIEZkJiYoZD1kLmdldFZhbHVlKCkpO3JldHVybiBjPT09ZH1mdW5jdGlvbiB0ZShhLGIpe3JldHVybiFzZS5jYWxsKHRoaXMsYSxiKX1mdW5jdGlvbiB1ZShhLGIsYyl7dmFyIGQ9W107dGhpcy5ldmFsdWF0ZShhKT9kPXRoaXMuZXZhbHVhdGUoYik6YyYmKGQ9dGhpcy5ldmFsdWF0ZShjKSk7dmFyIGU9WmEodGhpcy5LLGQpO2lmKGUgaW5zdGFuY2VvZiBHYSlyZXR1cm4gZX12YXIgb2U9ITE7CmZ1bmN0aW9uIHZlKGEsYil7cmV0dXJuIHRoaXMuZXZhbHVhdGUoYSk8dGhpcy5ldmFsdWF0ZShiKX1mdW5jdGlvbiB3ZShhLGIpe3JldHVybiB0aGlzLmV2YWx1YXRlKGEpPD10aGlzLmV2YWx1YXRlKGIpfWZ1bmN0aW9uIHhlKCl7Zm9yKHZhciBhPW5ldyB3ZCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5ldmFsdWF0ZShhcmd1bWVudHNbYl0pO2EucHVzaChjKX1yZXR1cm4gYX1mdW5jdGlvbiB5ZSgpe2Zvcih2YXIgYT1uZXcgYmIsYj0wO2I8YXJndW1lbnRzLmxlbmd0aC0xO2IrPTIpe3ZhciBjPVN0cmluZyh0aGlzLmV2YWx1YXRlKGFyZ3VtZW50c1tiXSkpLGQ9dGhpcy5ldmFsdWF0ZShhcmd1bWVudHNbYisxXSk7YS5zZXQoYyxkKX1yZXR1cm4gYX1mdW5jdGlvbiB6ZShhLGIpe3JldHVybiB0aGlzLmV2YWx1YXRlKGEpJXRoaXMuZXZhbHVhdGUoYil9CmZ1bmN0aW9uIEFlKGEsYil7cmV0dXJuIHRoaXMuZXZhbHVhdGUoYSkqdGhpcy5ldmFsdWF0ZShiKX1mdW5jdGlvbiBCZShhKXtyZXR1cm4tdGhpcy5ldmFsdWF0ZShhKX1mdW5jdGlvbiBDZShhKXtyZXR1cm4hdGhpcy5ldmFsdWF0ZShhKX1mdW5jdGlvbiBEZShhLGIpe3JldHVybiFaZC5jYWxsKHRoaXMsYSxiKX1mdW5jdGlvbiBFZSgpe3JldHVybiBudWxsfWZ1bmN0aW9uIEZlKGEsYil7cmV0dXJuIHRoaXMuZXZhbHVhdGUoYSl8fHRoaXMuZXZhbHVhdGUoYil9ZnVuY3Rpb24gR2UoYSxiKXt2YXIgYz10aGlzLmV2YWx1YXRlKGEpO3RoaXMuZXZhbHVhdGUoYik7cmV0dXJuIGN9ZnVuY3Rpb24gSGUoYSl7cmV0dXJuIHRoaXMuZXZhbHVhdGUoYSl9ZnVuY3Rpb24gSWUoKXtyZXR1cm4gRGEuYXBwbHkoMCxhcmd1bWVudHMpfWZ1bmN0aW9uIEplKGEpe3JldHVybiBuZXcgR2EoInJldHVybiIsdGhpcy5ldmFsdWF0ZShhKSl9CmZ1bmN0aW9uIEtlKGEsYixjKXt2YXIgZD10aGlzLmV2YWx1YXRlKGEpLGU9dGhpcy5ldmFsdWF0ZShiKSxmPXRoaXMuZXZhbHVhdGUoYyk7aWYoZD09PW51bGx8fGQ9PT12b2lkIDApdGhyb3cgVWEoRXJyb3IoIlR5cGVFcnJvcjogQ2FuJ3Qgc2V0IHByb3BlcnR5ICIrZSsiIG9mICIrZCsiLiIpKTsoZCBpbnN0YW5jZW9mIEFkfHxkIGluc3RhbmNlb2Ygd2R8fGQgaW5zdGFuY2VvZiBiYikmJmQuc2V0KFN0cmluZyhlKSxmKTtyZXR1cm4gZn1mdW5jdGlvbiBMZShhLGIpe3JldHVybiB0aGlzLmV2YWx1YXRlKGEpLXRoaXMuZXZhbHVhdGUoYil9CmZ1bmN0aW9uIE1lKGEsYixjKXt2YXIgZD10aGlzLmV2YWx1YXRlKGEpLGU9dGhpcy5ldmFsdWF0ZShiKSxmPXRoaXMuZXZhbHVhdGUoYyk7aWYoIUFycmF5LmlzQXJyYXkoZSl8fCFBcnJheS5pc0FycmF5KGYpKXRocm93IEVycm9yKCJFcnJvcjogTWFsZm9ybWVkIHN3aXRjaCBpbnN0cnVjdGlvbi4iKTtmb3IodmFyIGcsaD0hMSxsPTA7bDxlLmxlbmd0aDtsKyspaWYoaHx8ZD09PXRoaXMuZXZhbHVhdGUoZVtsXSkpaWYoZz10aGlzLmV2YWx1YXRlKGZbbF0pLGcgaW5zdGFuY2VvZiBHYSl7dmFyIG49Zy50eXBlO2lmKG49PT0iYnJlYWsiKXJldHVybjtpZihuPT09InJldHVybiJ8fG49PT0iY29udGludWUiKXJldHVybiBnfWVsc2UgaD0hMDtpZihmLmxlbmd0aD09PWUubGVuZ3RoKzEmJihnPXRoaXMuZXZhbHVhdGUoZltmLmxlbmd0aC0xXSksZyBpbnN0YW5jZW9mIEdhJiYoZy50eXBlPT09InJldHVybiJ8fGcudHlwZT09PSJjb250aW51ZSIpKSlyZXR1cm4gZ30KZnVuY3Rpb24gTmUoYSxiLGMpe3JldHVybiB0aGlzLmV2YWx1YXRlKGEpP3RoaXMuZXZhbHVhdGUoYik6dGhpcy5ldmFsdWF0ZShjKX1mdW5jdGlvbiBPZShhKXt2YXIgYj10aGlzLmV2YWx1YXRlKGEpO3JldHVybiBiIGluc3RhbmNlb2YgQWQ/ImZ1bmN0aW9uIjp0eXBlb2YgYn1mdW5jdGlvbiBQZSgpe2Zvcih2YXIgYT10aGlzLkssYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe3ZhciBjPWFyZ3VtZW50c1tiXTt0eXBlb2YgYyE9PSJzdHJpbmcifHxhLmFkZChjLHZvaWQgMCl9fQpmdW5jdGlvbiBSZShhLGIsYyxkKXt2YXIgZT10aGlzLmV2YWx1YXRlKGQpO2lmKHRoaXMuZXZhbHVhdGUoYykpe3ZhciBmPVphKHRoaXMuSyxlKTtpZihmIGluc3RhbmNlb2YgR2Epe2lmKGYudHlwZT09PSJicmVhayIpcmV0dXJuO2lmKGYudHlwZT09PSJyZXR1cm4iKXJldHVybiBmfX1mb3IoO3RoaXMuZXZhbHVhdGUoYSk7KXt2YXIgZz1aYSh0aGlzLkssZSk7aWYoZyBpbnN0YW5jZW9mIEdhKXtpZihnLnR5cGU9PT0iYnJlYWsiKWJyZWFrO2lmKGcudHlwZT09PSJyZXR1cm4iKXJldHVybiBnfXRoaXMuZXZhbHVhdGUoYil9fWZ1bmN0aW9uIFNlKGEpe3JldHVybn5OdW1iZXIodGhpcy5ldmFsdWF0ZShhKSl9ZnVuY3Rpb24gVGUoYSxiKXtyZXR1cm4gTnVtYmVyKHRoaXMuZXZhbHVhdGUoYSkpPDxOdW1iZXIodGhpcy5ldmFsdWF0ZShiKSl9ZnVuY3Rpb24gVWUoYSxiKXtyZXR1cm4gTnVtYmVyKHRoaXMuZXZhbHVhdGUoYSkpPj5OdW1iZXIodGhpcy5ldmFsdWF0ZShiKSl9CmZ1bmN0aW9uIFZlKGEsYil7cmV0dXJuIE51bWJlcih0aGlzLmV2YWx1YXRlKGEpKT4+Pk51bWJlcih0aGlzLmV2YWx1YXRlKGIpKX1mdW5jdGlvbiBXZShhLGIpe3JldHVybiBOdW1iZXIodGhpcy5ldmFsdWF0ZShhKSkmTnVtYmVyKHRoaXMuZXZhbHVhdGUoYikpfWZ1bmN0aW9uIFhlKGEsYil7cmV0dXJuIE51bWJlcih0aGlzLmV2YWx1YXRlKGEpKV5OdW1iZXIodGhpcy5ldmFsdWF0ZShiKSl9ZnVuY3Rpb24gWWUoYSxiKXtyZXR1cm4gTnVtYmVyKHRoaXMuZXZhbHVhdGUoYSkpfE51bWJlcih0aGlzLmV2YWx1YXRlKGIpKX1mdW5jdGlvbiBaZSgpe30KZnVuY3Rpb24gJGUoYSxiLGMpe3RyeXt2YXIgZD10aGlzLmV2YWx1YXRlKGIpO2lmKGQgaW5zdGFuY2VvZiBHYSlyZXR1cm4gZH1jYXRjaChoKXtpZighKGggaW5zdGFuY2VvZiBUYSYmaC5abSkpdGhyb3cgaDt2YXIgZT10aGlzLksub2IoKTthIT09IiImJihoIGluc3RhbmNlb2YgVGEmJihoPWgudW4pLGUuYWRkKGEsbmV3IEZkKGgpKSk7dmFyIGY9dGhpcy5ldmFsdWF0ZShjKSxnPVphKGUsZik7aWYoZyBpbnN0YW5jZW9mIEdhKXJldHVybiBnfX1mdW5jdGlvbiBhZihhLGIpe3ZhciBjLGQ7dHJ5e2Q9dGhpcy5ldmFsdWF0ZShhKX1jYXRjaChmKXtpZighKGYgaW5zdGFuY2VvZiBUYSYmZi5abSkpdGhyb3cgZjtjPWZ9dmFyIGU9dGhpcy5ldmFsdWF0ZShiKTtpZihlIGluc3RhbmNlb2YgR2EpcmV0dXJuIGU7aWYoYyl0aHJvdyBjO2lmKGQgaW5zdGFuY2VvZiBHYSlyZXR1cm4gZH07dmFyIGNmPWZ1bmN0aW9uKCl7dGhpcy5DPW5ldyBhYjtiZih0aGlzKX07Y2YucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuQy5LaihhKX07dmFyIGJmPWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKGMsZCl7dmFyIGU9bmV3IEJkKFN0cmluZyhjKSxkKTtlLlZhKCk7dmFyIGY9U3RyaW5nKGMpO2EuQy5DLnNldChmLGUpO1hhLnNldChmLGUpfTtiKCJtYXAiLHllKTtiKCJhbmQiLGpkKTtiKCJjb250YWlucyIsbWQpO2IoImVxdWFscyIsa2QpO2IoIm9yIixsZCk7Yigic3RhcnRzV2l0aCIsbmQpO2IoInZhcmlhYmxlIixvZCl9O2NmLnByb3RvdHlwZS5SYj1mdW5jdGlvbihhKXt0aGlzLkMuUmIoYSl9O3ZhciBlZj1mdW5jdGlvbigpe3RoaXMuSD0hMTt0aGlzLkM9bmV3IGFiO2RmKHRoaXMpO3RoaXMuSD0hMH07ZWYucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGZmKHRoaXMuQy5LaihhKSl9O3ZhciBnZj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZmKGEuQy5JcChiLGMpKX07ZWYucHJvdG90eXBlLlZhPWZ1bmN0aW9uKCl7dGhpcy5DLlZhKCl9Owp2YXIgZGY9ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYyxkKXt2YXIgZT1TdHJpbmcoYyksZj1uZXcgQmQoZSxkKTtmLlZhKCk7YS5DLkMuc2V0KGUsZik7WGEuc2V0KGUsZil9O2IoMCxOZCk7YigxLE9kKTtiKDIsUGQpO2IoMyxRZCk7Yig1NixXZSk7Yig1NyxUZSk7Yig1OCxTZSk7Yig1OSxZZSk7Yig2MCxVZSk7Yig2MSxWZSk7Yig2MixYZSk7Yig1MyxSZCk7Yig0LFNkKTtiKDUsVGQpO2IoNjgsJGUpO2IoNTIsVWQpO2IoNixWZCk7Yig0OSxXZCk7Yig3LHhlKTtiKDgseWUpO2IoOSxUZCk7Yig1MCxYZCk7YigxMCxZZCk7YigxMixaZCk7YigxMywkZCk7Yig2NyxhZik7Yig1MSxtZSk7Yig0NyxjZSk7Yig1NCxkZSk7Yig1NSxlZSk7Yig2MyxqZSk7Yig2NCxmZSk7Yig2NSxoZSk7Yig2NixpZSk7YigxNSxuZSk7YigxNixwZSk7YigxNyxwZSk7YigxOCxxZSk7YigxOSxyZSk7YigyMCxzZSk7YigyMSx0ZSk7YigyMix1ZSk7YigyMyx2ZSk7YigyNCx3ZSk7YigyNSx6ZSk7YigyNiwKQWUpO2IoMjcsQmUpO2IoMjgsQ2UpO2IoMjksRGUpO2IoNDUsRWUpO2IoMzAsRmUpO2IoMzIsR2UpO2IoMzMsR2UpO2IoMzQsSGUpO2IoMzUsSGUpO2IoNDYsSWUpO2IoMzYsSmUpO2IoNDMsS2UpO2IoMzcsTGUpO2IoMzgsTWUpO2IoMzksTmUpO2IoNDAsT2UpO2IoNDQsWmUpO2IoNDEsUGUpO2IoNDIsUmUpfTtlZi5wcm90b3R5cGUuTGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DLkxkKCl9O2VmLnByb3RvdHlwZS5SYj1mdW5jdGlvbihhKXt0aGlzLkMuUmIoYSl9O2VmLnByb3RvdHlwZS5aYz1mdW5jdGlvbihhKXt0aGlzLkMuWmMoYSl9OwpmdW5jdGlvbiBmZihhKXtpZihhIGluc3RhbmNlb2YgR2F8fGEgaW5zdGFuY2VvZiBBZHx8YSBpbnN0YW5jZW9mIHdkfHxhIGluc3RhbmNlb2YgYmJ8fGEgaW5zdGFuY2VvZiBIZHx8YSBpbnN0YW5jZW9mIEZkfHxhPT09bnVsbHx8YT09PXZvaWQgMHx8dHlwZW9mIGE9PT0ic3RyaW5nInx8dHlwZW9mIGE9PT0ibnVtYmVyInx8dHlwZW9mIGE9PT0iYm9vbGVhbiIpcmV0dXJuIGF9O3ZhciBoZj1mdW5jdGlvbihhKXt0aGlzLm1lc3NhZ2U9YX07ZnVuY3Rpb24gamYoYSl7YS5CdD0hMDtyZXR1cm4gYX07dmFyIGtmPWpmKGZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYT09PSJzdHJpbmcifSk7ZnVuY3Rpb24gbGYoYSl7dmFyIGI9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLV8iW2FdO3JldHVybiBiPT09dm9pZCAwP25ldyBoZigiVmFsdWUgIithKyIgY2FuIG5vdCBiZSBlbmNvZGVkIGluIHdlYi1zYWZlIGJhc2U2NCBkaWN0aW9uYXJ5LiIpOmJ9O2Z1bmN0aW9uIG1mKGEpe3N3aXRjaChhKXtjYXNlIDE6cmV0dXJuIjEiO2Nhc2UgMjpjYXNlIDQ6cmV0dXJuIjAiO2RlZmF1bHQ6cmV0dXJuIi0ifX07dmFyIG5mPS9eWzEtOWEtekEtWl8tXVsxLTlhLWNdWzEtOWEtdl1cZCQvO2Z1bmN0aW9uIG9mKGEsYil7Zm9yKHZhciBjPSIiLGQ9ITA7YT43Oyl7dmFyIGU9YSYzMTthPj49NTtkP2Q9ITE6ZXw9MzI7Yz0iIitsZihlKStjfWE8PD0yO2R8fChhfD0zMik7cmV0dXJuIGM9IiIrbGYoYXxiKStjfQpmdW5jdGlvbiBwZihhLGIpe3ZhciBjO3ZhciBkPWEuVGgsZT1hLnlqO2Q9PT12b2lkIDA/Yz0iIjooZXx8KGU9MCksYz0iIitvZigxLDEpK2xmKGQ8PDJ8ZSkpO3ZhciBmPWEucXEsZz0iNCIrYysoZj8iIitvZigyLDEpK2xmKGYpOiIiKSxoLGw9YS5HbjtoPWwmJm5mLnRlc3QobCk/IiIrb2YoMywyKStsOiIiO3ZhciBuLHA9YS5CbjtuPXA/IiIrb2YoNCwxKStsZihwKToiIjt2YXIgcTt2YXIgcj1hLmN0aWQ7aWYociYmYil7dmFyIHU9b2YoNSwzKSx0PXIuc3BsaXQoIi0iKSx2PXRbMF0udG9VcHBlckNhc2UoKTtpZih2IT09IkdUTSImJnYhPT0iT1BUIilxPSIiO2Vsc2V7dmFyIHg9dFsxXTtxPSIiK3UrbGYoMSt4Lmxlbmd0aCkrKGEuenJ8fDApK3h9fWVsc2UgcT0iIjt2YXIgeT1hLmtzLEE9YS5jYW5vbmljYWxJZCxDPWEuUmEsRT1hLkZ0LEg9ZytoK24rcSsoeT8iIitvZig2LDEpK2xmKHkpOiIiKSsoQT8iIitvZig3LDMpK2xmKEEubGVuZ3RoKStBOiIiKSsoQz8iIitvZig4LDMpKwpsZihDLmxlbmd0aCkrQzoiIikrKEU/IiIrb2YoOSwzKStsZihFLmxlbmd0aCkrRToiIiksSjt2YXIgTz1hLnhxO089Tz09PXZvaWQgMD97fTpPO2Zvcih2YXIgYmE9W10sVz1tKE9iamVjdC5rZXlzKE8pKSxOPVcubmV4dCgpOyFOLmRvbmU7Tj1XLm5leHQoKSl7dmFyIFM9Ti52YWx1ZTtiYVtOdW1iZXIoUyldPU9bU119aWYoYmEubGVuZ3RoKXt2YXIgbGE9b2YoMTAsMyksamE7aWYoYmEubGVuZ3RoPT09MClqYT1sZigwKTtlbHNle2Zvcih2YXIgVj1bXSxVPTAsaGE9ITEsdGE9MDt0YTxiYS5sZW5ndGg7dGErKyl7aGE9ITA7dmFyIHBhPXRhJTY7YmFbdGFdJiYoVXw9MTw8cGEpO3BhPT09NSYmKFYucHVzaChsZihVKSksVT0wLGhhPSExKX1oYSYmVi5wdXNoKGxmKFUpKTtqYT1WLmpvaW4oIiIpfXZhciBNYT1qYTtKPSIiK2xhK2xmKE1hLmxlbmd0aCkrTWF9ZWxzZSBKPSIiO3ZhciBTYT1hLkdyLG1iPWEuVXIsY2I9YS5scztyZXR1cm4gSCtKKyhTYT8iIitvZigxMSwzKStsZihTYS5sZW5ndGgpKwpTYToiIikrKG1iPyIiK29mKDEzLDMpK2xmKG1iLmxlbmd0aCkrbWI6IiIpKyhjYj8iIitvZigxNCwxKStsZihjYik6IiIpfTtmdW5jdGlvbiBxZihhKXtmb3IodmFyIGI9W10sYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YS5jaGFyQ29kZUF0KGQpO2U8MTI4P2JbYysrXT1lOihlPDIwNDg/YltjKytdPWU+PjZ8MTkyOigoZSY2NDUxMik9PTU1Mjk2JiZkKzE8YS5sZW5ndGgmJihhLmNoYXJDb2RlQXQoZCsxKSY2NDUxMik9PTU2MzIwPyhlPTY1NTM2KygoZSYxMDIzKTw8MTApKyhhLmNoYXJDb2RlQXQoKytkKSYxMDIzKSxiW2MrK109ZT4+MTh8MjQwLGJbYysrXT1lPj4xMiY2M3wxMjgpOmJbYysrXT1lPj4xMnwyMjQsYltjKytdPWU+PjYmNjN8MTI4KSxiW2MrK109ZSY2M3wxMjgpfXJldHVybiBifTtmdW5jdGlvbiByZihhLGIpe2Zvcih2YXIgYz1pYihiKSxkPW5ldyBVaW50OEFycmF5KGMubGVuZ3RoKSxlPTA7ZTxjLmxlbmd0aDtlKyspZFtlXT1jLmNoYXJDb2RlQXQoZSk7aWYoZC5sZW5ndGghPT0zMil0aHJvdyBFcnJvcigiS2V5IGlzIG5vdCAzMiBieXRlcy4iKTtyZXR1cm4gc2YoYSxkKX1mdW5jdGlvbiBzZihhLGIpe2lmKGE9PT0iIilyZXR1cm4iIjt2YXIgYz1UYihhKSxkPWIuc2xpY2UoLTIpLGU9W10uY29uY2F0KHphKGQpLHphKGMpKS5tYXAoZnVuY3Rpb24oZyxoKXtyZXR1cm4gZ15iW2glYi5sZW5ndGhdfSksZj1uZXcgVWludDhBcnJheShbXS5jb25jYXQoemEoZSksemEoZCkpKTtyZXR1cm4gaGIoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsemEoZikpKS5yZXBsYWNlKC9cLiskLywiIil9O3ZhciB0Zj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJue3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGJ9fX1yZXR1cm57Wm46YSgiY29uc2VudCIpLGxrOmEoImNvbnZlcnRfY2FzZV90byIpLG1rOmEoImNvbnZlcnRfZmFsc2VfdG8iKSxuazphKCJjb252ZXJ0X251bGxfdG8iKSxwazphKCJjb252ZXJ0X3RydWVfdG8iKSxxazphKCJjb252ZXJ0X3VuZGVmaW5lZF90byIpLERzOmEoImRlYnVnX21vZGVfbWV0YWRhdGEiKSxUYTphKCJmdW5jdGlvbiIpLHNoOmEoImluc3RhbmNlX25hbWUiKSxNcDphKCJsaXZlX29ubHkiKSxOcDphKCJtYWx3YXJlX2Rpc2FibGVkIiksTUVUQURBVEE6YSgibWV0YWRhdGEiKSxRcDphKCJvcmlnaW5hbF9hY3Rpdml0eV9pZCIpLFpzOmEoIm9yaWdpbmFsX3ZlbmRvcl90ZW1wbGF0ZV9pZCIpLFlzOmEoIm9uY2Vfb25fbG9hZCIpLFBwOmEoIm9uY2VfcGVyX2V2ZW50Iiksc206YSgib25jZV9wZXJfbG9hZCIpLGN0OmEoInByaW9yaXR5X292ZXJyaWRlIiksCmh0OmEoInJlc3BlY3RlZF9jb25zZW50X3R5cGVzIiksQm06YSgic2V0dXBfdGFncyIpLEVoOmEoInRhZ19pZCIpLE5tOmEoInRlYXJkb3duX3RhZ3MiKX19KCk7dmFyIFBmO3ZhciBRZj1bXSxSZj1bXSxTZj1bXSxUZj1bXSxVZj1bXSxWZixXZixYZjtmdW5jdGlvbiBZZihhKXtYZj1YZnx8YX0KZnVuY3Rpb24gWmYoKXtmb3IodmFyIGE9ZGF0YS5yZXNvdXJjZXx8e30sYj1hLm1hY3Jvc3x8W10sYz0wO2M8Yi5sZW5ndGg7YysrKVFmLnB1c2goYltjXSk7Zm9yKHZhciBkPWEudGFnc3x8W10sZT0wO2U8ZC5sZW5ndGg7ZSsrKVRmLnB1c2goZFtlXSk7Zm9yKHZhciBmPWEucHJlZGljYXRlc3x8W10sZz0wO2c8Zi5sZW5ndGg7ZysrKVNmLnB1c2goZltnXSk7Zm9yKHZhciBoPWEucnVsZXN8fFtdLGw9MDtsPGgubGVuZ3RoO2wrKyl7Zm9yKHZhciBuPWhbbF0scD17fSxxPTA7cTxuLmxlbmd0aDtxKyspe3ZhciByPW5bcV1bMF07cFtyXT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuW3FdLDEpO3IhPT0iaWYiJiZyIT09InVubGVzcyJ8fCRmKHBbcl0pfVJmLnB1c2gocCl9fQpmdW5jdGlvbiAkZihhKXt9dmFyIGFnLGJnPVtdLGNnPVtdO2Z1bmN0aW9uIGRnKGEsYil7dmFyIGM9e307Y1t0Zi5UYV09Il9fIithO2Zvcih2YXIgZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJihjWyJ2dHBfIitkXT1iW2RdKTtyZXR1cm4gY30KZnVuY3Rpb24gZWcoYSxiLGMpe3RyeXtyZXR1cm4gV2YoZmcoYSxiLGMpKX1jYXRjaChkKXtKU09OLnN0cmluZ2lmeShhKX1yZXR1cm4gMn0KdmFyIGZnPWZ1bmN0aW9uKGEsYixjKXtjPWN8fFtdO3ZhciBkPXt9LGU7Zm9yKGUgaW4gYSlhLmhhc093blByb3BlcnR5KGUpJiYoZFtlXT1nZyhhW2VdLGIsYykpO3JldHVybiBkfSxnZz1mdW5jdGlvbihhLGIsYyl7aWYoQXJyYXkuaXNBcnJheShhKSl7dmFyIGQ7c3dpdGNoKGFbMF0pe2Nhc2UgImZ1bmN0aW9uX2lkIjpyZXR1cm4gYVsxXTtjYXNlICJsaXN0IjpkPVtdO2Zvcih2YXIgZT0xO2U8YS5sZW5ndGg7ZSsrKWQucHVzaChnZyhhW2VdLGIsYykpO3JldHVybiBkO2Nhc2UgIm1hY3JvIjp2YXIgZj1hWzFdO2lmKGNbZl0pcmV0dXJuO3ZhciBnPVFmW2ZdO2lmKCFnfHxiLmlzQmxvY2tlZChnKSlyZXR1cm47Y1tmXT0hMDt2YXIgaD1TdHJpbmcoZ1t0Zi5zaF0pO3RyeXt2YXIgbD1mZyhnLGIsYyk7bC52dHBfZ3RtRXZlbnRJZD1iLmlkO2IucHJpb3JpdHlJZCYmKGwudnRwX2d0bVByaW9yaXR5SWQ9Yi5wcmlvcml0eUlkKTtkPWhnKGwse2V2ZW50OmIsaW5kZXg6Zix0eXBlOjIsCm5hbWU6aH0pO2FnJiYoZD1hZy55cShkLGwpKX1jYXRjaChBKXtiLmxvZ01hY3JvRXJyb3ImJmIubG9nTWFjcm9FcnJvcihBLE51bWJlcihmKSxoKSxkPSExfWNbZl09ITE7cmV0dXJuIGQ7Y2FzZSAibWFwIjpkPXt9O2Zvcih2YXIgbj0xO248YS5sZW5ndGg7bis9MilkW2dnKGFbbl0sYixjKV09Z2coYVtuKzFdLGIsYyk7cmV0dXJuIGQ7Y2FzZSAidGVtcGxhdGUiOmQ9W107Zm9yKHZhciBwPSExLHE9MTtxPGEubGVuZ3RoO3ErKyl7dmFyIHI9Z2coYVtxXSxiLGMpO1hmJiYocD1wfHxYZi52cihyKSk7ZC5wdXNoKHIpfXJldHVybiBYZiYmcD9YZi5EcShkKTpkLmpvaW4oIiIpO2Nhc2UgImVzY2FwZSI6ZD1nZyhhWzFdLGIsYyk7aWYoWGYmJkFycmF5LmlzQXJyYXkoYVsxXSkmJmFbMV1bMF09PT0ibWFjcm8iJiZYZi53cihhKSlyZXR1cm4gWGYuTXIoZCk7ZD1TdHJpbmcoZCk7Zm9yKHZhciB1PTI7dTxhLmxlbmd0aDt1KyspQWZbYVt1XV0mJihkPUFmW2FbdV1dKGQpKTtyZXR1cm4gZDsKY2FzZSAidGFnIjp2YXIgdD1hWzFdO2lmKCFUZlt0XSl0aHJvdyBFcnJvcigiVW5hYmxlIHRvIHJlc29sdmUgdGFnIHJlZmVyZW5jZSAiK3QrIi4iKTtyZXR1cm57Z246YVsyXSxpbmRleDp0fTtjYXNlICJ6YiI6dmFyIHY9e2FyZzA6YVsyXSxhcmcxOmFbM10saWdub3JlX2Nhc2U6YVs1XX07dlt0Zi5UYV09YVsxXTt2YXIgeD1lZyh2LGIsYykseT0hIWFbNF07cmV0dXJuIHl8fHghPT0yP3khPT0oeD09PTEpOm51bGw7ZGVmYXVsdDp0aHJvdyBFcnJvcigiQXR0ZW1wdGluZyB0byBleHBhbmQgdW5rbm93biBWYWx1ZSB0eXBlOiAiK2FbMF0rIi4iKTt9fXJldHVybiBhfSxoZz1mdW5jdGlvbihhLGIpe3ZhciBjPWFbdGYuVGFdLGQ9YiYmYi5ldmVudDtpZighYyl0aHJvdyBFcnJvcigiRXJyb3I6IE5vIGZ1bmN0aW9uIG5hbWUgZ2l2ZW4gZm9yIGZ1bmN0aW9uIGNhbGwuIik7dmFyIGU9VmZbY10sZj1iJiZiLnR5cGU9PT0yJiYoZD09bnVsbD92b2lkIDA6ZC5yZXBvcnRNYWNyb0Rpc2NyZXBhbmN5KSYmCmUmJmJnLmluZGV4T2YoYykhPT0tMSxnPXt9LGg9e30sbDtmb3IobCBpbiBhKWEuaGFzT3duUHJvcGVydHkobCkmJkxiKGwsInZ0cF8iKSYmKGUmJihnW2xdPWFbbF0pLCFlfHxmKSYmKGhbbC5zdWJzdHJpbmcoNCldPWFbbF0pO2UmJmQmJmQuY2FjaGVkTW9kZWxWYWx1ZXMmJihnLnZ0cF9ndG1DYWNoZWRWYWx1ZXM9ZC5jYWNoZWRNb2RlbFZhbHVlcyk7aWYoYil7aWYoYi5uYW1lPT1udWxsKXt2YXIgbjthOnt2YXIgcD1iLnR5cGUscT1iLmluZGV4O2lmKHE9PW51bGwpbj0iIjtlbHNle3ZhciByO3N3aXRjaChwKXtjYXNlIDI6cj1RZltxXTticmVhaztjYXNlIDE6cj1UZltxXTticmVhaztkZWZhdWx0Om49IiI7YnJlYWsgYX12YXIgdT1yJiZyW3RmLnNoXTtuPXU/U3RyaW5nKHUpOiIifX1iLm5hbWU9bn1lJiYoZy52dHBfZ3RtRW50aXR5SW5kZXg9Yi5pbmRleCxnLnZ0cF9ndG1FbnRpdHlOYW1lPWIubmFtZSl9dmFyIHQsdix4O2lmKGYmJmNnLmluZGV4T2YoYyk9PT0tMSl7Y2cucHVzaChjKTsKdmFyIHk9R2IoKTt0PWUoZyk7dmFyIEE9R2IoKS15LEM9R2IoKTt2PVBmKGMsaCxiKTt4PUEtKEdiKCktQyl9ZWxzZSBpZihlJiYodD1lKGcpKSwhZXx8Zil2PVBmKGMsaCxiKTtpZihmJiZkKXtkLnJlcG9ydE1hY3JvRGlzY3JlcGFuY3koZC5pZCxjLHZvaWQgMCwhMCk7aWYodWQodCkpe3ZhciBFPSExO2lmKEFycmF5LmlzQXJyYXkodCkpRT0hQXJyYXkuaXNBcnJheSh2KTtlbHNlIGlmKHNkKHQpKWlmKHNkKHYpKXtpZihjPT09Il9fZ2FzIilhOntmb3IodmFyIEg9dCxKPXYsTz1tKE9iamVjdC5rZXlzKEgpKSxiYT1PLm5leHQoKTshYmEuZG9uZTtiYT1PLm5leHQoKSl7dmFyIFc9YmEudmFsdWU7aWYoVz09PSJ2dHBfZmllbGRzVG9TZXQifHxXPT09InZ0cF9jb250ZW50R3JvdXAifHxXPT09InZ0cF9kaW1lbnNpb24ifHxXPT09InZ0cF9tZXRyaWMiKXt2YXIgTj1IW1ddLFM9SltXLnN1YnN0cmluZyg0KV07aWYoaWcoVyxOLEpbV10pJiZpZyhXLE4sUykpY29udGludWU7ZWxzZXtFPQohMDticmVhayBhfX1pZihXIT09InZ0cF9ndG1DYWNoZWRWYWx1ZXMiJiZXIT09InZ0cF9ndG1FbnRpdHlJbmRleCImJlchPT0idnRwX2d0bUVudGl0eU5hbWUiJiZXIT09ImZ1bmN0aW9uIiYmVyE9PSJpbnN0YW5jZV9uYW1lIil7dmFyIGxhPUhbV107aWYoIWpnKEpbV10sbGEpfHwhamcoSltXLnN1YnN0cmluZyg0KV0sbGEpKXtFPSEwO2JyZWFrIGF9fX1FPSExfX1lbHNlIEU9ITA7ZWxzZSBFPXR5cGVvZiB0PT09ImZ1bmN0aW9uIj90eXBlb2YgdiE9PSJmdW5jdGlvbiI6dCE9PXY7RSYmZC5yZXBvcnRNYWNyb0Rpc2NyZXBhbmN5KGQuaWQsYyl9ZWxzZSB0IT09diYmZC5yZXBvcnRNYWNyb0Rpc2NyZXBhbmN5KGQuaWQsYyk7eCE9PXZvaWQgMCYmZC5yZXBvcnRNYWNyb0Rpc2NyZXBhbmN5KGQuaWQsYyx4KX1yZXR1cm4gZT90OnZ9OwpmdW5jdGlvbiBpZyhhLGIsYyl7aWYoYi5sZW5ndGghPT1jLmxlbmd0aClyZXR1cm4hMTt2YXIgZCxlO2E9PT0idnRwX2ZpZWxkc1RvU2V0Ij8oZD0iZmllbGROYW1lIixlPSJ2YWx1ZSIpOihkPSJpbmRleCIsZT1hPT09InZ0cF9jb250ZW50R3JvdXAiPyJncm91cCI6YT09PSJ2dHBfZGltZW5zaW9uIj8iZGltZW5zaW9uIjoibWV0cmljIik7Zm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspaWYoIWpnKGJbZl1bZF0sY1tmXVtkXSl8fCFqZyhiW2ZdW2VdLGNbZl1bZV0pKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiBqZyhhLGIpe3JldHVybiB0eXBlb2YgYT09PSJudW1iZXIiP3R5cGVvZiBiIT09Im51bWJlciI/ITE6U3RyaW5nKGEpLmxlbmd0aD09PTEzP01hdGguYWJzKGEtYik8MUUzOmE9PT1iOnR5cGVvZiBhPT09ImZ1bmN0aW9uIj90eXBlb2YgYj09PSJmdW5jdGlvbiI6QXJyYXkuaXNBcnJheShhKT9BcnJheS5pc0FycmF5KGIpJiZhLmxlbmd0aD09PWIubGVuZ3RoPyEwOiExOnNkKGEpP3NkKGIpOmE9PT1ifTtmdW5jdGlvbiBrZyhhKXt2YXIgYjtiPWI9PT12b2lkIDA/ITE6Yjt2YXIgYyxkO3JldHVybigoYz1kYXRhKT09bnVsbD8wOihkPWMuYmxvYik9PW51bGw/MDpkLmhhc093blByb3BlcnR5KGEpKT8hIWRhdGEuYmxvYlthXTpifWZ1bmN0aW9uIEQoYSl7dmFyIGI7Yj1iPT09dm9pZCAwPyIiOmI7dmFyIGMsZDtyZXR1cm4oKGM9ZGF0YSk9PW51bGw/MDooZD1jLmJsb2IpPT1udWxsPzA6ZC5oYXNPd25Qcm9wZXJ0eShhKSk/U3RyaW5nKGRhdGEuYmxvYlthXSk6Yn1mdW5jdGlvbiBsZyhhKXt2YXIgYixjO3JldHVybigoYj1kYXRhKT09bnVsbD8wOihjPWIuYmxvYik9PW51bGw/MDpjLmhhc093blByb3BlcnR5KGEpKT9OdW1iZXIoZGF0YS5ibG9iW2FdKTowfWZ1bmN0aW9uIG1nKGEpe3ZhciBiO2I9Yj09PXZvaWQgMD9bXTpiO3ZhciBjLGQsZT0oYz1kYXRhKT09bnVsbD92b2lkIDA6KGQ9Yy5ibG9iKT09bnVsbD92b2lkIDA6ZFthXTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOmJ9CmZ1bmN0aW9uIG5nKGEpe3ZhciBiO2I9Yj09PXZvaWQgMD8iIjpiO3ZhciBjPW9nKDQ2KTtyZXR1cm4gYyYmKGM9PW51bGw/MDpjLmhhc093blByb3BlcnR5KGEpKT9TdHJpbmcoY1thXSk6Yn1mdW5jdGlvbiBwZyhhLGIpe3ZhciBjPW9nKDQ2KTtyZXR1cm4gYyYmKGM9PW51bGw/MDpjLmhhc093blByb3BlcnR5KGEpKT9OdW1iZXIoY1thXSk6Yn1mdW5jdGlvbiBvZyhhKXt2YXIgYixjO3JldHVybihiPWRhdGEpPT1udWxsP3ZvaWQgMDooYz1iLmJsb2IpPT1udWxsP3ZvaWQgMDpjW2FdfTt2YXIgcWc9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2Q9RXJyb3IuY2FsbCh0aGlzLGMpO3RoaXMubWVzc2FnZT1kLm1lc3NhZ2U7InN0YWNrImluIGQmJih0aGlzLnN0YWNrPWQuc3RhY2spO3RoaXMucGVybWlzc2lvbklkPWE7dGhpcy5wYXJhbWV0ZXJzPWI7dGhpcy5uYW1lPSJQZXJtaXNzaW9uRXJyb3IifTt3YShxZyxFcnJvcik7cWcucHJvdG90eXBlLmdldE1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfTtmdW5jdGlvbiByZyhhLGIpe2lmKEFycmF5LmlzQXJyYXkoYSkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJjb250ZXh0Iix7dmFsdWU6e2xpbmU6YlswXX19KTtmb3IodmFyIGM9MTtjPGEubGVuZ3RoO2MrKylyZyhhW2NdLGJbY10pfX07ZnVuY3Rpb24gc2coKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgYzt2YXIgZD10ZzthIGluc3RhbmNlb2YgVGE/KGEuQz1kLGM9YSk6Yz1uZXcgVGEoYSxkKTt2YXIgZT1jO2ImJmUuZGVidWdJbmZvLnB1c2goYik7dGhyb3cgZTt9fWZ1bmN0aW9uIHRnKGEpe2lmKCFhLmxlbmd0aClyZXR1cm4gYTthLnB1c2goe2lkOiJtYWluIixsaW5lOjB9KTtmb3IodmFyIGI9YS5sZW5ndGgtMTtiPjA7Yi0tKXRiKGFbYl0uaWQpJiZhLnNwbGljZShiKyssMSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7Yz4wO2MtLSlhW2NdLmxpbmU9YVtjLTFdLmxpbmU7YS5zcGxpY2UoMCwxKTtyZXR1cm4gYX07ZnVuY3Rpb24gdWcoYSl7ZnVuY3Rpb24gYihyKXtmb3IodmFyIHU9MDt1PHIubGVuZ3RoO3UrKylkW3JbdV1dPSEwfWZvcih2YXIgYz1bXSxkPVtdLGU9dmcoYSksZj0wO2Y8UmYubGVuZ3RoO2YrKyl7dmFyIGc9UmZbZl0saD13ZyhnLGUpO2lmKGgpe2Zvcih2YXIgbD1nLmFkZHx8W10sbj0wO248bC5sZW5ndGg7bisrKWNbbFtuXV09ITA7YihnLmJsb2NrfHxbXSl9ZWxzZSBoPT09bnVsbCYmYihnLmJsb2NrfHxbXSk7fWZvcih2YXIgcD1bXSxxPTA7cTxUZi5sZW5ndGg7cSsrKWNbcV0mJiFkW3FdJiYocFtxXT0hMCk7cmV0dXJuIHB9CmZ1bmN0aW9uIHdnKGEsYil7Zm9yKHZhciBjPWFbImlmIl18fFtdLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9YihjW2RdKTtpZihlPT09MClyZXR1cm4hMTtpZihlPT09MilyZXR1cm4gbnVsbH1mb3IodmFyIGY9YS51bmxlc3N8fFtdLGc9MDtnPGYubGVuZ3RoO2crKyl7dmFyIGg9YihmW2ddKTtpZihoPT09MilyZXR1cm4gbnVsbDtpZihoPT09MSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiB2ZyhhKXt2YXIgYj1bXTtyZXR1cm4gZnVuY3Rpb24oYyl7YltjXT09PXZvaWQgMCYmKGJbY109ZWcoU2ZbY10sYSkpO3JldHVybiBiW2NdfX07ZnVuY3Rpb24geGcoYSxiKXtiW3RmLmxrXSYmdHlwZW9mIGE9PT0ic3RyaW5nIiYmKGE9Ylt0Zi5sa109PT0xP2EudG9Mb3dlckNhc2UoKTphLnRvVXBwZXJDYXNlKCkpO2IuaGFzT3duUHJvcGVydHkodGYubmspJiZhPT09bnVsbCYmKGE9Ylt0Zi5ua10pO2IuaGFzT3duUHJvcGVydHkodGYucWspJiZhPT09dm9pZCAwJiYoYT1iW3RmLnFrXSk7Yi5oYXNPd25Qcm9wZXJ0eSh0Zi5waykmJmE9PT0hMCYmKGE9Ylt0Zi5wa10pO2IuaGFzT3duUHJvcGVydHkodGYubWspJiZhPT09ITEmJihhPWJbdGYubWtdKTtyZXR1cm4gYX07dmFyIHlnPWZ1bmN0aW9uKCl7dGhpcy5DPXt9fSxBZz1mdW5jdGlvbihhLGIpe3ZhciBjPXpnLkMsZDsoZD1jLkMpW2FdIT1udWxsfHwoZFthXT1bXSk7Yy5DW2FdLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gYi5hcHBseShudWxsLHphKERhLmFwcGx5KDAsYXJndW1lbnRzKSkpfSl9O2Z1bmN0aW9uIEJnKGEsYixjLGQpe2lmKGEpZm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPXZvaWQgMCxnPSJBIHBvbGljeSBmdW5jdGlvbiBkZW5pZWQgdGhlIHBlcm1pc3Npb24gcmVxdWVzdCI7dHJ5e2Y9YVtlXShiLGMsZCksZys9Ii4ifWNhdGNoKGgpe2c9dHlwZW9mIGg9PT0ic3RyaW5nIj9nKygiOiAiK2gpOmggaW5zdGFuY2VvZiBFcnJvcj9nKygiOiAiK2gubWVzc2FnZSk6ZysiLiJ9aWYoIWYpdGhyb3cgbmV3IHFnKGMsZCxnKTt9fQpmdW5jdGlvbiBDZyhhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe2lmKGQpe3ZhciBlPWEuQ1tkXSxmPWEuQy5hbGw7aWYoZXx8Zil7dmFyIGc9Yy5hcHBseSh2b2lkIDAsW2RdLmNvbmNhdCh6YShEYS5hcHBseSgxLGFyZ3VtZW50cykpKSk7QmcoZSxiLGQsZyk7QmcoZixiLGQsZyl9fX19O3ZhciBGZz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy5IPXt9O3RoaXMuQz1uZXcgeWc7dmFyIGQ9e30sZT17fSxmPUNnKHRoaXMuQyxhLGZ1bmN0aW9uKGcpe3JldHVybiBnJiZkW2ddP2RbZ10uYXBwbHkodm9pZCAwLFtnXS5jb25jYXQoemEoRGEuYXBwbHkoMSxhcmd1bWVudHMpKSkpOnt9fSk7emIoYixmdW5jdGlvbihnLGgpe2Z1bmN0aW9uIGwocCl7dmFyIHE9RGEuYXBwbHkoMSxhcmd1bWVudHMpO2lmKCFuW3BdKXRocm93IERnKHAse30sIlRoZSByZXF1ZXN0ZWQgYWRkaXRpb25hbCBwZXJtaXNzaW9uICIrcCsiIGlzIG5vdCBjb25maWd1cmVkLiIpO2YuYXBwbHkobnVsbCxbcF0uY29uY2F0KHphKHEpKSl9dmFyIG49e307emIoaCxmdW5jdGlvbihwLHEpe3ZhciByPUVnKHAscSk7bltwXT1yLmFzc2VydDtkW3BdfHwoZFtwXT1yLlUpO3IuWG0mJiFlW3BdJiYoZVtwXT1yLlhtKX0pO2MuSFtnXT1mdW5jdGlvbihwLHEpe3ZhciByPW5bcF07aWYoIXIpdGhyb3cgRGcocCwKe30sIlRoZSByZXF1ZXN0ZWQgcGVybWlzc2lvbiAiK3ArIiBpcyBub3QgY29uZmlndXJlZC4iKTt2YXIgdT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7ci5hcHBseSh2b2lkIDAsdSk7Zi5hcHBseSh2b2lkIDAsdSk7dmFyIHQ9ZVtwXTt0JiZ0LmFwcGx5KG51bGwsW2xdLmNvbmNhdCh6YSh1LnNsaWNlKDEpKSkpfX0pfSxHZz1mdW5jdGlvbihhKXtyZXR1cm4gemcuSFthXXx8ZnVuY3Rpb24oKXt9fTtmdW5jdGlvbiBFZyhhLGIpe3ZhciBjPWRnKGEsYik7Yy52dHBfcGVybWlzc2lvbk5hbWU9YTtjLnZ0cF9jcmVhdGVQZXJtaXNzaW9uRXJyb3I9RGc7dHJ5e3JldHVybiBoZyhjKX1jYXRjaChkKXtyZXR1cm57YXNzZXJ0OmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBxZyhlLHt9LCJQZXJtaXNzaW9uICIrZSsiIGlzIHVua25vd24uIik7fSxVOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IHFnKGEse30sIlBlcm1pc3Npb24gIithKyIgaXMgdW5rbm93bi4iKTt9fX19CmZ1bmN0aW9uIERnKGEsYixjKXtyZXR1cm4gbmV3IHFnKGEsYixjKX07dmFyIEhnPUQoNSksSmc9RCgyMCksS2c9RCgxKSxMZz0hMTt2YXIgTWc9e307TWcuTm49a2coMjkpO01nLkpxPWtnKDI4KTsKdmFyIFFnPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9MDt6YihhLGZ1bmN0aW9uKGUsZil7aWYoZiE9bnVsbCl7dmFyIGc9KCIiK2YpLnJlcGxhY2UoL34vZywifn4iKTtpZihOZy5oYXNPd25Qcm9wZXJ0eShlKSliW05nW2VdXT1nO2Vsc2UgaWYoT2cuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBoPU9nW2VdO2IuaGFzT3duUHJvcGVydHkoaCl8fChiW2hdPWcpfWVsc2UgaWYoZT09PSJjYXRlZ29yeSIpZm9yKHZhciBsPWcuc3BsaXQoIi8iLDUpLG49MDtuPGwubGVuZ3RoO24rKyl7dmFyIHA9YixxPVBnW25dLHI9bFtuXTtwLmhhc093blByb3BlcnR5KHEpfHwocFtxXT1yKX1lbHNlIGlmKGM8Mjcpe3ZhciB1PVN0cmluZy5mcm9tQ2hhckNvZGUoYzwxMD80OCtjOjY1K2MtMTApO2JbImsiK3VdPSgiIitTdHJpbmcoZSkpLnJlcGxhY2UoL34vZywifn4iKTtiWyJ2Iit1XT1nO2MrK319fSk7dmFyIGQ9W107emIoYixmdW5jdGlvbihlLGYpe2QucHVzaCgiIitlK2YpfSk7cmV0dXJuIGQuam9pbigifiIpfSwKTmc9e2l0ZW1faWQ6ImlkIixpdGVtX25hbWU6Im5tIixpdGVtX2JyYW5kOiJiciIsaXRlbV9jYXRlZ29yeToiY2EiLGl0ZW1fY2F0ZWdvcnkyOiJjMiIsaXRlbV9jYXRlZ29yeTM6ImMzIixpdGVtX2NhdGVnb3J5NDoiYzQiLGl0ZW1fY2F0ZWdvcnk1OiJjNSIsaXRlbV92YXJpYW50OiJ2YSIscHJpY2U6InByIixxdWFudGl0eToicXQiLGNvdXBvbjoiY3AiLGl0ZW1fbGlzdF9uYW1lOiJsbiIsaW5kZXg6ImxwIixpdGVtX2xpc3RfaWQ6ImxpIixkaXNjb3VudDoiZHMiLGFmZmlsaWF0aW9uOiJhZiIscHJvbW90aW9uX2lkOiJwaSIscHJvbW90aW9uX25hbWU6InBuIixjcmVhdGl2ZV9uYW1lOiJjbiIsY3JlYXRpdmVfc2xvdDoiY3MiLGxvY2F0aW9uX2lkOiJsbyJ9LE9nPXtpZDoiaWQiLG5hbWU6Im5tIixicmFuZDoiYnIiLHZhcmlhbnQ6InZhIixsaXN0X25hbWU6ImxuIixsaXN0X3Bvc2l0aW9uOiJscCIsbGlzdDoibG4iLHBvc2l0aW9uOiJscCIsY3JlYXRpdmU6ImNuIn0sUGc9WyJjYSIsCiJjMiIsImMzIiwiYzQiLCJjNSJdOwp2YXIgUmc9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz1bXTt0aGlzLkM9IiI7dGhpcy5EYT17fTt0aGlzLmJhc2VVcmw9IiI7dGhpcy5QPTA7dGhpcy5IPSExO3RoaXMuZW5kcG9pbnQ9MH07UmcucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5UKGEpPyh0aGlzLmV2ZW50cy5wdXNoKGEpLHRoaXMuQz1hLkgsdGhpcy5EYT1hLkRhLHRoaXMuYmFzZVVybD1hLmJhc2VVcmwsdGhpcy5QKz1hLlQsdGhpcy5IPWEuUCx0aGlzLmVuZHBvaW50PWEuZW5kcG9pbnQsdGhpcy5kZXN0aW5hdGlvbklkPWEuZGVzdGluYXRpb25JZCx0aGlzLlY9YS5ldmVudElkLHRoaXMubGE9YS5wcmlvcml0eUlkLCEwKTohMX07UmcucHJvdG90eXBlLlQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZXZlbnRzLmxlbmd0aD90aGlzLmV2ZW50cy5sZW5ndGg+PTIwfHxhLlQrdGhpcy5QPj0xNjM4ND8hMTp0aGlzLmJhc2VVcmw9PT1hLmJhc2VVcmwmJnRoaXMuSD09PWEuUCYmdGhpcy5zYShhKTohMH07ClJnLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5DPT09YS5IfTt2YXIgRj17TTp7am86MSxtbzoyLE9tOjMsd206NCx4azo1LHlrOjYsRHA6Nyxubzo4LENwOjksaW86MTAsaG86MTEsR206MTIsQ206MTMsZms6MTQsU246MTUsVW46MTYscW06MTcsems6MTgsa206MTksa286MjAsT3A6MjEsWG46MjIsVG46MjMsVm46MjQsdms6MjUsZGs6MjYsWHA6MjcsUWw6MjgsWWw6MjksWGw6MzAsV2w6MzEsVGw6MzIsUmw6MzMsU2w6MzQsUGw6MzUsT2w6MzYsenA6MzcsQXA6MzgseXA6Mzl9fTtGLk1bRi5NLmpvXT0iQ1JFQVRFX0VWRU5UX1NPVVJDRSI7Ri5NW0YuTS5tb109IkVESVRfRVZFTlQiO0YuTVtGLk0uT21dPSJUUkFGRklDX1RZUEUiO0YuTVtGLk0ud21dPSJSRUZFUlJBTF9FWENMVVNJT04iO0YuTVtGLk0ueGtdPSJFQ09NTUVSQ0VfRlJPTV9HVE1fVEFHIjtGLk1bRi5NLnlrXT0iRUNPTU1FUkNFX0ZST01fR1RNX1VBX1NDSEVNQSI7Ri5NW0YuTS5EcF09IkdBX1NFTkQiO0YuTVtGLk0ubm9dPSJFTV9GT1JNIjtGLk1bRi5NLkNwXT0iR0FfR0FNX0xJTksiOwpGLk1bRi5NLmlvXT0iQ1JFQVRFX0VWRU5UX0FVVE9fUEFHRV9QQVRIIjtGLk1bRi5NLmhvXT0iQ1JFQVRFRF9FVkVOVCI7Ri5NW0YuTS5HbV09IlNJREVMT0FERUQiO0YuTVtGLk0uQ21dPSJTR1RNX0xFR0FDWV9DT05GSUdVUkFUSU9OIjtGLk1bRi5NLmZrXT0iQ0NEX0VNX0VWRU5UIjtGLk1bRi5NLlNuXT0iQVVUT19SRURBQ1RfRU1BSUwiO0YuTVtGLk0uVW5dPSJBVVRPX1JFREFDVF9RVUVSWV9QQVJBTSI7Ri5NW0YuTS5xbV09Ik1VTFRJUExFX1BBR0VWSUVXX0ZST01fQ09ORklHIjtGLk1bRi5NLnprXT0iRU1fRVZFTlRfU0VOVF9CRUZPUkVfQ09ORklHIjtGLk1bRi5NLmttXT0iTE9BREVEX1ZJQV9DU1RfT1JfU0lERUxPQURJTkciO0YuTVtGLk0ua29dPSJERUNPREVEX1BBUkFNX01BVENIIjtGLk1bRi5NLk9wXT0iTk9OX0RFQ09ERURfUEFSQU1fTUFUQ0giO0YuTVtGLk0uWG5dPSJDQ0RfRVZFTlRfU0dUTSI7Ri5NW0YuTS5Ubl09IkFVVE9fUkVEQUNUX0VNQUlMX1NHVE0iOwpGLk1bRi5NLlZuXT0iQVVUT19SRURBQ1RfUVVFUllfUEFSQU1fU0dUTSI7Ri5NW0YuTS52a109IkRBSUxZX0xJTUlUX1JFQUNIRUQiO0YuTVtGLk0uZGtdPSJCVVJTVF9MSU1JVF9SRUFDSEVEIjtGLk1bRi5NLlhwXT0iU0hBUkVEX1VTRVJfSURfU0VUX0FGVEVSX1JFUVVFU1QiO0YuTVtGLk0uUWxdPSJHQTRfTVVMVElQTEVfU0VTU0lPTl9DT09LSUVTIjtGLk1bRi5NLllsXT0iSU5WQUxJRF9HQTRfU0VTU0lPTl9DT1VOVCI7Ri5NW0YuTS5YbF09IklOVkFMSURfR0E0X0xBU1RfRVZFTlRfVElNRVNUQU1QIjtGLk1bRi5NLldsXT0iSU5WQUxJRF9HQTRfSk9JTl9USU1FUiI7Ri5NW0YuTS5UbF09IkdBNF9TVEFMRV9TRVNTSU9OX0NPT0tJRV9TRUxFQ1RFRCI7Ri5NW0YuTS5SbF09IkdBNF9TRVNTSU9OX0NPT0tJRV9HUzFfUkVBRCI7Ri5NW0YuTS5TbF09IkdBNF9TRVNTSU9OX0NPT0tJRV9HUzJfUkVBRCI7Ri5NW0YuTS5QbF09IkdBNF9ETF9QQVJBTV9SRUNPVkVSWV9BVkFJTEFCTEUiOwpGLk1bRi5NLk9sXT0iR0E0X0RMX1BBUkFNX1JFQ09WRVJZX0FQUExJRUQiO0YuTVtGLk0uenBdPSJHQTRfR09PR0xFX1NJR05BTFNfQUxMT1dFRCI7Ri5NW0YuTS5BcF09IkdBNF9HT09HTEVfU0lHTkFMU19FTkFCTEVEIjtGLk1bRi5NLnlwXT0iR0E0X0ZBTExCQUNLX1JFUVVFU1QiO3ZhciBTZz17fSxUZz0oU2cudWFhPSEwLFNnLnVhYj0hMCxTZy51YWZ2bD0hMCxTZy51YW1iPSEwLFNnLnVhbT0hMCxTZy51YXA9ITAsU2cudWFwdj0hMCxTZy51YXc9ITAsU2cpOwp2YXIgV2c9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmV2ZW50cztpZihjLmxlbmd0aD09PTEpcmV0dXJuIFVnKGNbMF0sYik7dmFyIGQ9W107YS5DJiZkLnB1c2goYS5DKTtmb3IodmFyIGU9e30sZj0wO2Y8Yy5sZW5ndGg7ZisrKXpiKGNbZl0uVmQsZnVuY3Rpb24odSx0KXt0IT1udWxsJiYoZVt1XT1lW3VdfHx7fSxlW3VdW1N0cmluZyh0KV09ZVt1XVtTdHJpbmcodCldKzF8fDEpfSk7dmFyIGc9e307emIoZSxmdW5jdGlvbih1LHQpe3ZhciB2LHg9LTEseT0wO3piKHQsZnVuY3Rpb24oQSxDKXt5Kz1DO3ZhciBFPShBLmxlbmd0aCt1Lmxlbmd0aCsyKSooQy0xKTtFPngmJih2PUEseD1FKX0pO3k9PT1jLmxlbmd0aCYmKGdbdV09dil9KTtWZyhnLGQpO2ImJmQucHVzaCgiX3M9IitiKTtmb3IodmFyIGg9ZC5qb2luKCImIiksbD1bXSxuPXt9LHA9MDtwPGMubGVuZ3RoO249e0JqOnZvaWQgMH0scCsrKXt2YXIgcT1bXTtuLkJqPXt9O3piKGNbcF0uVmQsZnVuY3Rpb24odSl7cmV0dXJuIGZ1bmN0aW9uKHQsCnYpe2dbdF0hPT0iIit2JiYodS5Calt0XT12KX19KG4pKTtjW3BdLkMmJnEucHVzaChjW3BdLkMpO1ZnKG4uQmoscSk7bC5wdXNoKHEuam9pbigiJiIpKX12YXIgcj1sLmpvaW4oIlxyXG4iKTtyZXR1cm57cGFyYW1zOmgsYm9keTpyfX0sVWc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTthLkgmJmMucHVzaChhLkgpO2ImJmMucHVzaCgiX3M9IitiKTtWZyhhLlZkLGMpO3ZhciBkPSExO2EuQyYmKGMucHVzaChhLkMpLGQ9ITApO3ZhciBlPWMuam9pbigiJiIpLGY9IiIsZz1lLmxlbmd0aCthLmJhc2VVcmwubGVuZ3RoKzE7ZCYmZz4yMDQ4JiYoZj1jLnBvcCgpLGU9Yy5qb2luKCImIikpO3JldHVybntwYXJhbXM6ZSxib2R5OmZ9fSxWZz1mdW5jdGlvbihhLGIpe3piKGEsZnVuY3Rpb24oYyxkKXtkIT1udWxsJiZiLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGMpKyI9IitlbmNvZGVVUklDb21wb25lbnQoZCkpfSl9O3ZhciBYZz1mdW5jdGlvbihhKXt2YXIgYj1bXTt6YihhLGZ1bmN0aW9uKGMsZCl7ZCE9bnVsbCYmYi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChjKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkKSkpfSk7cmV0dXJuIGIuam9pbigiJiIpfSxZZz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3RoaXMuYmFzZVVybD1iO3RoaXMuZW5kcG9pbnQ9Yzt0aGlzLmRlc3RpbmF0aW9uSWQ9Zjt0aGlzLmV2ZW50SWQ9Zzt0aGlzLnByaW9yaXR5SWQ9aDt0aGlzLkRhPWEuRGE7dGhpcy5WZD1hLlZkO3RoaXMuaWo9YS5pajt0aGlzLlA9ZDt0aGlzLkg9WGcoYS5EYSk7dGhpcy5DPVhnKGEuaWopO3RoaXMuVD10aGlzLkMubGVuZ3RoO2lmKGUmJnRoaXMuVD4xNjM4NCl0aHJvdyBFcnJvcigiRVZFTlRfVE9PX0xBUkdFIik7fTsKdmFyIGFoPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWEsZT1iW2NdO2lmKCFaZy5leGVjKGUpKXRocm93IEVycm9yKCJJbnZhbGlkIGtleSB3aWxkY2FyZCIpO3ZhciBmPWUuaW5kZXhPZigiLioiKSxnPWYhPT0tMSYmZj09PWUubGVuZ3RoLTIsaD1nP2Uuc2xpY2UoMCxlLmxlbmd0aC0yKTplLGw7YTppZihkLmxlbmd0aD09PTApbD0hMTtlbHNle2Zvcih2YXIgbj1kLnNwbGl0KCIuIikscD0wO3A8bi5sZW5ndGg7cCsrKWlmKCEkZy5leGVjKG5bcF0pKXtsPSExO2JyZWFrIGF9bD0hMH1pZighbHx8aC5sZW5ndGg+ZC5sZW5ndGh8fCFnJiZkLmxlbmd0aCE9PWUubGVuZ3RoPzA6Zz9MYihkLGgpJiYoZD09PWh8fGQuY2hhckF0KGgubGVuZ3RoKT09PSIuIik6ZD09PWgpcmV0dXJuITB9cmV0dXJuITF9LCRnPS9eW2EteiRfXVtcdy0kXSokL2ksWmc9L14oPzpbYS16XyRdW2Etei1fJDAtOV0qXC4pKlthLXpfJF1bYS16LV8kMC05XSooPzpcLlwqKT8kL2k7CnZhciBiaD1bIm1hdGNoZXMiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiXTtmdW5jdGlvbiBjaChhLGIpe3ZhciBjPVN0cmluZyhhKSxkPVN0cmluZyhiKSxlPWMubGVuZ3RoLWQubGVuZ3RoO3JldHVybiBlPj0wJiZjLmluZGV4T2YoZCxlKT09PWV9ZnVuY3Rpb24gZGgoYSxiKXtyZXR1cm4gU3RyaW5nKGEpLnNwbGl0KCIsIikuaW5kZXhPZihTdHJpbmcoYikpPj0wfXZhciBlaD1uZXcgeWI7ZnVuY3Rpb24gZmgoYSxiLGMpe3ZhciBkPWM/ImkiOnZvaWQgMDt0cnl7dmFyIGU9U3RyaW5nKGIpK1N0cmluZyhkKSxmPWVoLmdldChlKTtmfHwoZj1uZXcgUmVnRXhwKGIsZCksZWguc2V0KGUsZikpO3JldHVybiBmLnRlc3QoYSl9Y2F0Y2goZyl7cmV0dXJuITF9fWZ1bmN0aW9uIGdoKGEsYil7cmV0dXJuIFN0cmluZyhhKS5pbmRleE9mKFN0cmluZyhiKSk+PTB9CmZ1bmN0aW9uIGhoKGEsYil7cmV0dXJuIFN0cmluZyhhKT09PVN0cmluZyhiKX1mdW5jdGlvbiBpaChhLGIpe3JldHVybiBOdW1iZXIoYSk+PU51bWJlcihiKX1mdW5jdGlvbiBqaChhLGIpe3JldHVybiBOdW1iZXIoYSk8PU51bWJlcihiKX1mdW5jdGlvbiBraChhLGIpe3JldHVybiBOdW1iZXIoYSk+TnVtYmVyKGIpfWZ1bmN0aW9uIGxoKGEsYil7cmV0dXJuIE51bWJlcihhKTxOdW1iZXIoYil9ZnVuY3Rpb24gbWgoYSxiKXtyZXR1cm4gTGIoU3RyaW5nKGEpLFN0cmluZyhiKSl9O3ZhciB0aD0vXihbYS16XVthLXowLTldKik6KCF8XD8pKFwqfHN0cmluZ3xib29sZWFufG51bWJlcnxGbnxQaXhpZU1hcHxMaXN0fE9wYXF1ZVZhbHVlKSQvaSx1aD17Rm46ImZ1bmN0aW9uIixQaXhpZU1hcDoiT2JqZWN0IixMaXN0OiJBcnJheSJ9OwpmdW5jdGlvbiB2aChhLGIpe2Zvcih2YXIgYz1bImlucHV0OiEqIl0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT10aC5leGVjKGNbZF0pO2lmKCFlKXRocm93IEVycm9yKCJJbnRlcm5hbCBFcnJvciBpbiAiK2EpO3ZhciBmPWVbMV0sZz1lWzJdPT09IiEiLGg9ZVszXSxsPWJbZF07aWYobD09bnVsbCl7aWYoZyl0aHJvdyBFcnJvcigiRXJyb3IgaW4gIithKyIuIFJlcXVpcmVkIGFyZ3VtZW50ICIrZisiIG5vdCBzdXBwbGllZC4iKTt9ZWxzZSBpZihoIT09IioiKXt2YXIgbj10eXBlb2YgbDtsIGluc3RhbmNlb2YgQWQ/bj0iRm4iOmwgaW5zdGFuY2VvZiB3ZD9uPSJMaXN0IjpsIGluc3RhbmNlb2YgYmI/bj0iUGl4aWVNYXAiOmwgaW5zdGFuY2VvZiBIZD9uPSJQaXhpZVByb21pc2UiOmwgaW5zdGFuY2VvZiBGZCYmKG49Ik9wYXF1ZVZhbHVlIik7aWYobiE9PWgpdGhyb3cgRXJyb3IoIkVycm9yIGluICIrYSsiLiBBcmd1bWVudCAiK2YrIiBoYXMgdHlwZSAiKygodWhbbl18fG4pKyIsIHdoaWNoIGRvZXMgbm90IG1hdGNoIHJlcXVpcmVkIHR5cGUgIikrCigodWhbaF18fGgpKyIuIikpO319fWZ1bmN0aW9uIEcoYSxiLGMpe2Zvcih2YXIgZD1bXSxlPW0oYyksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpe3ZhciBnPWYudmFsdWU7ZyBpbnN0YW5jZW9mIEFkP2QucHVzaCgiZnVuY3Rpb24iKTpnIGluc3RhbmNlb2Ygd2Q/ZC5wdXNoKCJBcnJheSIpOmcgaW5zdGFuY2VvZiBiYj9kLnB1c2goIk9iamVjdCIpOmcgaW5zdGFuY2VvZiBIZD9kLnB1c2goIlByb21pc2UiKTpnIGluc3RhbmNlb2YgRmQ/ZC5wdXNoKCJPcGFxdWVWYWx1ZSIpOmQucHVzaCh0eXBlb2YgZyl9cmV0dXJuIEVycm9yKCJBcmd1bWVudCBlcnJvciBpbiAiK2ErIi4gRXhwZWN0ZWQgYXJndW1lbnQgdHlwZXMgWyIrKGIuam9pbigiLCIpKyJdLCBidXQgcmVjZWl2ZWQgWyIpKyhkLmpvaW4oIiwiKSsiXS4iKSl9ZnVuY3Rpb24gd2goYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBiYn1mdW5jdGlvbiB4aChhKXtyZXR1cm4gd2goYSl8fGE9PT1udWxsfHx5aChhKX0KZnVuY3Rpb24gemgoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBZH1mdW5jdGlvbiBBaChhKXtyZXR1cm4gemgoYSl8fGE9PT1udWxsfHx5aChhKX1mdW5jdGlvbiBCaChhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHdkfWZ1bmN0aW9uIENoKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRmR9ZnVuY3Rpb24gRGgoYSl7cmV0dXJuIHR5cGVvZiBhPT09InN0cmluZyJ9ZnVuY3Rpb24gRWgoYSl7cmV0dXJuIERoKGEpfHxhPT09bnVsbHx8eWgoYSl9ZnVuY3Rpb24gRmgoYSl7cmV0dXJuIHR5cGVvZiBhPT09ImJvb2xlYW4ifWZ1bmN0aW9uIEdoKGEpe3JldHVybiBGaChhKXx8eWgoYSl9ZnVuY3Rpb24gSGgoYSl7cmV0dXJuIEZoKGEpfHxhPT09bnVsbHx8eWgoYSl9ZnVuY3Rpb24gSWgoYSl7cmV0dXJuIHR5cGVvZiBhPT09Im51bWJlciJ9ZnVuY3Rpb24geWgoYSl7cmV0dXJuIGE9PT12b2lkIDB9O2Z1bmN0aW9uIEpoKGEpe3JldHVybiIiK2F9CmZ1bmN0aW9uIEtoKGEsYil7dmFyIGM9W107cmV0dXJuIGN9O2Z1bmN0aW9uIExoKGEsYil7dmFyIGM9bmV3IEFkKGEsZnVuY3Rpb24oKXtmb3IodmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLGU9MDtlPGQubGVuZ3RoO2UrKylkW2VdPXRoaXMuZXZhbHVhdGUoZFtlXSk7dHJ5e3JldHVybiBiLmFwcGx5KHRoaXMsZCl9Y2F0Y2goZyl7dGhyb3cgVWEoZyk7fX0pO2MuVmEoKTtyZXR1cm4gY30KZnVuY3Rpb24gTWgoYSxiKXt2YXIgYz1uZXcgYmIsZDtmb3IoZCBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBlPWJbZF07cmIoZSk/Yy5zZXQoZCxMaChhKyJfIitkLGUpKTpzZChlKT9jLnNldChkLE1oKGErIl8iK2QsZSkpOih0YihlKXx8c2IoZSl8fHR5cGVvZiBlPT09ImJvb2xlYW4iKSYmYy5zZXQoZCxlKX1jLlZhKCk7cmV0dXJuIGN9O2Z1bmN0aW9uIE5oKGEsYil7aWYoIURoKGEpKXRocm93IEcodGhpcy5nZXROYW1lKCksWyJzdHJpbmciXSxhcmd1bWVudHMpO2lmKCFFaChiKSl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nIiwidW5kZWZpbmVkIl0sYXJndW1lbnRzKTt2YXIgYz17fSxkPW5ldyBiYjtyZXR1cm4gZD1NaCgiQXNzZXJ0QXBpU3ViamVjdCIsCmMpfTtmdW5jdGlvbiBPaChhLGIpe2lmKCFFaChiKSl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nIiwidW5kZWZpbmVkIl0sYXJndW1lbnRzKTtpZihhIGluc3RhbmNlb2YgSGQpdGhyb3cgRXJyb3IoIkFyZ3VtZW50IGFjdHVhbCBjYW5ub3QgaGF2ZSB0eXBlIFByb21pc2UuIEFzc2VydGlvbnMgb24gYXN5bmNocm9ub3VzIGNvZGUgYXJlbid0IHN1cHBvcnRlZC4iKTt2YXIgYz17fSxkPW5ldyBiYjtyZXR1cm4gZD1NaCgiQXNzZXJ0VGhhdFN1YmplY3QiLGMpfTtmdW5jdGlvbiBQaChhKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGI9RGEuYXBwbHkoMCxhcmd1bWVudHMpLGM9W10sZD10aGlzLkssZT0wO2U8Yi5sZW5ndGg7KytlKWMucHVzaChCKGJbZV0sZCkpO3JldHVybiBJZChhLmFwcGx5KG51bGwsYykpfX1mdW5jdGlvbiBRaCgpe2Zvcih2YXIgYT1NYXRoLGI9UmgsYz17fSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF07YS5oYXNPd25Qcm9wZXJ0eShlKSYmKGNbZV09UGgoYVtlXS5iaW5kKGEpKSl9cmV0dXJuIGN9O2Z1bmN0aW9uIFNoKGEpe3JldHVybiBhIT1udWxsJiZMYihhLCJfX2N2dF8iKX07ZnVuY3Rpb24gVGgoYSl7dmFyIGI7cmV0dXJuIGJ9O2Z1bmN0aW9uIFVoKGEpe3ZhciBiO2lmKCFEaChhKSl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nIl0sYXJndW1lbnRzKTt0cnl7Yj1kZWNvZGVVUklDb21wb25lbnQoYSl9Y2F0Y2goYyl7fXJldHVybiBifTtmdW5jdGlvbiBWaChhKXt0cnl7cmV0dXJuIGVuY29kZVVSSShhKX1jYXRjaChiKXt9fTtmdW5jdGlvbiBXaChhKXt0cnl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYSkpfWNhdGNoKGIpe319Owp2YXIgWGg9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7aWYoYT09PXZvaWQgMClyZXR1cm47YT1hW2JbY11dfXJldHVybiBhfSxZaD1mdW5jdGlvbihhLGIpe3ZhciBjPWIucHJlSGl0O2lmKGMpe3ZhciBkPWFbMF07c3dpdGNoKGQpe2Nhc2UgImhpdERhdGEiOnJldHVybiBhLmxlbmd0aDwyP3ZvaWQgMDpYaChjLmdldEhpdERhdGEoYVsxXSksYS5zbGljZSgyKSk7Y2FzZSAibWV0YWRhdGEiOnJldHVybiBhLmxlbmd0aDwyP3ZvaWQgMDpYaChjLmdldE1ldGFkYXRhKGFbMV0pLGEuc2xpY2UoMikpO2Nhc2UgImV2ZW50TmFtZSI6cmV0dXJuIGMuZ2V0RXZlbnROYW1lKCk7Y2FzZSAiZGVzdGluYXRpb25JZCI6cmV0dXJuIGMuZ2V0RGVzdGluYXRpb25JZCgpO2RlZmF1bHQ6dGhyb3cgRXJyb3IoZCsiIGlzIG5vdCBhIHZhbGlkIGZpZWxkIHRoYXQgY2FuIGJlIGFjY2Vzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgZnJvbSBQcmVIaXQgZGF0YS4iKTt9fX0sCiRoPWZ1bmN0aW9uKGEsYil7aWYoYSl7aWYoYS5jb250ZXh0VmFsdWUhPT12b2lkIDApe3ZhciBjO2E6e3ZhciBkPWEuY29udGV4dFZhbHVlLGU9ZC5rZXlQYXJ0cztpZihlJiZlLmxlbmd0aCE9PTApe3ZhciBmPWQubmFtZXNwYWNlVHlwZTtzd2l0Y2goZil7Y2FzZSAxOmM9WWgoZSxiKTticmVhayBhO2Nhc2UgMjp2YXIgZz1iLm1hY3JvO2M9Zz9nW2VbMF1dOnZvaWQgMDticmVhayBhO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gTmFtZXNwYWNlIFR5cGUgdXNlZDogIitmKTt9fWM9dm9pZCAwfXJldHVybiBjfWlmKGEuYm9vbGVhbkV4cHJlc3Npb25WYWx1ZSE9PXZvaWQgMClyZXR1cm4gWmgoYS5ib29sZWFuRXhwcmVzc2lvblZhbHVlLGIpO2lmKGEuYm9vbGVhblZhbHVlIT09dm9pZCAwKXJldHVybiEhYS5ib29sZWFuVmFsdWU7aWYoYS5zdHJpbmdWYWx1ZSE9PXZvaWQgMClyZXR1cm4gU3RyaW5nKGEuc3RyaW5nVmFsdWUpO2lmKGEuaW50ZWdlclZhbHVlIT09dm9pZCAwKXJldHVybiBOdW1iZXIoYS5pbnRlZ2VyVmFsdWUpOwppZihhLmRvdWJsZVZhbHVlIT09dm9pZCAwKXJldHVybiBOdW1iZXIoYS5kb3VibGVWYWx1ZSk7dGhyb3cgRXJyb3IoIlVua25vd24gZmllbGQgdXNlZCBmb3IgdmFyaWFibGUgb2YgdHlwZSBFeHByZXNzaW9uVmFsdWU6IithKTt9fSxaaD1mdW5jdGlvbihhLGIpe3ZhciBjPWEuYXJncztpZighQXJyYXkuaXNBcnJheShjKXx8Yy5sZW5ndGg9PT0wKXRocm93IEVycm9yKCdJbnZhbGlkIGJvb2xlYW4gZXhwcmVzc2lvbiBmb3JtYXQuIEV4cGVjdGVkICJhcmdzIjonK2MrIiBwcm9wZXJ0eSB0b1xuICAgICAgICAgYmUgbm9uLWVtcHR5IGFycmF5LiIpO3ZhciBkPWZ1bmN0aW9uKGcpe3JldHVybiAkaChnLGIpfTtzd2l0Y2goYS50eXBlKXtjYXNlIDE6Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspaWYoZChjW2VdKSlyZXR1cm4hMDtyZXR1cm4hMTtjYXNlIDI6Zm9yKHZhciBmPTA7ZjxjLmxlbmd0aDtmKyspaWYoIWQoY1tmXSkpcmV0dXJuITE7cmV0dXJuIGMubGVuZ3RoPjA7Y2FzZSAzOnJldHVybiFkKGNbMF0pOwpjYXNlIDQ6cmV0dXJuIGZoKGQoY1swXSksZChjWzFdKSwhMSk7Y2FzZSA1OnJldHVybiBoaChkKGNbMF0pLGQoY1sxXSkpO2Nhc2UgNjpyZXR1cm4gbWgoZChjWzBdKSxkKGNbMV0pKTtjYXNlIDc6cmV0dXJuIGNoKGQoY1swXSksZChjWzFdKSk7Y2FzZSA4OnJldHVybiBnaChkKGNbMF0pLGQoY1sxXSkpO2Nhc2UgOTpyZXR1cm4gbGgoZChjWzBdKSxkKGNbMV0pKTtjYXNlIDEwOnJldHVybiBqaChkKGNbMF0pLGQoY1sxXSkpO2Nhc2UgMTE6cmV0dXJuIGtoKGQoY1swXSksZChjWzFdKSk7Y2FzZSAxMjpyZXR1cm4gaWgoZChjWzBdKSxkKGNbMV0pKTtjYXNlIDEzOnJldHVybiBkaChkKGNbMF0pLFN0cmluZyhkKGNbMV0pKSk7ZGVmYXVsdDp0aHJvdyBFcnJvcignSW52YWxpZCBib29sZWFuIGV4cHJlc3Npb24gZm9ybWF0LiBFeHBlY3RlZCAidHlwZSIgcHJvcGVydHkgdG9iZSBhIHBvc2l0aXZlIGludGVnZXIgd2hpY2ggaXMgbGVzcyB0aGFuIDE0LicpO319O2Z1bmN0aW9uIGFpKGEpe2lmKCFFaChhKSl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nfHVuZGVmaW5lZCJdLGFyZ3VtZW50cyk7fTtmdW5jdGlvbiBiaShhKXt2YXIgYj0xLGMsZCxlO2lmKGEpZm9yKGI9MCxkPWEubGVuZ3RoLTE7ZD49MDtkLS0pZT1hLmNoYXJDb2RlQXQoZCksYj0oYjw8NiYyNjg0MzU0NTUpK2UrKGU8PDE0KSxjPWImMjY2MzM4MzA0LGI9YyE9PTA/Yl5jPj4yMTpiO3JldHVybiBifTtmdW5jdGlvbiBjaShhKXt2YXIgYj1CKGEpO3JldHVybiBiaShiPyIiK2I6IiIpfTtmdW5jdGlvbiBkaShhLGIpe2lmKCFJaChhKXx8IUloKGIpKXRocm93IEcodGhpcy5nZXROYW1lKCksWyJudW1iZXIiLCJudW1iZXIiXSxhcmd1bWVudHMpO3JldHVybiB3YihhLGIpfTtmdW5jdGlvbiBlaSgpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfTtmdW5jdGlvbiBmaShhKXtpZihhPT09bnVsbClyZXR1cm4ibnVsbCI7aWYoYSBpbnN0YW5jZW9mIHdkKXJldHVybiJhcnJheSI7aWYoYSBpbnN0YW5jZW9mIEFkKXJldHVybiJmdW5jdGlvbiI7aWYoYSBpbnN0YW5jZW9mIEZkKXt2YXIgYj1hLmdldFZhbHVlKCk7aWYoKGI9PW51bGw/dm9pZCAwOmIuY29uc3RydWN0b3IpPT09dm9pZCAwfHxiLmNvbnN0cnVjdG9yLm5hbWU9PT12b2lkIDApe3ZhciBjPVN0cmluZyhiKTtyZXR1cm4gYy5zdWJzdHJpbmcoOCxjLmxlbmd0aC0xKX1yZXR1cm4gU3RyaW5nKGIuY29uc3RydWN0b3IubmFtZSl9cmV0dXJuIHR5cGVvZiBhfTtmdW5jdGlvbiBnaShhKXtmdW5jdGlvbiBiKGMpe3JldHVybiBmdW5jdGlvbihkKXt0cnl7cmV0dXJuIGMoZCl9Y2F0Y2goZSl7KExnfHxNZy5ObikmJmEuY2FsbCh0aGlzLGUubWVzc2FnZSl9fX1yZXR1cm57cGFyc2U6YihmdW5jdGlvbihjKXtyZXR1cm4gSWQoSlNPTi5wYXJzZShjKSl9KSxzdHJpbmdpZnk6YihmdW5jdGlvbihjKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoQihjKSl9KSxwdWJsaWNOYW1lOiJKU09OIn19O2Z1bmN0aW9uIGhpKGEpe3JldHVybiBCYihCKGEsdGhpcy5LKSl9O2Z1bmN0aW9uIGlpKGEpe3JldHVybiBOdW1iZXIoQihhLHRoaXMuSykpfTtmdW5jdGlvbiBqaShhKXtyZXR1cm4gYT09PW51bGw/Im51bGwiOmE9PT12b2lkIDA/InVuZGVmaW5lZCI6YS50b1N0cmluZygpfTtmdW5jdGlvbiBraShhLGIsYyl7dmFyIGQ9bnVsbCxlPSExO3JldHVybiBlP2Q6bnVsbH07dmFyIFJoPSJmbG9vciBjZWlsIHJvdW5kIG1heCBtaW4gYWJzIHBvdyBzcXJ0Ii5zcGxpdCgiICIpO2Z1bmN0aW9uIGxpKCl7dmFyIGE9e307cmV0dXJue1NxOmZ1bmN0aW9uKGIpe3JldHVybiBhLmhhc093blByb3BlcnR5KGIpP2FbYl06dm9pZCAwfSxKbjpmdW5jdGlvbihiLGMpe2FbYl09Y30scmVzZXQ6ZnVuY3Rpb24oKXthPXt9fX19ZnVuY3Rpb24gbWkoYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gQWQucHJvdG90eXBlLmludm9rZS5hcHBseShhLFtiXS5jb25jYXQoemEoRGEuYXBwbHkoMCxhcmd1bWVudHMpKSkpfX0KZnVuY3Rpb24gbmkoYSxiKXtpZighRGgoYSkpdGhyb3cgRyh0aGlzLmdldE5hbWUoKSxbInN0cmluZyIsImFueSJdLGFyZ3VtZW50cyk7fQpmdW5jdGlvbiBvaShhLGIpe2lmKCFEaChhKXx8IXdoKGIpKXRocm93IEcodGhpcy5nZXROYW1lKCksWyJzdHJpbmciLCJQaXhpZU1hcCJdLGFyZ3VtZW50cyk7fTt2YXIgcGk9e307dmFyIHFpPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBiYjtpZihhIGluc3RhbmNlb2Ygd2QpZm9yKHZhciBjPWEueWEoKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07YS5oYXMoZSkmJmIuc2V0KGUsYS5nZXQoZSkpfWVsc2UgaWYoYSBpbnN0YW5jZW9mIEFkKWZvcih2YXIgZj1hLnlhKCksZz0wO2c8Zi5sZW5ndGg7ZysrKXt2YXIgaD1mW2ddO2Iuc2V0KGgsYS5nZXQoaCkpfWVsc2UgZm9yKHZhciBsPTA7bDxhLmxlbmd0aDtsKyspYi5zZXQobCxhW2xdKTtyZXR1cm4gYn07CnBpLmtleXM9ZnVuY3Rpb24oYSl7dmgodGhpcy5nZXROYW1lKCksYXJndW1lbnRzKTtpZihhIGluc3RhbmNlb2Ygd2R8fGEgaW5zdGFuY2VvZiBBZHx8dHlwZW9mIGE9PT0ic3RyaW5nIilhPXFpKGEpO2lmKGEgaW5zdGFuY2VvZiBiYnx8YSBpbnN0YW5jZW9mIEhkKXJldHVybiBuZXcgd2QoYS55YSgpKTtyZXR1cm4gbmV3IHdkfTsKcGkudmFsdWVzPWZ1bmN0aW9uKGEpe3ZoKHRoaXMuZ2V0TmFtZSgpLGFyZ3VtZW50cyk7aWYoYSBpbnN0YW5jZW9mIHdkfHxhIGluc3RhbmNlb2YgQWR8fHR5cGVvZiBhPT09InN0cmluZyIpYT1xaShhKTtpZihhIGluc3RhbmNlb2YgYmJ8fGEgaW5zdGFuY2VvZiBIZClyZXR1cm4gbmV3IHdkKGEud2MoKSk7cmV0dXJuIG5ldyB3ZH07CnBpLmVudHJpZXM9ZnVuY3Rpb24oYSl7dmgodGhpcy5nZXROYW1lKCksYXJndW1lbnRzKTtpZihhIGluc3RhbmNlb2Ygd2R8fGEgaW5zdGFuY2VvZiBBZHx8dHlwZW9mIGE9PT0ic3RyaW5nIilhPXFpKGEpO2lmKGEgaW5zdGFuY2VvZiBiYnx8YSBpbnN0YW5jZW9mIEhkKXJldHVybiBuZXcgd2QoYS5oYygpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gbmV3IHdkKGIpfSkpO3JldHVybiBuZXcgd2R9OwpwaS5mcmVlemU9ZnVuY3Rpb24oYSl7KGEgaW5zdGFuY2VvZiBiYnx8YSBpbnN0YW5jZW9mIEhkfHxhIGluc3RhbmNlb2Ygd2R8fGEgaW5zdGFuY2VvZiBBZCkmJmEuVmEoKTtyZXR1cm4gYX07cGkuZGVsZXRlPWZ1bmN0aW9uKGEsYil7aWYoYSBpbnN0YW5jZW9mIGJiJiYhYS5CYigpKXJldHVybiBhLnJlbW92ZShiKSwhMDtyZXR1cm4hMX07ZnVuY3Rpb24gSShhLGIpe3ZhciBjPURhLmFwcGx5KDIsYXJndW1lbnRzKSxkPWEuSy5xYigpO2lmKCFkKXRocm93IEVycm9yKCJNaXNzaW5nIHByb2dyYW0gc3RhdGUuIik7aWYoZC5Tcil7dHJ5e2QuWW0uYXBwbHkobnVsbCxbYl0uY29uY2F0KHphKGMpKSl9Y2F0Y2goZSl7dGhyb3cga2IoIlRBR0dJTkciLDIxKSxlO31yZXR1cm59ZC5ZbS5hcHBseShudWxsLFtiXS5jb25jYXQoemEoYykpKX07dmFyIHJpPWZ1bmN0aW9uKCl7dGhpcy5IPXt9O3RoaXMuQz17fTt0aGlzLlA9ITA7fTtyaS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jb250YWlucyhhKT90aGlzLkhbYV06dm9pZCAwO3JldHVybiBjfTtyaS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuSC5oYXNPd25Qcm9wZXJ0eShhKX07CnJpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY29udGFpbnMoYSkpdGhyb3cgRXJyb3IoIkF0dGVtcHRpbmcgdG8gYWRkIGEgZnVuY3Rpb24gd2hpY2ggYWxyZWFkeSBleGlzdHM6ICIrYSsiLiIpO2lmKHRoaXMuQy5oYXNPd25Qcm9wZXJ0eShhKSl0aHJvdyBFcnJvcigiQXR0ZW1wdGluZyB0byBhZGQgYW4gQVBJIHdpdGggYW4gZXhpc3RpbmcgcHJpdmF0ZSBBUEkgbmFtZTogIithKyIuIik7dGhpcy5IW2FdPWM/dm9pZCAwOnJiKGIpP0xoKGEsYik6TWgoYSxiKX07ZnVuY3Rpb24gc2koYSxiKXt2YXIgYz12b2lkIDA7cmV0dXJuIGN9O2Z1bmN0aW9uIHRpKCl7dmFyIGE9e307CnJldHVybiBhfTt2YXIgSz17bTp7TmE6ImFkX3BlcnNvbmFsaXphdGlvbiIsVzoiYWRfc3RvcmFnZSIsWDoiYWRfdXNlcl9kYXRhIixqYToiYW5hbHl0aWNzX3N0b3JhZ2UiLG9jOiJyZWdpb24iLGlhOiJjb25zZW50X3VwZGF0ZWQiLElnOiJ3YWl0X2Zvcl91cGRhdGUiLG9vOiJhcHBfcmVtb3ZlIixwbzoiYXBwX3N0b3JlX3JlZnVuZCIscW86ImFwcF9zdG9yZV9zdWJzY3JpcHRpb25fY2FuY2VsIixybzoiYXBwX3N0b3JlX3N1YnNjcmlwdGlvbl9jb252ZXJ0IixzbzoiYXBwX3N0b3JlX3N1YnNjcmlwdGlvbl9yZW5ldyIsdW86ImNvbnNlbnRfdXBkYXRlIix2bzoiY29udmVyc2lvbiIsQms6ImFkZF9wYXltZW50X2luZm8iLENrOiJhZGRfc2hpcHBpbmdfaW5mbyIsZWU6ImFkZF90b19jYXJ0IixmZToicmVtb3ZlX2Zyb21fY2FydCIsRGs6InZpZXdfY2FydCIsZmQ6ImJlZ2luX2NoZWNrb3V0IixIczoiZ2VuZXJhdGVfbGVhZCIsaGU6InNlbGVjdF9pdGVtIixxYzoidmlld19pdGVtX2xpc3QiLHpjOiJzZWxlY3RfcHJvbW90aW9uIiwKcmM6InZpZXdfcHJvbW90aW9uIixDYjoicHVyY2hhc2UiLGllOiJyZWZ1bmQiLHNjOiJ2aWV3X2l0ZW0iLEVrOiJhZGRfdG9fd2lzaGxpc3QiLHdvOiJleGNlcHRpb24iLHhvOiJmaXJzdF9vcGVuIix5bzoiZmlyc3RfdmlzaXQiLG1hOiJndGFnLmNvbmZpZyIsRGI6Imd0YWcuZ2V0Iix6bzoiaW5fYXBwX3B1cmNoYXNlIixnZDoicGFnZV92aWV3IixBbzoic2NyZWVuX3ZpZXciLEJvOiJzZXNzaW9uX3N0YXJ0IixDbzoic291cmNlX3VwZGF0ZSIsRG86InRpbWluZ19jb21wbGV0ZSIsRW86InRyYWNrX3NvY2lhbCIsamU6InVzZXJfZW5nYWdlbWVudCIsRm86InVzZXJfaWRfdXBkYXRlIixiZjoiZ2NsaWRfbGlua19kZWNvcmF0aW9uX3NvdXJjZSIsY2Y6ImdjbGlkX3N0b3JhZ2Vfc291cmNlIix1YzoiZ2NsZ2IiLHRiOiJnY2xpZCIsRms6ImdjbGlkX2xlbiIsa2U6ImdjbGdzIixtZToiZ2NsbHAiLG5lOiJnY2xzdCIsSWE6ImFkc19kYXRhX3JlZGFjdGlvbiIsZGY6ImdhZF9zb3VyY2UiLAplZjoiZ2FkX3NvdXJjZV9zcmMiLGhkOiJnY2xpZF91cmwiLEdrOiJnY2xzcmMiLGZmOiJnYnJhaWQiLG9lOiJ3YnJhaWQiLFRiOiJhbGxvd19hZF9wZXJzb25hbGl6YXRpb25fc2lnbmFscyIsaGY6ImFsbG93X2N1c3RvbV9zY3JpcHRzIixqZjoiYWxsb3dfZGlyZWN0X2dvb2dsZV9yZXF1ZXN0cyIsT2c6ImFsbG93X2Rpc3BsYXlfZmVhdHVyZXMiLGRpOiJhbGxvd19lbmhhbmNlZF9jb252ZXJzaW9ucyIsVWI6ImFsbG93X2dvb2dsZV9zaWduYWxzIixlaToiYWxsb3dfaW50ZXJlc3RfZ3JvdXBzIixHbzoiYXBwX2lkIixIbzoiYXBwX2luc3RhbGxlcl9pZCIsSW86ImFwcF9uYW1lIixKbzoiYXBwX3ZlcnNpb24iLGpkOiJhdWlkIixJczoiYXV0b19kZXRlY3Rpb25fZW5hYmxlZCIsS286ImF1dG9fZXZlbnQiLEhrOiJhd19yZW1hcmtldGluZyIsZmk6ImF3X3JlbWFya2V0aW5nX29ubHkiLGtmOiJkaXNjb3VudCIsbGY6ImF3X2ZlZWRfY291bnRyeSIsbmY6ImF3X2ZlZWRfbGFuZ3VhZ2UiLApCYToiaXRlbXMiLHBmOiJhd19tZXJjaGFudF9pZCIsZ2k6ImF3X2Jhc2tldF90eXBlIixxZjoiY2FtcGFpZ25fY29udGVudCIscmY6ImNhbXBhaWduX2lkIix0ZjoiY2FtcGFpZ25fbWVkaXVtIix1ZjoiY2FtcGFpZ25fbmFtZSIsdmY6ImNhbXBhaWduIix3ZjoiY2FtcGFpZ25fc291cmNlIix4ZjoiY2FtcGFpZ25fdGVybSIsVmI6ImNsaWVudF9pZCIsSWs6InJuZCIsaGk6ImNvbnNlbnRfdXBkYXRlX3R5cGUiLExvOiJjb250ZW50X2dyb3VwIixNbzoiY29udGVudF90eXBlIixFYjoiY29udmVyc2lvbl9jb29raWVfcHJlZml4IixpaToiY29udmVyc2lvbl9pZCIsdWI6ImNvbnZlcnNpb25fbGlua2VyIixQZzoiY29udmVyc2lvbl9saW5rZXJfZGlzYWJsZWQiLGtkOiJjb252ZXJzaW9uX2FwaSIsUWc6ImNvb2tpZV9kZXByZWNhdGlvbiIsd2I6ImNvb2tpZV9kb21haW4iLHhiOiJjb29raWVfZXhwaXJlcyIsRmI6ImNvb2tpZV9mbGFncyIsbGQ6ImNvb2tpZV9uYW1lIixXYjoiY29va2llX3BhdGgiLApYYToiY29va2llX3ByZWZpeCIsQWM6ImNvb2tpZV91cGRhdGUiLEJjOiJjb3VudHJ5IixrYjoiY3VycmVuY3kiLFJnOiJjdXN0b21lcl9idXllcl9zdGFnZSIscWU6ImN1c3RvbWVyX2xpZmV0aW1lX3ZhbHVlIixTZzoiY3VzdG9tZXJfbG95YWx0eSIsVGc6ImN1c3RvbWVyX2x0dl9idWNrZXQiLHNlOiJjdXN0b21fbWFwIixVZzoiZ2NsZGMiLG1kOiJkY2xpZCIsSms6ImRlYnVnX21vZGUiLEdhOiJkZXZlbG9wZXJfaWQiLE5vOiJkaXNhYmxlX21lcmNoYW50X3JlcG9ydGVkX3B1cmNoYXNlcyIsQ2M6ImRjX2N1c3RvbV9wYXJhbXMiLEtrOiJkY19uYXR1cmFsX3NlYXJjaCIsT286ImR5bmFtaWNfZXZlbnRfc2V0dGluZ3MiLExrOiJhZmZpbGlhdGlvbiIsVmc6ImNoZWNrb3V0X29wdGlvbiIsamk6ImNoZWNrb3V0X3N0ZXAiLE1rOiJjb3Vwb24iLHlmOiJpdGVtX2xpc3RfbmFtZSIsa2k6Imxpc3RfbmFtZSIsUG86InByb21vdGlvbnMiLG5kOiJzaGlwcGluZyIsTms6InRheCIsV2c6ImVuZ2FnZW1lbnRfdGltZV9tc2VjIiwKWGc6ImVuaGFuY2VkX2NsaWVudF9pZCIsUW86ImVuaGFuY2VkX2NvbnZlcnNpb25zIixKczoiZW5oYW5jZWRfY29udmVyc2lvbnNfYXV0b21hdGljX3NldHRpbmdzIix0ZToiZXN0aW1hdGVkX2RlbGl2ZXJ5X2RhdGUiLHpmOiJldmVudF9jYWxsYmFjayIsUm86ImV2ZW50X2NhdGVnb3J5IixEYzoiZXZlbnRfZGV2ZWxvcGVyX2lkX3N0cmluZyIsU286ImV2ZW50X2xhYmVsIixFYzoiZXZlbnQiLGxpOiJldmVudF9zZXR0aW5ncyIsWWc6ImV2ZW50X3RpbWVvdXQiLFRvOiJkZXNjcmlwdGlvbiIsVW86ImZhdGFsIixWbzoiZXhwZXJpbWVudHMiLG1pOiJmaXJlYmFzZV9pZCIsQWY6ImZpcnN0X3BhcnR5X2NvbGxlY3Rpb24iLFpnOiJfeF8yMCIsdmM6Il94XzE5IixXbzoiZmxpZ2h0X2Vycm9yX2NvZGUiLFhvOiJmbGlnaHRfZXJyb3JfbWVzc2FnZSIsT2s6ImZsX2FjdGl2aXR5X2NhdGVnb3J5IixQazoiZmxfYWN0aXZpdHlfZ3JvdXAiLG5pOiJmbF9hZHZlcnRpc2VyX2lkIixRazoiZmxfYXJfZGVkdXBlIiwKQmY6Im1hdGNoX2lkIixSazoiZmxfcmFuZG9tX251bWJlciIsU2s6InRyYW4iLFRrOiJ1IixhaDoiZ2FjX2djbGlkIix1ZToiZ2FjX3dicmFpZCIsVWs6ImdhY193YnJhaWRfbXVsdGlwbGVfY29udmVyc2lvbnMiLFlvOiJnYV9yZXN0cmljdF9kb21haW4iLFZrOiJnYV90ZW1wX2NsaWVudF9pZCIsWm86ImdhX3RlbXBfZWNpZCIsdmU6ImdkcHJfYXBwbGllcyIsV2s6Imdlb19ncmFudWxhcml0eSIsQ2Y6InZhbHVlX2NhbGxiYWNrIixEZjoidmFsdWVfa2V5IixHYzoiZ29vZ2xlX2FuYWx5c2lzX3BhcmFtcyIsd2U6Il9nb29nbGVfbmciLEVmOiJnb29nbGVfc2lnbmFscyIsYXA6Imdvb2dsZV90bGQiLGJoOiJncHBfc2lkIixlaDoiZ3BwX3N0cmluZyIsZmg6Imdyb3VwcyIsWGs6ImdzYV9leHBlcmltZW50X2lkIixGZjoiZ3RhZ19ldmVudF9mZWF0dXJlX3VzYWdlIixZazoiZ3RtX3VwIixwZDoiaWZyYW1lX3N0YXRlIixHZjoiaWdub3JlX3JlZmVycmVyIixaazoiaW50ZXJuYWxfdHJhZmZpY19yZXN1bHRzIiwKYWw6Il9pc19mcG0iLEhjOiJpc19sZWdhY3lfY29udmVydGVkIixJYzoiaXNfbGVnYWN5X2xvYWRlZCIsb2k6ImlzX3Bhc3N0aHJvdWdoIix4ZToiX2xwcyIsbGI6Imxhbmd1YWdlIixnaDoibGVnYWN5X2RldmVsb3Blcl9pZF9zdHJpbmciLGNiOiJsaW5rZXIiLEhmOiJhY2NlcHRfaW5jb21pbmciLEpjOiJkZWNvcmF0ZV9mb3JtcyIscmE6ImRvbWFpbnMiLHJkOiJ1cmxfcG9zaXRpb24iLEtjOiJtZXJjaGFudF9mZWVkX2xhYmVsIixMYzoibWVyY2hhbnRfZmVlZF9sYW5ndWFnZSIsTWM6Im1lcmNoYW50X2lkIixibDoibWV0aG9kIixicDoibmFtZSIsZmw6Im5hdmlnYXRpb25fdHlwZSIseWU6Im5ld19jdXN0b21lciIsaGg6Im5vbl9pbnRlcmFjdGlvbiIsY3A6Im9wdGltaXplX2lkIixpbDoicGFnZV9ob3N0bmFtZSIsSWY6InBhZ2VfcGF0aCIsWWE6InBhZ2VfcmVmZXJyZXIiLEdiOiJwYWdlX3RpdGxlIixlcDoicGFzc2VuZ2VycyIsamw6InBob25lX2NvbnZlcnNpb25fY2FsbGJhY2siLApmcDoicGhvbmVfY29udmVyc2lvbl9jb3VudHJ5X2NvZGUiLGtsOiJwaG9uZV9jb252ZXJzaW9uX2Nzc19jbGFzcyIsaHA6InBob25lX2NvbnZlcnNpb25faWRzIixtbDoicGhvbmVfY29udmVyc2lvbl9udW1iZXIiLG5sOiJwaG9uZV9jb252ZXJzaW9uX29wdGlvbnMiLGpwOiJfcGxhdGludW1fcmVxdWVzdF9zdGF0dXMiLGtwOiJfcHJvdGVjdGVkX2F1ZGllbmNlX2VuYWJsZWQiLHplOiJxdWFudGl0eSIsaWg6InJlZGFjdF9kZXZpY2VfaW5mbyIsb2w6InJlZmVycmFsX2V4Y2x1c2lvbl9kZWZpbml0aW9uIixLczoiX3JlcXVlc3Rfc3RhcnRfdGltZSIsWGI6InJlc3RyaWN0ZWRfZGF0YV9wcm9jZXNzaW5nIixscDoicmV0b2tlbiIsbXA6InNhbXBsZV9yYXRlIixyaToic2NyZWVuX25hbWUiLE5jOiJzY3JlZW5fcmVzb2x1dGlvbiIscGw6Il9zY3JpcHRfc291cmNlIixucDoic2VhcmNoX3Rlcm0iLHNkOiJzZW5kX3BhZ2VfdmlldyIsdWQ6InNlbmRfdG8iLHZkOiJzZXJ2ZXJfY29udGFpbmVyX3VybCIsCm9wOiJzZXNzaW9uX2F0dHJpYnV0ZXNfZW5jb2RlZCIsamg6InNlc3Npb25fZHVyYXRpb24iLGtoOiJzZXNzaW9uX2VuZ2FnZWQiLHNpOiJzZXNzaW9uX2VuZ2FnZWRfdGltZSIsWWI6InNlc3Npb25faWQiLG1oOiJzZXNzaW9uX251bWJlciIsSmY6Il9zaGFyZWRfdXNlcl9pZCIsd2Q6ImRlbGl2ZXJ5X3Bvc3RhbF9jb2RlIixMczoiX3RhZ19maXJpbmdfZGVsYXkiLE1zOiJfdGFnX2ZpcmluZ190aW1lIixOczoidGVtcG9yYXJ5X2NsaWVudF9pZCIscHA6Il90aW1lem9uZSIsdWk6InRvcG1vc3RfdXJsIixuaDoidHJhY2tpbmdfaWQiLHdpOiJ0cmFmZmljX3R5cGUiLEphOiJ0cmFuc2FjdGlvbl9pZCIscWw6InRyYW5zYWN0aW9uX2lkX3NvdXJjZSIsT2M6InRyYW5zcG9ydF91cmwiLHFwOiJ0cmlwX3R5cGUiLHhkOiJ1cGRhdGUiLEhiOiJ1cmxfcGFzc3Rocm91Z2giLHJsOiJ1cHRncyIsS2Y6Il91c2VyX2FnZW50X2FyY2hpdGVjdHVyZSIsTGY6Il91c2VyX2FnZW50X2JpdG5lc3MiLApNZjoiX3VzZXJfYWdlbnRfZnVsbF92ZXJzaW9uX2xpc3QiLE5mOiJfdXNlcl9hZ2VudF9tb2JpbGUiLE9mOiJfdXNlcl9hZ2VudF9tb2RlbCIsUGY6Il91c2VyX2FnZW50X3BsYXRmb3JtIixRZjoiX3VzZXJfYWdlbnRfcGxhdGZvcm1fdmVyc2lvbiIsUmY6Il91c2VyX2FnZW50X3dvdzY0IixJYjoidXNlcl9kYXRhIixzbDoidXNlcl9kYXRhX2F1dG9fbGF0ZW5jeSIsdGw6InVzZXJfZGF0YV9hdXRvX21ldGEiLHZsOiJ1c2VyX2RhdGFfYXV0b19tdWx0aSIsd2w6InVzZXJfZGF0YV9hdXRvX3NlbGVjdG9ycyIseGw6InVzZXJfZGF0YV9hdXRvX3N0YXR1cyIsSmI6InVzZXJfZGF0YV9tb2RlIix5bDoidXNlcl9kYXRhX3NldHRpbmdzIixPYToidXNlcl9pZCIseWQ6InVzZXJfcHJvcGVydGllcyIsemw6Il91c2VyX3JlZ2lvbiIsU2Y6InVzX3ByaXZhY3lfc3RyaW5nIixLYToidmFsdWUiLEFsOiJ3YnJhaWRfbXVsdGlwbGVfY29udmVyc2lvbnMiLFBjOiJfZnBtX3BhcmFtZXRlcnMiLENpOiJfaG9zdF9uYW1lIiwKWmw6Il9pbl9wYWdlX2NvbW1hbmQiLEVpOiJfaXBfb3ZlcnJpZGUiLGdtOiJfaXNfcGFzc3Rocm91Z2hfY2lkIix6aDoiX21lYXN1cmVtZW50X3R5cGUiLEhkOiJub25fcGVyc29uYWxpemVkX2FkcyIsUmk6Il9zc3RfcGFyYW1ldGVycyIsV3A6InNndG1fZ2VvX3VzZXJfY291bnRyeSIscGU6ImNvbnZlcnNpb25fbGFiZWwiLHhhOiJwYWdlX2xvY2F0aW9uIixvZDoiX2V4dHJhY3RlZF9kYXRhIixGYzoiZ2xvYmFsX2RldmVsb3Blcl9pZF9zdHJpbmciLEFlOiJ0Y19wcml2YWN5X3N0cmluZyJ9fTt2YXIgdWk9e30semk9KHVpW0subS5pYV09ImdjdSIsdWlbSy5tLnVjXT0iZ2NsZ2IiLHVpW0subS50Yl09ImdjbGF3Iix1aVtLLm0uRmtdPSJnY2xpZF9sZW4iLHVpW0subS5rZV09ImdjbGdzIix1aVtLLm0ubWVdPSJnY2xscCIsdWlbSy5tLm5lXT0iZ2Nsc3QiLHVpW0subS5qZF09ImF1aWQiLHVpW0subS5Lb109ImFlIix1aVtLLm0ua2ZdPSJkc2NudCIsdWlbSy5tLmxmXT0iZmNudHIiLHVpW0subS5uZl09ImZsbmciLHVpW0subS5wZl09Im1pZCIsdWlbSy5tLmdpXT0iYnR0eXBlIix1aVtLLm0uVmJdPSJnYWNpZCIsdWlbSy5tLnBlXT0ibGFiZWwiLHVpW0subS5rZF09ImNhcGkiLHVpW0subS5RZ109InBzY2RsIix1aVtLLm0ua2JdPSJjdXJyZW5jeV9jb2RlIix1aVtLLm0uUmddPSJjbG9icyIsdWlbSy5tLnFlXT0idmRsdHYiLHVpW0subS5TZ109ImNsb2xvIix1aVtLLm0uVGddPSJjbG9sYiIsdWlbSy5tLkprXT0iX2RiZyIsdWlbSy5tLnRlXT0ib2VkZWxkIix1aVtLLm0uRGNdPQoiZWRpZCIsdWlbSy5tLmFoXT0iZ2FjIix1aVtLLm0udWVdPSJnYWNnYiIsdWlbSy5tLlVrXT0iZ2FjbWNvdiIsdWlbSy5tLnZlXT0iZ2RwciIsdWlbSy5tLkZjXT0iZ2RpZCIsdWlbSy5tLndlXT0iX25nIix1aVtLLm0uYmhdPSJncHBfc2lkIix1aVtLLm0uZWhdPSJncHAiLHVpW0subS5Ya109ImdzYWV4cCIsdWlbSy5tLkZmXT0iX3R1Iix1aVtLLm0ucGRdPSJmcm0iLHVpW0subS5vaV09Imd0bV91cCIsdWlbSy5tLnhlXT0ibHBzIix1aVtLLm0uZ2hdPSJkaWQiLHVpW0subS5LY109ImZjbnRyIix1aVtLLm0uTGNdPSJmbG5nIix1aVtLLm0uTWNdPSJtaWQiLHVpW0subS55ZV09dm9pZCAwLHVpW0subS5HYl09InRpYmEiLHVpW0subS5YYl09InJkcCIsdWlbSy5tLlliXT0iZWNzaWQiLHVpW0subS5KZl09ImdhX3VpZCIsdWlbSy5tLndkXT0iZGVsb3BjIix1aVtLLm0uQWVdPSJnZHByX2NvbnNlbnQiLHVpW0subS5KYV09Im9pZCIsdWlbSy5tLnFsXT0ib2lkc3JjIix1aVtLLm0ucmxdPQoidXB0Z3MiLHVpW0subS5LZl09InVhYSIsdWlbSy5tLkxmXT0idWFiIix1aVtLLm0uTWZdPSJ1YWZ2bCIsdWlbSy5tLk5mXT0idWFtYiIsdWlbSy5tLk9mXT0idWFtIix1aVtLLm0uUGZdPSJ1YXAiLHVpW0subS5RZl09InVhcHYiLHVpW0subS5SZl09InVhdyIsdWlbSy5tLnNsXT0iZWNfbGF0Iix1aVtLLm0udGxdPSJlY19tZXRhIix1aVtLLm0udmxdPSJlY19tIix1aVtLLm0ud2xdPSJlY19zZWwiLHVpW0subS54bF09ImVjX3MiLHVpW0subS5KYl09ImVjX21vZGUiLHVpW0subS5PYV09InVzZXJJZCIsdWlbSy5tLlNmXT0idXNfcHJpdmFjeSIsdWlbSy5tLkthXT0idmFsdWUiLHVpW0subS5BbF09Im1jb3YiLHVpW0subS5DaV09ImhuIix1aVtLLm0uWmxdPSJndG1fZWUiLHVpW0subS5FaV09InVpcCIsdWlbSy5tLnpoXT0ibXQiLHVpW0subS5IZF09Im5wYSIsdWlbSy5tLldwXT0ic2dfdWMiLHVpW0subS5paV09bnVsbCx1aVtLLm0uTmNdPW51bGwsdWlbSy5tLmxiXT1udWxsLHVpW0subS5CYV09Cm51bGwsdWlbSy5tLnhhXT1udWxsLHVpW0subS5ZYV09bnVsbCx1aVtLLm0udWldPW51bGwsdWlbSy5tLlBjXT1udWxsLHVpW0subS5iZl09bnVsbCx1aVtLLm0uY2ZdPW51bGwsdWlbSy5tLkdjXT1udWxsLHVpW0subS5vZF09bnVsbCx1aSk7ZnVuY3Rpb24gQWkoYSxiKXtpZihhKXt2YXIgYz1hLnNwbGl0KCJ4Iik7Yy5sZW5ndGg9PT0yJiYoQmkoYiwidV93IixjWzBdKSxCaShiLCJ1X2giLGNbMV0pKX19CmZ1bmN0aW9uIENpKGEpe3ZhciBiPURpO2I9Yj09PXZvaWQgMD9FaTpiO3ZhciBjO3ZhciBkPWI7aWYoYSYmYS5sZW5ndGgpe2Zvcih2YXIgZT1bXSxmPTA7ZjxhLmxlbmd0aDsrK2Ype3ZhciBnPWFbZl07ZyYmZS5wdXNoKHtpdGVtX2lkOmQoZykscXVhbnRpdHk6Zy5xdWFudGl0eSx2YWx1ZTpnLnByaWNlLHN0YXJ0X2RhdGU6Zy5zdGFydF9kYXRlLGVuZF9kYXRlOmcuZW5kX2RhdGV9KX1jPWV9ZWxzZSBjPVtdO3ZhciBoO3ZhciBsPWM7aWYobCl7Zm9yKHZhciBuPVtdLHA9MDtwPGwubGVuZ3RoO3ArKyl7dmFyIHE9bFtwXSxyPVtdO3EmJihyLnB1c2goRmkocS52YWx1ZSkpLHIucHVzaChGaShxLnF1YW50aXR5KSksci5wdXNoKEZpKHEuaXRlbV9pZCkpLHIucHVzaChGaShxLnN0YXJ0X2RhdGUpKSxyLnB1c2goRmkocS5lbmRfZGF0ZSkpLG4ucHVzaCgiKCIrci5qb2luKCIqIikrIikiKSl9aD1uLmxlbmd0aD4wP24uam9pbigiIik6IiJ9ZWxzZSBoPSIiO3JldHVybiBofQpmdW5jdGlvbiBFaShhKXtyZXR1cm4gR2koYS5pdGVtX2lkLGEuaWQsYS5pdGVtX25hbWUpfWZ1bmN0aW9uIEdpKCl7Zm9yKHZhciBhPW0oRGEuYXBwbHkoMCxhcmd1bWVudHMpKSxiPWEubmV4dCgpOyFiLmRvbmU7Yj1hLm5leHQoKSl7dmFyIGM9Yi52YWx1ZTtpZihjIT09bnVsbCYmYyE9PXZvaWQgMClyZXR1cm4gY319ZnVuY3Rpb24gSGkoYSl7aWYoYSYmYS5sZW5ndGgpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY107ZCYmZC5lc3RpbWF0ZWRfZGVsaXZlcnlfZGF0ZT9iLnB1c2goIiIrZC5lc3RpbWF0ZWRfZGVsaXZlcnlfZGF0ZSk6Yi5wdXNoKCIiKX1yZXR1cm4gYi5qb2luKCIsIil9fWZ1bmN0aW9uIEJpKGEsYixjKXtjPT09dm9pZCAwfHxjPT09bnVsbHx8Yz09PSIiJiYhVGdbYl18fChhW2JdPWMpfWZ1bmN0aW9uIEZpKGEpe3JldHVybiB0eXBlb2YgYSE9PSJudW1iZXIiJiZ0eXBlb2YgYSE9PSJzdHJpbmciPyIiOmEudG9TdHJpbmcoKX07dmFyIElpPXt9LEppPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPSExLGI9ITEsYz0wO2E9PT1iOylpZihhPXdiKDAsMSk9PT0wLGI9d2IoMCwxKT09PTAsYysrLGM+MzApcmV0dXJuO3JldHVybiBhfSxMaT17WHI6S2l9O2Z1bmN0aW9uIEtpKGEsYil7dmFyIGM9SWlbYl07aWYoISh3YigwLDk5OTkpPGMucHJvYmFiaWxpdHkqKGMuY29udHJvbElkMj80OjIpKjFFNCkpcmV0dXJuIGE7YTp7dmFyIGQ9Yy5zdHVkeUlkLGU9Yy5leHBlcmltZW50SWQsZj1jLmNvbnRyb2xJZCxnPWMuY29udHJvbElkMjtpZighKChhLmV4cHx8e30pW2VdfHwoYS5leHB8fHt9KVtmXXx8ZyYmKGEuZXhwfHx7fSlbZ10pKXt2YXIgaD1KaSgpO2lmKGghPT12b2lkIDApe3ZhciBsPWg/MDoxO2lmKGcpe3ZhciBuPUppKCk7aWYobj09PXZvaWQgMClicmVhayBhO2x8PShuPzA6MSk8PDF9bD09PTA/TWkoYSxlLGQpOmw9PT0xP01pKGEsZixkKTpsPT09MiYmTWkoYSxnLGQpfX19cmV0dXJuIGF9CmZ1bmN0aW9uIE5pKGEsYil7cmV0dXJuIElpW2JdPyEhSWlbYl0uYWN0aXZlfHxJaVtiXS5wcm9iYWJpbGl0eT4uNXx8ISEoYS5leHB8fHt9KVtJaVtiXS5leHBlcmltZW50SWRdOiExfWZ1bmN0aW9uIE9pKGEsYil7Zm9yKHZhciBjPWEuZXhwfHx7fSxkPW0oT2JqZWN0LmtleXMoYykubWFwKE51bWJlcikpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXt2YXIgZj1lLnZhbHVlO2lmKGNbZl09PT1iKXJldHVybiBmfX1mdW5jdGlvbiBNaShhLGIsYyl7dmFyIGQ9YS5leHB8fHt9O2RbYl09YzthLmV4cD1kfTt2YXIgUGk9e046e2VrOiJjYWxsX2NvbnZlcnNpb24iLGFlOiJjY21fY29udmVyc2lvbiIsQWE6ImNvbnZlcnNpb24iLHRwOiJmbG9vZGxpZ2h0IixVZjoiZ2FfY29udmVyc2lvbiIsQmQ6ImdjcF9yZW1hcmtldGluZyIsam06ImxhbmRpbmdfcGFnZSIsQ2E6InBhZ2VfdmlldyIsR2U6ImZwbV90ZXN0X2hpdCIsTGI6InJlbWFya2V0aW5nIixaYjoidXNlcl9kYXRhX2xlYWQiLHpiOiJ1c2VyX2RhdGFfd2ViIn19O3ZhciBRaT1mdW5jdGlvbigpe3RoaXMuQz1uZXcgU2V0O3RoaXMuSD1uZXcgU2V0fSxTaT1mdW5jdGlvbihhKXt2YXIgYj1SaS5DO2E9YT09PXZvaWQgMD9bXTphO3ZhciBjPVtdLmNvbmNhdCh6YShiLkMpKS5jb25jYXQoW10uY29uY2F0KHphKGIuSCkpKS5jb25jYXQoYSk7Yy5zb3J0KGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGQtZX0pO3JldHVybiBjfSxUaT1mdW5jdGlvbigpe3ZhciBhPVtdLmNvbmNhdCh6YShSaS5DLkMpKTthLnNvcnQoZnVuY3Rpb24oYixjKXtyZXR1cm4gYi1jfSk7cmV0dXJuIGF9LFVpPWZ1bmN0aW9uKCl7dmFyIGE9UmkuQyxiPUQoNDQpO2EuQz1uZXcgU2V0O2lmKGIhPT0iIilmb3IodmFyIGM9bShiLnNwbGl0KCJ+IikpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKXt2YXIgZT1OdW1iZXIoZC52YWx1ZSk7aXNOYU4oZSl8fGEuQy5hZGQoZSl9fTt2YXIgVmk9e30sV2k9e19fY2w6MSxfX2VjbDoxLF9fZWhsOjEsX19ldmw6MSxfX2ZhbDoxLF9fZmlsOjEsX19mc2w6MSxfX2hsOjEsX19qZWw6MSxfX2xjbDoxLF9fc2RsOjEsX190bDoxLF9feXRsOjF9LFhpPXtfX3BhdXNlZDoxLF9fdGc6MX0sWWk7Zm9yKFlpIGluIFdpKVdpLmhhc093blByb3BlcnR5KFlpKSYmKFhpW1lpXT0xKTt2YXIgWmk9a2coNDUpLCRpLGFqPSExOyRpPWFqO3ZhciBiaj1udWxsLGNqPXt9LGRqPSIiO1ZpLlNpPWRqOwp2YXIgUmk9bmV3IGZ1bmN0aW9uKCl7dGhpcy5DPW5ldyBRaTt0aGlzLkg9ITF9O3ZhciBlaj0vOlswLTldKyQvLGZqPS9eXGQrXC5mbHNcLmRvdWJsZWNsaWNrXC5uZXQkLztmdW5jdGlvbiBnaihhLGIsYyxkKXt2YXIgZT1oaihhLCEhZCxiKSxmLGc7cmV0dXJuIGM/KGc9ZVtiXSkhPW51bGw/ZzpbXTooZj1lW2JdKT09bnVsbD92b2lkIDA6ZlswXX1mdW5jdGlvbiBoaihhLGIsYyl7Zm9yKHZhciBkPXt9LGU9bShhLnNwbGl0KCImIikpLGY9ZS5uZXh0KCk7IWYuZG9uZTtmPWUubmV4dCgpKXt2YXIgZz1tKGYudmFsdWUuc3BsaXQoIj0iKSksaD1nLm5leHQoKS52YWx1ZSxsPXlhKGcpLG49ZGVjb2RlVVJJQ29tcG9uZW50KGgucmVwbGFjZSgvXCsvZywiICIpKTtpZihjPT09dm9pZCAwfHxuPT09Yyl7dmFyIHA9bC5qb2luKCI9Iik7ZFtuXXx8KGRbbl09W10pO2Rbbl0ucHVzaChiP3A6ZGVjb2RlVVJJQ29tcG9uZW50KHAucmVwbGFjZSgvXCsvZywiICIpKSl9fXJldHVybiBkfQpmdW5jdGlvbiBpaihhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXt9fWZ1bmN0aW9uIGpqKGEsYixjLGQsZSl7YiYmKGI9U3RyaW5nKGIpLnRvTG93ZXJDYXNlKCkpO2lmKGI9PT0icHJvdG9jb2wifHxiPT09InBvcnQiKWEucHJvdG9jb2w9a2ooYS5wcm90b2NvbCl8fGtqKHcubG9jYXRpb24ucHJvdG9jb2wpO2I9PT0icG9ydCI/YS5wb3J0PVN0cmluZyhOdW1iZXIoYS5ob3N0bmFtZT9hLnBvcnQ6dy5sb2NhdGlvbi5wb3J0KXx8KGEucHJvdG9jb2w9PT0iaHR0cCI/ODA6YS5wcm90b2NvbD09PSJodHRwcyI/NDQzOiIiKSk6Yj09PSJob3N0IiYmKGEuaG9zdG5hbWU9KGEuaG9zdG5hbWV8fHcubG9jYXRpb24uaG9zdG5hbWUpLnJlcGxhY2UoZWosIiIpLnRvTG93ZXJDYXNlKCkpO3JldHVybiBsaihhLGIsYyxkLGUpfQpmdW5jdGlvbiBsaihhLGIsYyxkLGUpe3ZhciBmLGc9a2ooYS5wcm90b2NvbCk7YiYmKGI9U3RyaW5nKGIpLnRvTG93ZXJDYXNlKCkpO3N3aXRjaChiKXtjYXNlICJ1cmxfbm9fZnJhZ21lbnQiOmY9bWooYSk7YnJlYWs7Y2FzZSAicHJvdG9jb2wiOmY9ZzticmVhaztjYXNlICJob3N0IjpmPWEuaG9zdG5hbWUucmVwbGFjZShlaiwiIikudG9Mb3dlckNhc2UoKTtpZihjKXt2YXIgaD0vXnd3d1xkKlwuLy5leGVjKGYpO2gmJmhbMF0mJihmPWYuc3Vic3RyaW5nKGhbMF0ubGVuZ3RoKSl9YnJlYWs7Y2FzZSAicG9ydCI6Zj1TdHJpbmcoTnVtYmVyKGEucG9ydCl8fChnPT09Imh0dHAiPzgwOmc9PT0iaHR0cHMiPzQ0MzoiIikpO2JyZWFrO2Nhc2UgInBhdGgiOmEucGF0aG5hbWV8fGEuaG9zdG5hbWV8fGtiKCJUQUdHSU5HIiwxKTtmPWEucGF0aG5hbWUuc3Vic3RyaW5nKDAsMSk9PT0iLyI/YS5wYXRobmFtZToiLyIrYS5wYXRobmFtZTt2YXIgbD1mLnNwbGl0KCIvIik7KGR8fFtdKS5pbmRleE9mKGxbbC5sZW5ndGgtCjFdKT49MCYmKGxbbC5sZW5ndGgtMV09IiIpO2Y9bC5qb2luKCIvIik7YnJlYWs7Y2FzZSAicXVlcnkiOmY9YS5zZWFyY2gucmVwbGFjZSgiPyIsIiIpO2UmJihmPWdqKGYsZSwhMSkpO2JyZWFrO2Nhc2UgImV4dGVuc2lvbiI6dmFyIG49YS5wYXRobmFtZS5zcGxpdCgiLiIpO2Y9bi5sZW5ndGg+MT9uW24ubGVuZ3RoLTFdOiIiO2Y9Zi5zcGxpdCgiLyIpWzBdO2JyZWFrO2Nhc2UgImZyYWdtZW50IjpmPWEuaGFzaC5yZXBsYWNlKCIjIiwiIik7YnJlYWs7ZGVmYXVsdDpmPWEmJmEuaHJlZn1yZXR1cm4gZn1mdW5jdGlvbiBraihhKXtyZXR1cm4gYT9hLnJlcGxhY2UoIjoiLCIiKS50b0xvd2VyQ2FzZSgpOiIifWZ1bmN0aW9uIG1qKGEpe3ZhciBiPSIiO2lmKGEmJmEuaHJlZil7dmFyIGM9YS5ocmVmLmluZGV4T2YoIiMiKTtiPWM8MD9hLmhyZWY6YS5ocmVmLnN1YnN0cmluZygwLGMpfXJldHVybiBifXZhciBuaj17fSxvaj0wOwpmdW5jdGlvbiBwaihhKXt2YXIgYj1ualthXTtpZighYil7dmFyIGM9ei5jcmVhdGVFbGVtZW50KCJhIik7YSYmKGMuaHJlZj1hKTt2YXIgZD1jLnBhdGhuYW1lO2RbMF0hPT0iLyImJihhfHxrYigiVEFHR0lORyIsMSksZD0iLyIrZCk7dmFyIGU9Yy5ob3N0bmFtZS5yZXBsYWNlKGVqLCIiKTtiPXtocmVmOmMuaHJlZixwcm90b2NvbDpjLnByb3RvY29sLGhvc3Q6Yy5ob3N0LGhvc3RuYW1lOmUscGF0aG5hbWU6ZCxzZWFyY2g6Yy5zZWFyY2gsaGFzaDpjLmhhc2gscG9ydDpjLnBvcnR9O29qPDUmJihualthXT1iLG9qKyspfXJldHVybiBifWZ1bmN0aW9uIHFqKGEsYixjKXt2YXIgZD1waihhKTtyZXR1cm4gV2IoYixkLGMpfQpmdW5jdGlvbiByaihhKXt2YXIgYj1waih3LmxvY2F0aW9uLmhyZWYpLGM9amooYiwiaG9zdCIsITEpO2lmKGMmJmMubWF0Y2goZmopKXt2YXIgZD1qaihiLCJwYXRoIik7aWYoZCl7dmFyIGU9ZC5zcGxpdChhKyI9Iik7aWYoZS5sZW5ndGg+MSlyZXR1cm4gZVsxXS5zcGxpdCgiOyIpWzBdLnNwbGl0KCI/IilbMF19fX07dmFyIHNqPXsiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbSI6Ii9nIiwiaHR0cHM6Ly93d3cuZ29vZ2xlYWRzZXJ2aWNlcy5jb20iOiIvYXMiLCJodHRwczovL3BhZ2VhZDIuZ29vZ2xlc3luZGljYXRpb24uY29tIjoiL2dzIn0sdGo9WyIvYXMvZC9jY20vY29udmVyc2lvbiIsIi9nL2QvY2NtL2NvbnZlcnNpb24iLCIvZ3MvY2NtL2NvbnZlcnNpb24iLCIvZC9jY20vZm9ybS1kYXRhIl07ZnVuY3Rpb24gdWooKXtyZXR1cm4ga2coNDcpP2xnKDU0KSE9PTE6ITF9ZnVuY3Rpb24gdmooKXt2YXIgYT1EKDE4KSxiPWEubGVuZ3RoO3JldHVybiBhW2ItMV09PT0iLyI/YS5zdWJzdHJpbmcoMCxiLTEpOmF9CmZ1bmN0aW9uIHdqKGEsYil7aWYoYSl7dmFyIGM9IiIrYTtjLmluZGV4T2YoImh0dHA6Ly8iKSE9PTAmJmMuaW5kZXhPZigiaHR0cHM6Ly8iKSE9PTAmJihjPSJodHRwczovLyIrYyk7Y1tjLmxlbmd0aC0xXT09PSIvIiYmKGM9Yy5zdWJzdHJpbmcoMCxjLmxlbmd0aC0xKSk7cmV0dXJuIHBqKCIiK2MrYikuaHJlZn19ZnVuY3Rpb24geGooYSxiKXtpZih1aigpfHxrZyg1MCkpcmV0dXJuIHdqKGEsYil9ZnVuY3Rpb24geWooKXtyZXR1cm4hIVZpLlNpJiZWaS5TaS5zcGxpdCgiQEAiKS5qb2luKCIiKSE9PSJTR1RNX1RPS0VOIn1mdW5jdGlvbiB6aihhKXtmb3IodmFyIGI9bShbSy5tLnZkLEsubS5PY10pLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKXt2YXIgZD1MKGEsYy52YWx1ZSk7aWYoZClyZXR1cm4gZH19CmZ1bmN0aW9uIEFqKGEsYixjKXtjPWM9PT12b2lkIDA/IiI6YztpZighdWooKSlyZXR1cm4gYTt2YXIgZD1iP3NqW2FdfHwiIjoiIjtkPT09Ii9ncyImJihjPSIiKTtyZXR1cm4iIit2aigpK2QrY31mdW5jdGlvbiBCaihhKXtpZighdWooKSlyZXR1cm4gYTtmb3IodmFyIGI9bSh0aiksYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpe3ZhciBkPWMudmFsdWU7aWYoTGIoYSwiIit2aigpK2QpKXJldHVybiBhKyImX3VpcD0iK2VuY29kZVVSSUNvbXBvbmVudCgiOjoiKX1yZXR1cm4gYX07dmFyIENqPS9ndGFnWy5cL11qcy8sRGo9L2d0bVsuXC9danMvLEVqPSExOwpmdW5jdGlvbiBGaihhKXtpZigoYS5zY3JpcHRDb250YWluZXJJZHx8IiIpLmluZGV4T2YoIkdUTS0iKT49MCl7dmFyIGI7YTp7dmFyIGMsZD0oYz1hLnNjcmlwdEVsZW1lbnQpPT1udWxsP3ZvaWQgMDpjLnNyYztpZihkKXtmb3IodmFyIGU9a2coNDcpLGY9cGooZCksZz1lP2YucGF0aG5hbWU6IiIrZi5ob3N0bmFtZStmLnBhdGhuYW1lLGg9ei5zY3JpcHRzLGw9IiIsbj0wO248aC5sZW5ndGg7KytuKXt2YXIgcD1oW25dO2lmKCEocC5pbm5lckhUTUwubGVuZ3RoPT09MHx8IWUmJnAuaW5uZXJIVE1MLmluZGV4T2YoYS5zY3JpcHRDb250YWluZXJJZHx8IlNIT1VMRF9OT1RfQkVfU0VUIik8MHx8cC5pbm5lckhUTUwuaW5kZXhPZihnKTwwKSl7aWYocC5pbm5lckhUTUwuaW5kZXhPZigiKGZ1bmN0aW9uKHcsZCxzLGwsaSkiKT49MCl7Yj1TdHJpbmcobik7YnJlYWsgYX1sPVN0cmluZyhuKX19aWYobCl7Yj1sO2JyZWFrIGF9fWI9dm9pZCAwfXZhciBxPWI7aWYocSlyZXR1cm4gRWo9ITAsCnF9dmFyIHI9W10uc2xpY2UuY2FsbCh6LnNjcmlwdHMpO3JldHVybiBhLnNjcmlwdEVsZW1lbnQ/U3RyaW5nKHIuaW5kZXhPZihhLnNjcmlwdEVsZW1lbnQpKToiLTEifWZ1bmN0aW9uIEdqKGEpe2lmKEVqKXJldHVybiIxIjt2YXIgYixjPShiPWEuc2NyaXB0RWxlbWVudCk9PW51bGw/dm9pZCAwOmIuc3JjO2lmKGMpe2lmKENqLnRlc3QoYykpcmV0dXJuIjMiO2lmKERqLnRlc3QoYykpcmV0dXJuIjIifXJldHVybiIwIn07ZnVuY3Rpb24gTShhKXtrYigiR1RNIixhKX07ZnVuY3Rpb24gSGooYSl7dmFyIGI9SWooKS5kZXN0aW5hdGlvbkFycmF5W2FdLGM9SWooKS5kZXN0aW5hdGlvblthXTtyZXR1cm4gYiYmYi5sZW5ndGg+MD9iWzBdOmN9ZnVuY3Rpb24gSmooYSxiKXt2YXIgYz1JaigpO2MucGVuZGluZ3x8KGMucGVuZGluZz1bXSk7dmIoYy5wZW5kaW5nLGZ1bmN0aW9uKGQpe3JldHVybiBkLnRhcmdldC5jdGlkPT09YS5jdGlkJiZkLnRhcmdldC5pc0Rlc3RpbmF0aW9uPT09YS5pc0Rlc3RpbmF0aW9ufSl8fGMucGVuZGluZy5wdXNoKHt0YXJnZXQ6YSxvbkxvYWQ6Yn0pfWZ1bmN0aW9uIEtqKCl7dmFyIGE9dy5nb29nbGVfdGFnc19maXJzdF9wYXJ0eTtBcnJheS5pc0FycmF5KGEpfHwoYT1bXSk7Zm9yKHZhciBiPXt9LGM9bShhKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSliW2QudmFsdWVdPSEwO3JldHVybiBPYmplY3QuZnJlZXplKGIpfQp2YXIgTGo9ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lcj17fTt0aGlzLmRlc3RpbmF0aW9uPXt9O3RoaXMuZGVzdGluYXRpb25BcnJheT17fTt0aGlzLmNhbm9uaWNhbD17fTt0aGlzLnBlbmRpbmc9W107dGhpcy5pbmplY3RlZEZpcnN0UGFydHlDb250YWluZXJzPXt9O3RoaXMuaW5qZWN0ZWRGaXJzdFBhcnR5Q29udGFpbmVycz1LaigpfTsKZnVuY3Rpb24gSWooKXt2YXIgYT1GYygiZ29vZ2xlX3RhZ19kYXRhIix7fSksYj1hLnRpZHI7YiYmdHlwZW9mIGI9PT0ib2JqZWN0Inx8KGI9bmV3IExqLGEudGlkcj1iKTt2YXIgYz1iO2MuY29udGFpbmVyfHwoYy5jb250YWluZXI9e30pO2MuZGVzdGluYXRpb258fChjLmRlc3RpbmF0aW9uPXt9KTtjLmRlc3RpbmF0aW9uQXJyYXl8fChjLmRlc3RpbmF0aW9uQXJyYXk9e30pO2MuY2Fub25pY2FsfHwoYy5jYW5vbmljYWw9e30pO2MucGVuZGluZ3x8KGMucGVuZGluZz1bXSk7Yy5pbmplY3RlZEZpcnN0UGFydHlDb250YWluZXJzfHwoYy5pbmplY3RlZEZpcnN0UGFydHlDb250YWluZXJzPUtqKCkpO3JldHVybiBjfTtmdW5jdGlvbiBNaigpe3JldHVybiBrZyg3KSYmTmooKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09RCg1KX0pfWZ1bmN0aW9uIE9qKCl7dmFyIGE7cmV0dXJuKGE9bWcoNTUpKSE9bnVsbD9hOltdfWZ1bmN0aW9uIFBqKCl7cmV0dXJuIEQoNil8fCJfIitEKDUpfWZ1bmN0aW9uIFFqKCl7dmFyIGE9RCgxMCk7cmV0dXJuIGE/YS5zcGxpdCgifCIpOltEKDUpXX1mdW5jdGlvbiBOaigpe3ZhciBhPW1nKDU5KTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKT9hLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gdHlwZW9mIGI9PT0ic3RyaW5nIn0pLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYi5pbmRleE9mKCJHVE0tIikhPT0wfSk6W119ZnVuY3Rpb24gUmooKXt2YXIgYT1TaihUaigpKSxiPWEmJmEucGFyZW50O2lmKGIpcmV0dXJuIFNqKGIpfQpmdW5jdGlvbiBVaigpe3ZhciBhPVNqKFRqKCkpO2lmKGEpe2Zvcig7YS5wYXJlbnQ7KXt2YXIgYj1TaihhLnBhcmVudCk7aWYoIWIpYnJlYWs7YT1ifXJldHVybiBhfX1mdW5jdGlvbiBTaihhKXt2YXIgYj1JaigpO3JldHVybiBhLmlzRGVzdGluYXRpb24/SGooYS5jdGlkKTpiLmNvbnRhaW5lclthLmN0aWRdfWZ1bmN0aW9uIFZqKCl7dmFyIGE9SWooKTtpZihhLnBlbmRpbmcpe2Zvcih2YXIgYixjPVtdLGQ9ITEsZT1RaigpLGY9TmooKSxnPXt9LGg9MDtoPGEucGVuZGluZy5sZW5ndGg7Zz17Q2c6dm9pZCAwfSxoKyspZy5DZz1hLnBlbmRpbmdbaF0sdmIoZy5DZy50YXJnZXQuaXNEZXN0aW5hdGlvbj9mOmUsZnVuY3Rpb24obCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuPT09bC5DZy50YXJnZXQuY3RpZH19KGcpKT9kfHwoYj1nLkNnLm9uTG9hZCxkPSEwKTpjLnB1c2goZy5DZyk7YS5wZW5kaW5nPWM7aWYoYil0cnl7YihQaigpKX1jYXRjaChsKXt9fX0KZnVuY3Rpb24gV2ooKXtmb3IodmFyIGE9RCg1KSxiPVFqKCksYz1OaigpLGQ9T2ooKSxlPWZ1bmN0aW9uKHEscil7dmFyIHU9e2Nhbm9uaWNhbENvbnRhaW5lcklkOkQoNiksc2NyaXB0Q29udGFpbmVySWQ6YSxzdGF0ZToyLGNvbnRhaW5lcnM6Yi5zbGljZSgpLGRlc3RpbmF0aW9uczpjLnNsaWNlKCl9O0RjJiYodS5zY3JpcHRFbGVtZW50PURjKTtFYyYmKHUuc2NyaXB0U291cmNlPUVjKTtSaigpPT09dm9pZCAwJiYodS5odG1sTG9hZE9yZGVyPUZqKHUpLHUubG9hZFNjcmlwdFR5cGU9R2oodSkpO3ZhciB0LHY7c3dpdGNoKHIpe2Nhc2UgMDp0PWZ1bmN0aW9uKEEpe2YuY29udGFpbmVyW3FdPUF9O3Y9Zi5jb250YWluZXJbcV07YnJlYWs7Y2FzZSAxOnQ9ZnVuY3Rpb24oQSl7Zi5kZXN0aW5hdGlvbkFycmF5W3FdPWYuZGVzdGluYXRpb25BcnJheVtxXXx8W107Zi5kZXN0aW5hdGlvbkFycmF5W3FdLnVuc2hpZnQoQSl9O3ZhciB4LHk9KCh4PWYuZGVzdGluYXRpb25BcnJheVtxXSk9PQpudWxsP3ZvaWQgMDp4WzBdKXx8Zi5kZXN0aW5hdGlvbltxXTsheXx8eS5zdGF0ZSE9PTAmJnkuc3RhdGUhPT0xfHwodj15KTticmVhaztjYXNlIDI6dD1mdW5jdGlvbihBKXtmLmRlc3RpbmF0aW9uQXJyYXlbcV09Zi5kZXN0aW5hdGlvbkFycmF5W3FdfHxbXTtmLmRlc3RpbmF0aW9uQXJyYXlbcV0ucHVzaChBKX0sdj12b2lkIDB9dCYmKHY/KHYuc3RhdGU9PT0wJiZNKDkzKSxuYShPYmplY3QsImFzc2lnbiIpLmNhbGwoT2JqZWN0LHYsdSkpOnQodSkpfSxmPUlqKCksZz1tKGIpLGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKWUoaC52YWx1ZSwwKTtmb3IodmFyIGw9bShjKSxuPWwubmV4dCgpOyFuLmRvbmU7bj1sLm5leHQoKSl7dmFyIHA9bi52YWx1ZTtkLmluY2x1ZGVzKHApP2UocCwxKTplKHAsMil9Zi5jYW5vbmljYWxbUGooKV09e307VmooKX1mdW5jdGlvbiBYaigpe3ZhciBhPVBqKCk7cmV0dXJuISFJaigpLmNhbm9uaWNhbFthXX0KZnVuY3Rpb24gWWooYSl7cmV0dXJuISFJaigpLmNvbnRhaW5lclthXX1mdW5jdGlvbiBaaigpe3ZhciBhPVRqKCksYj1TaihhKTtyZXR1cm4gYiYmYi5jb250ZXh0fWZ1bmN0aW9uIGFrKGEpe3ZhciBiPUhqKGEpO3JldHVybiBiP2Iuc3RhdGUhPT0wOiExfWZ1bmN0aW9uIFRqKCl7cmV0dXJue2N0aWQ6RCg1KSxpc0Rlc3RpbmF0aW9uOmtnKDcpfX1mdW5jdGlvbiBiayhhLGIsYyl7dmFyIGQ9VGooKSxlPUlqKCkuY29udGFpbmVyW2FdO2UmJmUuc3RhdGUhPT0zfHwoSWooKS5jb250YWluZXJbYV09e3N0YXRlOjEsY29udGV4dDpiLHBhcmVudDpkfSxKaih7Y3RpZDphLGlzRGVzdGluYXRpb246ITF9LGMpKX1mdW5jdGlvbiBjaygpe3ZhciBhPUlqKCkuY29udGFpbmVyLGI7Zm9yKGIgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGIpJiZhW2JdLnN0YXRlPT09MSlyZXR1cm4hMDtyZXR1cm4hMX0KZnVuY3Rpb24gZGsoKXt2YXIgYT17fTt6YihJaigpLmRlc3RpbmF0aW9uLGZ1bmN0aW9uKGIsYyl7KGM9PW51bGw/dm9pZCAwOmMuc3RhdGUpPT09MCYmKGFbYl09Yyl9KTt6YihJaigpLmRlc3RpbmF0aW9uQXJyYXksZnVuY3Rpb24oYixjKXt2YXIgZD1jWzBdOyhkPT1udWxsP3ZvaWQgMDpkLnN0YXRlKT09PTAmJihhW2JdPWQpfSk7cmV0dXJuIGF9ZnVuY3Rpb24gZWsoYSl7cmV0dXJuISEoYSYmYS5wYXJlbnQmJmEuY29udGV4dCYmYS5jb250ZXh0LnNvdXJjZT09PTEmJmEucGFyZW50LmN0aWQuaW5kZXhPZigiR1RNLSIpIT09MCl9ZnVuY3Rpb24gZmsoKXtmb3IodmFyIGE9SWooKSxiPW0oUWooKSksYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpaWYoYS5pbmplY3RlZEZpcnN0UGFydHlDb250YWluZXJzW2MudmFsdWVdKXJldHVybiEwO3JldHVybiExfTt2YXIgZ2s9e30saGs9KGdrLnRkcD0xLGdrLmV4cD0xLGdrLnBpZD0xLGdrLmRsPTEsZ2suc2VxPTEsZ2sudD0xLGdrLnY9MSxnayksaWs9e307ZnVuY3Rpb24gamsoKXtyZXR1cm4gT2JqZWN0LmtleXMoaWspLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gaWtbYV19KX12YXIga2s9e307ZnVuY3Rpb24gbGsoYSxiLGMpe2trW2FdPWI7KGM9PT12b2lkIDB8fGMpJiZtayhhKX1mdW5jdGlvbiBtayhhLGIpe2lrW2FdIT09dm9pZCAwJiYoYj09PXZvaWQgMHx8IWIpfHxMYihEKDUpLCJHVE0tIikmJmE9PT0ibWNjInx8KGlrW2FdPSEwKX1mdW5jdGlvbiBuayhhKXthLmZvckVhY2goZnVuY3Rpb24oYil7aGtbYl18fChpa1tiXT0hMSl9KX07ZnVuY3Rpb24gb2soYSl7YT1hPT09dm9pZCAwP1tdOmE7cmV0dXJuIFNpKGEpLmpvaW4oIn4iKX07dmFyIHBrPVtdO2Z1bmN0aW9uIHFrKGEpe3N3aXRjaChhKXtjYXNlIDE6cmV0dXJuIDA7Y2FzZSA0MjE6cmV0dXJuIDIxO2Nhc2UgNDM2OnJldHVybiAyMjtjYXNlIDIzNTpyZXR1cm4gMTk7Y2FzZSAzODpyZXR1cm4gMTQ7Y2FzZSAyODc6cmV0dXJuIDEyO2Nhc2UgMjg4OnJldHVybiAxMztjYXNlIDI4NTpyZXR1cm4gMTA7Y2FzZSAyODY6cmV0dXJuIDExO2Nhc2UgMjE5OnJldHVybiA4O2Nhc2UgMjIwOnJldHVybiA5O2Nhc2UgNTM6cmV0dXJuIDE7Y2FzZSA1NDpyZXR1cm4gMjtjYXNlIDUyOnJldHVybiA1O2Nhc2UgMjAzOnJldHVybiAxODtjYXNlIDc1OnJldHVybiAzO2Nhc2UgMTAzOnJldHVybiAxNTtjYXNlIDE5NzpyZXR1cm4gMTY7Y2FzZSAxMDk6cmV0dXJuIDIwO2Nhc2UgMTE2OnJldHVybiA0O2Nhc2UgMTM1OnJldHVybiA3fX1mdW5jdGlvbiByayhhLGIpe3BrW2FdPWI7dmFyIGM9cWsoYSk7YyE9PXZvaWQgMCYmKFZhW2NdPWIpfQpmdW5jdGlvbiBzayhhKXtyayhhLCEwKX1zaygxMjApOwpzayg4Nyk7CnNrKDEzMik7CnNrKDIwKTtzayg3Mik7c2soMTEzKTsKc2soMTE2KTsKcmsoMjMsITEpLHNrKDI0KTtwZyg2LDZFNCk7cGcoNywxKTtwZygzNSw1MCk7c2soMzcpOwpzayg5KTsKc2soMTIzKTtzaygxNTgpO3NrKDcxKTsKCnNrKDEzNSk7c2soMzgpO3NrKDEwMyk7CgpzaygxMDEpO3NrKDQzNSk7c2soMjEpOwoKc2soMTQxKTsKc2soMTgzKTsKc2soMTg1KTtzaygxOTcpO3NrKDIwMCk7CnNrKDIwNik7c2soMjE4KTtzaygyMzIpO3NrKDI1Mik7CgpzaygyNzUpOwpmdW5jdGlvbiBQKGEpe3JldHVybiEhcGtbYV19O2Z1bmN0aW9uIHdrKCl7cmV0dXJue3RvdGFsOjAsamI6MCxTZTp7fX19ZnVuY3Rpb24geGsoYSxiLGMsZCl7dmFyIGU9T2JqZWN0LmtleXMoYS5UZSkuc29ydChmdW5jdGlvbihmLGcpe3JldHVybiBOdW1iZXIoZiktTnVtYmVyKGcpfSkubWFwKGZ1bmN0aW9uKGYpe3JldHVybltmLGIoYS5UZVtmXSldfSkuZmlsdGVyKGZ1bmN0aW9uKGYpe3JldHVybiBmWzFdIT09dm9pZCAwfSkubWFwKGZ1bmN0aW9uKGYpe3JldHVybiBmLmpvaW4oYyl9KS5qb2luKGQpO3JldHVybiBlP2U6dm9pZCAwfQpmdW5jdGlvbiB5ayhhLGIpe3ZhciBjLGQsZTtjPWM9PT12b2lkIDA/Il8iOmM7ZD1kPT09dm9pZCAwPyI7IjpkO2U9ZT09PXZvaWQgMD8ifiI6ZTtmb3IodmFyIGY9W10sZz1tKE9iamVjdC5rZXlzKGEuU2UpLnNvcnQoKSksaD1nLm5leHQoKTshaC5kb25lO2g9Zy5uZXh0KCkpe3ZhciBsPWgudmFsdWUsbj14ayhhLlNlW2xdLGIsYyxkKTtpZihuKXt2YXIgcD12b2lkIDA7Zi5wdXNoKCIiKygocD1sKSE9bnVsbD9wOiIiKStkK24pfX1yZXR1cm4gZi5sZW5ndGg/Zi5qb2luKGUpOnZvaWQgMH1mdW5jdGlvbiB6ayhhKXthLmpiPTA7Zm9yKHZhciBiPW0oT2JqZWN0LmtleXMoYS5TZSkpLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKXt2YXIgZD1hLlNlW2MudmFsdWVdO2QuamI9MDtmb3IodmFyIGU9bShPYmplY3Qua2V5cyhkLlRlKSksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpZC5UZVtmLnZhbHVlXS5qYj0wfX0KZnVuY3Rpb24gQWsoYSxiLGMpe3ZhciBkO2Q9ZD09PXZvaWQgMD8xOmQ7YS50b3RhbCs9ZDthLmpiKz1kO3ZhciBlLGY9Yj09PXZvaWQgMD8iIjpiO2U9YS5TZVtmXXx8KGEuU2VbZl09e3RvdGFsOjAsamI6MCxUZTp7fX0pO2UudG90YWwrPWQ7ZS5qYis9ZDt2YXIgZyxoPVN0cmluZyhjKTtnPWUuVGVbaF18fChlLlRlW2hdPXt0b3RhbDowLGpiOjB9KTtnLnRvdGFsKz1kO2cuamIrPWR9O3ZhciBCaz13aygpO3ZhciBDaz17fSxEaz0oQ2tbMV09e30sQ2tbMl09e30sQ2tbM109e30sQ2tbNF09e30sQ2spO2Z1bmN0aW9uIEVrKGEsYixjKXt2YXIgZD1GayhiLGMpO2lmKGQpe3ZhciBlPURrW2JdW2RdO2V8fChlPURrW2JdW2RdPVtdKTtlLnB1c2gobmEoT2JqZWN0LCJhc3NpZ24iKS5jYWxsKE9iamVjdCx7fSxhKSk7QWsoQmssYS5kZXN0aW5hdGlvbklkLGEuZW5kcG9pbnQpO2EuZW5kcG9pbnQhPT01NiYmYS5lbmRwb2ludCE9PTYxJiZtaygibWRlIiwhMCl9fWZ1bmN0aW9uIEdrKGEsYil7dmFyIGM9RmsoYSxiKTtpZihjKXt2YXIgZD1Ea1thXVtjXTtkJiYoRGtbYV1bY109ZC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuQ259KSl9fQpmdW5jdGlvbiBIayhhKXtzd2l0Y2goYSl7Y2FzZSAic2NyaXB0LXNyYyI6Y2FzZSAic2NyaXB0LXNyYy1lbGVtIjpyZXR1cm4gMTtjYXNlICJmcmFtZS1zcmMiOnJldHVybiA0O2Nhc2UgImNvbm5lY3Qtc3JjIjpyZXR1cm4gMjtjYXNlICJpbWctc3JjIjpyZXR1cm4gM319ZnVuY3Rpb24gRmsoYSxiKXt2YXIgYz1iO2lmKGJbMF09PT0iLyIpe3ZhciBkO2M9KChkPXcubG9jYXRpb24pPT1udWxsP3ZvaWQgMDpkLm9yaWdpbikrYn10cnl7dmFyIGU9bmV3IFVSTChjKTtyZXR1cm4gYT09PTQ/ZS5vcmlnaW46ZS5vcmlnaW4rZS5wYXRobmFtZX1jYXRjaChmKXt9fTtmdW5jdGlvbiBJayhhKXt2YXIgYj1TdHJpbmcoYVt0Zi5UYV18fCIiKS5yZXBsYWNlKC9fL2csIiIpO3JldHVybiBMYihiLCJjdnQiKT8iY3Z0IjpifXZhciBKaz13LmxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCI/Z3RtX2xhdGVuY3k9Iik+PTB8fHcubG9jYXRpb24uc2VhcmNoLmluZGV4T2YoIiZndG1fbGF0ZW5jeT0iKT49MDt2YXIgS2s9TWF0aC5yYW5kb20oKSxMayxNaz1sZygyNyk7TGs9Smt8fEtrPE1rO3ZhciBOayxPaz1sZyg0Mik7Tms9Smt8fEtrPj0xLU9rO2Z1bmN0aW9uIFBrKGEsYixjKXt2YXIgZCxlPWEuR29vZ2xlYlFoQ3NPO2V8fChlPXt9LGEuR29vZ2xlYlFoQ3NPPWUpO2Q9ZTtpZihkW2JdKXJldHVybiExO2RbYl09W107ZFtiXVswXT1jO3JldHVybiEwfTt2YXIgUWssUms7YTp7Zm9yKHZhciBTaz1bIkNMT1NVUkVfRkxBR1MiXSxUaz1FYSxVaz0wO1VrPFNrLmxlbmd0aDtVaysrKWlmKFRrPVRrW1NrW1VrXV0sVGs9PW51bGwpe1JrPW51bGw7YnJlYWsgYX1Saz1Ua312YXIgVms9UmsmJlJrWzYxMDQwMTMwMV07UWs9VmshPW51bGw/Vms6ITE7ZnVuY3Rpb24gV2soKXt2YXIgYT1FYS5uYXZpZ2F0b3I7aWYoYSl7dmFyIGI9YS51c2VyQWdlbnQ7aWYoYilyZXR1cm4gYn1yZXR1cm4iIn12YXIgYWwsYmw9RWEubmF2aWdhdG9yO2FsPWJsP2JsLnVzZXJBZ2VudERhdGF8fG51bGw6bnVsbDtmdW5jdGlvbiBjbChhKXtpZighUWt8fCFhbClyZXR1cm4hMTtmb3IodmFyIGI9MDtiPGFsLmJyYW5kcy5sZW5ndGg7YisrKXt2YXIgYz1hbC5icmFuZHNbYl0uYnJhbmQ7aWYoYyYmYy5pbmRleE9mKGEpIT0tMSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBkbChhKXtyZXR1cm4gV2soKS5pbmRleE9mKGEpIT0tMX07ZnVuY3Rpb24gZWwoKXtyZXR1cm4gUWs/ISFhbCYmYWwuYnJhbmRzLmxlbmd0aD4wOiExfWZ1bmN0aW9uIGZsKCl7cmV0dXJuIGVsKCk/ITE6ZGwoIk9wZXJhIil9ZnVuY3Rpb24gZ2woKXtyZXR1cm4gZGwoIkZpcmVmb3giKXx8ZGwoIkZ4aU9TIil9ZnVuY3Rpb24gaGwoKXtyZXR1cm4gZWwoKT9jbCgiQ2hyb21pdW0iKTooZGwoIkNocm9tZSIpfHxkbCgiQ3JpT1MiKSkmJiEoZWwoKT8wOmRsKCJFZGdlIikpfHxkbCgiU2lsayIpfTtmdW5jdGlvbiBpbCgpe3JldHVybiBRaz8hIWFsJiYhIWFsLnBsYXRmb3JtOiExfWZ1bmN0aW9uIGpsKCl7cmV0dXJuIGRsKCJpUGhvbmUiKSYmIWRsKCJpUG9kIikmJiFkbCgiaVBhZCIpfWZ1bmN0aW9uIGtsKCl7amwoKXx8ZGwoImlQYWQiKXx8ZGwoImlQb2QiKX07dmFyIGxsPWZ1bmN0aW9uKGEpe2xsWyIgIl0oYSk7cmV0dXJuIGF9O2xsWyIgIl09ZnVuY3Rpb24oKXt9O2ZsKCk7ZWwoKXx8ZGwoIlRyaWRlbnQiKXx8ZGwoIk1TSUUiKTtkbCgiRWRnZSIpOyFkbCgiR2Vja28iKXx8V2soKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIndlYmtpdCIpIT0tMSYmIWRsKCJFZGdlIil8fGRsKCJUcmlkZW50Iil8fGRsKCJNU0lFIil8fGRsKCJFZGdlIik7V2soKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIndlYmtpdCIpIT0tMSYmIWRsKCJFZGdlIikmJmRsKCJNb2JpbGUiKTtpbCgpfHxkbCgiTWFjaW50b3NoIik7aWwoKXx8ZGwoIldpbmRvd3MiKTsoaWwoKT9hbC5wbGF0Zm9ybT09PSJMaW51eCI6ZGwoIkxpbnV4IikpfHxpbCgpfHxkbCgiQ3JPUyIpO2lsKCl8fGRsKCJBbmRyb2lkIik7amwoKTtkbCgiaVBhZCIpO2RsKCJpUG9kIik7a2woKTtXaygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigia2Fpb3MiKTtnbCgpO2psKCl8fGRsKCJpUG9kIik7ZGwoImlQYWQiKTshZGwoIkFuZHJvaWQiKXx8aGwoKXx8Z2woKXx8ZmwoKXx8ZGwoIlNpbGsiKTtobCgpOyFkbCgiU2FmYXJpIil8fGhsKCl8fChlbCgpPzA6ZGwoIkNvYXN0IikpfHxmbCgpfHwoZWwoKT8wOmRsKCJFZGdlIikpfHwoZWwoKT9jbCgiTWljcm9zb2Z0IEVkZ2UiKTpkbCgiRWRnLyIpKXx8KGVsKCk/Y2woIk9wZXJhIik6ZGwoIk9QUiIpKXx8Z2woKXx8ZGwoIlNpbGsiKXx8ZGwoIkFuZHJvaWQiKXx8a2woKTt2YXIgbWw9e30sbmw9bnVsbDsKZnVuY3Rpb24gb2woYSl7Zm9yKHZhciBiPVtdLGM9MCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWEuY2hhckNvZGVBdChkKTtlPjI1NSYmKGJbYysrXT1lJjI1NSxlPj49OCk7YltjKytdPWV9dmFyIGY9NDtmPT09dm9pZCAwJiYoZj0wKTtpZighbmwpe25sPXt9O2Zvcih2YXIgZz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiLnNwbGl0KCIiKSxoPVsiKy89IiwiKy8iLCItXz0iLCItXy4iLCItXyJdLGw9MDtsPDU7bCsrKXt2YXIgbj1nLmNvbmNhdChoW2xdLnNwbGl0KCIiKSk7bWxbbF09bjtmb3IodmFyIHA9MDtwPG4ubGVuZ3RoO3ArKyl7dmFyIHE9bltwXTtubFtxXT09PXZvaWQgMCYmKG5sW3FdPXApfX19Zm9yKHZhciByPW1sW2ZdLHU9QXJyYXkoTWF0aC5mbG9vcihiLmxlbmd0aC8zKSksdD1yWzY0XXx8IiIsdj0wLHg9MDt2PGIubGVuZ3RoLTI7dis9Myl7dmFyIHk9Ylt2XSxBPWJbdisxXSxDPWJbdisyXSwKRT1yW3k+PjJdLEg9clsoeSYzKTw8NHxBPj40XSxKPXJbKEEmMTUpPDwyfEM+PjZdLE89cltDJjYzXTt1W3grK109IiIrRStIK0orT312YXIgYmE9MCxXPXQ7c3dpdGNoKGIubGVuZ3RoLXYpe2Nhc2UgMjpiYT1iW3YrMV0sVz1yWyhiYSYxNSk8PDJdfHx0O2Nhc2UgMTp2YXIgTj1iW3ZdO3VbeF09IiIrcltOPj4yXStyWyhOJjMpPDw0fGJhPj40XStXK3R9cmV0dXJuIHUuam9pbigiIil9O3ZhciBwbD1mdW5jdGlvbihhKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGEucmVwbGFjZSgvXCsvZywiICIpKX07ZnVuY3Rpb24gcWwoYSxiLGMsZCl7Zm9yKHZhciBlPWIsZj1jLmxlbmd0aDsoZT1hLmluZGV4T2YoYyxlKSk+PTAmJmU8ZDspe3ZhciBnPWEuY2hhckNvZGVBdChlLTEpO2lmKGc9PTM4fHxnPT02Myl7dmFyIGg9YS5jaGFyQ29kZUF0KGUrZik7aWYoIWh8fGg9PTYxfHxoPT0zOHx8aD09MzUpcmV0dXJuIGV9ZSs9ZisxfXJldHVybi0xfXZhciBybD0vI3wkLztmdW5jdGlvbiBzbChhLGIpe3ZhciBjPWEuc2VhcmNoKHJsKSxkPXFsKGEsMCxiLGMpO2lmKGQ8MClyZXR1cm4gbnVsbDt2YXIgZT1hLmluZGV4T2YoIiYiLGQpO2lmKGU8MHx8ZT5jKWU9YztkKz1iLmxlbmd0aCsxO3JldHVybiBwbChhLnNsaWNlKGQsZSE9PS0xP2U6MCkpfXZhciB0bD0vWz8mXSgkfCMpLzsKZnVuY3Rpb24gdWwoYSxiLGMpe2Zvcih2YXIgZCxlPWEuc2VhcmNoKHJsKSxmPTAsZyxoPVtdOyhnPXFsKGEsZixiLGUpKT49MDspaC5wdXNoKGEuc3Vic3RyaW5nKGYsZykpLGY9TWF0aC5taW4oYS5pbmRleE9mKCImIixnKSsxfHxlLGUpO2gucHVzaChhLnNsaWNlKGYpKTtkPWguam9pbigiIikucmVwbGFjZSh0bCwiJDEiKTt2YXIgbCxuPWMhPW51bGw/Ij0iK2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYykpOiIiO3ZhciBwPWIrbjtpZihwKXt2YXIgcSxyPWQuaW5kZXhPZigiIyIpO3I8MCYmKHI9ZC5sZW5ndGgpO3ZhciB1PWQuaW5kZXhPZigiPyIpLHQ7dTwwfHx1PnI/KHU9cix0PSIiKTp0PWQuc3Vic3RyaW5nKHUrMSxyKTtxPVtkLnNsaWNlKDAsdSksdCxkLnNsaWNlKHIpXTt2YXIgdj1xWzFdO3FbMV09cD92P3YrIiYiK3A6cDp2O2w9cVswXSsocVsxXT8iPyIrcVsxXToiIikrcVsyXX1lbHNlIGw9ZDtyZXR1cm4gbH07ZnVuY3Rpb24gdmwoYSxiLGMsZCxlLGYsZyl7dmFyIGg9c2woYywiZm10Iik7aWYoZCl7dmFyIGw9c2woYywicmFuZG9tIiksbj1zbChjLCJsYWJlbCIpfHwiIjtpZighbClyZXR1cm4hMTt2YXIgcD1vbChwbChuKSsiOiIrcGwobCkpO2lmKCFQayhhLHAsZCkpcmV0dXJuITF9aCYmTnVtYmVyKGgpIT09NCYmKGM9dWwoYywicmZtdCIsaCkpO3ZhciBxPXVsKGMsImZtdCIsNCkscj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXS5wYXJlbnRFbGVtZW50O2c9PW51bGx8fHdsKGcpO05jKHEsZnVuY3Rpb24oKXtnPT1udWxsfHx4bChnKTthLmdvb2dsZV9ub0Z1cnRoZXJSZWRpcmVjdHMmJmQmJihhLmdvb2dsZV9ub0Z1cnRoZXJSZWRpcmVjdHM9bnVsbCxkKCkpfSxmdW5jdGlvbigpe2c9PW51bGx8fHhsKGcpO2U9PW51bGx8fGUoKX0sZixyfHx2b2lkIDApO3JldHVybiEwfTtmdW5jdGlvbiB5bChhKXt2YXIgYj1EYS5hcHBseSgxLGFyZ3VtZW50cyk7TmsmJihFayhhLDIsYlswXSksRWsoYSwzLGJbMF0pKTtaYy5hcHBseShudWxsLHphKGIpKX1mdW5jdGlvbiB6bChhKXt2YXIgYj1EYS5hcHBseSgxLGFyZ3VtZW50cyk7TmsmJkVrKGEsMixiWzBdKTtyZXR1cm4gJGMuYXBwbHkobnVsbCx6YShiKSl9ZnVuY3Rpb24gQWwoYSl7dmFyIGI9RGEuYXBwbHkoMSxhcmd1bWVudHMpO05rJiZFayhhLDMsYlswXSk7UWMuYXBwbHkobnVsbCx6YShiKSl9ZnVuY3Rpb24gQmwoYSl7dmFyIGI9RGEuYXBwbHkoMSxhcmd1bWVudHMpLGM9YlswXTtOayYmKEVrKGEsMixjKSxFayhhLDMsYykpO3JldHVybiBiZC5hcHBseShudWxsLHphKGIpKX1mdW5jdGlvbiBDbChhKXt2YXIgYj1EYS5hcHBseSgxLGFyZ3VtZW50cyk7TmsmJkVrKGEsMSxiWzBdKTtOYy5hcHBseShudWxsLHphKGIpKX0KZnVuY3Rpb24gRGwoYSl7dmFyIGI9RGEuYXBwbHkoMSxhcmd1bWVudHMpO2JbMF0mJk5rJiZFayhhLDQsYlswXSk7UGMuYXBwbHkobnVsbCx6YShiKSl9ZnVuY3Rpb24gRWwoYSl7dmFyIGI9RGEuYXBwbHkoMSxhcmd1bWVudHMpO05rJiZFayhhLDEsYlsyXSk7cmV0dXJuIHZsLmFwcGx5KG51bGwsemEoYikpfTt2YXIgRmw9e01hOntDZTowLEZlOjEsS2k6Mn19O0ZsLk1hW0ZsLk1hLkNlXT0iRlVMTF9UUkFOU01JU1NJT04iO0ZsLk1hW0ZsLk1hLkZlXT0iTElNSVRFRF9UUkFOU01JU1NJT04iO0ZsLk1hW0ZsLk1hLktpXT0iTk9fVFJBTlNNSVNTSU9OIjt2YXIgR2w9e2FhOntTYzowLFNhOjEsZGQ6MixRYzozfX07R2wuYWFbR2wuYWEuU2NdPSJOT19RVUVVRSI7R2wuYWFbR2wuYWEuU2FdPSJBRFMiO0dsLmFhW0dsLmFhLmRkXT0iQU5BTFlUSUNTIjtHbC5hYVtHbC5hYS5RY109Ik1PTklUT1JJTkciO2Z1bmN0aW9uIEhsKCl7dmFyIGE9RmMoImdvb2dsZV90YWdfZGF0YSIse30pO3JldHVybiBhLmljcz1hLmljc3x8bmV3IElsfXZhciBJbD1mdW5jdGlvbigpe3RoaXMuZW50cmllcz17fTt0aGlzLndhaXRQZXJpb2RUaW1lZE91dD10aGlzLndhc1NldExhdGU9dGhpcy5hY2Nlc3NlZEFueT10aGlzLmFjY2Vzc2VkRGVmYXVsdD10aGlzLnVzZWRJbXBsaWNpdD10aGlzLnVzZWRVcGRhdGU9dGhpcy51c2VkRGVmYXVsdD10aGlzLnVzZWREZWNsYXJlPXRoaXMuYWN0aXZlPSExO3RoaXMuQz1bXX07CklsLnByb3RvdHlwZS5kZWZhdWx0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3RoaXMudXNlZERlZmF1bHR8fHRoaXMudXNlZERlY2xhcmV8fCF0aGlzLmFjY2Vzc2VkRGVmYXVsdCYmIXRoaXMuYWNjZXNzZWRBbnl8fCh0aGlzLndhc1NldExhdGU9ITApO3RoaXMudXNlZERlZmF1bHQ9dGhpcy5hY3RpdmU9ITA7a2IoIlRBR0dJTkciLDE5KTtiPT1udWxsP2tiKCJUQUdHSU5HIiwxOCk6SmwodGhpcyxhLGI9PT0iZ3JhbnRlZCIsYyxkLGUsZixnKX07SWwucHJvdG90eXBlLndhaXRGb3JVcGRhdGU9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKUpsKHRoaXMsYVtkXSx2b2lkIDAsdm9pZCAwLCIiLCIiLGIsYyl9Owp2YXIgSmw9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgbD1hLmVudHJpZXMsbj1sW2JdfHx7fSxwPW4ucmVnaW9uLHE9ZCYmc2IoZCk/ZC50b1VwcGVyQ2FzZSgpOnZvaWQgMDtlPWUudG9VcHBlckNhc2UoKTtmPWYudG9VcHBlckNhc2UoKTtpZihlPT09IiJ8fHE9PT1mfHwocT09PWU/cCE9PWY6IXEmJiFwKSl7dmFyIHI9ISEoZyYmZz4wJiZuLnVwZGF0ZT09PXZvaWQgMCksdT17cmVnaW9uOnEsZGVjbGFyZV9yZWdpb246bi5kZWNsYXJlX3JlZ2lvbixpbXBsaWNpdDpuLmltcGxpY2l0LGRlZmF1bHQ6YyE9PXZvaWQgMD9jOm4uZGVmYXVsdCxkZWNsYXJlOm4uZGVjbGFyZSx1cGRhdGU6bi51cGRhdGUscXVpZXQ6cn07aWYoZSE9PSIifHxuLmRlZmF1bHQhPT0hMSlsW2JdPXU7ciYmdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bFtiXT09PXUmJnUucXVpZXQmJihrYigiVEFHR0lORyIsMiksYS53YWl0UGVyaW9kVGltZWRPdXQ9ITAsYS5jbGVhclRpbWVvdXQoYix2b2lkIDAsaCksCmEubm90aWZ5TGlzdGVuZXJzKCkpfSxnKX19O2s9SWwucHJvdG90eXBlO2suY2xlYXJUaW1lb3V0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bYV0sZT1jLmRlbGVnYXRlZENvbnNlbnRUeXBlcyxmO2ZvcihmIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShmKSYmZVtmXT09PWEmJmQucHVzaChmKTt2YXIgZz10aGlzLmVudHJpZXNbYV18fHt9LGg9dGhpcy5nZXRDb25zZW50U3RhdGUoYSxjKTtpZihnLnF1aWV0KXtnLnF1aWV0PSExO2Zvcih2YXIgbD1tKGQpLG49bC5uZXh0KCk7IW4uZG9uZTtuPWwubmV4dCgpKUtsKHRoaXMsbi52YWx1ZSl9ZWxzZSBpZihiIT09dm9pZCAwJiZoIT09Yilmb3IodmFyIHA9bShkKSxxPXAubmV4dCgpOyFxLmRvbmU7cT1wLm5leHQoKSlLbCh0aGlzLHEudmFsdWUpfTsKay51cGRhdGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMudXNlZERlZmF1bHR8fHRoaXMudXNlZERlY2xhcmV8fHRoaXMudXNlZFVwZGF0ZXx8IXRoaXMuYWNjZXNzZWRBbnl8fCh0aGlzLndhc1NldExhdGU9ITApO3RoaXMudXNlZFVwZGF0ZT10aGlzLmFjdGl2ZT0hMDtpZihiIT1udWxsKXt2YXIgZD10aGlzLmdldENvbnNlbnRTdGF0ZShhLGMpLGU9dGhpcy5lbnRyaWVzOyhlW2FdPWVbYV18fHt9KS51cGRhdGU9Yj09PSJncmFudGVkIjt0aGlzLmNsZWFyVGltZW91dChhLGQsYyl9fTsKay5kZWNsYXJlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy51c2VkRGVjbGFyZT10aGlzLmFjdGl2ZT0hMDt2YXIgZj10aGlzLmVudHJpZXMsZz1mW2FdfHx7fSxoPWcuZGVjbGFyZV9yZWdpb24sbD1jJiZzYihjKT9jLnRvVXBwZXJDYXNlKCk6dm9pZCAwO2Q9ZC50b1VwcGVyQ2FzZSgpO2U9ZS50b1VwcGVyQ2FzZSgpO2lmKGQ9PT0iInx8bD09PWV8fChsPT09ZD9oIT09ZTohbCYmIWgpKXt2YXIgbj17cmVnaW9uOmcucmVnaW9uLGRlY2xhcmVfcmVnaW9uOmwsZGVjbGFyZTpiPT09ImdyYW50ZWQiLGltcGxpY2l0OmcuaW1wbGljaXQsZGVmYXVsdDpnLmRlZmF1bHQsdXBkYXRlOmcudXBkYXRlLHF1aWV0OmcucXVpZXR9O2lmKGQhPT0iInx8Zy5kZWNsYXJlIT09ITEpZlthXT1ufX07CmsuaW1wbGljaXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnVzZWRJbXBsaWNpdD0hMDt2YXIgYz10aGlzLmVudHJpZXMsZD1jW2FdPWNbYV18fHt9O2QuaW1wbGljaXQhPT0hMSYmKGQuaW1wbGljaXQ9Yj09PSJncmFudGVkIil9OwprLmdldENvbnNlbnRTdGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZW50cmllcyxkPWNbYV18fHt9LGU9ZC51cGRhdGU7aWYoZSE9PXZvaWQgMClyZXR1cm4gZT8xOjI7aWYoYi51c2VkQ29udGFpbmVyU2NvcGVkRGVmYXVsdHMpe3ZhciBmPWIuY29udGFpbmVyU2NvcGVkRGVmYXVsdHNbYV07aWYoZj09PTMpcmV0dXJuIDE7aWYoZj09PTIpcmV0dXJuIDJ9ZWxzZSBpZihlPWQuZGVmYXVsdCxlIT09dm9pZCAwKXJldHVybiBlPzE6MjtpZihiPT1udWxsPzA6Yi5kZWxlZ2F0ZWRDb25zZW50VHlwZXMuaGFzT3duUHJvcGVydHkoYSkpe3ZhciBnPWIuZGVsZWdhdGVkQ29uc2VudFR5cGVzW2FdLGg9Y1tnXXx8e307ZT1oLnVwZGF0ZTtpZihlIT09dm9pZCAwKXJldHVybiBlPzE6MjtpZihiLnVzZWRDb250YWluZXJTY29wZWREZWZhdWx0cyl7dmFyIGw9Yi5jb250YWluZXJTY29wZWREZWZhdWx0c1tnXTtpZihsPT09MylyZXR1cm4gMTtpZihsPT09MilyZXR1cm4gMn1lbHNlIGlmKGU9CmguZGVmYXVsdCxlIT09dm9pZCAwKXJldHVybiBlPzE6Mn1lPWQuZGVjbGFyZTtpZihlIT09dm9pZCAwKXJldHVybiBlPzE6MjtlPWQuaW1wbGljaXQ7cmV0dXJuIGUhPT12b2lkIDA/ZT8zOjQ6MH07ay5hZGRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuQy5wdXNoKHtjb25zZW50VHlwZXM6YSxLZDpifSl9O3ZhciBLbD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8YS5DLmxlbmd0aDsrK2Mpe3ZhciBkPWEuQ1tjXTtBcnJheS5pc0FycmF5KGQuY29uc2VudFR5cGVzKSYmZC5jb25zZW50VHlwZXMuaW5kZXhPZihiKSE9PS0xJiYoZC54bj0hMCl9fTtJbC5wcm90b3R5cGUubm90aWZ5TGlzdGVuZXJzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLkMubGVuZ3RoOysrYyl7dmFyIGQ9dGhpcy5DW2NdO2lmKGQueG4pe2QueG49ITE7dHJ5e2QuS2Qoe2NvbnNlbnRFdmVudElkOmEsY29uc2VudFByaW9yaXR5SWQ6Yn0pfWNhdGNoKGUpe319fX07dmFyIExsPSExLE1sPSExLE5sPXt9LE9sPXtkZWxlZ2F0ZWRDb25zZW50VHlwZXM6e30sY29yZVBsYXRmb3JtU2VydmljZXM6e30sdXNlZENvcmVQbGF0Zm9ybVNlcnZpY2VzOiExLHNlbGVjdGVkQWxsQ29yZVBsYXRmb3JtU2VydmljZXM6ITEsY29udGFpbmVyU2NvcGVkRGVmYXVsdHM6KE5sLmFkX3N0b3JhZ2U9MSxObC5hbmFseXRpY3Nfc3RvcmFnZT0xLE5sLmFkX3VzZXJfZGF0YT0xLE5sLmFkX3BlcnNvbmFsaXphdGlvbj0xLE5sKSx1c2VkQ29udGFpbmVyU2NvcGVkRGVmYXVsdHM6ITF9O2Z1bmN0aW9uIFBsKGEpe3ZhciBiPUhsKCk7Yi5hY2Nlc3NlZEFueT0hMDtyZXR1cm4oc2IoYSk/W2FdOmEpLmV2ZXJ5KGZ1bmN0aW9uKGMpe3N3aXRjaChiLmdldENvbnNlbnRTdGF0ZShjLE9sKSl7Y2FzZSAxOmNhc2UgMzpyZXR1cm4hMDtjYXNlIDI6Y2FzZSA0OnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITB9fSl9CmZ1bmN0aW9uIFFsKGEpe3ZhciBiPUhsKCk7Yi5hY2Nlc3NlZEFueT0hMDtyZXR1cm4gYi5nZXRDb25zZW50U3RhdGUoYSxPbCl9ZnVuY3Rpb24gUmwoYSl7dmFyIGI9SGwoKTtiLmFjY2Vzc2VkQW55PSEwO3JldHVybiEoYi5lbnRyaWVzW2FdfHx7fSkucXVpZXR9ZnVuY3Rpb24gU2woKXtpZighV2EoNikpcmV0dXJuITE7dmFyIGE9SGwoKTthLmFjY2Vzc2VkQW55PSEwO2lmKGEuYWN0aXZlKXJldHVybiEwO2lmKCFPbC51c2VkQ29udGFpbmVyU2NvcGVkRGVmYXVsdHMpcmV0dXJuITE7Zm9yKHZhciBiPW0oT2JqZWN0LmtleXMoT2wuY29udGFpbmVyU2NvcGVkRGVmYXVsdHMpKSxjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSlpZihPbC5jb250YWluZXJTY29wZWREZWZhdWx0c1tjLnZhbHVlXSE9PTEpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVGwoYSxiKXtIbCgpLmFkZExpc3RlbmVyKGEsYil9CmZ1bmN0aW9uIFVsKGEsYil7SGwoKS5ub3RpZnlMaXN0ZW5lcnMoYSxiKX1mdW5jdGlvbiBWbChhLGIpe2Z1bmN0aW9uIGMoKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKylpZighUmwoYltlXSkpcmV0dXJuITA7cmV0dXJuITF9aWYoYygpKXt2YXIgZD0hMTtUbChiLGZ1bmN0aW9uKGUpe2R8fGMoKXx8KGQ9ITAsYShlKSl9KX1lbHNlIGEoe30pfQpmdW5jdGlvbiBXbChhLGIpe2Z1bmN0aW9uIGMoKXtmb3IodmFyIGg9W10sbD0wO2w8ZS5sZW5ndGg7bCsrKXt2YXIgbj1lW2xdO1BsKG4pJiYhZltuXSYmaC5wdXNoKG4pfXJldHVybiBofWZ1bmN0aW9uIGQoaCl7Zm9yKHZhciBsPTA7bDxoLmxlbmd0aDtsKyspZltoW2xdXT0hMH12YXIgZT1zYihiKT9bYl06YixmPXt9LGc9YygpO2cubGVuZ3RoIT09ZS5sZW5ndGgmJihkKGcpLFRsKGUsZnVuY3Rpb24oaCl7ZnVuY3Rpb24gbChxKXtxLmxlbmd0aCE9PTAmJihkKHEpLGguY29uc2VudFR5cGVzPXEsYShoKSl9dmFyIG49YygpO2lmKG4ubGVuZ3RoIT09MCl7dmFyIHA9T2JqZWN0LmtleXMoZikubGVuZ3RoO24ubGVuZ3RoK3A+PWUubGVuZ3RoP2wobik6dy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bChjKCkpfSw1MDApfX0pKX07dmFyIFhsPXt9LFlsPShYbFtHbC5hYS5TY109RmwuTWEuQ2UsWGxbR2wuYWEuU2FdPUZsLk1hLkNlLFhsW0dsLmFhLmRkXT1GbC5NYS5DZSxYbFtHbC5hYS5RY109RmwuTWEuQ2UsWGwpLFpsPWZ1bmN0aW9uKGEsYil7dGhpcy5DPWE7dGhpcy5jb25zZW50VHlwZXM9Yn07WmwucHJvdG90eXBlLmlzQ29uc2VudEdyYW50ZWQ9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5DKXtjYXNlIDA6cmV0dXJuIHRoaXMuY29uc2VudFR5cGVzLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBQbChhKX0pO2Nhc2UgMTpyZXR1cm4gdGhpcy5jb25zZW50VHlwZXMuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gUGwoYSl9KTtkZWZhdWx0OnRjKHRoaXMuQywiY29uc2VudHNSZXF1aXJlZCBoYWQgYW4gdW5rbm93biB0eXBlIil9fTsKdmFyICRsPXt9LGFtPSgkbFtHbC5hYS5TY109bmV3IFpsKDAsW10pLCRsW0dsLmFhLlNhXT1uZXcgWmwoMCxbImFkX3N0b3JhZ2UiXSksJGxbR2wuYWEuZGRdPW5ldyBabCgwLFsiYW5hbHl0aWNzX3N0b3JhZ2UiXSksJGxbR2wuYWEuUWNdPW5ldyBabCgxLFsiYWRfc3RvcmFnZSIsImFuYWx5dGljc19zdG9yYWdlIl0pLCRsKTt2YXIgY209ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLnR5cGU9YTt0aGlzLkM9W107VGwoYW1bYV0uY29uc2VudFR5cGVzLGZ1bmN0aW9uKCl7Ym0oYil8fGIuZmx1c2goKX0pfTtjbS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bSh0aGlzLkMpLGI9YS5uZXh0KCk7IWIuZG9uZTtiPWEubmV4dCgpKXt2YXIgYz1iLnZhbHVlO2MoKX10aGlzLkM9W119O3ZhciBibT1mdW5jdGlvbihhKXtyZXR1cm4gWWxbYS50eXBlXT09PUZsLk1hLktpJiYhYW1bYS50eXBlXS5pc0NvbnNlbnRHcmFudGVkKCl9LGRtPWZ1bmN0aW9uKGEsYil7Ym0oYSk/YS5DLnB1c2goYik6YigpfSxlbT1uZXcgTWFwO2Z1bmN0aW9uIGZtKGEpe2VtLmhhcyhhKXx8ZW0uc2V0KGEsbmV3IGNtKGEpKTtyZXR1cm4gZW0uZ2V0KGEpfTt2YXIgZ209e1o6e1JuOiJhd191c2VyX2RhdGFfY2FjaGUiLFpoOiJjb29raWVfZGVwcmVjYXRpb25fbGFiZWwiLE5nOiJkaWFnbm9zdGljc19wYWdlX2lkIixHczoiZW1fcmVnaXN0cnkiLHhpOiJlYWIiLHVwOiJmbF91c2VyX2RhdGFfY2FjaGUiLEJwOiJnYTRfdXNlcl9kYXRhX2NhY2hlIixEZToiaXBfZ2VvX2RhdGFfY2FjaGUiLERpOiJpcF9nZW9fZmV0Y2hfaW5fcHJvZ3Jlc3MiLHJtOiJuYl9kYXRhIixNaToicGFnZV9leHBlcmltZW50X2lkcyIsdG06InBsZCIsSGU6InB0X2RhdGEiLHZtOiJwdF9saXN0ZW5lcl9zZXQiLEFtOiJzZXJ2aWNlX3dvcmtlcl9lbmRwb2ludCIsRG06InNoYXJlZF91c2VyX2lkIixFbToic2hhcmVkX3VzZXJfaWRfcmVxdWVzdGVkIixEaDoic2hhcmVkX3VzZXJfaWRfc291cmNlIn19O3ZhciBobT1mdW5jdGlvbihhKXtyZXR1cm4gamYoZnVuY3Rpb24oYil7Zm9yKHZhciBjIGluIGEpaWYoYj09PWFbY10mJiEvXlswLTldKyQvLnRlc3QoYykpcmV0dXJuITA7cmV0dXJuITF9KX0oZ20uWik7CmZ1bmN0aW9uIGltKGEsYil7Yj1iPT09dm9pZCAwPyExOmI7aWYoaG0oYSkpe3ZhciBjLGQsZT0oZD0oYz1GYygiZ29vZ2xlX3RhZ19kYXRhIix7fSkpLnhjZCkhPW51bGw/ZDpjLnhjZD17fTtpZihlW2FdKXJldHVybiBlW2FdO2lmKGIpe3ZhciBmPXZvaWQgMCxnPTEsaD17fSxsPXtzZXQ6ZnVuY3Rpb24obil7Zj1uO2wubm90aWZ5KCl9LGdldDpmdW5jdGlvbigpe3JldHVybiBmfSxzdWJzY3JpYmU6ZnVuY3Rpb24obil7aFtTdHJpbmcoZyldPW47cmV0dXJuIGcrK30sdW5zdWJzY3JpYmU6ZnVuY3Rpb24obil7dmFyIHA9U3RyaW5nKG4pO3JldHVybiBoLmhhc093blByb3BlcnR5KHApPyhkZWxldGUgaFtwXSwhMCk6ITF9LG5vdGlmeTpmdW5jdGlvbigpe2Zvcih2YXIgbj1tKE9iamVjdC5rZXlzKGgpKSxwPW4ubmV4dCgpOyFwLmRvbmU7cD1uLm5leHQoKSl7dmFyIHE9cC52YWx1ZTt0cnl7aFtxXShhLGYpfWNhdGNoKHIpe319fX07cmV0dXJuIGVbYV09bH19fQpmdW5jdGlvbiBqbShhLGIpe3ZhciBjPWltKGEsITApO2MmJmMuc2V0KGIpfWZ1bmN0aW9uIGttKGEpe3ZhciBiO3JldHVybihiPWltKGEpKT09bnVsbD92b2lkIDA6Yi5nZXQoKX1mdW5jdGlvbiBsbShhLGIpe3ZhciBjPWltKGEpO2lmKCFjKXtjPWltKGEsITApO2lmKCFjKXJldHVybjtjLnNldChiKX1yZXR1cm4gYy5nZXQoKX1mdW5jdGlvbiBtbShhLGIpe2lmKHR5cGVvZiBiPT09ImZ1bmN0aW9uIil7dmFyIGM7cmV0dXJuKGM9aW0oYSwhMCkpPT1udWxsP3ZvaWQgMDpjLnN1YnNjcmliZShiKX19ZnVuY3Rpb24gbm0oYSxiKXt2YXIgYz1pbShhKTtyZXR1cm4gYz9jLnVuc3Vic2NyaWJlKGIpOiExfTt2YXIgb209WyJmaW4iLCJtY2MiXSxwbT0hMTtmdW5jdGlvbiBxbShhKXthPWE9PT12b2lkIDA/ITE6YTt2YXIgYj1qaygpLmZpbHRlcihmdW5jdGlvbihjKXtyZXR1cm4ga2tbY10hPT12b2lkIDAmJihhfHwhb20uaW5jbHVkZXMoYykpfSk7bmsoYik7cmV0dXJuIGIubWFwKGZ1bmN0aW9uKGMpe3ZhciBkPWtrW2NdO3R5cGVvZiBkPT09ImZ1bmN0aW9uIiYmKGQ9ZCgpKTtyZXR1cm4gZD8iJiIrYysiPSIrZDoiIn0pLmpvaW4oIiIpKyImej0wIn1mdW5jdGlvbiBybShhKXt2YXIgYj0iaHR0cHM6Ly8iK0QoMjEpLGM9Ii90ZD9pZD0iK0QoNSk7cmV0dXJuIiIrQWooYikrYythfQpmdW5jdGlvbiBzbShhKXthPWE9PT12b2lkIDA/ITE6YTtpZihSaS5IJiZOayYmRCg1KSl7dmFyIGI9Zm0oR2wuYWEuUWMpO2lmKGJtKGIpKXBtfHwocG09ITAsZG0oYixzbSkpO2Vsc2V7YSYmbGsoImZpbiIsIjEiKTt2YXIgYz1xbShhKSxkPXJtKGMpLGU9e2Rlc3RpbmF0aW9uSWQ6RCg1KSxlbmRwb2ludDo2MX07YT9CbChlLGQsdm9pZCAwLHtSZTohMH0sdm9pZCAwLGZ1bmN0aW9uKCl7QWwoZSxkKyImaW1nPTEiKX0pOkFsKGUsZCk7cG09ITE7dG0oYyl9fX1mdW5jdGlvbiB0bShhKXtpZihQKDQyNikmJiEoYS5pbmRleE9mKCImY3NwPSIpPDAmJmEuaW5kZXhPZigiJm1kZT0iKTwwKSl7dmFyIGI7YTp7dHJ5e2lmKEVjKXtiPW5ldyBVUkwoRWMpO2JyZWFrIGF9fWNhdGNoKGMpe31iPXZvaWQgMH1iJiZOYygiIitFYysoRWMuaW5kZXhPZigiPyIpPj0wPyImIjoiPyIpKyJpc190ZD0xIithKX19CmZ1bmN0aW9uIHVtKCl7amsoKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiFoa1thXX0pJiZzbSghMCl9dmFyIHZtO2Z1bmN0aW9uIHdtKCl7aWYoa20oZ20uWi5OZyk9PT12b2lkIDApe3ZhciBhPWZ1bmN0aW9uKCl7am0oZ20uWi5OZyx3YigpKTt2bT0wfTthKCk7dy5zZXRJbnRlcnZhbChhLDg2NEU1KX1lbHNlIG1tKGdtLlouTmcsZnVuY3Rpb24oKXt2bT0wfSk7dm09MH1mdW5jdGlvbiB4bSgpe3dtKCk7bGsoInYiLCIzIik7bGsoInQiLCJ0Iik7bGsoInBpZCIsZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nKGttKGdtLlouTmcpKX0pO2xrKCJzZXEiLGZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZygrK3ZtKX0pO2xrKCJleHAiLG9rKCkpO1NjKHcsInBhZ2VoaWRlIix1bSl9O3ZhciB5bT1bImFkX3N0b3JhZ2UiLCJhbmFseXRpY3Nfc3RvcmFnZSIsImFkX3VzZXJfZGF0YSIsImFkX3BlcnNvbmFsaXphdGlvbiJdLHptPVtLLm0udmQsSy5tLk9jLEsubS5BZixLLm0uVmIsSy5tLlliLEsubS5PYSxLLm0uY2IsSy5tLlhhLEsubS53YixLLm0uV2JdLEFtPSExLEJtPSExLENtPXt9LERtPXt9O2Z1bmN0aW9uIEVtKCl7IUJtJiZBbSYmKHltLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIE9sLmNvbnRhaW5lclNjb3BlZERlZmF1bHRzW2FdIT09MX0pfHxGbSgibWJjIikpO0JtPSEwfWZ1bmN0aW9uIEZtKGEpe05rJiYobGsoYSwiMSIpLHNtKCkpfWZ1bmN0aW9uIEdtKGEsYil7aWYoIUNtW2JdJiYoQ21bYl09ITAsRG1bYl0pKWZvcih2YXIgYz1tKHptKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlpZihMKGEsZC52YWx1ZSkpe0ZtKCJlcmMiKTticmVha319O2Z1bmN0aW9uIEhtKGEpe2tiKCJIRUFMVEgiLGEpfTt2YXIgSW09e30sSm09ITE7ZnVuY3Rpb24gS20oKXtmdW5jdGlvbiBhKCl7YyE9PXZvaWQgMCYmbm0oZ20uWi5EZSxjKTt0cnl7dmFyIGU9a20oZ20uWi5EZSk7SW09SlNPTi5wYXJzZShlKX1jYXRjaChmKXtNKDEyMyksSG0oMiksSW09e319Sm09ITA7YigpfXZhciBiPUxtLGM9dm9pZCAwLGQ9a20oZ20uWi5EZSk7ZD9hKGQpOihjPW1tKGdtLlouRGUsYSksTW0oKSl9CmZ1bmN0aW9uIE1tKCl7ZnVuY3Rpb24gYShiKXtqbShnbS5aLkRlLGJ8fCJ7fSIpO2ptKGdtLlouRGksITEpfWlmKCFrbShnbS5aLkRpKSl7am0oZ20uWi5EaSwhMCk7dHJ5e3cuZmV0Y2goImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vY2NtL2dlbyIse21ldGhvZDoiR0VUIixjYWNoZToibm8tc3RvcmUiLG1vZGU6ImNvcnMiLGNyZWRlbnRpYWxzOiJvbWl0In0pLnRoZW4oZnVuY3Rpb24oYil7Yi5vaz9iLnRleHQoKS50aGVuKGZ1bmN0aW9uKGMpe2EoYyl9LGZ1bmN0aW9uKCl7YSgpfSk6YSgpfSxmdW5jdGlvbigpe2EoKX0pfWNhdGNoKGIpe2EoKX19fWZ1bmN0aW9uIE5tKCl7dmFyIGE9RCgyMik7dHJ5e3JldHVybiBKU09OLnBhcnNlKGliKGEpKX1jYXRjaChiKXtyZXR1cm4gTSgxMjMpLEhtKDIpLHt9fX1mdW5jdGlvbiBPbSgpe3JldHVybiBJbVsiMCJdfHwiIn1mdW5jdGlvbiBQbSgpe3JldHVybiBJbVsiMSJdfHwiIn0KZnVuY3Rpb24gUW0oKXt2YXIgYT0hMTthPSEhSW1bIjIiXTtyZXR1cm4gYX1mdW5jdGlvbiBSbSgpe3JldHVybiBJbVsiNiJdIT09ITF9ZnVuY3Rpb24gU20oKXt2YXIgYT0iIjthPUltWyI0Il18fCIiO3JldHVybiBhfWZ1bmN0aW9uIFRtKCl7dmFyIGE9IiI7YT1JbVsiMyJdfHwiIjtyZXR1cm4gYX07dmFyIFVtPXt9LFZtPU9iamVjdC5mcmVlemUoKFVtW0subS5UYl09MSxVbVtLLm0uT2ddPTEsVW1bSy5tLmRpXT0xLFVtW0subS5VYl09MSxVbVtLLm0uQmFdPTEsVW1bSy5tLndiXT0xLFVtW0subS54Yl09MSxVbVtLLm0uRmJdPTEsVW1bSy5tLmxkXT0xLFVtW0subS5XYl09MSxVbVtLLm0uWGFdPTEsVW1bSy5tLkFjXT0xLFVtW0subS5zZV09MSxVbVtLLm0uR2FdPTEsVW1bSy5tLk9vXT0xLFVtW0subS56Zl09MSxVbVtLLm0ubGldPTEsVW1bSy5tLllnXT0xLFVtW0subS5vZF09MSxVbVtLLm0uQWZdPTEsVW1bSy5tLllvXT0xLFVtW0subS5HY109MSxVbVtLLm0uRWZdPTEsVW1bSy5tLmFwXT0xLFVtW0subS5maF09MSxVbVtLLm0uWmtdPTEsVW1bSy5tLkhjXT0xLFVtW0subS5JY109MSxVbVtLLm0uY2JdPTEsVW1bSy5tLm9sXT0xLFVtW0subS5YYl09MSxVbVtLLm0uc2RdPTEsVW1bSy5tLnVkXT0xLFVtW0subS52ZF09MSxVbVtLLm0uamhdPTEsVW1bSy5tLnNpXT0xLFVtW0subS53ZF09CjEsVW1bSy5tLk9jXT0xLFVtW0subS54ZF09MSxVbVtLLm0ueWxdPTEsVW1bSy5tLnlkXT0xLFVtW0subS5QY109MSxVbVtLLm0uUmldPTEsVW0pKTtPYmplY3QuZnJlZXplKFtLLm0ueGEsSy5tLllhLEsubS5HYixLLm0ubGIsSy5tLnJpLEsubS5PYSxLLm0ubWksSy5tLkxvXSk7CnZhciBXbT17fSxYbT1PYmplY3QuZnJlZXplKChXbVtLLm0ub29dPTEsV21bSy5tLnBvXT0xLFdtW0subS5xb109MSxXbVtLLm0ucm9dPTEsV21bSy5tLnNvXT0xLFdtW0subS54b109MSxXbVtLLm0ueW9dPTEsV21bSy5tLnpvXT0xLFdtW0subS5Cb109MSxXbVtLLm0uamVdPTEsV20pKSxZbT17fSxabT1PYmplY3QuZnJlZXplKChZbVtLLm0uQmtdPTEsWW1bSy5tLkNrXT0xLFltW0subS5lZV09MSxZbVtLLm0uZmVdPTEsWW1bSy5tLkRrXT0xLFltW0subS5mZF09MSxZbVtLLm0uaGVdPTEsWW1bSy5tLnFjXT0xLFltW0subS56Y109MSxZbVtLLm0ucmNdPTEsWW1bSy5tLkNiXT0xLFltW0subS5pZV09MSxZbVtLLm0uc2NdPTEsWW1bSy5tLkVrXT0xLFltKSksJG09T2JqZWN0LmZyZWV6ZShbSy5tLlRiLEsubS5qZixLLm0uVWIsSy5tLkFjLEsubS5BZixLLm0uR2YsSy5tLnNkLEsubS54ZF0pLGFuPU9iamVjdC5mcmVlemUoW10uY29uY2F0KHphKCRtKSkpLGJuPU9iamVjdC5mcmVlemUoW0subS54YiwKSy5tLllnLEsubS5qaCxLLm0uc2ksSy5tLldnXSksY249T2JqZWN0LmZyZWV6ZShbXS5jb25jYXQoemEoYm4pKSksZG49e30sZW49KGRuW0subS5XXT0iMSIsZG5bSy5tLmphXT0iMiIsZG5bSy5tLlhdPSIzIixkbltLLm0uTmFdPSI0IixkbiksZm49e30sZ249T2JqZWN0LmZyZWV6ZSgoZm4uc2VhcmNoPSJzIixmbi55b3V0dWJlPSJ5Iixmbi5wbGF5c3RvcmU9InAiLGZuLnNob3BwaW5nPSJoIixmbi5hZHM9ImEiLGZuLm1hcHM9Im0iLGZuKSk7ZnVuY3Rpb24gaG4oYSl7cmV0dXJuIHR5cGVvZiBhIT09Im9iamVjdCJ8fGE9PT1udWxsP3t9OmF9ZnVuY3Rpb24gam4oYSl7cmV0dXJuIGE9PT12b2lkIDB8fGE9PT1udWxsPyIiOnR5cGVvZiBhPT09Im9iamVjdCI/YS50b1N0cmluZygpOlN0cmluZyhhKX1mdW5jdGlvbiBrbihhKXtpZihhIT09dm9pZCAwJiZhIT09bnVsbClyZXR1cm4gam4oYSl9ZnVuY3Rpb24gbG4oYSl7cmV0dXJuIHR5cGVvZiBhPT09Im51bWJlciI/YTprbihhKX07ZnVuY3Rpb24gbW4oYSl7cmV0dXJuIGEmJmEuaW5kZXhPZigicGVuZGluZzoiKT09PTA/bm4oYS5zdWJzdHIoOCkpOiExfWZ1bmN0aW9uIG5uKGEpe2lmKGE9PW51bGx8fGEubGVuZ3RoPT09MClyZXR1cm4hMTt2YXIgYj1OdW1iZXIoYSksYz1HYigpO3JldHVybiBiPGMrM0U1JiZiPmMtOUU1fTt2YXIgb249ITEscG49ITEscW49ITEscm49MCxzbj0hMSx0bj1bXTtmdW5jdGlvbiB1bihhKXtpZihybj09PTApc24mJnRuJiYodG4ubGVuZ3RoPj0xMDAmJnRuLnNoaWZ0KCksdG4ucHVzaChhKSk7ZWxzZSBpZih2bigpKXt2YXIgYj1EKDQxKSxjPUZjKGIsW10pO2MubGVuZ3RoPj01MCYmYy5zaGlmdCgpO2MucHVzaChhKX19ZnVuY3Rpb24gd24oKXt4bigpO1RjKHosIlRBUHJvZERlYnVnU2lnbmFsIix3bil9ZnVuY3Rpb24geG4oKXtpZighcG4pe3BuPSEwO3luKCk7dmFyIGE9dG47dG49dm9pZCAwO2E9PW51bGx8fGEuZm9yRWFjaChmdW5jdGlvbihiKXt1bihiKX0pfX0KZnVuY3Rpb24geW4oKXt2YXIgYT16LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtdGFnLWFzc2lzdGFudC1wcm9kLXByZXNlbnQiKTtubihhKT9ybj0xOiFtbihhKXx8b258fHFuP3JuPTI6KHFuPSEwLFNjKHosIlRBUHJvZERlYnVnU2lnbmFsIix3biwhMSksdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eG4oKTtvbj0hMH0sMjAwKSl9ZnVuY3Rpb24gdm4oKXtpZighc24pcmV0dXJuITE7c3dpdGNoKHJuKXtjYXNlIDE6Y2FzZSAwOnJldHVybiEwO2Nhc2UgMjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiExfX07dmFyIHpuPSExO2Z1bmN0aW9uIEFuKGEsYil7dmFyIGM9UWooKSxkPU5qKCk7RCgyNik7dmFyIGU9a2coNDcpPzA6a2coNTApPzE6MyxmPXZqKCk7aWYodm4oKSl7dmFyIGc9Qm4oIklOSVQiKTtnLmNvbnRhaW5lckxvYWRTb3VyY2U9YSE9bnVsbD9hOjA7YiYmKGcucGFyZW50VGFyZ2V0UmVmZXJlbmNlPWIpO2cuYWxpYXNlcz1jO2cuZGVzdGluYXRpb25zPWQ7ZSE9PXZvaWQgMCYmKGcuZ3RnPXtzb3VyY2U6ZSxtUGF0aDpmIT1udWxsP2Y6IiJ9KTt1bihnKX19CmZ1bmN0aW9uIENuKGEpe3ZhciBiLGMsZCxlO2I9YS50YXJnZXRJZDtjPWEucmVxdWVzdDtkPWEuaGI7ZT1hLmlzQmF0Y2hlZDt2YXIgZjtpZihmPXZuKCkpe3ZhciBnO2E6c3dpdGNoKGMuZW5kcG9pbnQpe2Nhc2UgMTk6Y2FzZSA0NzpnPSEwO2JyZWFrIGE7ZGVmYXVsdDpnPSExfWY9IWd9aWYoZil7dmFyIGg9Qm4oIkdUQUdfSElUIix7ZXZlbnRJZDpkLmV2ZW50SWQscHJpb3JpdHlJZDpkLnByaW9yaXR5SWR9KTtoLnRhcmdldD1iO2gudXJsPWMudXJsO2MucG9zdEJvZHkmJihoLnBvc3RCb2R5PWMucG9zdEJvZHkpO2gucGFyYW1ldGVyRW5jb2Rpbmc9Yy5wYXJhbWV0ZXJFbmNvZGluZztoLmVuZHBvaW50PWMuZW5kcG9pbnQ7ZSE9PXZvaWQgMCYmKGguaXNCYXRjaGVkPWUpO3VuKGgpfX1mdW5jdGlvbiBEbihhKXt2bigpJiZDbihhKCkpfQpmdW5jdGlvbiBCbihhLGIpe2I9Yj09PXZvaWQgMD97fTpiO2IuZ3JvdXBJZD1Fbjt2YXIgYyxkPWIsZT1GbixmPXtwdWJsaWNJZDpHbn07ZC5ldmVudElkIT1udWxsJiYoZi5ldmVudElkPWQuZXZlbnRJZCk7ZC5wcmlvcml0eUlkIT1udWxsJiYoZi5wcmlvcml0eUlkPWQucHJpb3JpdHlJZCk7ZC5ldmVudE5hbWUmJihmLmV2ZW50TmFtZT1kLmV2ZW50TmFtZSk7ZC5ncm91cElkJiYoZi5ncm91cElkPWQuZ3JvdXBJZCk7ZC50YWdOYW1lJiYoZi50YWdOYW1lPWQudGFnTmFtZSk7Yz17Y29udGFpbmVyUHJvZHVjdDoiR1RNIixrZXk6Zix2ZXJzaW9uOmUsbWVzc2FnZVR5cGU6YX07Yy5jb250YWluZXJQcm9kdWN0PXpuPyJPR1QiOiJHVE0iO2Mua2V5LnRhcmdldFJlZj1IbjtyZXR1cm4gY312YXIgR249IiIsRm49IiIsSG49e2N0aWQ6IiIsaXNEZXN0aW5hdGlvbjohMX0sRW47CmZ1bmN0aW9uIEluKGEpe3ZhciBiPUQoNSksYz1NaigpLGQ9RCg2KSxlPUQoMSk7RCgyMyk7cm49MDtzbj0hMDt5bigpO0VuPWE7R249YjtGbj1lO3puPVppO0huPXtjdGlkOmIsaXNEZXN0aW5hdGlvbjpjLGNhbm9uaWNhbElkOmR9fTt2YXIgSm49W0subS5XLEsubS5qYSxLLm0uWCxLLm0uTmFdLEtuLExuO2Z1bmN0aW9uIE1uKGEpe3ZhciBiPWFbSy5tLm9jXTtifHwoYj1bIiJdKTtmb3IodmFyIGM9e3FnOjB9O2MucWc8Yi5sZW5ndGg7Yz17cWc6Yy5xZ30sKytjLnFnKXpiKGEsZnVuY3Rpb24oZCl7cmV0dXJuIGZ1bmN0aW9uKGUsZil7aWYoZSE9PUsubS5vYyl7dmFyIGc9am4oZiksaD1iW2QucWddLGw9T20oKSxuPVBtKCk7TWw9ITA7TGwmJmtiKCJUQUdHSU5HIiwyMCk7SGwoKS5kZWNsYXJlKGUsZyxoLGwsbil9fX0oYykpfQpmdW5jdGlvbiBObihhKXtFbSgpOyFMbiYmS24mJkZtKCJjcmMiKTtMbj0hMDt2YXIgYj1hW0subS5JZ107YiYmTSg0MSk7dmFyIGM9YVtLLm0ub2NdO2M/TSg0MCk6Yz1bIiJdO2Zvcih2YXIgZD17cmc6MH07ZC5yZzxjLmxlbmd0aDtkPXtyZzpkLnJnfSwrK2QucmcpemIoYSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZixnKXtpZihmIT09Sy5tLm9jJiZmIT09Sy5tLklnKXt2YXIgaD1rbihnKSxsPWNbZS5yZ10sbj1OdW1iZXIoYikscD1PbSgpLHE9UG0oKTtuPW49PT12b2lkIDA/MDpuO0xsPSEwO01sJiZrYigiVEFHR0lORyIsMjApO0hsKCkuZGVmYXVsdChmLGgsbCxwLHEsbixPbCl9fX0oZCkpfQpmdW5jdGlvbiBPbihhKXtPbC51c2VkQ29udGFpbmVyU2NvcGVkRGVmYXVsdHM9ITA7dmFyIGI9YVtLLm0ub2NdO2lmKGIpe3ZhciBjPUFycmF5LmlzQXJyYXkoYik/YjpbYl07aWYoIWMuaW5jbHVkZXMoUG0oKSkmJiFjLmluY2x1ZGVzKE9tKCkpKXJldHVybn16YihhLGZ1bmN0aW9uKGQsZSl7c3dpdGNoKGQpe2Nhc2UgImFkX3N0b3JhZ2UiOmNhc2UgImFuYWx5dGljc19zdG9yYWdlIjpjYXNlICJhZF91c2VyX2RhdGEiOmNhc2UgImFkX3BlcnNvbmFsaXphdGlvbiI6YnJlYWs7ZGVmYXVsdDpyZXR1cm59T2wudXNlZENvbnRhaW5lclNjb3BlZERlZmF1bHRzPSEwO09sLmNvbnRhaW5lclNjb3BlZERlZmF1bHRzW2RdPWU9PT0iZ3JhbnRlZCI/MzoyfSl9CmZ1bmN0aW9uIFBuKGEsYil7RW0oKTtLbj0hMDt6YihhLGZ1bmN0aW9uKGMsZCl7dmFyIGU9am4oZCk7TGw9ITA7TWwmJmtiKCJUQUdHSU5HIiwyMCk7SGwoKS51cGRhdGUoYyxlLE9sKX0pO1VsKGIuZXZlbnRJZCxiLnByaW9yaXR5SWQpfWZ1bmN0aW9uIFFuKGEpe2EuaGFzT3duUHJvcGVydHkoImFsbCIpJiYoT2wuc2VsZWN0ZWRBbGxDb3JlUGxhdGZvcm1TZXJ2aWNlcz0hMCx6YihnbixmdW5jdGlvbihiKXtPbC5jb3JlUGxhdGZvcm1TZXJ2aWNlc1tiXT1hLmFsbD09PSJncmFudGVkIjtPbC51c2VkQ29yZVBsYXRmb3JtU2VydmljZXM9ITB9KSk7emIoYSxmdW5jdGlvbihiLGMpe2IhPT0iYWxsIiYmKE9sLmNvcmVQbGF0Zm9ybVNlcnZpY2VzW2JdPWM9PT0iZ3JhbnRlZCIsT2wudXNlZENvcmVQbGF0Zm9ybVNlcnZpY2VzPSEwKX0pfWZ1bmN0aW9uIFJuKGEpe0FycmF5LmlzQXJyYXkoYSl8fChhPVthXSk7cmV0dXJuIGEuZXZlcnkoZnVuY3Rpb24oYil7cmV0dXJuIFBsKGIpfSl9CmZ1bmN0aW9uIFNuKGEsYil7VGwoYSxiKX1mdW5jdGlvbiBUbihhLGIpe1dsKGEsYil9ZnVuY3Rpb24gVW4oYSxiKXtWbChhLGIpfWZ1bmN0aW9uIFZuKCl7dmFyIGE9W0subS5XLEsubS5OYSxLLm0uWF07SGwoKS53YWl0Rm9yVXBkYXRlKGEsNTAwLE9sKX1mdW5jdGlvbiBXbihhKXtmb3IodmFyIGI9bShhKSxjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSl7dmFyIGQ9Yy52YWx1ZTtIbCgpLmNsZWFyVGltZW91dChkLHZvaWQgMCxPbCl9VWwoKX1mdW5jdGlvbiBYbigpe2lmKCEkaSlmb3IodmFyIGE9Um0oKT9ZbihuZyg1KSk6WW4obmcoNCkpLGI9MDtiPEpuLmxlbmd0aDtiKyspe3ZhciBjPUpuW2JdLGQ9YyxlPWFbY10/ImdyYW50ZWQiOiJkZW5pZWQiO0hsKCkuaW1wbGljaXQoZCxlKX19ZnVuY3Rpb24gWW4oYSl7Zm9yKHZhciBiPXt9LGM9bShhLnNwbGl0KCJ8IikpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWJbZC52YWx1ZV09ITA7cmV0dXJuIGJ9O3ZhciBabj13Lmdvb2dsZV90YWdfbWFuYWdlcj13Lmdvb2dsZV90YWdfbWFuYWdlcnx8e307ZnVuY3Rpb24gJG4oYSxiKXtyZXR1cm4gWm5bYV09Wm5bYV18fGIoKX1mdW5jdGlvbiBhbygpe3ZhciBhPUQoNSksYj1ibztablthXT1ablthXXx8Yn1mdW5jdGlvbiBjbygpe3ZhciBhPUQoMTkpO3JldHVybiBablthXT1ablthXXx8e319ZnVuY3Rpb24gZW8oKXt2YXIgYT1EKDE5KTtyZXR1cm4gWm5bYV19ZnVuY3Rpb24gZm8oKXt2YXIgYT1abi5zZXF1ZW5jZXx8MTtabi5zZXF1ZW5jZT1hKzE7cmV0dXJuIGF9dy5nb29nbGVfdGFnX2RhdGE9dy5nb29nbGVfdGFnX2RhdGF8fHt9O3ZhciBnbz0hMSxobz1bXTtmdW5jdGlvbiBpbygpe2lmKCFnbyl7Z289ITA7Zm9yKHZhciBhPWhvLmxlbmd0aC0xO2E+PTA7YS0tKWhvW2FdKCk7aG89W119fTt2YXIgam89L14oPzpBV3xEQ3xHfEdGfEdUfEhBfE1DfFVBKSQvLGtvPS9ccy87CmZ1bmN0aW9uIGxvKGEsYil7aWYoc2IoYSkpe2E9RWIoYSk7dmFyIGM9YS5pbmRleE9mKCItIik7aWYoIShjPDApKXt2YXIgZD1hLnN1YnN0cmluZygwLGMpO2lmKGpvLnRlc3QoZCkpe3ZhciBlPWEuc3Vic3RyaW5nKGMrMSksZjtpZihiKXt2YXIgZz1mdW5jdGlvbihuKXt2YXIgcD1uLmluZGV4T2YoIi8iKTtyZXR1cm4gcDwwP1tuXTpbbi5zdWJzdHJpbmcoMCxwKSxuLnN1YnN0cmluZyhwKzEpXX07Zj1nKGUpO2lmKGQ9PT0iREMiJiZmLmxlbmd0aD09PTIpe3ZhciBoPWcoZlsxXSk7aC5sZW5ndGg9PT0yJiYoZlsxXT1oWzBdLGYucHVzaChoWzFdKSl9fWVsc2V7Zj1lLnNwbGl0KCIvIik7Zm9yKHZhciBsPTA7bDxmLmxlbmd0aDtsKyspaWYoIWZbbF18fGtvLnRlc3QoZltsXSkmJihkIT09IkFXInx8bCE9PTEpKXJldHVybn1yZXR1cm57aWQ6YSxwcmVmaXg6ZCxkZXN0aW5hdGlvbklkOmQrIi0iK2ZbMF0saWRzOmZ9fX19fQpmdW5jdGlvbiBtbyhhLGIpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe3ZhciBlPWxvKGFbZF0sYik7ZSYmKGNbZS5pZF09ZSl9dmFyIGY9W10sZztmb3IoZyBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoZykpe3ZhciBoPWNbZ107aC5wcmVmaXg9PT0iQVciJiZoLmlkc1tub1sxXV0mJmYucHVzaChoLmRlc3RpbmF0aW9uSWQpfWZvcih2YXIgbD0wO2w8Zi5sZW5ndGg7KytsKWRlbGV0ZSBjW2ZbbF1dO2Zvcih2YXIgbj1bXSxwPW0oT2JqZWN0LmtleXMoYykpLHE9cC5uZXh0KCk7IXEuZG9uZTtxPXAubmV4dCgpKW4ucHVzaChjW3EudmFsdWVdKTtyZXR1cm4gbn12YXIgb289e30sbm89KG9vWzBdPTAsb29bMV09MSxvb1syXT0yLG9vWzNdPTAsb29bNF09MSxvb1s1XT0wLG9vWzZdPTAsb29bN109MCxvbyk7dmFyIHBvPXBnKDM0LDUwMCkscW89e30scm89e30sc289e2luaXRpYWxpemVkOjExLGNvbXBsZXRlOjEyLGludGVyYWN0aXZlOjEzfSx0bz17fSx1bz1PYmplY3QuZnJlZXplKCh0b1tLLm0uc2RdPSEwLHRvKSksdm89dm9pZCAwO2Z1bmN0aW9uIHdvKGEsYil7aWYoYi5sZW5ndGgmJk5rKXt2YXIgYzsoYz1xbylbYV0hPW51bGx8fChjW2FdPVtdKTtyb1thXSE9bnVsbHx8KHJvW2FdPVtdKTt2YXIgZD1iLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hcm9bYV0uaW5jbHVkZXMoZSl9KTtxb1thXS5wdXNoLmFwcGx5KHFvW2FdLHphKGQpKTtyb1thXS5wdXNoLmFwcGx5KHJvW2FdLHphKGQpKTshdm8mJmQubGVuZ3RoPjAmJihtaygidGRjIiwhMCksdm89dy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c20oKTtxbz17fTt2bz12b2lkIDB9LHBvKSl9fQpmdW5jdGlvbiB4byhhLGIpe3ZhciBjPXt9LGQ7Zm9yKGQgaW4gYiliLmhhc093blByb3BlcnR5KGQpJiYoY1tkXT0hMCk7Zm9yKHZhciBlIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShlKSYmKGNbZV09ITApO3JldHVybiBjfQpmdW5jdGlvbiB5byhhLGIsYyxkKXtjPWM9PT12b2lkIDA/e306YztkPWQ9PT12b2lkIDA/IiI6ZDtpZihhPT09YilyZXR1cm5bXTt2YXIgZT1mdW5jdGlvbihyLHUpe3ZhciB0O3FkKHUpPT09Im9iamVjdCI/dD11W3JdOnFkKHUpPT09ImFycmF5IiYmKHQ9dVtyXSk7cmV0dXJuIHQ9PT12b2lkIDA/dW9bcl06dH0sZj14byhhLGIpLGc7Zm9yKGcgaW4gZilpZihmLmhhc093blByb3BlcnR5KGcpKXt2YXIgaD0oZD9kKyIuIjoiIikrZyxsPWUoZyxhKSxuPWUoZyxiKSxwPXFkKGwpPT09Im9iamVjdCJ8fHFkKGwpPT09ImFycmF5IixxPXFkKG4pPT09Im9iamVjdCJ8fHFkKG4pPT09ImFycmF5IjtpZihwJiZxKXlvKGwsbixjLGgpO2Vsc2UgaWYocHx8cXx8bCE9PW4pY1toXT0hMH1yZXR1cm4gT2JqZWN0LmtleXMoYyl9CmZ1bmN0aW9uIHpvKCl7bGsoInRkYyIsZnVuY3Rpb24oKXt2byYmKHcuY2xlYXJUaW1lb3V0KHZvKSx2bz12b2lkIDApO3ZhciBhPVtdLGI7Zm9yKGIgaW4gcW8pcW8uaGFzT3duUHJvcGVydHkoYikmJmEucHVzaChiKyIqIitxb1tiXS5qb2luKCIuIikpO3JldHVybiBhLmxlbmd0aD9hLmpvaW4oIiEiKTp2b2lkIDB9LCExKX07dmFyIEFvPXtSOntaajoxLFFpOjIsVmo6Myx0azo0LFdqOjUsZWQ6Nixzazo3LExwOjgsem06OSxYajoxMCxZajoxMSxyaDoxMixNbDoxMyxKbDoxNCxMbDoxNSxJbDoxNixLbDoxNyxIbDoxOCxRbjoxOSx2cDoyMCx3cDoyMSxKaToyMn19O0FvLlJbQW8uUi5aal09IkFMTE9XX0lOVEVSRVNUX0dST1VQUyI7QW8uUltBby5SLlFpXT0iU0VSVkVSX0NPTlRBSU5FUl9VUkwiO0FvLlJbQW8uUi5Wal09IkFEU19EQVRBX1JFREFDVElPTiI7QW8uUltBby5SLnRrXT0iQ1VTVE9NRVJfTElGRVRJTUVfVkFMVUUiO0FvLlJbQW8uUi5Xal09IkFMTE9XX0NVU1RPTV9TQ1JJUFRTIjtBby5SW0FvLlIuZWRdPSJBTllfQ09PS0lFX1BBUkFNUyI7QW8uUltBby5SLnNrXT0iQ09PS0lFX0VYUElSRVMiO0FvLlJbQW8uUi5McF09IkxFR0FDWV9FTkhBTkNFRF9DT05WRVJTSU9OX0pTX1ZBUklBQkxFIjtBby5SW0FvLlIuem1dPSJSRVNUUklDVEVEX0RBVEFfUFJPQ0VTU0lORyI7QW8uUltBby5SLlhqXT0iQUxMT1dfRElTUExBWV9GRUFUVVJFUyI7CkFvLlJbQW8uUi5Zal09IkFMTE9XX0dPT0dMRV9TSUdOQUxTIjtBby5SW0FvLlIucmhdPSJHRU5FUkFURURfVFJBTlNBQ1RJT05fSUQiO0FvLlJbQW8uUi5NbF09IkZMT09ETElHSFRfQ09VTlRJTkdfTUVUSE9EX1VOS05PV04iO0FvLlJbQW8uUi5KbF09IkZMT09ETElHSFRfQ09VTlRJTkdfTUVUSE9EX1NUQU5EQVJEIjtBby5SW0FvLlIuTGxdPSJGTE9PRExJR0hUX0NPVU5USU5HX01FVEhPRF9VTklRVUUiO0FvLlJbQW8uUi5JbF09IkZMT09ETElHSFRfQ09VTlRJTkdfTUVUSE9EX1BFUl9TRVNTSU9OIjtBby5SW0FvLlIuS2xdPSJGTE9PRExJR0hUX0NPVU5USU5HX01FVEhPRF9UUkFOU0FDVElPTlMiO0FvLlJbQW8uUi5IbF09IkZMT09ETElHSFRfQ09VTlRJTkdfTUVUSE9EX0lURU1TX1NPTEQiO0FvLlJbQW8uUi5Rbl09IkFEU19PR1RfVjFfVVNBR0UiO0FvLlJbQW8uUi52cF09IkZPUk1fSU5URVJBQ1RJT05fUEVSTUlTU0lPTl9ERU5JRUQiO0FvLlJbQW8uUi53cF09IkZPUk1fU1VCTUlUX1BFUk1JU1NJT05fREVOSUVEIjsKQW8uUltBby5SLkppXT0iTUlDUk9UQVNLX05PVF9TVVBQT1JURUQiO3ZhciBCbz17fSxDbz0oQm9bSy5tLmVpXT1Bby5SLlpqLEJvW0subS52ZF09QW8uUi5RaSxCb1tLLm0uT2NdPUFvLlIuUWksQm9bSy5tLklhXT1Bby5SLlZqLEJvW0subS5xZV09QW8uUi50ayxCb1tLLm0uaGZdPUFvLlIuV2osQm9bSy5tLkFjXT1Bby5SLmVkLEJvW0subS5YYV09QW8uUi5lZCxCb1tLLm0ud2JdPUFvLlIuZWQsQm9bSy5tLmxkXT1Bby5SLmVkLEJvW0subS5XYl09QW8uUi5lZCxCb1tLLm0uRmJdPUFvLlIuZWQsQm9bSy5tLnhiXT1Bby5SLnNrLEJvW0subS5YYl09QW8uUi56bSxCb1tLLm0uT2ddPUFvLlIuWGosQm9bSy5tLlViXT1Bby5SLllqLEJvKSxEbz17fSxFbz0oRG8udW5rbm93bj1Bby5SLk1sLERvLnN0YW5kYXJkPUFvLlIuSmwsRG8udW5pcXVlPUFvLlIuTGwsRG8ucGVyX3Nlc3Npb249QW8uUi5JbCxEby50cmFuc2FjdGlvbnM9QW8uUi5LbCxEby5pdGVtc19zb2xkPUFvLlIuSGwsRG8pO3ZhciBvYj1bXTtmdW5jdGlvbiBGbyhhLGIpe2I9Yj09PXZvaWQgMD8hMTpiO2tiKCJHVEFHX0VWRU5UX0ZFQVRVUkVfQ0hBTk5FTCIsYSk7YiYmKG9iW2FdPSEwKX1mdW5jdGlvbiBHbyhhLGIpe2I9Yj09PXZvaWQgMD8hMTpiO2Zvcih2YXIgYz1PYmplY3Qua2V5cyhhKSxkPW0oT2JqZWN0LmtleXMoQ28pKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7dmFyIGY9ZS52YWx1ZTtjLmluY2x1ZGVzKGYpJiZGbyhDb1tmXSxiKX19O3ZhciBIbz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsbCxuLHApe3RoaXMuZXZlbnRJZD1hO3RoaXMucHJpb3JpdHlJZD1iO3RoaXMuQz1jO3RoaXMuVj1kO3RoaXMuSD1lO3RoaXMuVD1mO3RoaXMuUD1nO3RoaXMuZXZlbnRNZXRhZGF0YT1oO3RoaXMub25TdWNjZXNzPWw7dGhpcy5vbkZhaWx1cmU9bjt0aGlzLmlzR3RtRXZlbnQ9cH0sSW89ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtzd2l0Y2goYil7Y2FzZSAzOmMucHVzaChhLkMpO2MucHVzaChhLlYpO2MucHVzaChhLkgpO2MucHVzaChhLlQpO2MucHVzaChhLlApO2JyZWFrO2Nhc2UgMjpjLnB1c2goYS5DKTticmVhaztjYXNlIDE6Yy5wdXNoKGEuVik7Yy5wdXNoKGEuSCk7Yy5wdXNoKGEuVCk7Yy5wdXNoKGEuUCk7YnJlYWs7Y2FzZSA0OmMucHVzaChhLkMpLGMucHVzaChhLlYpLGMucHVzaChhLkgpLGMucHVzaChhLlQpfXJldHVybiBjfSxMPWZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZT1tKElvKGEsZD09PXZvaWQgMD8zOgpkKSksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpe3ZhciBnPWYudmFsdWU7aWYoZ1tiXSE9PXZvaWQgMClyZXR1cm4gZ1tiXX1yZXR1cm4gY30sSm89ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9SW8oYSw0KSxkPW0oYyksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpZm9yKHZhciBmPU9iamVjdC5rZXlzKGUudmFsdWUpLGc9bShmKSxoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSliW2gudmFsdWVdPTE7cmV0dXJuIE9iamVjdC5rZXlzKGIpfTsKSG8ucHJvdG90eXBlLmdldE1lcmdlZFZhbHVlcz1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChuKXtzZChuKSYmemIobixmdW5jdGlvbihwLHEpe2Y9ITA7ZVtwXT1xfSl9Yj1iPT09dm9pZCAwPzM6Yjt2YXIgZT17fSxmPSExO2MmJmQoYyk7dmFyIGc9SW8odGhpcyxiKTtnLnJldmVyc2UoKTtmb3IodmFyIGg9bShnKSxsPWgubmV4dCgpOyFsLmRvbmU7bD1oLm5leHQoKSlkKGwudmFsdWVbYV0pO3JldHVybiBmP2U6dm9pZCAwfTsKdmFyIEtvPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bSy5tLnZmLEsubS5xZixLLm0ucmYsSy5tLnRmLEsubS51ZixLLm0ud2YsSy5tLnhmXSxjPUlvKGEsMyksZD1tKGMpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXtmb3IodmFyIGY9ZS52YWx1ZSxnPXt9LGg9ITEsbD1tKGIpLG49bC5uZXh0KCk7IW4uZG9uZTtuPWwubmV4dCgpKXt2YXIgcD1uLnZhbHVlO2ZbcF0hPT12b2lkIDAmJihnW3BdPWZbcF0saD0hMCl9dmFyIHE9aD9nOnZvaWQgMDtpZihxKXJldHVybiBxfXJldHVybnt9fSxMbz1mdW5jdGlvbihhLGIpe3RoaXMuZXZlbnRJZD1hO3RoaXMucHJpb3JpdHlJZD1iO3RoaXMuSD17fTt0aGlzLlY9e307dGhpcy5DPXt9O3RoaXMuUD17fTt0aGlzLmxhPXt9O3RoaXMuVD17fTt0aGlzLmV2ZW50TWV0YWRhdGE9e307dGhpcy5pc0d0bUV2ZW50PSExO3RoaXMub25TdWNjZXNzPWZ1bmN0aW9uKCl7fTt0aGlzLm9uRmFpbHVyZT1mdW5jdGlvbigpe319LE1vPWZ1bmN0aW9uKGEsCmIpe2EuSD1iO3JldHVybiBhfSxObz1mdW5jdGlvbihhLGIpe2EuVj1iO3JldHVybiBhfSxPbz1mdW5jdGlvbihhLGIpe2EuQz1iO3JldHVybiBhfSxQbz1mdW5jdGlvbihhLGIpe2EuUD1iO3JldHVybiBhfSxRbz1mdW5jdGlvbihhLGIpe2EubGE9YjtyZXR1cm4gYX0sUm89ZnVuY3Rpb24oYSxiKXthLlQ9YjtyZXR1cm4gYX0sU289ZnVuY3Rpb24oYSxiKXthLmV2ZW50TWV0YWRhdGE9Ynx8e307cmV0dXJuIGF9LGRwPWZ1bmN0aW9uKGEsYil7YS5vblN1Y2Nlc3M9YjtyZXR1cm4gYX0sZXA9ZnVuY3Rpb24oYSxiKXthLm9uRmFpbHVyZT1iO3JldHVybiBhfSxmcD1mdW5jdGlvbihhLGIpe2EuaXNHdG1FdmVudD1iO3JldHVybiBhfSxncD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEhvKGEuZXZlbnRJZCxhLnByaW9yaXR5SWQsYS5ILGEuVixhLkMsYS5QLGEuVCxhLmV2ZW50TWV0YWRhdGEsYS5vblN1Y2Nlc3MsYS5vbkZhaWx1cmUsYS5pc0d0bUV2ZW50KX07dmFyIFE9e0E6e1ZoOiJhY2NlcHRfYnlfZGVmYXVsdCIsU2o6ImFkZF90YWdfdGltaW5nIixaZDoiYWRzX2V2ZW50X3BhZ2VfdmlldyIsYmQ6ImFsbG93X2FkX3BlcnNvbmFsaXphdGlvbiIsYms6ImJhdGNoX29uX25hdmlnYXRpb24iLGdrOiJjbGllbnRfaWRfc291cmNlIixZZToiY29uc2VudF9ldmVudF9pZCIsWmU6ImNvbnNlbnRfcHJpb3JpdHlfaWQiLENzOiJjb25zZW50X3N0YXRlIixpYToiY29uc2VudF91cGRhdGVkIixiZToiY29udmVyc2lvbl9saW5rZXJfZW5hYmxlZCIsRmE6ImNvb2tpZV9vcHRpb25zIixLZzoiY3JlYXRlX2RjX2pvaW4iLExnOiJjcmVhdGVfZnBtX2dlb19qb2luIixNZzoiY3JlYXRlX2ZwbV9zaWduYWxzX2pvaW4iLGNlOiJjcmVhdGVfZ29vZ2xlX2pvaW4iLHdrOiJkY19yYW5kb20iLGRlOiJlbV9ldmVudCIsRnM6ImVuZHBvaW50X2Zvcl9kZWJ1ZyIsQWs6ImVuaGFuY2VkX2NsaWVudF9pZF9zb3VyY2UiLGJpOiJlbmhhbmNlZF9tYXRjaF9yZXN1bHQiLApCbDoiZXVpZF9sb2dnZWRfaW5fc3RhdGUiLEJlOiJldWlkX21vZGVfZW5hYmxlZCIsbWI6ImV2ZW50X3N0YXJ0X3RpbWVzdGFtcF9tcyIsRmw6ImV2ZW50X3VzYWdlIix6aToiZXh0cmFfdGFnX2V4cGVyaW1lbnRfaWRzIixRczoiYWRkX3BhcmFtZXRlciIsQWk6ImF0dHJpYnV0aW9uX3JlcG9ydGluZ19leHBlcmltZW50IixCaToiY291bnRpbmdfbWV0aG9kIixwaDoic2VuZF9hc19pZnJhbWUiLFJzOiJwYXJhbWV0ZXJfb3JkZXIiLHFoOiJwYXJzZWRfdGFyZ2V0Iix4cDoiZ2E0X2NvbGxlY3Rpb25fc3ViZG9tYWluIixVbDoiZ2JyYWlkX2Nvb2tpZV9tYXJrZWQiLGViOiJoYW5kbGVfaW50ZXJuYWxseSIsYmE6ImhpdF90eXBlIixDZDoiaGl0X3R5cGVfb3ZlcnJpZGUiLFZmOiJpZ25vcmVfaGl0X3N1Y2Nlc3NfZmFpbHVyZSIsVXM6ImlzX2NvbmZpZ19jb21tYW5kIix0aDoiaXNfY29uc2VudF91cGRhdGUiLFdmOiJpc19jb252ZXJzaW9uIixhbToiaXNfZWNvbW1lcmNlIixibToiaXNfZWNfY21fc3BsaXQiLApEZDoiaXNfZXh0ZXJuYWxfZXZlbnQiLEZpOiJpc19mYWxsYmFja19hd19jb252ZXJzaW9uX3BpbmdfYWxsb3dlZCIsWGY6ImlzX2ZpcnN0X3Zpc2l0IixkbToiaXNfZmlyc3RfdmlzaXRfY29udmVyc2lvbiIsdWg6ImlzX2ZsX2ZhbGxiYWNrX2NvbnZlcnNpb25fZmxvd19hbGxvd2VkIixFZDoiaXNfZnBtX2VuY3J5cHRpb24iLEdpOiJpc19mcG1fc3BsaXQiLEtiOiJpc19nY3BfY29udmVyc2lvbiIsZm06ImlzX2dvb2dsZV9zaWduYWxzX2FsbG93ZWQiLEZkOiJpc19tZXJjaGFudF9jZW50ZXIiLHdoOiJpc19uZXdfdG9fc2l0ZSIseGg6ImlzX3BlcnNvbmFsaXphdGlvbiIseWg6ImlzX3NlcnZlcl9zaWRlX2Rlc3RpbmF0aW9uIixFZToiaXNfc2Vzc2lvbl9zdGFydCIsaG06ImlzX3Nlc3Npb25fc3RhcnRfY29udmVyc2lvbiIsVnM6ImlzX3NndG1fZ2FfYWRzX2NvbnZlcnNpb25fc3R1ZHlfY29udHJvbF9ncm91cCIsV3M6ImlzX3NndG1fcHJlaGl0IixpbToiaXNfc2d0bV9zZXJ2aWNlX3dvcmtlciIsCkhpOiJpc19zcGxpdF9jb252ZXJzaW9uIixHcDoiaXNfc3luIixIcDoiaXNfdGVzdF9ldmVudCIsWWY6ImpvaW5faWQiLElpOiJqb2luX2VsYXBzZWQiLFpmOiJqb2luX3RpbWVyX3NlYyIsbG06ImxvY2FsX3N0b3JhZ2VfYXdfY29udmVyc2lvbl9jb3VudGVycyIsSWU6InR1bm5lbF91cGRhdGVkIixidDoicHJlaGl0X2Zvcl9yZXRyeSIsZXQ6InByb21pc2VzIixmdDoicmVjb3JkX2F3X2xhdGVuY3kiLFRjOiJyZWRhY3RfYWRzX2RhdGEiLEplOiJyZWRhY3RfY2xpY2tfaWRzIix5bToicmVtYXJrZXRpbmdfb25seSIsT2k6InNlbmRfY2NtX3BhcmFsbGVsX3BpbmciLGl0OiJzZW5kX2NjbV9wYXJhbGxlbF90ZXN0X3BpbmciLGZnOiJzZW5kX3RvX2Rlc3RpbmF0aW9ucyIsUGk6InNlbmRfdG9fdGFyZ2V0cyIsVXA6InNlbmRfdXNlcl9kYXRhX2hpdCIsUGE6InNvdXJjZV9jYW5vbmljYWxfaWQiLHdhOiJzcGVjdWxhdGl2ZSIsSG06InNwZWN1bGF0aXZlX2luX21lc3NhZ2UiLEptOiJzdXBwcmVzc19zY3JpcHRfbG9hZCIsCkttOiJzeW5fb3JfbW9kIixQbToidHJhbnNpZW50X2Vjc2lkIixnZzoidHJhbnNtaXNzaW9uX3R5cGUiLFVhOiJ1c2VyX2RhdGEiLG10OiJ1c2VyX2RhdGFfZnJvbV9hdXRvbWF0aWMiLG50OiJ1c2VyX2RhdGFfZnJvbV9hdXRvbWF0aWNfZ2V0dGVyIixSbToidXNlcl9kYXRhX2Zyb21fY29kZSIsYXE6InVzZXJfZGF0YV9mcm9tX21hbnVhbCIsU206InVzZXJfZGF0YV9tb2RlIixoZzoidXNlcl9pZF91cGRhdGVkIn19O3ZhciBocD1uZXcgeWIsaXA9e30sanA9e30sbXA9e25hbWU6RCgxOSksc2V0OmZ1bmN0aW9uKGEsYil7dGQoT2IoYSxiKSxpcCk7a3AoKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBscChhLDIpfSxyZXNldDpmdW5jdGlvbigpe2hwPW5ldyB5YjtpcD17fTtrcCgpfX07ZnVuY3Rpb24gbHAoYSxiKXtyZXR1cm4gYiE9Mj9ocC5nZXQoYSk6bnAoYSl9ZnVuY3Rpb24gbnAoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIik7Yj1ifHxbXTtmb3IodmFyIGQ9aXAsZT0wO2U8Yy5sZW5ndGg7ZSsrKXtpZihkPT09bnVsbClyZXR1cm4hMTtpZihkPT09dm9pZCAwKWJyZWFrO2Q9ZFtjW2VdXTtpZihiLmluZGV4T2YoZCkhPT0tMSlyZXR1cm59cmV0dXJuIGR9ZnVuY3Rpb24gb3AoYSxiKXtqcC5oYXNPd25Qcm9wZXJ0eShhKXx8KGhwLnNldChhLGIpLHRkKE9iKGEsYiksaXApLGtwKCkpfQpmdW5jdGlvbiBwcCgpe2Zvcih2YXIgYT1bImd0bS5hbGxvd2xpc3QiLCJndG0uYmxvY2tsaXN0IiwiZ3RtLndoaXRlbGlzdCIsImd0bS5ibGFja2xpc3QiLCJ0YWdUeXBlQmxhY2tsaXN0Il0sYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdLGQ9bHAoYywxKTtpZihBcnJheS5pc0FycmF5KGQpfHxzZChkKSlkPXRkKGQsbnVsbCk7anBbY109ZH19ZnVuY3Rpb24ga3AoYSl7emIoanAsZnVuY3Rpb24oYixjKXtocC5zZXQoYixjKTt0ZChPYihiKSxpcCk7dGQoT2IoYixjKSxpcCk7YSYmZGVsZXRlIGpwW2JdfSl9ZnVuY3Rpb24gcXAoYSxiKXt2YXIgYyxkPShiPT09dm9pZCAwPzI6YikhPT0xP25wKGEpOmhwLmdldChhKTtxZChkKT09PSJhcnJheSJ8fHFkKGQpPT09Im9iamVjdCI/Yz10ZChkLG51bGwpOmM9ZDtyZXR1cm4gY307dmFyIHJwPXtVQToxLEFXOjIsREM6MyxHOjQsR0Y6NSxHVDoxMixHVE06MTQsSEE6NixNQzo3fTsKZnVuY3Rpb24gc3AoYSl7YT1hPT09dm9pZCAwP3t9OmE7dmFyIGI9RCg1KS5zcGxpdCgiLSIpWzBdLnRvVXBwZXJDYXNlKCksYyxkPXtjdGlkOkQoNSksQm46bGcoMTUpLEduOkQoMTQpLHpyOmtnKDcpPzI6MSxrczphLkluLGNhbm9uaWNhbElkOkQoNiksVXI6KGM9VWooKSk9PW51bGw/dm9pZCAwOmMuY2Fub25pY2FsQ29udGFpbmVySWQsbHM6YS5XZD09PXZvaWQgMD92b2lkIDA6YS5XZD8xMDoxMn07ZC5jYW5vbmljYWxJZCE9PWEuUmEmJihkLlJhPWEuUmEpO3ZhciBlPVJqKCk7ZC5Hcj1lP2UuY2Fub25pY2FsQ29udGFpbmVySWQ6dm9pZCAwO1ppPyhkLlRoPXJwW2JdLGQuVGh8fChkLlRoPTApKTpkLlRoPSRpPzEzOjEwO2tnKDQ3KT8oZC55aj0wLGQucXE9Mik6a2coNTApP2QueWo9MTpkLnlqPTM7dmFyIGY9YSxnPXs2OiExfTtsZyg1NCk9PT0yP2dbN109ITA6bGcoNTQpPT09MSYmKGdbMl09ITApO2lmKEVjKXt2YXIgaD1qaihwaihFYyksImhvc3QiKTtoJiYoZ1s4XT1oLm1hdGNoKC9eKHd3d1wuKT9nb29nbGV0YWdtYW5hZ2VyXC5jb20kLyk9PT0KbnVsbCl9aWYoUCg0MTcpKXt2YXIgbDtnWzldPShsPWYubWMpIT1udWxsP2w6ITF9aWYoUCg0MjApKXt2YXIgbj1aaigpLHA7Z1sxMF09KHA9bj09bnVsbD92b2lkIDA6bi5mcm9tQ29udGFpbmVyRXhlY3V0aW9uKSE9bnVsbD9wOiExfWQueHE9ZztyZXR1cm4gcGYoZCxhLkdoKX07dmFyIHRwPXtQbjpwZygzLDApfSx1cD1bXSx2cD0hMTtmdW5jdGlvbiB3cChhKXt1cC5wdXNoKGEpfXZhciB4cD12b2lkIDAseXA9e30senA9dm9pZCAwLEFwPW5ldyBmdW5jdGlvbigpe3ZhciBhPTU7dHAuUG4+MCYmKGE9dHAuUG4pO3RoaXMuSD1hO3RoaXMuQz0wO3RoaXMuUD1bXX0sQnA9MUUzOwpmdW5jdGlvbiBDcChhLGIpe3ZhciBjPXhwO2lmKGM9PT12b2lkIDApaWYoYiljPWZvKCk7ZWxzZSByZXR1cm4iIjtmb3IodmFyIGQ9W0FqKCJodHRwczovLyIrRCgyMSkpLCIvYSIsIj9pZD0iK0QoNSldLGU9bSh1cCksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpZm9yKHZhciBnPWYudmFsdWUsaD1nKHtldmVudElkOmMsWWQ6ISFhfSksbD1tKGgpLG49bC5uZXh0KCk7IW4uZG9uZTtuPWwubmV4dCgpKXt2YXIgcD1tKG4udmFsdWUpLHE9cC5uZXh0KCkudmFsdWUscj1wLm5leHQoKS52YWx1ZTtkLnB1c2goIiYiK3ErIj0iK3IpfWQucHVzaCgiJno9MCIpO3JldHVybiBkLmpvaW4oIiIpfQpmdW5jdGlvbiBEcCgpe2lmKFJpLkgmJih6cCYmKHcuY2xlYXJUaW1lb3V0KHpwKSx6cD12b2lkIDApLHhwIT09dm9pZCAwJiZFcCkpe3ZhciBhPWZtKEdsLmFhLlFjKTtpZihibShhKSl2cHx8KHZwPSEwLGRtKGEsRHApKTtlbHNle3ZhciBiO2lmKCEoYj15cFt4cF0pKXt2YXIgYz1BcDtiPWMuQzxjLkg/ITE6R2IoKS1jLlBbYy5DJWMuSF08MUUzfWlmKGJ8fEJwLS08PTApTSgxKSx5cFt4cF09ITA7ZWxzZXt2YXIgZD1BcCxlPWQuQysrJWQuSDtkLlBbZV09R2IoKTt2YXIgZj1DcCghMCk7QWwoe2Rlc3RpbmF0aW9uSWQ6RCg1KSxlbmRwb2ludDo1NixldmVudElkOnhwfSxmKTt2cD1FcD0hMX19fX1mdW5jdGlvbiBGcCgpe2lmKExrJiZSaS5IKXt2YXIgYT1DcCghMCwhMCk7QWwoe2Rlc3RpbmF0aW9uSWQ6RCg1KSxlbmRwb2ludDo1NixldmVudElkOnhwfSxhKX19dmFyIEVwPSExOwpmdW5jdGlvbiBHcChhKXt5cFthXXx8KGEhPT14cCYmKERwKCkseHA9YSksRXA9ITAsenB8fCh6cD13LnNldFRpbWVvdXQoRHAsNTAwKSksQ3AoKS5sZW5ndGg+PTIwMjImJkRwKCkpfXZhciBIcD13YigpO2Z1bmN0aW9uIElwKCl7SHA9d2IoKX1mdW5jdGlvbiBKcCgpe3ZhciBhPVtbInYiLCIzIl0sWyJ0IiwidCJdLFsicGlkIixTdHJpbmcoSHApXV0sYj1zcCgpO2ImJmEucHVzaChbImd0bSIsYl0pO3JldHVybiBhfTt2YXIgS3A9e307ZnVuY3Rpb24gTHAoYSxiLGMpe0xrJiZhIT09dm9pZCAwJiYoS3BbYV09S3BbYV18fFtdLEtwW2FdLnB1c2goYytiKSxHcChhKSl9ZnVuY3Rpb24gTXAoYSl7dmFyIGI9YS5ldmVudElkLGM9YS5ZZCxkPVtdLGU9S3BbYl18fFtdO2UubGVuZ3RoJiZkLnB1c2goWyJlcHIiLGUuam9pbigiLiIpXSk7YyYmZGVsZXRlIEtwW2JdO3JldHVybiBkfTt2YXIgTnA9ITE7ZnVuY3Rpb24gT3AoYSxiLGMsZCl7dmFyIGU9bG8oYyxkLmlzR3RtRXZlbnQpO2UmJihOcCYmKGQuZGVmZXJyYWJsZT0hMCksUHAucHVzaCgiZXZlbnQiLFtiLGFdLGUsZCkpfWZ1bmN0aW9uIFFwKGEsYixjLGQpe3ZhciBlPWxvKGMsZC5pc0d0bUV2ZW50KTtlJiZQcC5wdXNoKCJnZXQiLFthLGJdLGUsZCl9ZnVuY3Rpb24gUnAoYSl7dmFyIGI9bG8oYSwhMCksYztiP2M9U3AoUHAsYikuVDpjPXt9O3JldHVybiBjfXZhciBUcD1mdW5jdGlvbigpe3RoaXMuQz17fTt0aGlzLlQ9e307dGhpcy5WPXt9O3RoaXMubGE9bnVsbDt0aGlzLlA9e307dGhpcy5IPSExO3RoaXMuc3RhdHVzPTF9LFVwPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuSD1HYigpO3RoaXMuQz1iO3RoaXMuYXJncz1jO3RoaXMubWVzc2FnZUNvbnRleHQ9ZDt0aGlzLnR5cGU9YX07ZnVuY3Rpb24gVnAoYSl7dmFyIGI9e307emIoYSxmdW5jdGlvbihjLGQpe3RkKE9iKGMsZCksYil9KTtyZXR1cm4gYn0KdmFyIFdwPWZ1bmN0aW9uKCl7dGhpcy5kZXN0aW5hdGlvbnM9e307dGhpcy5DPXt9O3RoaXMuY29tbWFuZHM9W119LFNwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZGVzdGluYXRpb25zW2IuZGVzdGluYXRpb25JZF09YS5kZXN0aW5hdGlvbnNbYi5kZXN0aW5hdGlvbklkXXx8bmV3IFRwfSxYcD1mdW5jdGlvbihhLGIsYyxkKXtpZihkLkMpe3ZhciBlPVNwKGEsZC5DKSxmPWUubGE7aWYoZil7dmFyIGc9dGQoYyxudWxsKSxoPXRkKGUuQ1tkLkMuZGVzdGluYXRpb25JZF0sbnVsbCksbD10ZChlLlAsbnVsbCksbj10ZChlLlQsbnVsbCkscD10ZChhLkMsbnVsbCkscT17fTtpZihMayl0cnl7cT10ZChpcCxudWxsKX1jYXRjaCh4KXtNKDcyKX12YXIgcj1kLkMucHJlZml4LHU9ZnVuY3Rpb24oeCl7THAoZC5tZXNzYWdlQ29udGV4dC5ldmVudElkLHIseCl9LHQ9Z3AoZnAoZXAoZHAoU28oUW8oUG8oUm8oT28oTm8oTW8obmV3IExvKGQubWVzc2FnZUNvbnRleHQuZXZlbnRJZCxkLm1lc3NhZ2VDb250ZXh0LnByaW9yaXR5SWQpLApnKSxoKSxsKSxuKSxwKSxxKSxkLm1lc3NhZ2VDb250ZXh0LmV2ZW50TWV0YWRhdGEpLGZ1bmN0aW9uKCl7aWYodSl7dmFyIHg9dTt1PXZvaWQgMDt4KCIyIik7aWYoZC5tZXNzYWdlQ29udGV4dC5vblN1Y2Nlc3MpZC5tZXNzYWdlQ29udGV4dC5vblN1Y2Nlc3MoKX19KSxmdW5jdGlvbigpe2lmKHUpe3ZhciB4PXU7dT12b2lkIDA7eCgiMyIpO2lmKGQubWVzc2FnZUNvbnRleHQub25GYWlsdXJlKWQubWVzc2FnZUNvbnRleHQub25GYWlsdXJlKCl9fSksISFkLm1lc3NhZ2VDb250ZXh0LmlzR3RtRXZlbnQpKSx2PWZ1bmN0aW9uKCl7dHJ5e0xwKGQubWVzc2FnZUNvbnRleHQuZXZlbnRJZCxyLCIxIik7dmFyIHg9ZC50eXBlLHk9ZC5DLmlkO2lmKE5rJiZ4PT09ImNvbmZpZyIpe3ZhciBBLEM9KEE9bG8oeSkpPT1udWxsP3ZvaWQgMDpBLmlkcztpZighKEMmJkMubGVuZ3RoPjEpKXt2YXIgRSxIPUZjKCJnb29nbGVfdGFnX2RhdGEiLHt9KTtILnRkfHwoSC50ZD17fSk7RT1ILnRkO3ZhciBKPQp0ZCh0LlQpO3RkKHQuQyxKKTt2YXIgTz1bXSxiYTtmb3IoYmEgaW4gRSlFLmhhc093blByb3BlcnR5KGJhKSYmeW8oRVtiYV0sSikubGVuZ3RoJiZPLnB1c2goYmEpO08ubGVuZ3RoJiYod28oeSxPKSxrYigiVEFHR0lORyIsc29bei5yZWFkeVN0YXRlXXx8MTQpKTtFW3ldPUp9fWYoZC5DLmlkLGIsZC5ILHQpfWNhdGNoKFcpe0xwKGQubWVzc2FnZUNvbnRleHQuZXZlbnRJZCxyLCI0Iil9fTtiPT09Imd0YWcuZ2V0Ij92KCk6ZG0oZS5zYSx2KX19fSxZcD1mdW5jdGlvbihhLGIpe2lmKGIudHlwZSE9PSJyZXF1aXJlIilpZihiLkMpZm9yKHZhciBjPVNwKGEsYi5DKS5WW2IudHlwZV18fFtdLGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdKCk7ZWxzZSBmb3IodmFyIGUgaW4gYS5kZXN0aW5hdGlvbnMpaWYoYS5kZXN0aW5hdGlvbnMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBmPWEuZGVzdGluYXRpb25zW2VdO2lmKGYmJmYuVilmb3IodmFyIGc9Zi5WW2IudHlwZV18fFtdLGg9MDtoPGcubGVuZ3RoO2grKylnW2hdKCl9fTsKV3AucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVNwKHRoaXMsYSk7ZS5zdGF0dXMhPT0zJiYoZS5sYT1iLGUuc3RhdHVzPTMsZS5zYT1mbShjKSxacCh0aGlzLGEsZHx8e30pLHRoaXMuZmx1c2goKSl9OwpXcC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIsYyxkKXtjIT09dm9pZCAwJiYoU3AodGhpcyxjKS5zdGF0dXM9PT0xJiYoU3AodGhpcyxjKS5zdGF0dXM9Mix0aGlzLnB1c2goInJlcXVpcmUiLFt7fV0sYyx7fSkpLFNwKHRoaXMsYykuSCYmKGQuZGVmZXJyYWJsZT0hMSksZC5ldmVudE1ldGFkYXRhfHwoZC5ldmVudE1ldGFkYXRhPXt9KSxkLmV2ZW50TWV0YWRhdGFbUS5BLmZnXXx8KGQuZXZlbnRNZXRhZGF0YVtRLkEuZmddPVtjLmRlc3RpbmF0aW9uSWRdKSxkLmV2ZW50TWV0YWRhdGFbUS5BLlBpXXx8KGQuZXZlbnRNZXRhZGF0YVtRLkEuUGldPVtjLmlkXSkpO3RoaXMuY29tbWFuZHMucHVzaChuZXcgVXAoYSxjLGIsZCkpO2QuZGVmZXJyYWJsZXx8dGhpcy5mbHVzaCgpfTsKV3AucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLGM9W10sZD0hMTt0aGlzLmNvbW1hbmRzLmxlbmd0aDspe3ZhciBlPXRoaXMuY29tbWFuZHNbMF0sZj1lLkM7aWYoZS5tZXNzYWdlQ29udGV4dC5kZWZlcnJhYmxlKSFmfHxTcCh0aGlzLGYpLkg/KGUubWVzc2FnZUNvbnRleHQuZGVmZXJyYWJsZT0hMSx0aGlzLmNvbW1hbmRzLnB1c2goZSkpOmMucHVzaChlKSx0aGlzLmNvbW1hbmRzLnNoaWZ0KCk7ZWxzZXtzd2l0Y2goZS50eXBlKXtjYXNlICJyZXF1aXJlIjppZihTcCh0aGlzLGYpLnN0YXR1cyE9PTMmJiFhKXt0aGlzLmNvbW1hbmRzLnB1c2guYXBwbHkodGhpcy5jb21tYW5kcyxjKTtyZXR1cm59YnJlYWs7Y2FzZSAic2V0Ijp2YXIgZz1lLmFyZ3NbMF07emIoZyxmdW5jdGlvbihBLEMpe3RkKE9iKEEsQyksYi5DKX0pO0dvKGcsITApO2JyZWFrO2Nhc2UgImNvbmZpZyI6dmFyIGg9U3AodGhpcyxmKSxsPVZwKGUuYXJnc1swXSksbj0hIWxbSy5tLnhkXTsKZGVsZXRlIGxbSy5tLnhkXTt2YXIgcD1mLmRlc3RpbmF0aW9uSWQ9PT1mLmlkO0dvKGwsITApO258fChwP2guUD17fTpoLkNbZi5pZF09e30pO2guSCYmbnx8WHAodGhpcyxLLm0ubWEsbCxlKTtoLkg9ITA7cD90ZChsLGguUCk6KHRkKGwsaC5DW2YuaWRdKSxNKDcwKSk7ZD0hMDticmVhaztjYXNlICJldmVudCI6dmFyIHE9VnAoZS5hcmdzWzBdKTtHbyhxKTtYcCh0aGlzLGUuYXJnc1sxXSxxLGUpO2JyZWFrO2Nhc2UgImdldCI6dmFyIHI9e30sdT0ocltLLm0uRGZdPWUuYXJnc1swXSxyW0subS5DZl09ZS5hcmdzWzFdLHIpO1hwKHRoaXMsSy5tLkRiLHUsZSk7YnJlYWs7Y2FzZSAiY29udGFpbmVyX2NvbmZpZyI6dmFyIHQ9U3AodGhpcyxmKSx2PVZwKGUuYXJnc1swXSk7R28odiwhMCk7dC5IPSEwO3QuUD12O2Q9ITA7YnJlYWs7Y2FzZSAiZGVzdGluYXRpb25fY29uZmlnIjp2YXIgeD1TcCh0aGlzLGYpLHk9VnAoZS5hcmdzWzBdKTtHbyh5LCEwKTt4LkNbZi5pZF18fCh4LkNbZi5pZF09Cnt9KTt4Lkg9ITA7eC5DW2YuaWRdPXk7ZD0hMDticmVhaztjYXNlICJyZXNldF9jb250YWluZXJfY29uZmlnIjpTcCh0aGlzLGYpLlA9e307YnJlYWs7Y2FzZSAicmVzZXRfdGFyZ2V0X2NvbmZpZyI6U3AodGhpcyxmKS5DW2YuaWRdPXt9fXRoaXMuY29tbWFuZHMuc2hpZnQoKTtZcCh0aGlzLGUpfX10aGlzLmNvbW1hbmRzLnB1c2guYXBwbHkodGhpcy5jb21tYW5kcyxjKTtkJiZ0aGlzLmZsdXNoKCl9O3ZhciBacD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGQoYyxudWxsKTt0ZChTcChhLGIpLlQsZCk7U3AoYSxiKS5UPWR9LFBwPW5ldyBXcDtmdW5jdGlvbiAkcChhKXt2YXIgYj1hLmxvY2F0aW9uLmhyZWY7aWYoYT09PWEudG9wKXJldHVybnt1cmw6Yix4cjohMH07dmFyIGM9ITEsZD1hLmRvY3VtZW50O2QmJmQucmVmZXJyZXImJihiPWQucmVmZXJyZXIsYS5wYXJlbnQ9PT1hLnRvcCYmKGM9ITApKTt2YXIgZT1hLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucztpZihlKXt2YXIgZj1lW2UubGVuZ3RoLTFdLGc7ZiYmKChnPWIpPT1udWxsP3ZvaWQgMDpnLmluZGV4T2YoZikpPT09LTEmJihjPSExLGI9Zil9cmV0dXJue3VybDpiLHhyOmN9fWZ1bmN0aW9uIGFxKGEpe3RyeXt2YXIgYjtpZihiPSEhYSYmYS5sb2NhdGlvbi5ocmVmIT1udWxsKWE6e3RyeXtsbChhLmZvbyk7Yj0hMDticmVhayBhfWNhdGNoKGMpe31iPSExfXJldHVybiBifWNhdGNoKGMpe3JldHVybiExfX1mdW5jdGlvbiBicSgpe2Zvcih2YXIgYT13LGI9YTthJiZhIT1hLnBhcmVudDspYT1hLnBhcmVudCxhcShhKSYmKGI9YSk7cmV0dXJuIGJ9O3ZhciBjcT1mdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7fTtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYzthLmFwcGx5KGQsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtyZXR1cm4gZH0sZHE9ZnVuY3Rpb24oYSl7dmFyIGI9YTtyZXR1cm4gZnVuY3Rpb24oKXtpZihiKXt2YXIgYz1iO2I9bnVsbDtjKCl9fX07ZnVuY3Rpb24gZXEoYSxiKXtpZihhKWZvcih2YXIgYyBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGMpJiZiKGFbY10sYyxhKX07dmFyIGZxPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEsZD0wO2Q8NTA7KytkKXt2YXIgZTt0cnl7ZT0hKCFjLmZyYW1lc3x8IWMuZnJhbWVzW2JdKX1jYXRjaChoKXtlPSExfWlmKGUpcmV0dXJuIGM7dmFyIGY7YTp7dHJ5e3ZhciBnPWMucGFyZW50O2lmKGcmJmchPWMpe2Y9ZzticmVhayBhfX1jYXRjaChoKXt9Zj1udWxsfWlmKCEoYz1mKSlicmVha31yZXR1cm4gbnVsbH0sZ3E9ZnVuY3Rpb24oYSl7dmFyIGI9dztpZihiLnRvcD09YilyZXR1cm4gMDtpZihhPT09dm9pZCAwPzA6YSl7dmFyIGM9Yi5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnM7aWYoYylyZXR1cm4gY1tjLmxlbmd0aC0xXT09Yi5sb2NhdGlvbi5vcmlnaW4/MToyfXJldHVybiBhcShiLnRvcCk/MToyfSxocT1mdW5jdGlvbihhKXthPWE9PT12b2lkIDA/ZG9jdW1lbnQ6YTtyZXR1cm4gYS5jcmVhdGVFbGVtZW50KCJpbWciKX07ZnVuY3Rpb24gaXEoYSxiLGMpe3JldHVybiB0eXBlb2YgYS5hZGRFdmVudExpc3RlbmVyPT09ImZ1bmN0aW9uIj8oYS5hZGRFdmVudExpc3RlbmVyKGIsYywhMSksITApOiExfWZ1bmN0aW9uIGpxKGEsYixjKXt0eXBlb2YgYS5yZW1vdmVFdmVudExpc3RlbmVyPT09ImZ1bmN0aW9uIiYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9O2Z1bmN0aW9uIGtxKGEsYixjLGQpe2Q9ZD09PXZvaWQgMD8hMTpkO2EuZ29vZ2xlX2ltYWdlX3JlcXVlc3RzfHwoYS5nb29nbGVfaW1hZ2VfcmVxdWVzdHM9W10pO3ZhciBlPWhxKGEuZG9jdW1lbnQpO2lmKGMpe3ZhciBmPWZ1bmN0aW9uKCl7aWYoYyl7dmFyIGc9YS5nb29nbGVfaW1hZ2VfcmVxdWVzdHMsaD15YyhnLGUpO2g+PTAmJkFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChnLGgsMSl9anEoZSwibG9hZCIsZik7anEoZSwiZXJyb3IiLGYpfTtpcShlLCJsb2FkIixmKTtpcShlLCJlcnJvciIsZil9ZCYmKGUuYXR0cmlidXRpb25TcmM9IiIpO2Uuc3JjPWI7YS5nb29nbGVfaW1hZ2VfcmVxdWVzdHMucHVzaChlKX0KZnVuY3Rpb24gbHEoYSl7dmFyIGI7Yj1iPT09dm9pZCAwPyExOmI7dmFyIGM9Imh0dHBzOi8vcGFnZWFkMi5nb29nbGVzeW5kaWNhdGlvbi5jb20vcGFnZWFkL2dlbl8yMDQ/aWQ9dGNmZSI7ZXEoYSxmdW5jdGlvbihkLGUpe2lmKGR8fGQ9PT0wKWMrPSImIitlKyI9IitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGQpKX0pO21xKGMsYil9CmZ1bmN0aW9uIG1xKGEsYil7dmFyIGM9d2luZG93LGQ7Yj1iPT09dm9pZCAwPyExOmI7ZD1kPT09dm9pZCAwPyExOmQ7aWYoYy5mZXRjaCl7dmFyIGU9e2tlZXBhbGl2ZTohMCxjcmVkZW50aWFsczoiaW5jbHVkZSIscmVkaXJlY3Q6ImZvbGxvdyIsbWV0aG9kOiJnZXQiLG1vZGU6Im5vLWNvcnMifTtkJiYoZS5tb2RlPSJjb3JzIiwic2V0QXR0cmlidXRpb25SZXBvcnRpbmciaW4gWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlP2UuYXR0cmlidXRpb25SZXBvcnRpbmc9e2V2ZW50U291cmNlRWxpZ2libGU6InRydWUiLHRyaWdnZXJFbGlnaWJsZToiZmFsc2UifTplLmhlYWRlcnM9eyJBdHRyaWJ1dGlvbi1SZXBvcnRpbmctRWxpZ2libGUiOiJldmVudC1zb3VyY2UifSk7Yy5mZXRjaChhLGUpfWVsc2Uga3EoYyxhLGI9PT12b2lkIDA/ITE6YixkPT09dm9pZCAwPyExOmQpfTt2YXIgbnE9ZnVuY3Rpb24oKXt0aGlzLmxhPXRoaXMubGE7dGhpcy5UPXRoaXMuVH07bnEucHJvdG90eXBlLmxhPSExO25xLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5sYXx8KHRoaXMubGE9ITAsdGhpcy5QKCkpfTtucS5wcm90b3R5cGVbU3ltYm9sLmRpc3Bvc2VdPWZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9O25xLnByb3RvdHlwZS5hZGRPbkRpc3Bvc2VDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3RoaXMubGE/YiE9PXZvaWQgMD9hLmNhbGwoYik6YSgpOih0aGlzLlR8fCh0aGlzLlQ9W10pLGImJihhPWEuYmluZChiKSksdGhpcy5ULnB1c2goYSkpfTtucS5wcm90b3R5cGUuUD1mdW5jdGlvbigpe2lmKHRoaXMuVClmb3IoO3RoaXMuVC5sZW5ndGg7KXRoaXMuVC5zaGlmdCgpKCl9O2Z1bmN0aW9uIG9xKGEpe2EuYWRkdGxDb25zZW50IT09dm9pZCAwJiZ0eXBlb2YgYS5hZGR0bENvbnNlbnQhPT0ic3RyaW5nIiYmKGEuYWRkdGxDb25zZW50PXZvaWQgMCk7YS5nZHByQXBwbGllcyE9PXZvaWQgMCYmdHlwZW9mIGEuZ2RwckFwcGxpZXMhPT0iYm9vbGVhbiImJihhLmdkcHJBcHBsaWVzPXZvaWQgMCk7cmV0dXJuIGEudGNTdHJpbmchPT12b2lkIDAmJnR5cGVvZiBhLnRjU3RyaW5nIT09InN0cmluZyJ8fGEubGlzdGVuZXJJZCE9PXZvaWQgMCYmdHlwZW9mIGEubGlzdGVuZXJJZCE9PSJudW1iZXIiPzI6YS5jbXBTdGF0dXMmJmEuY21wU3RhdHVzIT09ImVycm9yIj8wOjN9CnZhciBwcT1mdW5jdGlvbihhLGIpe2I9Yj09PXZvaWQgMD97fTpiO25xLmNhbGwodGhpcyk7dGhpcy5DPW51bGw7dGhpcy5zYT17fTt0aGlzLlJjPTA7dGhpcy5WPW51bGw7dGhpcy5IPWE7dmFyIGM7dGhpcy55Yj0oYz1iLnRpbWVvdXRNcykhPW51bGw/Yzo1MDA7dmFyIGQ7dGhpcy5uYj0oZD1iLnd0KSE9bnVsbD9kOiExfTt3YShwcSxucSk7cHEucHJvdG90eXBlLlA9ZnVuY3Rpb24oKXt0aGlzLnNhPXt9O3RoaXMuViYmKGpxKHRoaXMuSCwibWVzc2FnZSIsdGhpcy5WKSxkZWxldGUgdGhpcy5WKTtkZWxldGUgdGhpcy5zYTtkZWxldGUgdGhpcy5IO2RlbGV0ZSB0aGlzLkM7bnEucHJvdG90eXBlLlAuY2FsbCh0aGlzKX07dmFyIHJxPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYS5ILl9fdGNmYXBpPT09ImZ1bmN0aW9uInx8cXEoYSkhPW51bGx9OwpwcS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9e2ludGVybmFsQmxvY2tPbkVycm9yczp0aGlzLm5ifSxkPWRxKGZ1bmN0aW9uKCl7cmV0dXJuIGEoYyl9KSxlPTA7dGhpcy55YiE9PS0xJiYoZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy50Y1N0cmluZz0idGN1bmF2YWlsYWJsZSI7Yy5pbnRlcm5hbEVycm9yU3RhdGU9MTtkKCl9LHRoaXMueWIpKTt2YXIgZj1mdW5jdGlvbihnLGgpe2NsZWFyVGltZW91dChlKTtnPyhjPWcsYy5pbnRlcm5hbEVycm9yU3RhdGU9b3EoYyksYy5pbnRlcm5hbEJsb2NrT25FcnJvcnM9Yi5uYixoJiZjLmludGVybmFsRXJyb3JTdGF0ZT09PTB8fChjLnRjU3RyaW5nPSJ0Y3VuYXZhaWxhYmxlIixofHwoYy5pbnRlcm5hbEVycm9yU3RhdGU9MykpKTooYy50Y1N0cmluZz0idGN1bmF2YWlsYWJsZSIsYy5pbnRlcm5hbEVycm9yU3RhdGU9Myk7YShjKX07dHJ5e3NxKHRoaXMsImFkZEV2ZW50TGlzdGVuZXIiLGYpfWNhdGNoKGcpe2MudGNTdHJpbmc9CiJ0Y3VuYXZhaWxhYmxlIixjLmludGVybmFsRXJyb3JTdGF0ZT0zLGUmJihjbGVhclRpbWVvdXQoZSksZT0wKSxkKCl9fTtwcS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhKXthJiZhLmxpc3RlbmVySWQmJnNxKHRoaXMsInJlbW92ZUV2ZW50TGlzdGVuZXIiLG51bGwsYS5saXN0ZW5lcklkKX07CnZhciB1cT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7ZD1kPT09dm9pZCAwPyI3NTUiOmQ7dmFyIGU7YTp7aWYoYS5wdWJsaXNoZXImJmEucHVibGlzaGVyLnJlc3RyaWN0aW9ucyl7dmFyIGY9YS5wdWJsaXNoZXIucmVzdHJpY3Rpb25zW2JdO2lmKGYhPT12b2lkIDApe2U9ZltkPT09dm9pZCAwPyI3NTUiOmRdO2JyZWFrIGF9fWU9dm9pZCAwfXZhciBnPWU7aWYoZz09PTApcmV0dXJuITE7dmFyIGg9YztjPT09Mj8oaD0wLGc9PT0yJiYoaD0xKSk6Yz09PTMmJihoPTEsZz09PTEmJihoPTApKTt2YXIgbDtpZihoPT09MClpZihhLnB1cnBvc2UmJmEudmVuZG9yKXt2YXIgbj10cShhLnZlbmRvci5jb25zZW50cyxkPT09dm9pZCAwPyI3NTUiOmQpO2w9biYmYj09PSIxIiYmYS5wdXJwb3NlT25lVHJlYXRtZW50JiZhLnB1Ymxpc2hlckNDPT09IkNIIj8hMDpuJiZ0cShhLnB1cnBvc2UuY29uc2VudHMsYil9ZWxzZSBsPSEwO2Vsc2UgbD1oPT09MT9hLnB1cnBvc2UmJmEudmVuZG9yP3RxKGEucHVycG9zZS5sZWdpdGltYXRlSW50ZXJlc3RzLApiKSYmdHEoYS52ZW5kb3IubGVnaXRpbWF0ZUludGVyZXN0cyxkPT09dm9pZCAwPyI3NTUiOmQpOiEwOiEwO3JldHVybiBsfSx0cT1mdW5jdGlvbihhLGIpe3JldHVybiEoIWF8fCFhW2JdKX0sc3E9ZnVuY3Rpb24oYSxiLGMsZCl7Y3x8KGM9ZnVuY3Rpb24oKXt9KTt2YXIgZT1hLkg7aWYodHlwZW9mIGUuX190Y2ZhcGk9PT0iZnVuY3Rpb24iKXt2YXIgZj1lLl9fdGNmYXBpO2YoYiwyLGMsZCl9ZWxzZSBpZihxcShhKSl7dnEoYSk7dmFyIGc9KythLlJjO2Euc2FbZ109YztpZihhLkMpe3ZhciBoPXt9O2EuQy5wb3N0TWVzc2FnZSgoaC5fX3RjZmFwaUNhbGw9e2NvbW1hbmQ6Yix2ZXJzaW9uOjIsY2FsbElkOmcscGFyYW1ldGVyOmR9LGgpLCIqIil9fWVsc2UgYyh7fSwhMSl9LHFxPWZ1bmN0aW9uKGEpe2lmKGEuQylyZXR1cm4gYS5DO2EuQz1mcShhLkgsIl9fdGNmYXBpTG9jYXRvciIpO3JldHVybiBhLkN9LHZxPWZ1bmN0aW9uKGEpe2lmKCFhLlYpe3ZhciBiPWZ1bmN0aW9uKGMpe3RyeXt2YXIgZDsKZD0odHlwZW9mIGMuZGF0YT09PSJzdHJpbmciP0pTT04ucGFyc2UoYy5kYXRhKTpjLmRhdGEpLl9fdGNmYXBpUmV0dXJuO2Euc2FbZC5jYWxsSWRdKGQucmV0dXJuVmFsdWUsZC5zdWNjZXNzKX1jYXRjaChlKXt9fTthLlY9YjtpcShhLkgsIm1lc3NhZ2UiLGIpfX0sd3E9ZnVuY3Rpb24oYSl7aWYoYS5nZHByQXBwbGllcz09PSExKXJldHVybiEwO2EuaW50ZXJuYWxFcnJvclN0YXRlPT09dm9pZCAwJiYoYS5pbnRlcm5hbEVycm9yU3RhdGU9b3EoYSkpO3JldHVybiBhLmNtcFN0YXR1cz09PSJlcnJvciJ8fGEuaW50ZXJuYWxFcnJvclN0YXRlIT09MD9hLmludGVybmFsQmxvY2tPbkVycm9ycz8obHEoe2U6U3RyaW5nKGEuaW50ZXJuYWxFcnJvclN0YXRlKX0pLCExKTohMDphLmNtcFN0YXR1cyE9PSJsb2FkZWQifHxhLmV2ZW50U3RhdHVzIT09InRjbG9hZGVkIiYmYS5ldmVudFN0YXR1cyE9PSJ1c2VyYWN0aW9uY29tcGxldGUiPyExOiEwfTt2YXIgeHE9ezE6MCwzOjAsNDowLDc6Myw5OjMsMTA6M307cGcoMzIsNTAwKTtmdW5jdGlvbiB5cSgpe3JldHVybiAkbigidGNmIixmdW5jdGlvbigpe3JldHVybnt9fSl9dmFyIHpxPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwcSh3LHt0aW1lb3V0TXM6LTF9KX07CmZ1bmN0aW9uIEFxKCl7dmFyIGE9eXEoKSxiPXpxKCk7cnEoYikmJiFCcSgpJiYhQ3EoKSYmTSgxMjQpO2lmKCFhLmFjdGl2ZSYmcnEoYikpe0JxKCkmJihhLmFjdGl2ZT0hMCxhLnB1cnBvc2VzPXt9LGEuY21wSWQ9MCxhLnRjZlBvbGljeVZlcnNpb249MCxIbCgpLmFjdGl2ZT0hMCxhLnRjU3RyaW5nPSJ0Y3VuYXZhaWxhYmxlIik7Vm4oKTt0cnl7Yi5hZGRFdmVudExpc3RlbmVyKGZ1bmN0aW9uKGMpe2lmKGMuaW50ZXJuYWxFcnJvclN0YXRlIT09MClEcShhKSxXbihbSy5tLlcsSy5tLk5hLEsubS5YXSksSGwoKS5hY3RpdmU9ITA7ZWxzZSBpZihhLmdkcHJBcHBsaWVzPWMuZ2RwckFwcGxpZXMsYS5jbXBJZD1jLmNtcElkLGEuZW5hYmxlQWR2ZXJ0aXNlckNvbnNlbnRNb2RlPWMuZW5hYmxlQWR2ZXJ0aXNlckNvbnNlbnRNb2RlLENxKCkmJihhLmFjdGl2ZT0hMCksIUVxKGMpfHxCcSgpfHxDcSgpKXthLnRjZlBvbGljeVZlcnNpb249Yy50Y2ZQb2xpY3lWZXJzaW9uO3ZhciBkO2lmKGMuZ2RwckFwcGxpZXM9PT0KITEpe3ZhciBlPXt9LGY7Zm9yKGYgaW4geHEpeHEuaGFzT3duUHJvcGVydHkoZikmJihlW2ZdPSEwKTtkPWU7Yi5yZW1vdmVFdmVudExpc3RlbmVyKGMpfWVsc2UgaWYoRXEoYykpe3ZhciBnPXt9LGg7Zm9yKGggaW4geHEpaWYoeHEuaGFzT3duUHJvcGVydHkoaCkpaWYoaD09PSIxIil7dmFyIGwsbj1jLHA9e1JxOiEwfTtwPXA9PT12b2lkIDA/e306cDtsPXdxKG4pP24uZ2RwckFwcGxpZXM9PT0hMT8hMDpuLnRjU3RyaW5nPT09InRjdW5hdmFpbGFibGUiPyFwLmlkcGNBcHBsaWVzOihwLmlkcGNBcHBsaWVzfHxuLmdkcHJBcHBsaWVzIT09dm9pZCAwfHxwLlJxKSYmKHAuaWRwY0FwcGxpZXN8fHR5cGVvZiBuLnRjU3RyaW5nPT09InN0cmluZyImJm4udGNTdHJpbmcubGVuZ3RoKT91cShuLCIxIiwwKTohMDohMTtnWyIxIl09bH1lbHNlIGdbaF09dXEoYyxoLHhxW2hdKTtkPWd9aWYoZCl7YS50Y1N0cmluZz1jLnRjU3RyaW5nfHwidGNlbXB0eSI7YS5wdXJwb3Nlcz1kO3ZhciBxPXt9LApyPShxW0subS5XXT1hLnB1cnBvc2VzWyIxIl0/ImdyYW50ZWQiOiJkZW5pZWQiLHEpO2EuZ2RwckFwcGxpZXMhPT0hMD8oV24oW0subS5XLEsubS5OYSxLLm0uWF0pLEhsKCkuYWN0aXZlPSEwKToocltLLm0uTmFdPWEucHVycG9zZXNbIjMiXSYmYS5wdXJwb3Nlc1siNCJdPyJncmFudGVkIjoiZGVuaWVkIix0eXBlb2YgYS50Y2ZQb2xpY3lWZXJzaW9uPT09Im51bWJlciImJmEudGNmUG9saWN5VmVyc2lvbj49ND9yW0subS5YXT1hLnB1cnBvc2VzWyIxIl0mJmEucHVycG9zZXNbIjciXT8iZ3JhbnRlZCI6ImRlbmllZCI6V24oW0subS5YXSksUG4ocix7ZXZlbnRJZDowfSx7Z2RwckFwcGxpZXM6YT9hLmdkcHJBcHBsaWVzOnZvaWQgMCx0Y1N0cmluZzpGcSgpfHwiIn0pKX19ZWxzZSBXbihbSy5tLlcsSy5tLk5hLEsubS5YXSl9KX1jYXRjaChjKXtEcShhKSxXbihbSy5tLlcsSy5tLk5hLEsubS5YXSksSGwoKS5hY3RpdmU9ITB9fX0KZnVuY3Rpb24gRHEoYSl7YS50eXBlPSJlIjthLnRjU3RyaW5nPSJ0Y3VuYXZhaWxhYmxlIn1mdW5jdGlvbiBFcShhKXtyZXR1cm4gYS5ldmVudFN0YXR1cz09PSJ0Y2xvYWRlZCJ8fGEuZXZlbnRTdGF0dXM9PT0idXNlcmFjdGlvbmNvbXBsZXRlInx8YS5ldmVudFN0YXR1cz09PSJjbXB1aXNob3duIn1mdW5jdGlvbiBCcSgpe3JldHVybiB3Lmd0YWdfZW5hYmxlX3RjZl9zdXBwb3J0PT09ITB9ZnVuY3Rpb24gQ3EoKXtyZXR1cm4geXEoKS5lbmFibGVBZHZlcnRpc2VyQ29uc2VudE1vZGU9PT0hMH1mdW5jdGlvbiBGcSgpe3ZhciBhPXlxKCk7aWYoYS5hY3RpdmUpcmV0dXJuIGEudGNTdHJpbmd9ZnVuY3Rpb24gR3EoKXt2YXIgYT15cSgpO2lmKGEuYWN0aXZlJiZhLmdkcHJBcHBsaWVzIT09dm9pZCAwKXJldHVybiBhLmdkcHJBcHBsaWVzPyIxIjoiMCJ9CmZ1bmN0aW9uIEhxKGEpe2lmKCF4cS5oYXNPd25Qcm9wZXJ0eShTdHJpbmcoYSkpKXJldHVybiEwO3ZhciBiPXlxKCk7cmV0dXJuIGIuYWN0aXZlJiZiLnB1cnBvc2VzPyEhYi5wdXJwb3Nlc1tTdHJpbmcoYSldOiEwfTt2YXIgSXE9W0subS5XLEsubS5qYSxLLm0uWCxLLm0uTmFdLEpxPXt9LEtxPShKcVtLLm0uV109MSxKcVtLLm0uamFdPTIsSnEpO2Z1bmN0aW9uIExxKGEpe2lmKGE9PT12b2lkIDApcmV0dXJuIDA7c3dpdGNoKEwoYSxLLm0uVGIpKXtjYXNlIHZvaWQgMDpyZXR1cm4gMTtjYXNlICExOnJldHVybiAzO2RlZmF1bHQ6cmV0dXJuIDJ9fWZ1bmN0aW9uIE1xKCl7cmV0dXJuKFAoMTgzKT9uZygxNikuc3BsaXQoIn4iKTpuZygxNykuc3BsaXQoIn4iKSkuaW5kZXhPZihQbSgpKSE9PS0xJiZCYy5nbG9iYWxQcml2YWN5Q29udHJvbD09PSEwfWZ1bmN0aW9uIE5xKGEpe2lmKE1xKCkpcmV0dXJuITE7dmFyIGI9THEoYSk7aWYoYj09PTMpcmV0dXJuITE7c3dpdGNoKFFsKEsubS5OYSkpe2Nhc2UgMTpjYXNlIDM6cmV0dXJuITA7Y2FzZSAyOnJldHVybiExO2Nhc2UgNDpyZXR1cm4gYj09PTI7Y2FzZSAwOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fQpmdW5jdGlvbiBPcSgpe3JldHVybiBTbCgpfHwhUGwoSy5tLlcpfHwhUGwoSy5tLmphKX1mdW5jdGlvbiBQcSgpe3ZhciBhPXt9LGI7Zm9yKGIgaW4gS3EpS3EuaGFzT3duUHJvcGVydHkoYikmJihhW0txW2JdXT1RbChiKSk7cmV0dXJuIkcxIittZihhWzFdfHwwKSttZihhWzJdfHwwKX12YXIgUXE9e30sUnE9KFFxW0subS5XXT0wLFFxW0subS5qYV09MSxRcVtLLm0uWF09MixRcVtLLm0uTmFdPTMsUXEpO2Z1bmN0aW9uIFNxKGEpe3N3aXRjaChhKXtjYXNlIHZvaWQgMDpyZXR1cm4gMTtjYXNlICEwOnJldHVybiAzO2Nhc2UgITE6cmV0dXJuIDI7ZGVmYXVsdDpyZXR1cm4gMH19CmZ1bmN0aW9uIFRxKGEpe2Zvcih2YXIgYj0iMSIsYz0wO2M8SXEubGVuZ3RoO2MrKyl7dmFyIGQ9YixlLGY9SXFbY10sZz1PbC5kZWxlZ2F0ZWRDb25zZW50VHlwZXNbZl07ZT1nPT09dm9pZCAwPzA6UnEuaGFzT3duUHJvcGVydHkoZyk/MTJ8UnFbZ106ODt2YXIgaD1IbCgpO2guYWNjZXNzZWRBbnk9ITA7dmFyIGw9aC5lbnRyaWVzW2ZdfHx7fTtlPWU8PDJ8U3EobC5pbXBsaWNpdCk7Yj1kKygiIisiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVotXyJbZV0rIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLV8iW1NxKGwuZGVjbGFyZSk8PDR8U3EobC5kZWZhdWx0KTw8MnxTcShsLnVwZGF0ZSldKX12YXIgbj1iLHA9KE1xKCk/MTowKTw8MyxxPShTbCgpPzE6MCk8PDIscj1McShhKTtiPW4rIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLV8iW3B8CnF8cl07cmV0dXJuIGIrPSIiKyIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi1fIltPbC5jb250YWluZXJTY29wZWREZWZhdWx0cy5hZF9zdG9yYWdlPDw0fE9sLmNvbnRhaW5lclNjb3BlZERlZmF1bHRzLmFuYWx5dGljc19zdG9yYWdlPDwyfE9sLmNvbnRhaW5lclNjb3BlZERlZmF1bHRzLmFkX3VzZXJfZGF0YV0rIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLV8iWyhPbC51c2VkQ29udGFpbmVyU2NvcGVkRGVmYXVsdHM/MTowKTw8MnxPbC5jb250YWluZXJTY29wZWREZWZhdWx0cy5hZF9wZXJzb25hbGl6YXRpb25dfQpmdW5jdGlvbiBVcSgpe2lmKCFQbChLLm0uWCkpcmV0dXJuIi0iO2lmKFAoMTcwKSlyZXR1cm4iYSI7Zm9yKHZhciBhPU9iamVjdC5rZXlzKGduKSxiPXt9LGM9bShhKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSl7dmFyIGU9ZC52YWx1ZTtiW2VdPU9sLmNvcmVQbGF0Zm9ybVNlcnZpY2VzW2VdIT09ITF9Zm9yKHZhciBmPSIiLGc9bShhKSxoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSl7dmFyIGw9aC52YWx1ZTtiW2xdJiYoZis9Z25bbF0pfShPbC51c2VkQ29yZVBsYXRmb3JtU2VydmljZXM/T2wuc2VsZWN0ZWRBbGxDb3JlUGxhdGZvcm1TZXJ2aWNlczoxKSYmKGYrPSJvIik7cmV0dXJuIGZ8fCItIn1mdW5jdGlvbiBWcSgpe3JldHVybiBSbSgpfHwoQnEoKXx8Q3EoKSkmJkdxKCk9PT0iMSI/IjEiOiIwIn1mdW5jdGlvbiBXcSgpe3JldHVybihSbSgpPyEwOiEoIUJxKCkmJiFDcSgpKSYmR3EoKT09PSIxIil8fCFQbChLLm0uWCl9CmZ1bmN0aW9uIFhxKCl7dmFyIGE9IjAiLGI9IjAiLGM7dmFyIGQ9eXEoKTtjPWQuYWN0aXZlP2QuY21wSWQ6dm9pZCAwO3R5cGVvZiBjPT09Im51bWJlciImJmM+PTAmJmM8PTQwOTUmJihhPSIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi1fIltjPj42JjYzXSxiPSIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi1fIltjJjYzXSk7dmFyIGU9IjAiLGY7dmFyIGc9eXEoKTtmPWcuYWN0aXZlP2cudGNmUG9saWN5VmVyc2lvbjp2b2lkIDA7dHlwZW9mIGY9PT0ibnVtYmVyIiYmZj49MCYmZjw9NjMmJihlPSIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi1fIltmXSk7dmFyIGg9MDtSbSgpJiYoaHw9MSk7R3EoKT09PSIxIiYmKGh8PTIpO0JxKCkmJihofD00KTt2YXIgbDt2YXIgbj15cSgpO2w9bi5lbmFibGVBZHZlcnRpc2VyQ29uc2VudE1vZGUhPT0Kdm9pZCAwP24uZW5hYmxlQWR2ZXJ0aXNlckNvbnNlbnRNb2RlPyIxIjoiMCI6dm9pZCAwO2w9PT0iMSImJihofD04KTtIbCgpLndhaXRQZXJpb2RUaW1lZE91dCYmKGh8PTE2KTtyZXR1cm4iMSIrYStiK2UrIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLV8iW2hdfWZ1bmN0aW9uIFlxKCl7cmV0dXJuIFBtKCk9PT0iVVMtQ08ifTtmdW5jdGlvbiBacShhLGIsYyxkKXt2YXIgZSxmPU51bWJlcihhLlhjIT1udWxsP2EuWGM6dm9pZCAwKTtmIT09MCYmKGU9bmV3IERhdGUoKGJ8fEdiKCkpKzFFMyooZnx8Nzc3NkUzKSkpO3JldHVybntwYXRoOmEucGF0aCxkb21haW46YS5kb21haW4sZmxhZ3M6YS5mbGFncyxlbmNvZGU6ISFjLGV4cGlyZXM6ZSx5YzpkfX07dmFyICRxPVsiYWRfc3RvcmFnZSIsImFkX3VzZXJfZGF0YSJdO2Z1bmN0aW9uIGFyKGEsYil7aWYoIWEpcmV0dXJuIGtiKCJUQUdHSU5HIiwzMiksMTA7aWYoYj09PW51bGx8fGI9PT12b2lkIDB8fGI9PT0iIilyZXR1cm4ga2IoIlRBR0dJTkciLDMzKSwxMTt2YXIgYz1icighMSk7aWYoYy5lcnJvciE9PTApcmV0dXJuIGtiKCJUQUdHSU5HIiwzNCksYy5lcnJvcjtpZighYy52YWx1ZSlyZXR1cm4ga2IoIlRBR0dJTkciLDM1KSwyO2MudmFsdWVbYV09Yjt2YXIgZD1jcihjKTtkIT09MCYma2IoIlRBR0dJTkciLDM2KTtyZXR1cm4gZH0KZnVuY3Rpb24gZHIoYSl7aWYoIWEpcmV0dXJuIGtiKCJUQUdHSU5HIiwyNykse2Vycm9yOjEwfTt2YXIgYj1icigpO2lmKGIuZXJyb3IhPT0wKXJldHVybiBrYigiVEFHR0lORyIsMjkpLGI7aWYoIWIudmFsdWUpcmV0dXJuIGtiKCJUQUdHSU5HIiwzMCkse2Vycm9yOjJ9O2lmKCEoYSBpbiBiLnZhbHVlKSlyZXR1cm4ga2IoIlRBR0dJTkciLDMxKSx7dmFsdWU6dm9pZCAwLGVycm9yOjE1fTt2YXIgYz1iLnZhbHVlW2FdO3JldHVybiBjPT09bnVsbHx8Yz09PXZvaWQgMHx8Yz09PSIiPyhrYigiVEFHR0lORyIsMjgpLHt2YWx1ZTp2b2lkIDAsZXJyb3I6MTF9KTp7dmFsdWU6YyxlcnJvcjowfX0KZnVuY3Rpb24gYnIoYSl7YT1hPT09dm9pZCAwPyEwOmE7aWYoIVBsKCRxKSlyZXR1cm4ga2IoIlRBR0dJTkciLDQzKSx7ZXJyb3I6M307dHJ5e2lmKCF3LmxvY2FsU3RvcmFnZSlyZXR1cm4ga2IoIlRBR0dJTkciLDQ0KSx7ZXJyb3I6MX19Y2F0Y2goZil7cmV0dXJuIGtiKCJUQUdHSU5HIiw0NSkse2Vycm9yOjE0fX12YXIgYj17c2NoZW1hOiJnY2wiLHZlcnNpb246MX0sYz12b2lkIDA7dHJ5e2M9dy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiX2djbF9scyIpfWNhdGNoKGYpe3JldHVybiBrYigiVEFHR0lORyIsNDYpLHtlcnJvcjoxM319dHJ5e2lmKGMpe3ZhciBkPUpTT04ucGFyc2UoYyk7aWYoZCYmdHlwZW9mIGQ9PT0ib2JqZWN0IiliPWQ7ZWxzZSByZXR1cm4ga2IoIlRBR0dJTkciLDQ3KSx7ZXJyb3I6MTJ9fX1jYXRjaChmKXtyZXR1cm4ga2IoIlRBR0dJTkciLDQ4KSx7ZXJyb3I6OH19aWYoYi5zY2hlbWEhPT0iZ2NsIilyZXR1cm4ga2IoIlRBR0dJTkciLDQ5KSx7ZXJyb3I6NH07CmlmKGIudmVyc2lvbiE9PTEpcmV0dXJuIGtiKCJUQUdHSU5HIiw1MCkse2Vycm9yOjV9O3RyeXt2YXIgZT1lcihiKTthJiZlJiZjcih7dmFsdWU6YixlcnJvcjowfSl9Y2F0Y2goZil7cmV0dXJuIGtiKCJUQUdHSU5HIiw0OCkse2Vycm9yOjh9fXJldHVybnt2YWx1ZTpiLGVycm9yOjB9fQpmdW5jdGlvbiBlcihhKXtpZighYXx8dHlwZW9mIGEhPT0ib2JqZWN0IilyZXR1cm4hMTtpZigiZXhwaXJlcyJpbiBhJiYidmFsdWUiaW4gYSl7dmFyIGI7dHlwZW9mIGEuZXhwaXJlcz09PSJudW1iZXIiP2I9YS5leHBpcmVzOmI9dHlwZW9mIGEuZXhwaXJlcz09PSJzdHJpbmciP051bWJlcihhLmV4cGlyZXMpOk5hTjtpZihpc05hTihiKXx8IShEYXRlLm5vdygpPD1iKSlyZXR1cm4gYS52YWx1ZT1udWxsLGEuZXJyb3I9OSxrYigiVEFHR0lORyIsNTQpLCEwfWVsc2V7Zm9yKHZhciBjPSExLGQ9bShPYmplY3Qua2V5cyhhKSksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpYz1lcihhW2UudmFsdWVdKXx8YztyZXR1cm4gY31yZXR1cm4hMX0KZnVuY3Rpb24gY3IoYSl7aWYoYS5lcnJvcilyZXR1cm4gYS5lcnJvcjtpZighYS52YWx1ZSlyZXR1cm4ga2IoIlRBR0dJTkciLDQyKSwyO3ZhciBiPWEudmFsdWUsYzt0cnl7Yz1KU09OLnN0cmluZ2lmeShiKX1jYXRjaChkKXtyZXR1cm4ga2IoIlRBR0dJTkciLDUyKSw2fXRyeXt3LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJfZ2NsX2xzIixjKX1jYXRjaChkKXtyZXR1cm4ga2IoIlRBR0dJTkciLDUzKSw3fXJldHVybiAwfTt2YXIgZnI9e3pnOiJ2YWx1ZSIsZmI6ImNvbnZlcnNpb25Db3VudCIsQWc6MX0sZ3I9e05oOjgsU2g6OSx6ZzoidGltZW91dHMiLGZiOiJ0aW1lb3V0cyIsQWc6MH0saHI9e05oOjEwLFNoOjExLHpnOiJlcnJvcnMiLGZiOiJlcnJvcnMiLEFnOjB9LGlyPVtmcixncixocix7Tmg6MTIsU2g6MTMsemc6ImVvcENvdW50IixmYjoiZW5kT2ZQYWdlQ291bnQiLEFnOjB9XTtmdW5jdGlvbiBqcihhKXt2YXIgYjtiPWI9PT12b2lkIDA/MTpiO2lmKCFrcihhKSlyZXR1cm57fTt2YXIgYz1scihpciksZD1jW2EuZmJdO2lmKGQ9PT12b2lkIDB8fGQ9PT0tMSlyZXR1cm4gYzt2YXIgZT17fSxmPW5hKE9iamVjdCwiYXNzaWduIikuY2FsbChPYmplY3Qse30sYywoZVthLmZiXT1kK2IsZSkpO3JldHVybiBtcihmKT9mOmN9CmZ1bmN0aW9uIGxyKGEpe3ZhciBiO2E6e3ZhciBjPWRyKCJnY2xfY3RyIik7aWYoYy5lcnJvcj09PTAmJmMudmFsdWUmJnR5cGVvZiBjLnZhbHVlPT09Im9iamVjdCIpe3ZhciBkPWMudmFsdWU7dHJ5e2I9InZhbHVlImluIGQmJnR5cGVvZiBkLnZhbHVlPT09Im9iamVjdCI/ZC52YWx1ZTp2b2lkIDA7YnJlYWsgYX1jYXRjaChwKXt9fWI9dm9pZCAwfWZvcih2YXIgZT1iLGY9e30sZz1tKGEpLGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKXt2YXIgbD1oLnZhbHVlO2lmKGUmJmtyKGwpKXt2YXIgbj1lW2wuemddO249PT12b2lkIDB8fE51bWJlci5pc05hTihuKT9mW2wuZmJdPS0xOmZbbC5mYl09TnVtYmVyKG4pfWVsc2UgZltsLmZiXT0tMX1yZXR1cm4gZn0KZnVuY3Rpb24gbXIoYSxiKXtiPWJ8fHt9O2Zvcih2YXIgYz1HYigpLGQ9WnEoYixjLCEwKSxlPXt9LGY9bShpciksZz1mLm5leHQoKTshZy5kb25lO2c9Zi5uZXh0KCkpe3ZhciBoPWcudmFsdWUsbD1hW2guZmJdO2whPT12b2lkIDAmJmwhPT0tMSYmKGVbaC56Z109bCl9ZS5jcmVhdGlvblRpbWVNcz1jO3JldHVybiBhcigiZ2NsX2N0ciIse3ZhbHVlOmUsZXhwaXJlczpOdW1iZXIoZC5leHBpcmVzKX0pPT09MD8hMDohMX1mdW5jdGlvbiBrcihhKXtyZXR1cm4gUGwoWyJhZF9zdG9yYWdlIiwiYWRfdXNlcl9kYXRhIl0pPyFhLlNofHxXYShhLlNoKTohMX1mdW5jdGlvbiBucihhKXtyZXR1cm4gUGwoWyJhZF9zdG9yYWdlIiwiYWRfdXNlcl9kYXRhIl0pPyFhLk5ofHxXYShhLk5oKTohMX07dmFyIG9yPXtPOntUcDowLFVqOjEsSmc6MixqazozLFhoOjQsaGs6NSxpazo2LGtrOjcsWWg6OCxEbDo5LENsOjEwLHlpOjExLEVsOjEyLG9oOjEzLE5sOjE0LGRnOjE1LFJwOjE2LEtlOjE3LFVpOjE4LFZpOjE5LFdpOjIwLE1tOjIxLFhpOjIyLGFpOjIzLHVrOjI0fX07b3IuT1tvci5PLlRwXT0iUkVTRVJWRURfWkVSTyI7b3IuT1tvci5PLlVqXT0iQURTX0NPTlZFUlNJT05fSElUIjtvci5PW29yLk8uSmddPSJDT05UQUlORVJfRVhFQ1VURV9TVEFSVCI7b3IuT1tvci5PLmprXT0iQ09OVEFJTkVSX1NFVFVQX0VORCI7b3IuT1tvci5PLlhoXT0iQ09OVEFJTkVSX1NFVFVQX1NUQVJUIjtvci5PW29yLk8uaGtdPSJDT05UQUlORVJfQkxPQ0tJTkdfRU5EIjtvci5PW29yLk8uaWtdPSJDT05UQUlORVJfRVhFQ1VURV9FTkQiO29yLk9bb3IuTy5ra109IkNPTlRBSU5FUl9ZSUVMRF9FTkQiO29yLk9bb3IuTy5ZaF09IkNPTlRBSU5FUl9ZSUVMRF9TVEFSVCI7b3IuT1tvci5PLkRsXT0iRVZFTlRfRVhFQ1VURV9FTkQiOwpvci5PW29yLk8uQ2xdPSJFVkVOVF9FVkFMVUFUSU9OX0VORCI7b3IuT1tvci5PLnlpXT0iRVZFTlRfRVZBTFVBVElPTl9TVEFSVCI7b3IuT1tvci5PLkVsXT0iRVZFTlRfU0VUVVBfRU5EIjtvci5PW29yLk8ub2hdPSJFVkVOVF9TRVRVUF9TVEFSVCI7b3IuT1tvci5PLk5sXT0iR0E0X0NPTlZFUlNJT05fSElUIjtvci5PW29yLk8uZGddPSJQQUdFX0xPQUQiO29yLk9bb3IuTy5ScF09IlBBR0VWSUVXIjtvci5PW29yLk8uS2VdPSJTTklQUEVUX0xPQUQiO29yLk9bb3IuTy5VaV09IlRBR19DQUxMQkFDS19FUlJPUiI7b3IuT1tvci5PLlZpXT0iVEFHX0NBTExCQUNLX0ZBSUxVUkUiO29yLk9bb3IuTy5XaV09IlRBR19DQUxMQkFDS19TVUNDRVNTIjtvci5PW29yLk8uTW1dPSJUQUdfRVhFQ1VURV9FTkQiO29yLk9bb3IuTy5YaV09IlRBR19FWEVDVVRFX1NUQVJUIjtvci5PW29yLk8uYWldPSJDVVNUT01fUEVSRk9STUFOQ0VfU1RBUlQiO29yLk9bb3IuTy51a109IkNVU1RPTV9QRVJGT1JNQU5DRV9FTkQiO3ZhciBwcj1bXSxxcj17fSxycj17fTtmdW5jdGlvbiBzcihhKXtpZihXYSgyMCkmJnByLmluY2x1ZGVzKGEpKXt2YXIgYjsoYj1oZCgpKT09bnVsbHx8Yi5tYXJrKGErIi0iK29yLk8uYWkrIi0iKyhyclthXXx8MCkpfX1mdW5jdGlvbiB0cihhKXtpZihXYSgyMCkmJnByLmluY2x1ZGVzKGEpKXt2YXIgYj1hKyItIitvci5PLnVrKyItIisocnJbYV18fDApLGM9e3N0YXJ0OmErIi0iK29yLk8uYWkrIi0iKyhyclthXXx8MCksZW5kOmJ9LGQ7KGQ9aGQoKSk9PW51bGx8fGQubWFyayhiKTt2YXIgZSxmLGc9KGY9KGU9aGQoKSk9PW51bGw/dm9pZCAwOmUubWVhc3VyZShiLGMpKT09bnVsbD92b2lkIDA6Zi5kdXJhdGlvbjtnIT09dm9pZCAwJiYocnJbYV09KHJyW2FdfHwwKSsxLHFyW2FdPWcrKHFyW2FdfHwwKSl9fTt2YXIgdXI9WyIzIiwiNCJdO2Z1bmN0aW9uIHZyKGEpe3JldHVybiBhLm9yaWdpbiE9PSJudWxsIn07ZnVuY3Rpb24gd3IoYSxiLGMsZCl7dHJ5e3NyKCIzIik7dmFyIGU7cmV0dXJuKGU9eHIoZnVuY3Rpb24oZil7cmV0dXJuIGY9PT1hfSxiLGMsZClbYV0pIT1udWxsP2U6W119ZmluYWxseXt0cigiMyIpfX1mdW5jdGlvbiB4cihhLGIsYyxkKXt2YXIgZTtpZih5cihkKSl7Zm9yKHZhciBmPXt9LGc9U3RyaW5nKGJ8fHpyKCkpLnNwbGl0KCI7IiksaD0wO2g8Zy5sZW5ndGg7aCsrKXt2YXIgbD1nW2hdLnNwbGl0KCI9Iiksbj1sWzBdLnRyaW0oKTtpZihuJiZhKG4pKXt2YXIgcD1sLnNsaWNlKDEpLmpvaW4oIj0iKS50cmltKCk7cCYmYyYmKHA9ZGVjb2RlVVJJQ29tcG9uZW50KHApKTt2YXIgcT12b2lkIDAscj12b2lkIDA7KChxPWYpW3I9bl18fChxW3JdPVtdKSkucHVzaChwKX19ZT1mfWVsc2UgZT17fTtyZXR1cm4gZX0KZnVuY3Rpb24gQXIoYSxiLGMsZCxlKXtpZih5cihlKSl7dmFyIGY9QnIoYSxkLGUpO2lmKGYubGVuZ3RoPT09MSlyZXR1cm4gZlswXTtpZihmLmxlbmd0aCE9PTApe2Y9Q3IoZixmdW5jdGlvbihnKXtyZXR1cm4gZy5IcX0sYik7aWYoZi5sZW5ndGg9PT0xKXJldHVybiBmWzBdO2Y9Q3IoZixmdW5jdGlvbihnKXtyZXR1cm4gZy5Jcn0sYyk7cmV0dXJuIGZbMF19fX1mdW5jdGlvbiBEcihhLGIsYyxkKXt2YXIgZT16cigpLGY9d2luZG93O3ZyKGYpJiYoZi5kb2N1bWVudC5jb29raWU9YSk7dmFyIGc9enIoKTtyZXR1cm4gZSE9PWd8fGMhPT12b2lkIDAmJndyKGIsZywhMSxkKS5pbmRleE9mKGMpPj0wfQpmdW5jdGlvbiBFcihhLGIsYyxkKXtmdW5jdGlvbiBlKHgseSxBKXtpZihBPT1udWxsKXJldHVybiBkZWxldGUgaFt5XSx4O2hbeV09QTtyZXR1cm4geCsiOyAiK3krIj0iK0F9ZnVuY3Rpb24gZih4LHkpe2lmKHk9PW51bGwpcmV0dXJuIHg7aFt5XT0hMDtyZXR1cm4geCsiOyAiK3l9aWYoIXlyKGMueWMpKXJldHVybiAyO3ZhciBnO2I9PW51bGw/Zz1hKyI9ZGVsZXRlZDsgZXhwaXJlcz0iKyhuZXcgRGF0ZSgwKSkudG9VVENTdHJpbmcoKTooYy5lbmNvZGUmJihiPWVuY29kZVVSSUNvbXBvbmVudChiKSksYj1GcihiKSxnPWErIj0iK2IpO3ZhciBoPXt9O2c9ZShnLCJwYXRoIixjLnBhdGgpO3ZhciBsO2MuZXhwaXJlcyBpbnN0YW5jZW9mIERhdGU/bD1jLmV4cGlyZXMudG9VVENTdHJpbmcoKTpjLmV4cGlyZXMhPW51bGwmJihsPSIiK2MuZXhwaXJlcyk7Zz1lKGcsImV4cGlyZXMiLGwpO2c9ZShnLCJtYXgtYWdlIixjLkNyKTtnPWUoZywic2FtZXNpdGUiLGMuV3IpO2Muc2VjdXJlJiYKKGc9ZihnLCJzZWN1cmUiKSk7dmFyIG49Yy5kb21haW47aWYobiYmbi50b0xvd2VyQ2FzZSgpPT09ImF1dG8iKXtmb3IodmFyIHA9R3IoKSxxPXZvaWQgMCxyPSExLHU9MDt1PHAubGVuZ3RoOysrdSl7dmFyIHQ9cFt1XSE9PSJub25lIj9wW3VdOnZvaWQgMCx2PWUoZywiZG9tYWluIix0KTt2PWYodixjLmZsYWdzKTt0cnl7ZCYmZChhLGgpfWNhdGNoKHgpe3E9eDtjb250aW51ZX1yPSEwO2lmKCFIcih0LGMucGF0aCkmJkRyKHYsYSxiLGMueWMpKXJldHVybiAwfWlmKHEmJiFyKXRocm93IHE7cmV0dXJuIDF9biYmbi50b0xvd2VyQ2FzZSgpIT09Im5vbmUiJiYoZz1lKGcsImRvbWFpbiIsbikpO2c9ZihnLGMuZmxhZ3MpO2QmJmQoYSxoKTtyZXR1cm4gSHIobixjLnBhdGgpPzE6RHIoZyxhLGIsYy55Yyk/MDoxfQpmdW5jdGlvbiBJcihhLGIsYyl7Yy5wYXRoPT1udWxsJiYoYy5wYXRoPSIvIik7Yy5kb21haW58fChjLmRvbWFpbj0iYXV0byIpO3NyKCIyIik7dmFyIGQ9RXIoYSxiLGMpO3RyKCIyIik7cmV0dXJuIGR9ZnVuY3Rpb24gQ3IoYSxiLGMpe2Zvcih2YXIgZD1bXSxlPVtdLGYsZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgaD1hW2ddLGw9YihoKTtsPT09Yz9kLnB1c2goaCk6Zj09PXZvaWQgMHx8bDxmPyhlPVtoXSxmPWwpOmw9PT1mJiZlLnB1c2goaCl9cmV0dXJuIGQubGVuZ3RoPjA/ZDplfQpmdW5jdGlvbiBCcihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9d3IoYSx2b2lkIDAsdm9pZCAwLGMpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXS5zcGxpdCgiLiIpLGg9Zy5zaGlmdCgpO2lmKCFifHwhaHx8Yi5pbmRleE9mKGgpIT09LTEpe3ZhciBsPWcuc2hpZnQoKTtpZihsKXt2YXIgbj1sLnNwbGl0KCItIik7ZC5wdXNoKHt6cTplW2ZdLEFxOmcuam9pbigiLiIpLEhxOk51bWJlcihuWzBdKXx8MSxJcjpOdW1iZXIoblsxXSl8fDF9KX19fXJldHVybiBkfWZ1bmN0aW9uIEZyKGEpe2EmJmEubGVuZ3RoPjEyMDAmJihhPWEuc3Vic3RyaW5nKDAsMTIwMCkpO3JldHVybiBhfXZhciBKcj0vXih3d3dcLik/Z29vZ2xlKFwuY29tPyk/KFwuW2Etel17Mn0pPyQvLEtyPS8oXnxcLilkb3VibGVjbGlja1wubmV0JC9pOwpmdW5jdGlvbiBIcihhLGIpe3JldHVybiBhIT09dm9pZCAwJiYoS3IudGVzdCh3aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUpfHxiPT09Ii8iJiZKci50ZXN0KGEpKX1mdW5jdGlvbiBMcihhKXtpZighYSlyZXR1cm4gMTt2YXIgYj1hO1dhKDUpJiZhPT09Im5vbmUiJiYoYj13aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUpO2I9Yi5pbmRleE9mKCIuIik9PT0wP2Iuc3Vic3RyaW5nKDEpOmI7cmV0dXJuIGIuc3BsaXQoIi4iKS5sZW5ndGh9ZnVuY3Rpb24gTXIoYSl7aWYoIWF8fGE9PT0iLyIpcmV0dXJuIDE7YVswXSE9PSIvIiYmKGE9Ii8iK2EpO2FbYS5sZW5ndGgtMV0hPT0iLyImJihhKz0iLyIpO3JldHVybiBhLnNwbGl0KCIvIikubGVuZ3RoLTF9ZnVuY3Rpb24gTnIoYSxiKXt2YXIgYz0iIitMcihhKSxkPU1yKGIpO2Q+MSYmKGMrPSItIitkKTtyZXR1cm4gY30KdmFyIHpyPWZ1bmN0aW9uKCl7cmV0dXJuIHZyKHdpbmRvdyk/d2luZG93LmRvY3VtZW50LmNvb2tpZToiIn0seXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJldhKDYpPyhBcnJheS5pc0FycmF5KGEpP2E6W2FdKS5ldmVyeShmdW5jdGlvbihiKXtyZXR1cm4gUmwoYikmJlBsKGIpfSk6ITB9LEdyPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj13aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUuc3BsaXQoIi4iKTtpZihiLmxlbmd0aD09PTQpe3ZhciBjPWJbYi5sZW5ndGgtMV07aWYoTnVtYmVyKGMpLnRvU3RyaW5nKCk9PT1jKXJldHVyblsibm9uZSJdfWZvcih2YXIgZD1iLmxlbmd0aC0yO2Q+PTA7ZC0tKWEucHVzaChiLnNsaWNlKGQpLmpvaW4oIi4iKSk7dmFyIGU9d2luZG93LmRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lO0tyLnRlc3QoZSl8fEpyLnRlc3QoZSl8fGEucHVzaCgibm9uZSIpO3JldHVybiBhfTtmdW5jdGlvbiBPcihhKXt2YXIgYj1NYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMjE0NzQ4MzY0Nyk7cmV0dXJuIGE/U3RyaW5nKGJeYmkoYSkmMjE0NzQ4MzY0Nyk6U3RyaW5nKGIpfWZ1bmN0aW9uIFByKGEpe3JldHVybltPcihhKSxNYXRoLnJvdW5kKEdiKCkvMUUzKV0uam9pbigiLiIpfWZ1bmN0aW9uIFFyKGEsYixjLGQsZSl7dmFyIGY9THIoYiksZztyZXR1cm4oZz1BcihhLGYsTXIoYyksZCxlKSk9PW51bGw/dm9pZCAwOmcuQXF9O3ZhciBScjtmdW5jdGlvbiBTcigpe2Z1bmN0aW9uIGEoZyl7YyhnLnRhcmdldHx8Zy5zcmNFbGVtZW50fHx7fSl9ZnVuY3Rpb24gYihnKXtkKGcudGFyZ2V0fHxnLnNyY0VsZW1lbnR8fHt9KX12YXIgYz1UcixkPVVyLGU9VnIoKTtpZighZS5pbml0KXtTYyh6LCJtb3VzZWRvd24iLGEpO1NjKHosImtleXVwIixhKTtTYyh6LCJzdWJtaXQiLGIpO3ZhciBmPUhUTUxGb3JtRWxlbWVudC5wcm90b3R5cGUuc3VibWl0O0hUTUxGb3JtRWxlbWVudC5wcm90b3R5cGUuc3VibWl0PWZ1bmN0aW9uKCl7ZCh0aGlzKTtmLmNhbGwodGhpcyl9O2UuaW5pdD0hMH19ZnVuY3Rpb24gV3IoYSxiLGMsZCxlKXt2YXIgZj17Y2FsbGJhY2s6YSxkb21haW5zOmIsZnJhZ21lbnQ6Yz09PTIscGxhY2VtZW50OmMsZm9ybXM6ZCxzYW1lSG9zdDplfTtWcigpLmRlY29yYXRvcnMucHVzaChmKX0KZnVuY3Rpb24gWHIoYSxiLGMpe2Zvcih2YXIgZD1WcigpLmRlY29yYXRvcnMsZT17fSxmPTA7ZjxkLmxlbmd0aDsrK2Ype3ZhciBnPWRbZl0saDtpZihoPSFjfHxnLmZvcm1zKWE6e3ZhciBsPWcuZG9tYWlucyxuPWEscD0hIWcuc2FtZUhvc3Q7aWYobCYmKHB8fG4hPT16LmxvY2F0aW9uLmhvc3RuYW1lKSlmb3IodmFyIHE9MDtxPGwubGVuZ3RoO3ErKylpZihsW3FdaW5zdGFuY2VvZiBSZWdFeHApe2lmKGxbcV0udGVzdChuKSl7aD0hMDticmVhayBhfX1lbHNlIGlmKG4uaW5kZXhPZihsW3FdKT49MHx8cCYmbFtxXS5pbmRleE9mKG4pPj0wKXtoPSEwO2JyZWFrIGF9aD0hMX1pZihoKXt2YXIgcj1nLnBsYWNlbWVudDtyPT09dm9pZCAwJiYocj1nLmZyYWdtZW50PzI6MSk7cj09PWImJkpiKGUsZy5jYWxsYmFjaygpKX19cmV0dXJuIGV9CmZ1bmN0aW9uIFZyKCl7dmFyIGE9RmMoImdvb2dsZV90YWdfZGF0YSIse30pLGI9YS5nbDtiJiZiLmRlY29yYXRvcnN8fChiPXtkZWNvcmF0b3JzOltdfSxhLmdsPWIpO3JldHVybiBifTt2YXIgWXI9LyguKj8pXCooLio/KVwqKC4qKS8sWnI9L15odHRwcz86XC9cLyhbXlwvXSo/KVwuP2NkblwuYW1wcHJvamVjdFwub3JnXC8/KC4qKS8sJHI9L14oPzp3d3dcLnxtXC58YW1wXC4pKy8sYXM9LyhbXj8jXSspKFw/W14jXSopPygjLiopPy87ZnVuY3Rpb24gYnMoYSl7dmFyIGI9YXMuZXhlYyhhKTtpZihiKXJldHVybntGajpiWzFdLHF1ZXJ5OmJbMl0sZnJhZ21lbnQ6YlszXX19ZnVuY3Rpb24gY3MoYSl7cmV0dXJuIG5ldyBSZWdFeHAoIiguKj8pKF58JikiK2ErIj0oW14mXSopJj8oLiopIil9CmZ1bmN0aW9uIGRzKGEsYil7dmFyIGM9W0JjLnVzZXJBZ2VudCwobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksQmMudXNlckxhbmd1YWdlfHxCYy5sYW5ndWFnZSxNYXRoLmZsb29yKEdiKCkvNjAvMUUzKS0oYj09PXZvaWQgMD8wOmIpLGFdLmpvaW4oIioiKSxkO2lmKCEoZD1Scikpe2Zvcih2YXIgZT1BcnJheSgyNTYpLGY9MDtmPDI1NjtmKyspe2Zvcih2YXIgZz1mLGg9MDtoPDg7aCsrKWc9ZyYxP2c+Pj4xXjM5ODgyOTIzODQ6Zz4+PjE7ZVtmXT1nfWQ9ZX1Scj1kO2Zvcih2YXIgbD00Mjk0OTY3Mjk1LG49MDtuPGMubGVuZ3RoO24rKylsPWw+Pj44XlJyWyhsXmMuY2hhckNvZGVBdChuKSkmMjU1XTtyZXR1cm4oKGxeLTEpPj4+MCkudG9TdHJpbmcoMzYpfQpmdW5jdGlvbiBlcyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9cGoody5sb2NhdGlvbi5ocmVmKSxkPWMuc2VhcmNoLnJlcGxhY2UoIj8iLCIiKSxlPWdqKGQsIl9nbCIsITEsITApfHwiIjtiLnF1ZXJ5PWZzKGUpfHx7fTt2YXIgZj1qaihjLCJmcmFnbWVudCIpLGc7dmFyIGg9LTE7aWYoTGIoZiwiX2dsPSIpKWg9NDtlbHNle3ZhciBsPWYuaW5kZXhPZigiJl9nbD0iKTtsPjAmJihoPWwrMysyKX1pZihoPDApZz12b2lkIDA7ZWxzZXt2YXIgbj1mLmluZGV4T2YoIiYiLGgpO2c9bjwwP2Yuc3Vic3RyaW5nKGgpOmYuc3Vic3RyaW5nKGgsbil9Yi5mcmFnbWVudD1mcyhnfHwiIil8fHt9O2EmJmdzKGMsZCxmKX19ZnVuY3Rpb24gaHMoYSxiKXt2YXIgYz1jcyhhKS5leGVjKGIpLGQ9YjtpZihjKXt2YXIgZT1jWzJdLGY9Y1s0XTtkPWNbMV07ZiYmKGQ9ZCtlK2YpfXJldHVybiBkfQpmdW5jdGlvbiBncyhhLGIsYyl7ZnVuY3Rpb24gZChnLGgpe3ZhciBsPWhzKCJfZ2wiLGcpO2wubGVuZ3RoJiYobD1oK2wpO3JldHVybiBsfWlmKEFjJiZBYy5yZXBsYWNlU3RhdGUpe3ZhciBlPWNzKCJfZ2wiKTtpZihlLnRlc3QoYil8fGUudGVzdChjKSl7dmFyIGY9amooYSwicGF0aCIpO2I9ZChiLCI/Iik7Yz1kKGMsIiMiKTtBYy5yZXBsYWNlU3RhdGUoe30sIiIsIiIrZitiK2MpfX19ZnVuY3Rpb24gaXMoYSxiKXt2YXIgYz1lcyghIWIpLGQ9VnIoKTtkLmRhdGF8fChkLmRhdGE9e3F1ZXJ5Ont9LGZyYWdtZW50Ont9fSxjKGQuZGF0YSkpO3ZhciBlPXt9LGY9ZC5kYXRhO2YmJihKYihlLGYucXVlcnkpLGEmJkpiKGUsZi5mcmFnbWVudCkpO3JldHVybiBlfQp2YXIgZnM9ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPWpzKGEsMyk7aWYoYiE9PXZvaWQgMCl7Zm9yKHZhciBjPXt9LGQ9Yj9iLnNwbGl0KCIqIik6W10sZT0wO2UrMTxkLmxlbmd0aDtlKz0yKXt2YXIgZj1kW2VdLGc9aWIoZFtlKzFdKTtjW2ZdPWd9a2IoIlRBR0dJTkciLDYpO3JldHVybiBjfX1jYXRjaChoKXtrYigiVEFHR0lORyIsOCl9fTtmdW5jdGlvbiBqcyhhLGIpe2lmKGEpe3ZhciBjO2E6e2Zvcih2YXIgZD1hLGU9MDtlPDM7KytlKXt2YXIgZj1Zci5leGVjKGQpO2lmKGYpe2M9ZjticmVhayBhfWQ9aWooZCl8fCIifWM9dm9pZCAwfXZhciBnPWM7aWYoZyYmZ1sxXT09PSIxIil7dmFyIGg9Z1szXSxsO2E6e2Zvcih2YXIgbj1nWzJdLHA9MDtwPGI7KytwKWlmKG49PT1kcyhoLHApKXtsPSEwO2JyZWFrIGF9bD0hMX1pZihsKXJldHVybiBoO2tiKCJUQUdHSU5HIiw3KX19fQpmdW5jdGlvbiBrcyhhLGIsYyxkLGUpe2Z1bmN0aW9uIGYocCl7cD1ocyhhLHApO3ZhciBxPXAuY2hhckF0KHAubGVuZ3RoLTEpO3AmJnEhPT0iJiImJihwKz0iJiIpO3JldHVybiBwK259ZD1kPT09dm9pZCAwPyExOmQ7ZT1lPT09dm9pZCAwPyExOmU7dmFyIGc9YnMoYyk7aWYoIWcpcmV0dXJuIiI7dmFyIGg9Zy5xdWVyeXx8IiIsbD1nLmZyYWdtZW50fHwiIixuPWErIj0iK2I7ZD9sLnN1YnN0cmluZygxKS5sZW5ndGghPT0wJiZlfHwobD0iIyIrZihsLnN1YnN0cmluZygxKSkpOmg9Ij8iK2YoaC5zdWJzdHJpbmcoMSkpO3JldHVybiIiK2cuRmoraCtsfQpmdW5jdGlvbiBscyhhLGIpe2Z1bmN0aW9uIGMobixwLHEpe3ZhciByO2E6e2Zvcih2YXIgdSBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkodSkpe3I9ITA7YnJlYWsgYX1yPSExfWlmKHIpe3ZhciB0LHY9W10seDtmb3IoeCBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkoeCkpe3ZhciB5PW5beF07eSE9PXZvaWQgMCYmeT09PXkmJnkhPT1udWxsJiZ5LnRvU3RyaW5nKCkhPT0iW29iamVjdCBPYmplY3RdIiYmKHYucHVzaCh4KSx2LnB1c2goaGIoU3RyaW5nKHkpKSkpfXZhciBBPXYuam9pbigiKiIpO3Q9WyIxIixkcyhBKSxBXS5qb2luKCIqIik7ZD8oV2EoMyl8fFdhKDEpfHwhcCkmJm1zKCJfZ2wiLHQsYSxwLHEpOm5zKCJfZ2wiLHQsYSxwLHEpfX12YXIgZD0oYS50YWdOYW1lfHwiIikudG9VcHBlckNhc2UoKT09PSJGT1JNIixlPVhyKGIsMSxkKSxmPVhyKGIsMixkKSxnPVhyKGIsNCxkKSxoPVhyKGIsMyxkKTtjKGUsITEsITEpO2MoZiwhMCwhMSk7V2EoMSkmJmMoZywhMCwhMCk7Zm9yKHZhciBsIGluIGgpaC5oYXNPd25Qcm9wZXJ0eShsKSYmCm9zKGwsaFtsXSxhKX1mdW5jdGlvbiBvcyhhLGIsYyl7Yy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT0iYSI/bnMoYSxiLGMpOmMudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09ImZvcm0iJiZtcyhhLGIsYyl9ZnVuY3Rpb24gbnMoYSxiLGMsZCxlKXtkPWQ9PT12b2lkIDA/ITE6ZDtlPWU9PT12b2lkIDA/ITE6ZTt2YXIgZjtpZihmPWMuaHJlZil7dmFyIGc7aWYoIShnPSFXYSg0KXx8ZCkpe3ZhciBoPXcubG9jYXRpb24uaHJlZixsPWJzKGMuaHJlZiksbj1icyhoKTtnPSEobCYmbiYmbC5Gaj09PW4uRmomJmwucXVlcnk9PT1uLnF1ZXJ5JiZsLmZyYWdtZW50KX1mPWd9aWYoZil7dmFyIHA9a3MoYSxiLGMuaHJlZixkLGUpO3FjLnRlc3QocCkmJihjLmhyZWY9cCl9fQpmdW5jdGlvbiBtcyhhLGIsYyxkLGUpe2Q9ZD09PXZvaWQgMD8hMTpkO2U9ZT09PXZvaWQgMD8hMTplO2lmKGMpe3ZhciBmPWMuZ2V0QXR0cmlidXRlKCJhY3Rpb24iKXx8IiI7aWYoZil7dmFyIGc9KGMubWV0aG9kfHwiIikudG9Mb3dlckNhc2UoKTtpZihnIT09ImdldCJ8fGQpe2lmKGc9PT0iZ2V0Inx8Zz09PSJwb3N0Iil7dmFyIGg9a3MoYSxiLGYsZCxlKTtxYy50ZXN0KGgpJiYoYy5hY3Rpb249aCl9fWVsc2V7Zm9yKHZhciBsPWMuY2hpbGROb2Rlc3x8W10sbj0hMSxwPTA7cDxsLmxlbmd0aDtwKyspe3ZhciBxPWxbcF07aWYocS5uYW1lPT09YSl7cS5zZXRBdHRyaWJ1dGUoInZhbHVlIixiKTtuPSEwO2JyZWFrfX1pZighbil7dmFyIHI9ei5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIik7ci5zZXRBdHRyaWJ1dGUoIm5hbWUiLGEpO3Iuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYik7Yy5hcHBlbmRDaGlsZChyKX19fX19CmZ1bmN0aW9uIFRyKGEpe3RyeXt2YXIgYjthOntmb3IodmFyIGM9YSxkPTEwMDtjJiZkPjA7KXtpZihjLmhyZWYmJmMubm9kZU5hbWUubWF0Y2goL15hKD86cmVhKT8kL2kpKXtiPWM7YnJlYWsgYX1jPWMucGFyZW50Tm9kZTtkLS19Yj1udWxsfXZhciBlPWI7aWYoZSl7dmFyIGY9ZS5wcm90b2NvbDtmIT09Imh0dHA6IiYmZiE9PSJodHRwczoifHxscyhlLGUuaG9zdG5hbWUpfX1jYXRjaChnKXt9fWZ1bmN0aW9uIFVyKGEpe3RyeXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgiYWN0aW9uIik7aWYoYil7dmFyIGM9amoocGooYiksImhvc3QiKTtscyhhLGMpfX1jYXRjaChkKXt9fWZ1bmN0aW9uIHBzKGEsYixjLGQpe1NyKCk7dmFyIGU9Yz09PSJmcmFnbWVudCI/MjoxO2Q9ISFkO1dyKGEsYixlLGQsITEpO2U9PT0yJiZrYigiVEFHR0lORyIsMjMpO2QmJmtiKCJUQUdHSU5HIiwyNCl9CmZ1bmN0aW9uIHFzKGEsYil7U3IoKTtXcihhLFtsaih3LmxvY2F0aW9uLCJob3N0IiwhMCldLGIsITAsITApfWZ1bmN0aW9uIHJzKCl7dmFyIGE9ei5sb2NhdGlvbi5ob3N0bmFtZSxiPVpyLmV4ZWMoei5yZWZlcnJlcik7aWYoIWIpcmV0dXJuITE7dmFyIGM9YlsyXSxkPWJbMV0sZT0iIjtpZihjKXt2YXIgZj1jLnNwbGl0KCIvIiksZz1mWzFdO2U9Zz09PSJzIj9paihmWzJdKXx8IiI6aWooZyl8fCIifWVsc2UgaWYoZCl7aWYoZC5pbmRleE9mKCJ4bi0tIik9PT0wKXJldHVybiExO2U9ZC5yZXBsYWNlKC8tL2csIi4iKS5yZXBsYWNlKC9cLlwuL2csIi0iKX12YXIgaD1hLnJlcGxhY2UoJHIsIiIpLGw9ZS5yZXBsYWNlKCRyLCIiKTtyZXR1cm4gaD09PWx8fE1iKGgsIi4iK2wpfWZ1bmN0aW9uIHNzKGEsYil7cmV0dXJuIGE9PT0hMT8hMTphfHxifHxycygpfTt2YXIgdHM9WyIxIl0sdXM9e30sdnM9e307ZnVuY3Rpb24gd3MoYSxiKXtiPWI9PT12b2lkIDA/ITA6Yjt2YXIgYz14cyhhLnByZWZpeCk7aWYodXNbY10peXMoYSk7ZWxzZSBpZih6cyhjLGEucGF0aCxhLmRvbWFpbikpe3ZhciBkPXZzW3hzKGEucHJlZml4KV18fHtpZDp2b2lkIDAsUGg6dm9pZCAwfTtiJiZBcyhhLGQuaWQsZC5QaCk7eXMoYSl9ZWxzZXt2YXIgZT1yaigiYXVpZGRjIik7aWYoZSlrYigiVEFHR0lORyIsMTcpLHVzW2NdPWU7ZWxzZSBpZihiKXt2YXIgZj14cyhhLnByZWZpeCksZz1QcigpO0JzKGYsZyxhKTt6cyhjLGEucGF0aCxhLmRvbWFpbik7eXMoYSwhMCl9fX0KZnVuY3Rpb24geXMoYSxiKXtpZigoYj09PXZvaWQgMD8wOmIpJiZrcihmcikpe3ZhciBjPWJyKCExKTtjLmVycm9yIT09MD9rYigiVEFHR0lORyIsMzgpOmMudmFsdWU/ImdjbF9jdHIiaW4gYy52YWx1ZT8oZGVsZXRlIGMudmFsdWUuZ2NsX2N0cixjcihjKSE9PTAmJmtiKCJUQUdHSU5HIiw0MSkpOmtiKCJUQUdHSU5HIiw0MCk6a2IoIlRBR0dJTkciLDM5KX1pZihucihmcikmJmxyKFtmcl0pW2ZyLmZiXT09PS0xKXtmb3IodmFyIGQ9e30sZT0oZFtmci5mYl09MCxkKSxmPW0oaXIpLGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKXt2YXIgaD1nLnZhbHVlO2ghPT1mciYmbnIoaCkmJihlW2guZmJdPTApfW1yKGUsYSl9fQpmdW5jdGlvbiBBcyhhLGIsYyl7dmFyIGQ9eHMoYS5wcmVmaXgpLGU9dXNbZF07aWYoZSl7dmFyIGY9ZS5zcGxpdCgiLiIpO2lmKGYubGVuZ3RoPT09Mil7dmFyIGc9TnVtYmVyKGZbMV0pfHwwO2lmKGcpe3ZhciBoPWU7YiYmKGg9ZSsiLiIrYisiLiIrKGM/YzpNYXRoLmZsb29yKEdiKCkvMUUzKSkpO0JzKGQsaCxhLGcqMUUzKX19fX1mdW5jdGlvbiBCcyhhLGIsYyxkKXt2YXIgZTtlPVsiMSIsTnIoYy5kb21haW4sYy5wYXRoKSxiXS5qb2luKCIuIik7dmFyIGY9WnEoYyxkKTtmLnljPUNzKCk7SXIoYSxlLGYpfWZ1bmN0aW9uIHpzKGEsYixjKXt2YXIgZD1RcihhLGIsYyx0cyxDcygpKTtpZighZClyZXR1cm4hMTtEcyhhLGQpO3JldHVybiEwfQpmdW5jdGlvbiBEcyhhLGIpe3ZhciBjPWIuc3BsaXQoIi4iKTtjLmxlbmd0aD09PTU/KHVzW2FdPWMuc2xpY2UoMCwyKS5qb2luKCIuIiksdnNbYV09e2lkOmMuc2xpY2UoMiw0KS5qb2luKCIuIiksUGg6TnVtYmVyKGNbNF0pfHwwfSk6Yy5sZW5ndGg9PT0zP3ZzW2FdPXtpZDpjLnNsaWNlKDAsMikuam9pbigiLiIpLFBoOk51bWJlcihjWzJdKXx8MH06dXNbYV09Yn1mdW5jdGlvbiB4cyhhKXtyZXR1cm4oYXx8Il9nY2wiKSsiX2F1In1mdW5jdGlvbiBFcyhhKXtmdW5jdGlvbiBiKCl7UGwoYykmJmEoKX12YXIgYz1DcygpO1ZsKGZ1bmN0aW9uKCl7YigpO1BsKGMpfHxXbChiLGMpfSxjKX0KZnVuY3Rpb24gRnMoYSl7dmFyIGI9aXMoITApLGM9eHMoYS5wcmVmaXgpO0VzKGZ1bmN0aW9uKCl7dmFyIGQ9YltjXTtpZihkKXtEcyhjLGQpO3ZhciBlPU51bWJlcih1c1tjXS5zcGxpdCgiLiIpWzFdKSoxRTM7aWYoZSl7a2IoIlRBR0dJTkciLDE2KTt2YXIgZj1acShhLGUpO2YueWM9Q3MoKTt2YXIgZz1bIjEiLE5yKGEuZG9tYWluLGEucGF0aCksZF0uam9pbigiLiIpO0lyKGMsZyxmKX19fSl9ZnVuY3Rpb24gR3MoYSxiLGMsZCxlKXtlPWV8fHt9O3ZhciBmPWZ1bmN0aW9uKCl7dmFyIGc9e30saD1RcihhLGUucGF0aCxlLmRvbWFpbix0cyxDcygpKTtoJiYoZ1thXT1oKTtyZXR1cm4gZ307RXMoZnVuY3Rpb24oKXtwcyhmLGIsYyxkKX0pfWZ1bmN0aW9uIENzKCl7cmV0dXJuWyJhZF9zdG9yYWdlIiwiYWRfdXNlcl9kYXRhIl19O2Z1bmN0aW9uIEhzKGEpe2Zvcih2YXIgYj1bXSxjPXouY29va2llLnNwbGl0KCI7IiksZD1uZXcgUmVnRXhwKCJeXFxzKiIrKGF8fCJfZ2FjIikrIl8oVUEtXFxkKy1cXGQrKT1cXHMqKC4rPylcXHMqJCIpLGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXS5tYXRjaChkKTtmJiZiLnB1c2goe1hkOmZbMV0sdmFsdWU6ZlsyXSx0aW1lc3RhbXA6TnVtYmVyKGZbMl0uc3BsaXQoIi4iKVsxXSl8fDB9KX1iLnNvcnQoZnVuY3Rpb24oZyxoKXtyZXR1cm4gaC50aW1lc3RhbXAtZy50aW1lc3RhbXB9KTtyZXR1cm4gYn0KZnVuY3Rpb24gSXMoYSxiKXt2YXIgYz1IcyhhKSxkPXt9O2lmKCFjfHwhYy5sZW5ndGgpcmV0dXJuIGQ7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV0udmFsdWUuc3BsaXQoIi4iKTtpZighKGZbMF0hPT0iMSJ8fGImJmYubGVuZ3RoPDN8fCFiJiZmLmxlbmd0aCE9PTMpJiZOdW1iZXIoZlsxXSkpe2RbY1tlXS5YZF18fChkW2NbZV0uWGRdPVtdKTt2YXIgZz17dmVyc2lvbjpmWzBdLHRpbWVzdGFtcDpOdW1iZXIoZlsxXSkqMUUzLGdjbGlkOmZbMl19O2ImJmYubGVuZ3RoPjMmJihnLmxhYmVscz1mLnNsaWNlKDMpKTtkW2NbZV0uWGRdLnB1c2goZyl9fXJldHVybiBkfTt2YXIgSnM9e30sS3M9KEpzLms9e2ZhOi9eW1x3LV0rJC99LEpzLmI9e2ZhOi9eW1x3LV0rJC8sSWo6ITB9LEpzLmk9e2ZhOi9eWzEtOV1cZCokL30sSnMuaD17ZmE6L15cZCskL30sSnMudD17ZmE6L15bMS05XVxkKiQvfSxKcy5kPXtmYTovXltBLVphLXowLTlfLV0rJC99LEpzLmo9e2ZhOi9eXGQrJC99LEpzLnU9e2ZhOi9eWzEtOV1cZCokL30sSnMubD17ZmE6L15bMDFdJC99LEpzLm89e2ZhOi9eWzEtOV1cZCokL30sSnMuZz17ZmE6L15bMDFdJC99LEpzLnM9e2ZhOi9eLiskL30sSnMpO3ZhciBMcz17fSxQcz0oTHNbNV09e1VoOnsyOk1zfSx4ajoiMiIsSGg6WyJrIiwiaSIsImIiLCJ1Il19LExzWzRdPXtVaDp7MjpNcyxHQ0w6TnN9LHhqOiIyIixIaDpbImsiLCJpIiwiYiJdfSxMc1syXT17VWg6e0dTMjpNcyxHUzE6T3N9LHhqOiJHUzIiLEhoOiJzb2d0amxoZCIuc3BsaXQoIiIpfSxMcyk7ZnVuY3Rpb24gUXMoYSxiLGMpe3ZhciBkPVBzW2JdO2lmKGQpe3ZhciBlPWEuc3BsaXQoIi4iKVswXTtjPT1udWxsfHxjKGUpO2lmKGUpe3ZhciBmPWQuVWhbZV07aWYoZilyZXR1cm4gZihhLGIpfX19CmZ1bmN0aW9uIE1zKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpO2lmKGMubGVuZ3RoPT09Myl7dmFyIGQ9Y1syXTtpZihkLmluZGV4T2YoIiQiKT09PS0xJiZkLmluZGV4T2YoIiUyNCIpIT09LTEpdHJ5e2Q9ZGVjb2RlVVJJQ29tcG9uZW50KGQpfWNhdGNoKHUpe312YXIgZT17fSxmPVBzW2JdO2lmKGYpe2Zvcih2YXIgZz1mLkhoLGg9bShkLnNwbGl0KCIkIikpLGw9aC5uZXh0KCk7IWwuZG9uZTtsPWgubmV4dCgpKXt2YXIgbj1sLnZhbHVlLHA9blswXTtpZihnLmluZGV4T2YocCkhPT0tMSl0cnl7dmFyIHE9ZGVjb2RlVVJJQ29tcG9uZW50KG4uc3Vic3RyaW5nKDEpKSxyPUtzW3BdO3ImJihyLklqPyhlW3BdPWVbcF18fFtdLGVbcF0ucHVzaChxKSk6ZVtwXT1xKX1jYXRjaCh1KXt9fXJldHVybiBlfX19ZnVuY3Rpb24gUnMoYSxiLGMpe3ZhciBkPVBzW2JdO2lmKGQpcmV0dXJuW2QueGosY3x8IjEiLFNzKGEsYildLmpvaW4oIi4iKX0KZnVuY3Rpb24gU3MoYSxiKXt2YXIgYz1Qc1tiXTtpZihjKXtmb3IodmFyIGQ9W10sZT1tKGMuSGgpLGY9ZS5uZXh0KCk7IWYuZG9uZTtmPWUubmV4dCgpKXt2YXIgZz1mLnZhbHVlLGg9S3NbZ107aWYoaCl7dmFyIGw9YVtnXTtpZihsIT09dm9pZCAwKWlmKGguSWomJkFycmF5LmlzQXJyYXkobCkpZm9yKHZhciBuPW0obCkscD1uLm5leHQoKTshcC5kb25lO3A9bi5uZXh0KCkpZC5wdXNoKGVuY29kZVVSSUNvbXBvbmVudCgiIitnK3AudmFsdWUpKTtlbHNlIGQucHVzaChlbmNvZGVVUklDb21wb25lbnQoIiIrZytsKSl9fXJldHVybiBkLmpvaW4oIiQiKX19ZnVuY3Rpb24gTnMoYSl7dmFyIGI9YS5zcGxpdCgiLiIpO2Iuc2hpZnQoKTt2YXIgYz1iLnNoaWZ0KCksZD1iLnNoaWZ0KCksZT17fTtyZXR1cm4gZS5rPWQsZS5pPWMsZS5iPWIsZX0KZnVuY3Rpb24gT3MoYSl7dmFyIGI9YS5zcGxpdCgiLiIpLnNsaWNlKDIpO2lmKCEoYi5sZW5ndGg8NXx8Yi5sZW5ndGg+Nykpe3ZhciBjPXt9O3JldHVybiBjLnM9YlswXSxjLm89YlsxXSxjLmc9YlsyXSxjLnQ9YlszXSxjLmo9Yls0XSxjLmw9Yls1XSxjLmg9Yls2XSxjfX07dmFyIFRzPW5ldyBNYXAoW1s1LCJhZF9zdG9yYWdlIl0sWzQsWyJhZF9zdG9yYWdlIiwiYWRfdXNlcl9kYXRhIl1dLFsyLCJhbmFseXRpY3Nfc3RvcmFnZSJdXSk7ZnVuY3Rpb24gVXMoYSxiLGMpe2lmKFBzW2JdKXtmb3IodmFyIGQ9W10sZT13cihhLHZvaWQgMCx2b2lkIDAsVHMuZ2V0KGIpKSxmPW0oZSksZz1mLm5leHQoKTshZy5kb25lO2c9Zi5uZXh0KCkpe3ZhciBoPVFzKGcudmFsdWUsYixjKTtoJiZkLnB1c2goVnMoaCkpfXJldHVybiBkfX0KZnVuY3Rpb24gV3MoYSl7dmFyIGI9WHM7aWYoUHNbMl0pe2Zvcih2YXIgYz17fSxkPXhyKGEsdm9pZCAwLHZvaWQgMCxUcy5nZXQoMikpLGU9T2JqZWN0LmtleXMoZCkuc29ydCgpLGY9bShlKSxnPWYubmV4dCgpOyFnLmRvbmU7Zz1mLm5leHQoKSlmb3IodmFyIGg9Zy52YWx1ZSxsPW0oZFtoXSksbj1sLm5leHQoKTshbi5kb25lO249bC5uZXh0KCkpe3ZhciBwPVFzKG4udmFsdWUsMixiKTtwJiYoY1toXXx8KGNbaF09W10pLGNbaF0ucHVzaChWcyhwKSkpfXJldHVybiBjfX1mdW5jdGlvbiBZcyhhLGIsYyxkLGUpe2Q9ZHx8e307dmFyIGY9TnIoZC5kb21haW4sZC5wYXRoKSxnPVJzKGIsYyxmKTtpZighZylyZXR1cm4gMTt2YXIgaD1acShkLGUsdm9pZCAwLFRzLmdldChjKSk7cmV0dXJuIElyKGEsZyxoKX1mdW5jdGlvbiBacyhhLGIpe3ZhciBjPWIuZmE7cmV0dXJuIHR5cGVvZiBjPT09ImZ1bmN0aW9uIj9jKGEpOmMudGVzdChhKX0KZnVuY3Rpb24gVnMoYSl7Zm9yKHZhciBiPW0oT2JqZWN0LmtleXMoYSkpLGM9Yi5uZXh0KCksZD17fTshYy5kb25lO2Q9e2tnOnZvaWQgMH0sYz1iLm5leHQoKSl7dmFyIGU9Yy52YWx1ZSxmPWFbZV07ZC5rZz1Lc1tlXTtkLmtnP2Qua2cuSWo/YVtlXT1BcnJheS5pc0FycmF5KGYpP2YuZmlsdGVyKGZ1bmN0aW9uKGcpe3JldHVybiBmdW5jdGlvbihoKXtyZXR1cm4gWnMoaCxnLmtnKX19KGQpKTp2b2lkIDA6dHlwZW9mIGY9PT0ic3RyaW5nIiYmWnMoZixkLmtnKXx8KGFbZV09dm9pZCAwKTphW2VdPXZvaWQgMH1yZXR1cm4gYX07dmFyICRzPWZ1bmN0aW9uKCl7dGhpcy52YWx1ZT0wfTskcy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZhbHVlfD0xPDxhfTt2YXIgYXQ9ZnVuY3Rpb24oYSxiKXtiPD0wfHwoYS52YWx1ZXw9MTw8Yi0xKX07JHMucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfTskcy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZSY9figxPDxhKX07JHMucHJvdG90eXBlLmNsZWFyQWxsPWZ1bmN0aW9uKCl7dGhpcy52YWx1ZT0wfTskcy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZhbHVlPT09YS52YWx1ZX07ZnVuY3Rpb24gYnQoYSl7aWYoYSl0cnl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYi5jaGFyQ29kZUF0KDApfSkpfWNhdGNoKGIpe319ZnVuY3Rpb24gY3QoYSxiKXt2YXIgYz0wLGQ9MCxlLGY9Yjtkb3tpZihmPj1hLmxlbmd0aClyZXR1cm47ZT1hW2YrK107Y3w9KGUmMTI3KTw8ZDtkKz03fXdoaWxlKGUmMTI4KTtyZXR1cm5bYyxmXX07ZnVuY3Rpb24gZHQoKXt2YXIgYT1TdHJpbmcsYj13LmxvY2F0aW9uLmhvc3RuYW1lLGM9dy5sb2NhdGlvbi5wYXRobmFtZSxkPWI9WGIoYik7ZC5zcGxpdCgiLiIpLmxlbmd0aD4yJiYoZD1kLnJlcGxhY2UoL14od3d3WzAtOV0qfHdlYnxmdHB8d2FwfGhvbWV8bXx3fGFtcHxtb2JpbGUpXC4vLCIiKSk7Yj1kO2M9WGIoYyk7dmFyIGU9Yy5zcGxpdCgiOyIpWzBdO2U9ZS5yZXBsYWNlKC9cLyhhcnxzbHB8d2VifGluZGV4KT9cLz8kLywiIik7cmV0dXJuIGEoYmkoKCIiK2IrZSkudG9Mb3dlckNhc2UoKSkpfTt2YXIgZXQ9e30sZnQ9KGV0LmdjbGlkPSEwLGV0LmRjbGlkPSEwLGV0LmdicmFpZD0hMCxldC53YnJhaWQ9ITAsZXQpLGd0PS9eXHcrJC8saHQ9L15bXHctXSskLyxpdD17fSxqdD0oaXQuYXc9Il9hdyIsaXQuZGM9Il9kYyIsaXQuZ2Y9Il9nZiIsaXQuZ3A9Il9ncCIsaXQuZ3M9Il9ncyIsaXQuaGE9Il9oYSIsaXQuYWc9Il9hZyIsaXQuZ2I9Il9nYiIsaXQpLGt0PS9eKD86d3d3XC4pP2dvb2dsZSg/OlwuY29tPyk/KD86XC5bYS16XXsyfXQ/KT8kLyxsdD0vXnd3d1wuZ29vZ2xlYWRzZXJ2aWNlc1wuY29tJC87ZnVuY3Rpb24gbXQoKXtyZXR1cm5bImFkX3N0b3JhZ2UiLCJhZF91c2VyX2RhdGEiXX1mdW5jdGlvbiBudChhKXtyZXR1cm4hV2EoNil8fFBsKGEpfWZ1bmN0aW9uIG90KGEsYil7ZnVuY3Rpb24gYygpe3ZhciBkPW50KGIpO2QmJmEoKTtyZXR1cm4gZH1WbChmdW5jdGlvbigpe2MoKXx8V2woYyxiKX0sYil9CmZ1bmN0aW9uIHB0KGEpe3JldHVybiBxdChhKS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2NsaWR9KX1mdW5jdGlvbiBydChhKXtyZXR1cm4gc3QoYSkuZmlsdGVyKGZ1bmN0aW9uKGIpe3JldHVybiBiLmdjbGlkfSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBiLmdjbGlkfSl9ZnVuY3Rpb24gc3QoYSl7dmFyIGI9dHQoYS5wcmVmaXgpLGM9dXQoImdiIixiKSxkPXV0KCJhZyIsYik7aWYoIWR8fCFjKXJldHVybltdO3ZhciBlPWZ1bmN0aW9uKGgpe3JldHVybiBmdW5jdGlvbihsKXtsLnR5cGU9aDtyZXR1cm4gbH19LGY9cXQoYykubWFwKGUoImdiIikpLGc9dnQoZCkubWFwKGUoImFnIikpO3JldHVybiBmLmNvbmNhdChnKS5zb3J0KGZ1bmN0aW9uKGgsbCl7cmV0dXJuIGwudGltZXN0YW1wLWgudGltZXN0YW1wfSl9CmZ1bmN0aW9uIHd0KGEsYixjLGQsZSl7dmFyIGY9dmIoYSxmdW5jdGlvbihnKXtyZXR1cm4gZy5nY2xpZD09PWJ9KTtmPyhmLnRpbWVzdGFtcDxjJiYoZi50aW1lc3RhbXA9YyxmLldjPWUpLGYubGFiZWxzPXh0KGYubGFiZWxzfHxbXSxkfHxbXSkpOmEucHVzaCh7dmVyc2lvbjoiMiIsZ2NsaWQ6Yix0aW1lc3RhbXA6YyxsYWJlbHM6ZCxXYzplfSl9ZnVuY3Rpb24gdnQoYSl7Zm9yKHZhciBiPVVzKGEsNSl8fFtdLGM9W10sZD1tKGIpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXt2YXIgZj1lLnZhbHVlLGc9ZixoPXp0KGYpO2gmJnd0KGMsZy5rLGgsZy5ifHxbXSxmLnUpfXJldHVybiBjLnNvcnQoZnVuY3Rpb24obCxuKXtyZXR1cm4gbi50aW1lc3RhbXAtbC50aW1lc3RhbXB9KX0KZnVuY3Rpb24gcXQoYSl7Zm9yKHZhciBiPVtdLGM9d3IoYSx6LmNvb2tpZSx2b2lkIDAsbXQoKSksZD1tKGMpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXt2YXIgZj1BdChlLnZhbHVlKTtmIT1udWxsJiYoZi5XYz12b2lkIDAsZi56YT1uZXcgJHMsZi5aYT1bMV0sQnQoYixmKSl9Yi5zb3J0KGZ1bmN0aW9uKGcsaCl7cmV0dXJuIGgudGltZXN0YW1wLWcudGltZXN0YW1wfSk7cmV0dXJuIEN0KGIpfWZ1bmN0aW9uIER0KGEsYil7Zm9yKHZhciBjPVtdLGQ9bShhKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7dmFyIGY9ZS52YWx1ZTtjLmluY2x1ZGVzKGYpfHxjLnB1c2goZil9Zm9yKHZhciBnPW0oYiksaD1nLm5leHQoKTshaC5kb25lO2g9Zy5uZXh0KCkpe3ZhciBsPWgudmFsdWU7Yy5pbmNsdWRlcyhsKXx8Yy5wdXNoKGwpfXJldHVybiBjfQpmdW5jdGlvbiBCdChhLGIsYyl7Yz1jPT09dm9pZCAwPyExOmM7Zm9yKHZhciBkLGUsZj1tKGEpLGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKXt2YXIgaD1nLnZhbHVlO2lmKGguZ2NsaWQ9PT1iLmdjbGlkKXtkPWg7YnJlYWt9aC56YSYmYi56YSYmaC56YS5lcXVhbHMoYi56YSkmJihlPWgpfWlmKGQpe3ZhciBsLG4scD0obD1kLnphKSE9bnVsbD9sOm5ldyAkcyxxPShuPWIuemEpIT1udWxsP246bmV3ICRzO3AudmFsdWV8PXEudmFsdWU7ZC56YT1wO2QudGltZXN0YW1wPGIudGltZXN0YW1wJiYoZC50aW1lc3RhbXA9Yi50aW1lc3RhbXAsZC5XYz1iLldjKTtkLmxhYmVscz1EdChkLmxhYmVsc3x8W10sYi5sYWJlbHN8fFtdKTtkLlphPUR0KGQuWmF8fFtdLGIuWmF8fFtdKX1lbHNlIGMmJmU/bmEoT2JqZWN0LCJhc3NpZ24iKS5jYWxsKE9iamVjdCxlLGIpOmEucHVzaChiKX0KZnVuY3Rpb24gRXQoYSl7aWYoIWEpcmV0dXJuIG5ldyAkczt2YXIgYj1uZXcgJHM7aWYoYT09PTEpcmV0dXJuIGF0KGIsMiksYXQoYiwzKSxiO2F0KGIsYSk7cmV0dXJuIGJ9CmZ1bmN0aW9uIEZ0KCl7dmFyIGE9ZHIoImdjbGlkIik7aWYoIWF8fGEuZXJyb3J8fCFhLnZhbHVlfHx0eXBlb2YgYS52YWx1ZSE9PSJvYmplY3QiKXJldHVybiBudWxsO3ZhciBiPWEudmFsdWU7dHJ5e2lmKCEoInZhbHVlImluIGImJmIudmFsdWUpfHx0eXBlb2YgYi52YWx1ZSE9PSJvYmplY3QiKXJldHVybiBudWxsO3ZhciBjPWIudmFsdWUsZD1jLnZhbHVlO2lmKCFkfHwhZC5tYXRjaChodCkpcmV0dXJuIG51bGw7dmFyIGU9Yy5saW5rRGVjb3JhdGlvblNvdXJjZSxmPWMubGlua0RlY29yYXRpb25Tb3VyY2VzLGc9bmV3ICRzO3R5cGVvZiBlPT09Im51bWJlciI/Zz1FdChlKTp0eXBlb2YgZj09PSJudW1iZXIiJiYoZy52YWx1ZT1mKTtyZXR1cm57dmVyc2lvbjoiIixnY2xpZDpkLHRpbWVzdGFtcDpOdW1iZXIoYy5jcmVhdGlvblRpbWVNcyl8fDAsbGFiZWxzOltdLHphOmcsWmE6WzJdfX1jYXRjaChoKXtyZXR1cm4gbnVsbH19CmZ1bmN0aW9uIEd0KCl7dmFyIGE9ZHIoImdjbF9hdyIpO2lmKGEuZXJyb3IhPT0wKXJldHVybiBudWxsO3RyeXtyZXR1cm4gYS52YWx1ZS5yZWR1Y2UoZnVuY3Rpb24oYixjKXtpZighYy52YWx1ZXx8dHlwZW9mIGMudmFsdWUhPT0ib2JqZWN0IilyZXR1cm4gYjt2YXIgZD1jLnZhbHVlLGU9ZC52YWx1ZTtpZighZXx8IWUubWF0Y2goaHQpKXJldHVybiBiO3ZhciBmPW5ldyAkcyxnPWQubGlua0RlY29yYXRpb25Tb3VyY2VzO3R5cGVvZiBnPT09Im51bWJlciImJihmLnZhbHVlPWcpO2IucHVzaCh7dmVyc2lvbjoiIixnY2xpZDplLHRpbWVzdGFtcDpOdW1iZXIoZC5jcmVhdGlvblRpbWVNcyl8fDAsZXhwaXJlczpOdW1iZXIoYy5leHBpcmVzKXx8MCxsYWJlbHM6W10semE6ZixaYTpbMl19KTtyZXR1cm4gYn0sW10pfWNhdGNoKGIpe3JldHVybiBudWxsfX0KZnVuY3Rpb24gSHQoYSl7Zm9yKHZhciBiPVtdLGM9d3IoYSx6LmNvb2tpZSx2b2lkIDAsbXQoKSksZD1tKGMpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXt2YXIgZj1BdChlLnZhbHVlKTtmIT1udWxsJiYoZi5XYz12b2lkIDAsZi56YT1uZXcgJHMsZi5aYT1bMV0sQnQoYixmKSl9dmFyIGc9RnQoKTtnJiYoZy5XYz12b2lkIDAsZy5aYT1nLlphfHxbMl0sQnQoYixnKSk7aWYoV2EoMTUpKXt2YXIgaD1HdCgpO2lmKGgpZm9yKHZhciBsPW0oaCksbj1sLm5leHQoKTshbi5kb25lO249bC5uZXh0KCkpe3ZhciBwPW4udmFsdWU7cC5XYz12b2lkIDA7cC5aYT1wLlphfHxbMl07QnQoYixwKX19Yi5zb3J0KGZ1bmN0aW9uKHEscil7cmV0dXJuIHIudGltZXN0YW1wLXEudGltZXN0YW1wfSk7cmV0dXJuIEN0KGIpfQpmdW5jdGlvbiB4dChhLGIpe2lmKCFhLmxlbmd0aClyZXR1cm4gYjtpZighYi5sZW5ndGgpcmV0dXJuIGE7dmFyIGM9e307cmV0dXJuIGEuY29uY2F0KGIpLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gYy5oYXNPd25Qcm9wZXJ0eShkKT8hMTpjW2RdPSEwfSl9ZnVuY3Rpb24gdHQoYSl7cmV0dXJuIGEmJnR5cGVvZiBhPT09InN0cmluZyImJmEubWF0Y2goZ3QpP2E6Il9nY2wifWZ1bmN0aW9uIEl0KGEsYil7aWYoYSl7dmFyIGM9e3ZhbHVlOmEsemE6bmV3ICRzfTthdChjLnphLGIpO3JldHVybiBjfX0KZnVuY3Rpb24gSnQoYSxiLGMpe3ZhciBkPXBqKGEpLGU9amooZCwicXVlcnkiLCExLHZvaWQgMCwiZ2Nsc3JjIiksZj1JdChqaihkLCJxdWVyeSIsITEsdm9pZCAwLCJnY2xpZCIpLGM/NDoyKTtpZihiJiYoIWZ8fCFlKSl7dmFyIGc9ZC5oYXNoLnJlcGxhY2UoIiMiLCIiKTtmfHwoZj1JdChnaihnLCJnY2xpZCIsITEpLDMpKTtlfHwoZT1naihnLCJnY2xzcmMiLCExKSl9cmV0dXJuIGYmJihlPT09dm9pZCAwfHxlPT09ImF3Inx8ZT09PSJhdy5kcyJ8fFdhKDE5KSYmZT09PSJhdy5kdiIpP1tmXTpbXX0KZnVuY3Rpb24gS3QoYSxiKXt2YXIgYz1waihhKSxkPWpqKGMsInF1ZXJ5IiwhMSx2b2lkIDAsImdjbGlkIiksZT1qaihjLCJxdWVyeSIsITEsdm9pZCAwLCJnY2xzcmMiKSxmPWpqKGMsInF1ZXJ5IiwhMSx2b2lkIDAsIndicmFpZCIpO2Y9VmIoZik7dmFyIGc9amooYywicXVlcnkiLCExLHZvaWQgMCwiZ2JyYWlkIiksaD1qaihjLCJxdWVyeSIsITEsdm9pZCAwLCJnYWRfc291cmNlIiksbD1qaihjLCJxdWVyeSIsITEsdm9pZCAwLCJkY2xpZCIpO2lmKGImJiEoZCYmZSYmZiYmZykpe3ZhciBuPWMuaGFzaC5yZXBsYWNlKCIjIiwiIik7ZD1kfHxnaihuLCJnY2xpZCIsITEpO2U9ZXx8Z2oobiwiZ2Nsc3JjIiwhMSk7Zj1mfHxnaihuLCJ3YnJhaWQiLCExKTtnPWd8fGdqKG4sImdicmFpZCIsITEpO2g9aHx8Z2oobiwiZ2FkX3NvdXJjZSIsITEpfXJldHVybiBMdChkLGUsbCxmLGcsaCl9ZnVuY3Rpb24gTXQoKXtyZXR1cm4gS3Qody5sb2NhdGlvbi5ocmVmLCEwKX0KZnVuY3Rpb24gTHQoYSxiLGMsZCxlLGYpe3ZhciBnPXt9LGg9ZnVuY3Rpb24obCxuKXtnW25dfHwoZ1tuXT1bXSk7Z1tuXS5wdXNoKGwpfTtnLmdjbGlkPWE7Zy5nY2xzcmM9YjtnLmRjbGlkPWM7aWYoYSE9PXZvaWQgMCYmYS5tYXRjaChodCkpc3dpdGNoKGIpe2Nhc2Ugdm9pZCAwOmgoYSwiYXciKTticmVhaztjYXNlICJhdy5kcyI6aChhLCJhdyIpO2goYSwiZGMiKTticmVhaztjYXNlICJhdy5kdiI6V2EoMTkpJiYoaChhLCJhdyIpLGgoYSwiZGMiKSk7YnJlYWs7Y2FzZSAiZHMiOmgoYSwiZGMiKTticmVhaztjYXNlICIzcC5kcyI6aChhLCJkYyIpO2JyZWFrO2Nhc2UgImdmIjpoKGEsImdmIik7YnJlYWs7Y2FzZSAiaGEiOmgoYSwiaGEiKX1jJiZoKGMsImRjIik7ZCE9PXZvaWQgMCYmaHQudGVzdChkKSYmKGcud2JyYWlkPWQsaChkLCJnYiIpKTtlIT09dm9pZCAwJiZodC50ZXN0KGUpJiYoZy5nYnJhaWQ9ZSxoKGUsImFnIikpO2YhPT12b2lkIDAmJmh0LnRlc3QoZikmJihnLmdhZF9zb3VyY2U9CmYsaChmLCJncyIpKTtyZXR1cm4gZ31mdW5jdGlvbiBOdChhKXtmb3IodmFyIGI9TXQoKSxjPSEwLGQ9bShPYmplY3Qua2V5cyhiKSksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpaWYoYltlLnZhbHVlXSE9PXZvaWQgMCl7Yz0hMTticmVha31jJiYoYj1LdCh3LmRvY3VtZW50LnJlZmVycmVyLCExKSxiLmdhZF9zb3VyY2U9dm9pZCAwKTtPdChiLCExLGEpfQpmdW5jdGlvbiBQdChhKXtOdChhKTt2YXIgYj1KdCh3LmxvY2F0aW9uLmhyZWYsITAsITEpO2IubGVuZ3RofHwoYj1KdCh3LmRvY3VtZW50LnJlZmVycmVyLCExLCEwKSk7YT1hfHx7fTtRdChhKTtpZihiLmxlbmd0aCl7dmFyIGM9YlswXSxkPUdiKCksZT1acShhLGQsITApLGY9bXQoKSxnPWZ1bmN0aW9uKCl7bnQoZikmJmUuZXhwaXJlcyE9PXZvaWQgMCYmYXIoImdjbGlkIix7dmFsdWU6e3ZhbHVlOmMudmFsdWUsY3JlYXRpb25UaW1lTXM6ZCxsaW5rRGVjb3JhdGlvblNvdXJjZXM6Yy56YS5nZXQoKX0sZXhwaXJlczpOdW1iZXIoZS5leHBpcmVzKX0pfTtWbChmdW5jdGlvbigpe2coKTtudChmKXx8V2woZyxmKX0sZil9fQpmdW5jdGlvbiBRdChhKXt2YXIgYjtpZihiPVdhKDE2KSl7dmFyIGM9UnQoKTtiPWt0LnRlc3QoYyl8fGx0LnRlc3QoYyl8fFN0KCl9aWYoYil7dmFyIGQ7YTp7Zm9yKHZhciBlPXBqKHcubG9jYXRpb24uaHJlZiksZj1oaihqaihlLCJxdWVyeSIpKSxnPW0oT2JqZWN0LmtleXMoZikpLGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKXt2YXIgbD1oLnZhbHVlO2lmKCFmdFtsXSl7dmFyIG49ZltsXVswXXx8IiIscDtpZighbnx8bi5sZW5ndGg8NTB8fG4ubGVuZ3RoPjIwMClwPSExO2Vsc2V7dmFyIHE9YnQobikscjtpZihxKWM6e3ZhciB1PXE7aWYodSYmdS5sZW5ndGghPT0wKXt2YXIgdD0wO3RyeXtmb3IodmFyIHY9MTA7dDx1Lmxlbmd0aCYmISh2LS08PTApOyl7dmFyIHg9Y3QodSx0KTtpZih4PT09dm9pZCAwKWJyZWFrO3ZhciB5PW0oeCksQT15Lm5leHQoKS52YWx1ZSxDPXkubmV4dCgpLnZhbHVlLEU9QSxIPUMsSj1FJjc7aWYoRT4+Mz09PTE2MzgyKXtpZihKIT09MClicmVhazsKdmFyIE89Y3QodSxIKTtpZihPPT09dm9pZCAwKWJyZWFrO3I9bShPKS5uZXh0KCkudmFsdWU9PT0xO2JyZWFrIGN9dmFyIGJhO2Q6e3ZhciBXPXZvaWQgMCxOPXUsUz1IO3N3aXRjaChKKXtjYXNlIDA6YmE9KFc9Y3QoTixTKSk9PW51bGw/dm9pZCAwOldbMV07YnJlYWsgZDtjYXNlIDE6YmE9Uys4O2JyZWFrIGQ7Y2FzZSAyOnZhciBsYT1jdChOLFMpO2lmKGxhPT09dm9pZCAwKWJyZWFrO3ZhciBqYT1tKGxhKSxWPWphLm5leHQoKS52YWx1ZTtiYT1qYS5uZXh0KCkudmFsdWUrVjticmVhayBkO2Nhc2UgNTpiYT1TKzQ7YnJlYWsgZH1iYT12b2lkIDB9aWYoYmE9PT12b2lkIDB8fGJhPnUubGVuZ3RofHxiYTw9dClicmVhazt0PWJhfX1jYXRjaChoYSl7fX1yPSExfWVsc2Ugcj0hMTtwPXJ9aWYocCl7ZD1uO2JyZWFrIGF9fX1kPXZvaWQgMH12YXIgVT1kO1UmJlR0KFUsNyxhKX19CmZ1bmN0aW9uIFR0KGEsYixjKXtjPWN8fHt9O3ZhciBkPUdiKCksZT1acShjLGQsITApLGY9bXQoKSxnPWZ1bmN0aW9uKCl7aWYobnQoZikmJmUuZXhwaXJlcyE9PXZvaWQgMCl7dmFyIGg9R3QoKXx8W107QnQoaCx7dmVyc2lvbjoiIixnY2xpZDphLHRpbWVzdGFtcDpkLGV4cGlyZXM6TnVtYmVyKGUuZXhwaXJlcyksemE6RXQoYil9LCEwKTthcigiZ2NsX2F3IixoLm1hcChmdW5jdGlvbihsKXtyZXR1cm57dmFsdWU6e3ZhbHVlOmwuZ2NsaWQsY3JlYXRpb25UaW1lTXM6bC50aW1lc3RhbXAsbGlua0RlY29yYXRpb25Tb3VyY2VzOmwuemE/bC56YS5nZXQoKTowfSxleHBpcmVzOk51bWJlcihsLmV4cGlyZXMpfX0pKX19O1ZsKGZ1bmN0aW9uKCl7bnQoZik/ZygpOldsKGcsZil9LGYpfQpmdW5jdGlvbiBPdChhLGIsYyxkLGUpe2M9Y3x8e307ZT1lfHxbXTt2YXIgZj10dChjLnByZWZpeCksZz1kfHxHYigpLGg9TWF0aC5yb3VuZChnLzFFMyksbD1tdCgpLG49ITEscD0hMSxxPVdhKDIxKSxyPWZ1bmN0aW9uKCl7aWYobnQobCkpe3ZhciB1PVpxKGMsZywhMCk7dS55Yz1sO2Zvcih2YXIgdD1mdW5jdGlvbihXLE4pe3ZhciBTPXV0KFcsZik7UyYmKElyKFMsTix1KSxXIT09ImdiIiYmKG49ITApKX0sdj1mdW5jdGlvbihXKXt2YXIgTj1bIkdDTCIsaCxXXTtlLmxlbmd0aD4wJiZOLnB1c2goZS5qb2luKCIuIikpO3JldHVybiBOLmpvaW4oIi4iKX0seD1tKFsiYXciLCJkYyIsImdmIiwiaGEiLCJncCJdKSx5PXgubmV4dCgpOyF5LmRvbmU7eT14Lm5leHQoKSl7dmFyIEE9eS52YWx1ZTthW0FdJiZ0KEEsdihhW0FdWzBdKSl9aWYoKCFufHxxKSYmYS5nYil7dmFyIEM9YS5nYlswXSxFPXV0KCJnYiIsZik7IWImJnF0KEUpLnNvbWUoZnVuY3Rpb24oVyl7cmV0dXJuIFcuZ2NsaWQ9PT0KQyYmVy5sYWJlbHMmJlcubGFiZWxzLmxlbmd0aD4wfSl8fHQoImdiIix2KEMpKX19aWYoIXAmJmEuZ2JyYWlkJiZudCgiYWRfc3RvcmFnZSIpJiYocD0hMCwhbnx8cSkpe3ZhciBIPWEuZ2JyYWlkLEo9dXQoImFnIixmKTtpZihifHwhdnQoSikuc29tZShmdW5jdGlvbihXKXtyZXR1cm4gVy5nY2xpZD09PUgmJlcubGFiZWxzJiZXLmxhYmVscy5sZW5ndGg+MH0pKXt2YXIgTz17fSxiYT0oTy5rPUgsTy5pPSIiK2gsTy5iPWUsTyk7WXMoSixiYSw1LGMsZyl9fVV0KGEsZixnLGMpfTtWbChmdW5jdGlvbigpe3IoKTtudChsKXx8V2wocixsKX0sbCl9CmZ1bmN0aW9uIFV0KGEsYixjLGQpe2lmKGEuZ2FkX3NvdXJjZSE9PXZvaWQgMCYmbnQoImFkX3N0b3JhZ2UiKSl7dmFyIGU9Z2QoKTtpZihlIT09InIiJiZlIT09ImgiKXt2YXIgZj1hLmdhZF9zb3VyY2UsZz11dCgiZ3MiLGIpO2lmKGcpe3ZhciBoPU1hdGguZmxvb3IoKEdiKCktKGZkKCl8fDApKS8xRTMpLGwsbj1kdCgpLHA9e307bD0ocC5rPWYscC5pPSIiK2gscC51PW4scCk7WXMoZyxsLDUsZCxjKX19fX0KZnVuY3Rpb24gVnQoYSxiKXt2YXIgYz1pcyghMCk7b3QoZnVuY3Rpb24oKXtmb3IodmFyIGQ9dHQoYi5wcmVmaXgpLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZihqdFtmXSE9PXZvaWQgMCl7dmFyIGc9dXQoZixkKSxoPWNbZ107aWYoaCl7dmFyIGw9TWF0aC5taW4oV3QoaCksR2IoKSksbjtiOntmb3IodmFyIHA9bCxxPXdyKGcsei5jb29raWUsdm9pZCAwLG10KCkpLHI9MDtyPHEubGVuZ3RoOysrcilpZihXdChxW3JdKT5wKXtuPSEwO2JyZWFrIGJ9bj0hMX1pZighbil7dmFyIHU9WnEoYixsLCEwKTt1LnljPW10KCk7SXIoZyxoLHUpfX19fU90KEx0KGMuZ2NsaWQsYy5nY2xzcmMpLCExLGIpfSxtdCgpKX0KZnVuY3Rpb24gWHQoYSl7dmFyIGI9WyJhZyJdLGM9aXMoITApLGQ9dHQoYS5wcmVmaXgpO290KGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPXV0KGJbZV0sZCk7aWYoZil7dmFyIGc9Y1tmXTtpZihnKXt2YXIgaD1RcyhnLDUpO2lmKGgpe3ZhciBsPXp0KGgpO2x8fChsPUdiKCkpO3ZhciBuO2E6e2Zvcih2YXIgcD1sLHE9VXMoZiw1KSxyPTA7cjxxLmxlbmd0aDsrK3IpaWYoenQocVtyXSk+cCl7bj0hMDticmVhayBhfW49ITF9aWYobilicmVhaztoLmk9IiIrTWF0aC5yb3VuZChsLzFFMyk7WXMoZixoLDUsYSxsKX19fX19LFsiYWRfc3RvcmFnZSJdKX1mdW5jdGlvbiB1dChhLGIpe3ZhciBjPWp0W2FdO2lmKGMhPT12b2lkIDApcmV0dXJuIGIrY31mdW5jdGlvbiBXdChhKXtyZXR1cm4gWXQoYS5zcGxpdCgiLiIpKS5sZW5ndGghPT0wPyhOdW1iZXIoYS5zcGxpdCgiLiIpWzFdKXx8MCkqMUUzOjB9CmZ1bmN0aW9uIHp0KGEpe3JldHVybiBhPyhOdW1iZXIoYS5pKXx8MCkqMUUzOjB9ZnVuY3Rpb24gQXQoYSl7dmFyIGI9WXQoYS5zcGxpdCgiLiIpKTtyZXR1cm4gYi5sZW5ndGg9PT0wP251bGw6e3ZlcnNpb246YlswXSxnY2xpZDpiWzJdLHRpbWVzdGFtcDooTnVtYmVyKGJbMV0pfHwwKSoxRTMsbGFiZWxzOmIuc2xpY2UoMyl9fWZ1bmN0aW9uIFl0KGEpe3JldHVybiBhLmxlbmd0aDwzfHxhWzBdIT09IkdDTCImJmFbMF0hPT0iMSJ8fCEvXlxkKyQvLnRlc3QoYVsxXSl8fCFodC50ZXN0KGFbMl0pP1tdOmF9CmZ1bmN0aW9uIFp0KGEsYixjLGQsZSl7aWYoQXJyYXkuaXNBcnJheShiKSYmdnIodykpe3ZhciBmPXR0KGUpLGc9ZnVuY3Rpb24oKXtmb3IodmFyIGg9e30sbD0wO2w8YS5sZW5ndGg7KytsKXt2YXIgbj11dChhW2xdLGYpO2lmKG4pe3ZhciBwPXdyKG4sei5jb29raWUsdm9pZCAwLG10KCkpO3AubGVuZ3RoJiYoaFtuXT1wLnNvcnQoKVtwLmxlbmd0aC0xXSl9fXJldHVybiBofTtvdChmdW5jdGlvbigpe3BzKGcsYixjLGQpfSxtdCgpKX19CmZ1bmN0aW9uICR0KGEsYixjLGQpe2lmKEFycmF5LmlzQXJyYXkoYSkmJnZyKHcpKXt2YXIgZT1bImFnIl0sZj10dChkKSxnPWZ1bmN0aW9uKCl7Zm9yKHZhciBoPXt9LGw9MDtsPGUubGVuZ3RoOysrbCl7dmFyIG49dXQoZVtsXSxmKTtpZighbilyZXR1cm57fTt2YXIgcD1VcyhuLDUpO2lmKHAubGVuZ3RoKXt2YXIgcT1wLnNvcnQoZnVuY3Rpb24ocix1KXtyZXR1cm4genQodSktenQocil9KVswXTtoW25dPVJzKHEsNSl9fXJldHVybiBofTtvdChmdW5jdGlvbigpe3BzKGcsYSxiLGMpfSxbImFkX3N0b3JhZ2UiXSl9fWZ1bmN0aW9uIEN0KGEpe3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gaHQudGVzdChiLmdjbGlkKX0pfQpmdW5jdGlvbiBhdShhLGIpe2lmKHZyKHcpKXtmb3IodmFyIGM9dHQoYi5wcmVmaXgpLGQ9e30sZT0wO2U8YS5sZW5ndGg7ZSsrKWp0W2FbZV1dJiYoZFthW2VdXT1qdFthW2VdXSk7b3QoZnVuY3Rpb24oKXt6YihkLGZ1bmN0aW9uKGYsZyl7dmFyIGg9d3IoYytnLHouY29va2llLHZvaWQgMCxtdCgpKTtoLnNvcnQoZnVuY3Rpb24odSx0KXtyZXR1cm4gV3QodCktV3QodSl9KTtpZihoLmxlbmd0aCl7dmFyIGw9aFswXSxuPVd0KGwpLHA9WXQobC5zcGxpdCgiLiIpKS5sZW5ndGghPT0wP2wuc3BsaXQoIi4iKS5zbGljZSgzKTpbXSxxPXt9LHI7cj1ZdChsLnNwbGl0KCIuIikpLmxlbmd0aCE9PTA/bC5zcGxpdCgiLiIpWzJdOnZvaWQgMDtxW2ZdPVtyXTtPdChxLCEwLGIsbixwKX19KX0sbXQoKSl9fQpmdW5jdGlvbiBidShhKXt2YXIgYj1bImFnIl0sYz1bImdicmFpZCJdO290KGZ1bmN0aW9uKCl7Zm9yKHZhciBkPXR0KGEucHJlZml4KSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPXV0KGJbZV0sZCk7aWYoIWYpYnJlYWs7dmFyIGc9VXMoZiw1KTtpZihnLmxlbmd0aCl7dmFyIGg9Zy5zb3J0KGZ1bmN0aW9uKHEscil7cmV0dXJuIHp0KHIpLXp0KHEpfSlbMF0sbD16dChoKSxuPWguYixwPXt9O3BbY1tlXV09aC5rO090KHAsITAsYSxsLG4pfX19LFsiYWRfc3RvcmFnZSJdKX1mdW5jdGlvbiBjdShhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7KytjKWlmKGFbYltjXV0pcmV0dXJuITA7cmV0dXJuITF9CmZ1bmN0aW9uIGR1KGEpe2Z1bmN0aW9uIGIoaCxsLG4pe24mJihoW2xdPW4pfWlmKFNsKCkpe3ZhciBjPU10KCksZDthLmluY2x1ZGVzKCJnYWRfc291cmNlIikmJihkPWMuZ2FkX3NvdXJjZSE9PXZvaWQgMD9jLmdhZF9zb3VyY2U6aXMoITEpLl9ncyk7aWYoY3UoYyxhKXx8ZCl7dmFyIGU9e307YihlLCJnY2xpZCIsYy5nY2xpZCk7YihlLCJkY2xpZCIsYy5kY2xpZCk7YihlLCJnY2xzcmMiLGMuZ2Nsc3JjKTtiKGUsIndicmFpZCIsYy53YnJhaWQpO2IoZSwiZ2JyYWlkIixjLmdicmFpZCk7cXMoZnVuY3Rpb24oKXtyZXR1cm4gZX0sMyk7dmFyIGY9e30sZz0oZi5fdXA9IjEiLGYpO2IoZywiX2dzIixkKTtxcyhmdW5jdGlvbigpe3JldHVybiBnfSwxKX19fWZ1bmN0aW9uIFN0KCl7dmFyIGE9cGoody5sb2NhdGlvbi5ocmVmKTtyZXR1cm4gamooYSwicXVlcnkiLCExLHZvaWQgMCwiZ2FkX3NvdXJjZSIpfQpmdW5jdGlvbiBldShhKXtpZighV2EoMSkpcmV0dXJuIG51bGw7dmFyIGI9aXMoITApLmdhZF9zb3VyY2U7aWYoYiE9bnVsbClyZXR1cm4gdy5sb2NhdGlvbi5oYXNoPSIiLGI7aWYoV2EoMikpe2I9U3QoKTtpZihiIT1udWxsKXJldHVybiBiO3ZhciBjPU10KCk7aWYoY3UoYyxhKSlyZXR1cm4iMCJ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZnUoYSl7dmFyIGI9ZXUoYSk7YiE9bnVsbCYmcXMoZnVuY3Rpb24oKXt2YXIgYz17fTtyZXR1cm4gYy5nYWRfc291cmNlPWIsY30sNCl9ZnVuY3Rpb24gZ3UoYSxiLGMpe3ZhciBkPVtdO2lmKGIubGVuZ3RoPT09MClyZXR1cm4gZDtmb3IodmFyIGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdLGg9Zy50eXBlP2cudHlwZToiZ2NsIjsoZy5sYWJlbHN8fFtdKS5pbmRleE9mKGMpPT09LTE/KGEucHVzaCgwKSxlW2hdfHxkLnB1c2goZykpOmEucHVzaCgxKTtlW2hdPSEwfXJldHVybiBkfQpmdW5jdGlvbiBodShhLGIsYyxkKXt2YXIgZT1bXTtjPWN8fHt9O2lmKCFudChtdCgpKSlyZXR1cm4gZTt2YXIgZj1xdChhKSxnPWd1KGUsZixiKTtpZihnLmxlbmd0aCYmIWQpZm9yKHZhciBoPW0oZyksbD1oLm5leHQoKTshbC5kb25lO2w9aC5uZXh0KCkpe3ZhciBuPWwudmFsdWUscD1uLnRpbWVzdGFtcCxxPVtuLnZlcnNpb24sTWF0aC5yb3VuZChwLzFFMyksbi5nY2xpZF0uY29uY2F0KG4ubGFiZWxzfHxbXSxbYl0pLmpvaW4oIi4iKSxyPVpxKGMscCwhMCk7ci55Yz1tdCgpO0lyKGEscSxyKX1yZXR1cm4gZX0KZnVuY3Rpb24gaXUoYSxiKXt2YXIgYz1bXTtiPWJ8fHt9O3ZhciBkPXN0KGIpLGU9Z3UoYyxkLGEpO2lmKGUubGVuZ3RoKWZvcih2YXIgZj1tKGUpLGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKXt2YXIgaD1nLnZhbHVlLGw9dHQoYi5wcmVmaXgpLG49dXQoaC50eXBlLGwpO2lmKCFuKWJyZWFrO3ZhciBwPWgscT1wLnZlcnNpb24scj1wLmdjbGlkLHU9cC5sYWJlbHMsdD1wLnRpbWVzdGFtcCx2PU1hdGgucm91bmQodC8xRTMpO2lmKGgudHlwZT09PSJhZyIpe3ZhciB4PXt9LHk9KHguaz1yLHguaT0iIit2LHguYj0odXx8W10pLmNvbmNhdChbYV0pLHgpO1lzKG4seSw1LGIsdCl9ZWxzZSBpZihoLnR5cGU9PT0iZ2IiKXt2YXIgQT1bcSx2LHJdLmNvbmNhdCh1fHxbXSxbYV0pLmpvaW4oIi4iKSxDPVpxKGIsdCwhMCk7Qy55Yz1tdCgpO0lyKG4sQSxDKX19cmV0dXJuIGN9CmZ1bmN0aW9uIGp1KGEsYil7dmFyIGM9dHQoYiksZD11dChhLGMpO2lmKCFkKXJldHVybiAwO3ZhciBlO2U9YT09PSJhZyI/dnQoZCk6cXQoZCk7Zm9yKHZhciBmPTAsZz0wO2c8ZS5sZW5ndGg7ZysrKWY9TWF0aC5tYXgoZixlW2ddLnRpbWVzdGFtcCk7cmV0dXJuIGZ9ZnVuY3Rpb24ga3UoYSl7Zm9yKHZhciBiPTAsYz1tKE9iamVjdC5rZXlzKGEpKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlmb3IodmFyIGU9YVtkLnZhbHVlXSxmPTA7ZjxlLmxlbmd0aDtmKyspYj1NYXRoLm1heChiLE51bWJlcihlW2ZdLnRpbWVzdGFtcCkpO3JldHVybiBifWZ1bmN0aW9uIGx1KGEpe3ZhciBiPU1hdGgubWF4KGp1KCJhdyIsYSksa3UobnQobXQoKSk/SXMoKTp7fSkpLGM9TWF0aC5tYXgoanUoImdiIixhKSxrdShudChtdCgpKT9JcygiX2dhY19nYiIsITApOnt9KSk7Yz1NYXRoLm1heChjLGp1KCJhZyIsYSkpO3JldHVybiBjPmJ9CmZ1bmN0aW9uIFJ0KCl7cmV0dXJuIHoucmVmZXJyZXI/amoocGooei5yZWZlcnJlciksImhvc3QiKToiIn07CnZhciBtdT1mdW5jdGlvbihhLGIpe2I9Yj09PXZvaWQgMD8hMTpiO3ZhciBjPSRuKCJhZHNfcGFnZXZpZXciLGZ1bmN0aW9uKCl7cmV0dXJue319KTtpZihjW2FdKXJldHVybiExO2J8fChjW2FdPSEwKTtyZXR1cm4hMH0sbnU9ZnVuY3Rpb24oYSl7cmV0dXJuIHFqKGEsImdjbGlkIGRjbGlkIGdicmFpZCB3YnJhaWQgZ2NsYXcgZ2NsZGMgZ2NsaGEgZ2NsZ2YgZ2NsZ2IgX2dsIi5zcGxpdCgiICIpLCIwIil9LHR1PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dHQoYS5wcmVmaXgpO2lmKG11KGYsITApKXt2YXIgZz1NdCgpLGg9W10sbD1nLmdjbGlkLG49Zy5kY2xpZCxwPWcuZ2Nsc3JjfHwiYXciLHE9b3UoKSxyPXEuTmUsdT1xLmpuO2wmJihwPT09ImF3LmRzInx8UCgyMzUpJiZwPT09ImF3LmR2Inx8cD09PSJhdyJ8fHA9PT0iZHMifHxwPT09IjNwLmRzIikmJmgucHVzaCh7Z2NsaWQ6bCxmYzpwfSk7biYmaC5wdXNoKHtnY2xpZDpuLGZjOiJkcyJ9KTtoLmxlbmd0aD09PTImJk0oMTQ3KTsKaC5sZW5ndGg9PT0wJiZnLndicmFpZCYmaC5wdXNoKHtnY2xpZDpnLndicmFpZCxmYzoiZ2IifSk7aC5sZW5ndGg9PT0wJiYocD09PSJhdy5kcyJ8fFAoMjM1KSYmcD09PSJhdy5kdiIpJiZoLnB1c2goe2djbGlkOiIiLGZjOnB9KTtwdShmdW5jdGlvbigpe3ZhciB0PVJuKHF1KCkpO2lmKHQpe3dzKGEpO3ZhciB2PVtdLHg9dD91c1t4cyhhLnByZWZpeCldOnZvaWQgMDt4JiZ2LnB1c2goImF1aWQ9Iit4KTtpZihSbihLLm0uWCkpe2UmJnYucHVzaCgidXNlcklkPSIrZSk7dmFyIHk9a20oZ20uWi5EbSk7aWYoeT09PXZvaWQgMClqbShnbS5aLkVtLCEwKTtlbHNle3ZhciBBPWttKGdtLlouRGgpO3YucHVzaCgiZ2FfdWlkPSIrQSsiLiIreSl9fXZhciBDPVJ0KCksRT10fHwhZD9oOltdO0UubGVuZ3RoPT09MCYmKGt0LnRlc3QoQyl8fGx0LnRlc3QoQykpJiZFLnB1c2goe2djbGlkOiIiLGZjOiIifSk7aWYoRS5sZW5ndGghPT0wfHxyIT09dm9pZCAwKXtDJiZ2LnB1c2goInJlZj0iK2VuY29kZVVSSUNvbXBvbmVudChDKSk7CnZhciBIPXJ1KCk7di5wdXNoKCJ1cmw9IitlbmNvZGVVUklDb21wb25lbnQoSCkpO3YucHVzaCgidGZ0PSIrR2IoKSk7dmFyIEo9ZmQoKTtKIT09dm9pZCAwJiZ2LnB1c2goInRmZD0iK01hdGgucm91bmQoSikpO3ZhciBPPWdxKCEwKTt2LnB1c2goImZybT0iK08pO3IhPT12b2lkIDAmJnYucHVzaCgiZ2FkX3NvdXJjZT0iK2VuY29kZVVSSUNvbXBvbmVudChyKSk7dSE9PXZvaWQgMCYmdi5wdXNoKCJnYWRfc291cmNlX3NyYz0iK2VuY29kZVVSSUNvbXBvbmVudCh1LnRvU3RyaW5nKCkpKTtpZighYyl7dmFyIGJhPXt9O2M9Z3AoTW8obmV3IExvKDApLChiYVtLLm0uVGJdPVBwLkNbSy5tLlRiXSxiYSkpKX12LnB1c2goImd0bT0iK3NwKHtSYTpiLG1jOiEhYy5ldmVudE1ldGFkYXRhW1EuQS5lYl19KSk7T3EoKSYmdi5wdXNoKCJnY3M9IitQcSgpKTt2LnB1c2goImdjZD0iK1RxKGMpKTtXcSgpJiZ2LnB1c2goImRtYV9jcHM9IitVcSgpKTt2LnB1c2goImRtYT0iK1ZxKCkpO05xKGMpPwp2LnB1c2goIm5wYT0wIik6di5wdXNoKCJucGE9MSIpO1lxKCkmJnYucHVzaCgiX25nPTEiKTtycSh6cSgpKSYmdi5wdXNoKCJ0Y2ZkPSIrWHEoKSk7dmFyIFc9R3EoKTtXJiZ2LnB1c2goImdkcHI9IitXKTt2YXIgTj1GcSgpO04mJnYucHVzaCgiZ2Rwcl9jb25zZW50PSIrTik7UCgyMykmJnYucHVzaCgiYXB2ZT0wIik7UCgxMjMpJiZpcyghMSkuX3VwJiZ2LnB1c2goImd0bV91cD0xIik7dmFyIFM9b2soKTtTJiZ2LnB1c2goInRhZ19leHA9IitTKTtpZihFLmxlbmd0aD4wKWZvcih2YXIgbGE9MDtsYTxFLmxlbmd0aDtsYSsrKXt2YXIgamE9RVtsYV0sVj1qYS5nY2xpZCxVPWphLmZjO2lmKCFzdShhLnByZWZpeCxVKyIuIitWLHghPT12b2lkIDApKXt2YXIgaGE9RCgzNikrIj8iK3Yuam9pbigiJiIpO2lmKFYhPT0iIiloYT1VPT09ImdiIj9oYSsiJndicmFpZD0iK1Y6aGErIiZnY2xpZD0iK1YrIiZnY2xzcmM9IitVO2Vsc2UgaWYoVT09PSJhdy5kcyJ8fFAoMjM1KSYmVT09PSJhdy5kdiIpaGE9CmhhKyImZ2Nsc3JjPSIrVTtaYyhoYSl9fWVsc2UgaWYociE9PXZvaWQgMCYmIXN1KGEucHJlZml4LCJnYWQiLHghPT12b2lkIDApKXt2YXIgdGE9RCgzNikrIj8iK3Yuam9pbigiJiIpO1pjKHRhKX19fX0pfX0sc3U9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSRuKCJqb2luZWRfYXVpZCIsZnVuY3Rpb24oKXtyZXR1cm57fX0pLGU9KGM/YXx8Il9nY2wiOiIiKSsiLiIrYjtpZihkW2VdKXJldHVybiEwO2RbZV09ITA7cmV0dXJuITF9LG91PWZ1bmN0aW9uKCl7dmFyIGE9cGoody5sb2NhdGlvbi5ocmVmKSxiPXZvaWQgMCxjPXZvaWQgMCxkPWpqKGEsInF1ZXJ5IiwhMSx2b2lkIDAsImdhZF9zb3VyY2UiKSxlPWpqKGEsInF1ZXJ5IiwhMSx2b2lkIDAsImdhZF9jYW1wYWlnbmlkIiksZixnPWEuaGFzaC5yZXBsYWNlKCIjIiwiIikubWF0Y2godXUpO2Y9Zz9nWzFdOnZvaWQgMDtkJiZmPyhiPWQsYz0xKTpkPyhiPWQsYz0yKTpmJiYoYj1mLGM9Myk7cmV0dXJue05lOmIsam46YyxJaDplfX0scnU9CmZ1bmN0aW9uKCl7dmFyIGE9Z3EoITEpPT09MT93LnRvcC5sb2NhdGlvbi5ocmVmOncubG9jYXRpb24uaHJlZjtyZXR1cm4gYT1hLnJlcGxhY2UoL1tcPyNdLiokLywiIil9LHZ1PWZ1bmN0aW9uKGEpe3ZhciBiPVtdO3piKGEsZnVuY3Rpb24oYyxkKXtkPUN0KGQpO2Zvcih2YXIgZT1bXSxmPTA7ZjxkLmxlbmd0aDtmKyspZS5wdXNoKGRbZl0uZ2NsaWQpO2UubGVuZ3RoJiZiLnB1c2goYysiOiIrZS5qb2luKCIsIikpfSk7cmV0dXJuIGIuam9pbigiOyIpfSx3dT1mdW5jdGlvbihhLGIsYyl7aWYoYT09PSJhdyJ8fGE9PT0iZGMifHxhPT09ImdiIil7dmFyIGQ9cmooImdjbCIrYSk7aWYoZClyZXR1cm4gZC5zcGxpdCgiLiIpfXZhciBlPXR0KGIpO2lmKGU9PT0iX2djbCIpe3ZhciBmPSFSbihxdSgpKSYmYyxnO2c9TXQoKVthXXx8W107aWYoZy5sZW5ndGg+MClyZXR1cm4gZj9bIjAiXTpnfXZhciBoPXV0KGEsZSk7cmV0dXJuIGg/cHQoaCk6W119LHB1PWZ1bmN0aW9uKGEpe3ZhciBiPQpxdSgpO1VuKGZ1bmN0aW9uKCl7YSgpO1JuKGIpfHxXbChhLGIpfSxiKX0scXU9ZnVuY3Rpb24oKXtyZXR1cm5bSy5tLlcsSy5tLlhdfSx1dT0vXmdhZF9zb3VyY2VbXz1dKFxkKykkLztmdW5jdGlvbiB4dShhKXt2YXIgYj13aW5kb3csYz1iLndlYmtpdDtkZWxldGUgYi53ZWJraXQ7YShiLndlYmtpdCk7Yi53ZWJraXQ9Y31mdW5jdGlvbiB5dShhKXt2YXIgYj17YWN0aW9uOiJnY2xfc2V0dXAifTtpZigiQ1dWV2ViVmlld01lc3NhZ2UiaW4gYS5tZXNzYWdlSGFuZGxlcnMpcmV0dXJuIGEubWVzc2FnZUhhbmRsZXJzLkNXVldlYlZpZXdNZXNzYWdlLnBvc3RNZXNzYWdlKHtjb21tYW5kOiJhd2IiLHBheWxvYWQ6Yn0pLCEwO3ZhciBjPWEubWVzc2FnZUhhbmRsZXJzLmF3YjtyZXR1cm4gYz8oYy5wb3N0TWVzc2FnZShiKSwhMCk6ITF9O2Z1bmN0aW9uIHp1KCl7cmV0dXJuWyJhZF9zdG9yYWdlIiwiYWRfdXNlcl9kYXRhIl19ZnVuY3Rpb24gQXUoYSl7aWYoUCgzOCkmJiFrbShnbS5aLnJtKSYmIndlYmtpdCJpbiB3aW5kb3cmJndpbmRvdy53ZWJraXQubWVzc2FnZUhhbmRsZXJzKXt2YXIgYj1mdW5jdGlvbigpe3RyeXt4dShmdW5jdGlvbihjKXtjJiYoIkNXVldlYlZpZXdNZXNzYWdlImluIGMubWVzc2FnZUhhbmRsZXJzfHwiYXdiImluIGMubWVzc2FnZUhhbmRsZXJzKSYmKGptKGdtLloucm0sZnVuY3Rpb24oZCl7ZC5nY2xpZCYmVHQoZC5nY2xpZCw1LGEpfSkseXUoYyl8fE0oMTc4KSl9KX1jYXRjaChjKXtNKDE3Nyl9fTtWbChmdW5jdGlvbigpe250KHp1KCkpP2IoKTpXbChiLHp1KCkpfSx6dSgpKX19O3ZhciBCdT1bImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20iLCJodHRwczovL3d3dy55b3V0dWJlLmNvbSIsImh0dHBzOi8vbS55b3V0dWJlLmNvbSJdO2Z1bmN0aW9uIEN1KGEpe3JldHVybiBhLmRhdGEuYWN0aW9uIT09ImdjbF90cmFuc2ZlciI/KE0oMTczKSwhMCk6YS5kYXRhLmdhZFNvdXJjZT9hLmRhdGEuZ2NsaWQ/ITE6KE0oMTgxKSwhMCk6KE0oMTgwKSwhMCl9CmZ1bmN0aW9uIER1KGEsYil7aWYoUChhKSl7aWYoa20oZ20uWi5IZSkpcmV0dXJuIE0oMTc2KSxnbS5aLkhlO2lmKGttKGdtLloudm0pKXJldHVybiBNKDE3MCksZ20uWi5IZTt2YXIgYz1icSgpO2lmKCFjKU0oMTcxKTtlbHNlIGlmKGMub3BlbmVyKXt2YXIgZD1mdW5jdGlvbihnKXtpZighQnUuaW5jbHVkZXMoZy5vcmlnaW4pKU0oMTcyKTtlbHNlIGlmKCFDdShnKSl7dmFyIGg9e2dhZFNvdXJjZTpnLmRhdGEuZ2FkU291cmNlfTtQKDIyOSkmJihoLmdjbGlkPWcuZGF0YS5nY2xpZCk7am0oZ20uWi5IZSxoKTthPT09MjAwJiZnLmRhdGEuZ2NsaWQmJlR0KFN0cmluZyhnLmRhdGEuZ2NsaWQpLDYsYik7dmFyIGw7KGw9Zy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pPT1udWxsfHxsLmNhbGwoZyk7anEoYywibWVzc2FnZSIsZCl9fTtpZihpcShjLCJtZXNzYWdlIixkKSl7am0oZ20uWi52bSwhMCk7Zm9yKHZhciBlPW0oQnUpLGY9ZS5uZXh0KCk7IWYuZG9uZTtmPWUubmV4dCgpKWMub3BlbmVyLnBvc3RNZXNzYWdlKHthY3Rpb246ImdjbF9zZXR1cCJ9LApmLnZhbHVlKTtNKDE3NCk7cmV0dXJuIGdtLlouSGV9TSgxNzUpfX19Owp2YXIgRXU9ZnVuY3Rpb24oYSl7dmFyIGI9e3ByZWZpeDpMKGEuRCxLLm0uRWIpfHxMKGEuRCxLLm0uWGEpLGRvbWFpbjpMKGEuRCxLLm0ud2IpLFhjOkwoYS5ELEsubS54YiksZmxhZ3M6TChhLkQsSy5tLkZiKX07YS5ELmlzR3RtRXZlbnQmJihiLnBhdGg9TChhLkQsSy5tLldiKSk7cmV0dXJuIGJ9LEd1PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoLGwsbjtjPWEuTGU7ZD1hLlFlO2U9YS5YZTtmPWEuUmE7Zz1hLkQ7aD1hLlVlO2w9YS56dDtuPWEuT247RnUoe0xlOmMsUWU6ZCxYZTplLFZjOmJ9KTtjJiZsIT09ITAmJihuIT1udWxsP249U3RyaW5nKG4pOm49dm9pZCAwLHR1KGIsZixnLGgsbikpfSxJdT1mdW5jdGlvbihhLGIpe2lmKCFSKGEsUS5BLkllKSl7dmFyIGM9RHUoMTE5KTtpZihjKXt2YXIgZD1rbShjKSxlPWZ1bmN0aW9uKGcpe1QoYSxRLkEuSWUsITApO3ZhciBoPUh1KGEsSy5tLmRmKSxsPUh1KGEsSy5tLmVmKTtYKGEsSy5tLmRmLFN0cmluZyhnLmdhZFNvdXJjZSkpOwpYKGEsSy5tLmVmLDYpO1QoYSxRLkEuaWEpO1QoYSxRLkEuaGcpO1goYSxLLm0uaWEpO2IoKTtYKGEsSy5tLmRmLGgpO1goYSxLLm0uZWYsbCk7VChhLFEuQS5JZSwhMSl9O2lmKGQpZShkKTtlbHNle3ZhciBmPXZvaWQgMDtmPW1tKGMsZnVuY3Rpb24oZyxoKXtlKGgpO25tKGMsZil9KX19fX0sRnU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Yj1hLkxlO2M9YS5RZTtkPWEuWGU7ZT1hLlZjO2ImJihzcyhjW0subS5IZl0sISFjW0subS5yYV0pJiYoVnQoSnUsZSksWHQoZSksRnMoZSkpLGdxKCkhPT0yPyhQdChlKSxBdShlKSxEdSgyMDAsZSkpOk50KGUpLGF1KEp1LGUpLGJ1KGUpKTtjW0subS5yYV0mJihadChKdSxjW0subS5yYV0sY1tLLm0ucmRdLCEhY1tLLm0uSmNdLGUucHJlZml4KSwkdChjW0subS5yYV0sY1tLLm0ucmRdLCEhY1tLLm0uSmNdLGUucHJlZml4KSxHcyh4cyhlLnByZWZpeCksY1tLLm0ucmFdLGNbSy5tLnJkXSwhIWNbSy5tLkpjXSxlKSxHcygiRlBBVSIsY1tLLm0ucmFdLApjW0subS5yZF0sISFjW0subS5KY10sZSkpO2QmJihQKDEwMSk/ZHUoS3UpOmR1KEx1KSk7ZnUoTHUpfSxNdT1mdW5jdGlvbihhKXt2YXIgYj1bUGkuTi5BYV07QXJyYXkuaXNBcnJheShiKXx8KGI9W2JdKTt2YXIgYz1SKGEsUS5BLmJhKTtyZXR1cm4gYi5pbmRleE9mKGMpPj0wfSxKdT1bImF3IiwiZGMiLCJnYiJdLEx1PVsiYXciLCJkYyIsImdiIiwiYWciXSxLdT1bImF3IiwiZGMiLCJnYiIsImFnIiwiZ2FkX3NvdXJjZSJdO3ZhciBOdT1SZWdFeHAoIl5VQS1cXGQrLVxcZCslM0FbXFx3LV0rKD86JTJDW1xcdy1dKykqKD86JTNCVUEtXFxkKy1cXGQrJTNBW1xcdy1dKyg/OiUyQ1tcXHctXSspKikqJCIpLE91PS9efj9bXHctXSsoPzpcLn4/W1x3LV0rKSokLyxQdT0vXlxkK1wuZmxzXC5kb3VibGVjbGlja1wubmV0JC8sUXU9LztnYWM9KFteOz9dKykvLFJ1PS87Z2FjZ2I9KFteOz9dKykvOwpmdW5jdGlvbiBTdShhLGIpe2lmKFB1LnRlc3Qoei5sb2NhdGlvbi5ob3N0KSl7dmFyIGM9ei5sb2NhdGlvbi5ocmVmLm1hdGNoKGIpO3JldHVybiBjJiZjLmxlbmd0aD09PTImJmNbMV0ubWF0Y2goTnUpP2lqKGNbMV0pfHwiIjoiIn1mb3IodmFyIGQ9W10sZT1tKE9iamVjdC5rZXlzKGEpKSxmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSl7Zm9yKHZhciBnPWYudmFsdWUsaD1bXSxsPWFbZ10sbj0wO248bC5sZW5ndGg7bisrKWgucHVzaChsW25dLmdjbGlkKTtkLnB1c2goZysiOiIraC5qb2luKCIsIikpfXJldHVybiBkLmxlbmd0aD4wP2Quam9pbigiOyIpOiIifQpmdW5jdGlvbiBUdShhLGIsYyl7Zm9yKHZhciBkPW50KG10KCkpP0lzKCJfZ2FjX2diIiwhMCk6e30sZT1bXSxmPSExLGc9bShPYmplY3Qua2V5cyhkKSksaD1nLm5leHQoKTshaC5kb25lO2g9Zy5uZXh0KCkpe3ZhciBsPWgudmFsdWUsbj1odSgiX2dhY19nYl8iK2wsYSxiLGMpO2Y9Znx8bi5sZW5ndGghPT0wJiZuLnNvbWUoZnVuY3Rpb24ocCl7cmV0dXJuIHA9PT0xfSk7ZS5wdXNoKGwrIjoiK24uam9pbigiLCIpKX1yZXR1cm57UHE6Zj9lLmpvaW4oIjsiKToiIixPcTpTdShkLFJ1KX19ZnVuY3Rpb24gVXUoYSl7dmFyIGI9ei5sb2NhdGlvbi5ocmVmLm1hdGNoKG5ldyBSZWdFeHAoIjsiK2ErIj0oW147P10rKSIpKTtyZXR1cm4gYiYmYi5sZW5ndGg9PT0yJiZiWzFdLm1hdGNoKE91KT9iWzFdOnZvaWQgMH0KZnVuY3Rpb24gVnUoYSl7dmFyIGI9e30sYyxkLGU7UHUudGVzdCh6LmxvY2F0aW9uLmhvc3QpJiYoYz1VdSgiZ2NsZ3MiKSxkPVV1KCJnY2xzdCIpLGU9VXUoImdjbGxwIikpO2lmKGMmJmQmJmUpYi5vZz1jLGIuS2g9ZCxiLkpoPWU7ZWxzZXt2YXIgZj1HYigpLGc9dnQoKGF8fCJfZ2NsIikrIl9ncyIpLGg9Zy5tYXAoZnVuY3Rpb24ocCl7cmV0dXJuIHAuZ2NsaWR9KSxsPWcubWFwKGZ1bmN0aW9uKHApe3JldHVybiBmLXAudGltZXN0YW1wfSksbj1nLm1hcChmdW5jdGlvbihwKXtyZXR1cm4gcC5XY30pO2gubGVuZ3RoPjAmJmwubGVuZ3RoPjAmJm4ubGVuZ3RoPjAmJihiLm9nPWguam9pbigiLiIpLGIuS2g9bC5qb2luKCIuIiksYi5KaD1uLmpvaW4oIi4iKSl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFd1KGEsYixjLGQpe2Q9ZD09PXZvaWQgMD8hMTpkO2lmKFB1LnRlc3Qoei5sb2NhdGlvbi5ob3N0KSl7dmFyIGU9VXUoYyk7aWYoZSl7aWYoZCl7dmFyIGY9bmV3ICRzO2F0KGYsMik7YXQoZiwzKTtyZXR1cm4gZS5zcGxpdCgiLiIpLm1hcChmdW5jdGlvbihoKXtyZXR1cm57Z2NsaWQ6aCx6YTpmLFphOlsxXX19KX1yZXR1cm4gZS5zcGxpdCgiLiIpLm1hcChmdW5jdGlvbihoKXtyZXR1cm57Z2NsaWQ6aCx6YTpuZXcgJHMsWmE6WzFdfX0pfX1lbHNle2lmKGI9PT0iZ2NsaWQiKXt2YXIgZz0oYXx8Il9nY2wiKSsiX2F3IjtyZXR1cm4gZD9IdChnKTpxdChnKX1pZihiPT09IndicmFpZCIpcmV0dXJuIHF0KChhfHwiX2djbCIpKyJfZ2IiKTtpZihiPT09ImJyYWlkcyIpcmV0dXJuIHN0KHtwcmVmaXg6YX0pfXJldHVybltdfWZ1bmN0aW9uIFh1KGEpe3JldHVybiBQdS50ZXN0KHoubG9jYXRpb24uaG9zdCk/IShVdSgiZ2NsYXciKXx8VXUoImdhYyIpKTpsdShhKX0KZnVuY3Rpb24gWXUoYSxiLGMpe3ZhciBkO2Q9Yz9pdShhLGIpOmh1KChiJiZiLnByZWZpeHx8Il9nY2wiKSsiX2diIixhLGIpO3JldHVybiBkLmxlbmd0aD09PTB8fGQuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0wfSk/IiI6ZC5qb2luKCIuIil9O3ZhciBkdj1mdW5jdGlvbihhKXt0aGlzLkM9MTt0aGlzLkM+MHx8KHRoaXMuQz0xKTt0aGlzLm9uU3VjY2Vzcz1hLkQub25TdWNjZXNzfSxldj1mdW5jdGlvbihhLGIpe3JldHVybiBVYihmdW5jdGlvbigpe2EuQy0tO2lmKHJiKGEub25TdWNjZXNzKSYmYS5DPT09MClhLm9uU3VjY2VzcygpfSxiPjA/YjoxKX07dmFyIGZ2PWZ1bmN0aW9uKCl7dmFyIGE9U20oKTtyZXR1cm4iaHR0cHM6Ly8iKyhhP2ErIi4iOiIiKSsiYW5hbHl0aWNzLmdvb2dsZS5jb20vZy9jb2xsZWN0In0sZ3Y9ZnVuY3Rpb24oKXtyZXR1cm4iaHR0cHM6Ly8iKyhTbSgpfHwid3d3IikrIi5nb29nbGUtYW5hbHl0aWNzLmNvbS9nL2NvbGxlY3QifTtmdW5jdGlvbiBodihhLGIpe3ZhciBjPSEhdWooKTtzd2l0Y2goYSl7Y2FzZSA0NTpyZXR1cm4iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9jY20vY29sbGVjdCI7Y2FzZSA0NjpyZXR1cm4gYz92aigpKyIvZ3MvY2NtL2NvbGxlY3QiOiJodHRwczovL3BhZ2VhZDIuZ29vZ2xlc3luZGljYXRpb24uY29tL2NjbS9jb2xsZWN0IjtjYXNlIDUxOnJldHVybiJodHRwczovL3d3dy5nb29nbGUuY29tL3RyYXZlbC9mbGlnaHRzL2NsaWNrL2NvbnZlcnNpb24iO2Nhc2UgOTpyZXR1cm4iaHR0cHM6Ly9nb29nbGVhZHMuZy5kb3VibGVjbGljay5uZXQvcGFnZWFkL3ZpZXd0aHJvdWdoY29udmVyc2lvbiI7Y2FzZSAxNzpyZXR1cm4gYz9TbSgpP2Z2KCk6IiIrdmooKSsiL2FnL2cvYyI6ZnYoKTtjYXNlIDE2OnJldHVybiBjP1NtKCk/Z3YoKToiIit2aigpKyIvZ2EvZy9jIjpndigpO2Nhc2UgNjc6cmV0dXJuIFNtKCk/IiI6Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vZy9jb2xsZWN0IjtjYXNlIDE6cmV0dXJuImh0dHBzOi8vYWQuZG91YmxlY2xpY2submV0L2FjdGl2aXR5OyI7CmNhc2UgMjpyZXR1cm4gYz92aigpKyIvZGRtL2FjdGl2aXR5LyI6Imh0dHBzOi8vYWRlLmdvb2dsZXN5bmRpY2F0aW9uLmNvbS9kZG0vYWN0aXZpdHkvIjtjYXNlIDMzOnJldHVybiJodHRwczovL2FkLmRvdWJsZWNsaWNrLm5ldC9hY3Rpdml0eTtyZWdpc3Rlcl9jb252ZXJzaW9uPTE7IjtjYXNlIDExOnJldHVybiBjP3ZqKCkrIi9kL3BhZ2VhZC9mb3JtLWRhdGEiOlAoMTQxKT8iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9wYWdlYWQvZm9ybS1kYXRhIjoiaHR0cHM6Ly9nb29nbGUuY29tL3BhZ2VhZC9mb3JtLWRhdGEiO2Nhc2UgMzpyZXR1cm4iaHR0cHM6Ly8iK2IubXErIi5mbHMuZG91YmxlY2xpY2submV0L2FjdGl2aXR5aTsiO2Nhc2UgNTpyZXR1cm4iaHR0cHM6Ly93d3cuZ29vZ2xlYWRzZXJ2aWNlcy5jb20vcGFnZWFkL2NvbnZlcnNpb24iO2Nhc2UgNjpyZXR1cm4gYz92aigpKyIvZ3MvcGFnZWFkL2NvbnZlcnNpb24iOiJodHRwczovL3BhZ2VhZDIuZ29vZ2xlc3luZGljYXRpb24uY29tL3BhZ2VhZC9jb252ZXJzaW9uIjsKY2FzZSA2NjpyZXR1cm4iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9wYWdlYWQvdWNvbnZlcnNpb24iO2Nhc2UgODpyZXR1cm4iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9wYWdlYWQvMXAtY29udmVyc2lvbiI7Y2FzZSA2MzpyZXR1cm4iaHR0cHM6Ly93d3cuZ29vZ2xlYWRzZXJ2aWNlcy5jb20vcGFnZWFkL2NvbnZlcnNpb24iO2Nhc2UgNjQ6cmV0dXJuIGM/dmooKSsiL2dzL3BhZ2VhZC9jb252ZXJzaW9uIjoiaHR0cHM6Ly9wYWdlYWQyLmdvb2dsZXN5bmRpY2F0aW9uLmNvbS9wYWdlYWQvY29udmVyc2lvbiI7Y2FzZSA2NTpyZXR1cm4iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9wYWdlYWQvMXAtY29udmVyc2lvbiI7Y2FzZSAyMjpyZXR1cm4gYz92aigpKyIvYXMvZC9jY20vY29udmVyc2lvbiI6Imh0dHBzOi8vd3d3Lmdvb2dsZWFkc2VydmljZXMuY29tL2NjbS9jb252ZXJzaW9uIjtjYXNlIDYwOnJldHVybiBjP3ZqKCkrIi9ncy9jY20vY29udmVyc2lvbiI6Imh0dHBzOi8vcGFnZWFkMi5nb29nbGVzeW5kaWNhdGlvbi5jb20vY2NtL2NvbnZlcnNpb24iOwpjYXNlIDIzOnJldHVybiBjP3ZqKCkrIi9nL2QvY2NtL2NvbnZlcnNpb24iOiJodHRwczovL3d3dy5nb29nbGUuY29tL2NjbS9jb252ZXJzaW9uIjtjYXNlIDU1OnJldHVybiBjP3ZqKCkrIi9ncy9tZWFzdXJlbWVudC9jb252ZXJzaW9uIjoiaHR0cHM6Ly9wYWdlYWQyLmdvb2dsZXN5bmRpY2F0aW9uLmNvbS9tZWFzdXJlbWVudC9jb252ZXJzaW9uIjtjYXNlIDU0OnJldHVybiBQKDIwNSk/Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWVhc3VyZW1lbnQvY29udmVyc2lvbiI6Yz92aigpKyIvZy9tZWFzdXJlbWVudC9jb252ZXJzaW9uIjoiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tZWFzdXJlbWVudC9jb252ZXJzaW9uIjtjYXNlIDIxOnJldHVybiBjP3ZqKCkrIi9kL2NjbS9mb3JtLWRhdGEiOlAoMTQxKT8iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9jY20vZm9ybS1kYXRhIjoiaHR0cHM6Ly9nb29nbGUuY29tL2NjbS9mb3JtLWRhdGEiO2Nhc2UgNzpjYXNlIDUyOmNhc2UgNTM6Y2FzZSAzOTpjYXNlIDM4OmNhc2UgNDA6Y2FzZSAzNzpjYXNlIDQ5OmNhc2UgNDg6Y2FzZSAxNDpjYXNlIDI0OmNhc2UgMTk6Y2FzZSAyNzpjYXNlIDMwOmNhc2UgMzY6Y2FzZSA2MjpjYXNlIDI2OmNhc2UgMjk6Y2FzZSAzMjpjYXNlIDM1OmNhc2UgNTc6Y2FzZSA1ODpjYXNlIDUwOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDIwOmNhc2UgMTg6Y2FzZSA1OTpjYXNlIDQ3OmNhc2UgMTU6Y2FzZSAwOmNhc2UgNjE6Y2FzZSA1NjpjYXNlIDI1OmNhc2UgMjg6Y2FzZSAzMTpjYXNlIDM0OnRocm93IEVycm9yKCJVbnN1cHBvcnRlZCBlbmRwb2ludCIpOwpkZWZhdWx0OnRjKGEsIlVua25vd24gZW5kcG9pbnQiKX19O2Z1bmN0aW9uIGp2KGEpe3N3aXRjaChhKXtjYXNlIDA6YnJlYWs7Y2FzZSA5OnJldHVybiJlNCI7Y2FzZSA2OnJldHVybiJlNSI7Y2FzZSAxNDpyZXR1cm4iZTYiO2RlZmF1bHQ6cmV0dXJuImU3In19O3ZhciBrdj0iZW1haWwgZW1haWxfYWRkcmVzcyBzaGEyNTZfZW1haWxfYWRkcmVzcyBwaG9uZV9udW1iZXIgc2hhMjU2X3Bob25lX251bWJlciBmaXJzdF9uYW1lIGxhc3RfbmFtZSIuc3BsaXQoIiAiKSxsdj0iZmlyc3RfbmFtZSBzaGEyNTZfZmlyc3RfbmFtZSBsYXN0X25hbWUgc2hhMjU2X2xhc3RfbmFtZSBzdHJlZXQgc2hhMjU2X3N0cmVldCBjaXR5IHJlZ2lvbiBjb3VudHJ5IHBvc3RhbF9jb2RlIi5zcGxpdCgiICIpO2Z1bmN0aW9uIG12KGEsYil7aWYoIWIuX3RhZ19tZXRhZGF0YSl7Zm9yKHZhciBjPXt9LGQ9MCxlPTA7ZTxhLmxlbmd0aDtlKyspZCs9bnYoYVtlXSxiLGMpPzE6MDtkPjAmJihiLl90YWdfbWV0YWRhdGE9Yyl9fQpmdW5jdGlvbiBudihhLGIsYyl7dmFyIGQ9YlthXTtpZihkPT09dm9pZCAwfHxkPT09bnVsbClyZXR1cm4hMTtjW2FdPUFycmF5LmlzQXJyYXkoZCk/ZC5tYXAoZnVuY3Rpb24oKXtyZXR1cm57bW9kZToiYyJ9fSk6e21vZGU6ImMifTtyZXR1cm4hMH1mdW5jdGlvbiBvdihhKXtpZihQKDE3OCkmJmEpe212KGt2LGEpO2Zvcih2YXIgYj11YihhLmFkZHJlc3MpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtkJiZtdihsdixkKX12YXIgZT1hLmhvbWVfYWRkcmVzcztlJiZtdihsdixlKX19CmZ1bmN0aW9uIHB2KGEsYixjKXtmdW5jdGlvbiBkKGYsZyl7Zz1TdHJpbmcoZykuc3Vic3RyaW5nKDAsMTAwKTtlLnB1c2goIiIrZitlbmNvZGVVUklDb21wb25lbnQoZykpfWlmKCFjKXJldHVybiIiO3ZhciBlPVtdO2QoImkiLFN0cmluZyhhKSk7ZCgiZiIsYik7Yy5tb2RlJiZkKCJtIixjLm1vZGUpO2MuaXNQcmVIYXNoZWQmJmQoInAiLCIxIik7Yy5yYXdMZW5ndGgmJmQoInIiLFN0cmluZyhjLnJhd0xlbmd0aCkpO2Mubm9ybWFsaXplZExlbmd0aCYmZCgibiIsU3RyaW5nKGMubm9ybWFsaXplZExlbmd0aCkpO2MubG9jYXRpb24mJmQoImwiLGMubG9jYXRpb24pO2Muc2VsZWN0b3ImJmQoInMiLGMuc2VsZWN0b3IpO3JldHVybiBlLmpvaW4oIi4iKX07ZnVuY3Rpb24gcXYoKXt0aGlzLmJsb2NrU2l6ZT0tMX07ZnVuY3Rpb24gcnYoYSxiKXt0aGlzLmJsb2NrU2l6ZT0tMTt0aGlzLmJsb2NrU2l6ZT02NDt0aGlzLlA9RWEuVWludDhBcnJheT9uZXcgVWludDhBcnJheSh0aGlzLmJsb2NrU2l6ZSk6QXJyYXkodGhpcy5ibG9ja1NpemUpO3RoaXMuVD10aGlzLkg9MDt0aGlzLkM9W107dGhpcy5sYT1hO3RoaXMuVj1iO3RoaXMuc2E9RWEuSW50MzJBcnJheT9uZXcgSW50MzJBcnJheSg2NCk6QXJyYXkoNjQpO3N2PT09dm9pZCAwJiYoRWEuSW50MzJBcnJheT9zdj1uZXcgSW50MzJBcnJheSh0dik6c3Y9dHYpO3RoaXMucmVzZXQoKX1GYShydixxdik7Zm9yKHZhciB1dj1bXSx2dj0wO3Z2PDYzO3Z2KyspdXZbdnZdPTA7dmFyIHd2PVtdLmNvbmNhdCgxMjgsdXYpOwpydi5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLlQ9dGhpcy5IPTA7dmFyIGE7aWYoRWEuSW50MzJBcnJheSlhPW5ldyBJbnQzMkFycmF5KHRoaXMuVik7ZWxzZXt2YXIgYj10aGlzLlYsYz1iLmxlbmd0aDtpZihjPjApe2Zvcih2YXIgZD1BcnJheShjKSxlPTA7ZTxjO2UrKylkW2VdPWJbZV07YT1kfWVsc2UgYT1bXX10aGlzLkM9YX07CnZhciB4dj1mdW5jdGlvbihhKXtmb3IodmFyIGI9YS5QLGM9YS5zYSxkPTAsZT0wO2U8Yi5sZW5ndGg7KWNbZCsrXT1iW2VdPDwyNHxiW2UrMV08PDE2fGJbZSsyXTw8OHxiW2UrM10sZT1kKjQ7Zm9yKHZhciBmPTE2O2Y8NjQ7ZisrKXt2YXIgZz1jW2YtMTVdfDAsaD1jW2YtMl18MDtjW2ZdPSgoY1tmLTE2XXwwKSsoKGc+Pj43fGc8PDI1KV4oZz4+PjE4fGc8PDE0KV5nPj4+Myl8MCkrKChjW2YtN118MCkrKChoPj4+MTd8aDw8MTUpXihoPj4+MTl8aDw8MTMpXmg+Pj4xMCl8MCl8MH1mb3IodmFyIGw9YS5DWzBdfDAsbj1hLkNbMV18MCxwPWEuQ1syXXwwLHE9YS5DWzNdfDAscj1hLkNbNF18MCx1PWEuQ1s1XXwwLHQ9YS5DWzZdfDAsdj1hLkNbN118MCx4PTA7eDw2NDt4Kyspe3ZhciB5PSgobD4+PjJ8bDw8MzApXihsPj4+MTN8bDw8MTkpXihsPj4+MjJ8bDw8MTApKSsobCZuXmwmcF5uJnApfDAsQT0odisoKHI+Pj42fHI8PDI2KV4ocj4+PjExfHI8PDIxKV4ocj4+PjI1fHI8PDcpKXwKMCkrKCgociZ1Xn5yJnQpKyhzdlt4XXwwKXwwKSsoY1t4XXwwKXwwKXwwO3Y9dDt0PXU7dT1yO3I9cStBfDA7cT1wO3A9bjtuPWw7bD1BK3l8MH1hLkNbMF09YS5DWzBdK2x8MDthLkNbMV09YS5DWzFdK258MDthLkNbMl09YS5DWzJdK3B8MDthLkNbM109YS5DWzNdK3F8MDthLkNbNF09YS5DWzRdK3J8MDthLkNbNV09YS5DWzVdK3V8MDthLkNbNl09YS5DWzZdK3R8MDthLkNbN109YS5DWzddK3Z8MH07CnJ2LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXtiPT09dm9pZCAwJiYoYj1hLmxlbmd0aCk7dmFyIGM9MCxkPXRoaXMuSDtpZih0eXBlb2YgYT09PSJzdHJpbmciKWZvcig7YzxiOyl0aGlzLlBbZCsrXT1hLmNoYXJDb2RlQXQoYysrKSxkPT10aGlzLmJsb2NrU2l6ZSYmKHh2KHRoaXMpLGQ9MCk7ZWxzZXt2YXIgZSxmPXR5cGVvZiBhO2U9ZiE9Im9iamVjdCI/ZjphP0FycmF5LmlzQXJyYXkoYSk/ImFycmF5IjpmOiJudWxsIjtpZihlPT0iYXJyYXkifHxlPT0ib2JqZWN0IiYmdHlwZW9mIGEubGVuZ3RoPT0ibnVtYmVyIilmb3IoO2M8Yjspe3ZhciBnPWFbYysrXTtpZighKCJudW1iZXIiPT10eXBlb2YgZyYmMDw9ZyYmMjU1Pj1nJiZnPT0oZ3wwKSkpdGhyb3cgRXJyb3IoIm1lc3NhZ2UgbXVzdCBiZSBhIGJ5dGUgYXJyYXkiKTt0aGlzLlBbZCsrXT1nO2Q9PXRoaXMuYmxvY2tTaXplJiYoeHYodGhpcyksZD0wKX1lbHNlIHRocm93IEVycm9yKCJtZXNzYWdlIG11c3QgYmUgc3RyaW5nIG9yIGFycmF5Iik7Cn10aGlzLkg9ZDt0aGlzLlQrPWJ9O3J2LnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuVCo4O3RoaXMuSDw1Nj90aGlzLnVwZGF0ZSh3diw1Ni10aGlzLkgpOnRoaXMudXBkYXRlKHd2LHRoaXMuYmxvY2tTaXplLSh0aGlzLkgtNTYpKTtmb3IodmFyIGM9NjM7Yz49NTY7Yy0tKXRoaXMuUFtjXT1iJjI1NSxiLz0yNTY7eHYodGhpcyk7Zm9yKHZhciBkPTAsZT0wO2U8dGhpcy5sYTtlKyspZm9yKHZhciBmPTI0O2Y+PTA7Zi09OClhW2QrK109dGhpcy5DW2VdPj5mJjI1NTtyZXR1cm4gYX07CnZhciB0dj1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LAo0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0sc3Y7ZnVuY3Rpb24geXYoKXtydi5jYWxsKHRoaXMsOCx6dil9RmEoeXYscnYpO3ZhciB6dj1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdO3ZhciBBdj0vXlswLTlBLUZhLWZdezY0fSQvO2Z1bmN0aW9uIEJ2KGEpe3RyeXtyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoYSl9Y2F0Y2goYil7cmV0dXJuIFRiKGEpfX1mdW5jdGlvbiBDdihhKXt2YXIgYj13O2lmKGE9PT0iInx8YT09PSJlMCIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShhKTt2YXIgYztpZigoYz1iLmNyeXB0byk9PW51bGw/MDpjLnN1YnRsZSl7aWYoQXYudGVzdChhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO3RyeXt2YXIgZD1CdihhKTtyZXR1cm4gYi5jcnlwdG8uc3VidGxlLmRpZ2VzdCgiU0hBLTI1NiIsZCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gRHYoZSxiKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuImUyIn0pfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlc29sdmUoImUyIil9fWVsc2UgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgiZTEiKX0KZnVuY3Rpb24gRHYoYSxiKXt2YXIgYz1BcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGEpKS5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZCl9KS5qb2luKCIiKTtyZXR1cm4gYi5idG9hKGMpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIikucmVwbGFjZSgvPSskLywiIil9Owp2YXIgR3Y9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QKDE3OCksZD1bInR2LjEiXSxlPVsidHZkLjEiXSxmPUV2KGEpO2lmKGYpcmV0dXJuIGQucHVzaChmKSx7aWI6ITEsTmo6ZC5qb2luKCJ+IiksRmc6e30sT2Q6Yz9lLmpvaW4oIn4iKTp2b2lkIDB9O3ZhciBnPXt9LGg9MDt2YXIgbD0wLG49RnYoYSxmdW5jdGlvbih1LHQsdil7bCsrO3ZhciB4PXUudmFsdWUseTtpZih2KXt2YXIgQT10KyJfXyIraCsrO3k9IiR7dXNlckRhdGEuIitBKyJ8c2hhMjU2fSI7Z1tBXT14fWVsc2UgeT1lbmNvZGVVUklDb21wb25lbnQoZW5jb2RlVVJJQ29tcG9uZW50KHgpKTt1LmluZGV4IT09dm9pZCAwJiYodCs9dS5pbmRleCk7ZC5wdXNoKHQrIi4iK3kpO2lmKGMpe3ZhciBDPXB2KGwsdCx1Lm1ldGFkYXRhKTtDJiZlLnB1c2goQyl9fSkuaWIscD1lLmpvaW4oIn4iKTsKdmFyIHE9ZC5qb2luKCJ+Iikscj17dXNlckRhdGE6Z307cmV0dXJuIGI9PT0yP3tpYjpuLE5qOnEsRmc6cixJcToidHYuMX4keyIrKHErInxlbmNyeXB0fSIpLGVuY3J5cHRpb25LZXlTdHJpbmc6RCg0MyksT2Q6Yz9wOnZvaWQgMH06e2liOm4sTmo6cSxGZzpyLE9kOmM/cDp2b2lkIDB9fSxJdj1mdW5jdGlvbihhKXtpZighKGEhPW51bGwmJk9iamVjdC5rZXlzKGEpLmxlbmd0aD4wKSlyZXR1cm4hMTt2YXIgYj1IdihhKTtyZXR1cm4gRnYoYixmdW5jdGlvbigpe30pLmlifSxGdj1mdW5jdGlvbihhLGIpe2I9Yj09PXZvaWQgMD9mdW5jdGlvbigpe306Yjtmb3IodmFyIGM9ITEsZD0hMSxlPW0oYSksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpe3ZhciBnPWYudmFsdWU7aWYoZy52YWx1ZSl7dmFyIGg9SnZbZy5uYW1lXTtpZihoKXt2YXIgbD1LdihnKTtsJiYoYz0hMCk7ZD0hMDtiKGcsaCxsKX19fXJldHVybntpYjpkLG9qOmN9fSxLdj1mdW5jdGlvbihhKXt2YXIgYj1MdihhLm5hbWUpLApjPS9eZVxkKyQvLnRlc3QoYS52YWx1ZSksZDtpZihkPWImJiFjKXt2YXIgZT1hLnZhbHVlO2Q9IShNdi50ZXN0KGUpfHxBdi50ZXN0KGUpKX1yZXR1cm4gZH0sTHY9ZnVuY3Rpb24oYSl7cmV0dXJuIE52LmluZGV4T2YoYSkhPT0tMX0sUXY9ZnVuY3Rpb24oYSl7aWYody5Qcm9taXNlKXt2YXIgYj12b2lkIDA7cmV0dXJuIGJ9fSxVdj1mdW5jdGlvbihhLGIsYyl7aWYody5Qcm9taXNlKXRyeXt2YXIgZD1IdihhKSxlPVJ2KGQpLnRoZW4oU3YpO3JldHVybiBlfWNhdGNoKGcpe319LFd2PWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gU3YoVnYoSHYoYSkpKX1jYXRjaChiKXt9fSxQdj1mdW5jdGlvbihhKXt2YXIgYj12b2lkIDA7cmV0dXJuIGJ9LApTdj1mdW5jdGlvbihhKXt2YXIgYj1QKDE3OCksYz1hLlljLGQ9WyJ0di4xIl0sZT1bInR2ZC4xIl0sZj1FdihjKTtpZihmKXJldHVybiBkLnB1c2goZikse25jOmQuam9pbigifiIpLG9qOiExLGliOiExLG5qOiEwLE9kOmI/ZS5qb2luKCJ+Iik6dm9pZCAwfTt2YXIgZz1jLmZpbHRlcihmdW5jdGlvbihxKXtyZXR1cm4hS3YocSl9KSxoPTAsbD1GdihnLGZ1bmN0aW9uKHEscil7aCsrO3ZhciB1PXEudmFsdWUsdD1xLmluZGV4O3QhPT12b2lkIDAmJihyKz10KTtkLnB1c2gocisiLiIrdSk7aWYoYil7dmFyIHY9cHYoaCxyLHEubWV0YWRhdGEpO3YmJmUucHVzaCh2KX19KSxuPWwub2oscD1sLmliO3JldHVybntuYzplbmNvZGVVUklDb21wb25lbnQoZC5qb2luKCJ+IikpLG9qOm4saWI6cCxuajohMSxPZDpiP2Uuam9pbigifiIpOnZvaWQgMH19LEV2PWZ1bmN0aW9uKGEpe2lmKGEubGVuZ3RoPT09MSYmYVswXS5uYW1lPT09ImVycm9yX2NvZGUiKXJldHVybiBKdi5lcnJvcl9jb2RlKyIuIisKYVswXS52YWx1ZX0sVHY9ZnVuY3Rpb24oYSl7aWYoYS5sZW5ndGg9PT0xJiZhWzBdLm5hbWU9PT0iZXJyb3JfY29kZSIpcmV0dXJuITE7Zm9yKHZhciBiPW0oYSksYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpe3ZhciBkPWMudmFsdWU7aWYoSnZbZC5uYW1lXSYmZC52YWx1ZSlyZXR1cm4hMH1yZXR1cm4hMX0sSHY9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYih1LHQsdix4LHkpe3ZhciBBPVh2KHUpO2lmKEEhPT0iIilpZihBdi50ZXN0KEEpKXt5JiYoeS5pc1ByZUhhc2hlZD0hMCk7dmFyIEM9e25hbWU6dCx2YWx1ZTpBLGluZGV4Onh9O3kmJihDLm1ldGFkYXRhPXkpO2wucHVzaChDKX1lbHNle3ZhciBFPXYoQSksSD17bmFtZTp0LHZhbHVlOkUsaW5kZXg6eH07eSYmKEgubWV0YWRhdGE9eSxFJiYoeS5yYXdMZW5ndGg9U3RyaW5nKEEpLmxlbmd0aCx5Lm5vcm1hbGl6ZWRMZW5ndGg9RS5sZW5ndGgpKTtsLnB1c2goSCl9fWZ1bmN0aW9uIGModSx0KXt2YXIgdj11O2lmKHNiKHYpfHwKQXJyYXkuaXNBcnJheSh2KSl7dj11Yih1KTtmb3IodmFyIHg9MDt4PHYubGVuZ3RoOysreCl7dmFyIHk9WHYodlt4XSksQT1Bdi50ZXN0KHkpO3QmJiFBJiZNKDg5KTshdCYmQSYmTSg4OCl9fX1mdW5jdGlvbiBkKHUsdCl7dmFyIHY9dVt0XTtjKHYsITEpO3ZhciB4PVl2W3RdO3VbeF0mJih1W3RdJiZNKDkwKSx2PXVbeF0sYyh2LCEwKSk7cmV0dXJuIHZ9ZnVuY3Rpb24gZSh1LHQsdix4KXt2YXIgeT11Ll90YWdfbWV0YWRhdGF8fHt9LEE9dVt0XSxDPXlbdF07YyhBLCExKTt2YXIgRT1Zdlt0XTtpZihFKXt2YXIgSD11W0VdLEo9eVtFXTtIJiYoQSYmTSg5MCksQT1ILEM9SixjKEEsITApKX1pZih4IT09dm9pZCAwKWIoQSx0LHYseCxDKTtlbHNle0E9dWIoQSk7Qz11YihDKTtmb3IodmFyIE89MDtPPEEubGVuZ3RoOysrTyliKEFbT10sdCx2LHZvaWQgMCxDW09dKX19ZnVuY3Rpb24gZih1LHQsdil7aWYoUCgxNzgpKWUodSx0LHYsdm9pZCAwKTtlbHNlIGZvcih2YXIgeD11YihkKHUsCnQpKSx5PTA7eTx4Lmxlbmd0aDsrK3kpYih4W3ldLHQsdil9ZnVuY3Rpb24gZyh1LHQsdix4KXtpZihQKDE3OCkpZSh1LHQsdix4KTtlbHNle3ZhciB5PWQodSx0KTtiKHksdCx2LHgpfX1mdW5jdGlvbiBoKHUpe3JldHVybiBmdW5jdGlvbih0KXtNKDY0KTtyZXR1cm4gdSh0KX19dmFyIGw9W107aWYody5sb2NhdGlvbi5wcm90b2NvbCE9PSJodHRwczoiKXJldHVybiBsLnB1c2goe25hbWU6ImVycm9yX2NvZGUiLHZhbHVlOiJlMyIsaW5kZXg6dm9pZCAwfSksbDtmKGEsImVtYWlsIixadik7ZihhLCJwaG9uZV9udW1iZXIiLCR2KTtmKGEsImZpcnN0X25hbWUiLGgoYXcpKTtmKGEsImxhc3RfbmFtZSIsaChhdykpO3ZhciBuPWEuaG9tZV9hZGRyZXNzfHx7fTtmKG4sInN0cmVldCIsaChidykpO2YobiwiY2l0eSIsaChidykpO2YobiwicG9zdGFsX2NvZGUiLGgoY3cpKTtmKG4sInJlZ2lvbiIsaChidykpO2YobiwiY291bnRyeSIsaChjdykpO2Zvcih2YXIgcD11YihhLmFkZHJlc3N8fAp7fSkscT0wO3E8cC5sZW5ndGg7cSsrKXt2YXIgcj1wW3FdO2cociwiZmlyc3RfbmFtZSIsYXcscSk7ZyhyLCJsYXN0X25hbWUiLGF3LHEpO2cociwic3RyZWV0IixidyxxKTtnKHIsImNpdHkiLGJ3LHEpO2cociwicG9zdGFsX2NvZGUiLGN3LHEpO2cociwicmVnaW9uIixidyxxKTtnKHIsImNvdW50cnkiLGN3LHEpfXJldHVybiBsfSxkdz1mdW5jdGlvbihhKXt2YXIgYj1hP0h2KGEpOltdO3JldHVybiBTdih7WWM6Yn0pfSxldz1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYSE9bnVsbCYmT2JqZWN0LmtleXMoYSkubGVuZ3RoPjAmJncuUHJvbWlzZT9IdihhKS5zb21lKGZ1bmN0aW9uKGIpe3JldHVybiBiLnZhbHVlJiZMdihiLm5hbWUpJiYhQXYudGVzdChiLnZhbHVlKX0pOiExfSxYdj1mdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjpzYihhKT9FYihTdHJpbmcoYSkpOiJlMCJ9LGN3PWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoZncsIiIpfSxhdz1mdW5jdGlvbihhKXtyZXR1cm4gYncoYS5yZXBsYWNlKC9ccy9nLAoiIikpfSxidz1mdW5jdGlvbihhKXtyZXR1cm4gRWIoYS5yZXBsYWNlKGd3LCIiKS50b0xvd2VyQ2FzZSgpKX0sJHY9ZnVuY3Rpb24oYSl7YT1hLnJlcGxhY2UoL1tccy0oKS8uXS9nLCIiKTthLmNoYXJBdCgwKSE9PSIrIiYmKGE9IisiK2EpO3JldHVybiBody50ZXN0KGEpP2E6ImUwIn0sWnY9ZnVuY3Rpb24oYSl7dmFyIGI9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCJAIik7aWYoYi5sZW5ndGg9PT0yKXt2YXIgYz1iWzBdOy9eKGdtYWlsfGdvb2dsZW1haWwpXC4vLnRlc3QoYlsxXSkmJihjPWMucmVwbGFjZSgvXC4vZywiIikpO2M9YysiQCIrYlsxXTtpZihpdy50ZXN0KGMpKXJldHVybiBjfXJldHVybiJlMCJ9LFZ2PWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2lmKGIudmFsdWUmJkx2KGIubmFtZSkpe3ZhciBjO3ZhciBkPWIudmFsdWUsZT13O2lmKGQ9PT0iInx8ZD09PSJlMCJ8fEF2LnRlc3QoZCkpYz1kO2Vsc2UgdHJ5e3ZhciBmPW5ldyB5djsKZi51cGRhdGUoQnYoZCkpO2M9RHYoZi5kaWdlc3QoKSxlKX1jYXRjaChnKXtjPSJlMiJ9Yi52YWx1ZT1jfX0pLHtZYzphfX1jYXRjaChiKXtyZXR1cm57WWM6W119fX0sUnY9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc29tZShmdW5jdGlvbihiKXtyZXR1cm4gYi52YWx1ZSYmTHYoYi5uYW1lKX0pP3cuUHJvbWlzZT9Qcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYi52YWx1ZSYmTHYoYi5uYW1lKT9DdihiLnZhbHVlKS50aGVuKGZ1bmN0aW9uKGMpe2IudmFsdWU9Y30pOlByb21pc2UucmVzb2x2ZSgpfSkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm57WWM6YX19KS5jYXRjaChmdW5jdGlvbigpe3JldHVybntZYzpbXX19KTpQcm9taXNlLnJlc29sdmUoe1ljOltdfSk6UHJvbWlzZS5yZXNvbHZlKHtZYzphfSl9LGd3PS9bMC05YH4hQCMkJV4mKigpX1wtKz06Ozw+LC4/fC9cXFtcXV0vZyxpdz0vXlxTK0BcUytcLlxTKyQvLGh3PS9eXCtcZHsxMCwxNX0kLyxmdz0vWy5+XS9nLApNdj0vXlswLTlBLVphLXpfLV17NDN9JC8sanc9e30sSnY9KGp3LmVtYWlsPSJlbSIsancucGhvbmVfbnVtYmVyPSJwbiIsancuZmlyc3RfbmFtZT0iZm4iLGp3Lmxhc3RfbmFtZT0ibG4iLGp3LnN0cmVldD0ic2EiLGp3LmNpdHk9ImN0Iixqdy5yZWdpb249InJnIixqdy5jb3VudHJ5PSJjbyIsancucG9zdGFsX2NvZGU9InBjIixqdy5lcnJvcl9jb2RlPSJlYyIsancpLGt3PXt9LFl2PShrdy5lbWFpbD0ic2hhMjU2X2VtYWlsX2FkZHJlc3MiLGt3LnBob25lX251bWJlcj0ic2hhMjU2X3Bob25lX251bWJlciIsa3cuZmlyc3RfbmFtZT0ic2hhMjU2X2ZpcnN0X25hbWUiLGt3Lmxhc3RfbmFtZT0ic2hhMjU2X2xhc3RfbmFtZSIsa3cuc3RyZWV0PSJzaGEyNTZfc3RyZWV0Iixrdyk7dmFyIE52PU9iamVjdC5mcmVlemUoWyJlbWFpbCIsInBob25lX251bWJlciIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJzdHJlZXQiXSk7ZnVuY3Rpb24gbHcoKXt2YXIgYT1bXSxiPU51bWJlcignJyl8fDAsYz1OdW1iZXIoJycpfHwwO2N8fChjPWIvMTAwKTt2YXIgZD1mdW5jdGlvbigpe3ZhciBtYT0hMTttYT0hMDtyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToyMSxzdHVkeUlkOjIxLGV4cGVyaW1lbnRJZDoxMDUxMDIwNTAsY29udHJvbElkOjEwNTEwMjA1MSxjb250cm9sSWQyOjEwNTEwMjA1Mixwcm9iYWJpbGl0eTpjLGFjdGl2ZTpkLGthOjB9KTt2YXIgZT0KTnVtYmVyKCcnKXx8MCxmPU51bWJlcignJyl8fDA7Znx8KGY9ZS8xMDApO3ZhciBnPWZ1bmN0aW9uKCl7dmFyIG1hPSExO21hPSEwO3JldHVybiBtYX0oKTthLnB1c2goe25hOjI2NSxzdHVkeUlkOjI2NSxleHBlcmltZW50SWQ6MTE1NjkxMDYzLGNvbnRyb2xJZDoxMTU2OTEwNjQsY29udHJvbElkMjoxMTU2OTEwNjUsCnByb2JhYmlsaXR5OmYsYWN0aXZlOmcsa2E6MH0pO3ZhciBoPU51bWJlcignJyl8fDAsbD1OdW1iZXIoJycpfHwwO2x8fChsPWgvMTAwKTt2YXIgbj1mdW5jdGlvbigpe3ZhciBtYT0hMTtyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToyMjgsc3R1ZHlJZDoyMjgsZXhwZXJpbWVudElkOjEwNTE3NzE1NCxjb250cm9sSWQ6MTA1MTc3MTU1LGNvbnRyb2xJZDI6MTA1MjU1MjQ1LHByb2JhYmlsaXR5OmwsYWN0aXZlOm4sa2E6MH0pO3ZhciBwPU51bWJlcignJyl8fAowLHE9TnVtYmVyKCcnKXx8MDtxfHwocT1wLzEwMCk7dmFyIHI9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6Mjg3LHN0dWR5SWQ6Mjg3LGV4cGVyaW1lbnRJZDoxMTYxMzMzMTIsY29udHJvbElkOjExNjEzMzMxMyxjb250cm9sSWQyOjExNjEzMzMxNCxwcm9iYWJpbGl0eTpxLGFjdGl2ZTpyLGthOjB9KTt2YXIgdT1OdW1iZXIoJycpfHwKMCx0PU51bWJlcignJyl8fDA7dHx8KHQ9dS8xMDApO3ZhciB2PWZ1bmN0aW9uKCl7dmFyIG1hPSExO3JldHVybiBtYX0oKTthLnB1c2goe25hOjI4OCxzdHVkeUlkOjI4OCxleHBlcmltZW50SWQ6MTE2MTMzMzE1LGNvbnRyb2xJZDoxMTYxMzMzMTYsY29udHJvbElkMjoxMTYxMzMzMTcscHJvYmFiaWxpdHk6dCxhY3RpdmU6dixrYTowfSk7dmFyIHg9Ck51bWJlcignJyl8fDAseT1OdW1iZXIoJzAuMDEnKXx8MDt5fHwoeT14LzEwMCk7dmFyIEE9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6Mjg1LHN0dWR5SWQ6Mjg1LGV4cGVyaW1lbnRJZDoxMTU0OTU5MzgsY29udHJvbElkOjExNTQ5NTkzOSwKY29udHJvbElkMjoxMTU0OTU5NDAscHJvYmFiaWxpdHk6eSxhY3RpdmU6QSxrYTowfSk7dmFyIEM9TnVtYmVyKCcnKXx8MCxFPU51bWJlcignJyl8fDA7RXx8KEU9Qy8xMDApO3ZhciBIPWZ1bmN0aW9uKCl7dmFyIG1hPSExO21hPSEwOwpyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToyODYsc3R1ZHlJZDoyODYsZXhwZXJpbWVudElkOjExNTQ5NTk0MSxjb250cm9sSWQ6MTE1NDk1OTQyLGNvbnRyb2xJZDI6MTE1NDk1OTQzLHByb2JhYmlsaXR5OkUsYWN0aXZlOkgsa2E6MH0pO3ZhciBKPU51bWJlcignJyl8fDAsTz1OdW1iZXIoJycpfHwwO098fChPPUovMTAwKTt2YXIgYmE9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7bWE9ITA7CnJldHVybiBtYX0oKTthLnB1c2goe25hOjIxOSxzdHVkeUlkOjIxOSxleHBlcmltZW50SWQ6MTA0OTQ4ODExLGNvbnRyb2xJZDoxMDQ5NDg4MTIsY29udHJvbElkMjowLHByb2JhYmlsaXR5Ok8sYWN0aXZlOmJhLGthOjB9KTt2YXIgVz1OdW1iZXIoJycpfHwwLE49TnVtYmVyKCcnKXx8MDtOfHwoTj1XLzEwMCk7dmFyIFM9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7Cm1hPSEwO3JldHVybiBtYX0oKTthLnB1c2goe25hOjIyMCxzdHVkeUlkOjIyMCxleHBlcmltZW50SWQ6MTA0OTQ4ODEzLGNvbnRyb2xJZDoxMDQ5NDg4MTQsY29udHJvbElkMjowLHByb2JhYmlsaXR5Ok4sYWN0aXZlOlMsa2E6MH0pO3ZhciBsYT1OdW1iZXIoJycpfHwwLGphPU51bWJlcignMC41Jyl8fDA7amF8fChqYT1sYS8xMDApO3ZhciBWPWZ1bmN0aW9uKCl7dmFyIG1hPSExO3JldHVybiBtYX0oKTthLnB1c2goe25hOjI1NSxzdHVkeUlkOjI1NSxleHBlcmltZW50SWQ6MTA1MzkxMjUyLGNvbnRyb2xJZDoxMDUzOTEyNTMsY29udHJvbElkMjoxMDU0NDYxMjAscHJvYmFiaWxpdHk6amEsYWN0aXZlOlYsa2E6MH0pO3ZhciBVPU51bWJlcignJyl8fDAsaGE9TnVtYmVyKCcnKXx8MDtoYXx8KGhhPVUvMTAwKTt2YXIgdGE9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7CnJldHVybiBtYX0oKTthLnB1c2goe25hOjIzNSxzdHVkeUlkOjIzNSxleHBlcmltZW50SWQ6MTA1MzU3MTUwLGNvbnRyb2xJZDoxMDUzNTcxNTEsY29udHJvbElkMjowLHByb2JhYmlsaXR5OmhhLGFjdGl2ZTp0YSxrYToxfSk7dmFyIHBhPU51bWJlcignJyl8fDAsTWE9TnVtYmVyKCcwJyl8fDA7TWF8fChNYT1wYS8xMDApO3ZhciBTYT1mdW5jdGlvbigpe3ZhciBtYT0hMTtyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToxNzAsc3R1ZHlJZDoxNzAsZXhwZXJpbWVudElkOjExNjAyNDczMywKY29udHJvbElkOjExNjAyNDczNCxjb250cm9sSWQyOjExNjAyNDczNSxwcm9iYWJpbGl0eTpNYSxhY3RpdmU6U2Esa2E6MH0pO3ZhciBtYj1OdW1iZXIoJycpfHwwLGNiPU51bWJlcignJyl8fDA7Y2J8fChjYj1tYi8xMDApO3ZhciBZYT1mdW5jdGlvbigpe3ZhciBtYT0hMTttYT0hMDtyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToyMDMsc3R1ZHlJZDoyMDMsZXhwZXJpbWVudElkOjExNTQ4MDcxMCwKY29udHJvbElkOjExNTQ4MDcwOSxjb250cm9sSWQyOjExNTQ4OTk4Mixwcm9iYWJpbGl0eTpjYixhY3RpdmU6WWEsa2E6MH0pO3ZhciBQYj1OdW1iZXIoJycpfHwwLFFiPU51bWJlcignJyl8fDA7UWJ8fChRYj1QYi8xMDApO3ZhciBrZT1mdW5jdGlvbigpe3ZhciBtYT0hMTtyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToxNzgsc3R1ZHlJZDoxNzgsZXhwZXJpbWVudElkOjExNTk1ODcwMCxjb250cm9sSWQ6MTE1OTU4NzAxLGNvbnRyb2xJZDI6MTE1OTU4NzAyLHByb2JhYmlsaXR5OlFiLGFjdGl2ZTprZSxrYTowfSk7CnZhciBJZz1OdW1iZXIoJycpfHwwLGxlPU51bWJlcignJyl8fDA7bGV8fChsZT1JZy8xMDApO3ZhciBRZT1mdW5jdGlvbigpe3ZhciBtYT0hMTttYT0hMDtyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToxOTcsc3R1ZHlJZDoxOTcsZXhwZXJpbWVudElkOjEwNTExMzUzMixjb250cm9sSWQ6MTA1MTEzNTMxLGNvbnRyb2xJZDI6MCxwcm9iYWJpbGl0eTpsZSxhY3RpdmU6UWUsa2E6MH0pO3ZhciBYaz1OdW1iZXIoJycpfHwKMCx2aT1OdW1iZXIoJzAuMicpfHwwO3ZpfHwodmk9WGsvMTAwKTt2YXIgWWs9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6MjQzLHN0dWR5SWQ6MjQzLGV4cGVyaW1lbnRJZDoxMTU2MTY5ODUsY29udHJvbElkOjExNTYxNjk4Nixjb250cm9sSWQyOjAscHJvYmFiaWxpdHk6dmksYWN0aXZlOllrLGthOjB9KTt2YXIgVG89TnVtYmVyKCcnKXx8MCx3aT1OdW1iZXIoJycpfHwKMDt3aXx8KHdpPVRvLzEwMCk7dmFyIFprPWZ1bmN0aW9uKCl7dmFyIG1hPSExO21hPSEwO3JldHVybiBtYX0oKTthLnB1c2goe25hOjI3NyxzdHVkeUlkOjI3NyxleHBlcmltZW50SWQ6MTE2MTMwMDM5LGNvbnRyb2xJZDoxMTYxMzAwNDAsY29udHJvbElkMjowLHByb2JhYmlsaXR5OndpLGFjdGl2ZTpaayxrYTowfSk7dmFyIFVvPU51bWJlcignJyl8fDAseGk9TnVtYmVyKCcxJyl8fAowO3hpfHwoeGk9VW8vMTAwKTt2YXIgVm89ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6MjU0LHN0dWR5SWQ6MjU0LGV4cGVyaW1lbnRJZDoxMTU1ODM3NjcsY29udHJvbElkOjExNTU4Mzc2OCxjb250cm9sSWQyOjExNTU4Mzc2OSxwcm9iYWJpbGl0eTp4aSxhY3RpdmU6Vm8sa2E6MH0pO3ZhciAkaz1OdW1iZXIoJycpfHwwLHlpPU51bWJlcignJyl8fAowO3lpfHwoeWk9JGsvMTAwKTt2YXIgV289ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6MjUzLHN0dWR5SWQ6MjUzLGV4cGVyaW1lbnRJZDoxMTU1ODM3NzAsY29udHJvbElkOjExNTU4Mzc3MSxjb250cm9sSWQyOjExNTU4Mzc3Mixwcm9iYWJpbGl0eTp5aSxhY3RpdmU6V28sa2E6MH0pO3ZhciBISj1OdW1iZXIoJycpfHwwLFhvPU51bWJlcignJyl8fAowO1hvfHwoWG89SEovMTAwKTt2YXIgSUo9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6MjY2LHN0dWR5SWQ6MjY2LGV4cGVyaW1lbnRJZDoxMTU3MTg1MjksY29udHJvbElkOjExNTcxODUzMCxjb250cm9sSWQyOjExNTcxODUzMSxwcm9iYWJpbGl0eTpYbyxhY3RpdmU6SUosa2E6MH0pO3ZhciBKSj1OdW1iZXIoJycpfHwwLFlvPU51bWJlcignJyl8fAowO1lvfHwoWW89SkovMTAwKTt2YXIgS0o9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6MjY3LHN0dWR5SWQ6MjY3LGV4cGVyaW1lbnRJZDoxMTU3MTg1MjYsY29udHJvbElkOjExNTcxODUyNyxjb250cm9sSWQyOjExNTcxODUyOCxwcm9iYWJpbGl0eTpZbyxhY3RpdmU6S0osa2E6MH0pO3ZhciBMSj1OdW1iZXIoJycpfHwwLFpvPU51bWJlcignJyl8fAowO1pvfHwoWm89TEovMTAwKTt2YXIgTUo9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6MjU5LHN0dWR5SWQ6MjU5LGV4cGVyaW1lbnRJZDoxMDUzMjIzMDIsY29udHJvbElkOjEwNTMyMjMwMyxjb250cm9sSWQyOjEwNTMyMjMwNCxwcm9iYWJpbGl0eTpabyxhY3RpdmU6TUosa2E6MH0pO3ZhciBOSj1OdW1iZXIoJycpfHwwLCRvPU51bWJlcignJyl8fDA7JG98fCgkbz1OSi8xMDApOwp2YXIgT0o9ZnVuY3Rpb24oKXt2YXIgbWE9ITE7cmV0dXJuIG1hfSgpO2EucHVzaCh7bmE6MjQ5LHN0dWR5SWQ6MjQ5LGV4cGVyaW1lbnRJZDoxMDU0NDA1MjEsY29udHJvbElkOjEwNTQ0MDUyMixjb250cm9sSWQyOjAsZm9jdXNlZDohMCxwcm9iYWJpbGl0eTokbyxhY3RpdmU6T0osa2E6MH0pO3ZhciBQSj1OdW1iZXIoJycpfHwwLGFwPU51bWJlcignMC41Jyl8fDA7YXB8fChhcD1QSi8xMDApO3ZhciBRSj1mdW5jdGlvbigpe3ZhciBtYT0hMTtyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToxOTUsc3R1ZHlJZDoxOTUsZXhwZXJpbWVudElkOjEwNDUyNzkwNixjb250cm9sSWQ6MTA0NTI3OTA3LGNvbnRyb2xJZDI6MTA0ODk4MDE1LHByb2JhYmlsaXR5OmFwLGFjdGl2ZTpRSixrYToxfSk7dmFyIFJKPU51bWJlcignJyl8fDAsYnA9TnVtYmVyKCcwLjUnKXx8MDticHx8KGJwPVJKLzEwMCk7dmFyIFNKPWZ1bmN0aW9uKCl7dmFyIG1hPSExO3JldHVybiBtYX0oKTthLnB1c2goe25hOjE5NiwKc3R1ZHlJZDoxOTYsZXhwZXJpbWVudElkOjEwNDUyODUwMCxjb250cm9sSWQ6MTA0NTI4NTAxLGNvbnRyb2xJZDI6MTA0ODk4MDE2LHByb2JhYmlsaXR5OmJwLGFjdGl2ZTpTSixrYTowfSk7dmFyIFRKPU51bWJlcignJyl8fDAsY3A9TnVtYmVyKCcnKXx8MDtjcHx8KGNwPVRKLzEwMCk7dmFyIFVKPWZ1bmN0aW9uKCl7dmFyIG1hPSExO21hPSEwOwpyZXR1cm4gbWF9KCk7YS5wdXNoKHtuYToyMjksc3R1ZHlJZDoyMjksZXhwZXJpbWVudElkOjEwNTM1OTkzOCxjb250cm9sSWQ6MTA1MzU5OTM3LGNvbnRyb2xJZDI6MTA1MzU5OTM2LHByb2JhYmlsaXR5OmNwLGFjdGl2ZTpVSixrYTowfSk7cmV0dXJuIGF9O3ZhciBtdz17fTtmdW5jdGlvbiBudyhhKXt2YXIgYj1hLGM9YT1vd1tiLnN0dWR5SWRdP25hKE9iamVjdCwiYXNzaWduIikuY2FsbChPYmplY3Qse30sYix7YWN0aXZlOiEwfSk6YjtjLmNvbnRyb2xJZDImJmMucHJvYmFiaWxpdHk8PS4yNXx8KGM9bmEoT2JqZWN0LCJhc3NpZ24iKS5jYWxsKE9iamVjdCx7fSxjLHtjb250cm9sSWQyOjB9KSk7SWlbYy5zdHVkeUlkXT1jO2EuZm9jdXNlZCYmKG13W2Euc3R1ZHlJZF09ITApO2lmKGEua2E9PT0xKXt2YXIgZD1hLnN0dWR5SWQ7cHcobG0oZ20uWi5NaSx7fSksZCk7cXcoZCkmJnNrKGQpfWVsc2UgaWYoYS5rYT09PTApe3ZhciBlPWEuc3R1ZHlJZDtwdyhydyxlKTtxdyhlKSYmc2soZSl9fQpmdW5jdGlvbiBwdyhhLGIpe2lmKElpW2JdKXt2YXIgYz1JaVtiXSxkPWMuZXhwZXJpbWVudElkLGU9Yy5wcm9iYWJpbGl0eTtpZighKGEuc3R1ZGllc3x8e30pW2JdKXt2YXIgZj1hLnN0dWRpZXN8fHt9O2ZbYl09ITA7YS5zdHVkaWVzPWY7SWlbYl0uYWN0aXZlfHwoSWlbYl0ucHJvYmFiaWxpdHk+LjU/TWkoYSxkLGIpOmU8PTB8fGU+MXx8TGkuWHIoYSxiKSl9fWlmKCFtd1tiXSl7dmFyIGc9T2koYSxiKTtnJiZSaS5DLkguYWRkKGcpfX12YXIgcnc9e307ZnVuY3Rpb24gcXcoYSl7cmV0dXJuIE5pKGxtKGdtLlouTWkse30pLGEpfHxOaShydyxhKX1mdW5jdGlvbiBzdyhhKXt2YXIgYj1SKGEsUS5BLnppKXx8W107cmV0dXJuIG9rKGIpfXZhciBvdz17fTsKZnVuY3Rpb24gdHcoKXt2YXIgYT0hMTtpZihhKXt2YXIgYixjLGQ9KChiPXcpPT1udWxsP3ZvaWQgMDooYz1iLmxvY2F0aW9uKT09bnVsbD92b2lkIDA6Yy5oYXNoKXx8IiI7aWYoZFswXT09PSIjIiYmZFsxXT09PSJfIiYmZFsyXT09PSJ0IiYmZFszXT09PSJlIiYmZFs0XT09PSI9Iil7dmFyIGU9ZC5zdWJzdHJpbmcoNSk7aWYoZSlmb3IodmFyIGY9bShlLnNwbGl0KCJ+IikpLGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKXt2YXIgaD1OdW1iZXIoZy52YWx1ZSk7aCYmKG93W2hdPSEwLHNrKGgpKX19fWZvcih2YXIgbD1tKGx3KCkpLG49bC5uZXh0KCk7IW4uZG9uZTtuPWwubmV4dCgpKW53KG4udmFsdWUpO2Zvcih2YXIgcD1bXSxxPQptKG9nKDU2KXx8W10pLHI9cS5uZXh0KCk7IXIuZG9uZTtyPXEubmV4dCgpKXt2YXIgdT1yLnZhbHVlLHQ9e3N0dWR5SWQ6dVsxXSxhY3RpdmU6ISF1WzJdLHByb2JhYmlsaXR5OnVbM118fDAsZXhwZXJpbWVudElkOnVbNF18fDAsY29udHJvbElkOnVbNV18fDAsY29udHJvbElkMjp1WzZdfHwwfSx2PTA7c3dpdGNoKHVbN10pe2Nhc2UgMjp2PTE7YnJlYWs7Y2FzZSAxOmNhc2UgMDp2PTB9dmFyIHg7YTpzd2l0Y2godC5zdHVkeUlkKXtjYXNlIDI0OTp4PSEwO2JyZWFrIGE7ZGVmYXVsdDp4PSExfXZhciB5PW5hKE9iamVjdCwiYXNzaWduIikuY2FsbChPYmplY3Qse30sdCx7a2E6dixmb2N1c2VkOnh9KTsoeS5hY3RpdmV8fHkuZXhwZXJpbWVudElkJiZ5LmNvbnRyb2xJZCkmJnAucHVzaCh5KX1mb3IodmFyIEE9bShwKSxDPUEubmV4dCgpOyFDLmRvbmU7Qz1BLm5leHQoKSludyhDLnZhbHVlKX07ZnVuY3Rpb24gdXcoYSxiKXtiJiZ6YihiLGZ1bmN0aW9uKGMsZCl7dHlwZW9mIGQhPT0ib2JqZWN0IiYmZCE9PXZvaWQgMCYmKGFbIjFwLiIrY109U3RyaW5nKGQpKX0pfTtmdW5jdGlvbiB2dyhhLGIpe3ZhciBjPUh1KGEsSy5tLkdjKTtpZihjJiZ0eXBlb2YgYz09PSJvYmplY3QiKWZvcih2YXIgZD1tKE9iamVjdC5rZXlzKGMpKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7dmFyIGY9ZS52YWx1ZSxnPWNbZl07ZyE9PXZvaWQgMCYmKGc9PT1udWxsJiYoZz0iIiksYlsiZ2FwLiIrZl09U3RyaW5nKGcpKX19O2Z1bmN0aW9uIHd3KGEsYixjLGQpe2lmKHZuKCkpe3ZhciBlPWIuRDtDbih7dGFyZ2V0SWQ6ZHx8W2IudGFyZ2V0LmRlc3RpbmF0aW9uSWRdLHJlcXVlc3Q6e3VybDphLHBhcmFtZXRlckVuY29kaW5nOjIsZW5kcG9pbnQ6Y30saGI6e2V2ZW50SWQ6ZS5ldmVudElkLHByaW9yaXR5SWQ6ZS5wcmlvcml0eUlkfSxiajp7ZXZlbnRJZDpSKGIsUS5BLlllKSxwcmlvcml0eUlkOlIoYixRLkEuWmUpfX0pfX07CnZhciBBdz1mdW5jdGlvbigpe2lmKHh3Lmxlbmd0aCl7Zm9yKHZhciBhPXt9LGI9bSh4dyksYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpe3ZhciBkPWMudmFsdWUsZT1kLmtyLGY9eXcoZSwiYXB2YyIpLGc9eXcoZi5tZywidGZ0IiksaD15dyhnLm1nLCJ0ZmQiKSxsPXl3KGgubWcsInRpZCIpO2U9bC5tZzt2YXIgbj1hW2VdPWFbZV18fHtQajpbXSxPZTpbXX07bi5PZS5wdXNoKGQpO2wuUWQ/KG4uUGoucHVzaChsLlFkKSxuLlhkfHwobi5YZD1sLlFkKSk6bi5Qai5wdXNoKCIiKTtmLlFkPT09IjEiJiYobi5vcT0hMCk7aWYoZy5RZHx8aC5RZCluLmxxPSEwfXh3Lmxlbmd0aD0wO2Zvcih2YXIgcD1tKE9iamVjdC5rZXlzKGEpKSxxPXAubmV4dCgpLHI9e307IXEuZG9uZTtyPXtRajp2b2lkIDB9LHE9cC5uZXh0KCkpe3ZhciB1PXEudmFsdWUsdD1hW3VdO3IuUWo9dC5Qajt2YXIgdj1yLlFqLmZpbHRlcihmdW5jdGlvbihDKXtyZXR1cm4gZnVuY3Rpb24oRSxIKXtyZXR1cm4gQy5Rai5pbmRleE9mKEUpPT09Ckh9fShyKSkseD12LmZpbHRlcihmdW5jdGlvbihDKXtyZXR1cm4hIUN9KSx5PXUrIiZhcHZjPSIrKHQub3E/IjEiOiIwIik7eC5sZW5ndGgmJih5Kz0iJnRpZHM9Iit4LmpvaW4oIn4iKSk7dC5YZCYmKHkrPSImdGlkPSIrdC5YZCk7aWYodC5scSl7eSs9IiZ0ZnQ9IitTdHJpbmcoR2IoKSk7dmFyIEE9ZmQoKTtBIT09dm9pZCAwJiYoeSs9IiZ0ZmQ9IitTdHJpbmcoTWF0aC5yb3VuZChBKSkpfXd3KHksdC5PZVswXS5ldmVudCx0Lk9lWzBdLkRuLmVuZHBvaW50LHYpO3p3KHksdC5PZVswXS5Ebil9fX0seXc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1Cd1tiXTtjPT09dm9pZCAwJiYoYz1Cd1tiXT1uZXcgUmVnRXhwKCJbJj9dKCIrYisiPShbXiZdKikoJnwkKSkiKSk7dmFyIGQ9YS5tYXRjaChjKTtpZighZClyZXR1cm57bWc6YSxRZDp2b2lkIDB9O3ZhciBlPWEucmVwbGFjZShkWzFdLCIiKTtlW2UubGVuZ3RoLTFdPT09IiYiJiYoZT1lLnNsaWNlKDAsLTEpKTtyZXR1cm57bWc6ZSxRZDpkWzJdfX0sCnp3PWZ1bmN0aW9uKGEsYil7Y2QoKT9CbChiLGEsdm9pZCAwLHtSZTohMH0sZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7UmMoYSsiJmltZz0xIil9KTp6bChiLGEpfHxBbChiLGErIiZpbWc9MSIpfSxDdz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oKXt3dyhhLGIsYy5lbmRwb2ludCk7encoYSxjKX07aWYodHlwZW9mIHcucXVldWVNaWNyb3Rhc2shPT0iZnVuY3Rpb24iKUZvKEFvLlIuSmkpLGQoKTtlbHNle2lmKHh3Lmxlbmd0aD09PTApdHJ5e3cucXVldWVNaWNyb3Rhc2soQXcpfWNhdGNoKGUpe0ZvKEFvLlIuSmkpO2QoKTtyZXR1cm59eHcucHVzaCh7a3I6YSxldmVudDpiLERuOmN9KX19LHh3PVtdLEJ3PXt9Owp2YXIgRHc9e30sRXc9KER3W0subS5pYV09ImdjdSIsRHdbSy5tLnVjXT0iZ2NsZ2IiLER3W0subS50Yl09ImdjbGF3IixEd1tLLm0uZGZdPSJnYWRfc291cmNlIixEd1tLLm0uZWZdPSJnYWRfc291cmNlX3NyYyIsRHdbSy5tLmhkXT0iZ2NsaWQiLER3W0subS5Ha109ImdjbHNyYyIsRHdbSy5tLmZmXT0iZ2JyYWlkIixEd1tLLm0ub2VdPSJ3YnJhaWQiLER3W0subS5qZF09ImF1aWQiLER3W0subS5Ja109InJuZCIsRHdbSy5tLlBnXT0ibmNsIixEd1tLLm0uVWddPSJnY2xkYyIsRHdbSy5tLm1kXT0iZGNsaWQiLER3W0subS5EY109ImVkaWQiLER3W0subS5FY109ImVuIixEd1tLLm0udmVdPSJnZHByIixEd1tLLm0uRmNdPSJnZGlkIixEd1tLLm0ud2VdPSJfbmciLER3W0subS5iaF09ImdwcF9zaWQiLER3W0subS5laF09ImdwcCIsRHdbSy5tLkZmXT0iX3R1IixEd1tLLm0uWWtdPSJndG1fdXAiLER3W0subS5wZF09ImZybSIsRHdbSy5tLnhlXT0ibHBzIixEd1tLLm0uZ2hdPSJkaWQiLApEd1tLLm0uZmxdPSJuYXZ0IixEd1tLLm0ueGFdPSJkbCIsRHdbSy5tLllhXT0iZHIiLER3W0subS5HYl09ImR0IixEd1tLLm0ucGxdPSJzY3JzcmMiLER3W0subS5KZl09ImdhX3VpZCIsRHdbSy5tLkFlXT0iZ2Rwcl9jb25zZW50IixEd1tLLm0ucHBdPSJ1X3R6IixEd1tLLm0ubmhdPSJ0aWQiLER3W0subS5PYV09InVpZCIsRHdbSy5tLlNmXT0idXNfcHJpdmFjeSIsRHdbSy5tLlBjXT1udWxsLER3W0subS5IZF09Im5wYSIsRHcpOwp2YXIgRnc9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9bShPYmplY3Qua2V5cyhhLkMpKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSl7dmFyIGU9ZC52YWx1ZSxmO2E6e3ZhciBnPWUsaD1IdShhLGUpO2lmKGghPW51bGwmJmghPT0iIil7dmFyIGw9aD09PSEwPyIxIjpoPT09ITE/IjAiOmVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaCkpO2lmKExiKGcsIl8mIikpe2Y9e2tleTpnLnN1YnN0cmluZygyKSx2YWx1ZTpsfTticmVhayBhfXZhciBuPUV3W2ddO2lmKG4hPT1udWxsKXtmPW4/e2tleTpuLHZhbHVlOmx9OntrZXk6dGIoaCk/ImVwbi4iK2c6ImVwLiIrZyx2YWx1ZTpsfTticmVhayBhfX1mPXZvaWQgMH12YXIgcD1mO3AmJighUihhLFEuQS5KZSl8fGUhPT1LLm0uaGQmJmUhPT1LLm0ubWQmJmUhPT1LLm0ub2UmJmUhPT1LLm0uZmZ8fChwLnZhbHVlPSIwIiksYltwLmtleV09cC52YWx1ZSl9Yi5ndG09c3Aoe1JhOlIoYSxRLkEuUGEpLFdkOmEuRC5pc0d0bUV2ZW50LAptYzpSKGEsUS5BLmViKX0pO09xKCkmJihiLmdjcz1QcSgpKTtiLmdjZD1UcShhLkQpO1dxKCkmJihiLmRtYV9jcHM9VXEoKSk7Yi5kbWE9VnEoKTtycSh6cSgpKSYmKGIudGNmZD1YcSgpKTt2YXIgcT1zdyhhKTtxJiYoYi50YWdfZXhwPXEpO2lmKFIoYSxRLkEuU2opKXtiLnRmdD1TdHJpbmcoR2IoKSk7dmFyIHI9ZmQoKTtyIT09dm9pZCAwJiYoYi50ZmQ9U3RyaW5nKE1hdGgucm91bmQocikpKX1QKDI0KSYmKGIuYXB2ZT0iMSIsYi5hcHZmPWNkKCk/ImYiOiJuZiIpO1lsW0dsLmFhLlNhXSE9PUZsLk1hLkZlfHxhbVtHbC5hYS5TYV0uaXNDb25zZW50R3JhbnRlZCgpfHwoYi5saW1pdGVkX2Fkcz0iMSIpO3Z3KGEsYik7cmV0dXJuIGJ9Owp2YXIgR3c9ZnVuY3Rpb24oYSxiKXt2YXIgYz1KYygpfHxIYygpPzU4OjU3LGQ9e2Rlc3RpbmF0aW9uSWQ6Yi50YXJnZXQuZGVzdGluYXRpb25JZCxlbmRwb2ludDpjLGV2ZW50SWQ6Yi5ELmV2ZW50SWQscHJpb3JpdHlJZDpiLkQucHJpb3JpdHlJZH07d3coYSxiLGMpO0JsKGQsYSx2b2lkIDAse1JlOiEwLG1ldGhvZDoiR0VUIn0sZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7QWwoZCxhKyImaW1nPTEiKX0pfSxIdz1mdW5jdGlvbihhKXtyZXR1cm4gUCg0MzMpJiYhUihhLFEuQS5aZCl8fEh1KGEsSy5tLnhlKSE9PSIxInx8SHUoYSxLLm0uUGcpPT09IjEifHwhUm4oW0subS5XLEsubS5YXSl8fCFjZCgpJiYhUCg0MjgpPyExOiEwfSxJdz1mdW5jdGlvbihhKXt2YXIgYj1KYygpfHxIYygpPyJ3d3cuZ29vZ2xlLmNvbSI6Ind3dy5nb29nbGVhZHNlcnZpY2VzLmNvbSIsYz1bXTt6YihhLGZ1bmN0aW9uKGQsZSl7ZD09PSJkbCI/Yy5wdXNoKCJ1cmw9IitlKTpkPT09ImRyIj9jLnB1c2goInJlZj0iKwplKTpkPT09InVpZCI/Yy5wdXNoKCJ1c2VySWQ9IitlKTpjLnB1c2goZCsiPSIrZSl9KTtyZXR1cm4iaHR0cHM6Ly8iK2IrIi9wYWdlYWQvc2V0X3BhcnRpdGlvbmVkX2Nvb2tpZT8iK2Muam9pbigiJiIpfSxKdz1mdW5jdGlvbihhKXtpZihSKGEsUS5BLmJhKT09PVBpLk4uQ2Epe3ZhciBiPUZ3KGEpLGM9T2JqZWN0LmtleXMoYikubWFwKGZ1bmN0aW9uKGwpe3JldHVybiBsKyI9IitiW2xdfSk7SHcoYSkmJkd3KEl3KGIpLGEpO3ZhciBkPVJuKFtLLm0uVyxLLm0uWF0pPzQ1OjQ2LGU9aHYoZCkrIj8iK2Muam9pbigiJiIpLGY9YS5ELGc9e2Rlc3RpbmF0aW9uSWQ6YS50YXJnZXQuZGVzdGluYXRpb25JZCxlbmRwb2ludDpkLGV2ZW50SWQ6Zi5ldmVudElkLHByaW9yaXR5SWQ6Zi5wcmlvcml0eUlkfSxoPXJiKGEuRC5vblN1Y2Nlc3MpP2EuRC5vblN1Y2Nlc3M6cWI7UCg0MzMpP0N3KGUsYSxnKTood3coZSxhLGQpLGNkKCk/QmwoZyxlLHZvaWQgMCx7UmU6ITB9LGZ1bmN0aW9uKCl7fSwKZnVuY3Rpb24oKXtBbChnLGUrIiZpbWc9MSIpfSk6emwoZyxlKXx8QWwoZyxlKyImaW1nPTEiKSk7aCgpfX07dmFyIEt3PXt9O0t3Lk89b3IuTzt2YXIgTHc9e1hzOiJMIixWcDoiUyIsb3Q6IlkiLEJzOiJCIixQczoiRSIsVHM6IkkiLGt0OiJUQyIsU3M6IkhUQyJ9LE13PXtWcDoiUyIsT3M6IlYiLEVzOiJFIixqdDoidGFnIn0sTnc9e30sT3c9KE53W0t3Lk8uVmldPSI2IixOd1tLdy5PLldpXT0iNSIsTndbS3cuTy5VaV09IjciLE53KTtmdW5jdGlvbiBQdygpe2Z1bmN0aW9uIGEoYyxkKXt2YXIgZT1wYihqYltkXXx8W10pO2UmJmIucHVzaChbYyxlXSl9dmFyIGI9W107YSgidSIsIkdUTSIpO2EoInV0IiwiVEFHR0lORyIpO2EoImgiLCJIRUFMVEgiKTtyZXR1cm4gYn07dmFyIFF3PSExOwpmdW5jdGlvbiBpeChhKXt9ZnVuY3Rpb24gangoYSl7fQpmdW5jdGlvbiBreCgpe31mdW5jdGlvbiBseChhKXt9CmZ1bmN0aW9uIG14KGEpe31mdW5jdGlvbiBueChhKXt9CmZ1bmN0aW9uIG94KCl7fWZ1bmN0aW9uIHB4KGEsYil7fQpmdW5jdGlvbiBxeChhLGIsYyl7fQpmdW5jdGlvbiByeCgpe307dmFyIHN4PU9iamVjdC5mcmVlemUoe2NhY2hlOiJuby1zdG9yZSIsY3JlZGVudGlhbHM6ImluY2x1ZGUiLG1ldGhvZDoiR0VUIixrZWVwYWxpdmU6ITAscmVkaXJlY3Q6ImZvbGxvdyJ9KTsKZnVuY3Rpb24gdHgoYSxiLGMsZCxlLGYsZyxoKXt2YXIgbD1uYShPYmplY3QsImFzc2lnbiIpLmNhbGwoT2JqZWN0LHt9LHN4KTtjJiYobC5ib2R5PWMsbC5tZXRob2Q9IlBPU1QiKTtuYShPYmplY3QsImFzc2lnbiIpLmNhbGwoT2JqZWN0LGwsZSk7aD09bnVsbHx8d2woaCk7dy5mZXRjaChiLGwpLnRoZW4oZnVuY3Rpb24obil7aD09bnVsbHx8eGwoaCk7aWYoIW4ub2spZz09bnVsbHx8ZygpO2Vsc2UgaWYobi5ib2R5KXt2YXIgcD1uLmJvZHkuZ2V0UmVhZGVyKCkscT1uZXcgVGV4dERlY29kZXI7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIpe2Z1bmN0aW9uIHUoKXtwLnJlYWQoKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciB2O3Y9dC5kb25lO3ZhciB4PXEuZGVjb2RlKHQudmFsdWUse3N0cmVhbTohdn0pO3V4KGQseCk7dj8oZj09bnVsbHx8ZigpLHIoKSk6dSgpfSkuY2F0Y2goZnVuY3Rpb24oKXtyKCl9KX11KCl9KX19KS5jYXRjaChmdW5jdGlvbigpe2g9PW51bGx8fHhsKGgpOwpnP2coKTpQKDEyOCkmJihiKz0iJl96PXJldHJ5RmV0Y2giLGM/emwoYSxiLGMpOnlsKGEsYikpfSl9O3ZhciB2eD1mdW5jdGlvbihhKXt0aGlzLlA9YTt0aGlzLkM9IiJ9LHd4PWZ1bmN0aW9uKGEsYil7YS5IPWI7cmV0dXJuIGF9LHV4PWZ1bmN0aW9uKGEsYil7Yj1hLkMrYjtmb3IodmFyIGM9Yi5pbmRleE9mKCJcblxuIik7YyE9PS0xOyl7dmFyIGQ9YSxlO2E6e3ZhciBmPW0oYi5zdWJzdHJpbmcoMCxjKS5zcGxpdCgiXG4iKSksZz1mLm5leHQoKS52YWx1ZSxoPWYubmV4dCgpLnZhbHVlO2lmKGcuaW5kZXhPZigiZXZlbnQ6IG1lc3NhZ2UiKT09PTAmJmguaW5kZXhPZigiZGF0YTogIik9PT0wKXRyeXtlPUpTT04ucGFyc2UoaC5zdWJzdHJpbmcoaC5pbmRleE9mKCI6IikrMSkpO2JyZWFrIGF9Y2F0Y2gobCl7fWU9dm9pZCAwfXh4KGQsZSk7Yj1iLnN1YnN0cmluZyhjKzIpO2M9Yi5pbmRleE9mKCJcblxuIil9YS5DPWJ9LHl4PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoYi5mYWxsYmFja191cmwmJmIuZmFsbGJhY2tfdXJsX21ldGhvZCl7dmFyIGM9e307eHgoYSwoY1tiLmZhbGxiYWNrX3VybF9tZXRob2RdPQpbYi5mYWxsYmFja191cmxdLGMub3B0aW9ucz17fSxjKSl9fX0seHg9ZnVuY3Rpb24oYSxiKXtiJiYoengoYi5zZW5kX3BpeGVsLGIub3B0aW9ucyxhLlApLHp4KGIuY3JlYXRlX2lmcmFtZSxiLm9wdGlvbnMsYS5UKSx6eChiLmZldGNoLGIub3B0aW9ucyxhLkgpKX07ZnVuY3Rpb24gQXgoYSl7dmFyIGI9YS5zZWFyY2g7cmV0dXJuIGEucHJvdG9jb2wrIi8vIithLmhvc3RuYW1lK2EucGF0aG5hbWUrKGI/YisiJnJpY2hzc3Rzc2UiOiI/cmljaHNzdHNzZSIpfWZ1bmN0aW9uIHp4KGEsYixjKXtpZihhJiZjKXt2YXIgZD1hfHxbXTtpZihBcnJheS5pc0FycmF5KGQpKWZvcih2YXIgZT1zZChiKT9iOnt9LGY9bShkKSxnPWYubmV4dCgpOyFnLmRvbmU7Zz1mLm5leHQoKSljKGcudmFsdWUsZSl9fTt2YXIgemc7ZnVuY3Rpb24gQngoKXt2YXIgYT1kYXRhLnBlcm1pc3Npb25zfHx7fTt6Zz1uZXcgRmcoRCg1KSxhKX1mdW5jdGlvbiBDeChhLGIpe0FnKGEsYil9O3ZhciBEeD1wZyg1Nyw1KSxFeD1wZyg1OCw1MCksRng9d2IoKTsKdmFyIEh4PWZ1bmN0aW9uKGEsYil7YSYmKEd4KCJzaWQiLGEudGFyZ2V0SWQsYiksR3goImNjIixhLmNsaWVudENvdW50LGIpLEd4KCJ0bCIsYS50b3RhbExpZmVNcyxiKSxHeCgiaGMiLGEuaGVhcnRiZWF0Q291bnQsYiksR3goImNsIixhLmNsaWVudExpZmVNcyxiKSl9LEd4PWZ1bmN0aW9uKGEsYixjKXtiIT1udWxsJiZjLnB1c2goYSsiPSIrYil9LEl4PWZ1bmN0aW9uKCl7dmFyIGE9ei5yZWZlcnJlcjtpZihhKXt2YXIgYjtyZXR1cm4gamoocGooYSksImhvc3QiKT09PSgoYj13LmxvY2F0aW9uKT09bnVsbD92b2lkIDA6Yi5ob3N0KT8xOjJ9cmV0dXJuIDB9LEp4PSJodHRwczovLyIrRCgyMSkrIi9hPyIsTHg9ZnVuY3Rpb24oKXt0aGlzLlY9S3g7dGhpcy5QPTB9O0x4LnByb3RvdHlwZS5IPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUl4KCksZixnPVtdO2Y9dz09PXcudG9wJiZlIT09MCYmYj8KKGI9PW51bGw/dm9pZCAwOmIuY2xpZW50Q291bnQpPjE/ZT09PTI/MToyOmU9PT0yPzA6Mzo0O2EmJkd4KCJzaSIsYS53ZyxnKTtHeCgibSIsMCxnKTtHeCgiaXNzIixmLGcpO0d4KCJpZiIsYyxnKTtIeChiLGcpO2QmJkd4KCJmbSIsZW5jb2RlVVJJQ29tcG9uZW50KGQuc3Vic3RyaW5nKDAsRXgpKSxnKTt0aGlzLlQoZyk7fTtMeC5wcm90b3R5cGUuQz1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPVtdO0d4KCJtIiwxLGYpO0d4KCJzIixhLGYpO0d4KCJwbyIsSXgoKSxmKTtiJiYoR3goInN0IixiLnN0YXRlLGYpLEd4KCJzaSIsYi53ZyxmKSxHeCgic20iLGIuRWcsZikpO0h4KGMsZik7R3goImMiLGQsZik7ZSYmR3goImZtIixlbmNvZGVVUklDb21wb25lbnQoZS5zdWJzdHJpbmcoMCxFeCkpLGYpO3RoaXMuVChmKTsKfTtMeC5wcm90b3R5cGUuVD1mdW5jdGlvbihhKXthPWE9PT12b2lkIDA/W106YTshTGt8fHRoaXMuUD49RHh8fChHeCgicGlkIixGeCxhKSxHeCgiYmMiLCsrdGhpcy5QLGEpLGEudW5zaGlmdCgiY3RpZD0iK0QoNSkrIiZ0PXMiKSx0aGlzLlYoIiIrSngrYS5qb2luKCImIikpKX07ZnVuY3Rpb24gTXgoYSl7cmV0dXJuIGEucGVyZm9ybWFuY2UmJmEucGVyZm9ybWFuY2Uubm93KCl8fERhdGUubm93KCl9CnZhciBPeD1mdW5jdGlvbihhLGIpe3ZhciBjPXcsZD1OeCxlO3ZhciBmPWZ1bmN0aW9uKGcsaCxsKXtsPWw9PT12b2lkIDA/e3JuOmZ1bmN0aW9uKCl7fSxzbjpmdW5jdGlvbigpe30scW46ZnVuY3Rpb24oKXt9LG9uRmFpbHVyZTpmdW5jdGlvbigpe319Omw7dGhpcy5mcT1nO3RoaXMuQz1oO3RoaXMuUD1sO3RoaXMubGE9dGhpcy5zYT10aGlzLmhlYXJ0YmVhdENvdW50PXRoaXMuY3E9MDt0aGlzLkJoPSExO3RoaXMuSD17fTt0aGlzLmlkPVN0cmluZyhNYXRoLmZsb29yKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKk1hdGgucmFuZG9tKCkpKTt0aGlzLnN0YXRlPTA7dGhpcy53Zz1NeCh0aGlzLkMpO3RoaXMuRWc9TXgodGhpcy5DKTt0aGlzLlY9MTB9O2YucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLlQoMSk7dGhpcy5uYigpfTtmLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybntzdGF0ZTp0aGlzLnN0YXRlLAp3ZzpNYXRoLnJvdW5kKE14KHRoaXMuQyktdGhpcy53ZyksRWc6TWF0aC5yb3VuZChNeCh0aGlzLkMpLXRoaXMuRWcpfX07Zi5wcm90b3R5cGUuVD1mdW5jdGlvbihnKXt0aGlzLnN0YXRlIT09ZyYmKHRoaXMuc3RhdGU9Zyx0aGlzLkVnPU14KHRoaXMuQykpfTtmLnByb3RvdHlwZS5MbT1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcodGhpcy5jcSsrKX07Zi5wcm90b3R5cGUubmI9ZnVuY3Rpb24oKXt2YXIgZz10aGlzO3RoaXMuaGVhcnRiZWF0Q291bnQrKzt0aGlzLnliKHt0eXBlOjAsY2xpZW50SWQ6dGhpcy5pZCxyZXF1ZXN0SWQ6dGhpcy5MbSgpLG1heERlbGF5OnRoaXMuQ2goKX0sZnVuY3Rpb24oaCl7aWYoaC50eXBlPT09MCl7dmFyIGw7aWYoKChsPWguZmFpbHVyZSk9PW51bGw/dm9pZCAwOmwuZmFpbHVyZVR5cGUpIT1udWxsKWlmKGguc3RhdHMmJihnLnN0YXRzPWguc3RhdHMpLGcubGErKyxoLmlzRGVhZHx8Zy5sYT5kLm9tKXt2YXIgbj1oLmlzRGVhZCYmaC5mYWlsdXJlLmZhaWx1cmVUeXBlOwpnLlY9bnx8MTA7Zy5UKDQpO2cuYnEoKTt2YXIgcCxxOyhxPShwPWcuUCkucW4pPT1udWxsfHxxLmNhbGwocCx7ZmFpbHVyZVR5cGU6bnx8MTAsZGF0YTpoLmZhaWx1cmUuZGF0YX0pfWVsc2UgZy5UKDMpLGcuUW0oKTtlbHNle2lmKGcuaGVhcnRiZWF0Q291bnQ+aC5zdGF0cy5oZWFydGJlYXRDb3VudCtkLm9tKXtnLmhlYXJ0YmVhdENvdW50PWguc3RhdHMuaGVhcnRiZWF0Q291bnQ7dmFyIHIsdTsodT0ocj1nLlApLm9uRmFpbHVyZSk9PW51bGx8fHUuY2FsbChyLHtmYWlsdXJlVHlwZToxM30pfWcuc3RhdHM9aC5zdGF0czt2YXIgdD1nLnN0YXRlO2cuVCgyKTtpZih0IT09MilpZihnLkJoKXt2YXIgdix4Oyh4PSh2PWcuUCkuc24pPT1udWxsfHx4LmNhbGwodil9ZWxzZXtnLkJoPSEwO3ZhciB5LEE7KEE9KHk9Zy5QKS5ybik9PW51bGx8fEEuY2FsbCh5KX1nLmxhPTA7Zy5ncSgpO2cuUW0oKX19fSl9O2YucHJvdG90eXBlLkNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9PT0KMj9kLkZwOmQuWnB9O2YucHJvdG90eXBlLlFtPWZ1bmN0aW9uKCl7dmFyIGc9dGhpczt0aGlzLkMuc2V0VGltZW91dChmdW5jdGlvbigpe2cubmIoKX0sTWF0aC5tYXgoMCx0aGlzLkNoKCktKE14KHRoaXMuQyktdGhpcy5zYSkpKX07Zi5wcm90b3R5cGUua3E9ZnVuY3Rpb24oZyxoLGwpe3ZhciBuPXRoaXM7dGhpcy55Yih7dHlwZToxLGNsaWVudElkOnRoaXMuaWQscmVxdWVzdElkOnRoaXMuTG0oKSxjb21tYW5kOmd9LGZ1bmN0aW9uKHApe2lmKHAudHlwZT09PTEpaWYocC5yZXN1bHQpaChwLnJlc3VsdCk7ZWxzZXt2YXIgcSxyLHUsdD17ZmFpbHVyZVR5cGU6KHU9KHE9cC5mYWlsdXJlKT09bnVsbD92b2lkIDA6cS5mYWlsdXJlVHlwZSkhPW51bGw/dToxMixkYXRhOihyPXAuZmFpbHVyZSk9PW51bGw/dm9pZCAwOnIuZGF0YX0sdix4Oyh4PSh2PW4uUCkub25GYWlsdXJlKT09bnVsbHx8eC5jYWxsKHYsdCk7bCh0KX19KX07Zi5wcm90b3R5cGUueWI9ZnVuY3Rpb24oZyxoKXt2YXIgbD0KdGhpcztpZih0aGlzLnN0YXRlPT09NClnLmZhaWx1cmU9e2ZhaWx1cmVUeXBlOnRoaXMuVn0saChnKTtlbHNle3ZhciBuPXRoaXMuc3RhdGUhPT0yJiZnLnR5cGUhPT0wLHA9Zy5yZXF1ZXN0SWQscSxyPXRoaXMuQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9bC5IW3BdO3QmJihIbSg2KSxsLmNnKHQsNykpfSwocT1nLm1heERlbGF5KSE9bnVsbD9xOmQubG8pLHU9e3JlcXVlc3Q6ZyxFbjpoLHluOm4sQnI6cn07dGhpcy5IW3BdPXU7bnx8dGhpcy5zZW5kUmVxdWVzdCh1KX19O2YucHJvdG90eXBlLnNlbmRSZXF1ZXN0PWZ1bmN0aW9uKGcpe3RoaXMuc2E9TXgodGhpcy5DKTtnLnluPSExO3RoaXMuZnEoZy5yZXF1ZXN0KX07Zi5wcm90b3R5cGUuZ3E9ZnVuY3Rpb24oKXtmb3IodmFyIGc9bShPYmplY3Qua2V5cyh0aGlzLkgpKSxoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSl7dmFyIGw9dGhpcy5IW2gudmFsdWVdO2wueW4mJnRoaXMuc2VuZFJlcXVlc3QobCl9fTtmLnByb3RvdHlwZS5icT0KZnVuY3Rpb24oKXtmb3IodmFyIGc9bShPYmplY3Qua2V5cyh0aGlzLkgpKSxoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSl0aGlzLmNnKHRoaXMuSFtoLnZhbHVlXSx0aGlzLlYpfTtmLnByb3RvdHlwZS5jZz1mdW5jdGlvbihnLGgpe3RoaXMuUmMoZyk7dmFyIGw9Zy5yZXF1ZXN0O2wuZmFpbHVyZT17ZmFpbHVyZVR5cGU6aH07Zy5FbihsKX07Zi5wcm90b3R5cGUuUmM9ZnVuY3Rpb24oZyl7ZGVsZXRlIHRoaXMuSFtnLnJlcXVlc3QucmVxdWVzdElkXTt0aGlzLkMuY2xlYXJUaW1lb3V0KGcuQnIpfTtmLnByb3RvdHlwZS5hcj1mdW5jdGlvbihnKXt0aGlzLnNhPU14KHRoaXMuQyk7dmFyIGg9dGhpcy5IW2cucmVxdWVzdElkXTtpZihoKXRoaXMuUmMoaCksaC5FbihnKTtlbHNle3ZhciBsLG47KG49KGw9dGhpcy5QKS5vbkZhaWx1cmUpPT1udWxsfHxuLmNhbGwobCx7ZmFpbHVyZVR5cGU6MTR9KX19O2U9bmV3IGYoYSxjLGIpOwpyZXR1cm4gZX07dmFyIFB4Owp2YXIgUXg9ZnVuY3Rpb24oKXtQeHx8KFB4PW5ldyBMeCk7cmV0dXJuIFB4fSxLeD1mdW5jdGlvbihhKXtkbShmbShHbC5hYS5RYyksZnVuY3Rpb24oKXtSYyhhKX0pfSxSeD1mdW5jdGlvbihhKXt2YXIgYj1hLnN1YnN0cmluZygwLGEuaW5kZXhPZigiL18vc2VydmljZV93b3JrZXIiKSk7cmV0dXJuIiYxcD0xIisoYj8iJnBhdGg9IitlbmNvZGVVUklDb21wb25lbnQoYik6IiIpfSxTeD1mdW5jdGlvbihhKXt2YXIgYj1hLGMsZD1uZygxMSk7ZD1uZygxMCk7Yz1kO2I/KGIuY2hhckF0KGIubGVuZ3RoLTEpIT09Ii8iJiYoYis9Ii8iKSxhPWIrYyk6YT0iaHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20vc3RhdGljL3NlcnZpY2Vfd29ya2VyLyIrYysiLyI7dmFyIGU7dHJ5e2U9bmV3IFVSTChhKX1jYXRjaChmKXtyZXR1cm4gbnVsbH1yZXR1cm4gZS5wcm90b2NvbCE9PQoiaHR0cHM6Ij9udWxsOmV9LFR4PWZ1bmN0aW9uKGEpe3ZhciBiPXcubG9jYXRpb24ub3JpZ2luO2lmKCFiKXJldHVybiBudWxsOyhQKDQzMik/dWooKTp1aigpJiYhYSkmJihhPSIiK2IrdmooKSsiL18vc2VydmljZV93b3JrZXIiKTtyZXR1cm4gU3goYSl9LFV4PWZ1bmN0aW9uKGEpe3ZhciBiPWttKGdtLlouQW0pO3JldHVybiBiJiZiW2FdfSxOeD17WnA6cGcoNTMsNTAwKSxGcDpwZyg1NCw1RTMpLG9tOnBnKDgsMjApLGxvOnBnKDU1LDVFMyl9LFZ4PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO3RoaXMuSD1iO3RoaXMuVj10aGlzLlQ9ITE7dGhpcy5sYT1udWxsO3RoaXMuaW5pdFRpbWU9TWF0aC5yb3VuZChHYigpKTt0aGlzLkM9MTU7dGhpcy5QPXRoaXMuQ3EoYSk7dy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5pbml0aWFsaXplKCl9LDFFMyk7VWMoZnVuY3Rpb24oKXtkLnFyKGEsYyl9KX07az1WeC5wcm90b3R5cGU7ay5kZWxlZ2F0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5nZXRTdGF0ZSgpIT09CjI/KHRoaXMuSC5DKHRoaXMuQyx7c3RhdGU6dGhpcy5nZXRTdGF0ZSgpLHdnOnRoaXMuaW5pdFRpbWUsRWc6TWF0aC5yb3VuZChHYigpKS10aGlzLmluaXRUaW1lfSx2b2lkIDAsYS5jb21tYW5kVHlwZSksYyh7ZmFpbHVyZVR5cGU6dGhpcy5DfSkpOnRoaXMuUC5rcShhLGIsYyl9O2suZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QLmdldFN0YXRlKCkuc3RhdGV9O2sucXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz13LmxvY2F0aW9uLm9yaWdpbixkPXRoaXMsZT1QYygpO3RyeXt2YXIgZj1lLmNvbnRlbnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSxnPWEucGF0aG5hbWUsaD1nW2cubGVuZ3RoLTFdPT09Ii8iP2EudG9TdHJpbmcoKTphLnRvU3RyaW5nKCkrIi8iLGw9YS5vcmlnaW4hPT0iaHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20iP1J4KGcpOiIiLG47UCgxMzMpJiYobj17c2FuZGJveDoiYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyJ9KTsKUGMoaCsic3dfaWZyYW1lLmh0bWw/b3JpZ2luPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpK2wrKGI/IiZlPTEiOiIiKSx2b2lkIDAsbix2b2lkIDAsZik7dmFyIHA9ZnVuY3Rpb24oKXtlLmNvbnRlbnREb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGYpO2YuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXtkLmxhPWYuY29udGVudFdpbmRvdztlLmNvbnRlbnRXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24ocSl7cS5vcmlnaW49PT1hLm9yaWdpbiYmZC5QLmFyKHEuZGF0YSl9KTtkLmluaXRpYWxpemUoKX0pfTtlLmNvbnRlbnREb2N1bWVudC5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIj9wKCk6ZS5jb250ZW50V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7cCgpfSl9Y2F0Y2gocSl7ZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGUpLHRoaXMuQz0xMSx0aGlzLkguSCh2b2lkIDAsdm9pZCAwLHRoaXMuQyxxLnRvU3RyaW5nKCkpfX07CmsuQ3E9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPU94KGZ1bmN0aW9uKGQpe3ZhciBlOyhlPWIubGEpPT1udWxsfHxlLnBvc3RNZXNzYWdlKGQsYS5vcmlnaW4pfSx7cm46ZnVuY3Rpb24oKXtiLlQ9ITA7Yi5ILkgoYy5nZXRTdGF0ZSgpLGMuc3RhdHMpfSxzbjpmdW5jdGlvbigpe30scW46ZnVuY3Rpb24oZCl7Yi5UPyhiLkM9KGQ9PW51bGw/dm9pZCAwOmQuZmFpbHVyZVR5cGUpfHwxMCxiLkguQyhiLkMsYy5nZXRTdGF0ZSgpLGMuc3RhdHMsdm9pZCAwLGQ9PW51bGw/dm9pZCAwOmQuZGF0YSkpOihiLkM9KGQ9PW51bGw/dm9pZCAwOmQuZmFpbHVyZVR5cGUpfHw0LGIuSC5IKGMuZ2V0U3RhdGUoKSxjLnN0YXRzLGIuQyxkPT1udWxsP3ZvaWQgMDpkLmRhdGEpKX0sb25GYWlsdXJlOmZ1bmN0aW9uKGQpe2IuQz1kLmZhaWx1cmVUeXBlO2IuSC5DKGIuQyxjLmdldFN0YXRlKCksYy5zdGF0cyxkLmNvbW1hbmQsZC5kYXRhKX19KTtyZXR1cm4gY307ay5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5WfHwKdGhpcy5QLmluaXQoKTt0aGlzLlY9ITB9O2Z1bmN0aW9uIFd4KCl7dmFyIGE9Q2coemcuQywiIixmdW5jdGlvbigpe3JldHVybnt9fSk7dHJ5e3JldHVybiBhKCJpbnRlcm5hbF9zd19hbGxvd2VkIiksITB9Y2F0Y2goYil7cmV0dXJuITF9fQpmdW5jdGlvbiBYeChhKXt2YXIgYixjLGQ9YT09PXZvaWQgMD97fTphO2I9ZC5WcjtjPWQuTG49PT12b2lkIDA/ITE6ZC5Mbjt2YXIgZT1UeChiKTtpZihlPT09bnVsbHx8IVd4KCl8fFAoMTY4KXx8VXgoZS5vcmlnaW4pKXJldHVybjtpZighQ2MoKSl7UXgoKS5IKHZvaWQgMCx2b2lkIDAsNik7cmV0dXJufXZhciBmPW5ldyBWeChlLFF4KCksYyk7bG0oZ20uWi5BbSx7fSlbZS5vcmlnaW5dPWY7fQp2YXIgWXg9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7aWYoKGU9VXgoYSkpPT1udWxsfHwhZS5kZWxlZ2F0ZSl7dmFyIGY9Q2MoKT8xNjo2O1F4KCkuQyhmLHZvaWQgMCx2b2lkIDAsYi5jb21tYW5kVHlwZSk7ZCh7ZmFpbHVyZVR5cGU6Zn0pO3JldHVybn1VeChhKS5kZWxlZ2F0ZShiLGMsZCk7fTsKZnVuY3Rpb24gWngoYSxiLGMsZCxlKXt2YXIgZj1QKDI3Nyk/VHgoKTpTeCgpO2lmKGY9PT1udWxsKXtkKENjKCk/MTY6Nik7cmV0dXJufXZhciBnLGg9KGc9VXgoZi5vcmlnaW4pKT09bnVsbD92b2lkIDA6Zy5pbml0VGltZSxsPU1hdGgucm91bmQoR2IoKSksbj17Y29tbWFuZFR5cGU6MCxwYXJhbXM6e3VybDphLG1ldGhvZDowLHRlbXBsYXRlczpiLGJvZHk6IiIscHJvY2Vzc1Jlc3BvbnNlOiExLHNpbmNlSW5pdDpoP2wtaDp2b2lkIDB9fTtlJiYobi5wYXJhbXMuZW5jcnlwdGlvbktleVN0cmluZz1lKTtZeChmLm9yaWdpbixuLGZ1bmN0aW9uKHApe2MocCl9LGZ1bmN0aW9uKHApe2QocC5mYWlsdXJlVHlwZSl9KTt9CmZ1bmN0aW9uICR4KGEsYixjLGQpe3ZhciBlPVR4KGEpO2lmKGU9PT1udWxsKXtkKCJfaXNfc3c9ZiIrKENjKCk/MTY6NikrInRlIik7cmV0dXJufXZhciBmPWI/MTowLGc9TWF0aC5yb3VuZChHYigpKSxoLGw9KGg9VXgoZS5vcmlnaW4pKT09bnVsbD92b2lkIDA6aC5pbml0VGltZSxuPWw/Zy1sOnZvaWQgMDtZeChlLm9yaWdpbix7Y29tbWFuZFR5cGU6MCxwYXJhbXM6e3VybDphLG1ldGhvZDpmLHRlbXBsYXRlczpjLGJvZHk6Ynx8IiIscHJvY2Vzc1Jlc3BvbnNlOiEwLHJlcG9ydEVhcmx5U3VjY2VzczpQKDQxMiksc2luY2VJbml0Om4sYXR0cmlidXRpb25SZXBvcnRpbmc6ITAscmVmZXJlcjp3LmxvY2F0aW9uLmhyZWZ9fSxmdW5jdGlvbigpe30sZnVuY3Rpb24ocCl7dmFyIHE9Il9pc19zdz1mIitwLmZhaWx1cmVUeXBlLHIsdT0ocj1VeChlLm9yaWdpbikpPT1udWxsP3ZvaWQgMDpyLmdldFN0YXRlKCk7CnUhPT12b2lkIDAmJihxKz0icyIrdSk7ZChuP3ErKCJ0IituKTpxKyJ0ZSIpfSk7fTt2YXIgYXk9ZnVuY3Rpb24oYSxiKXt0aGlzLkZyPWE7dGhpcy50aW1lb3V0TXM9Yjt0aGlzLldhPXZvaWQgMH0sd2w9ZnVuY3Rpb24oYSl7YS5XYXx8KGEuV2E9c2V0VGltZW91dChmdW5jdGlvbigpe2EuRnIoKTthLldhPXZvaWQgMH0sYS50aW1lb3V0TXMpKX0seGw9ZnVuY3Rpb24oYSl7YS5XYSYmKGNsZWFyVGltZW91dChhLldhKSxhLldhPXZvaWQgMCl9O2Z1bmN0aW9uIEN5KCl7cmV0dXJuICRuKCJkZWR1cGVfZ2NsaWQiLGZ1bmN0aW9uKCl7cmV0dXJuIFByKCl9KX07dmFyIEh5PXtMaTp7WW46IjEiLHJwOiIyIixTcDoiMyJ9fTsKdmFyIEl5PXt9LEp5PU9iamVjdC5mcmVlemUoKEl5W0subS5iZl09MSxJeVtLLm0uY2ZdPTEsSXlbSy5tLlRiXT0xLEl5W0subS5qZl09MSxJeVtLLm0uZGldPTEsSXlbSy5tLmVpXT0xLEl5W0subS5Ia109MSxJeVtLLm0uZmldPTEsSXlbSy5tLmtmXT0xLEl5W0subS5sZl09MSxJeVtLLm0ubmZdPTEsSXlbSy5tLkJhXT0xLEl5W0subS5wZl09MSxJeVtLLm0uRWJdPTEsSXlbSy5tLnViXT0xLEl5W0subS5QZ109MSxJeVtLLm0ud2JdPTEsSXlbSy5tLnhiXT0xLEl5W0subS5GYl09MSxJeVtLLm0uWGFdPTEsSXlbSy5tLmtiXT0xLEl5W0subS5SZ109MSxJeVtLLm0ucWVdPTEsSXlbSy5tLlNnXT0xLEl5W0subS5UZ109MSxJeVtLLm0uR2FdPTEsSXlbSy5tLk5vXT0xLEl5W0subS5Rb109MSxJeVtLLm0udGVdPTEsSXlbSy5tLm1pXT0xLEl5W0subS5BZl09MSxJeVtLLm0uR2NdPTEsSXlbSy5tLkhjXT0xLEl5W0subS5JY109MSxJeVtLLm0ubGJdPTEsSXlbSy5tLktjXT0xLEl5W0subS5MY109CjEsSXlbSy5tLk1jXT0xLEl5W0subS55ZV09MSxJeVtLLm0ueGFdPTEsSXlbSy5tLllhXT0xLEl5W0subS5qbF09MSxJeVtLLm0ua2xdPTEsSXlbSy5tLm1sXT0xLEl5W0subS5ubF09MSxJeVtLLm0uWGJdPTEsSXlbSy5tLnNkXT0xLEl5W0subS51ZF09MSxJeVtLLm0udmRdPTEsSXlbSy5tLndkXT0xLEl5W0subS5uaF09MSxJeVtLLm0uSmFdPTEsSXlbSy5tLk9jXT0xLEl5W0subS54ZF09MSxJeVtLLm0uSGJdPTEsSXlbSy5tLkliXT0xLEl5W0subS5PYV09MSxJeVtLLm0uS2FdPTEsSXkpKSxLeT17fSxMeT0oS3lbSy5tLkNjXT0xLEt5W0subS5La109MSxLeVtLLm0uc2VdPTEsS3lbSy5tLmhmXT0xLEt5Lm9yZWY9MSxLeSk7ZnVuY3Rpb24gTXkoYSxiLGMsZCl7dmFyIGU9T2MoKSxmO2lmKGU9PT0xKWE6e3ZhciBnPUQoMyk7Zz1nLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBoPSJodHRwczovLyIrZyxsPSJodHRwOi8vIitnLG49MSxwPXouZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLHE9MDtxPHAubGVuZ3RoJiZxPDEwMDtxKyspe3ZhciByPXBbcV0uc3JjO2lmKHIpe3I9ci50b0xvd2VyQ2FzZSgpO2lmKHIuaW5kZXhPZihsKT09PTApe2Y9MzticmVhayBhfW49PT0xJiZyLmluZGV4T2YoaCk9PT0wJiYobj0yKX19Zj1ufWVsc2UgZj1lO3JldHVybihmPT09Mnx8ZHx8Imh0dHA6IiE9PXcubG9jYXRpb24ucHJvdG9jb2w/YTpiKStjfTtmdW5jdGlvbiBOeShhLGIsYyxkLGUpe2lmKCFZaihhKSl7ZC5sb2FkRXhwZXJpbWVudHM9VGkoKTtiayhhLGQsZSk7dmFyIGY9T3koYSksZz1mdW5jdGlvbigpe0lqKCkuY29udGFpbmVyW2FdJiYoSWooKS5jb250YWluZXJbYV0uc3RhdGU9Myk7UHkoKX0saD17ZGVzdGluYXRpb25JZDphLGVuZHBvaW50OjB9O2lmKHVqKCkpQ2woaCx2aigpKyIvIitReShmKSx2b2lkIDAsZyk7ZWxzZXt2YXIgbD1MYihhLCJHVE0tIiksbj15aigpLHA9Yz8iL2d0YWcvanMiOiIvZ3RtLmpzIixxPVJ5KGIscCtmKTtpZighcSl7dmFyIHI9RCgzKStwO24mJkVjJiZsJiYocj1FYy5yZXBsYWNlKC9eKD86aHR0cHM/OlwvXC8pPy9pLCIiKS5zcGxpdCgvWz8jXS8pWzBdKTtxPU15KCJodHRwczovLyIsImh0dHA6Ly8iLHIrZil9Q2woaCxxLHZvaWQgMCxnKX19fWZ1bmN0aW9uIFB5KCl7Y2soKXx8emIoZGsoKSxmdW5jdGlvbihhLGIpe1N5KGEsYi50cmFuc3BvcnRVcmwsYi5jb250ZXh0KTtNKDkyKX0pfQpmdW5jdGlvbiBTeShhLGIsYyxkKXtpZighYWsoYSkpaWYoYy5sb2FkRXhwZXJpbWVudHN8fChjLmxvYWRFeHBlcmltZW50cz1UaSgpKSxjaygpKXt2YXIgZT1JaigpLGY9SGooYSk7Zj9mLnN0YXRlPTA6KGY9e3N0YXRlOjAsdHJhbnNwb3J0VXJsOmIsY29udGV4dDpjLHBhcmVudDpUaigpfSxlLmRlc3RpbmF0aW9uQXJyYXlbYV09W2ZdKTtKaih7Y3RpZDphLGlzRGVzdGluYXRpb246ITB9LGQpO00oOTEpfWVsc2V7dmFyIGc9SWooKSxoPUhqKGEpO2g/aC5zdGF0ZT0xOihoPXtjb250ZXh0OmMsc3RhdGU6MSxwYXJlbnQ6VGooKX0sZy5kZXN0aW5hdGlvbkFycmF5W2FdPVtoXSk7Smooe2N0aWQ6YSxpc0Rlc3RpbmF0aW9uOiEwfSxkKTt2YXIgbD17ZGVzdGluYXRpb25JZDphLGVuZHBvaW50OjB9O2lmKHVqKCkpe3ZhciBuPSJndGQiK095KGEsITApO0NsKGwsdmooKSsiLyIrUXkobikpfWVsc2V7dmFyIHA9Ii9ndGFnL2Rlc3RpbmF0aW9uIitPeShhLCEwKSxxPVJ5KGIscCk7cXx8KHE9Ck15KCJodHRwczovLyIsImh0dHA6Ly8iLEQoMykrcCkpO0NsKGwscSl9fX1mdW5jdGlvbiBPeShhLGIpe2I9Yj09PXZvaWQgMD8hMTpiO3ZhciBjPSI/aWQ9IitlbmNvZGVVUklDb21wb25lbnQoYSksZD1EKDE5KTtkIT09ImRhdGFMYXllciImJihjKz0iJmw9IitkKTtpZighTGIoYSwiR1RNLSIpfHxiKWM9UCgxMzApP2MrKHVqKCk/IiZzYz0xIjoiJmN4PWMiKTpjKyImY3g9YyI7dmFyIGU9YyxmLGc9e0JuOmxnKDE1KSxHbjpEKDE0KX07Zj1wZihnKTtjPWUrKCImZ3RtPSIrZik7eWooKSYmKGMrPSImc2lnbj0iK1ZpLlNpKTt2YXIgaD1jLGw9bGcoNTQpO2lmKGw9PT0xKXtpZihoKz0iJmZwcz1mYyIsUCg0MjkpKXt2YXIgbj1EKDYwKTtuJiYoaCs9IiZnZGV2PSIrbil9fWVsc2UgbD09PTImJihoKz0iJmZwcz1mZSIpO3JldHVybiBofQpmdW5jdGlvbiBReShhKXtpZighUCg0MTMpKXJldHVybiBhO3ZhciBiPUQoNTgpO2lmKCFiKXJldHVybiBNKDE4MiksYTt0cnl7cmV0dXJuIHJmKGEsYil9Y2F0Y2goYyl7cmV0dXJuIE0oMTgzKSxhfX1mdW5jdGlvbiBSeShhLGIpe2lmKCFQKDQxOSkpcmV0dXJuIHhqKGEsYik7aWYoKHVqKCl8fGtnKDUwKSkmJmEpe3ZhciBjPUQoNTgpLGQ9RCgxOCk7aWYoYyYmZCl0cnl7Yj1kKyIvIityZihiLGMpfWNhdGNoKGUpe00oMTgzKX1yZXR1cm4gd2ooYSxiKX19O3ZhciBUeT1uZXcgUmVnRXhwKC9eKC4qXC4pPyhnb29nbGV8eW91dHViZXxibG9nZ2VyfHdpdGhnb29nbGUpKFwuY29tPyk/KFwuW2Etel17Mn0pP1wuPyQvKSxVeT17Y2w6WyJlY2wiXSxjdXN0b21QaXhlbHM6WyJub25Hb29nbGVQaXhlbHMiXSxlY2w6WyJjbCJdLGVobDpbImhsIl0sZ2Fhd2M6WyJnb29ndGFnIl0saGw6WyJlaGwiXSxodG1sOlsiY3VzdG9tU2NyaXB0cyIsImN1c3RvbVBpeGVscyIsIm5vbkdvb2dsZVBpeGVscyIsIm5vbkdvb2dsZVNjcmlwdHMiLCJub25Hb29nbGVJZnJhbWVzIl0sY3VzdG9tU2NyaXB0czpbImh0bWwiLCJjdXN0b21QaXhlbHMiLCJub25Hb29nbGVQaXhlbHMiLCJub25Hb29nbGVTY3JpcHRzIiwibm9uR29vZ2xlSWZyYW1lcyJdLG5vbkdvb2dsZVBpeGVsczpbXSxub25Hb29nbGVTY3JpcHRzOlsibm9uR29vZ2xlUGl4ZWxzIl0sbm9uR29vZ2xlSWZyYW1lczpbIm5vbkdvb2dsZVBpeGVscyJdfSxWeT17Y2w6WyJlY2wiXSxjdXN0b21QaXhlbHM6WyJjdXN0b21TY3JpcHRzIiwKImh0bWwiXSxlY2w6WyJjbCJdLGVobDpbImhsIl0sZ2Fhd2M6WyJnb29ndGFnIl0saGw6WyJlaGwiXSxodG1sOlsiY3VzdG9tU2NyaXB0cyJdLGN1c3RvbVNjcmlwdHM6WyJodG1sIl0sbm9uR29vZ2xlUGl4ZWxzOlsiY3VzdG9tUGl4ZWxzIiwiY3VzdG9tU2NyaXB0cyIsImh0bWwiLCJub25Hb29nbGVTY3JpcHRzIiwibm9uR29vZ2xlSWZyYW1lcyJdLG5vbkdvb2dsZVNjcmlwdHM6WyJjdXN0b21TY3JpcHRzIiwiaHRtbCJdLG5vbkdvb2dsZUlmcmFtZXM6WyJjdXN0b21TY3JpcHRzIiwiaHRtbCIsIm5vbkdvb2dsZVNjcmlwdHMiXX0sV3k9Imdvb2dsZSBjdXN0b21QaXhlbHMgY3VzdG9tU2NyaXB0cyBodG1sIG5vbkdvb2dsZVBpeGVscyBub25Hb29nbGVTY3JpcHRzIG5vbkdvb2dsZUlmcmFtZXMiLnNwbGl0KCIgIik7CmZ1bmN0aW9uIFh5KCl7dmFyIGE9bHAoImd0bS5hbGxvd2xpc3QiKXx8bHAoImd0bS53aGl0ZWxpc3QiKTthJiZNKDkpO1ppJiYoUCgyMTIpP2E9dm9pZCAwOmE9WyJnb29nbGUiLCJndGFnZmwiLCJsY2wiLCJ6b25lIiwiY21wUGFydG5lcnMiXSk7VHkudGVzdCh3LmxvY2F0aW9uJiZ3LmxvY2F0aW9uLmhvc3RuYW1lKSYmKFppP00oMTE2KTooTSgxMTcpLGtnKDQ4KSYmKGE9W10sd2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyYmd2luZG93LmNvbnNvbGUubG9nKCJHVE0gYmxvY2tlZC4gU2VlIGdvLzEzNjg3NzI4LiIpKSkpO3ZhciBiPWEmJktiKERiKGEpLFV5KSxjPWxwKCJndG0uYmxvY2tsaXN0Iil8fGxwKCJndG0uYmxhY2tsaXN0Iik7Y3x8KGM9bHAoInRhZ1R5cGVCbGFja2xpc3QiKSkmJk0oMyk7Yz9NKDgpOmM9W107VHkudGVzdCh3LmxvY2F0aW9uJiZ3LmxvY2F0aW9uLmhvc3RuYW1lKSYmKGM9RGIoYyksYy5wdXNoKCJub25Hb29nbGVQaXhlbHMiLCJub25Hb29nbGVTY3JpcHRzIiwKInNhbmRib3hlZFNjcmlwdHMiKSk7RGIoYykuaW5kZXhPZigiZ29vZ2xlIik+PTAmJk0oMik7dmFyIGQ9YyYmS2IoRGIoYyksVnkpLGU9e307cmV0dXJuIGZ1bmN0aW9uKGYpe3ZhciBnPWYmJmZbdGYuVGFdO2lmKCFnfHx0eXBlb2YgZyE9PSJzdHJpbmciKXJldHVybiEwO2c9Zy5yZXBsYWNlKC9eXyovLCIiKTtpZihlW2ddIT09dm9pZCAwKXJldHVybiBlW2ddO3ZhciBoPWNqW2ddfHxbXSxsPSEwO2lmKGEpe3ZhciBuO2lmKG49bClhOntpZihiLmluZGV4T2YoZyk8MCl7aWYoWmkmJmguaW5kZXhPZigiY21wUGFydG5lcnMiKT49MCl7bj0hMDticmVhayBhfWlmKGgmJmgubGVuZ3RoPjApZm9yKHZhciBwPTA7cDxoLmxlbmd0aDtwKyspe2lmKGIuaW5kZXhPZihoW3BdKTwwKXtNKDExKTtuPSExO2JyZWFrIGF9fWVsc2V7bj0hMTticmVhayBhfX1uPSEwfWw9bn12YXIgcT0hMTtpZihjKXt2YXIgcj1kLmluZGV4T2YoZyk+PTA7aWYocilxPXI7ZWxzZXt2YXIgdT14YihkLGh8fFtdKTt1JiYKTSgxMCk7cT11fX12YXIgdD0hbHx8cTshdCYmKGguaW5kZXhPZigic2FuZGJveGVkU2NyaXB0cyIpPT09LTE/MDpaaSYmaC5pbmRleE9mKCJjbXBQYXJ0bmVycyIpPj0wPyFZeSgpOmImJmIuaW5kZXhPZigic2FuZGJveGVkU2NyaXB0cyIpIT09LTE/MDp4YihkLFd5KSkmJih0PSEwKTtyZXR1cm4gZVtnXT10fX1mdW5jdGlvbiBZeSgpe3ZhciBhPUNnKHpnLkMsRCg1KSxmdW5jdGlvbigpe3JldHVybnt9fSk7dHJ5e3JldHVybiBhKCJpbmplY3RfY21wX2Jhbm5lciIpLCEwfWNhdGNoKGIpe3JldHVybiExfX07dmFyIFp5PWZ1bmN0aW9uKCl7dGhpcy5IPTA7dGhpcy5DPXt9fTtaeS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSsrdGhpcy5IO3RoaXMuQ1thXT10aGlzLkNbYV18fHt9O3RoaXMuQ1thXVtTdHJpbmcoZCldPXtsaXN0ZW5lcjpiLFdlOmN9O3JldHVybiBkfTtaeS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLkNbYV0sZD1TdHJpbmcoYik7aWYoIWN8fCFjW2RdKXJldHVybiExO2RlbGV0ZSBjW2RdO3JldHVybiEwfTt2YXIgYXo9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTt6YigkeS5DW2FdLGZ1bmN0aW9uKGQsZSl7Yy5pbmRleE9mKGUubGlzdGVuZXIpPDAmJihlLldlPT09dm9pZCAwfHxiLmluZGV4T2YoZS5XZSk+PTApJiZjLnB1c2goZS5saXN0ZW5lcil9KTtyZXR1cm4gY307ZnVuY3Rpb24gYnooYSxiLGMpe3JldHVybntlbnRpdHlUeXBlOmEsaW5kZXhJbk9yaWdpbkNvbnRhaW5lcjpiLG5hbWVJbk9yaWdpbkNvbnRhaW5lcjpjLG9yaWdpbkNvbnRhaW5lcklkOkQoNSksb3JpZ2luQ0lkOlBqKCl9fTtmdW5jdGlvbiBjeihhLGIpe2lmKGRhdGEuZW50aXRpZXMpe3ZhciBjPWRhdGEuZW50aXRpZXNbYV07aWYoYylyZXR1cm4gY1tiXX19O3ZhciBlej1mdW5jdGlvbihhLGIpe3RoaXMuQz0hMTt0aGlzLlQ9W107dGhpcy5ldmVudERhdGE9e3RhZ3M6W119O3RoaXMuVj0hMTt0aGlzLkg9dGhpcy5QPTA7ZHoodGhpcyxhLGIpfSxmej1mdW5jdGlvbihhLGIsYyxkKXtpZihYaS5oYXNPd25Qcm9wZXJ0eShiKXx8Yj09PSJfX3pvbmUiKXJldHVybi0xO3ZhciBlPXt9O3NkKGQpJiYoZT10ZChkLGUpKTtlLmlkPWM7ZS5zdGF0dXM9InRpbWVvdXQiO3JldHVybiBhLmV2ZW50RGF0YS50YWdzLnB1c2goZSktMX0sZ3o9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5ldmVudERhdGEudGFnc1tiXTtlJiYoZS5zdGF0dXM9YyxlLmV4ZWN1dGlvblRpbWU9ZCl9LGh6PWZ1bmN0aW9uKGEpe2lmKCFhLkMpe2Zvcih2YXIgYj1hLlQsYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10oKTthLkM9ITA7YS5ULmxlbmd0aD0wfX0sZHo9ZnVuY3Rpb24oYSxiLGMpe2IhPT12b2lkIDAmJmEuaWcoYik7YyYmdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aHooYSl9LApOdW1iZXIoYykpfTtlei5wcm90b3R5cGUuaWc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPUliKGZ1bmN0aW9uKCl7VWMoZnVuY3Rpb24oKXthKEQoNSksYi5ldmVudERhdGEpfSl9KTt0aGlzLkM/YygpOnRoaXMuVC5wdXNoKGMpfTt2YXIgaXo9ZnVuY3Rpb24oYSl7YS5QKys7cmV0dXJuIEliKGZ1bmN0aW9uKCl7YS5IKys7YS5WJiZhLkg+PWEuUCYmaHooYSl9KX0sano9ZnVuY3Rpb24oYSl7YS5WPSEwO2EuSD49YS5QJiZoeihhKX07dmFyIGt6PXt9O2Z1bmN0aW9uIGx6KCl7cmV0dXJuIHdbbXooKV19CmZ1bmN0aW9uIG16KCl7cmV0dXJuIHcuR29vZ2xlQW5hbHl0aWNzT2JqZWN0fHwiZ2EifWZ1bmN0aW9uIHB6KCl7dmFyIGE9RCg1KTt9CmZ1bmN0aW9uIHF6KGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9bHooKSxkPWMmJmMuZ2V0QnlOYW1lJiZjLmdldEJ5TmFtZShhKTtpZihkKXt2YXIgZT1kLmdldCgic2VuZEhpdFRhc2siKTtkLnNldCgic2VuZEhpdFRhc2siLGZ1bmN0aW9uKGYpe3ZhciBnPWYuZ2V0KCJoaXRQYXlsb2FkIiksaD1mLmdldCgiaGl0Q2FsbGJhY2siKSxsPWcuaW5kZXhPZigiJnRpZD0iK2IpPDA7bCYmKGYuc2V0KCJoaXRQYXlsb2FkIixnLnJlcGxhY2UoLyZ0aWQ9VUEtWzAtOV0rLVswLTldKy8sIiZ0aWQ9IitiKSwhMCksZi5zZXQoImhpdENhbGxiYWNrIix2b2lkIDAsITApKTtlKGYpO2wmJihmLnNldCgiaGl0UGF5bG9hZCIsZywhMCksZi5zZXQoImhpdENhbGxiYWNrIixoLCEwKSxmLnNldCgiX3hfMTkiLHZvaWQgMCwhMCksZShmKSl9KX19fTt2YXIgd3o9WyJlcyIsIjEiXSx4ej17fSx5ej17fTtmdW5jdGlvbiB6eihhLGIpe2lmKExrKXt2YXIgYztjPWIubWF0Y2goL14oZ3RtfGd0YWcpXC4vKT9lbmNvZGVVUklDb21wb25lbnQoYik6IioiO3h6W2FdPVtbImUiLGNdLFsiZWlkIixhXV07R3AoYSl9fWZ1bmN0aW9uIEF6KGEpe3ZhciBiPWEuZXZlbnRJZCxjPWEuWWQ7aWYoIXh6W2JdKXJldHVybltdO3ZhciBkPVtdO3l6W2JdfHxkLnB1c2god3opO2QucHVzaC5hcHBseShkLHphKHh6W2JdKSk7YyYmKHl6W2JdPSEwKTtyZXR1cm4gZH07dmFyIEJ6PXt9LEN6PXt9LER6PXt9O2Z1bmN0aW9uIEV6KGEsYixjLGQpe0xrJiZQKDEyMCkmJigoZD09PXZvaWQgMD8wOmQpPyhEeltiXT1EeltiXXx8MCwrK0R6W2JdKTpjIT09dm9pZCAwPyhDelthXT1DelthXXx8e30sQ3pbYV1bYl09TWF0aC5yb3VuZChjKSk6KEJ6W2FdPUJ6W2FdfHx7fSxCelthXVtiXT0oQnpbYV1bYl18fDApKzEpKX1mdW5jdGlvbiBGeihhKXt2YXIgYj1hLmV2ZW50SWQsYz1hLllkLGQ9QnpbYl18fHt9LGU9W10sZjtmb3IoZiBpbiBkKWQuaGFzT3duUHJvcGVydHkoZikmJmUucHVzaCgiIitmK2RbZl0pO2MmJmRlbGV0ZSBCeltiXTtyZXR1cm4gZS5sZW5ndGg/W1sibWQiLGUuam9pbigiLiIpXV06W119CmZ1bmN0aW9uIEd6KGEpe3ZhciBiPWEuZXZlbnRJZCxjPWEuWWQsZD1DeltiXXx8e30sZT1bXSxmO2ZvcihmIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShmKSYmZS5wdXNoKCIiK2YrZFtmXSk7YyYmZGVsZXRlIEN6W2JdO3JldHVybiBlLmxlbmd0aD9bWyJtdGQiLGUuam9pbigiLiIpXV06W119ZnVuY3Rpb24gSHooKXtmb3IodmFyIGE9W10sYj1tKE9iamVjdC5rZXlzKER6KSksYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpe3ZhciBkPWMudmFsdWU7YS5wdXNoKCIiK2QrRHpbZF0pfXJldHVybiBhLmxlbmd0aD9bWyJtZWMiLGEuam9pbigiLiIpXV06W119O3ZhciBJej17fTtmdW5jdGlvbiBKeihhLGIsYyl7SXpbYV0hPW51bGx8fChJelthXT17fSk7dmFyIGQ7KGQ9SXpbYV0pW2NdIT1udWxsfHwoZFtjXT17fSk7SXpbYV1bY11bYl09KEl6W2FdW2NdW2JdfHwwKSsxfTt2YXIgS3o9e30sTHo9e307ZnVuY3Rpb24gTXooYSxiLGMpe2lmKExrJiZiKXt2YXIgZD1JayhiKTtLelthXT1LelthXXx8W107S3pbYV0ucHVzaChjK2QpO3ZhciBlPWJbdGYuVGFdO2lmKCFlKXRocm93IEVycm9yKCJFcnJvcjogTm8gZnVuY3Rpb24gbmFtZSBnaXZlbiBmb3IgZnVuY3Rpb24gY2FsbC4iKTt2YXIgZj0oVmZbZV0/IjEiOiIyIikrZDtMelthXT1MelthXXx8W107THpbYV0ucHVzaChmKTtHcChhKX19ZnVuY3Rpb24gTnooYSl7dmFyIGI9YS5ldmVudElkLGM9YS5ZZCxkPVtdLGU9S3pbYl18fFtdO2UubGVuZ3RoJiZkLnB1c2goWyJ0ciIsZS5qb2luKCIuIildKTt2YXIgZj1MeltiXXx8W107Zi5sZW5ndGgmJmQucHVzaChbInRpIixmLmpvaW4oIi4iKV0pO2MmJihkZWxldGUgS3pbYl0sZGVsZXRlIEx6W2JdKTtyZXR1cm4gZH07ZnVuY3Rpb24gT3ooYSxiLGMpe2M9Yz09PXZvaWQgMD8hMTpjO1B6KCkuYWRkUmVzdHJpY3Rpb24oMCxhLGIsYyl9ZnVuY3Rpb24gUXooYSxiLGMpe2M9Yz09PXZvaWQgMD8hMTpjO1B6KCkuYWRkUmVzdHJpY3Rpb24oMSxhLGIsYyl9ZnVuY3Rpb24gUnooKXt2YXIgYT1QaigpO3JldHVybiBQeigpLmdldFJlc3RyaWN0aW9ucygxLGEpfXZhciBTej1mdW5jdGlvbigpe3RoaXMuY29udGFpbmVyPXt9O3RoaXMuQz17fX0sVHo9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNvbnRhaW5lcltiXTtjfHwoYz17X2VudGl0eTp7aW50ZXJuYWw6W10sZXh0ZXJuYWw6W119LF9ldmVudDp7aW50ZXJuYWw6W10sZXh0ZXJuYWw6W119fSxhLmNvbnRhaW5lcltiXT1jKTtyZXR1cm4gY307ClN6LnByb3RvdHlwZS5hZGRSZXN0cmljdGlvbj1mdW5jdGlvbihhLGIsYyxkKXtkPWQ9PT12b2lkIDA/ITE6ZDtpZighZHx8IXRoaXMuQ1tiXSl7dmFyIGU9VHoodGhpcyxiKTthPT09MD9kP2UuX2VudGl0eS5leHRlcm5hbC5wdXNoKGMpOmUuX2VudGl0eS5pbnRlcm5hbC5wdXNoKGMpOmE9PT0xJiYoZD9lLl9ldmVudC5leHRlcm5hbC5wdXNoKGMpOmUuX2V2ZW50LmludGVybmFsLnB1c2goYykpfX07ClN6LnByb3RvdHlwZS5nZXRSZXN0cmljdGlvbnM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1Ueih0aGlzLGIpO2lmKGE9PT0wKXt2YXIgZCxlO3JldHVybltdLmNvbmNhdCh6YSgoYz09bnVsbD92b2lkIDA6KGQ9Yy5fZW50aXR5KT09bnVsbD92b2lkIDA6ZC5pbnRlcm5hbCl8fFtdKSx6YSgoYz09bnVsbD92b2lkIDA6KGU9Yy5fZW50aXR5KT09bnVsbD92b2lkIDA6ZS5leHRlcm5hbCl8fFtdKSl9aWYoYT09PTEpe3ZhciBmLGc7cmV0dXJuW10uY29uY2F0KHphKChjPT1udWxsP3ZvaWQgMDooZj1jLl9ldmVudCk9PW51bGw/dm9pZCAwOmYuaW50ZXJuYWwpfHxbXSksemEoKGM9PW51bGw/dm9pZCAwOihnPWMuX2V2ZW50KT09bnVsbD92b2lkIDA6Zy5leHRlcm5hbCl8fFtdKSl9cmV0dXJuW119OwpTei5wcm90b3R5cGUuZ2V0RXh0ZXJuYWxSZXN0cmljdGlvbnM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1Ueih0aGlzLGIpLGQsZTtyZXR1cm4gYT09PTA/KGM9PW51bGw/dm9pZCAwOihkPWMuX2VudGl0eSk9PW51bGw/dm9pZCAwOmQuZXh0ZXJuYWwpfHxbXTooYz09bnVsbD92b2lkIDA6KGU9Yy5fZXZlbnQpPT1udWxsP3ZvaWQgMDplLmV4dGVybmFsKXx8W119O1N6LnByb3RvdHlwZS5yZW1vdmVFeHRlcm5hbFJlc3RyaWN0aW9ucz1mdW5jdGlvbihhKXt2YXIgYj1Ueih0aGlzLGEpO2IuX2V2ZW50JiYoYi5fZXZlbnQuZXh0ZXJuYWw9W10pO2IuX2VudGl0eSYmKGIuX2VudGl0eS5leHRlcm5hbD1bXSk7dGhpcy5DW2FdPSEwfTtmdW5jdGlvbiBQeigpe3JldHVybiAkbigiciIsZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFN6fSl9O2Z1bmN0aW9uIFV6KGEsYixjLGQpe3ZhciBlPVRmW2FdLGY9VnooYSxiLGMsZCk7aWYoIWYpcmV0dXJuIG51bGw7dmFyIGc9Z2coZVt0Zi5CbV0sYyxbXSk7aWYoZyYmZy5sZW5ndGgpe3ZhciBoPWdbMF07Zj1VeihoLmluZGV4LHtvblN1Y2Nlc3M6ZixvbkZhaWx1cmU6aC5nbj09PTE/Yi50ZXJtaW5hdGU6Zix0ZXJtaW5hdGU6Yi50ZXJtaW5hdGV9LGMsZCl9cmV0dXJuIGZ9CmZ1bmN0aW9uIFZ6KGEsYixjLGQpe2Z1bmN0aW9uIGUoKXtmdW5jdGlvbiB4KCl7SG0oMyk7dmFyIE89R2IoKS1KO2J6KDEsYSxUZlthXVt0Zi5zaF0pO016KGMuaWQsZiwiNyIpO2d6KGMuVWMsRSwiZXhjZXB0aW9uIixPKTtQKDEwOSkmJnF4KGMsZixLdy5PLlVpKTtIfHwoSD0hMCxoKCkpfWlmKGZbdGYuTnBdKWgoKTtlbHNle3ZhciB5PWZnKGYsYyxbXSksQT15W3RmLlpuXTtpZihBIT1udWxsKWZvcih2YXIgQz0wO0M8QS5sZW5ndGg7QysrKWlmKCFSbihBW0NdKSl7aCgpO3JldHVybn12YXIgRT1meihjLlVjLFN0cmluZyhmW3RmLlRhXSksTnVtYmVyKGZbdGYuRWhdKSx5W3RmLk1FVEFEQVRBXSksSD0hMTt5LnZ0cF9ndG1PblN1Y2Nlc3M9ZnVuY3Rpb24oKXtpZighSCl7SD0hMDt2YXIgTz1HYigpLUo7TXooYy5pZCxUZlthXSwiNSIpO2d6KGMuVWMsRSwic3VjY2VzcyIsTyk7UCgxMDkpJiZxeChjLGYsS3cuTy5XaSk7ZygpfX07eS52dHBfZ3RtT25GYWlsdXJlPWZ1bmN0aW9uKCl7aWYoIUgpe0g9CiEwO3ZhciBPPUdiKCktSjtNeihjLmlkLFRmW2FdLCI2Iik7Z3ooYy5VYyxFLCJmYWlsdXJlIixPKTtQKDEwOSkmJnF4KGMsZixLdy5PLlZpKTtoKCl9fTt5LnZ0cF9ndG1UYWdJZD1mLnRhZ19pZDt5LnZ0cF9ndG1FdmVudElkPWMuaWQ7Yy5wcmlvcml0eUlkJiYoeS52dHBfZ3RtUHJpb3JpdHlJZD1jLnByaW9yaXR5SWQpO016KGMuaWQsZiwiMSIpO1AoMTA5KSYmcHgoYyxmKTt2YXIgSj1HYigpO3RyeXtoZyh5LHtldmVudDpjLGluZGV4OmEsdHlwZToxfSl9Y2F0Y2goTyl7eChPKX1QKDEwOSkmJnF4KGMsZixLdy5PLk1tKX19dmFyIGY9VGZbYV0sZz1iLm9uU3VjY2VzcyxoPWIub25GYWlsdXJlLGw9Yi50ZXJtaW5hdGU7aWYoYy5pc0Jsb2NrZWQoZikpcmV0dXJuIG51bGw7dmFyIG49Z2coZlt0Zi5ObV0sYyxbXSk7aWYobiYmbi5sZW5ndGgpe3ZhciBwPW5bMF0scT1VeihwLmluZGV4LHtvblN1Y2Nlc3M6ZyxvbkZhaWx1cmU6aCx0ZXJtaW5hdGU6bH0sYyxkKTtpZighcSlyZXR1cm4gbnVsbDsKZz1xO2g9cC5nbj09PTI/bDpxfWlmKGZbdGYuc21dfHxmW3RmLlBwXSl7dmFyIHI9Zlt0Zi5zbV0/VWY6Yy5ycyx1PWcsdD1oO2lmKCFyW2FdKXt2YXIgdj1XeihhLHIsSWIoZSkpO2c9di5vblN1Y2Nlc3M7aD12Lm9uRmFpbHVyZX1yZXR1cm4gZnVuY3Rpb24oKXtyW2FdKHUsdCl9fXJldHVybiBlfWZ1bmN0aW9uIFd6KGEsYixjKXt2YXIgZD1bXSxlPVtdO2JbYV09WHooZCxlLGMpO3JldHVybntvblN1Y2Nlc3M6ZnVuY3Rpb24oKXtiW2FdPVl6O2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWRbZl0oKX0sb25GYWlsdXJlOmZ1bmN0aW9uKCl7YlthXT1aejtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyllW2ZdKCl9fX1mdW5jdGlvbiBYeihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQsZSl7YS5wdXNoKGQpO2IucHVzaChlKTtjKCl9fWZ1bmN0aW9uIFl6KGEpe2EoKX1mdW5jdGlvbiBaeihhLGIpe2IoKX07dmFyIGJBPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPFRmLmxlbmd0aDtkKyspaWYoYVtkXSl7dmFyIGU9VGZbZF07dmFyIGY9aXooYi5VYyk7dHJ5e3ZhciBnPVV6KGQse29uU3VjY2VzczpmLG9uRmFpbHVyZTpmLHRlcm1pbmF0ZTpmfSxiLGQpO2lmKGcpe3ZhciBoPWVbdGYuVGFdO2lmKCFoKXRocm93IEVycm9yKCJFcnJvcjogTm8gZnVuY3Rpb24gbmFtZSBnaXZlbiBmb3IgZnVuY3Rpb24gY2FsbC4iKTt2YXIgbD1WZltoXTtjLnB1c2goe01uOmQscHJpb3JpdHlPdmVycmlkZToobD9sLnByaW9yaXR5T3ZlcnJpZGV8fDA6MCl8fGN6KGVbdGYuVGFdLDEpfHwwLGV4ZWN1dGU6Z30pfWVsc2UgJHooZCxiKSxmKCl9Y2F0Y2gocCl7ZigpfX1jLnNvcnQoYUEpO2Zvcih2YXIgbj0wO248Yy5sZW5ndGg7bisrKWNbbl0uZXhlY3V0ZSgpOwpyZXR1cm4gYy5sZW5ndGg+MH07ZnVuY3Rpb24gY0EoYSxiKXtpZighJHkpcmV0dXJuITE7dmFyIGM9YVsiZ3RtLnRyaWdnZXJzIl0mJlN0cmluZyhhWyJndG0udHJpZ2dlcnMiXSksZD1heihhLmV2ZW50LGM/U3RyaW5nKGMpLnNwbGl0KCIsIik6W10pO2lmKCFkLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9aXooYik7dHJ5e2RbZV0oYSxmKX1jYXRjaChnKXtmKCl9fXJldHVybiEwfWZ1bmN0aW9uIGFBKGEsYil7dmFyIGMsZD1iLnByaW9yaXR5T3ZlcnJpZGUsZT1hLnByaW9yaXR5T3ZlcnJpZGU7Yz1kPmU/MTpkPGU/LTE6MDt2YXIgZjtpZihjIT09MClmPWM7ZWxzZXt2YXIgZz1hLk1uLGg9Yi5NbjtmPWc+aD8xOmc8aD8tMTowfXJldHVybiBmfQpmdW5jdGlvbiAkeihhLGIpe2lmKExrKXt2YXIgYz1mdW5jdGlvbihkKXt2YXIgZT1iLmlzQmxvY2tlZChUZltkXSk/IjMiOiI0IixmPWdnKFRmW2RdW3RmLkJtXSxiLFtdKTtmJiZmLmxlbmd0aCYmYyhmWzBdLmluZGV4KTtNeihiLmlkLFRmW2RdLGUpO3ZhciBnPWdnKFRmW2RdW3RmLk5tXSxiLFtdKTtnJiZnLmxlbmd0aCYmYyhnWzBdLmluZGV4KX07YyhhKX19dmFyIGRBPSExLCR5O2Z1bmN0aW9uIGVBKCl7JHl8fCgkeT1uZXcgWnkpO3JldHVybiAkeX0KZnVuY3Rpb24gZkEoYSl7dmFyIGI9YVsiZ3RtLnVuaXF1ZUV2ZW50SWQiXSxjPWFbImd0bS5wcmlvcml0eUlkIl0sZD1hLmV2ZW50O2lmKFAoMTA5KSl7fWlmKGQ9PT0iZ3RtLmpzIil7aWYoZEEpcmV0dXJuITE7ZEE9ITB9dmFyIGU9ITEsZj1SeigpLGc9dGQoYSxudWxsKTtpZighZi5ldmVyeShmdW5jdGlvbih1KXtyZXR1cm4gdSh7b3JpZ2luYWxFdmVudERhdGE6Z30pfSkpe2lmKGQhPT0iZ3RtLmpzIiYmZCE9PSJndG0uaW5pdCImJmQhPT0iZ3RtLmluaXRfY29uc2VudCIpcmV0dXJuITE7ZT0hMH16eihiLGQpO3ZhciBoPWEuZXZlbnRDYWxsYmFjayxsPQphLmV2ZW50VGltZW91dCxuPXtpZDpiLHByaW9yaXR5SWQ6YyxuYW1lOmQsaXNCbG9ja2VkOmdBKGcsZSkscnM6W10sbG9nTWFjcm9FcnJvcjpmdW5jdGlvbih1LHQsdil7TSg2KTtIbSg0KTtieigyLHQsdil9LGNhY2hlZE1vZGVsVmFsdWVzOmhBKCksVWM6bmV3IGV6KGZ1bmN0aW9uKCl7aWYoUCgxMDkpKXt9aCYmaC5hcHBseShoLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywKMCkpfSxsKSxvcmlnaW5hbEV2ZW50RGF0YTpnfTtQKDEyMCkmJkxrJiYobi5yZXBvcnRNYWNyb0Rpc2NyZXBhbmN5PUV6KTtQKDEwOSkmJm14KG4uaWQpO3ZhciBwPXVnKG4pO1AoMTA5KSYmbngobi5pZCk7ZSYmKHA9aUEocCkpO1AoMTA5KSYmbHgoYik7dmFyIHE9YkEocCxuKSxyPWNBKGEsbi5VYyk7anoobi5VYyk7ZCE9PSJndG0uanMiJiZkIT09Imd0bS5zeW5jInx8cHooKTtyZXR1cm4gakEocCxxKXx8cn1mdW5jdGlvbiBoQSgpe3ZhciBhPXt9O2EuZXZlbnQ9cXAoImV2ZW50IiwxKTthLmVjb21tZXJjZT1xcCgiZWNvbW1lcmNlIiwxKTthLmd0bT1xcCgiZ3RtIik7YS5ldmVudE1vZGVsPXFwKCJldmVudE1vZGVsIik7cmV0dXJuIGF9CmZ1bmN0aW9uIGdBKGEsYil7dmFyIGM9WHkoKTtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9YyhkKTtpZigoIVppfHwhUCg0MDcpKSYmZSlyZXR1cm4hMDt2YXIgZj1kJiZkW3RmLlRhXTtpZighZnx8dHlwZW9mIGYhPT0ic3RyaW5nIilyZXR1cm4hMDtmPWYucmVwbGFjZSgvXl8qLywiIik7ZSYmWmkmJlAoNDA3KSYmTGsmJkp6KE51bWJlcihhWyJndG0udW5pcXVlRXZlbnRJZCJdKSxmLCJibCIpO3ZhciBnLGg9UGooKTtnPVB6KCkuZ2V0UmVzdHJpY3Rpb25zKDAsaCk7dmFyIGw9YTtiJiYobD10ZChhLG51bGwpLGxbImd0bS51bmlxdWVFdmVudElkIl09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO2Zvcih2YXIgbj0hMSxwPWNqW2ZdfHxbXSxxPW0oZykscj1xLm5leHQoKTshci5kb25lO3I9cS5uZXh0KCkpe3ZhciB1PXIudmFsdWU7dHJ5e3Uoe2VudGl0eUlkOmYsc2VjdXJpdHlHcm91cHM6cCxvcmlnaW5hbEV2ZW50RGF0YTpsfSl8fChuPSEwKX1jYXRjaCh0KXtuPSEwfX1yZXR1cm4gbnx8CmV9fWZ1bmN0aW9uIGlBKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXSl7dmFyIGQ9U3RyaW5nKFRmW2NdW3RmLlRhXSk7aWYoV2lbZF18fFRmW2NdW3RmLlFwXSE9PXZvaWQgMHx8Y3ooZCwyKSliW2NdPSEwfXJldHVybiBifWZ1bmN0aW9uIGpBKGEsYil7aWYoIWIpcmV0dXJuIGI7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXSYmVGZbY10mJiFYaVtTdHJpbmcoVGZbY11bdGYuVGFdKV0pcmV0dXJuITA7cmV0dXJuITF9O2Z1bmN0aW9uIGtBKCl7ZUEoKS5hZGRMaXN0ZW5lcigiZ3RtLmluaXQiLGZ1bmN0aW9uKGEsYil7UmkuSD0hMDtzbSgpO2IoKX0pfTtmdW5jdGlvbiBsQSgpe2lmKFpuLnBzY2RsIT09dm9pZCAwKWttKGdtLlouWmgpPT09dm9pZCAwJiZqbShnbS5aLlpoLFpuLnBzY2RsKTtlbHNle3ZhciBhPWZ1bmN0aW9uKGMpe1puLnBzY2RsPWM7am0oZ20uWi5aaCxjKX0sYj1mdW5jdGlvbigpe2EoImVycm9yIil9O3RyeXtCYy5jb29raWVEZXByZWNhdGlvbkxhYmVsPyhhKCJwZW5kaW5nIiksQmMuY29va2llRGVwcmVjYXRpb25MYWJlbC5nZXRWYWx1ZSgpLnRoZW4oYSkuY2F0Y2goYikpOmEoIm5vYXBpIil9Y2F0Y2goYyl7YihjKX19fTt2YXIgbUE9ITEsbkE9MCxvQT1bXTtmdW5jdGlvbiBwQShhKXtpZighbUEpe3ZhciBiPXouY3JlYXRlRXZlbnRPYmplY3QsYz16LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiLGQ9ei5yZWFkeVN0YXRlPT09ImludGVyYWN0aXZlIjtpZighYXx8YS50eXBlIT09InJlYWR5c3RhdGVjaGFuZ2UifHxjfHwhYiYmZCl7bUE9ITA7Zm9yKHZhciBlPTA7ZTxvQS5sZW5ndGg7ZSsrKVVjKG9BW2VdKX1vQS5wdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBmPURhLmFwcGx5KDAsYXJndW1lbnRzKSxnPTA7ZzxmLmxlbmd0aDtnKyspVWMoZltnXSk7cmV0dXJuIDB9fX1mdW5jdGlvbiBxQSgpe2lmKCFtQSYmbkE8MTQwKXtuQSsrO3RyeXt2YXIgYSxiOyhiPShhPXouZG9jdW1lbnRFbGVtZW50KS5kb1Njcm9sbCk9PW51bGx8fGIuY2FsbChhLCJsZWZ0Iik7cEEoKX1jYXRjaChjKXt3LnNldFRpbWVvdXQocUEsNTApfX19CmZ1bmN0aW9uIHJBKCl7dmFyIGE9dzttQT0hMTtuQT0wO2lmKHoucmVhZHlTdGF0ZT09PSJpbnRlcmFjdGl2ZSImJiF6LmNyZWF0ZUV2ZW50T2JqZWN0fHx6LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXBBKCk7ZWxzZXtTYyh6LCJET01Db250ZW50TG9hZGVkIixwQSk7U2MoeiwicmVhZHlzdGF0ZWNoYW5nZSIscEEpO2lmKHouY3JlYXRlRXZlbnRPYmplY3QmJnouZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKXt2YXIgYj0hMDt0cnl7Yj0hYS5mcmFtZUVsZW1lbnR9Y2F0Y2goYyl7fWImJnFBKCl9U2MoYSwibG9hZCIscEEpfX1mdW5jdGlvbiBzQShhKXttQT9hKCk6b0EucHVzaChhKX07ZnVuY3Rpb24gdEEoYSxiKXthLmhhc093blByb3BlcnR5KCJndG0udW5pcXVlRXZlbnRJZCIpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiZ3RtLnVuaXF1ZUV2ZW50SWQiLHt2YWx1ZTpmbygpfSk7Yi5ldmVudElkPWFbImd0bS51bmlxdWVFdmVudElkIl07Yi5wcmlvcml0eUlkPWFbImd0bS5wcmlvcml0eUlkIl07cmV0dXJue2V2ZW50SWQ6Yi5ldmVudElkLHByaW9yaXR5SWQ6Yi5wcmlvcml0eUlkfX1mdW5jdGlvbiB1QShhKXtmb3IodmFyIGI9bShbSy5tLnZkLEsubS5PY10pLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKXt2YXIgZD1jLnZhbHVlLGU9YSYmYVtkXXx8UHAuQ1tkXTtpZihlKXJldHVybiBlfX07dmFyIHZBPSExO3ZhciB3QT0wO2Z1bmN0aW9uIHhBKGEpe05rJiZhPT09dm9pZCAwJiZ3QT09PTAmJihsaygibWNjIiwiMSIpLHdBPTEpfTtmdW5jdGlvbiB5QShhLGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MT96QSgic2V0IixhKTp6QSgic2V0IixhLGIpfWZ1bmN0aW9uIEFBKGEsYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PT0xP3pBKCJjb25maWciLGEpOnpBKCJjb25maWciLGEsYil9ZnVuY3Rpb24gQkEoYSxiLGMpe2M9Y3x8e307Y1tLLm0udWRdPWE7cmV0dXJuIHpBKCJldmVudCIsYixjKX1mdW5jdGlvbiB6QSgpe3JldHVybiBhcmd1bWVudHN9O3ZhciBDQT1mdW5jdGlvbigpe3RoaXMubWVzc2FnZXM9W107dGhpcy5DPVtdfTtDQS5wcm90b3R5cGUuZW5xdWV1ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5tZXNzYWdlcy5sZW5ndGgrMTthWyJndG0udW5pcXVlRXZlbnRJZCJdPWI7YVsiZ3RtLnByaW9yaXR5SWQiXT1kO3ZhciBlPW5hKE9iamVjdCwiYXNzaWduIikuY2FsbChPYmplY3Qse30sYyx7ZXZlbnRJZDpiLHByaW9yaXR5SWQ6ZCxmcm9tQ29udGFpbmVyRXhlY3V0aW9uOiEwfSksZj17bWVzc2FnZTphLG5vdEJlZm9yZUV2ZW50SWQ6Yixwcmlvcml0eUlkOmQsbWVzc2FnZUNvbnRleHQ6ZX07dGhpcy5tZXNzYWdlcy5wdXNoKGYpO2Zvcih2YXIgZz0wO2c8dGhpcy5DLmxlbmd0aDtnKyspdHJ5e3RoaXMuQ1tnXShmKX1jYXRjaChoKXt9fTtDQS5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKGEpe3RoaXMuQy5wdXNoKGEpfTsKQ0EucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgYT17fSxiPTA7Yjx0aGlzLm1lc3NhZ2VzLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMubWVzc2FnZXNbYl0sZD1hW2Mubm90QmVmb3JlRXZlbnRJZF07ZHx8KGQ9W10sYVtjLm5vdEJlZm9yZUV2ZW50SWRdPWQpO2QucHVzaChjKX1yZXR1cm4gYX07Q0EucHJvdG90eXBlLnBydW5lPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPVtdLGQ9MDtkPHRoaXMubWVzc2FnZXMubGVuZ3RoO2QrKyl7dmFyIGU9dGhpcy5tZXNzYWdlc1tkXTtlLm5vdEJlZm9yZUV2ZW50SWQ9PT1hP2IucHVzaChlKTpjLnB1c2goZSl9dGhpcy5tZXNzYWdlcz1jO3JldHVybiBifTtmdW5jdGlvbiBEQShhLGIsYyl7Yy5ldmVudE1ldGFkYXRhPWMuZXZlbnRNZXRhZGF0YXx8e307Yy5ldmVudE1ldGFkYXRhW1EuQS5QYV09RCg2KTtFQSgpLmVucXVldWUoYSxiLGMpfWZ1bmN0aW9uIEZBKCl7dmFyIGE9R0E7RUEoKS5saXN0ZW4oYSl9CmZ1bmN0aW9uIEVBKCl7cmV0dXJuICRuKCJtYiIsZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENBfSl9O3ZhciBIQT0wLElBPTAsSkE9e307dmFyIEtBPXt9LExBPXt9O2Z1bmN0aW9uIE1BKGEsYil7Zm9yKHZhciBjPVtdLGQ9W10sZT17fSxmPTA7ZjxhLmxlbmd0aDtlPXtIajp2b2lkIDAsbWo6dm9pZCAwfSxmKyspe3ZhciBnPWFbZl07aWYoZy5pbmRleE9mKCItIik+PTApe2lmKGUuSGo9bG8oZyxiKSxlLkhqKXt2YXIgaD1OaigpO3ZiKGgsZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHUpe3JldHVybiByLkhqLmRlc3RpbmF0aW9uSWQ9PT11fX0oZSkpP2MucHVzaChnKTpkLnB1c2goZyl9fWVsc2V7dmFyIGw9S0FbZ118fFtdO2UubWo9e307bC5mb3JFYWNoKGZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbih1KXtyLm1qW3VdPSEwfX0oZSkpO2Zvcih2YXIgbj1RaigpLHA9MDtwPG4ubGVuZ3RoO3ArKylpZihlLm1qW25bcF1dKXtjPWMuY29uY2F0KE5qKCkpO2JyZWFrfXZhciBxPUxBW2ddfHxbXTtxLmxlbmd0aCYmKGM9Yy5jb25jYXQocSkpfX1yZXR1cm57QWo6YyxEcjpkfX0KZnVuY3Rpb24gTkEoYSl7emIoS0EsZnVuY3Rpb24oYixjKXt2YXIgZD1jLmluZGV4T2YoYSk7ZD49MCYmYy5zcGxpY2UoZCwxKX0pfWZ1bmN0aW9uIE9BKGEpe3piKExBLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5pbmRleE9mKGEpO2Q+PTAmJmMuc3BsaWNlKGQsMSl9KX07dmFyIFBBPSExLFFBPXZvaWQgMCxSQT12b2lkIDA7ZnVuY3Rpb24gU0EoYSxiLGMpe3ZhciBkPXRkKGEsbnVsbCk7ZC5ldmVudElkPXZvaWQgMDtkLmluaGVyaXRQYXJlbnRDb25maWc9dm9pZCAwO09iamVjdC5rZXlzKGIpLnNvbWUoZnVuY3Rpb24oZil7cmV0dXJuIGJbZl0hPT12b2lkIDB9KSYmTSgxMzYpO3ZhciBlPXRkKGIsbnVsbCk7dGQoYyxlKTtEQShBQShRaigpWzBdLGUpLGEuZXZlbnRJZCxkKX07ZnVuY3Rpb24gVEEoYSxiKXt2YXIgYz17fSxkPShjLmV2ZW50PWEsYyk7YiYmKGQuZXZlbnRNb2RlbD10ZChiLG51bGwpLGJbSy5tLnpmXSYmKGQuZXZlbnRDYWxsYmFjaz1iW0subS56Zl0pLGJbSy5tLllnXSYmKGQuZXZlbnRUaW1lb3V0PWJbSy5tLllnXSkpO3JldHVybiBkfQpmdW5jdGlvbiBVQShhLGIpe3ZhciBjPWEmJmFbSy5tLnVkXTtjPT09dm9pZCAwJiYoYz1scChLLm0udWQsMiksYz09PXZvaWQgMCYmKGM9ImRlZmF1bHQiKSk7aWYoc2IoYyl8fEFycmF5LmlzQXJyYXkoYykpe3ZhciBkO2Q9Yi5pc0d0bUV2ZW50P3NiKGMpP1tjXTpjOmMudG9TdHJpbmcoKS5yZXBsYWNlKC9ccysvZywiIikuc3BsaXQoIiwiKTt2YXIgZT1NQShkLGIuaXNHdG1FdmVudCksZj1lLkFqLGc9ZS5EcjtpZihnLmxlbmd0aClmb3IodmFyIGg9dUEoYSksbD0wO2w8Zy5sZW5ndGg7bCsrKXt2YXIgbj1sbyhnW2xdLGIuaXNHdG1FdmVudCk7aWYobil7dmFyIHA9bi5kZXN0aW5hdGlvbklkLHE9dm9pZCAwOygocT1IaihuLmRlc3RpbmF0aW9uSWQpKT09bnVsbD92b2lkIDA6cS5zdGF0ZSk9PT0wfHxTeShwLGgse3NvdXJjZTozLGZyb21Db250YWluZXJFeGVjdXRpb246Yi5mcm9tQ29udGFpbmVyRXhlY3V0aW9ufSl9fXZhciByPWYuY29uY2F0KGcpO3JldHVybntBajptbyhmLGIuaXNHdG1FdmVudCksCm5xOm1vKHIsYi5pc0d0bUV2ZW50KX19fQp2YXIgVkE9e2NvbmZpZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRBKGEsYik7aWYoIShhLmxlbmd0aDwyKSYmc2IoYVsxXSkpe3ZhciBkPXt9O2lmKGEubGVuZ3RoPjIpe2lmKGFbMl0hPT12b2lkIDAmJiFzZChhWzJdKXx8YS5sZW5ndGg+MylyZXR1cm47ZD1hWzJdfXZhciBlPWxvKGFbMV0sYi5pc0d0bUV2ZW50KTtpZihlKXt2YXIgZixnLGg7YTp7aWYoIWtnKDcpKXt2YXIgbD1TaihUaigpKTtpZihlayhsKSl7dmFyIG49bC5wYXJlbnQscD1uLmlzRGVzdGluYXRpb247aD17SHI6U2oobiksQXI6cH07YnJlYWsgYX19aD12b2lkIDB9dmFyIHE9aDtxJiYoZj1xLkhyLGc9cS5Bcik7enooYy5ldmVudElkLCJndGFnLmNvbmZpZyIpO3ZhciByPWUuZGVzdGluYXRpb25JZCx1PWUuaWQhPT1yO2lmKHU/TmooKS5pbmRleE9mKHIpPT09LTE6UWooKS5pbmRleE9mKHIpPT09LTEpe2lmKCFiLmluaGVyaXRQYXJlbnRDb25maWcmJiFkW0subS5JY10pe3ZhciB0PXVBKGQpO2lmKHUpU3kocix0LHtzb3VyY2U6MiwKZnJvbUNvbnRhaW5lckV4ZWN1dGlvbjpiLmZyb21Db250YWluZXJFeGVjdXRpb259KTtlbHNlIGlmKGYhPT12b2lkIDAmJmYuY29udGFpbmVycy5pbmRleE9mKHIpIT09LTEpe3ZhciB2PWQ7UUE/U0EoYix2LFFBKTpSQXx8KFJBPXRkKHYsbnVsbCkpfWVsc2UgTnkocix0LCEwLHtzb3VyY2U6Mixmcm9tQ29udGFpbmVyRXhlY3V0aW9uOmIuZnJvbUNvbnRhaW5lckV4ZWN1dGlvbn0pfX1lbHNle2lmKGYmJihNKDEyOCksZyYmTSgxMzApLGIuaW5oZXJpdFBhcmVudENvbmZpZykpe3ZhciB4O3ZhciB5PWQ7UkE/KFNBKGIsUkEseSkseD0hMSk6KCF5W0subS54ZF0mJmtnKDExKSYmUUF8fChRQT10ZCh5LG51bGwpKSx4PSEwKTt4JiZmLmNvbnRhaW5lcnMmJmYuY29udGFpbmVycy5qb2luKCIsIik7cmV0dXJufU5rJiYod0E9PT0xJiYoaWsubWNjPSExKSx3QT0yKTtpZihrZygxMSkmJiF1JiYhZFtLLm0ueGRdKXt2YXIgQT1QQTtQQT0hMDt2YXIgQz1kLEU9T2JqZWN0LmtleXMoQykubGVuZ3RoPgowPzI6MSxILEosTz0oYj09bnVsbD92b2lkIDA6KEo9Yi5vcmlnaW5hdGluZ0VudGl0eSk9PW51bGw/dm9pZCAwOkoub3JpZ2luQ29udGFpbmVySWQpfHwiIjtIPU8/TGIoTywiR1RNLSIpPzM6MjoxO2lmKEEpe2lmKE0oMTg0KSxJQT09PUh8fElBIT09MyYmSCE9PTN8fE0oMTg1KSxIQSE9PTImJkUhPT0yfHxNKDE4NiksSEE9PT0yJiZFPT09Mil7dmFyIGJhO2E6e3ZhciBXPUpBLE49T2JqZWN0LmtleXMoVyksUz1PYmplY3Qua2V5cyhDKTtpZihOLmxlbmd0aCE9PVMubGVuZ3RoKWJhPSEwO2Vsc2V7Zm9yKHZhciBsYT1tKE4pLGphPWxhLm5leHQoKTshamEuZG9uZTtqYT1sYS5uZXh0KCkpe3ZhciBWPWphLnZhbHVlO2lmKCFDLmhhc093blByb3BlcnR5KFYpfHxXW1ZdIT09Q1tWXSl7YmE9ITA7YnJlYWsgYX19YmE9ITF9fWJhJiZNKDE4OSl9fWVsc2UgSEE9RSxJQT1ILEpBPUM7aWYoQSlyZXR1cm59dkF8fE0oNDMpO2lmKCFiLm5vVGFyZ2V0R3JvdXApaWYodSl7T0EoZS5pZCk7dmFyIFU9CmUuaWQsaGE9ZFtLLm0uZmhdfHwiZGVmYXVsdCI7aGE9U3RyaW5nKGhhKS5zcGxpdCgiLCIpO2Zvcih2YXIgdGE9MDt0YTxoYS5sZW5ndGg7dGErKyl7dmFyIHBhPUxBW2hhW3RhXV18fFtdO0xBW2hhW3RhXV09cGE7cGEuaW5kZXhPZihVKTwwJiZwYS5wdXNoKFUpfX1lbHNle05BKGUuaWQpO3ZhciBNYT1lLmlkLFNhPWRbSy5tLmZoXXx8ImRlZmF1bHQiO1NhPVNhLnRvU3RyaW5nKCkuc3BsaXQoIiwiKTtmb3IodmFyIG1iPTA7bWI8U2EubGVuZ3RoO21iKyspe3ZhciBjYj1LQVtTYVttYl1dfHxbXTtLQVtTYVttYl1dPWNiO2NiLmluZGV4T2YoTWEpPDAmJmNiLnB1c2goTWEpfX1kZWxldGUgZFtLLm0uZmhdO3ZhciBZYT1iLmV2ZW50TWV0YWRhdGF8fHt9O1lhLmhhc093blByb3BlcnR5KFEuQS5EZCl8fChZYVtRLkEuRGRdPSFiLmZyb21Db250YWluZXJFeGVjdXRpb24pO2IuZXZlbnRNZXRhZGF0YT1ZYTtkZWxldGUgZFtLLm0uemZdO2Zvcih2YXIgUGI9dT9bZS5pZF06TmooKSxRYj0KMDtRYjxQYi5sZW5ndGg7UWIrKyl7dmFyIGtlPWQsSWc9UGJbUWJdLGxlPXRkKGIsbnVsbCksUWU9bG8oSWcsbGUuaXNHdG1FdmVudCk7UWUmJlBwLnB1c2goImNvbmZpZyIsW2tlXSxRZSxsZSl9fX19fSxjb25zZW50OmZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGg9PT0zKXtNKDM5KTt2YXIgYz10QShhLGIpLGQ9YVsxXSxlPXt9LGY9aG4oYVsyXSksZztmb3IoZyBpbiBmKWlmKGYuaGFzT3duUHJvcGVydHkoZykpe3ZhciBoPWZbZ107ZVtnXT1nPT09Sy5tLklnP0FycmF5LmlzQXJyYXkoaCk/TmFOOk51bWJlcihoKTpnPT09Sy5tLm9jPyhBcnJheS5pc0FycmF5KGgpP2g6W2hdKS5tYXAoam4pOmtuKGgpfWIuZnJvbUNvbnRhaW5lckV4ZWN1dGlvbnx8KGVbSy5tLlhdJiZNKDEzOSksZVtLLm0uTmFdJiZNKDE0MCkpO2Q9PT0iZGVmYXVsdCI/Tm4oZSk6ZD09PSJ1cGRhdGUiP1BuKGUsYyk6ZD09PSJkZWNsYXJlIiYmYi5mcm9tQ29udGFpbmVyRXhlY3V0aW9uJiZNbihlKX19LGNvbnRhaW5lcl9jb25maWc6ZnVuY3Rpb24oYSwKYil7aWYoYi5pc0d0bUV2ZW50JiYhKGIuZXZlbnRNZXRhZGF0YSYmYi5ldmVudE1ldGFkYXRhW1EuQS5lYl0mJmIuZXZlbnRNZXRhZGF0YVtRLkEuUGFdIT09UGooKXx8YS5sZW5ndGghPT0zKSYmc2IoYVsxXSkmJnNkKGFbMl0pKXt2YXIgYz1hWzJdLGQ9bG8oYVsxXSwhMCk7aWYoZCl7dmFyIGU9ZC5kZXN0aW5hdGlvbklkLGY9dGQoYixudWxsKSxnPWxvKGUsZi5pc0d0bUV2ZW50KTtnJiZQcC5wdXNoKCJjb250YWluZXJfY29uZmlnIixbY10sZyxmKX19fSxkZXN0aW5hdGlvbl9jb25maWc6ZnVuY3Rpb24oYSxiKXtpZihiLmlzR3RtRXZlbnQmJiEoYi5ldmVudE1ldGFkYXRhJiZiLmV2ZW50TWV0YWRhdGFbUS5BLmViXSYmYi5ldmVudE1ldGFkYXRhW1EuQS5QYV0hPT1QaigpfHxhLmxlbmd0aCE9PTMpJiZzYihhWzFdKSYmc2QoYVsyXSkpe3ZhciBjPWFbMl0sZD1sbyhhWzFdLCEwKTtpZihkKXt2YXIgZT1kLmRlc3RpbmF0aW9uSWQsZj10ZChiLG51bGwpLGc9bG8oZSxmLmlzR3RtRXZlbnQpOwpnJiZQcC5wdXNoKCJkZXN0aW5hdGlvbl9jb25maWciLFtjXSxnLGYpfX19LGV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9YVsxXTtpZighKGEubGVuZ3RoPDIpJiZzYihjKSl7dmFyIGQ9dm9pZCAwO2lmKGEubGVuZ3RoPjIpe2lmKCFzZChhWzJdKSYmYVsyXSE9PXZvaWQgMHx8YS5sZW5ndGg+MylyZXR1cm47ZD1hWzJdfXZhciBlPVRBKGMsZCksZj10QShhLGIpLGc9Zi5ldmVudElkLGg9Zi5wcmlvcml0eUlkO2VbImd0bS51bmlxdWVFdmVudElkIl09ZztoJiYoZVsiZ3RtLnByaW9yaXR5SWQiXT1oKTtpZihjPT09Im9wdGltaXplLmNhbGxiYWNrIilyZXR1cm4gZS5ldmVudE1vZGVsPWUuZXZlbnRNb2RlbHx8e30sZTt2YXIgbD1VQShkLGIpO2lmKGwpe2Zvcih2YXIgbj1sLkFqLHA9bC5ucSxxPXAubWFwKGZ1bmN0aW9uKE8pe3JldHVybiBPLmlkfSkscj1wLm1hcChmdW5jdGlvbihPKXtyZXR1cm4gTy5kZXN0aW5hdGlvbklkfSksdT1uLm1hcChmdW5jdGlvbihPKXtyZXR1cm4gTy5pZH0pLAp0PW0oTmooKSksdj10Lm5leHQoKTshdi5kb25lO3Y9dC5uZXh0KCkpe3ZhciB4PXYudmFsdWU7ci5pbmRleE9mKHgpPDAmJnUucHVzaCh4KX16eihnLGMpO2Zvcih2YXIgeT1tKHUpLEE9eS5uZXh0KCk7IUEuZG9uZTtBPXkubmV4dCgpKXt2YXIgQz1BLnZhbHVlLEU9dGQoYixudWxsKSxIPXRkKGQsbnVsbCk7ZGVsZXRlIEhbSy5tLnpmXTt2YXIgSj1FLmV2ZW50TWV0YWRhdGF8fHt9O0ouaGFzT3duUHJvcGVydHkoUS5BLkRkKXx8KEpbUS5BLkRkXT0hRS5mcm9tQ29udGFpbmVyRXhlY3V0aW9uKTtKW1EuQS5QaV09cS5zbGljZSgpO0pbUS5BLmZnXT1yLnNsaWNlKCk7RS5ldmVudE1ldGFkYXRhPUo7T3AoYyxILEMsRSl9ZS5ldmVudE1vZGVsPWUuZXZlbnRNb2RlbHx8e307cS5sZW5ndGg+MD9lLmV2ZW50TW9kZWxbSy5tLnVkXT1xLmpvaW4oIiwiKTpkZWxldGUgZS5ldmVudE1vZGVsW0subS51ZF07dkF8fE0oNDMpO2Iubm9HdG1FdmVudD09PXZvaWQgMCYmYi5ldmVudE1ldGFkYXRhJiYKYi5ldmVudE1ldGFkYXRhW1EuQS5LbV0mJihiLm5vR3RtRXZlbnQ9ITApO2UuZXZlbnRNb2RlbFtLLm0uSGNdJiYoYi5ub0d0bUV2ZW50PSEwKTtyZXR1cm4gYi5ub0d0bUV2ZW50P3ZvaWQgMDplfX19LGdldDpmdW5jdGlvbihhLGIpe00oNTMpO2lmKGEubGVuZ3RoPT09NCYmc2IoYVsxXSkmJnNiKGFbMl0pJiZyYihhWzNdKSl7dmFyIGM9bG8oYVsxXSxiLmlzR3RtRXZlbnQpLGQ9U3RyaW5nKGFbMl0pLGU9YVszXTtpZihjKXt2QXx8TSg0Myk7dmFyIGY9dUEoKTtpZih2YihOaigpLGZ1bmN0aW9uKGgpe3JldHVybiBjLmRlc3RpbmF0aW9uSWQ9PT1ofSkpe3RBKGEsYik7dmFyIGc9e307dGQoKGdbSy5tLkRmXT1kLGdbSy5tLkNmXT1lLGcpLG51bGwpO1FwKGQsZnVuY3Rpb24oaCl7VWMoZnVuY3Rpb24oKXtlKGgpfSl9LGMuaWQsYil9ZWxzZSBTeShjLmRlc3RpbmF0aW9uSWQsZix7c291cmNlOjQsZnJvbUNvbnRhaW5lckV4ZWN1dGlvbjpiLmZyb21Db250YWluZXJFeGVjdXRpb259KX19fSwKanM6ZnVuY3Rpb24oYSxiKXtpZihhLmxlbmd0aD09PTImJmFbMV0uZ2V0VGltZSl7dkE9ITA7dmFyIGM9dEEoYSxiKSxkPWMuZXZlbnRJZCxlPWMucHJpb3JpdHlJZCxmPXt9O3JldHVybiBmLmV2ZW50PSJndG0uanMiLGZbImd0bS5zdGFydCJdPWFbMV0uZ2V0VGltZSgpLGZbImd0bS51bmlxdWVFdmVudElkIl09ZCxmWyJndG0ucHJpb3JpdHlJZCJdPWUsZn19LHBvbGljeTpmdW5jdGlvbihhKXtpZihhLmxlbmd0aD09PTMmJnNiKGFbMV0pJiZyYihhWzJdKSl7aWYoQWcoYVsxXSxhWzJdKSxNKDc0KSxhWzFdPT09ImFsbCIpe00oNzUpO3ZhciBiPSExO3RyeXtiPWFbMl0oRCg1KSwidW5rbm93biIse30pfWNhdGNoKGMpe31ifHxNKDc2KX19ZWxzZSBNKDczKX0sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwO2EubGVuZ3RoPT09MiYmc2QoYVsxXSk/Yz10ZChhWzFdLG51bGwpOmEubGVuZ3RoPT09MyYmc2IoYVsxXSkmJihjPXt9LHNkKGFbMl0pfHxBcnJheS5pc0FycmF5KGFbMl0pPwpjW2FbMV1dPXRkKGFbMl0sbnVsbCk6Y1thWzFdXT1hWzJdKTtpZihjKXt2YXIgZD10QShhLGIpLGU9ZC5ldmVudElkLGY9ZC5wcmlvcml0eUlkO3RkKGMsbnVsbCk7RCg1KTt2YXIgZz10ZChjLG51bGwpO1BwLnB1c2goInNldCIsW2ddLHZvaWQgMCxiKTtjWyJndG0udW5pcXVlRXZlbnRJZCJdPWU7ZiYmKGNbImd0bS5wcmlvcml0eUlkIl09Zik7ZGVsZXRlIGMuZXZlbnQ7Yi5vdmVyd3JpdGVNb2RlbEZpZWxkcz0hMDtyZXR1cm4gY319fSxXQT17cG9saWN5OiEwfTt2YXIgWUE9ZnVuY3Rpb24oYSl7aWYoWEEoYSkpcmV0dXJuIGE7dGhpcy52YWx1ZT1hfTtZQS5wcm90b3R5cGUuZ2V0VW50cnVzdGVkTWVzc2FnZVZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9O3ZhciBYQT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8cWQoYSkhPT0ib2JqZWN0Inx8c2QoYSk/ITE6ImdldFVudHJ1c3RlZE1lc3NhZ2VWYWx1ZSJpbiBhfTtZQS5wcm90b3R5cGUuZ2V0VW50cnVzdGVkTWVzc2FnZVZhbHVlPVlBLnByb3RvdHlwZS5nZXRVbnRydXN0ZWRNZXNzYWdlVmFsdWU7dmFyIFpBPSExLCRBPVtdO2Z1bmN0aW9uIGFCKCl7aWYoIVpBKXtaQT0hMDtmb3IodmFyIGE9MDthPCRBLmxlbmd0aDthKyspVWMoJEFbYV0pfX1mdW5jdGlvbiBiQihhKXtaQT9VYyhhKTokQS5wdXNoKGEpfTt2YXIgY0I9MCxkQj17fSxlQj1bXSxmQj1bXSxnQj0hMSxoQj0hMTtmdW5jdGlvbiBpQihhLGIpe3JldHVybiBhLm1lc3NhZ2VDb250ZXh0LmV2ZW50SWQtYi5tZXNzYWdlQ29udGV4dC5ldmVudElkfHxhLm1lc3NhZ2VDb250ZXh0LnByaW9yaXR5SWQtYi5tZXNzYWdlQ29udGV4dC5wcmlvcml0eUlkfWZ1bmN0aW9uIGpCKGEsYixjKXthLmV2ZW50Q2FsbGJhY2s9YjtjJiYoYS5ldmVudFRpbWVvdXQ9Yyk7cmV0dXJuIGtCKGEpfWZ1bmN0aW9uIGxCKGEsYil7aWYoIXRiKGIpfHxiPDApYj0wO3ZhciBjPWVvKCksZD0wLGU9ITEsZj12b2lkIDA7Zj13LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlfHwoZT0hMCxhKCkpO2Y9dm9pZCAwfSxiKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZz1jP2Muc3Vic2NyaWJlcnM6MTsrK2Q9PT1nJiYoZiYmKHcuY2xlYXJUaW1lb3V0KGYpLGY9dm9pZCAwKSxlfHwoYSgpLGU9ITApKX19CmZ1bmN0aW9uIG1CKGEpe2lmKGE9PW51bGx8fHR5cGVvZiBhIT09Im9iamVjdCIpcmV0dXJuITE7aWYoYS5ldmVudClyZXR1cm4hMDtpZihBYihhKSl7dmFyIGI9YVswXTtpZihiPT09ImNvbmZpZyJ8fGI9PT0iZXZlbnQifHxiPT09ImpzInx8Yj09PSJnZXQiKXJldHVybiEwfXJldHVybiExfQpmdW5jdGlvbiBuQigpe3ZhciBhO2lmKGZCLmxlbmd0aClhPWZCLnNoaWZ0KCk7ZWxzZSBpZihlQi5sZW5ndGgpYT1lQi5zaGlmdCgpO2Vsc2UgcmV0dXJuO3ZhciBiO3ZhciBjPWE7aWYoZ0J8fCFtQihjLm1lc3NhZ2UpKWI9YztlbHNle2dCPSEwO3ZhciBkPWMubWVzc2FnZVsiZ3RtLnVuaXF1ZUV2ZW50SWQiXSxlLGY7dHlwZW9mIGQ9PT0ibnVtYmVyIj8oZT1kLTIsZj1kLTEpOihlPWZvKCksZj1mbygpLGMubWVzc2FnZVsiZ3RtLnVuaXF1ZUV2ZW50SWQiXT1mbygpKTt2YXIgZz17fSxoPXttZXNzYWdlOihnLmV2ZW50PSJndG0uaW5pdF9jb25zZW50IixnWyJndG0udW5pcXVlRXZlbnRJZCJdPWUsZyksbWVzc2FnZUNvbnRleHQ6e2V2ZW50SWQ6ZX19LGw9e30sbj17bWVzc2FnZToobC5ldmVudD0iZ3RtLmluaXQiLGxbImd0bS51bmlxdWVFdmVudElkIl09ZixsKSxtZXNzYWdlQ29udGV4dDp7ZXZlbnRJZDpmfX07ZUIudW5zaGlmdChuLGMpO2I9aH1yZXR1cm4gYn0KZnVuY3Rpb24gb0IoKXtmb3IodmFyIGE9ITEsYjshaEImJihiPW5CKCkpOyl7aEI9ITA7ZGVsZXRlIGlwLmV2ZW50TW9kZWw7a3AoKTt2YXIgYz1iLGQ9Yy5tZXNzYWdlLGU9Yy5tZXNzYWdlQ29udGV4dDtpZihkPT1udWxsKWhCPSExO2Vsc2V7ZS5mcm9tQ29udGFpbmVyRXhlY3V0aW9uJiZwcCgpO3RyeXtpZihyYihkKSl0cnl7ZC5jYWxsKG1wKX1jYXRjaChIKXt9ZWxzZSBpZihBcnJheS5pc0FycmF5KGQpKXtpZihzYihkWzBdKSl7dmFyIGY9ZFswXS5zcGxpdCgiLiIpLGc9Zi5wb3AoKSxoPWQuc2xpY2UoMSksbD1scChmLmpvaW4oIi4iKSwyKTtpZihsIT1udWxsKXRyeXtsW2ddLmFwcGx5KGwsaCl9Y2F0Y2goSCl7fX19ZWxzZXt2YXIgbj12b2lkIDA7aWYoQWIoZCkpYTp7aWYoZC5sZW5ndGgmJnNiKGRbMF0pKXt2YXIgcD1WQVtkWzBdXTtpZihwJiYoIWUuZnJvbUNvbnRhaW5lckV4ZWN1dGlvbnx8IVdBW2RbMF1dKSl7bj1wKGQsZSk7YnJlYWsgYX19bj12b2lkIDB9ZWxzZSBuPQpkO2lmKG4pe3ZhciBxO2Zvcih2YXIgcj1uLHU9ci5fY2xlYXJ8fGUub3ZlcndyaXRlTW9kZWxGaWVsZHMsdD1tKE9iamVjdC5rZXlzKHIpKSx2PXQubmV4dCgpOyF2LmRvbmU7dj10Lm5leHQoKSl7dmFyIHg9di52YWx1ZTt4IT09Il9jbGVhciImJih1JiZvcCh4KSxvcCh4LHJbeF0pKX1ianx8KGJqPXJbImd0bS5zdGFydCJdKTt2YXIgeT1yWyJndG0udW5pcXVlRXZlbnRJZCJdO3IuZXZlbnQ/KHR5cGVvZiB5IT09Im51bWJlciImJih5PWZvKCksclsiZ3RtLnVuaXF1ZUV2ZW50SWQiXT15LG9wKCJndG0udW5pcXVlRXZlbnRJZCIseSkpLHE9ZkEocikpOnE9ITE7YT1xfHxhfX19ZmluYWxseXtlLmZyb21Db250YWluZXJFeGVjdXRpb24mJmtwKCEwKTt2YXIgQT1kWyJndG0udW5pcXVlRXZlbnRJZCJdO2lmKHR5cGVvZiBBPT09Im51bWJlciIpe2Zvcih2YXIgQz1kQltTdHJpbmcoQSldfHxbXSxFPTA7RTxDLmxlbmd0aDtFKyspZkIucHVzaChwQihDW0VdKSk7Qy5sZW5ndGgmJmZCLnNvcnQoaUIpOwpkZWxldGUgZEJbU3RyaW5nKEEpXTtBPmNCJiYoY0I9QSl9aEI9ITF9fX1yZXR1cm4hYX0KZnVuY3Rpb24gcUIoKXtpZihQKDEwOSkpe3ZhciBhPSFrZyg1MSk7fXZhciBjPW9CKCk7aWYoUCgxMDkpKXt9dHJ5e3ZhciBlPXdbRCgxOSldLGY9RCg1KSxnPWUuaGlkZTtpZihnJiZnW2ZdIT09dm9pZCAwJiYKZy5lbmQpe2dbZl09ITE7dmFyIGg9ITAsbDtmb3IobCBpbiBnKWlmKGcuaGFzT3duUHJvcGVydHkobCkmJmdbbF09PT0hMCl7aD0hMTticmVha31oJiYoZy5lbmQoKSxnLmVuZD1udWxsKX19Y2F0Y2gobil7RCg1KX1yZXR1cm4gY31mdW5jdGlvbiBHQShhKXtpZihjQjxhLm5vdEJlZm9yZUV2ZW50SWQpe3ZhciBiPVN0cmluZyhhLm5vdEJlZm9yZUV2ZW50SWQpO2RCW2JdPWRCW2JdfHxbXTtkQltiXS5wdXNoKGEpfWVsc2UgZkIucHVzaChwQihhKSksZkIuc29ydChpQiksVWMoZnVuY3Rpb24oKXtoQnx8b0IoKX0pfWZ1bmN0aW9uIHBCKGEpe3JldHVybnttZXNzYWdlOmEubWVzc2FnZSxtZXNzYWdlQ29udGV4dDphLm1lc3NhZ2VDb250ZXh0fX0KZnVuY3Rpb24gckIoKXtmdW5jdGlvbiBhKGYpe3ZhciBnPXt9O2lmKFhBKGYpKXt2YXIgaD1mO2Y9WEEoaCk/aC5nZXRVbnRydXN0ZWRNZXNzYWdlVmFsdWUoKTp2b2lkIDA7Zy5mcm9tQ29udGFpbmVyRXhlY3V0aW9uPSEwfXJldHVybnttZXNzYWdlOmYsbWVzc2FnZUNvbnRleHQ6Z319dmFyIGI9RmMoRCgxOSksW10pLGM9Y28oKTtjLnBydW5lZD09PSEwJiZNKDgzKTtkQj1FQSgpLmdldCgpO0ZBKCk7c0EoZnVuY3Rpb24oKXtpZighYy5ndG1Eb20pe2MuZ3RtRG9tPSEwO3ZhciBmPXt9O2IucHVzaCgoZi5ldmVudD0iZ3RtLmRvbSIsZikpfX0pO2JCKGZ1bmN0aW9uKCl7aWYoIWMuZ3RtTG9hZCl7Yy5ndG1Mb2FkPSEwO3ZhciBmPXt9O2IucHVzaCgoZi5ldmVudD0iZ3RtLmxvYWQiLGYpKX19KTtjLnN1YnNjcmliZXJzPShjLnN1YnNjcmliZXJzfHwwKSsxO3ZhciBkPWIucHVzaDtiLnB1c2g9ZnVuY3Rpb24oKXt2YXIgZjtpZihabi5TQU5EQk9YRURfSlNfU0VNQVBIT1JFPjApe2Y9CltdO2Zvcih2YXIgZz0wO2c8YXJndW1lbnRzLmxlbmd0aDtnKyspZltnXT1uZXcgWUEoYXJndW1lbnRzW2ddKX1lbHNlIGY9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7dmFyIGg9Zi5tYXAoZnVuY3Rpb24ocSl7cmV0dXJuIGEocSl9KTtlQi5wdXNoLmFwcGx5KGVCLGgpO3ZhciBsPWQuYXBwbHkoYixmKSxuPU1hdGgubWF4KDEwMCxwZygxLDMwMCkpO2lmKHRoaXMubGVuZ3RoPm4pZm9yKE0oNCksYy5wcnVuZWQ9ITA7dGhpcy5sZW5ndGg+bjspdGhpcy5zaGlmdCgpO3ZhciBwPXR5cGVvZiBsIT09ImJvb2xlYW4ifHxsO3JldHVybiBvQigpJiZwfTt2YXIgZT1iLnNsaWNlKDApLm1hcChmdW5jdGlvbihmKXtyZXR1cm4gYShmKX0pO2VCLnB1c2guYXBwbHkoZUIsZSk7aWYoIWtnKDUxKSl7aWYoUCgxMDkpKXt9VWMocUIpfX0KdmFyIGtCPWZ1bmN0aW9uKGEpe3JldHVybiB3W0QoMTkpXS5wdXNoKGEpfTtmdW5jdGlvbiBzQihhKXtrQihhKX07ZnVuY3Rpb24gdEIoKXt2YXIgYSxiPXBqKHcubG9jYXRpb24uaHJlZik7KGE9Yi5ob3N0bmFtZStiLnBhdGhuYW1lKSYmbGsoImRsIixlbmNvZGVVUklDb21wb25lbnQoYSkpO3ZhciBjO3ZhciBkPUQoNSk7aWYoZCl7dmFyIGU9a2coNyk/MTowLGY9WmooKSxnPWYmJmYuZnJvbUNvbnRhaW5lckV4ZWN1dGlvbj8xOjAsaD1mJiZmLnNvdXJjZXx8MCxsPUQoNik7Yz1kKyI7IitsKyI7IitnKyI7IitoKyI7IitlfWVsc2UgYz12b2lkIDA7dmFyIG49YztuJiZsaygidGRwIixuKTt2YXIgcD1ncSghMCk7cCE9PXZvaWQgMCYmbGsoImZybSIsU3RyaW5nKHApKX07dmFyIHVCPXdrKCksdkI9dm9pZCAwO2Z1bmN0aW9uIHdCKGEpe3JldHVybiB5ayhhLGZ1bmN0aW9uKGIpe3JldHVybiBiLmpiPjA/U3RyaW5nKGIuamIpOnZvaWQgMH0pfWZ1bmN0aW9uIHhCKCl7aWYodm4oKXx8TmspbGsoImNzcCIsZnVuY3Rpb24oKXt2YXIgYT13Qih1Qik7emsodUIpO3JldHVybiBhfSwhMSksbGsoIm1kZSIsZnVuY3Rpb24oKXt2YXIgYT13QihCayk7emsoQmspO3JldHVybiBhfSwhMSksdy5hZGRFdmVudExpc3RlbmVyKCJzZWN1cml0eXBvbGljeXZpb2xhdGlvbiIseUIpfQpmdW5jdGlvbiB5QihhKXtpZihhLmRpc3Bvc2l0aW9uPT09ImVuZm9yY2UiKXtNKDE3OSk7dmFyIGI9SGsoYS5lZmZlY3RpdmVEaXJlY3RpdmUpO2lmKGIpe3ZhciBjO3ZhciBkPUZrKGIsYS5ibG9ja2VkVVJJKTtjPWQ/RGtbYl1bZF06dm9pZCAwO2lmKGMpe3ZhciBlO2E6e3RyeXt2YXIgZj1uZXcgVVJMKGEuYmxvY2tlZFVSSSksZz1mLnBhdGhuYW1lLmluZGV4T2YoIjsiKTtlPWc+PTA/Zi5vcmlnaW4rZi5wYXRobmFtZS5zdWJzdHJpbmcoMCxnKTpmLm9yaWdpbitmLnBhdGhuYW1lO2JyZWFrIGF9Y2F0Y2godil7fWU9dm9pZCAwfXZhciBoPWU7aWYoaCl7Zm9yKHZhciBsPW0oYyksbj1sLm5leHQoKTshbi5kb25lO249bC5uZXh0KCkpe3ZhciBwPW4udmFsdWU7aWYoIXAuQ24pe3AuQ249ITA7dmFyIHE9e2V2ZW50SWQ6cC5ldmVudElkLHByaW9yaXR5SWQ6cC5wcmlvcml0eUlkfTtpZih2bigpKXt2YXIgcj1xLHU9e3R5cGU6MSxibG9ja2VkVXJsOmgsZW5kcG9pbnQ6cC5lbmRwb2ludCwKdmlvbGF0aW9uOmEuZWZmZWN0aXZlRGlyZWN0aXZlfTtpZih2bigpKXt2YXIgdD1CbigiVEFHX0RJQUdOT1NUSUNTIix7ZXZlbnRJZDpyPT1udWxsP3ZvaWQgMDpyLmV2ZW50SWQscHJpb3JpdHlJZDpyPT1udWxsP3ZvaWQgMDpyLnByaW9yaXR5SWR9KTt0LnRhZ0RpYWdub3N0aWNzPXU7dW4odCl9fXpCKHAuZGVzdGluYXRpb25JZCxwLmVuZHBvaW50KX19R2soYixhLmJsb2NrZWRVUkkpfX19fX1mdW5jdGlvbiB6QihhLGIpe0FrKHVCLGEsYik7bWsoImNzcCIsITApO21rKCJtZGUiLCEwKTtiIT09NjEmJmIhPT01NiYmdkI9PT12b2lkIDAmJih2Qj13LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt1Qi5qYj4wJiZzbSghMSk7dkI9dm9pZCAwfSw1MDApKX07dmFyIEFCPXZvaWQgMDtmdW5jdGlvbiBCQigpe1AoMjM2KSYmdy5hZGRFdmVudExpc3RlbmVyKCJwYWdlc2hvdyIsZnVuY3Rpb24oYSl7YSYmKGxrKCJiZmMiLGZ1bmN0aW9uKCl7cmV0dXJuIEFCPyIxIjoiMCJ9KSxhLnBlcnNpc3RlZD8oQUI9ITAsbWsoImJmYyIsITApLHNtKCkpOkFCPSExKX0pfTtmdW5jdGlvbiBDQigpe3ZhciBhO3ZhciBiPVJqKCk7aWYoYilpZihiLmNhbm9uaWNhbENvbnRhaW5lcklkKWE9Yi5jYW5vbmljYWxDb250YWluZXJJZDtlbHNle3ZhciBjLGQ9Yi5zY3JpcHRDb250YWluZXJJZHx8KChjPWIuZGVzdGluYXRpb25zKT09bnVsbD92b2lkIDA6Y1swXSk7YT1kPyJfIitkOnZvaWQgMH1lbHNlIGE9dm9pZCAwO3ZhciBlPWE7ZSYmbGsoInBjaWQiLGUpfTt2YXIgREI9e30sRUI9KERCWzFdPWZ1bmN0aW9uKCl7cmV0dXJuIHcuZmV0Y2h9LERCWzJdPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tfSxEQlszXT1mdW5jdGlvbigpe3JldHVybiBCYy5zZW5kQmVhY29ufSxEQls0XT1mdW5jdGlvbigpe3JldHVybiB3LlhNTEh0dHBSZXF1ZXN0fSxEQik7ZnVuY3Rpb24gRkIoKXtpZihQKDQwOSkpe2Zvcih2YXIgYT1bXSxiPW0oT2JqZWN0LmtleXMoRUIpKSxjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSl7dmFyIGQ9Yy52YWx1ZSxlPUVCW2RdKCksZjtpZighKGY9dHlwZW9mIGUhPT0iZnVuY3Rpb24iKSl7dmFyIGc9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk7Zj1NYihnLCJ7IFtuYXRpdmUgY29kZV0gfSIpfHxNYihnLCJ7XG4gICAgW25hdGl2ZSBjb2RlXVxufSIpfWZ8fGEucHVzaChkKX1hLmxlbmd0aD4wJiZsaygianNwIixhLmpvaW4oIn4iKSl9fTt2YXIgR0I9L14oaHR0cHM/Oik/XC9cLy87CmZ1bmN0aW9uIEhCKCl7dmFyIGE9VWooKTtpZihhKXt2YXIgYjthOnt2YXIgYyxkPShjPWEuc2NyaXB0RWxlbWVudCk9PW51bGw/dm9pZCAwOmMuc3JjO2lmKGQpe3ZhciBlO3RyeXt2YXIgZjtlPShmPWhkKCkpPT1udWxsP3ZvaWQgMDpmLmdldEVudHJpZXNCeVR5cGUoInJlc291cmNlIil9Y2F0Y2gocSl7fWlmKGUpe2Zvcih2YXIgZz0tMSxoPW0oZSksbD1oLm5leHQoKTshbC5kb25lO2w9aC5uZXh0KCkpe3ZhciBuPWwudmFsdWU7aWYobi5pbml0aWF0b3JUeXBlPT09InNjcmlwdCImJihnKz0xLG4ubmFtZS5yZXBsYWNlKEdCLCIiKT09PWQucmVwbGFjZShHQiwiIikpKXtiPWc7YnJlYWsgYX19TSgxNDYpfWVsc2UgTSgxNDUpfWI9dm9pZCAwfXZhciBwPWI7cCE9PXZvaWQgMCYmKGEuY2Fub25pY2FsQ29udGFpbmVySWQmJmxrKCJydGciLFN0cmluZyhhLmNhbm9uaWNhbENvbnRhaW5lcklkKSksbGsoInNsbyIsU3RyaW5nKHApKSxsaygiaGxvIixhLmh0bWxMb2FkT3JkZXJ8fCItMSIpLApsaygibHN0IixTdHJpbmcoYS5sb2FkU2NyaXB0VHlwZXx8IjAiKSkpfWVsc2UgTSgxNDQpfTsKCmZ1bmN0aW9uIGJDKCl7fTt2YXIgY0M9ZnVuY3Rpb24oKXt9O2NDLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQifTt2YXIgZEM9bmV3IGNDO3ZhciBrQz17fTtmdW5jdGlvbiBsQyhhKXtMayYmKGtDW2FdPShrQ1thXXx8MCkrMSl9ZnVuY3Rpb24gbUMoKXt2YXIgYT1bXTtrQ1sxXSYmYS5wdXNoKCIxLiIra0NbMV0pO2tDWzJdJiZhLnB1c2goIjIuIitrQ1syXSk7a0NbM10mJmEucHVzaCgiMy4iK2tDWzNdKTtyZXR1cm4gYS5sZW5ndGg/W1sib2RwIixhLmpvaW4oIn4iKV1dOltdfTtmdW5jdGlvbiBuQygpeyhQKDIxMil8fFAoNDA1KSkmJkQoNSkuaW5kZXhPZigiR1RNLSIpIT09MCYmKEN4KCJkZXRlY3RfbGlua19jbGlja19ldmVudHMiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jLm9wdGlvbnM7cmV0dXJuIFAoNDA1KT8oKGQ9PW51bGw/dm9pZCAwOmQud2FpdEZvclRhZ3MpPT09ITAmJmxDKDEpLCEwKTooZD09bnVsbD92b2lkIDA6ZC53YWl0Rm9yVGFncykhPT0hMH0pLEN4KCJkZXRlY3RfZm9ybV9zdWJtaXRfZXZlbnRzIixmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yy5vcHRpb25zO3JldHVybiBQKDQwNSk/KChkPT1udWxsP3ZvaWQgMDpkLndhaXRGb3JUYWdzKT09PSEwJiZsQygyKSwhMCk6KGQ9PW51bGw/dm9pZCAwOmQud2FpdEZvclRhZ3MpIT09ITB9KSxDeCgiZGV0ZWN0X3lvdXR1YmVfYWN0aXZpdHlfZXZlbnRzIixmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yy5vcHRpb25zO3JldHVybiBQKDQwNSk/KChkPT1udWxsP3ZvaWQgMDpkLmZpeE1pc3NpbmdBcGkpPT09CiEwJiZsQygzKSwhMCk6KGQ9PW51bGw/dm9pZCAwOmQuZml4TWlzc2luZ0FwaSkhPT0hMH0pKTsoUCgyMTIpfHxQKDQwNykpJiZaaSYmT3ooUGooKSxmdW5jdGlvbihhKXt2YXIgYixjLGQ7Yj1hLmVudGl0eUlkO2M9YS5zZWN1cml0eUdyb3VwcztkPWEub3JpZ2luYWxFdmVudERhdGE7dmFyIGU9Il9fIitiLGY9Y3ooZSw1KXx8ISghVmZbZV18fCFWZltlXVs1XSl8fGMuaW5jbHVkZXMoImNtcFBhcnRuZXJzIik7cmV0dXJuIFAoNDA3KT8oZnx8TGsmJkp6KE51bWJlcihkWyJndG0udW5pcXVlRXZlbnRJZCJdKSxiLCJyIiksITApOmZ9KX07ZnVuY3Rpb24gb0MoYSxiKXtmdW5jdGlvbiBjKGcpe3ZhciBoPXBqKGcpLGw9amooaCwicHJvdG9jb2wiKSxuPWpqKGgsImhvc3QiLCEwKSxwPWpqKGgsInBvcnQiKSxxPWpqKGgsInBhdGgiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1wvJC8sIiIpO2lmKGw9PT12b2lkIDB8fGw9PT0iaHR0cCImJnA9PT0iODAifHxsPT09Imh0dHBzIiYmcD09PSI0NDMiKWw9IndlYiIscD0iZGVmYXVsdCI7cmV0dXJuW2wsbixwLHFdfWZvcih2YXIgZD1jKFN0cmluZyhhKSksZT1jKFN0cmluZyhiKSksZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0hPT1lW2ZdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHBDKGEpe3JldHVybiBxQyhhKT8xOjB9CmZ1bmN0aW9uIHFDKGEpe3ZhciBiPWEuYXJnMCxjPWEuYXJnMTtpZihhLmFueV9vZiYmQXJyYXkuaXNBcnJheShjKSl7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPXRkKGEse30pO3RkKHthcmcxOmNbZF0sYW55X29mOnZvaWQgMH0sZSk7aWYocEMoZSkpcmV0dXJuITB9cmV0dXJuITF9c3dpdGNoKGFbImZ1bmN0aW9uIl0pe2Nhc2UgIl9jbiI6cmV0dXJuIGdoKGIsYyk7Y2FzZSAiX2NzcyI6dmFyIGY7YTp7aWYoYil0cnl7Zm9yKHZhciBnPTA7ZzxiaC5sZW5ndGg7ZysrKXt2YXIgaD1iaFtnXTtpZihiW2hdIT1udWxsKXtmPWJbaF0oYyk7YnJlYWsgYX19fWNhdGNoKGwpe31mPSExfXJldHVybiBmO2Nhc2UgIl9ldyI6cmV0dXJuIGNoKGIsYyk7Y2FzZSAiX2VxIjpyZXR1cm4gaGgoYixjKTtjYXNlICJfZ2UiOnJldHVybiBpaChiLGMpO2Nhc2UgIl9ndCI6cmV0dXJuIGtoKGIsYyk7Y2FzZSAiX2xjIjpyZXR1cm4gZGgoYixjKTtjYXNlICJfbGUiOnJldHVybiBqaChiLApjKTtjYXNlICJfbHQiOnJldHVybiBsaChiLGMpO2Nhc2UgIl9yZSI6cmV0dXJuIGZoKGIsYyxhLmlnbm9yZV9jYXNlKTtjYXNlICJfc3ciOnJldHVybiBtaChiLGMpO2Nhc2UgIl91bSI6cmV0dXJuIG9DKGIsYyl9cmV0dXJuITF9O3ZhciByQz1mdW5jdGlvbigpe3RoaXMuQz10aGlzLmdwcFN0cmluZz12b2lkIDB9O3JDLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuQz10aGlzLmdwcFN0cmluZz12b2lkIDB9O3ZhciBzQz1uZXcgckM7WzIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMl0ucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0pO1syLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyXS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStifSk7WzIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDJdLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9KTtbMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyXS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStifSk7WzIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMl0ucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0pO1syLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDJdLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9KTt2YXIgdEM9ZnVuY3Rpb24oYSxiLGMsZCl7bnEuY2FsbCh0aGlzKTt0aGlzLkJoPWI7dGhpcy5jZz1jO3RoaXMuUmM9ZDt0aGlzLnliPW5ldyBNYXA7dGhpcy5DaD0wO3RoaXMuc2E9bmV3IE1hcDt0aGlzLm5iPW5ldyBNYXA7dGhpcy5WPXZvaWQgMDt0aGlzLkg9YX07d2EodEMsbnEpO3RDLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuQzt0aGlzLnliLmNsZWFyKCk7dGhpcy5zYS5jbGVhcigpO3RoaXMubmIuY2xlYXIoKTt0aGlzLlYmJihqcSh0aGlzLkgsIm1lc3NhZ2UiLHRoaXMuViksZGVsZXRlIHRoaXMuVik7ZGVsZXRlIHRoaXMuSDtkZWxldGUgdGhpcy5SYztucS5wcm90b3R5cGUuUC5jYWxsKHRoaXMpfTsKdmFyIHVDPWZ1bmN0aW9uKGEpe2lmKGEuQylyZXR1cm4gYS5DO2EuY2cmJmEuY2coYS5IKT9hLkM9YS5IOmEuQz1mcShhLkgsYS5CaCk7dmFyIGI7cmV0dXJuKGI9YS5DKSE9bnVsbD9iOm51bGx9LHdDPWZ1bmN0aW9uKGEsYixjKXtpZih1QyhhKSlpZihhLkM9PT1hLkgpe3ZhciBkPWEueWIuZ2V0KGIpO2QmJmQoYS5DLGMpfWVsc2V7dmFyIGU9YS5zYS5nZXQoYik7aWYoZSYmZS56ail7dkMoYSk7dmFyIGY9KythLkNoO2EubmIuc2V0KGYse1JoOmUuUmgsR3E6ZS5vbihjKSxwZXJzaXN0ZW50OmI9PT0iYWRkRXZlbnRMaXN0ZW5lciJ9KTthLkMucG9zdE1lc3NhZ2UoZS56aihjLGYpLCIqIil9fX0sdkM9ZnVuY3Rpb24oYSl7YS5WfHwoYS5WPWZ1bmN0aW9uKGIpe3RyeXt2YXIgYztjPWEuUmM/YS5SYyhiKTp2b2lkIDA7aWYoYyl7dmFyIGQ9Yy5LcixlPWEubmIuZ2V0KGQpO2lmKGUpe2UucGVyc2lzdGVudHx8YS5uYi5kZWxldGUoZCk7dmFyIGY7KGY9ZS5SaCk9PW51bGx8fGYuY2FsbChlLAplLkdxLGMucGF5bG9hZCl9fX1jYXRjaChnKXt9fSxpcShhLkgsIm1lc3NhZ2UiLGEuVikpfTt2YXIgeEM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmxpc3RlbmVyLGQ9KDAsYS5fX2dwcCkoImFkZEV2ZW50TGlzdGVuZXIiLGMpO2QmJmMoZCwhMCl9LHlDPWZ1bmN0aW9uKGEsYil7KDAsYS5fX2dwcCkoInJlbW92ZUV2ZW50TGlzdGVuZXIiLGIubGlzdGVuZXIsYi5saXN0ZW5lcklkKX0sekM9e29uOmZ1bmN0aW9uKGEpe3JldHVybiBhLmxpc3RlbmVyfSx6ajpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3JldHVybiBjLl9fZ3BwQ2FsbD17Y2FsbElkOmIsY29tbWFuZDoiYWRkRXZlbnRMaXN0ZW5lciIsdmVyc2lvbjoiMS4xIn0sY30sUmg6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLl9fZ3BwUmV0dXJuO2EoYy5yZXR1cm5WYWx1ZSxjLnN1Y2Nlc3MpfX0sQUM9e29uOmZ1bmN0aW9uKGEpe3JldHVybiBhLmxpc3RlbmVyfSx6ajpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3JldHVybiBjLl9fZ3BwQ2FsbD17Y2FsbElkOmIsY29tbWFuZDoicmVtb3ZlRXZlbnRMaXN0ZW5lciIsdmVyc2lvbjoiMS4xIiwKcGFyYW1ldGVyOmEubGlzdGVuZXJJZH0sY30sUmg6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLl9fZ3BwUmV0dXJuLGQ9Yy5yZXR1cm5WYWx1ZS5kYXRhO2E9PW51bGx8fGEoZCxjLnN1Y2Nlc3MpfX07ZnVuY3Rpb24gQkMoYSl7dmFyIGI9e307dHlwZW9mIGEuZGF0YT09PSJzdHJpbmciP2I9SlNPTi5wYXJzZShhLmRhdGEpOmI9YS5kYXRhO3JldHVybntwYXlsb2FkOmIsS3I6Yi5fX2dwcFJldHVybi5jYWxsSWR9fQp2YXIgQ0M9ZnVuY3Rpb24oYSxiKXt2YXIgYztjPShiPT09dm9pZCAwP3t9OmIpLnRpbWVvdXRNcztucS5jYWxsKHRoaXMpO3RoaXMuY2FsbGVyPW5ldyB0QyhhLCJfX2dwcExvY2F0b3IiLGZ1bmN0aW9uKGQpe3JldHVybiB0eXBlb2YgZC5fX2dwcD09PSJmdW5jdGlvbiJ9LEJDKTt0aGlzLmNhbGxlci55Yi5zZXQoImFkZEV2ZW50TGlzdGVuZXIiLHhDKTt0aGlzLmNhbGxlci5zYS5zZXQoImFkZEV2ZW50TGlzdGVuZXIiLHpDKTt0aGlzLmNhbGxlci55Yi5zZXQoInJlbW92ZUV2ZW50TGlzdGVuZXIiLHlDKTt0aGlzLmNhbGxlci5zYS5zZXQoInJlbW92ZUV2ZW50TGlzdGVuZXIiLEFDKTt0aGlzLnRpbWVvdXRNcz1jIT1udWxsP2M6NTAwfTt3YShDQyxucSk7Q0MucHJvdG90eXBlLlA9ZnVuY3Rpb24oKXt0aGlzLmNhbGxlci5kaXNwb3NlKCk7bnEucHJvdG90eXBlLlAuY2FsbCh0aGlzKX07CkNDLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1kcShmdW5jdGlvbigpe2EoREMsITApfSksZD10aGlzLnRpbWVvdXRNcz09PS0xP3ZvaWQgMDpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YygpfSx0aGlzLnRpbWVvdXRNcyk7d0ModGhpcy5jYWxsZXIsImFkZEV2ZW50TGlzdGVuZXIiLHtsaXN0ZW5lcjpmdW5jdGlvbihlLGYpe2NsZWFyVGltZW91dChkKTt0cnl7dmFyIGc7dmFyIGg7KChoPWUucGluZ0RhdGEpPT1udWxsP3ZvaWQgMDpoLmdwcFZlcnNpb24pPT09dm9pZCAwfHxlLnBpbmdEYXRhLmdwcFZlcnNpb249PT0iMSJ8fGUucGluZ0RhdGEuZ3BwVmVyc2lvbj09PSIxLjAiPyhiLnJlbW92ZUV2ZW50TGlzdGVuZXIoZS5saXN0ZW5lcklkKSxnPXtldmVudE5hbWU6InNpZ25hbFN0YXR1cyIsZGF0YToicmVhZHkiLHBpbmdEYXRhOntpbnRlcm5hbEVycm9yU3RhdGU6MSxncHBTdHJpbmc6IkdQUF9FUlJPUl9TVFJJTkdfSVNfREVQUkVDQVRFRF9TUEVDIiwKYXBwbGljYWJsZVNlY3Rpb25zOlstMV19fSk6QXJyYXkuaXNBcnJheShlLnBpbmdEYXRhLmFwcGxpY2FibGVTZWN0aW9ucyk/Zz1lOihiLnJlbW92ZUV2ZW50TGlzdGVuZXIoZS5saXN0ZW5lcklkKSxnPXtldmVudE5hbWU6InNpZ25hbFN0YXR1cyIsZGF0YToicmVhZHkiLHBpbmdEYXRhOntpbnRlcm5hbEVycm9yU3RhdGU6MixncHBTdHJpbmc6IkdQUF9FUlJPUl9TVFJJTkdfRVhQRUNURURfQVBQTElDQVRJT05fU0VDVElPTl9BUlJBWSIsYXBwbGljYWJsZVNlY3Rpb25zOlstMV19fSk7YShnLGYpfWNhdGNoKGwpe2lmKGU9PW51bGw/MDplLmxpc3RlbmVySWQpdHJ5e2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLmxpc3RlbmVySWQpfWNhdGNoKG4pe2EoRUMsITApO3JldHVybn1hKEZDLCEwKX19fSl9OwpDQy5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhKXt3Qyh0aGlzLmNhbGxlciwicmVtb3ZlRXZlbnRMaXN0ZW5lciIse2xpc3RlbmVyOmZ1bmN0aW9uKCl7fSxsaXN0ZW5lcklkOmF9KX07CnZhciBGQz17ZXZlbnROYW1lOiJzaWduYWxTdGF0dXMiLGRhdGE6InJlYWR5IixwaW5nRGF0YTp7aW50ZXJuYWxFcnJvclN0YXRlOjIsZ3BwU3RyaW5nOiJHUFBfRVJST1JfU1RSSU5HX1VOQVZBSUxBQkxFIixhcHBsaWNhYmxlU2VjdGlvbnM6Wy0xXX0sbGlzdGVuZXJJZDotMX0sREM9e2V2ZW50TmFtZToic2lnbmFsU3RhdHVzIixkYXRhOiJyZWFkeSIscGluZ0RhdGE6e2dwcFN0cmluZzoiR1BQX0VSUk9SX1NUUklOR19MSVNURU5FUl9SRUdJU1RSQVRJT05fVElNRU9VVCIsaW50ZXJuYWxFcnJvclN0YXRlOjIsYXBwbGljYWJsZVNlY3Rpb25zOlstMV19LGxpc3RlbmVySWQ6LTF9LEVDPXtldmVudE5hbWU6InNpZ25hbFN0YXR1cyIsZGF0YToicmVhZHkiLHBpbmdEYXRhOntncHBTdHJpbmc6IkdQUF9FUlJPUl9TVFJJTkdfUkVNT1ZFX0VWRU5UX0xJU1RFTkVSX0VSUk9SIixpbnRlcm5hbEVycm9yU3RhdGU6MixhcHBsaWNhYmxlU2VjdGlvbnM6Wy0xXX0sbGlzdGVuZXJJZDotMX07ZnVuY3Rpb24gR0MoYSl7dmFyIGI7aWYoIShiPWEucGluZ0RhdGEuc2lnbmFsU3RhdHVzPT09InJlYWR5Iikpe3ZhciBjPWEucGluZ0RhdGEuYXBwbGljYWJsZVNlY3Rpb25zO2I9IWN8fGMubGVuZ3RoPT09MSYmY1swXT09PS0xfWlmKGIpe3NDLmdwcFN0cmluZz1hLnBpbmdEYXRhLmdwcFN0cmluZzt2YXIgZD1hLnBpbmdEYXRhLmFwcGxpY2FibGVTZWN0aW9ucy5qb2luKCIsIik7c0MuQz1kfX1mdW5jdGlvbiBIQygpe3RyeXt2YXIgYT1uZXcgQ0Modyx7dGltZW91dE1zOi0xfSk7dUMoYS5jYWxsZXIpJiZhLmFkZEV2ZW50TGlzdGVuZXIoR0MpfWNhdGNoKGIpe319O2Z1bmN0aW9uIElDKCl7dmFyIGE9W1siY3YiLEQoMSldLFsicnYiLEQoMTQpXSxbInRjIixUZi5maWx0ZXIoZnVuY3Rpb24oYyl7cmV0dXJuIGN9KS5sZW5ndGhdXSxiPWxnKDE1KTtiJiZhLnB1c2goWyJ4IixiXSk7b2soKSYmYS5wdXNoKFsidGFnX2V4cCIsb2soKV0pO3JldHVybiBhfTt2YXIgSkM9e30sS0M9e307ZnVuY3Rpb24gTEMoYSl7dmFyIGI9YS5ldmVudElkLGM9YS5ZZCxkPVtdLGU9SkNbYl18fFtdO2UubGVuZ3RoJiZkLnB1c2goWyJoZiIsZS5qb2luKCIuIildKTt2YXIgZj1LQ1tiXXx8W107Zi5sZW5ndGgmJmQucHVzaChbImh0IixmLmpvaW4oIi4iKV0pO2MmJihkZWxldGUgSkNbYl0sZGVsZXRlIEtDW2JdKTtyZXR1cm4gZH07ZnVuY3Rpb24gTUMoKXtyZXR1cm4hMX1mdW5jdGlvbiBOQygpe3ZhciBhPXt9O3JldHVybiBmdW5jdGlvbihiLGMsZCl7fX07ZnVuY3Rpb24gT0MoKXt2YXIgYT1QQztyZXR1cm4gZnVuY3Rpb24oYixjLGQpe3ZhciBlPWQmJmQuZXZlbnQ7UUMoYyk7dmFyIGY9U2goYik/dm9pZCAwOjEsZz1uZXcgYmI7emIoYyxmdW5jdGlvbihyLHUpe3ZhciB0PUlkKHUsdm9pZCAwLGYpO3Q9PT12b2lkIDAmJnUhPT12b2lkIDAmJk0oNDQpO2cuc2V0KHIsdCl9KTthLlJiKHNnKCkpO3ZhciBoPXtZbTpHZyhiKSxldmVudElkOmU9PW51bGw/dm9pZCAwOmUuaWQscHJpb3JpdHlJZDplIT09dm9pZCAwP2UucHJpb3JpdHlJZDp2b2lkIDAsaWc6ZSE9PXZvaWQgMD9mdW5jdGlvbihyKXtlLlVjLmlnKHIpfTp2b2lkIDAsT2I6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sbG9nOmZ1bmN0aW9uKCl7fSxNcTp7aW5kZXg6ZD09bnVsbD92b2lkIDA6ZC5pbmRleCx0eXBlOmQ9PW51bGw/dm9pZCAwOmQudHlwZSxuYW1lOmQ9PW51bGw/dm9pZCAwOmQubmFtZX0sU3I6ISFjeihiLDMpLG9yaWdpbmFsRXZlbnREYXRhOmU9PW51bGw/dm9pZCAwOmUub3JpZ2luYWxFdmVudERhdGF9OwplJiZlLmNhY2hlZE1vZGVsVmFsdWVzJiYoaC5jYWNoZWRNb2RlbFZhbHVlcz17Z3RtOmUuY2FjaGVkTW9kZWxWYWx1ZXMuZ3RtLGVjb21tZXJjZTplLmNhY2hlZE1vZGVsVmFsdWVzLmVjb21tZXJjZX0pO2lmKE1DKCkpe3ZhciBsPU5DKCksbixwO2guc2I9e09qOltdLGpnOnt9LGpjOmZ1bmN0aW9uKHIsdSx0KXt1PT09MSYmKG49cik7dT09PTcmJihwPXQpO2wocix1LHQpfSxRaDpsaSgpfTtoLmxvZz1mdW5jdGlvbihyKXt2YXIgdT1EYS5hcHBseSgxLGFyZ3VtZW50cyk7biYmbChuLDQse2xldmVsOnIsc291cmNlOnAsbWVzc2FnZTp1fSl9fXZhciBxPWdmKGEsaCxbYixnXSk7YS5SYigpO3EgaW5zdGFuY2VvZiBHYSYmKHEudHlwZT09PSJyZXR1cm4iP3E9cS5kYXRhOnE9dm9pZCAwKTtyZXR1cm4gQihxLHZvaWQgMCxmKX19ZnVuY3Rpb24gUUMoYSl7dmFyIGI9YS5ndG1PblN1Y2Nlc3MsYz1hLmd0bU9uRmFpbHVyZTtyYihiKSYmKGEuZ3RtT25TdWNjZXNzPWZ1bmN0aW9uKCl7VWMoYil9KTtyYihjKSYmKGEuZ3RtT25GYWlsdXJlPWZ1bmN0aW9uKCl7VWMoYyl9KX07ZnVuY3Rpb24gUkMoYSl7fVJDLko9ImludGVybmFsLmFkZEFkc0NsaWNrSWRzIjtmdW5jdGlvbiBTQyhhLGIpe3ZhciBjPXRoaXM7fVNDLnB1YmxpY05hbWU9ImFkZENvbnNlbnRMaXN0ZW5lciI7dmFyIFRDPSExO2Z1bmN0aW9uIFVDKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWlmKFRDKXRyeXthW2JdKCl9Y2F0Y2goYyl7TSg3Nyl9ZWxzZSBhW2JdKCl9ZnVuY3Rpb24gVkMoYSxiLGMpe3ZhciBkPXRoaXMsZTtyZXR1cm4gZX1WQy5KPSJpbnRlcm5hbC5hZGREYXRhTGF5ZXJFdmVudExpc3RlbmVyIjtmdW5jdGlvbiBXQyhhLGIsYyl7fVdDLnB1YmxpY05hbWU9ImFkZERvY3VtZW50RXZlbnRMaXN0ZW5lciI7ZnVuY3Rpb24gWEMoYSxiLGMsZCl7fVhDLnB1YmxpY05hbWU9ImFkZEVsZW1lbnRFdmVudExpc3RlbmVyIjtmdW5jdGlvbiBZQyhhKXtyZXR1cm4gYS5LLnFiKCl9O2Z1bmN0aW9uIFpDKGEpe31aQy5wdWJsaWNOYW1lPSJhZGRFdmVudENhbGxiYWNrIjsKZnVuY3Rpb24gbkQoYSl7fW5ELko9ImludGVybmFsLmFkZEZvcm1BYmFuZG9ubWVudExpc3RlbmVyIjtmdW5jdGlvbiBvRChhLGIsYyxkKXt9Cm9ELko9ImludGVybmFsLmFkZEZvcm1EYXRhIjt2YXIgcEQ9e30scUQ9W10sckQ9e30sc0Q9MCx0RD0wOwpmdW5jdGlvbiBBRChhLGIpe31BRC5KPSJpbnRlcm5hbC5hZGRGb3JtSW50ZXJhY3Rpb25MaXN0ZW5lciI7CmZ1bmN0aW9uIEhEKGEsYil7fUhELko9ImludGVybmFsLmFkZEZvcm1TdWJtaXRMaXN0ZW5lciI7CnZhciBJRD1mdW5jdGlvbihhKXtyZXR1cm4gYSE9bnVsbCYmYS5sZW5ndGghPT12b2lkIDAmJnJiKGEucHVzaCl9LExEPWZ1bmN0aW9uKGEpe3ZhciBiPUpELmV4ZWMoYVswXSk7aWYoIWIpcmV0dXJuIG51bGw7dmFyIGM9YlsyXTtpZihjIT09dm9pZCAwJiZjLm1hdGNoKC9eKGd0bVxkK3xndGFnXy4rKSQvKSlyZXR1cm4gbnVsbDt2YXIgZCxlO3NiKGFbMV0pPyhkPWFbMV0sZT1bXS5zbGljZS5jYWxsKGEsMikpOihkPWFbMV0mJmFbMV0uaGl0VHlwZSxlPVtdLnNsaWNlLmNhbGwoYSwxKSk7aWYoIWQpcmV0dXJuIG51bGw7dmFyIGY7dmFyIGc9S0RbZF0saD1lO2lmKGgubGVuZ3RoPT09MSYmaFswXSE9bnVsbCYmdHlwZW9mIGhbMF09PT0ib2JqZWN0IilmPWhbMF07ZWxzZXtmb3IodmFyIGw9e30sbj1NYXRoLm1pbihnP2cubGVuZ3RoKzE6MSxoLmxlbmd0aCkscD0wO3A8bjtwKyspaWYodHlwZW9mIGhbcF09PT0ib2JqZWN0Iil7Zm9yKHZhciBxIGluIGhbcF0paFtwXS5oYXNPd25Qcm9wZXJ0eShxKSYmCihsW3FdPWhbcF1bcV0pO2JyZWFrfWVsc2UgZyYmcDxnLmxlbmd0aCYmKGxbZ1twXV09aFtwXSk7Zj1sfXZhciByPWY7ci5oaXRUeXBlPWQ7cmV0dXJue3BnOmQsbmc6cn19LEpEPS9eKCguKylcLik/c2VuZCQvLEtEPXtwYWdldmlldzpbInBhZ2UiXSxldmVudDpbImV2ZW50Q2F0ZWdvcnkiLCJldmVudEFjdGlvbiIsImV2ZW50TGFiZWwiLCJldmVudFZhbHVlIl0sc29jaWFsOlsic29jaWFsTmV0d29yayIsInNvY2lhbEFjdGlvbiIsInNvY2lhbFRhcmdldCJdLHRpbWluZzpbInRpbWluZ0NhdGVnb3J5IiwidGltaW5nVmFyIiwidGltaW5nVmFsdWUiLCJ0aW1pbmdMYWJlbCJdfTsKZnVuY3Rpb24gTUQoYSl7aWYoIXpoKGEpKXRocm93IEcodGhpcy5nZXROYW1lKCksWyJmdW5jdGlvbiJdLGFyZ3VtZW50cyk7SSh0aGlzLCJhY2Nlc3NfZ2xvYmFscyIsInJlYWQiLCJHb29nbGVBbmFseXRpY3NPYmplY3QiKTtJKHRoaXMsImFjY2Vzc19nbG9iYWxzIiwicmVhZHdyaXRlIiwiZ2EucSIpO0kodGhpcywiYWNjZXNzX2dsb2JhbHMiLCJleGVjdXRlIiwiZ2EucSIpO3ZhciBiPTAsYz1CKGEpO1VjKGZ1bmN0aW9uKCl7dmFyIGQ9bHooKTtpZihkJiZJRChkLnEpKXtmb3IodmFyIGU9ZC5xLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9TEQoZVtmXSk7YisrO2chPT1udWxsJiZjKGcucGcsZy5uZyl9dmFyIGg9ZS5wdXNoO2UucHVzaD1mdW5jdGlvbigpe3ZhciBsPWx6KCksbj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtoLmFwcGx5KGUsbik7aWYobCYmCmI+PWwucS5sZW5ndGgrKGwucWR8fDApKXJldHVybiAwO3ZhciBwPUxELmFwcGx5KHRoaXMsbik7YisrO2lmKHA9PT1udWxsKXJldHVybiAwO2MocC5wZyxwLm5nKTtyZXR1cm4gMH19fSk7fU1ELko9ImludGVybmFsLmFkZEdhU2VuZExpc3RlbmVyIjtmdW5jdGlvbiBORChhKXtpZighYSlyZXR1cm57fTt2YXIgYj1hLk1xO3JldHVybiBieihiLnR5cGUsYi5pbmRleCxiLm5hbWUpfWZ1bmN0aW9uIE9EKGEpe3JldHVybiBhP3tvcmlnaW5hdGluZ0VudGl0eTpORChhKX06e319O2Z1bmN0aW9uIFdEKGEpe3ZhciBiPVpuLnpvbmVzO3JldHVybiBiP2IuZ2V0SXNBbGxvd2VkRm4oUWooKSxhKTpmdW5jdGlvbigpe3JldHVybiEwfX1mdW5jdGlvbiBYRCgpe3ZhciBhPVpuLnpvbmVzO2EmJmEudW5yZWdpc3RlckNoaWxkKFFqKCkpfQpmdW5jdGlvbiBZRCgpe1F6KFBqKCksZnVuY3Rpb24oYSl7dmFyIGI9YS5vcmlnaW5hbEV2ZW50RGF0YVsiZ3RtLnVuaXF1ZUV2ZW50SWQiXSxjPVpuLnpvbmVzO3JldHVybiBjP2MuaXNBY3RpdmUoUWooKSxiKTohMH0pO096KFBqKCksZnVuY3Rpb24oYSl7dmFyIGIsYztiPWEuZW50aXR5SWQ7Yz1hLnNlY3VyaXR5R3JvdXBzO3JldHVybiBXRChOdW1iZXIoYS5vcmlnaW5hbEV2ZW50RGF0YVsiZ3RtLnVuaXF1ZUV2ZW50SWQiXSkpKGIsYyl9KX07dmFyIFpEPWZ1bmN0aW9uKGEsYil7dGhpcy50YWdJZD1hO3RoaXMuY2Fub25pY2FsSWQ9Yn07CmZ1bmN0aW9uICREKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gYX0kRC5KPSJpbnRlcm5hbC5sb2FkR29vZ2xlVGFnIjtmdW5jdGlvbiBhRShhKXtyZXR1cm4gbmV3IEFkKCIiLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZXZhbHVhdGUoYik7aWYoYyBpbnN0YW5jZW9mIEFkKXJldHVybiBuZXcgQWQoIiIsZnVuY3Rpb24oKXt2YXIgZD1EYS5hcHBseSgwLGFyZ3VtZW50cyksZT10aGlzLGY9dGQoWUModGhpcyksbnVsbCk7Zi5ldmVudElkPWEuZXZlbnRJZDtmLnByaW9yaXR5SWQ9YS5wcmlvcml0eUlkO2Yub3JpZ2luYWxFdmVudERhdGE9YS5vcmlnaW5hbEV2ZW50RGF0YTt2YXIgZz1kLm1hcChmdW5jdGlvbihsKXtyZXR1cm4gZS5ldmFsdWF0ZShsKX0pLGg9dGhpcy5LLm9iKCk7aC5VZChmKTtyZXR1cm4gYy5QYi5hcHBseShjLFtoXS5jb25jYXQoemEoZykpKX0pfSl9O2Z1bmN0aW9uIGJFKGEsYixjKXt2YXIgZD10aGlzO31iRS5KPSJpbnRlcm5hbC5hZGRHb29nbGVUYWdSZXN0cmljdGlvbiI7dmFyIGNFPXt9LGRFPVtdOwpmdW5jdGlvbiBrRShhLGIpe30Ka0UuSj0iaW50ZXJuYWwuYWRkSGlzdG9yeUNoYW5nZUxpc3RlbmVyIjtmdW5jdGlvbiBsRShhLGIsYyl7fWxFLnB1YmxpY05hbWU9ImFkZFdpbmRvd0V2ZW50TGlzdGVuZXIiO2Z1bmN0aW9uIG1FKGEsYil7cmV0dXJuITB9bUUucHVibGljTmFtZT0iYWxpYXNJbldpbmRvdyI7ZnVuY3Rpb24gbkUoYSxiLGMpe31uRS5KPSJpbnRlcm5hbC5hcHBlbmRSZW1vdGVDb25maWdQYXJhbWV0ZXIiO2Z1bmN0aW9uIG9FKGEpe3ZhciBiO3JldHVybiBifQpvRS5wdWJsaWNOYW1lPSJjYWxsSW5XaW5kb3ciO2Z1bmN0aW9uIHBFKGEpe31wRS5wdWJsaWNOYW1lPSJjYWxsTGF0ZXIiO2Z1bmN0aW9uIHFFKGEpe31xRS5KPSJjYWxsT25Eb21SZWFkeSI7ZnVuY3Rpb24gckUoYSl7fXJFLko9ImNhbGxPbldpbmRvd0xvYWQiO2Z1bmN0aW9uIHNFKGEsYil7dmFyIGM7cmV0dXJuIGN9c0UuSj0iaW50ZXJuYWwuY29tcHV0ZUd0bVBhcmFtZXRlciI7ZnVuY3Rpb24gdEUoYSxiKXt2YXIgYz10aGlzO310RS5KPSJpbnRlcm5hbC5jb25zZW50U2NoZWR1bGVGaXJzdFRyeSI7ZnVuY3Rpb24gdUUoYSxiKXt2YXIgYz10aGlzO311RS5KPSJpbnRlcm5hbC5jb25zZW50U2NoZWR1bGVSZXRyeSI7ZnVuY3Rpb24gdkUoYSl7dmFyIGI7aWYoIURoKGEpKXRocm93IEcodGhpcy5nZXROYW1lKCksWyJzdHJpbmciXSxhcmd1bWVudHMpO3ZhciBjPWE7aWYoIWhtKGMpKXRocm93IEVycm9yKCJjb3B5RnJvbUNyb3NzQ29udGFpbmVyRGF0YSByZXF1aXJlcyB2YWxpZCBDcm9zc0NvbnRhaW5lclNjaGVtYSBrZXkuIik7dmFyIGQ9a20oYyk7Yj1JZChkLHRoaXMuSywxKTtyZXR1cm4gYn12RS5KPSJpbnRlcm5hbC5jb3B5RnJvbUNyb3NzQ29udGFpbmVyRGF0YSI7ZnVuY3Rpb24gd0UoYSxiKXt2YXIgYzt2YXIgZD1JZChjLHRoaXMuSyxTaChZQyh0aGlzKS5PYigpKT8yOjEpO2Q9PT12b2lkIDAmJmMhPT12b2lkIDAmJk0oNDUpO3JldHVybiBkfXdFLnB1YmxpY05hbWU9ImNvcHlGcm9tRGF0YUxheWVyIjsKZnVuY3Rpb24geEUoYSl7dmFyIGI9dm9pZCAwO3JldHVybiBifXhFLko9ImludGVybmFsLmNvcHlGcm9tRGF0YUxheWVyQ2FjaGUiO2Z1bmN0aW9uIHlFKGEpe3ZhciBiO3JldHVybiBifXlFLnB1YmxpY05hbWU9ImNvcHlGcm9tV2luZG93IjtmdW5jdGlvbiB6RShhKXt2YXIgYj12b2lkIDA7cmV0dXJuIElkKGIsdGhpcy5LLDEpfXpFLko9ImludGVybmFsLmNvcHlLZXlGcm9tV2luZG93Ijt2YXIgQUU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1HbC5hYS5TYSYmWWxbYV09PT1GbC5NYS5GZSYmIVJuKEsubS5XKX07dmFyIEJFPWZ1bmN0aW9uKCl7cmV0dXJuIjAifSxDRT1mdW5jdGlvbihhKXtpZih0eXBlb2YgYSE9PSJzdHJpbmciKXJldHVybiIiO3ZhciBiPVsiZ2NsaWQiLCJkY2xpZCIsIndicmFpZCIsIl9nbCJdO1AoMTAyKSYmYi5wdXNoKCJnYnJhaWQiKTtyZXR1cm4gcWooYSxiLCIwIil9O3ZhciBERT17fSxFRT17fSxGRT17fSxHRT17fSxIRT17fSxJRT17fSxKRT17fSxLRT17fSxMRT17fSxNRT17fSxORT17fSxPRT17fSxQRT17fSxRRT17fSxSRT17fSxTRT17fSxURT17fSxVRT17fSxWRT17fSxXRT17fSxYRT17fSxZRT17fSxaRT17fSwkRT17fSxhRj17fSxiRj17fSxjRj0oYkZbSy5tLk9hXT0oREVbMl09W0FFXSxERSksYkZbSy5tLkpmXT0oRUVbMl09W0FFXSxFRSksYkZbSy5tLkJmXT0oRkVbMl09W0FFXSxGRSksYkZbSy5tLnNsXT0oR0VbMl09W0FFXSxHRSksYkZbSy5tLnRsXT0oSEVbMl09W0FFXSxIRSksYkZbSy5tLnZsXT0oSUVbMl09W0FFXSxJRSksYkZbSy5tLndsXT0oSkVbMl09W0FFXSxKRSksYkZbSy5tLnhsXT0oS0VbMl09W0FFXSxLRSksYkZbSy5tLkpiXT0oTEVbMl09W0FFXSxMRSksYkZbSy5tLktmXT0oTUVbMl09W0FFXSxNRSksYkZbSy5tLkxmXT0oTkVbMl09W0FFXSxORSksYkZbSy5tLk1mXT0oT0VbMl09W0FFXSxPRSksYkZbSy5tLk5mXT0oUEVbMl09CltBRV0sUEUpLGJGW0subS5PZl09KFFFWzJdPVtBRV0sUUUpLGJGW0subS5QZl09KFJFWzJdPVtBRV0sUkUpLGJGW0subS5RZl09KFNFWzJdPVtBRV0sU0UpLGJGW0subS5SZl09KFRFWzJdPVtBRV0sVEUpLGJGW0subS50Yl09KFVFWzFdPVtBRV0sVUUpLGJGW0subS5oZF09KFZFWzFdPVtBRV0sVkUpLGJGW0subS5tZF09KFdFWzFdPVtBRV0sV0UpLGJGW0subS5vZV09KFhFWzFdPVtBRV0sWEUpLGJGW0subS5mZl09KFlFWzFdPVtmdW5jdGlvbihhKXtyZXR1cm4gUCgxMDIpJiZBRShhKX1dLFlFKSxiRltLLm0uQ2NdPShaRVsxXT1bQUVdLFpFKSxiRltLLm0ueGFdPSgkRVsxXT1bQUVdLCRFKSxiRltLLm0uWWFdPShhRlsxXT1bQUVdLGFGKSxiRiksZEY9e30sZUY9KGRGW0subS50Yl09QkUsZEZbSy5tLmhkXT1CRSxkRltLLm0ubWRdPUJFLGRGW0subS5vZV09QkUsZEZbSy5tLmZmXT1CRSxkRltLLm0uQ2NdPWZ1bmN0aW9uKGEpe2lmKCFzZChhKSlyZXR1cm57fTt2YXIgYj10ZChhLApudWxsKTtkZWxldGUgYi5tYXRjaF9pZDtyZXR1cm4gYn0sZEZbSy5tLnhhXT1DRSxkRltLLm0uWWFdPUNFLGRGKSxmRj17fSxnRj17fSxoRj0oZ0ZbUS5BLlVhXT0oZkZbMl09W0FFXSxmRiksZ0YpLGlGPXt9O3ZhciBqRj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLkM9YTt0aGlzLlA9Yjt0aGlzLlQ9Yzt0aGlzLlY9ZH07akYucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGEpe2E9YT09PXZvaWQgMD9HbC5hYS5TYzphO2lmKCF0aGlzLlAuc29tZShmdW5jdGlvbihiKXtyZXR1cm4gYihhKX0pKXJldHVybiB0aGlzLlQuc29tZShmdW5jdGlvbihiKXtyZXR1cm4gYihhKX0pP3RoaXMuVih0aGlzLkMpOnRoaXMuQ307akYucHJvdG90eXBlLkg9ZnVuY3Rpb24oKXtyZXR1cm4gcWQodGhpcy5DKT09PSJhcnJheSJ8fHNkKHRoaXMuQyk/dGQodGhpcy5DLG51bGwpOnRoaXMuQ307CnZhciBrRj1mdW5jdGlvbigpe30sbEY9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvbmRpdGlvbnM9YTt0aGlzLkM9Yn0sbUY9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9KChkPWEuY29uZGl0aW9uc1tiXSk9PW51bGw/dm9pZCAwOmRbMl0pfHxbXSxmLGc9KChmPWEuY29uZGl0aW9uc1tiXSk9PW51bGw/dm9pZCAwOmZbMV0pfHxbXTtyZXR1cm4gbmV3IGpGKGMsZSxnLGEuQ1tiXXx8a0YpfSxuRixvRjt2YXIgcEYscUY9ITE7ZnVuY3Rpb24gckYoKXtxRj0hMDtrZyg1MikmJihwRj1wcm9kdWN0U2V0dGluZ3MscHJvZHVjdFNldHRpbmdzPXZvaWQgMCk7cEY9cEZ8fHt9fWZ1bmN0aW9uIHNGKGEpe3FGfHxyRigpO3JldHVybiBwRlthXX07dmFyIHRGPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmV2ZW50TmFtZT1iO3RoaXMuRD1jO3RoaXMuQz17fTt0aGlzLmlzQWJvcnRlZD0hMTt0aGlzLnRhcmdldD1hO3RoaXMubWV0YWRhdGE9e307Zm9yKHZhciBkPWMuZXZlbnRNZXRhZGF0YXx8e30sZT1tKE9iamVjdC5rZXlzKGQpKSxmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSl7dmFyIGc9Zi52YWx1ZTtUKHRoaXMsZyxkW2ddKX19LEh1PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtyZXR1cm4oYz1hLkNbYl0pPT1udWxsP3ZvaWQgMDooZD1jLmdldFZhbHVlKT09bnVsbD92b2lkIDA6ZC5jYWxsKGMsUihhLFEuQS5nZykpfSxYPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLkMsZTtjPT09dm9pZCAwP2U9dm9pZCAwOihuRiE9bnVsbHx8KG5GPW5ldyBsRihjRixlRikpLGU9bUYobkYsYixjKSk7ZFtiXT1lfTsKdEYucHJvdG90eXBlLm1lcmdlSGl0RGF0YUZvcktleT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZTtjPShkPXRoaXMuQ1thXSk9PW51bGw/dm9pZCAwOihlPWQuSCk9PW51bGw/dm9pZCAwOmUuY2FsbChkKTtpZighYylyZXR1cm4gWCh0aGlzLGEsYiksITA7aWYoIXNkKGMpKXJldHVybiExO1godGhpcyxhLG5hKE9iamVjdCwiYXNzaWduIikuY2FsbChPYmplY3QsYyxiKSk7cmV0dXJuITB9O3ZhciB1Rj1mdW5jdGlvbihhLGIpe2I9Yj09PXZvaWQgMD97fTpiO2Zvcih2YXIgYz1tKE9iamVjdC5rZXlzKGEuQykpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKXt2YXIgZT1kLnZhbHVlLGY9dm9pZCAwLGc9dm9pZCAwLGg9dm9pZCAwO2JbZV09KGY9YS5DW2VdKT09bnVsbD92b2lkIDA6KGg9KGc9ZikuSCk9PW51bGw/dm9pZCAwOmguY2FsbChnKX1yZXR1cm4gYn07CnRGLnByb3RvdHlwZS5jb3B5VG9IaXREYXRhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1MKHRoaXMuRCxhKTtkPT09dm9pZCAwJiYoZD1iKTtpZihzYihkKSYmYyE9PXZvaWQgMCl0cnl7ZD1jKGQpfWNhdGNoKGUpe31kIT09dm9pZCAwJiZYKHRoaXMsYSxkKX07CnZhciBSPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5tZXRhZGF0YVtiXTtpZihiPT09US5BLmdnKXt2YXIgZDtyZXR1cm4gYz09bnVsbD92b2lkIDA6KGQ9Yy5IKT09bnVsbD92b2lkIDA6ZC5jYWxsKGMpfXZhciBlO3JldHVybiBjPT1udWxsP3ZvaWQgMDooZT1jLmdldFZhbHVlKT09bnVsbD92b2lkIDA6ZS5jYWxsKGMsUihhLFEuQS5nZykpfSxUPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLm1ldGFkYXRhLGU7Yz09PXZvaWQgMD9lPWM6KG9GIT1udWxsfHwob0Y9bmV3IGxGKGhGLGlGKSksZT1tRihvRixiLGMpKTtkW2JdPWV9LHZGPWZ1bmN0aW9uKGEsYil7Yj1iPT09dm9pZCAwP3t9OmI7Zm9yKHZhciBjPW0oT2JqZWN0LmtleXMoYS5tZXRhZGF0YSkpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKXt2YXIgZT1kLnZhbHVlLGY9dm9pZCAwLGc9dm9pZCAwLGg9dm9pZCAwO2JbZV09KGY9YS5tZXRhZGF0YVtlXSk9PW51bGw/dm9pZCAwOihoPShnPWYpLkgpPT1udWxsP3ZvaWQgMDoKaC5jYWxsKGcpfXJldHVybiBifSx3Rj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9c0YoYS50YXJnZXQuZGVzdGluYXRpb25JZCk7cmV0dXJuIGQmJmRbYl0hPT12b2lkIDA/ZFtiXTpjfSx4Rj1mdW5jdGlvbihhKXtmb3IodmFyIGI9bmV3IHRGKGEudGFyZ2V0LGEuZXZlbnROYW1lLGEuRCksYz11RihhKSxkPW0oT2JqZWN0LmtleXMoYykpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXt2YXIgZj1lLnZhbHVlO1goYixmLGNbZl0pfWZvcih2YXIgZz12RihhKSxoPW0oT2JqZWN0LmtleXMoZykpLGw9aC5uZXh0KCk7IWwuZG9uZTtsPWgubmV4dCgpKXt2YXIgbj1sLnZhbHVlO1QoYixuLGdbbl0pfWIuaXNBYm9ydGVkPWEuaXNBYm9ydGVkO3JldHVybiBifSx5Rj1mdW5jdGlvbihhKXt2YXIgYj1hLkQsYz1iLmV2ZW50SWQsZD1iLnByaW9yaXR5SWQ7cmV0dXJuIGQ/YysiXyIrZDpTdHJpbmcoYyl9Owp0Ri5wcm90b3R5cGUuYWNjZXB0PWZ1bmN0aW9uKCl7dmFyIGE9bG0oZ20uWi54aSx7fSksYj15Rih0aGlzKSxjPXRoaXMudGFyZ2V0LmRlc3RpbmF0aW9uSWQ7YVtiXXx8KGFbYl09e30pO2FbYl1bY109UGooKTt2YXIgZD1nbS5aLnhpO2lmKGhtKGQpKXt2YXIgZTsoZT1pbShkKSk9PW51bGx8fGUubm90aWZ5KCl9fTt0Ri5wcm90b3R5cGUuY2FuQmVBY2NlcHRlZD1mdW5jdGlvbihhKXt2YXIgYj1rbShnbS5aLnhpKTtpZighYilyZXR1cm4hMDt2YXIgYz1iW3lGKHRoaXMpXTtpZighYylyZXR1cm4hMDt2YXIgZD1jW2EhPW51bGw/YTp0aGlzLnRhcmdldC5kZXN0aW5hdGlvbklkXTtyZXR1cm4gZD09PXZvaWQgMHx8ZD09PVBqKCl9O2Z1bmN0aW9uIHpGKGEpe3JldHVybntnZXREZXN0aW5hdGlvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIGEudGFyZ2V0LmRlc3RpbmF0aW9uSWR9LGdldEV2ZW50TmFtZTpmdW5jdGlvbigpe3JldHVybiBhLmV2ZW50TmFtZX0sc2V0RXZlbnROYW1lOmZ1bmN0aW9uKGIpe2EuZXZlbnROYW1lPWJ9LGdldEhpdERhdGE6ZnVuY3Rpb24oYil7cmV0dXJuIEh1KGEsYil9LHNldEhpdERhdGE6ZnVuY3Rpb24oYixjKXtYKGEsYixjKX0sc2V0SGl0RGF0YUlmTm90RGVmaW5lZDpmdW5jdGlvbihiLGMpe0h1KGEsYik9PT12b2lkIDAmJlgoYSxiLGMpfSxjb3B5VG9IaXREYXRhOmZ1bmN0aW9uKGIsYyl7YS5jb3B5VG9IaXREYXRhKGIsYyl9LGdldE1ldGFkYXRhOmZ1bmN0aW9uKGIpe3JldHVybiBSKGEsYil9LHNldE1ldGFkYXRhOmZ1bmN0aW9uKGIsYyl7VChhLGIsYyl9LGlzQWJvcnRlZDpmdW5jdGlvbigpe3JldHVybiBhLmlzQWJvcnRlZH0sYWJvcnQ6ZnVuY3Rpb24oKXthLmlzQWJvcnRlZD0hMH0sCmdldEZyb21FdmVudENvbnRleHQ6ZnVuY3Rpb24oYil7cmV0dXJuIEwoYS5ELGIpfSxwYjpmdW5jdGlvbigpe3JldHVybiBhfSxnZXRIaXRLZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKGEuQyl9LGdldE1lcmdlZFZhbHVlczpmdW5jdGlvbihiKXtyZXR1cm4gYS5ELmdldE1lcmdlZFZhbHVlcyhiLDMpfSxtZXJnZUhpdERhdGFGb3JLZXk6ZnVuY3Rpb24oYixjKXtyZXR1cm4gc2QoYyk/YS5tZXJnZUhpdERhdGFGb3JLZXkoYixjKTohMX0sYWNjZXB0OmZ1bmN0aW9uKCl7YS5hY2NlcHQoKX0sY2FuQmVBY2NlcHRlZDpmdW5jdGlvbihiKXtyZXR1cm4gYS5jYW5CZUFjY2VwdGVkKGIpfX19O2Z1bmN0aW9uIEFGKGEsYil7dmFyIGM7aWYoIXdoKGEpfHwheGgoYikpdGhyb3cgRyh0aGlzLmdldE5hbWUoKSxbIk9iamVjdCIsIk9iamVjdHx1bmRlZmluZWQiXSxhcmd1bWVudHMpO3ZhciBkPUIoYil8fHt9LGU9QihhLHRoaXMuSywxKS5wYigpLGY9ZS5EO2Qub21pdEV2ZW50Q29udGV4dCYmKGY9Z3AobmV3IExvKGUuRC5ldmVudElkLGUuRC5wcmlvcml0eUlkKSkpO3ZhciBnPW5ldyB0RihlLnRhcmdldCxlLmV2ZW50TmFtZSxmKTtpZighZC5vbWl0SGl0RGF0YSlmb3IodmFyIGg9dUYoZSksbD1tKE9iamVjdC5rZXlzKGgpKSxuPWwubmV4dCgpOyFuLmRvbmU7bj1sLm5leHQoKSl7dmFyIHA9bi52YWx1ZTtYKGcscCxoW3BdKX1pZihkLm9taXRNZXRhZGF0YSlnLm1ldGFkYXRhPXt9O2Vsc2UgZm9yKHZhciBxPXZGKGUpLHI9bShPYmplY3Qua2V5cyhxKSksdT1yLm5leHQoKTshdS5kb25lO3U9CnIubmV4dCgpKXt2YXIgdD11LnZhbHVlO1QoZyx0LHFbdF0pfWcuaXNBYm9ydGVkPWUuaXNBYm9ydGVkO2M9SWQoekYoZyksdGhpcy5LLDEpO3JldHVybiBjfUFGLko9ImludGVybmFsLmNvcHlQcmVIaXQiO2Z1bmN0aW9uIEJGKGEsYil7dmFyIGM9bnVsbDtyZXR1cm4gSWQoYyx0aGlzLkssMil9QkYucHVibGljTmFtZT0iY3JlYXRlQXJndW1lbnRzUXVldWUiO2Z1bmN0aW9uIENGKGEpe3JldHVybiBJZChmdW5jdGlvbihjKXt2YXIgZD1seigpO2lmKHR5cGVvZiBjPT09ImZ1bmN0aW9uIilkKGZ1bmN0aW9uKCl7YyhmdW5jdGlvbihmLGcsaCl7dmFyIGw9Cmx6KCksbj1sJiZsLmdldEJ5TmFtZSYmbC5nZXRCeU5hbWUoZik7cmV0dXJuKG5ldyB3LmdhcGx1Z2lucy5MaW5rZXIobikpLmRlY29yYXRlKGcsaCl9KX0pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShjKSl7dmFyIGU9U3RyaW5nKGNbMF0pLnNwbGl0KCIuIik7YltlLmxlbmd0aD09PTE/ZVswXTplWzFdXSYmZC5hcHBseShudWxsLGMpfWVsc2UgaWYoYz09PSJpc0xvYWRlZCIpcmV0dXJuISFkLmxvYWRlZH0sdGhpcy5LLDEpfUNGLko9ImludGVybmFsLmNyZWF0ZUdhQ29tbWFuZFF1ZXVlIjtmdW5jdGlvbiBERihhKXtyZXR1cm4gSWQoZnVuY3Rpb24oKXtpZighcmIoZS5wdXNoKSl0aHJvdyBFcnJvcigiT2JqZWN0IGF0ICIrYSsiIGluIHdpbmRvdyBpcyBub3QgYW4gYXJyYXkuIik7ZS5wdXNoLmFwcGx5KGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKX0sdGhpcy5LLApTaChZQyh0aGlzKS5PYigpKT8yOjEpfURGLnB1YmxpY05hbWU9ImNyZWF0ZVF1ZXVlIjtmdW5jdGlvbiBFRihhLGIpe3ZhciBjPW51bGw7aWYoIURoKGEpfHwhRWgoYikpdGhyb3cgRyh0aGlzLmdldE5hbWUoKSxbInN0cmluZyIsInN0cmluZ3x1bmRlZmluZWQiXSxhcmd1bWVudHMpO3RyeXt2YXIgZD0oYnx8IiIpLnNwbGl0KCIiKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImlnIi5pbmRleE9mKGUpPj0wfSkuam9pbigiIik7Yz1uZXcgRmQobmV3IFJlZ0V4cChhLGQpKX1jYXRjaChlKXt9cmV0dXJuIGN9RUYuSj0iaW50ZXJuYWwuY3JlYXRlUmVnZXgiO2Z1bmN0aW9uIEZGKGEpe31GRi5KPSJpbnRlcm5hbC5kZWNsYXJlQ29uc2VudFN0YXRlIjtmdW5jdGlvbiBHRihhKXt2YXIgYj0iIjtyZXR1cm4gYn1HRi5KPSJpbnRlcm5hbC5kZWNvZGVVcmxIdG1sRW50aXRpZXMiO2Z1bmN0aW9uIEhGKGEsYixjKXt2YXIgZDtyZXR1cm4gZH1IRi5KPSJpbnRlcm5hbC5kZWNvcmF0ZVVybFdpdGhHYUNvb2tpZXMiO2Z1bmN0aW9uIElGKCl7fUlGLko9ImludGVybmFsLmRlZmVyQ3VzdG9tRXZlbnRzIjtmdW5jdGlvbiBKRihhKXtyZXR1cm4gUCg0MjMpfHxLRj96LnF1ZXJ5U2VsZWN0b3IoYSk6bnVsbH1mdW5jdGlvbiBMRihhKXtyZXR1cm4gUCg0MjMpfHxLRj96LnF1ZXJ5U2VsZWN0b3JBbGwoYSk6bnVsbH0KZnVuY3Rpb24gTUYoYSxiKXtpZihQKDQyMykpdHJ5e3JldHVybiBhLmNsb3Nlc3QoYil9Y2F0Y2goZSl7cmV0dXJuIG51bGx9ZWxzZXtpZighS0YpcmV0dXJuIG51bGw7aWYoRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCl0cnl7cmV0dXJuIGEuY2xvc2VzdChiKX1jYXRjaChlKXtyZXR1cm4gbnVsbH12YXIgYz1FbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3Rvcnx8RWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3J8fEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IsZD1hO2lmKCF6LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhkKSlyZXR1cm4gbnVsbDtkb3t0cnl7aWYoYy5jYWxsKGQsYikpcmV0dXJuIGR9Y2F0Y2goZSl7YnJlYWt9ZD1kLnBhcmVudEVsZW1lbnR8fGQucGFyZW50Tm9kZX13aGlsZShkIT09bnVsbCYmZC5ub2RlVHlwZT09PQoxKTtyZXR1cm4gbnVsbH19dmFyIE5GPSExO2lmKHoucXVlcnlTZWxlY3RvckFsbCl0cnl7dmFyIE9GPXoucXVlcnlTZWxlY3RvckFsbCgiOnJvb3QiKTtPRiYmT0YubGVuZ3RoPT0xJiZPRlswXT09ei5kb2N1bWVudEVsZW1lbnQmJihORj0hMCl9Y2F0Y2goYSl7fXZhciBLRj1ORjtmdW5jdGlvbiBQRigpe3ZhciBhPXcuc2NyZWVuO3JldHVybnt3aWR0aDphP2Eud2lkdGg6MCxoZWlnaHQ6YT9hLmhlaWdodDowfX0KZnVuY3Rpb24gUUYoYSl7aWYoei5oaWRkZW4pcmV0dXJuITA7dmFyIGI9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihiLnRvcD09PWIuYm90dG9tfHxiLmxlZnQ9PT1iLnJpZ2h0fHwhdy5nZXRDb21wdXRlZFN0eWxlKXJldHVybiEwO3ZhciBjPXcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpO2lmKGMudmlzaWJpbGl0eT09PSJoaWRkZW4iKXJldHVybiEwO2Zvcih2YXIgZD1hLGU9YztkOyl7aWYoZS5kaXNwbGF5PT09Im5vbmUiKXJldHVybiEwO3ZhciBmPWUub3BhY2l0eSxnPWUuZmlsdGVyO2lmKGcpe3ZhciBoPWcuaW5kZXhPZigib3BhY2l0eSgiKTtoPj0wJiYoZz1nLnN1YnN0cmluZyhoKzgsZy5pbmRleE9mKCIpIixoKSksZy5jaGFyQXQoZy5sZW5ndGgtMSk9PT0iJSImJihnPWcuc3Vic3RyaW5nKDAsZy5sZW5ndGgtMSkpLGY9U3RyaW5nKE1hdGgubWluKE51bWJlcihnKSxOdW1iZXIoZikpKSl9aWYoZiE9PXZvaWQgMCYmTnVtYmVyKGYpPD0wKXJldHVybiEwOyhkPWQucGFyZW50RWxlbWVudCkmJgooZT13LmdldENvbXB1dGVkU3R5bGUoZCxudWxsKSl9cmV0dXJuITF9CnZhciBrRz1mdW5jdGlvbihhKXthPWF8fHt0ZzohMCx1ZzohMCxMajp2b2lkIDB9O2EuYmM9YS5iY3x8e2VtYWlsOiEwLHBob25lOiExLGFkZHJlc3M6ITF9O3ZhciBiPVpGKGEpLGM9JEZbYl07aWYoYyYmR2IoKS1jLnRpbWVzdGFtcDwyMDApcmV0dXJuIGMucmVzdWx0O3ZhciBkPWFHKCksZT1kLnN0YXR1cyxmPVtdLGcsaCxsPVtdO2lmKCFQKDMzKSl7aWYoYS5iYyYmYS5iYy5lbWFpbCl7dmFyIG49YkcoZC5lbGVtZW50cyk7Zj1jRyhuLGEmJmEubGcpO2c9ZEcoZik7bi5sZW5ndGg+MTAmJihlPSIzIil9IWEuTGomJmcmJihmPVtnXSk7Zm9yKHZhciBwPTA7cDxmLmxlbmd0aDtwKyspbC5wdXNoKGVHKGZbcF0sISFhLnRnLCEhYS51ZykpO2w9bC5zbGljZSgwLDEwKX1lbHNlIGlmKGEuYmMpe31nJiYoaD1lRyhnLCEhYS50ZywhIWEudWcpKTt2YXIgSD17ZWxlbWVudHM6bCx3bjpoLHN0YXR1czplfTskRltiXT17dGltZXN0YW1wOkdiKCkscmVzdWx0Okh9OwpyZXR1cm4gSH0sbEc9ZnVuY3Rpb24oYSxiKXtpZihhKXt2YXIgYz1hLnRyaW0oKS5yZXBsYWNlQWxsKC9ccysvZywiIikucmVwbGFjZUFsbCgvKFxkezIsfSlcLi9nLCIkMSIpLnJlcGxhY2VBbGwoLy0vZywiIikucmVwbGFjZUFsbCgvXCgoXGQrKVwpL2csIiQxIik7aWYoYiYmYy5tYXRjaCgvXlwrP1xkezMsN30kLykpcmV0dXJuIGM7Yy5jaGFyQXQoMCkhPT0iKyImJihjPSIrIitjKTtpZihjLm1hdGNoKC9eXCtcZHsxMCwxNX0kLykpcmV0dXJuIGN9fSxuRz1mdW5jdGlvbihhKXt2YXIgYj1tRygvXihcd3xbLSBdKSskLykoYSk7aWYoIWIpcmV0dXJuIGI7dmFyIGM9Yi5yZXBsYWNlQWxsKC9bLSBdKy9nLCIiKTtyZXR1cm4gYy5sZW5ndGg+MTA/dm9pZCAwOmN9LG1HPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm1hdGNoKGEpO3JldHVybiBjP2NbMF0udHJpbSgpLnRvTG93ZXJDYXNlKCk6dm9pZCAwfX0sZUc9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZWxlbWVudCwKZT17b2E6YS5vYSx0eXBlOmEucWEsdGFnTmFtZTpkLnRhZ05hbWV9O2ImJihlLnF1ZXJ5U2VsZWN0b3I9b0coZCkpO2MmJihlLmlzVmlzaWJsZT0hUUYoZCkpO3JldHVybiBlfSxaRj1mdW5jdGlvbihhKXt2YXIgYj0hKGE9PW51bGx8fCFhLnRnKSsiLiIrIShhPT1udWxsfHwhYS51Zyk7YSYmYS5sZyYmYS5sZy5sZW5ndGgmJihiKz0iLiIrYS5sZy5qb2luKCIuIikpO2EmJmEuYmMmJihiKz0iLiIrYS5iYy5lbWFpbCsiLiIrYS5iYy5waG9uZSsiLiIrYS5iYy5hZGRyZXNzKTtyZXR1cm4gYn0sZEc9ZnVuY3Rpb24oYSl7aWYoYS5sZW5ndGghPT0wKXt2YXIgYjtiPXBHKGEsZnVuY3Rpb24oYyl7cmV0dXJuIXFHLnRlc3QoYy5vYSl9KTtiPXBHKGIsZnVuY3Rpb24oYyl7cmV0dXJuIGMuZWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCk9PT0iSU5QVVQifSk7Yj1wRyhiLGZ1bmN0aW9uKGMpe3JldHVybiFRRihjLmVsZW1lbnQpfSk7cmV0dXJuIGJbMF19fSxjRz1mdW5jdGlvbihhLGIpe2ImJgpiLmxlbmd0aCE9PTB8fChiPVtdKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKXtmb3IodmFyIGU9ITAsZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO2lmKGcmJk1GKGFbZF0uZWxlbWVudCxnKSl7ZT0hMTticmVha319YVtkXS5xYT09PWpHLlNiJiZQKDIyNykmJihxRy50ZXN0KGFbZF0ub2EpfHxhW2RdLmVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpPT09IkEiJiZhW2RdLmVsZW1lbnQuaGFzQXR0cmlidXRlKCJocmVmIikmJmFbZF0uZWxlbWVudC5nZXRBdHRyaWJ1dGUoImhyZWYiKS5pbmRleE9mKCJtYWlsdG86IikhPT0tMSkmJihlPSExKTtlJiZjLnB1c2goYVtkXSl9cmV0dXJuIGN9LHBHPWZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGg8PTEpcmV0dXJuIGE7dmFyIGM9YS5maWx0ZXIoYik7cmV0dXJuIGMubGVuZ3RoPT09MD9hOmN9LG9HPWZ1bmN0aW9uKGEpe3ZhciBiO2lmKGE9PT16LmJvZHkpYj0iYm9keSI7ZWxzZXt2YXIgYztpZihhLmlkKWM9IiMiKwphLmlkO2Vsc2V7dmFyIGQ7aWYoYS5wYXJlbnRFbGVtZW50KXt2YXIgZTthOnt2YXIgZj1hLnBhcmVudEVsZW1lbnQ7aWYoZil7Zm9yKHZhciBnPTA7ZzxmLmNoaWxkRWxlbWVudENvdW50O2crKylpZihmLmNoaWxkcmVuW2ddPT09YSl7ZT1nKzE7YnJlYWsgYX1lPS0xfWVsc2UgZT0xfWQ9b0coYS5wYXJlbnRFbGVtZW50KSsiPjpudGgtY2hpbGQoIitlLnRvU3RyaW5nKCkrIikifWVsc2UgZD0iIjtjPWR9Yj1jfXJldHVybiBifSxiRz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLGU9ZC50ZXh0Q29udGVudDtkLnRhZ05hbWUudG9VcHBlckNhc2UoKT09PSJJTlBVVCImJmQudmFsdWUmJihlPWQudmFsdWUpO2lmKGUpe3ZhciBmPWUubWF0Y2gockcpO2lmKGYpe3ZhciBnPWZbMF0saDtpZih3LmxvY2F0aW9uKXt2YXIgbD1saih3LmxvY2F0aW9uLCJob3N0IiwhMCk7aD1nLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihsKT49MH1lbHNlIGg9CiExO2h8fGIucHVzaCh7ZWxlbWVudDpkLG9hOmcscWE6akcuU2J9KX19fXJldHVybiBifSxhRz1mdW5jdGlvbigpe3ZhciBhPVtdLGI9ei5ib2R5O2lmKCFiKXJldHVybntlbGVtZW50czphLHN0YXR1czoiNCJ9O2Zvcih2YXIgYz1iLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxkPTA7ZDxjLmxlbmd0aCYmZDwxRTQ7ZCsrKXt2YXIgZT1jW2RdO2lmKCEoc0cuaW5kZXhPZihlLnRhZ05hbWUudG9VcHBlckNhc2UoKSk+PTApJiZlLmNoaWxkcmVuIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pe2Zvcih2YXIgZj0hMSxnPTA7ZzxlLmNoaWxkRWxlbWVudENvdW50JiZnPDFFNDtnKyspaWYoISh0Ry5pbmRleE9mKGUuY2hpbGRyZW5bZ10udGFnTmFtZS50b1VwcGVyQ2FzZSgpKT49MCkpe2Y9ITA7YnJlYWt9KCFmfHxQKDMzKSYmdUcuaW5kZXhPZihlLnRhZ05hbWUpIT09LTEpJiZhLnB1c2goZSl9fXJldHVybntlbGVtZW50czphLHN0YXR1czpjLmxlbmd0aD4xRTQ/IjIiOiIxIn19LHJHPS9bQS1aMC05Ll8lKy1dK0BbQS1aMC05Li1dK1wuW0EtWl17Mix9L2ksCnFHPS9zdXBwb3J0fG5vcmVwbHkvaSxzRz0iU0NSSVBUIFNUWUxFIElNRyBTVkcgUEFUSCBCUiBOT1NDUklQVCBURVhUQVJFQSIuc3BsaXQoIiAiKSx0Rz1bIkJSIl0sdkc9cGcoMzYsMiksakc9e1NiOiIxIixJZDoiMiIsemQ6IjMiLEdkOiI0IixhZjoiNSIsZWc6IjYiLEFoOiI3IixUaToiOCIsV2g6IjkiLE5pOiIxMCJ9LCRGPXt9LHVHPVsiSU5QVVQiLCJTRUxFQ1QiXSx3Rz1tRygvXihbXlx4MDAtXHg0MFx4NWItXHg2MFx4N2ItXHhmZl18Wy4tXXxccykrJC8pOwpmdW5jdGlvbiBWRyhhKXt2YXIgYjtJKHRoaXMsImRldGVjdF91c2VyX3Byb3ZpZGVkX2RhdGEiLCJhdXRvIik7dmFyIGM9QihhKXx8e30sZD1rRyh7dGc6ISFjLmluY2x1ZGVTZWxlY3Rvcix1ZzohIWMuaW5jbHVkZVZpc2liaWxpdHksbGc6Yy5leGNsdWRlRWxlbWVudFNlbGVjdG9ycyxiYzpjLmZpZWxkRmlsdGVycyxMajohIWMuc2VsZWN0TXVsdGlwbGVFbGVtZW50c30pO2I9bmV3IGJiO3ZhciBlPW5ldyB3ZDtiLnNldCgiZWxlbWVudHMiLGUpO2Zvcih2YXIgZj1kLmVsZW1lbnRzLGc9MDtnPGYubGVuZ3RoO2crKyllLnB1c2goV0coZltnXSkpO2Qud24hPT12b2lkIDAmJmIuc2V0KCJwcmVmZXJyZWRFbWFpbEVsZW1lbnQiLFdHKGQud24pKTtiLnNldCgic3RhdHVzIixkLnN0YXR1cyk7aWYoUCgxMjkpJiZjLnBlcmZvcm1EYXRhTGF5ZXJTZWFyY2gmJiEvTW9iaWxlfGlQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZHxJRU1vYmlsZS8udGVzdChCYyYmCkJjLnVzZXJBZ2VudHx8IiIpKXt9cmV0dXJuIGJ9CnZhciBYRz1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBqRy5TYjpyZXR1cm4iZW1haWwiO2Nhc2UgakcuSWQ6cmV0dXJuInBob25lX251bWJlciI7Y2FzZSBqRy56ZDpyZXR1cm4iZmlyc3RfbmFtZSI7Y2FzZSBqRy5HZDpyZXR1cm4ibGFzdF9uYW1lIjtjYXNlIGpHLlRpOnJldHVybiJzdHJlZXQiO2Nhc2UgakcuV2g6cmV0dXJuImNpdHkiO2Nhc2UgakcuTmk6cmV0dXJuInJlZ2lvbiI7Y2FzZSBqRy5lZzpyZXR1cm4icG9zdGFsX2NvZGUiO2Nhc2UgakcuYWY6cmV0dXJuImNvdW50cnkifX0sV0c9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGJiO2Iuc2V0KCJ1c2VyRGF0YSIsYS5vYSk7Yi5zZXQoInRhZ05hbWUiLGEudGFnTmFtZSk7YS5xdWVyeVNlbGVjdG9yIT09dm9pZCAwJiZiLnNldCgicXVlcnlTZWxlY3RvciIsYS5xdWVyeVNlbGVjdG9yKTthLmlzVmlzaWJsZSE9PXZvaWQgMCYmYi5zZXQoImlzVmlzaWJsZSIsYS5pc1Zpc2libGUpO2lmKFAoMzMpKXt9ZWxzZSBzd2l0Y2goYS50eXBlKXtjYXNlIGpHLlNiOmIuc2V0KCJ0eXBlIiwiZW1haWwiKX1yZXR1cm4gYn07VkcuSj0iaW50ZXJuYWwuZGV0ZWN0VXNlclByb3ZpZGVkRGF0YSI7CmZ1bmN0aW9uICRHKGEsYil7cmV0dXJuIGZ9JEcuSj0iaW50ZXJuYWwuZW5hYmxlQXV0b0V2ZW50T25DbGljayI7CmZ1bmN0aW9uIGhIKGEsYil7cmV0dXJuIHB9aEguSj0iaW50ZXJuYWwuZW5hYmxlQXV0b0V2ZW50T25FbGVtZW50VmlzaWJpbGl0eSI7ZnVuY3Rpb24gaUgoKXt9aUguSj0iaW50ZXJuYWwuZW5hYmxlQXV0b0V2ZW50T25FcnJvciI7dmFyIGpIPXt9LGtIPVtdLGxIPXt9LG1IPTAsbkg9MDsKZnVuY3Rpb24gdEgoYSxiKXt2YXIgYz10aGlzO3JldHVybiBkfXRILko9ImludGVybmFsLmVuYWJsZUF1dG9FdmVudE9uRm9ybUludGVyYWN0aW9uIjsKZnVuY3Rpb24geUgoYSxiKXt2YXIgYz10aGlzO3JldHVybiBmfXlILko9ImludGVybmFsLmVuYWJsZUF1dG9FdmVudE9uRm9ybVN1Ym1pdCI7CmZ1bmN0aW9uIERIKCl7dmFyIGE9dGhpczt9REguSj0iaW50ZXJuYWwuZW5hYmxlQXV0b0V2ZW50T25HYVNlbmQiO3ZhciBFSD17fSxGSD1bXTsKZnVuY3Rpb24gTUgoYSxiKXt2YXIgYz10aGlzO3JldHVybiBmfU1ILko9ImludGVybmFsLmVuYWJsZUF1dG9FdmVudE9uSGlzdG9yeUNoYW5nZSI7dmFyIE5IPVsiaHR0cDovLyIsImh0dHBzOi8vIiwiamF2YXNjcmlwdDoiLCJmaWxlOi8vIl07CmZ1bmN0aW9uIFJIKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gaH1SSC5KPSJpbnRlcm5hbC5lbmFibGVBdXRvRXZlbnRPbkxpbmtDbGljayI7dmFyIFNILFRIOwpmdW5jdGlvbiBkSShhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGR9ZEkuSj0iaW50ZXJuYWwuZW5hYmxlQXV0b0V2ZW50T25TY3JvbGwiO2Z1bmN0aW9uIGVJKGEpe3JldHVybiBmdW5jdGlvbigpe2lmKGEubGltaXQmJmEuQ2o+PWEubGltaXQpYS5PaCYmdy5jbGVhckludGVydmFsKGEuT2gpO2Vsc2V7YS5DaisrO3ZhciBiPUdiKCk7a0Ioe2V2ZW50OmEuZXZlbnROYW1lLCJndG0udGltZXJJZCI6YS5PaCwiZ3RtLnRpbWVyRXZlbnROdW1iZXIiOmEuQ2osImd0bS50aW1lckludGVydmFsIjphLmludGVydmFsLCJndG0udGltZXJMaW1pdCI6YS5saW1pdCwiZ3RtLnRpbWVyU3RhcnRUaW1lIjphLktuLCJndG0udGltZXJDdXJyZW50VGltZSI6YiwiZ3RtLnRpbWVyRWxhcHNlZFRpbWUiOmItYS5LbiwiZ3RtLnRyaWdnZXJzIjphLnlzfSl9fX0KZnVuY3Rpb24gZkkoYSxiKXsKcmV0dXJuIGZ9ZkkuSj0iaW50ZXJuYWwuZW5hYmxlQXV0b0V2ZW50T25UaW1lciI7dmFyIHZjPUJhKFsiZGF0YS1ndG0teXQtaW5zcGVjdGVkLSJdKSxoST1bInd3dy55b3V0dWJlLmNvbSIsInd3dy55b3V0dWJlLW5vY29va2llLmNvbSJdLGlJLGpJPSExOwpmdW5jdGlvbiB0SShhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGV9dEkuSj0iaW50ZXJuYWwuZW5hYmxlQXV0b0V2ZW50T25Zb3VUdWJlQWN0aXZpdHkiO2pJPSExO2Z1bmN0aW9uIHVJKGEsYil7aWYoIURoKGEpfHwheGgoYikpdGhyb3cgRyh0aGlzLmdldE5hbWUoKSxbInN0cmluZyIsIk9iamVjdHx1bmRlZmluZWQiXSxhcmd1bWVudHMpO3ZhciBjPWI/QihiKTp7fSxkPWEsZT0hMTt2YXIgZj1KU09OLnBhcnNlKGQpO2lmKCFmKXRocm93IEVycm9yKCJJbnZhbGlkIGJvb2xlYW4gZXhwcmVzc2lvbiBzdHJpbmcgd2FzIGdpdmVuLiIpO2U9WmgoZixjKTtyZXR1cm4gZX11SS5KPSJpbnRlcm5hbC5ldmFsdWF0ZUJvb2xlYW5FeHByZXNzaW9uIjt2YXIgdkk7ZnVuY3Rpb24gd0koYSl7dmFyIGI9ITE7cmV0dXJuIGJ9d0kuSj0iaW50ZXJuYWwuZXZhbHVhdGVNYXRjaGluZ1J1bGVzIjt2YXIgeUk9W0subS5XLEsubS5YXTt2YXIgRUk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9O2EubWVyZ2VIaXREYXRhRm9yS2V5KEsubS5SaSwoZFtiXT1jLGQpKX0sRkk9ZnVuY3Rpb24oYSxiKXt2YXIgYz13RihhLEsubS5saSxhLkQuUFtLLm0ubGldKTtpZihjJiZjW2J8fGEuZXZlbnROYW1lXSE9PXZvaWQgMClyZXR1cm4gY1tifHxhLmV2ZW50TmFtZV19LEdJPWZ1bmN0aW9uKGEpe3ZhciBiPVIoYSxRLkEuVWEpO2lmKHNkKGIpKXJldHVybiBifSxIST1mdW5jdGlvbihhKXtpZihSKGEsUS5BLkZkKXx8IXpqKGEuRCkpcmV0dXJuITE7aWYoIUwoYS5ELEsubS52ZCkpe3ZhciBiPUwoYS5ELEsubS5BZik7cmV0dXJuIGI9PT0hMHx8Yj09PSJ0cnVlIn1yZXR1cm4hMH0sSUk9ZnVuY3Rpb24oYSl7cmV0dXJuIHdGKGEsSy5tLkVmLEwoYS5ELEsubS5FZikpfHwhIXdGKGEsImdvb2dsZV9uZyIsITEpfTtmdW5jdGlvbiBKSShhKXtpZihQKDEwKSlyZXR1cm47dmFyIGI9dWooKXx8a2coNTApfHwhIXpqKGEuRCk7UCg0MzEpJiYoYj1rZyg1MCl8fCEhemooYS5EKSk7aWYoYnx8UCgxNjgpKXJldHVybjtYeCh7TG46UCgxMzEpfSk7fTtmdW5jdGlvbiBPSSgpe3ZhciBhO2E9YT09PXZvaWQgMD9kb2N1bWVudDphO3ZhciBiO3JldHVybiEoKGI9YS5mZWF0dXJlUG9saWN5KT09bnVsbHx8IWIuYWxsb3dlZEZlYXR1cmVzKCkuaW5jbHVkZXMoImF0dHJpYnV0aW9uLXJlcG9ydGluZyIpKX07CnZhciBUST1mdW5jdGlvbigpe3ZhciBhPXoudGl0bGU7aWYoYT09PXZvaWQgMHx8YT09PSIiKXJldHVybiIiO2E9ZW5jb2RlVVJJQ29tcG9uZW50KGEpO2Zvcih2YXIgYj0yNTY7Yj4wJiZpaihhLnN1YnN0cmluZygwLGIpKT09PXZvaWQgMDspYi0tO3JldHVybiBpaihhLnN1YnN0cmluZygwLGIpKXx8IiJ9O3ZhciBrSj1mdW5jdGlvbihhKXt2YXIgYj1SbihLLm0uVyk/Wm4ucHNjZGw6ImRlbmllZCI7YiE9bnVsbCYmWChhLEsubS5RZyxiKX07dmFyIGxKPXt9O3ZhciBtSj1mdW5jdGlvbihhLGIpe3ZhciBjPWEuRDtpZihiPT09dm9pZCAwPzA6Yil7dmFyIGQ9Yy5nZXRNZXJnZWRWYWx1ZXMoSy5tLkdhKTtTYihkKSYmWChhLEsubS5naCxTYihkKSl9dmFyIGU9Yy5nZXRNZXJnZWRWYWx1ZXMoSy5tLkdhLDEsaG4oUHAuQ1tLLm0uR2FdKSksZj1jLmdldE1lcmdlZFZhbHVlcyhLLm0uR2EsMiksZz1TYihuYShPYmplY3QsImFzc2lnbiIpLmNhbGwoT2JqZWN0LHt9LGUsbmEoT2JqZWN0LCJhc3NpZ24iKS5jYWxsKE9iamVjdCx7fSxsSikpLCIuIiksaD1TYihmLCIuIik7ZyYmWChhLEsubS5GYyxnKTtoJiZYKGEsSy5tLkRjLGgpfTt2YXIgbko9InBsYXRmb3JtIHBsYXRmb3JtVmVyc2lvbiBhcmNoaXRlY3R1cmUgbW9kZWwgdWFGdWxsVmVyc2lvbiBiaXRuZXNzIGZ1bGxWZXJzaW9uTGlzdCB3b3c2NCIuc3BsaXQoIiAiKTtmdW5jdGlvbiBvSihhKXt2YXIgYjtyZXR1cm4oYj1hLmdvb2dsZV90YWdfZGF0YSkhPW51bGw/YjphLmdvb2dsZV90YWdfZGF0YT17fX1mdW5jdGlvbiBwSihhKXt2YXIgYj1hLmdvb2dsZV90YWdfZGF0YSxjO2lmKGIhPW51bGwmJmIudWFjaCl7dmFyIGQ9Yi51YWNoLGU9bmEoT2JqZWN0LCJhc3NpZ24iKS5jYWxsKE9iamVjdCx7fSxkKTtkLmZ1bGxWZXJzaW9uTGlzdCYmKGUuZnVsbFZlcnNpb25MaXN0PWQuZnVsbFZlcnNpb25MaXN0LnNsaWNlKDApKTtjPWV9ZWxzZSBjPW51bGw7cmV0dXJuIGN9ZnVuY3Rpb24gcUooYSl7dmFyIGIsYztyZXR1cm4oYz0oYj1hLmdvb2dsZV90YWdfZGF0YSk9PW51bGw/dm9pZCAwOmIudWFjaF9wcm9taXNlKSE9bnVsbD9jOm51bGx9CmZ1bmN0aW9uIHJKKGEpe3ZhciBiLGM7cmV0dXJuIHR5cGVvZigoYj1hLm5hdmlnYXRvcik9PW51bGw/dm9pZCAwOihjPWIudXNlckFnZW50RGF0YSk9PW51bGw/dm9pZCAwOmMuZ2V0SGlnaEVudHJvcHlWYWx1ZXMpPT09ImZ1bmN0aW9uIn1mdW5jdGlvbiBzSihhKXtpZighckooYSkpcmV0dXJuIG51bGw7dmFyIGI9b0ooYSk7aWYoYi51YWNoX3Byb21pc2UpcmV0dXJuIGIudWFjaF9wcm9taXNlO3ZhciBjPWEubmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMobkopLnRoZW4oZnVuY3Rpb24oZCl7Yi51YWNoIT1udWxsfHwoYi51YWNoPWQpO3JldHVybiBkfSk7cmV0dXJuIGIudWFjaF9wcm9taXNlPWN9Owp2YXIgdEo9ZnVuY3Rpb24oYSl7dmFyIGI9e307YltLLm0uS2ZdPWEuYXJjaGl0ZWN0dXJlO2JbSy5tLkxmXT1hLmJpdG5lc3M7YS5mdWxsVmVyc2lvbkxpc3QmJihiW0subS5NZl09YS5mdWxsVmVyc2lvbkxpc3QubWFwKGZ1bmN0aW9uKGMpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoYy5icmFuZHx8IiIpKyI7IitlbmNvZGVVUklDb21wb25lbnQoYy52ZXJzaW9ufHwiIil9KS5qb2luKCJ8IikpO2JbSy5tLk5mXT1hLm1vYmlsZT8iMSI6IjAiO2JbSy5tLk9mXT1hLm1vZGVsO2JbSy5tLlBmXT1hLnBsYXRmb3JtO2JbSy5tLlFmXT1hLnBsYXRmb3JtVmVyc2lvbjtiW0subS5SZl09YS53b3c2ND8iMSI6IjAiO3JldHVybiBifSx1Sj1mdW5jdGlvbihhKXt2YXIgYj0wLGM9ZnVuY3Rpb24oaCxsKXt0cnl7YShoLGwpfWNhdGNoKG4pe319LGQ9dyxlPXBKKGQpO2lmKGUpYyhlKTtlbHNle3ZhciBmPXFKKGQpO2lmKGYpe2I9TWF0aC5taW4oTWF0aC5tYXgoaXNGaW5pdGUoYik/YjowLDApLAoxRTMpO3ZhciBnPWQuc2V0VGltZW91dChmdW5jdGlvbigpe2MueGd8fChjLnhnPSEwLE0oMTA2KSxjKG51bGwsRXJyb3IoIlRpbWVvdXQiKSkpfSxiKTtmLnRoZW4oZnVuY3Rpb24oaCl7Yy54Z3x8KGMueGc9ITAsTSgxMDQpLGQuY2xlYXJUaW1lb3V0KGcpLGMoaCkpfSkuY2F0Y2goZnVuY3Rpb24oaCl7Yy54Z3x8KGMueGc9ITAsTSgxMDUpLGQuY2xlYXJUaW1lb3V0KGcpLGMobnVsbCxoKSl9KX1lbHNlIGMobnVsbCl9fSx3Sj1mdW5jdGlvbigpe3ZhciBhPXc7aWYockooYSkmJih2Sj1HYigpLCFxSihhKSkpe3ZhciBiPXNKKGEpO2ImJihiLnRoZW4oZnVuY3Rpb24oKXtNKDk1KX0pLGIuY2F0Y2goZnVuY3Rpb24oKXtNKDk2KX0pKX19LHZKO3ZhciB4Sj1mdW5jdGlvbihhKXtpZighckoodykpTSg4Nyk7ZWxzZSBpZih2SiE9PXZvaWQgMCl7TSg4NSk7dmFyIGI9cEoodyk7aWYoYil7aWYoYilmb3IodmFyIGM9dEooYiksZD1tKE9iamVjdC5rZXlzKGMpKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7dmFyIGY9ZS52YWx1ZTtYKGEsZixjW2ZdKX19ZWxzZSBNKDg2KX19O2Z1bmN0aW9uIHlKKGEsYil7Yj1iPT09dm9pZCAwPyExOmI7dmFyIGM9UihhLFEuQS5mZyksZD13RihhLCJjdXN0b21fZXZlbnRfYWNjZXB0X3J1bGVzIiwhMSkmJiFiO2lmKGMpe3ZhciBlPWMuaW5kZXhPZihhLnRhcmdldC5kZXN0aW5hdGlvbklkKT49MCxmPSEwO1IoYSxRLkEuZWIpJiYoZj1SKGEsUS5BLlBhKT09PVBqKCkpO2UmJmY/VChhLFEuQS5WaCwhMCk6KFQoYSxRLkEuVmgsITEpLGR8fChhLmlzQWJvcnRlZD0hMCkpO2lmKGEuY2FuQmVBY2NlcHRlZCgpKXt2YXIgZz1PaigpLmluZGV4T2YoYS50YXJnZXQuZGVzdGluYXRpb25JZCk+PTAsaD0hMTtpZighZyl7dmFyIGwsbj0obD1IaihhLnRhcmdldC5kZXN0aW5hdGlvbklkKSk9PW51bGw/dm9pZCAwOmwuY2Fub25pY2FsQ29udGFpbmVySWQ7biYmKGg9UGooKT09PW4pfWd8fGg/UihhLFEuQS5WaCkmJmEuYWNjZXB0KCk6YS5pc0Fib3J0ZWQ9ITB9ZWxzZSBhLmlzQWJvcnRlZD0hMH19O3ZhciB6Sj1mdW5jdGlvbihhKXt2YXIgYj1MKGEuRCxLLm0uSWMpLGM9TChhLkQsSy5tLkhjKTtiJiYhYz8oYS5ldmVudE5hbWUhPT1LLm0ubWEmJmEuZXZlbnROYW1lIT09Sy5tLmplJiZNKDEzMSksYS5pc0Fib3J0ZWQ9ITApOiFiJiZjJiYoTSgxMzIpLGEuaXNBYm9ydGVkPSEwKX07dmFyIEJKPWZ1bmN0aW9uKGEpe3ZhciBiPUFKW2EudGFyZ2V0LmRlc3RpbmF0aW9uSWRdO2lmKCFhLmlzQWJvcnRlZCYmYilmb3IodmFyIGM9ekYoYSksZD0wO2Q8Yi5sZW5ndGg7KytkKXt0cnl7YltkXShjKX1jYXRjaChlKXthLmlzQWJvcnRlZD0hMH1pZihhLmlzQWJvcnRlZClicmVha319LENKPWZ1bmN0aW9uKGEsYil7dmFyIGM9QUpbYV07Y3x8KGM9QUpbYV09W10pO2MucHVzaChiKX0sQUo9e307dmFyIERKPWZ1bmN0aW9uKGEpe0JKKGEpO307dmFyIEVKPS9eKHd3d1wuKT9nb29nbGUoXC5jb20/KT8oXC5bYS16XXsyfXQ/KT8kLyxGSj0vXnd3dy5nb29nbGVhZHNlcnZpY2VzLmNvbSQvO2Z1bmN0aW9uIEdKKGEpe2F8fChhPVZKKCkpO3JldHVybiBhLnpzPyExOmEuZ3J8fGEuaHJ8fGEuanJ8fGEuaXJ8fGEuTmV8fGEuSWh8fGEuUXF8fGEuZmM9PT0iYXcuZHMifHxQKDIzNSkmJmEuZmM9PT0iYXcuZHYifHxhLlVxPyEwOiExfQpmdW5jdGlvbiBWSigpe3ZhciBhPXt9LGI9aXMoITApO2EuenM9ISFiLl91cDt2YXIgYz1NdCgpLGQ9b3UoKTthLmdyPWMuYXchPT12b2lkIDA7YS5ocj1jLmRjIT09dm9pZCAwO2EuanI9Yy53YnJhaWQhPT12b2lkIDA7YS5pcj1jLmdicmFpZCE9PXZvaWQgMDthLmZjPXR5cGVvZiBjLmdjbHNyYz09PSJzdHJpbmciP2MuZ2Nsc3JjOnZvaWQgMDthLk5lPWQuTmU7YS5JaD1kLkloO3ZhciBlPXoucmVmZXJyZXI/amoocGooei5yZWZlcnJlciksImhvc3QiKToiIjthLlVxPUVKLnRlc3QoZSk7YS5RcT1GSi50ZXN0KGUpO3JldHVybiBhfTtmdW5jdGlvbiBXSigpe3ZhciBhPXcuX191c3BhcGk7aWYocmIoYSkpe3ZhciBiPSIiO3RyeXthKCJnZXRVU1BEYXRhIiwxLGZ1bmN0aW9uKGMsZCl7aWYoZCYmYyl7dmFyIGU9Yy51c3BTdHJpbmc7ZSYmUmVnRXhwKCJeW1xcZGEtekEtWi1dezEsMjB9JCIpLnRlc3QoZSkmJihiPWUpfX0pfWNhdGNoKGMpe31yZXR1cm4gYn19Owp2YXIgWEo9ZnVuY3Rpb24oYSl7aWYoYS5ldmVudE5hbWU9PT1LLm0ubWF8fFAoNDMzKSlpZihQKDI0KSl7dmFyIGI9Um4oeUkpO1QoYSxRLkEuSmUsTChhLkQsSy5tLklhKSE9bnVsbCYmTChhLkQsSy5tLklhKSE9PSExJiYhYik7dmFyIGM9UihhLFEuQS55aCksZD1MKGEuRCxLLm0udWIpIT09ITEsZT1FdShhKTtkfHxYKGEsSy5tLlBnLCIxIik7dmFyIGY9dHQoZS5wcmVmaXgpLGc9UihhLFEuQS5pYSl8fFIoYSxRLkEuaGcpfHxSKGEsUS5BLkllKTshUCg0MzMpfHxjfHxnfHxYKGEsIl8mYXB2YyIsIjAiKTtpZihhLmV2ZW50TmFtZT09PUsubS5tYSYmIWcpe3ZhciBoPUwoYS5ELEsubS5IYiksbD1MKGEuRCxLLm0uY2IpfHx7fTtGdSh7TGU6ZCxRZTpsLFhlOmgsVmM6ZX0pO2lmKCFjKWlmKG11KGYpKVAoNDMzKSYmKFQoYSxRLkEuWmQsITApLFgoYSwiXyZhcHZjIiwiMSIpKTtlbHNlIGlmKCFQKDQzMykpe2EuaXNBYm9ydGVkPSEwO3JldHVybn19aWYoYylhLmlzQWJvcnRlZD0hMDsKZWxzZXthLnRhcmdldC5kZXN0aW5hdGlvbklkJiZYKGEsSy5tLm5oLGEudGFyZ2V0LmRlc3RpbmF0aW9uSWQpO1goYSxLLm0uRWMsYS5ldmVudE5hbWUpO2EuZXZlbnROYW1lPT09Sy5tLm1hJiZYKGEsSy5tLkVjLEsubS5nZCk7aWYoUihhLFEuQS5pYSkpWChhLEsubS5FYyxLLm0udW8pLFgoYSxLLm0uaWEsIjEiKTtlbHNlIGlmKFIoYSxRLkEuaGcpKVgoYSxLLm0uRWMsSy5tLkZvKTtlbHNlIGlmKFIoYSxRLkEuSWUpKVgoYSxLLm0uRWMsSy5tLkNvKTtlbHNle3ZhciBuPU10KCk7WChhLEsubS5oZCxuLmdjbGlkKTtYKGEsSy5tLm1kLG4uZGNsaWQpO1goYSxLLm0uR2ssbi5nY2xzcmMpO0h1KGEsSy5tLmhkKXx8SHUoYSxLLm0ubWQpfHwoWChhLEsubS5vZSxuLndicmFpZCksWChhLEsubS5mZixuLmdicmFpZCkpO1goYSxLLm0uWWEsUnQoKSk7WChhLEsubS54YSxydSgpKTtpZihFYyl7dmFyIHA9amoocGooRWMpLCJob3N0Iik7cCYmWChhLEsubS5wbCxwKX1pZighUihhLFEuQS5JZSkpe3ZhciBxPQpvdSgpO1goYSxLLm0uZGYscS5OZSk7WChhLEsubS5lZixxLmpuKX12YXIgcj1WSigpO0dKKHIpJiZYKGEsSy5tLnhlLCIxIik7WChhLEsubS5JayxDeSgpKTtpcyghMSkuX3VwPT09IjEiJiZYKGEsSy5tLllrLCIxIil9QW09ITA7WChhLEsubS5HYik7WChhLEsubS5qZCk7YiYmKFgoYSxLLm0uR2IsVEkoKSksZCYmKHdzKGUpLFgoYSxLLm0uamQsdXNbeHMoZS5wcmVmaXgpXSkpKTtYKGEsSy5tLnVjKTtYKGEsSy5tLnRiKTtpZighSHUoYSxLLm0uaGQpJiYhSHUoYSxLLm0ubWQpJiZYdShmKSl7dmFyIHU9cnQoZSk7dS5sZW5ndGg+MCYmWChhLEsubS51Yyx1LmpvaW4oIi4iKSl9ZWxzZSBpZighSHUoYSxLLm0ub2UpJiZiKXt2YXIgdD1wdChmKyJfYXciKTt0Lmxlbmd0aD4wJiZYKGEsSy5tLnRiLHQuam9pbigiLiIpKX1YKGEsSy5tLmZsLGdkKCkpO2EuRC5pc0d0bUV2ZW50JiYoYS5ELkNbSy5tLlRiXT1QcC5DW0subS5UYl0pO05xKGEuRCk/WChhLEsubS5IZCwhMSk6WChhLEsubS5IZCwKITApO1QoYSxRLkEuU2osITApO3ZhciB2PVdKKCk7diE9PXZvaWQgMCYmWChhLEsubS5TZix2fHwiZXJyb3IiKTt2YXIgeD1HcSgpO3gmJlgoYSxLLm0udmUseCk7dmFyIHk9RnEoKTt5JiZYKGEsSy5tLkFlLHkpO1AoNDMzKT9SKGEsUS5BLmRlKXx8VChhLFEuQS53YSwhMSk6VChhLFEuQS53YSwhMSl9fWVsc2UgYS5pc0Fib3J0ZWQ9ITA7ZWxzZSBhLmlzQWJvcnRlZD0hMH07CnZhciBZSj1mdW5jdGlvbihhLGIsYyl7Yj1iPT09dm9pZCAwPyEwOmI7Yz1jPT09dm9pZCAwP3t9OmM7aWYoYS5ldmVudE5hbWU9PT1LLm0uRGImJiFhLkQuaXNHdG1FdmVudCl7dmFyIGQ9TChhLkQsSy5tLkNmKTtpZih0eXBlb2YgZD09PSJmdW5jdGlvbiImJiFSKGEsUS5BLmlhKSl7dmFyIGU9U3RyaW5nKEwoYS5ELEsubS5EZikpLGY9ZTtjW2VdJiYoZj1jW2VdKTt2YXIgZz1IdShhLGYpfHxMKGEuRCxlKTtpZihiKXtpZih0eXBlb2YgZD09PSJmdW5jdGlvbiIpaWYoZT09PUsubS50YiYmZyE9PXZvaWQgMCl7dmFyIGg9Zy5zcGxpdCgiLiIpO2gubGVuZ3RoPT09MD9kKHZvaWQgMCk6aC5sZW5ndGg9PT0xP2QoaFswXSk6ZChoKX1lbHNlIGlmKGU9PT1LLm0ub3AmJlAoMjU4KSl7dmFyIGwsbj17fTtSbih5SSkmJihuLmF1aWQ9SHUoYSxLLm0uamQpKTt2YXIgcD1WSigpO2lmKEdKKHApKW4uZ2FkX3NvdXJjZT1wLk5lLG4uZ2FkX2NhbXBhaWduaWQ9cC5JaCxuLnNlc3Npb25fc3RhcnRfdGltZV91c2VjPQooRGF0ZS5ub3coKSoxRTMpLnRvU3RyaW5nKCksbi5sYW5kaW5nX3BhZ2VfdXJsPXcubG9jYXRpb24uaHJlZixuLmxhbmRpbmdfcGFnZV9yZWZlcnJlcj16LnJlZmVycmVyLG4ubGFuZGluZ19wYWdlX3VzZXJfYWdlbnQ9QmMudXNlckFnZW50O2Vsc2V7dmFyIHE9UihhLFEuQS5GYSk7bi5nYWRfc291cmNlPVZ1KHEucHJlZml4KS5vZ31sPWJ0b2EoSlNPTi5zdHJpbmdpZnkobikpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIikucmVwbGFjZSgvPSskLywiIik7ZChsKX1lbHNlIGQoZyl9ZWxzZSBkKGcpfWEuaXNBYm9ydGVkPSEwfX07ZnVuY3Rpb24gWkooYSl7TmsmJihBbT0hMCxhLmV2ZW50TmFtZT09PUsubS5tYT9HbShhLkQsYS50YXJnZXQuaWQpOihSKGEsUS5BLmRlKXx8KERtW2EudGFyZ2V0LmlkXT0hMCkseEEoUihhLFEuQS5QYSkpKSl9O3ZhciAkSj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPWI9PT12b2lkIDA/e306YjtjPWYucWo9PT12b2lkIDA/ITE6Zi5xajtkPWYuamo9PT12b2lkIDA/ITE6Zi5qajtlPWYubW49PT12b2lkIDA/ITE6Zi5tbjtkfHwoYS5ELmlzR3RtRXZlbnQ/UihhLFEuQS5iYSkhPT1QaS5OLkFhJiZhLmV2ZW50TmFtZSYmWChhLEsubS5FYyxhLmV2ZW50TmFtZSk6WChhLEsubS5FYyxhLmV2ZW50TmFtZSkpO3piKGEuRC5DLGZ1bmN0aW9uKGcsaCl7SnlbZ118fGMmJlZtW2ddfHxlJiZMeVtnXXx8WChhLGcsaCl9KX07dmFyIGFLPWZ1bmN0aW9uKGEpe2lmKFAoNDMzKSlmb3IodmFyIGI9bShbSy5tLkphLEsubS5LYSxLLm0ua2IsSy5tLnllLEsubS5xZSxLLm0ud2QsSy5tLnRlLEsubS5CYyxLLm0ubmQsSy5tLlNnLEsubS5UZyxLLm0uUmcsSy5tLnBmLEsubS5sZixLLm0ubmYsSy5tLmtmLEsubS5naSxLLm0uTWMsSy5tLktjLEsubS5MYyxLLm0ubGJdKSxjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSlhLmNvcHlUb0hpdERhdGEoYy52YWx1ZSl9O3ZhciBiSz1mdW5jdGlvbihhKXtUKGEsUS5BLmdnLEdsLmFhLlNhKX07dmFyIGNLPWZ1bmN0aW9uKGEpe2lmKFIoYSxRLkEuYmUpJiZSbih5SSkpe3ZhciBiPVIoYSxRLkEuRmEpLGM9UihhLFEuQS5iYSkhPT1QaS5OLkxiJiZSKGEsUS5BLmJhKSE9PVBpLk4uWmImJlIoYSxRLkEuYmEpIT09UGkuTi56YiYmYS5ldmVudE5hbWUhPT1LLm0uRGI7d3MoYixjKTtYKGEsSy5tLmpkLHVzW3hzKGIucHJlZml4KV0pfX07dmFyIGRLPWZ1bmN0aW9uKGEpe1QoYSxRLkEuYmUsTChhLkQsSy5tLnViKSE9PSExKTtUKGEsUS5BLkZhLEV1KGEpKTtUKGEsUS5BLlRjLEwoYS5ELEsubS5JYSkhPW51bGwmJkwoYS5ELEsubS5JYSkhPT0hMSk7VChhLFEuQS5iZCxOcShhLkQpKX07dmFyIGVLPXtUZjp7YW86ImNkIixibzoiY2UiLGNvOiJjZiIsZW86ImNwZiIsZm86ImN1In19O3ZhciBmSz1mdW5jdGlvbihhLGIsYyl7SHUoYSxLLm0uUGMpfHxYKGEsSy5tLlBjLHt9KTtIdShhLEsubS5QYylbYl09Y30sZ0s9ZnVuY3Rpb24oYSl7ZksoYSxlSy5UZi5ibyxMKGEuRCxLLm0ueGIpKX07ZnVuY3Rpb24gaEsoYSxiKXtiPWI9PT12b2lkIDA/ITA6Yjt2YXIgYz1wYihqYi5HVEFHX0VWRU5UX0ZFQVRVUkVfQ0hBTk5FTHx8W10pO2MmJihYKGEsSy5tLkZmLGMpLGImJm5iKCkpfTt2YXIgaUs9ZnVuY3Rpb24oYSl7dmFyIGI9YS5ELmdldE1lcmdlZFZhbHVlcyhLLm0uR2MpO2ImJmEubWVyZ2VIaXREYXRhRm9yS2V5KEsubS5HYyxiKX07dmFyIGpLPWZ1bmN0aW9uKGEsYil7KGI9PT12b2lkIDA/MDpiKSYmd0YoYSwiZ29vZ2xlX25nIikmJiFRbSgpP1goYSxLLm0ud2UsMSk6WXEoKSYmWChhLEsubS53ZSwxKX07dmFyIGtLPWZ1bmN0aW9uKGEsYil7dmFyIGM9Z3EoYj09PXZvaWQgMD8hMDpiKTtYKGEsSy5tLnBkLGMpfTt2YXIgbEs9ZnVuY3Rpb24oYSl7UihhLFEuQS5iZCk/WChhLEsubS5IZCwiMCIpOlgoYSxLLm0uSGQsIjEiKX07dmFyIG1LPWZ1bmN0aW9uKGEsYil7aWYoYj09PXZvaWQgMHx8Yil7dmFyIGM9V0ooKTtjIT09dm9pZCAwJiZYKGEsSy5tLlNmLGN8fCJlcnJvciIpfXZhciBkPUdxKCk7ZCYmWChhLEsubS52ZSxkKTt2YXIgZT1GcSgpO2UmJlgoYSxLLm0uQWUsZSl9O3ZhciBuSz1mdW5jdGlvbihhKXtpcyghMSkuX3VwPT09IjEiJiZYKGEsSy5tLm9pLCIxIil9Owp2YXIgb0s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXx8Yj9hJiYhYj8iMSI6IWEmJmI/IjIiOiIzIjoiMCJ9LHBLPWZ1bmN0aW9uKGEsYixjKXtpZihhIT09dm9pZCAwKXJldHVybiBBcnJheS5pc0FycmF5KGEpP2EubWFwKGZ1bmN0aW9uKCl7cmV0dXJue21vZGU6Im0iLGxvY2F0aW9uOmIsc2VsZWN0b3I6Y319KTp7bW9kZToibSIsbG9jYXRpb246YixzZWxlY3RvcjpjfX0scUs9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZighYylyZXR1cm4hMTtmb3IodmFyIGY9U3RyaW5nKGMudmFsdWUpLGcsaD12b2lkIDAsbD1mLnJlcGxhY2UoL1xbIj8nPy9nLCIuIikucmVwbGFjZSgvIj8nP1xdL2csIiIpLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uKEUpe3JldHVybiBFLnRyaW0oKX0pLmZpbHRlcihmdW5jdGlvbihFKXtyZXR1cm4gRSYmIUxiKEUsIiMiKSYmIUxiKEUsIi4iKX0pLG49MDtuPGwubGVuZ3RoO24rKyl7dmFyIHA9bFtuXTtpZihMYihwLCJkYXRhTGF5ZXIuIikpZz1scChwLnN1YnN0cmluZygxMCkpLApoPXBLKGcsImQiLHApO2Vsc2V7dmFyIHE9cC5zcGxpdCgiLiIpO2c9d1txLnNoaWZ0KCldO2Zvcih2YXIgcj0wO3I8cS5sZW5ndGg7cisrKWc9ZyYmZ1txW3JdXTtoPXBLKGcsImoiLHApfWlmKGchPT12b2lkIDApYnJlYWt9aWYoZz09PXZvaWQgMCYmKFAoNDIzKXx8S0YpKXRyeXt2YXIgdT1MRihmKTtpZih1JiZ1Lmxlbmd0aD4wKXtnPVtdO2Zvcih2YXIgdD0wO3Q8dS5sZW5ndGgmJnQ8KGI9PT0iZW1haWwifHxiPT09InBob25lX251bWJlciI/NToxKTt0KyspZy5wdXNoKFdjKHVbdF0pfHxFYih1W3RdLnZhbHVlKSk7Zz1nLmxlbmd0aD09PTE/Z1swXTpnO2g9cEsoZywiYyIsZil9fWNhdGNoKEUpe00oMTQ5KX1pZihQKDYwKSl7Zm9yKHZhciB2LHgseT0wO3k8bC5sZW5ndGg7eSsrKXt2YXIgQT1sW3ldO3Y9bHAoQSk7aWYodiE9PXZvaWQgMCl7eD1wSyh2LCJkIixBKTticmVha319dmFyIEM9ZyE9PXZvaWQgMDtlW2JdPW9LKHYhPT12b2lkIDAsQyk7Q3x8KGc9dixoPXgpfXJldHVybiBnPwooYVtiXT1nLGQmJmgmJihkW2JdPWgpLCEwKTohMX0scks9e2VtYWlsOiIxIixwaG9uZV9udW1iZXI6IjIiLGZpcnN0X25hbWU6IjMiLGxhc3RfbmFtZToiNCIsY291bnRyeToiNSIscG9zdGFsX2NvZGU6IjYiLHN0cmVldDoiNyIsY2l0eToiOCIscmVnaW9uOiI5In07CnZhciBzSz1mdW5jdGlvbihhLGIpe2I9Yj09PXZvaWQgMD8hMTpiO2lmKHdGKGEsImNjZF9hZGRfMXBfZGF0YSIsITEpJiZSbih5SSkpe3ZhciBjPWEuRC5QW0subS55bF07aWYoc2QoYykmJmMuZW5hYmxlX2NvZGUpe3ZhciBkPUwoYS5ELEsubS5JYik7aWYoZD09PW51bGwpVChhLFEuQS5SbSxudWxsKTtlbHNlIGlmKGMuZW5hYmxlX2NvZGUmJnNkKGQpJiYob3YoZCksVChhLFEuQS5SbSxkKSksc2QoYy5zZWxlY3RvcnMpKXt2YXIgZT17fSxmPVEuQS5hcSxnO3ZhciBoPWMuc2VsZWN0b3JzLGw9Yj9lOnZvaWQgMCxuPVAoMTc4KTtsPWw9PT12b2lkIDA/e306bDtuPW49PT12b2lkIDA/ITE6bjtpZihoKXt2YXIgcD17fSxxPSExLHI9e307cT1xSyhwLCJlbWFpbCIsaC5lbWFpbCxyLGwpfHxxO3E9cUsocCwicGhvbmVfbnVtYmVyIixoLnBob25lLHIsbCl8fHE7cC5hZGRyZXNzPVtdO2Zvcih2YXIgdT1oLm5hbWVfYW5kX2FkZHJlc3N8fFtdLHQ9MDt0PHUubGVuZ3RoO3QrKyl7dmFyIHY9Cnt9LHg9e307cT1xSyh2LCJmaXJzdF9uYW1lIix1W3RdLmZpcnN0X25hbWUseCxsKXx8cTtxPXFLKHYsImxhc3RfbmFtZSIsdVt0XS5sYXN0X25hbWUseCxsKXx8cTtxPXFLKHYsInN0cmVldCIsdVt0XS5zdHJlZXQseCxsKXx8cTtxPXFLKHYsImNpdHkiLHVbdF0uY2l0eSx4LGwpfHxxO3E9cUsodiwicmVnaW9uIix1W3RdLnJlZ2lvbix4LGwpfHxxO3E9cUsodiwiY291bnRyeSIsdVt0XS5jb3VudHJ5LHgsbCl8fHE7cT1xSyh2LCJwb3N0YWxfY29kZSIsdVt0XS5wb3N0YWxfY29kZSx4LGwpfHxxO3AuYWRkcmVzcy5wdXNoKHYpO24mJih2Ll90YWdfbWV0YWRhdGE9eCl9biYmKHAuX3RhZ19tZXRhZGF0YT1yKTtnPXE/cDp2b2lkIDB9ZWxzZSBnPXZvaWQgMDtUKGEsZixnKTtpZihiKXtmb3IodmFyIHk9YS5tZXJnZUhpdERhdGFGb3JLZXksQT1LLm0uR2MsQyxFPVtdLEg9T2JqZWN0LmtleXMockspLEo9MDtKPEgubGVuZ3RoO0orKyl7dmFyIE89SFtKXSxiYT1yS1tPXSxXPXZvaWQgMCwKTj0oVz1lW09dKSE9bnVsbD9XOiIwIjtFLnB1c2goYmErIi0iK04pfUM9RS5qb2luKCJ+Iik7eS5jYWxsKGEsQSx7ZWNfZGF0YV9sYXllcjpDfSl9fX19fTtmdW5jdGlvbiB0SyhhKXt9O2Z1bmN0aW9uIFZLKCl7cmV0dXJuIEhxKDcpJiZIcSg5KSYmSHEoMTApfTtmdW5jdGlvbiBQTChhLGIsYyxkKXt9UEwuSj0iaW50ZXJuYWwuZXhlY3V0ZUV2ZW50UHJvY2Vzc29yIjtmdW5jdGlvbiBRTChhKXt2YXIgYjtyZXR1cm4gSWQoYix0aGlzLkssMSl9UUwuSj0iaW50ZXJuYWwuZXhlY3V0ZUphdmFzY3JpcHRTdHJpbmciO2Z1bmN0aW9uIFJMKGEpe3ZhciBiO3JldHVybiBifTtmdW5jdGlvbiBTTChhKXt2YXIgYj0iIjtyZXR1cm4gYn1TTC5KPSJpbnRlcm5hbC5nZW5lcmF0ZUNsaWVudElkIjtmdW5jdGlvbiBUTChhKXt2YXIgYj17fTtyZXR1cm4gSWQoYil9VEwuSj0iaW50ZXJuYWwuZ2V0QWRzQ29va2llV3JpdGluZ09wdGlvbnMiO2Z1bmN0aW9uIFVMKGEsYil7dmFyIGM9ITE7cmV0dXJuIGN9VUwuSj0iaW50ZXJuYWwuZ2V0QWxsb3dBZFBlcnNvbmFsaXphdGlvbiI7ZnVuY3Rpb24gVkwoKXt2YXIgYTtyZXR1cm4gYX1WTC5KPSJpbnRlcm5hbC5nZXRBbmRSZXNldEV2ZW50VXNhZ2UiO2Z1bmN0aW9uIFdMKGEsYil7Yj1iPT09dm9pZCAwPyEwOmI7dmFyIGM7cmV0dXJuIGN9V0wuSj0iaW50ZXJuYWwuZ2V0QXVpZCI7ZnVuY3Rpb24gWEwoKXt2YXIgYT1uZXcgYmI7SSh0aGlzLCJyZWFkX2NvbnRhaW5lcl9kYXRhIiksYS5zZXQoImNvbnRhaW5lcklkIixIZyksYS5zZXQoInZlcnNpb24iLEtnKSxhLnNldCgiZW52aXJvbm1lbnROYW1lIixKZyksYS5zZXQoImRlYnVnTW9kZSIsTGcpLGEuc2V0KCJwcmV2aWV3TW9kZSIsTWcuTm4pLGEuc2V0KCJlbnZpcm9ubWVudE1vZGUiLE1nLkpxKSxhLnNldCgiZmlyc3RQYXJ0eVNlcnZpbmciLHVqKCl8fGtnKDUwKSksYS5zZXQoImNvbnRhaW5lclVybCIsRWMpLGEuVmEoKTtyZXR1cm4gYX1YTC5wdWJsaWNOYW1lPSJnZXRDb250YWluZXJWZXJzaW9uIjtmdW5jdGlvbiBZTChhLGIpe2I9Yj09PXZvaWQgMD8hMDpiO3ZhciBjO3JldHVybiBjfVlMLnB1YmxpY05hbWU9ImdldENvb2tpZVZhbHVlcyI7ZnVuY3Rpb24gWkwoKXt2YXIgYT0iIjtyZXR1cm4gYX1aTC5KPSJpbnRlcm5hbC5nZXRDb3JlUGxhdGZvcm1TZXJ2aWNlc1BhcmFtIjtmdW5jdGlvbiAkTCgpe3JldHVybiBPbSgpfSRMLko9ImludGVybmFsLmdldENvdW50cnlDb2RlIjtmdW5jdGlvbiBhTSgpe3ZhciBhPVtdO2E9TmooKTtyZXR1cm4gSWQoYSl9YU0uSj0iaW50ZXJuYWwuZ2V0RGVzdGluYXRpb25JZHMiO2Z1bmN0aW9uIGJNKGEpe3ZhciBiPW5ldyBiYjtyZXR1cm4gYn1iTS5KPSJpbnRlcm5hbC5nZXREZXZlbG9wZXJJZHMiO2Z1bmN0aW9uIGNNKGEpe3ZhciBiO3JldHVybiBifWNNLko9ImludGVybmFsLmdldEVjc2lkQ29va2llVmFsdWUiO2Z1bmN0aW9uIGRNKGEsYil7dmFyIGM9bnVsbDtyZXR1cm4gY31kTS5KPSJpbnRlcm5hbC5nZXRFbGVtZW50QXR0cmlidXRlIjtmdW5jdGlvbiBlTShhKXt2YXIgYj1udWxsO3JldHVybiBifWVNLko9ImludGVybmFsLmdldEVsZW1lbnRCeUlkIjtmdW5jdGlvbiBmTShhKXt2YXIgYj0iIjtyZXR1cm4gYn1mTS5KPSJpbnRlcm5hbC5nZXRFbGVtZW50SW5uZXJUZXh0IjtmdW5jdGlvbiBnTShhKXt2YXIgYj1udWxsO3JldHVybiBifWdNLko9ImludGVybmFsLmdldEVsZW1lbnRQYXJlbnQiO2Z1bmN0aW9uIGhNKGEpe3ZhciBiPW51bGw7cmV0dXJuIGJ9aE0uSj0iaW50ZXJuYWwuZ2V0RWxlbWVudFByZXZpb3VzU2libGluZyI7ZnVuY3Rpb24gaU0oYSxiKXt2YXIgYz1udWxsO3JldHVybiBJZChjKX1pTS5KPSJpbnRlcm5hbC5nZXRFbGVtZW50UHJvcGVydHkiO2Z1bmN0aW9uIGpNKGEpe3ZhciBiO3JldHVybiBifWpNLko9ImludGVybmFsLmdldEVsZW1lbnRWYWx1ZSI7ZnVuY3Rpb24ga00oYSl7dmFyIGI9MDtyZXR1cm4gYn1rTS5KPSJpbnRlcm5hbC5nZXRFbGVtZW50VmlzaWJpbGl0eVJhdGlvIjtmdW5jdGlvbiBsTShhKXt2YXIgYj1udWxsO3JldHVybiBifWxNLko9ImludGVybmFsLmdldEVsZW1lbnRzQnlDc3NTZWxlY3RvciI7CmZ1bmN0aW9uIG1NKGEpe3ZhciBiO2lmKCFEaChhKSl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nIl0sYXJndW1lbnRzKTtJKHRoaXMsInJlYWRfZXZlbnRfZGF0YSIsYSk7dmFyIGM7YTp7dmFyIGQ9YSxlPVlDKHRoaXMpLm9yaWdpbmFsRXZlbnREYXRhO2lmKGUpe2Zvcih2YXIgZj1lLGc9e30saD17fSxsPXt9LG49W10scD1kLnNwbGl0KCJcXFxcIikscT0wO3E8cC5sZW5ndGg7cSsrKXtmb3IodmFyIHI9cFtxXS5zcGxpdCgiXFwuIiksdT0wO3U8ci5sZW5ndGg7dSsrKXtmb3IodmFyIHQ9clt1XS5zcGxpdCgiLiIpLHY9MDt2PHQubGVuZ3RoO3YrKyluLnB1c2godFt2XSksdiE9PXQubGVuZ3RoLTEmJm4ucHVzaChsKTt1IT09ci5sZW5ndGgtMSYmbi5wdXNoKGgpfXEhPT1wLmxlbmd0aC0xJiZuLnB1c2goZyl9Zm9yKHZhciB4PVtdLHk9IiIsQT1tKG4pLEM9QS5uZXh0KCk7IUMuZG9uZTtDPQpBLm5leHQoKSl7dmFyIEU9Qy52YWx1ZTtFPT09bD8oeC5wdXNoKHkpLHk9IiIpOnk9RT09PWc/eSsiXFwiOkU9PT1oP3krIi4iOnkrRX15JiZ4LnB1c2goeSk7Zm9yKHZhciBIPW0oeCksSj1ILm5leHQoKTshSi5kb25lO0o9SC5uZXh0KCkpe2lmKGY9PW51bGwpe2M9dm9pZCAwO2JyZWFrIGF9Zj1mW0oudmFsdWVdfWM9Zn1lbHNlIGM9dm9pZCAwfWI9SWQoYyx0aGlzLkssMSk7cmV0dXJuIGJ9bU0uSj0iaW50ZXJuYWwuZ2V0RXZlbnREYXRhIjtmdW5jdGlvbiBuTShhKXt2YXIgYj1udWxsO2lmKCFEaChhKSl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nIl0sYXJndW1lbnRzKTtJKHRoaXMsInJlYWRfZG9tX2VsZW1lbnRzIiwiY3NzIixhKTt0cnl7dmFyIGM9SkYoYSk7YyYmKGI9bmV3IEZkKGMpKX1jYXRjaChkKXtyZXR1cm4gbnVsbH1yZXR1cm4gYn1uTS5KPSJpbnRlcm5hbC5nZXRGaXJzdEVsZW1lbnRCeUNzc1NlbGVjdG9yIjt2YXIgb009e307b00uZGlzYWJsZVVzZXJEYXRhV2l0aG91dENjZD1QKDIyMyk7ZnVuY3Rpb24gcE0oKXtyZXR1cm4gSWQob00pfXBNLko9ImludGVybmFsLmdldEZsYWdzIjtmdW5jdGlvbiBxTSgpe3JldHVybiBJbVsiOCJdfHwiIn1xTS5KPSJpbnRlcm5hbC5nZXRHZW9DdXJyZW5jeUNvZGUiO2Z1bmN0aW9uIHJNKCl7dmFyIGE7cmV0dXJuIGF9ck0uSj0iaW50ZXJuYWwuZ2V0R3NhRXhwZXJpbWVudElkIjtmdW5jdGlvbiBzTSgpe3JldHVybiBuZXcgRmQoZEMpfXNNLko9ImludGVybmFsLmdldEh0bWxJZCI7ZnVuY3Rpb24gdE0oYSl7dmFyIGI7cmV0dXJuIGJ9dE0uSj0iaW50ZXJuYWwuZ2V0SWZyYW1pbmdTdGF0ZSI7ZnVuY3Rpb24gdU0oYSxiKXt2YXIgYz17fTtyZXR1cm4gSWQoYyl9dU0uSj0iaW50ZXJuYWwuZ2V0TGlua2VyVmFsdWVGcm9tTG9jYXRpb24iO2Z1bmN0aW9uIHZNKCl7dmFyIGE9bmV3IGJiO3JldHVybiBhfXZNLko9ImludGVybmFsLmdldFByaXZhY3lTdHJpbmdzIjtmdW5jdGlvbiB3TShhLGIpe3ZhciBjO2lmKCFEaChhKXx8IURoKGIpKXRocm93IEcodGhpcy5nZXROYW1lKCksWyJzdHJpbmciLCJzdHJpbmciXSxhcmd1bWVudHMpO3ZhciBkPXNGKGEpfHx7fTtjPUlkKGRbYl0sdGhpcy5LKTtyZXR1cm4gY313TS5KPSJpbnRlcm5hbC5nZXRQcm9kdWN0U2V0dGluZ3NQYXJhbWV0ZXIiO2Z1bmN0aW9uIHhNKGEsYil7dmFyIGM7cmV0dXJuIGN9eE0ucHVibGljTmFtZT0iZ2V0UXVlcnlQYXJhbWV0ZXJzIjtmdW5jdGlvbiB5TShhLGIpe3ZhciBjO3JldHVybiBjfXlNLnB1YmxpY05hbWU9ImdldFJlZmVycmVyUXVlcnlQYXJhbWV0ZXJzIjtmdW5jdGlvbiB6TShhKXt2YXIgYj0iIjtyZXR1cm4gYn16TS5wdWJsaWNOYW1lPSJnZXRSZWZlcnJlclVybCI7ZnVuY3Rpb24gQU0oKXtyZXR1cm4gUG0oKX1BTS5KPSJpbnRlcm5hbC5nZXRSZWdpb25Db2RlIjtmdW5jdGlvbiBCTShhLGIpe3ZhciBjO3JldHVybiBjfUJNLko9ImludGVybmFsLmdldFJlbW90ZUNvbmZpZ1BhcmFtZXRlciI7ZnVuY3Rpb24gQ00oYSxiKXt2YXIgYz1udWxsOwpyZXR1cm4gY31DTS5KPSJpbnRlcm5hbC5nZXRTY29wZWRFbGVtZW50c0J5Q3NzU2VsZWN0b3IiO2Z1bmN0aW9uIERNKCl7dmFyIGE9bmV3IGJiO2Euc2V0KCJ3aWR0aCIsMCk7YS5zZXQoImhlaWdodCIsMCk7cmV0dXJuIGF9RE0uSj0iaW50ZXJuYWwuZ2V0U2NyZWVuRGltZW5zaW9ucyI7ZnVuY3Rpb24gRU0oKXt2YXIgYT0iIjtyZXR1cm4gYX1FTS5KPSJpbnRlcm5hbC5nZXRUb3BTYW1lRG9tYWluVXJsIjtmdW5jdGlvbiBGTSgpe3ZhciBhPSIiO3JldHVybiBhfUZNLko9ImludGVybmFsLmdldFRvcFdpbmRvd1VybCI7ZnVuY3Rpb24gR00oYSl7dmFyIGI9IiI7aWYoIUVoKGEpKXRocm93IEcodGhpcy5nZXROYW1lKCksWyJzdHJpbmd8dW5kZWZpbmVkIl0sYXJndW1lbnRzKTtJKHRoaXMsImdldF91cmwiLGEpO2I9amoocGoody5sb2NhdGlvbi5ocmVmKSxhKTtyZXR1cm4gYn1HTS5wdWJsaWNOYW1lPSJnZXRVcmwiO2Z1bmN0aW9uIEhNKCl7SSh0aGlzLCJnZXRfdXNlcl9hZ2VudCIpO3JldHVybiBCYy51c2VyQWdlbnR9SE0uSj0iaW50ZXJuYWwuZ2V0VXNlckFnZW50IjtmdW5jdGlvbiBJTSgpe3ZhciBhO3JldHVybiBhP0lkKHRKKGEpKTphfUlNLko9ImludGVybmFsLmdldFVzZXJBZ2VudENsaWVudEhpbnRzIjt2YXIgS009ZnVuY3Rpb24oYSl7dmFyIGI9YS5ldmVudE5hbWU9PT1LLm0uZ2QmJlNsKCkmJkhJKGEpLGM9UihhLFEuQS5pbSksZD1SKGEsUS5BLmJrKSxlPVIoYSxRLkEuV2YpLGY9UihhLFEuQS5FZSksZz1QKDQyNCkmJlIoYSxRLkEuSHApLGg9UihhLFEuQS5LZyksbD1SKGEsUS5BLmNlKSxuPVIoYSxRLkEuTGcpLHA9UihhLFEuQS5NZykscT0hIUdJKGEpfHwhIVIoYSxRLkEuYmkpO3JldHVybiEoIWNkKCkmJkJjLnNlbmRCZWFjb249PT12b2lkIDB8fGV8fHF8fGZ8fGd8fGh8fGx8fHB8fG58fGJ8fGN8fCFkJiZKTSl9LEpNPSExO2Z1bmN0aW9uIExNKCl7dmFyIGE9dztyZXR1cm4gYS5nYUdsb2JhbD1hLmdhR2xvYmFsfHx7fX1mdW5jdGlvbiBNTShhLGIpe3ZhciBjPUxNKCk7aWYoYy52aWQ9PT12b2lkIDB8fGImJiFjLmZyb21fY29va2llKWMudmlkPWEsYy5mcm9tX2Nvb2tpZT1ifTt2YXIgTk09WyJHQTEiXTsKdmFyIE9NPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1SKGEsUS5BLmdrKTtpZihkPT09dm9pZCAwfHxjPD1kKVgoYSxLLm0uVmIsYiksVChhLFEuQS5nayxjKX0sUU09ZnVuY3Rpb24oYSxiKXt2YXIgYz1IdShhLEsubS5WYik7aWYoTChhLkQsSy5tLkljKSYmTChhLkQsSy5tLkhjKXx8YiYmYz09PWIpcmV0dXJuIGM7aWYoYyl7Yz0iIitjO2lmKCFQTShjLGEpKXJldHVybiBNKDMxKSxhLmlzQWJvcnRlZD0hMCwiIjtNTShjLFJuKEsubS5qYSkpO3JldHVybiBjfU0oMzIpO2EuaXNBYm9ydGVkPSEwO3JldHVybiIifSxSTT1mdW5jdGlvbihhKXt2YXIgYj1SKGEsUS5BLkZhKSxjPWIucHJlZml4KyJfZ2EiLGQ9UXIoYi5wcmVmaXgrIl9nYSIsYi5kb21haW4sYi5wYXRoLE5NLEsubS5qYSk7aWYoIWQpe3ZhciBlPVN0cmluZyhMKGEuRCxLLm0ubGQsIiIpKTtlJiZlIT09YyYmKGQ9UXIoZSxiLmRvbWFpbixiLnBhdGgsTk0sSy5tLmphKSl9cmV0dXJuIGR9LFBNPWZ1bmN0aW9uKGEsYil7dmFyIGM7CnZhciBkPVIoYixRLkEuRmEpLGU9ZC5wcmVmaXgrIl9nYSIsZj1acShkLHZvaWQgMCx2b2lkIDAsSy5tLmphKTtpZihMKGIuRCxLLm0uQWMpPT09ITEmJlJNKGIpPT09YSljPSEwO2Vsc2V7dmFyIGc7Zz1bTk1bMF0sTnIoZC5kb21haW4sZC5wYXRoKSxhXS5qb2luKCIuIik7Yz1JcihlLGcsZikhPT0xfXJldHVybiBjfTsKdmFyIFNNPWZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wO3JldHVybntzdGFydDpmdW5jdGlvbigpe2I9R2IoKX0sc3RvcDpmdW5jdGlvbigpe2M9dGhpcy5nZXQoKX0sZ2V0OmZ1bmN0aW9uKCl7dmFyIGQ9MDthLnRqKCkmJihkPUdiKCktYik7cmV0dXJuIGQrY319fSxUTT1mdW5jdGlvbigpe3RoaXMuQz12b2lkIDA7dGhpcy5IPTA7dGhpcy5pc0FjdGl2ZT10aGlzLmlzVmlzaWJsZT10aGlzLlA9ITE7dGhpcy5WPXRoaXMuVD12b2lkIDB9O2s9VE0ucHJvdG90eXBlO2suSnA9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZighdGhpcy5DKXt0aGlzLlA9ei5oYXNGb2N1cygpO3RoaXMuaXNWaXNpYmxlPSF6LmhpZGRlbjt0aGlzLmlzQWN0aXZlPSEwO3ZhciBjPWZ1bmN0aW9uKGUsZixnKXtTYyhlLGYsZnVuY3Rpb24oaCl7Yi5DLnN0b3AoKTtnKGgpO2IudGooKSYmYi5DLnN0YXJ0KCl9KX0sZD13O2MoZCwiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5QPSEwfSk7YyhkLCJibHVyIixmdW5jdGlvbigpe2IuUD0KITF9KTtjKGQsInBhZ2VzaG93IixmdW5jdGlvbihlKXtiLmlzQWN0aXZlPSEwO2UucGVyc2lzdGVkJiZNKDU2KTtiLlYmJmIuVigpfSk7YyhkLCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtiLmlzQWN0aXZlPSExO2IuVCYmYi5UKCl9KTtjKHosInZpc2liaWxpdHljaGFuZ2UiLGZ1bmN0aW9uKCl7Yi5pc1Zpc2libGU9IXouaGlkZGVufSk7SEkoYSkmJiFIYygpJiZjKGQsImJlZm9yZXVubG9hZCIsZnVuY3Rpb24oKXtKTT0hMH0pO3RoaXMuSmooITApO3RoaXMuSD0wfX07ay5Kaj1mdW5jdGlvbihhKXtpZigoYT09PXZvaWQgMD8wOmEpfHx0aGlzLkMpdGhpcy5IKz10aGlzLkxoKCksdGhpcy5DPVNNKHRoaXMpLHRoaXMudGooKSYmdGhpcy5DLnN0YXJ0KCl9O2sueHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5MaCgpO2I+MCYmWChhLEsubS5XZyxiKX07ay5lcj1mdW5jdGlvbihhKXtYKGEsSy5tLldnKTt0aGlzLkpqKCk7dGhpcy5IPTB9O2sudGo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QJiYKdGhpcy5pc1Zpc2libGUmJnRoaXMuaXNBY3RpdmV9O2suVHE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IK3RoaXMuTGgoKX07ay5MaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkMmJnRoaXMuQy5nZXQoKXx8MH07ay5Scj1mdW5jdGlvbihhKXt0aGlzLlQ9YX07ay5Bbj1mdW5jdGlvbihhKXt0aGlzLlY9YX07dmFyIFVNPWZ1bmN0aW9uKGEpe2tiKCJHQTRfRVZFTlQiLGEpfTt2YXIgVk09ZnVuY3Rpb24oYSl7dmFyIGIsYz1SKGEsUS5BLkZsKTtpZihBcnJheS5pc0FycmF5KGMpKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKVVNKGNbZF0pOyhiPXBiKGpiLkdBNF9FVkVOVHx8W10pKSYmWChhLCJfZXUiLGIpfTsKdmFyIFlNPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBSZWdFeHAoIl4iKygoKGE9PW51bGw/dm9pZCAwOmEucHJlZml4KXx8IiIpKyJfZ2FfXFx3KyQiKSksYz1XcyhmdW5jdGlvbihwKXtyZXR1cm4gYi50ZXN0KHApfSksZD17fSxlO2ZvcihlIGluIGMpaWYoYy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGY9V00oY1tlXSk7aWYoZil7dmFyIGc9U3MoZiwyKTtpZihnKXt2YXIgaD1YTShnKTtpZihoKXt2YXIgbD12b2lkIDAsbj0oKChsPWEpPT1udWxsP3ZvaWQgMDpsLnByZWZpeCl8fCIiKS5sZW5ndGgrNDtkWyJHLSIrZS5zdWJzdHJpbmcobildPWh9fX19cmV0dXJuIGR9LFpNPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiO2E6e3ZhciBjPShMYihhLCJzIikmJmEuaW5kZXhPZigiLiIpPT09LTE/IkdTMiI6IkdTMSIpKyIuMS4iK2E7dHJ5e2I9UXMoYywyKTticmVhayBhfWNhdGNoKGQpe31iPXZvaWQgMH1yZXR1cm4gYn19LFdNPWZ1bmN0aW9uKGEpe2lmKGEmJmEubGVuZ3RoIT09MCl7Zm9yKHZhciBiLApjPS1JbmZpbml0eSxkPW0oYSksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpe3ZhciBmPWUudmFsdWU7aWYoZi50IT09dm9pZCAwKXt2YXIgZz1OdW1iZXIoZi50KTshaXNOYU4oZykmJmc+YyYmKGM9ZyxiPWYpfX1yZXR1cm4gYn19LFhzPWZ1bmN0aW9uKGEpe2EmJihhPT09IkdTMSI/VU0oRi5NLlJsKTphPT09IkdTMiImJlVNKEYuTS5TbCkpfSxYTT1mdW5jdGlvbihhKXt2YXIgYj1aTShhKTtpZihiKXt2YXIgYz1OdW1iZXIoYi5vKSxkPU51bWJlcihiLnQpLGU9TnVtYmVyKGIuanx8MCk7Y3x8VU0oRi5NLllsKTtkfHxVTShGLk0uWGwpO2lzTmFOKGUpJiZVTShGLk0uV2wpO2lmKGMmJmQmJiFpc05hTihlKSl7dmFyIGY9Yi5oLGc9ZiYmZiE9PSIwIj9TdHJpbmcoZik6dm9pZCAwLGg9Yi5kP1N0cmluZyhiLmQpOnZvaWQgMCxsPXt9O3JldHVybiBsLnM9U3RyaW5nKGIucyksbC5vPWMsbC5nPSEhTnVtYmVyKGIuZyksbC50PWQsbC5kPWgsbC5qPWUsbC5sPWIubD09PSIxIiwKbC5oPWcsbH19fTsKdmFyIGFOPWZ1bmN0aW9uKGEsYixjKXtpZighYilyZXR1cm4gYTtpZighYSlyZXR1cm4gYjt2YXIgZD1YTShhKTtpZighZClyZXR1cm4gYjt2YXIgZSxmPUJiKChlPUwoYy5ELEsubS5qaCkpIT1udWxsP2U6MzApLGc9UihjLFEuQS5tYik7aWYoIShNYXRoLmZsb29yKGcvMUUzKT5kLnQrZio2MCkpcmV0dXJuIGE7dmFyIGg9WE0oYik7aWYoIWgpcmV0dXJuIGE7aC5vPWQubysxO3ZhciBsO3JldHVybihsPSRNKGgpKSE9bnVsbD9sOmJ9LGNOPWZ1bmN0aW9uKGEsYil7dmFyIGM9UihiLFEuQS5GYSksZD1iTihiLGMpLGU9Wk0oYSk7aWYoIWUpcmV0dXJuITE7dmFyIGY9WnEoY3x8e30sdm9pZCAwLHZvaWQgMCxUcy5nZXQoMikpO0lyKGQsdm9pZCAwLGYpO3JldHVybiBZcyhkLGUsMixjKSE9PTF9LGROPWZ1bmN0aW9uKGEpe3ZhciBiPVIoYSxRLkEuRmEpLGM7dmFyIGQ9Yk4oYSxiKSxlO2I6e3ZhciBmPVhzLGc9UHNbMl07aWYoZyl7dmFyIGgsbD1McihiLmRvbWFpbiksbj1NcihiLnBhdGgpLApwPU9iamVjdC5rZXlzKGcuVWgpLHE9VHMuZ2V0KDIpLHI7aWYoaD0ocj1BcihkLGwsbixwLHEpKT09bnVsbD92b2lkIDA6ci56cSl7dmFyIHU9UXMoaCwyLGYpO2U9dT9Wcyh1KTp2b2lkIDA7YnJlYWsgYn19ZT12b2lkIDB9aWYoZSl7dmFyIHQ9VXMoZCwyLFhzKTtpZih0JiZ0Lmxlbmd0aD4xKXtVTShGLk0uUWwpO3ZhciB2PVdNKHQpO3YmJnYudCE9PWUudCYmKFVNKEYuTS5UbCksZT12KX1jPVNzKGUsMil9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY30sZU49ZnVuY3Rpb24oYSl7dmFyIGI9UihhLFEuQS5tYiksYz17fTtjLnM9SHUoYSxLLm0uWWIpO2Mubz1IdShhLEsubS5taCk7dmFyIGQ7ZD1IdShhLEsubS5raCk7dmFyIGU9KGMuZz1kLGMudD1NYXRoLmZsb29yKGIvMUUzKSxjLmQ9UihhLFEuQS5ZZiksYy5qPVIoYSxRLkEuWmYpfHwwLGMubD0hIVIoYSxRLkEuQmwpLGMuaD1IdShhLEsubS5YZyksYyk7cmV0dXJuICRNKGUpfSwkTT1mdW5jdGlvbihhKXtpZihhLnMmJmEubyl7dmFyIGI9Cnt9LGM9KGIucz1hLnMsYi5vPVN0cmluZyhhLm8pLGIuZz1CYihhLmcpPyIxIjoiMCIsYi50PVN0cmluZyhhLnQpLGIuaj1TdHJpbmcoYS5qKSxiLmw9YS5sPyIxIjoiMCIsYi5oPWEuaHx8IjAiLGIuZD1hLmQsYik7cmV0dXJuIFNzKGMsMil9fSxiTj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnByZWZpeCsiX2dhXyIrYS50YXJnZXQuaWRzW25vWzZdXX07CnZhciBmTj1mdW5jdGlvbihhKXt2YXIgYj1MKGEuRCxLLm0uY2IpLGM9YS5ELlBbSy5tLmNiXTtpZihjPT09YilyZXR1cm4gYzt2YXIgZD10ZChiLG51bGwpO2MmJmNbSy5tLnJhXSYmKGRbSy5tLnJhXT0oZFtLLm0ucmFdfHxbXSkuY29uY2F0KGNbSy5tLnJhXSkpO3JldHVybiBkfSxnTj1mdW5jdGlvbihhLGIpe3ZhciBjPWlzKCEwKTtyZXR1cm4gYy5fdXAhPT0iMSI/e306e2NsaWVudElkOmNbYV0scmI6Y1tiXX19LGhOPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1pcyghMCksZT1kW2JdO2UmJihPTShhLGUsMiksUE0oZSxhKSk7dmFyIGY9ZFtjXTtmJiZjTihmLGEpO3JldHVybntjbGllbnRJZDplLHJiOmZ9fSxpTj1mdW5jdGlvbigpe3ZhciBhPWxqKHcubG9jYXRpb24sImhvc3QiKSxiPWxqKHBqKHoucmVmZXJyZXIpLCJob3N0Iik7cmV0dXJuIGEmJmI/YT09PWJ8fGEuaW5kZXhPZigiLiIrYik+PTB8fGIuaW5kZXhPZigiLiIrYSk+PTA/ITA6ITE6ITF9LGpOPWZ1bmN0aW9uKGEpe2lmKCFMKGEuRCwKSy5tLkhiKSlyZXR1cm57fTt2YXIgYj1SKGEsUS5BLkZhKSxjPWIucHJlZml4KyJfZ2EiLGQ9Yk4oYSxiKTtxcyhmdW5jdGlvbigpe3ZhciBlO2lmKFJuKCJhbmFseXRpY3Nfc3RvcmFnZSIpKWU9e307ZWxzZXt2YXIgZj17X3VwOiIxIn0sZztnPUh1KGEsSy5tLlZiKTtlPShmW2NdPWcsZltkXT1lTihhKSxmKX1yZXR1cm4gZX0sMSk7cmV0dXJuIVJuKCJhbmFseXRpY3Nfc3RvcmFnZSIpJiZpTigpP2dOKGMsZCk6e319LGxOPWZ1bmN0aW9uKGEpe3ZhciBiPWZOKGEpfHx7fSxjPVIoYSxRLkEuRmEpLGQ9Yy5wcmVmaXgrIl9nYSIsZT1iTihhLGMpLGY9e307c3MoYltLLm0uSGZdLCEhYltLLm0ucmFdKSYmKGY9aE4oYSxkLGUpLGYuY2xpZW50SWQmJmYucmImJihrTj0hMCkpO2JbSy5tLnJhXSYmcHMoZnVuY3Rpb24oKXt2YXIgZz17fSxoPVJNKGEpO2gmJihnW2RdPWgpO3ZhciBsPWROKGEpO2wmJihnW2VdPWwpO3ZhciBuPXdyKCJGUExDIix2b2lkIDAsdm9pZCAwLEsubS5qYSk7bi5sZW5ndGgmJgooZy5fZnBsYz1uWzBdKTtyZXR1cm4gZ30sYltLLm0ucmFdLGJbSy5tLnJkXSwhIWJbSy5tLkpjXSk7cmV0dXJuIGZ9LGtOPSExO3ZhciBtTj1mdW5jdGlvbihhKXtpZighUihhLFEuQS5GZCkmJnpqKGEuRCkpe3ZhciBiPWZOKGEpfHx7fSxjPShzcyhiW0subS5IZl0sISFiW0subS5yYV0pP2lzKCEwKS5fZnBsYzp2b2lkIDApfHwod3IoIkZQTEMiLHZvaWQgMCx2b2lkIDAsSy5tLmphKS5sZW5ndGg+MD92b2lkIDA6IjAiKTtYKGEsIl9mcGxjIixjKX19O2Z1bmN0aW9uIG5OKGEpeyhISShhKXx8dWooKSkmJlgoYSxLLm0uemwsUG0oKXx8T20oKSk7IUhJKGEpJiZ1aigpJiZYKGEsSy5tLkVpLCI6OiIpfWZ1bmN0aW9uIG9OKGEpe2lmKHVqKCkmJiFISShhKSYmKFNtKCl8fFgoYSxLLm0uYWwsITApLFAoNzgpKSl7Z0soYSk7ZksoYSxlSy5UZi5lbyxsbihMKGEuRCxLLm0uWGEpKSk7dmFyIGI9ZUsuVGYuZm87dmFyIGM9TChhLkQsSy5tLkFjKTtmSyhhLGIsYz09PSEwPzE6Yz09PSExPzA6dm9pZCAwKTtmSyhhLGVLLlRmLmNvLGxuKEwoYS5ELEsubS5GYikpKTtmSyhhLGVLLlRmLmFvLE5yKGtuKEwoYS5ELEsubS53YikpLGtuKEwoYS5ELEsubS5XYikpKSl9fTt2YXIgcU49ZnVuY3Rpb24oYSxiKXskbigiZ3JsIixmdW5jdGlvbigpe3JldHVybiBwTigpfSkoYil8fChNKDM1KSxhLmlzQWJvcnRlZD0hMCl9LHBOPWZ1bmN0aW9uKCl7dmFyIGE9R2IoKSxiPWErODY0RTUsYz0yMCxkPTVFMztyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGY9R2IoKTtmPj1iJiYoYj1mKzg2NEU1LGQ9NUUzKTtjPU1hdGgubWluKGMrKGYtYSkvMUUzKjUsMjApO2E9Zjt2YXIgZz0hMTtkPDF8fGM8MXx8KGc9ITAsZC0tLGMtLSk7ZSYmKGUuRnE9ZCxlLnNxPWMpO3JldHVybiBnfX07CnZhciByTj1mdW5jdGlvbihhKXt2YXIgYj1IdShhLEsubS5ZYSk7cmV0dXJuIGpqKHBqKGIpLCJob3N0IiwhMCl9LHNOPWZ1bmN0aW9uKGEpe2lmKEwoYS5ELEsubS5HZikhPT12b2lkIDApYS5jb3B5VG9IaXREYXRhKEsubS5HZik7ZWxzZXt2YXIgYj1MKGEuRCxLLm0ub2wpLGMsZDthOntpZihrTil7dmFyIGU9Zk4oYSl8fHt9O2lmKGUmJmVbSy5tLnJhXSlmb3IodmFyIGY9ck4oYSksZz1lW0subS5yYV0saD0wO2g8Zy5sZW5ndGg7aCsrKWlmKGdbaF1pbnN0YW5jZW9mIFJlZ0V4cCl7aWYoZ1toXS50ZXN0KGYpKXtkPSEwO2JyZWFrIGF9fWVsc2UgaWYoZi5pbmRleE9mKGdbaF0pPj0wKXtkPSEwO2JyZWFrIGF9fWQ9ITF9aWYoIShjPWQpKXt2YXIgbDtpZihsPWIpYTp7Zm9yKHZhciBuPWIuaW5jbHVkZV9jb25kaXRpb25zfHxbXSxwPXJOKGEpLHE9MDtxPG4ubGVuZ3RoO3ErKylpZihuW3FdLnRlc3QocCkpe2w9ITA7YnJlYWsgYX1sPSExfWM9bH1jJiYoWChhLEsubS5HZiwiMSIpLApVTShGLk0ud20pKX19Owp2YXIgdE49ZnVuY3Rpb24oYSxiKXtPcSgpJiYoYS5nY3M9UHEoKSxSKGIsUS5BLnRoKSYmKGEuZ2N1PSIxIikpO2EuZ2NkPVRxKGIuRCk7YS5ucGE9UihiLFEuQS5iZCk/IjAiOiIxIjtZcSgpJiYoYS5fbmc9IjEiKX0sdU49ZnVuY3Rpb24oYSl7aWYoUihhLFEuQS5GZCkpcmV0dXJue3VybDpBaigiaHR0cHM6Ly93d3cubWVyY2hhbnQtY2VudGVyLWFuYWx5dGljcy5nb29nIix2b2lkIDAsIiIpKyIvbWMvY29sbGVjdCIsZW5kcG9pbnQ6MjB9O3ZhciBiPXdqKHpqKGEuRCksIi9nL2NvbGxlY3QiKTtpZihiKXJldHVybnt1cmw6YixlbmRwb2ludDoxNn07dmFyIGM9SUkoYSksZD1MKGEuRCxLLm0uVWIpLGU9YyYmIVFtKCkmJmQhPT0hMSYmVksoKSYmUm4oSy5tLlcpJiZSbihLLm0uamEpPzE3OjE2O3JldHVybnt1cmw6aHYoZSksZW5kcG9pbnQ6ZX19LHZOPXt9O3ZOW0subS5WYl09ImNpZCI7dk5bSy5tLmhpXT0iZ2N1dCI7dk5bSy5tLmtkXT0iYXJlIjt2TltLLm0uUWddPSJwc2NkbCI7CnZOW0subS5taV09Il9maWQiO3ZOW0subS5Xa109Il9nZW8iO3ZOW0subS5GY109ImdkaWQiO3ZOW0subS53ZV09Il9uZyI7dk5bSy5tLnBkXT0iZnJtIjt2TltLLm0uR2ZdPSJpciI7dk5bSy5tLmFsXT0iZnAiO3ZOW0subS5sYl09InVsIjt2TltLLm0uaGhdPSJuaSI7dk5bSy5tLmtwXT0icGFlIjt2TltLLm0uaWhdPSJfcmRpIjt2TltLLm0uTmNdPSJzciI7dk5bSy5tLm5oXT0idGlkIjt2TltLLm0ud2ldPSJ0dCI7dk5bSy5tLkpiXT0iZWNfbW9kZSI7dk5bSy5tLmdtXT0iZ3RtX3VwIjt2TltLLm0uS2ZdPSJ1YWEiO3ZOW0subS5MZl09InVhYiI7dk5bSy5tLk1mXT0idWFmdmwiO3ZOW0subS5OZl09InVhbWIiO3ZOW0subS5PZl09InVhbSI7dk5bSy5tLlBmXT0KInVhcCI7dk5bSy5tLlFmXT0idWFwdiI7dk5bSy5tLlJmXT0idWF3Ijt2TltLLm0uemxdPSJ1ciI7dk5bSy5tLkVpXT0iX3VpcCI7dk5bSy5tLmpwXT0iX3BycyI7dk5bSy5tLnhlXT0ibHBzIjt2TltLLm0ua2VdPSJnY2xncyI7dk5bSy5tLm5lXT0iZ2Nsc3QiO3ZOW0subS5tZV09ImdjbGxwIjt2YXIgd049e307d05bSy5tLnFmXT0iY2MiO3dOW0subS5yZl09ImNpIjt3TltLLm0udGZdPSJjbSI7d05bSy5tLnVmXT0iY24iO3dOW0subS53Zl09ImNzIjt3TltLLm0ueGZdPSJjayI7d05bSy5tLmtiXT0KImN1Ijt3TltLLm0uRmZdPSJfdHUiO3dOW0subS54YV09ImRsIjt3TltLLm0uSWZdPSJkcCI7d05bSy5tLllhXT0iZHIiO3dOW0subS5HYl09ImR0Ijt3TltLLm0ua2hdPSJzZWciO3dOW0subS5ZYl09InNpZCI7d05bSy5tLm1oXT0ic2N0Ijt3TltLLm0uT2FdPSJ1aWQiO3ZhciB4Tj17fTt4TltLLm0uV2ddPSJfZXQiO3hOW0subS5EY109ImVkaWQiO1AoOTQpJiYoeE4uX2V1PSJfZXUiKTt2YXIgeU49e307eU5bSy5tLnFmXT0iY2MiO3lOW0subS5yZl09ImNpIjt5TltLLm0udGZdPSJjbSI7eU5bSy5tLnVmXT0iY24iO3lOW0subS53Zl09ImNzIjt5TltLLm0ueGZdPSJjayI7dmFyIHpOPXt9LEFOPSh6TltLLm0uSWJdPTEsek4pLEJOPWZ1bmN0aW9uKGEsCmIsYyl7ZnVuY3Rpb24gZChOLFMpe2lmKFMhPT12b2lkIDAmJiFWbS5oYXNPd25Qcm9wZXJ0eShOKSl7Uz09PW51bGwmJihTPSIiKTt2YXIgbGE7dmFyIGphPVM7TiE9PUsubS5YZz9sYT0hMTpSKGEsUS5BLkJlKXx8SEkoYSk/KGUuZWNpZD1qYSxsYT0hMCk6bGE9dm9pZCAwO2lmKCFsYSl7dmFyIFY9UztTPT09ITAmJihWPSIxIik7Uz09PSExJiYoVj0iMCIpO1Y9U3RyaW5nKFYpO3ZhciBVO2lmKHZOW05dKVU9dk5bTl0sZVtVXT1WO2Vsc2UgaWYod05bTl0pVT13TltOXSxnW1VdPVY7ZWxzZSBpZih4TltOXSlVPXhOW05dLGZbVV09VjtlbHNlIGlmKE4uY2hhckF0KDApPT09Il8iKWVbTl09VjtlbHNle3ZhciBoYTt5TltOXT9oYT0hMDpOIT09Sy5tLnZmP2hhPSExOih0eXBlb2YgUyE9PSJvYmplY3QiJiZ2KE4sUyksaGE9ITApO2hhfHx2KE4sUyl9fX19dmFyIGU9e30sZj17fSxnPXt9O2Uudj0iMiI7ZS50aWQ9YS50YXJnZXQuZGVzdGluYXRpb25JZDtlLmd0bT1zcCh7UmE6UihhLApRLkEuUGEpLG1jOlIoYSxRLkEuZWIpfSk7ZS5fcD1iajtpZihjJiYoYy5pYnx8Yy5uaikmJihQKDEyNSl8fChlLmVtPWMubmMpLGMuTWIpKXt2YXIgaD1jLk1iLk1lO2gmJiFQKDgpJiYoaD1oLnJlcGxhY2UoLy4vZywiKiIpKTtoJiYoZS5lbWU9aCl9UihhLFEuQS5jZSkmJihlLl9nYXo9MSk7dE4oZSxhKTtXcSgpJiYoZS5kbWFfY3BzPVVxKCkpO2UuZG1hPVZxKCk7cnEoenEoKSkmJihlLnRjZmQ9WHEoKSk7dmFyIGw9c3coYSk7bCYmKGcudGFnX2V4cD1sKTt2YXIgbj1IdShhLEsubS5GYyk7biYmKGUuZ2RpZD1uKTtmLmVuPVN0cmluZyhhLmV2ZW50TmFtZSk7aWYoUihhLFEuQS5YZikpe3ZhciBwPVIoYSxRLkEuZG0pO2YuX2Z2PXA/MjoxfVIoYSxRLkEud2gpJiYoZi5fbnNpPTEpO2lmKFIoYSxRLkEuRWUpKXt2YXIgcT1SKGEsUS5BLmhtKTtmLl9zcz1xPzI6MX1SKGEsUS5BLldmKSYmKGYuX2M9MSk7UihhLFEuQS5EZCkmJihmLl9lZT0xKTtpZihSKGEsUS5BLmFtKSl7dmFyIHI9Ckh1KGEsSy5tLkJhKXx8TChhLkQsSy5tLkJhKTtpZihBcnJheS5pc0FycmF5KHIpKWZvcih2YXIgdT0wO3U8ci5sZW5ndGgmJnU8MjAwO3UrKylmWyJwciIrKHUrMSldPVFnKHJbdV0pfXZhciB0PUh1KGEsSy5tLkRjKTt0JiYoZi5lZGlkPXQpO3Z3KGEsZik7Zm9yKHZhciB2PWZ1bmN0aW9uKE4sUyl7aWYodHlwZW9mIFMhPT0ib2JqZWN0Inx8IUFOW05dKXt2YXIgbGE9ImVwLiIrTixqYT0iZXBuLiIrTjtOPXRiKFMpP2phOmxhO3ZhciBWPXRiKFMpP2xhOmphO2YuaGFzT3duUHJvcGVydHkoVikmJmRlbGV0ZSBmW1ZdO2ZbTl09U3RyaW5nKFMpfX0seD1tKE9iamVjdC5rZXlzKGEuQykpLHk9eC5uZXh0KCk7IXkuZG9uZTt5PXgubmV4dCgpKXt2YXIgQT15LnZhbHVlO2QoQSxIdShhLEEpKX0oZnVuY3Rpb24oTil7SEkoYSkmJnR5cGVvZiBOPT09Im9iamVjdCImJnpiKE58fHt9LGZ1bmN0aW9uKFMsbGEpe3R5cGVvZiBsYSE9PSJvYmplY3QiJiYoZVsic3N0LiIrU109U3RyaW5nKGxhKSl9KX0pKEh1KGEsCksubS5SaSkpO3V3KGUsSHUoYSxLLm0uUGMpKTt2YXIgQz1IdShhLEsubS55ZCl8fHt9O0woYS5ELEsubS5VYix2b2lkIDAsNCk9PT0hMSYmKGUubmdzPSIxIik7emIoQyxmdW5jdGlvbihOLFMpe1MhPT12b2lkIDAmJigoUz09PW51bGwmJihTPSIiKSxOIT09Sy5tLk9hfHxnLnVpZCk/YltOXSE9PVMmJihmWyh0YihTKT8idXBuLiI6InVwLiIpK1N0cmluZyhOKV09U3RyaW5nKFMpLGJbTl09Uyk6Zy51aWQ9U3RyaW5nKFMpKX0pO2lmKHVqKCkmJiFTbSgpKXt2YXIgRT1SKGEsUS5BLllmKTtFP2UuX2dzaWQ9RTplLm5qaWQ9IjEifWlmKFAoNDE4KSl7dmFyIEg9SHUoYSxLLm0ub2QpO2lmKEgpZm9yKHZhciBKPW0oT2JqZWN0LmtleXMoSCkpLE89Si5uZXh0KCk7IU8uZG9uZTtPPUoubmV4dCgpKXt2YXIgYmE9Ty52YWx1ZTtmWyJleHQuIitiYV09SFtiYV18fCIifX12YXIgVz11TihhKTtZZy5jYWxsKHRoaXMse0RhOmUsVmQ6ZyxpajpmfSxXLnVybCxXLmVuZHBvaW50LEhJKGEpLHZvaWQgMCwKYS50YXJnZXQuZGVzdGluYXRpb25JZCxhLkQuZXZlbnRJZCxhLkQucHJpb3JpdHlJZCl9O3dhKEJOLFlnKTsKdmFyIENOPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEucmVwbGFjZSgvXCRceyhbXlx9XSspXH0vZyxmdW5jdGlvbihjLGQpe3JldHVybiBiW2RdfHxjfSl9LEROPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9IiIsZD1hLnBhdGhuYW1lLmluZGV4T2YoIi9nL2NvbGxlY3QiKTtkPj0wJiYoYz1hLnBhdGhuYW1lLnN1YnN0cmluZygwLGQpKTtiLnRyYW5zcG9ydF91cmw9YS5wcm90b2NvbCsiLy8iK2EuaG9zdG5hbWUrYzt2YXIgZTt0cnl7ZT1lbmNvZGVVUklDb21wb25lbnQoY3x8Ii8iKX1jYXRjaChmKXtlPWVuY29kZVVSSUNvbXBvbmVudCgiLyIpfWIuZW5jb2RlZF9wYXRoPWU7cmV0dXJuIGJ9LEVOPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9MCxnPW5ldyB3LlhNTEh0dHBSZXF1ZXN0O2cud2l0aENyZWRlbnRpYWxzPSEwO2cub25wcm9ncmVzcz1mdW5jdGlvbihoKXtpZihnLnN0YXR1cz09PTIwMCl7dmFyIGw9Zy5yZXNwb25zZVRleHQuc3Vic3RyaW5nKGYpO2Y9aC5sb2FkZWQ7dXgoYywKbCl9fTtnLm9uZXJyb3I9ZnVuY3Rpb24oKXtlPT1udWxsfHxlKCl9O2cub25sb2FkPWZ1bmN0aW9uKCl7Zy5zdGF0dXM8PTM5OXx8ZT09bnVsbHx8ZSgpfTtnLm9wZW4oYj8iUE9TVCI6IkdFVCIsYSk7KGQ9PW51bGw/MDpkLmF0dHJpYnV0aW9uUmVwb3J0aW5nKSYmZy5zZXRBdHRyaWJ1dGlvblJlcG9ydGluZyYmZy5zZXRBdHRyaWJ1dGlvblJlcG9ydGluZyhkLmF0dHJpYnV0aW9uUmVwb3J0aW5nKTtnLnNlbmQoYil9LEdOPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gZD13eChuZXcgdngoZnVuY3Rpb24oZSxmKXt2YXIgZz1DTihlLGIpO2MmJihnPWcucmVwbGFjZSgiX2lzX3N3PTAiLGMpKTt2YXIgaD17fTtmLmF0dHJpYnV0aW9uX3JlcG9ydGluZyYmKGguYXR0cmlidXRpb25zcmM9IiIpO0FsKGEsZyx2b2lkIDAseXgoZCxmKSxoKX0pLGZ1bmN0aW9uKGUsZil7dmFyIGc9Q04oZSxiKTtjJiYoZz1nLnJlcGxhY2UoIl9pc19zdz0wIixjKSk7dmFyIGg9e307Zi5hdHRyaWJ1dGlvbl9yZXBvcnRpbmcmJgooaC5hdHRyaWJ1dGlvblJlcG9ydGluZz17ZXZlbnRTb3VyY2VFbGlnaWJsZTohMSx0cmlnZ2VyRWxpZ2libGU6ITB9KTtmLnByb2Nlc3NfcmVzcG9uc2U/Rk4oYSxnLHZvaWQgMCxkLGgseXgoZCxmKSk6QmwoYSxnLHZvaWQgMCxoLHZvaWQgMCx5eChkLGYpKX0pfSxITj1mdW5jdGlvbihhLGIsYyxkLGUpe0VrKGEsMixiKTt2YXIgZj1HTihhLGQsZSk7Rk4oYSxiLGMsZil9LEZOPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtjZCgpP3R4KGEsYixjLGQsZSx2b2lkIDAsZik6RU4oYixjLGQsKGU9PW51bGw/MDplLmF0dHJpYnV0aW9uUmVwb3J0aW5nKT97YXR0cmlidXRpb25SZXBvcnRpbmc6ZS5hdHRyaWJ1dGlvblJlcG9ydGluZ306e30sZil9LElOPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1waihiKSxlPUROKGQpLGY9QXgoZCk7IVAoMTMyKXx8R2MoIjsgd3YiKXx8R2MoIkZCQU4iKXx8R2MoIkZCQVYiKXx8SWMoKT9ITihhLGYsYyxlKTokeChmLGMsZSxmdW5jdGlvbihnKXtITihhLGYsYywKZSxnKX0pfTt2YXIgSk49e0FXOmdtLlouUm4sRzpnbS5aLkJwLERDOmdtLloudXB9O2Z1bmN0aW9uIEtOKGEpe3ZhciBiPUh2KGEpO3JldHVybiIiK2JpKGIubWFwKGZ1bmN0aW9uKGMpe3JldHVybiBjLnZhbHVlfSkuam9pbigiISIpKX1mdW5jdGlvbiBMTihhKXt2YXIgYj1sbyhhKTtyZXR1cm4gYiYmSk5bYi5wcmVmaXhdfWZ1bmN0aW9uIE1OKGEsYil7dmFyIGM9YVtiXTtjJiYoYy5jbGVhclRpbWVySWQmJncuY2xlYXJUaW1lb3V0KGMuY2xlYXJUaW1lcklkKSxjLmNsZWFyVGltZXJJZD13LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgYVtiXX0sMzZFNSkpfTsKdmFyIE5OPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWErIj8iK2I7ZD96bChjLGUsZCk6eWwoYyxlKX0sUE49ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1iLGc9ZmQoKTtnIT09dm9pZCAwJiYoZis9IiZ0ZmQ9IitNYXRoLnJvdW5kKGcpKTtiPWY7dmFyIGg9YSsiPyIrYjtPTiYmKGQ9IUxiKGgsZ3YoKSkmJiFMYihoLGZ2KCkpKTtpZihkJiYhSk0pSU4oZSxoLGMpO2Vsc2V7dmFyIGw9YjtjZCgpP0JsKGUsYSsiPyIrbCxjLHtSZTohMH0pfHxOTihhLGwsZSxjKTpOTihhLGwsZSxjKX19LFFOPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWZ1bmN0aW9uKGgpe2QucHVzaChoKyI9IitlbmNvZGVVUklDb21wb25lbnQoIiIrYS5EYVtoXSkpfTtkLnB1c2goInY9MiIpO2UoIl9nc2lkIik7ZSgiZ3RtIik7YS5EYS5fZ2VvJiZlKCJfZ2VvIik7dmFyIGY9Imh0dHBzOi8ve2dhNENvbGxlY3Rpb25TdWJkb21haW4ufWdvb2dsZS1hbmFseXRpY3MuY29tL2cvcy9jb2xsZWN0Ii5yZXBsYWNlKCJ7Z2E0Q29sbGVjdGlvblN1YmRvbWFpbi59IiwoYnx8CiJ3d3ciKSsiLiIpLGc9ZC5qb2luKCImIik7Tk4oZixnLHtkZXN0aW5hdGlvbklkOmEuZGVzdGluYXRpb25JZHx8IiIsZW5kcG9pbnQ6NjIsZXZlbnRJZDphLmV2ZW50SWQscHJpb3JpdHlJZDphLnByaW9yaXR5SWR9KTtDbih7dGFyZ2V0SWQ6U3RyaW5nKGEuRGEudGlkKSxyZXF1ZXN0Ont1cmw6ZisiPyIrZyxwYXJhbWV0ZXJFbmNvZGluZzoyLGVuZHBvaW50OjYyfSxoYjpjfSl9LFJOPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iaHR0cHM6Ly97Z2E0Q29sbGVjdGlvblN1YmRvbWFpbi59YW5hbHl0aWNzLmdvb2dsZS5jb20vZy9zL2NvbGxlY3QiLnJlcGxhY2UoIntnYTRDb2xsZWN0aW9uU3ViZG9tYWluLn0iLGI/YisiLiI6IiIpLGU9W10sZj1mdW5jdGlvbihoKXtlLnB1c2goaCsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KCIiK2EuRGFbaF0pKX07ZigiX2dzaWQiKTtmKCJndG0iKTthLkRhLl9nZW8mJmYoIl9nZW8iKTt2YXIgZz1lLmpvaW4oIiYiKTtOTihkLGcse2Rlc3RpbmF0aW9uSWQ6YS5kZXN0aW5hdGlvbklkfHwKIiIsZW5kcG9pbnQ6MTgsZXZlbnRJZDphLmV2ZW50SWQscHJpb3JpdHlJZDphLnByaW9yaXR5SWR9KTtDbih7dGFyZ2V0SWQ6U3RyaW5nKGEuRGEudGlkKSxyZXF1ZXN0Ont1cmw6ZCsiPyIrZyxwYXJhbWV0ZXJFbmNvZGluZzoyLGVuZHBvaW50OjE4fSxoYjpjfSl9LFNOPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtjJiZiLnB1c2goInRhZ19leHA9IitjKTtiLnB1c2goIno9Iit3YigpKTtpZighZSl7dmFyIGc9ZCYmTGIoZCwiZ29vZ2xlLiIpJiZkIT09Imdvb2dsZS5jb20iPyJodHRwczovL3d3dy4lL2Fkcy9nYS1hdWRpZW5jZXM/dj0xJnQ9c3Imc2xmX3JkPTEmX3I9NCYiLnJlcGxhY2UoIiUiLGQpOnZvaWQgMDtpZihnKXt2YXIgaD1nK2Iuam9pbigiJiIpO0FsKHtkZXN0aW5hdGlvbklkOmEuZGVzdGluYXRpb25JZHx8IiIsZW5kcG9pbnQ6NDcsZXZlbnRJZDphLmV2ZW50SWQscHJpb3JpdHlJZDphLnByaW9yaXR5SWR9LGgpO0NuKHt0YXJnZXRJZDpTdHJpbmcoYS5EYS50aWQpLHJlcXVlc3Q6e3VybDpoLApwYXJhbWV0ZXJFbmNvZGluZzoyLGVuZHBvaW50OjQ3fSxoYjpmfSl9fX0sVE49ZnVuY3Rpb24oYSxiLGMsZCl7YyYmYi5wdXNoKCJ0YWdfZXhwPSIrYyk7Tk4oImh0dHBzOi8vc3RhdHMuZy5kb3VibGVjbGljay5uZXQvZy9jb2xsZWN0Iiwidj0yJiIrYi5qb2luKCImIikse2Rlc3RpbmF0aW9uSWQ6YS5kZXN0aW5hdGlvbklkfHwiIixlbmRwb2ludDoxOSxldmVudElkOmEuZXZlbnRJZCxwcmlvcml0eUlkOmEucHJpb3JpdHlJZH0pO0NuKHt0YXJnZXRJZDpTdHJpbmcoYS5EYS50aWQpLHJlcXVlc3Q6e3VybDoiaHR0cHM6Ly9zdGF0cy5nLmRvdWJsZWNsaWNrLm5ldC9nL2NvbGxlY3Q/dj0yJiIrYi5qb2luKCImIikscGFyYW1ldGVyRW5jb2Rpbmc6MixlbmRwb2ludDoxOX0saGI6ZH0pfSxVTj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGModCl7ci5wdXNoKHQrIj0iK2VuY29kZVVSSUNvbXBvbmVudCgiIithLkRhW3RdKSl9dmFyIGQ9Yi5ZcixlPWIuZHMsZj1iLmJzLGc9Yi5acixoPWIuVnEsCmw9Yi51cixuPWIucnIscD1iLk5xLHE9Yi5xcztpZihkfHxlfHxmfHxnKXt2YXIgcj1bXTthLkRhLl9uZyYmYygiX25nIik7YygidGlkIik7YygiY2lkIik7YygiZ3RtIik7ci5wdXNoKCJhaXA9MSIpO3ZhciB1PW4mJiFQKDQwNik7YS5WZC51aWQmJiF1JiZyLnB1c2goInVpZD0iK2VuY29kZVVSSUNvbXBvbmVudCgiIithLlZkLnVpZCkpO2MoImRtYSIpO2EuRGEuZG1hX2NwcyE9bnVsbCYmYygiZG1hX2NwcyIpO2EuRGEuZ2NzIT1udWxsJiZjKCJnY3MiKTtjKCJnY2QiKTthLkRhLm5wYSE9bnVsbCYmYygibnBhIik7YS5EYS5mcm0hPW51bGwmJmMoImZybSIpO2QmJlROKGEsci5zbGljZSgpLHEsYi5oYik7ZSYmU04oYSxyLnNsaWNlKCkscSxoLGwsYi5oYik7ZiYmUk4oYSxwLGIuaGIpO2cmJlFOKGEscCxiLmhiKX19LE9OPSExOwp2YXIgVk49ZnVuY3Rpb24oKXt0aGlzLlA9MTt0aGlzLlQ9e307dGhpcy5IPS0xO3RoaXMuQz1uZXcgUmd9O2s9Vk4ucHJvdG90eXBlO2suUWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9bmV3IEJOKGEsdGhpcy5ULGIpLGU9e2V2ZW50SWQ6YS5ELmV2ZW50SWQscHJpb3JpdHlJZDphLkQucHJpb3JpdHlJZH0sZj1LTShhKSxnLGg7ZiYmdGhpcy5DLlQoZCl8fHRoaXMuZmx1c2goKTt2YXIgbD1mJiZ0aGlzLkMuYWRkKGQpO2lmKGwpe2lmKHRoaXMuSDwwKXt2YXIgbj13LHA9bi5zZXRUaW1lb3V0LHE7SEkoYSk/V04/KFdOPSExLHE9WE4pOnE9WU46cT01RTM7dGhpcy5IPXAuY2FsbChuLGZ1bmN0aW9uKCl7Yy5mbHVzaCgpfSxxKX19ZWxzZXt2YXIgcj1VZyhkLHRoaXMuUCsrKSx1PXIucGFyYW1zLHQ9ci5ib2R5O2c9dTtoPXQ7UE4oZC5iYXNlVXJsLHUsdCxkLlAse2Rlc3RpbmF0aW9uSWQ6YS50YXJnZXQuZGVzdGluYXRpb25JZCxlbmRwb2ludDpkLmVuZHBvaW50LGV2ZW50SWQ6ZC5ldmVudElkLApwcmlvcml0eUlkOmQucHJpb3JpdHlJZH0pO3ZhciB2PVIoYSxRLkEuS2cpLHg9UihhLFEuQS5jZSkseT1SKGEsUS5BLk1nKSxBPVIoYSxRLkEuTGcpLEM9TChhLkQsSy5tLmVpKSE9PSExLEU9TnEoYS5EKSxIPXtZcjp2LGRzOngsYnM6eSxacjpBLFZxOlRtKCksc3Q6QyxydDpFLHVyOlFtKCkscnI6UihhLFEuQS5CZSksaGI6ZSxEOmEuRCxOcTpTbSgpLHFzOnN3KGEpfTtVTihkLEgpfWl4KGEuRC5ldmVudElkKTtEbihmdW5jdGlvbigpe2lmKGwpe3ZhciBKPVVnKGQpLE89Si5ib2R5O2c9Si5wYXJhbXM7aD1PfXJldHVybnt0YXJnZXRJZDphLnRhcmdldC5kZXN0aW5hdGlvbklkLHJlcXVlc3Q6e3VybDpkLmJhc2VVcmwrIj8iK2cscGFyYW1ldGVyRW5jb2Rpbmc6Mixwb3N0Qm9keTpoLGVuZHBvaW50OmQuZW5kcG9pbnR9LGhiOmUsaXNCYXRjaGVkOiExfX0pfTtrLmFkZD1mdW5jdGlvbihhKXtpZihQKDEwMCkpe3ZhciBiPVIoYSxRLkEuYmkpO2lmKGIpe1goYSxLLm0uSmIsUihhLFEuQS5TbSkpOwpYKGEsSy5tLmhoLCIxIik7dGhpcy5RYihhLGIpO3JldHVybn19dmFyIGM9R0koYSk7aWYoUCgxMDApJiZjKXt2YXIgZDt2YXIgZT1hLnRhcmdldC5kZXN0aW5hdGlvbklkLGY7dmFyIGc9YyxoPUxOKGUpO2lmKGgpe3ZhciBsPUtOKGcpO2Y9KGttKGgpfHx7fSlbbF19ZWxzZSBmPXZvaWQgMDt2YXIgbj1mO2Q9bj9uLnNlbnRUb1tlXTp2b2lkIDA7aWYoZCYmZCs2RTQ+R2IoKSljPXZvaWQgMCxYKGEsSy5tLkpiKTtlbHNle3ZhciBwPWMscT1hLnRhcmdldC5kZXN0aW5hdGlvbklkLHI9TE4ocSk7aWYocil7dmFyIHU9S04ocCksdD1rbShyKXx8e30sdj10W3VdO2lmKHYpdi50aW1lc3RhbXA9R2IoKSx2LnNlbnRUbz12LnNlbnRUb3x8e30sdi5zZW50VG9bcV09R2IoKSx2LnBlbmRpbmc9ITA7ZWxzZXt2YXIgeD17fTt0W3VdPXtwZW5kaW5nOiEwLHRpbWVzdGFtcDpHYigpLHNlbnRUbzooeFtxXT1HYigpLHgpfX1NTih0LHUpO2ptKHIsdCl9fX0hY3x8Sk18fFAoMTI1KSYmIVAoOTMpP3RoaXMuUWIoYSk6CnRoaXMuZXMoYSl9O2suZmx1c2g9ZnVuY3Rpb24oKXtpZih0aGlzLkMuZXZlbnRzLmxlbmd0aCl7dmFyIGE9V2codGhpcy5DLHRoaXMuUCsrKTtQTih0aGlzLkMuYmFzZVVybCxhLnBhcmFtcyxhLmJvZHksdGhpcy5DLkgse2Rlc3RpbmF0aW9uSWQ6dGhpcy5DLmRlc3RpbmF0aW9uSWR8fCIiLGVuZHBvaW50OnRoaXMuQy5lbmRwb2ludCxldmVudElkOnRoaXMuQy5WLHByaW9yaXR5SWQ6dGhpcy5DLmxhfSk7dGhpcy5DPW5ldyBSZzt0aGlzLkg+PTAmJih3LmNsZWFyVGltZW91dCh0aGlzLkgpLHRoaXMuSD0tMSl9fTtrLmZuPWZ1bmN0aW9uKGEsYil7dmFyIGM9SHUoYSxLLm0uSmIpO1goYSxLLm0uSmIpO2IudGhlbihmdW5jdGlvbihkKXt2YXIgZT17fSxmPShlW1EuQS5iaV09ZCxlW1EuQS5TbV09YyxlKSxnPUJBKGEudGFyZ2V0LmRlc3RpbmF0aW9uSWQsSy5tLmplLGEuRC5DKTtEQShnLGEuRC5ldmVudElkLHtldmVudE1ldGFkYXRhOmZ9KX0pfTtrLmVzPWZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLGM9R0koYSk7aWYoZXcoYykpe3ZhciBkPVV2KGMsUCg5MykpO2Q/UCgxMDApPyh0aGlzLmZuKGEsZCksdGhpcy5RYihhKSk6ZC50aGVuKGZ1bmN0aW9uKGcpe2IuUWIoYSxnKX0sZnVuY3Rpb24oKXtiLlFiKGEpfSk6dGhpcy5RYihhKX1lbHNle3ZhciBlPWR3KGMpO2lmKFAoOTMpKXt2YXIgZj1RdihlKTtmP1AoMTAwKT8odGhpcy5mbihhLGYpLHRoaXMuUWIoYSkpOmYudGhlbihmdW5jdGlvbihnKXtiLlFiKGEsZyl9LGZ1bmN0aW9uKCl7Yi5RYihhLGUpfSk6dGhpcy5RYihhLGUpfWVsc2UgdGhpcy5RYihhLGUpfX07dmFyIFhOPXBnKDI0LDUwMCksWU49cGcoNTYsNUUzKSxXTj0hMDsKdmFyIFpOPWZ1bmN0aW9uKGEsYixjKXtjPT09dm9pZCAwJiYoYz17fSk7aWYoYj09bnVsbClyZXR1cm4gYztpZih0eXBlb2YgYj09PSJvYmplY3QiKWZvcih2YXIgZD1tKE9iamVjdC5rZXlzKGIpKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7dmFyIGY9ZS52YWx1ZTtaTihhKyIuIitmLGJbZl0sYyl9ZWxzZSBjW2FdPWI7cmV0dXJuIGN9LCROPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxjPW0oYSksZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpe3ZhciBlPWQudmFsdWU7YltlXT0hIVJuKGUpfXJldHVybiBifSxiTz1mdW5jdGlvbihhLGIpe3ZhciBjPWFPLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hUm4oZSl9KTtpZihjLmxlbmd0aCl7dmFyIGQ9JE4oYyk7U24oYyxmdW5jdGlvbigpe2Zvcih2YXIgZT0kTihjKSxmPVtdLGc9bShjKSxoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSl7dmFyIGw9aC52YWx1ZTshZFtsXSYmZVtsXSYmZi5wdXNoKGwpO2VbbF0mJgooZFtsXT0hMCl9aWYoZi5sZW5ndGgpe1QoYixRLkEudGgsITApO3ZhciBuPWYubWFwKGZ1bmN0aW9uKHApe3JldHVybiBlbltwXX0pLmpvaW4oIi4iKTtuJiZFSShiLCJnY3V0IixuKTthKGIpfX0pfX0sY089ZnVuY3Rpb24oYSl7SHUoYSxLLm0ub2QpJiYhSEkoYSkmJlgoYSxLLm0ub2QpfSxkTz1mdW5jdGlvbihhKXtISShhKSYmRUkoYSwibmF2dCIsZ2QoKSl9LGVPPWZ1bmN0aW9uKGEpe0hJKGEpJiZFSShhLCJscGMiLGR0KCkpfSxmTz1mdW5jdGlvbihhKXtpZihISShhKSl7dmFyIGI9TChhLkQsSy5tLlhiKSxjO2I9PT0hMCYmKGM9IjEiKTtiPT09ITEmJihjPSIwIik7YyYmRUkoYSwicmRwIixjKX19LGdPPWZ1bmN0aW9uKGEpe1AoMTQ3KSYmSEkoYSkmJkwoYS5ELEsubS5qZiwhMCk9PT0hMSYmWChhLEsubS5qZiwwKX0saE89ZnVuY3Rpb24oYSxiKXtpZihISShiKSl7dmFyIGM9UihiLFEuQS5XZik7KGIuZXZlbnROYW1lPT09InBhZ2VfdmlldyJ8fGMpJiZiTyhhLGIpfX0saU89CmZ1bmN0aW9uKGEpe2lmKEhJKGEpJiZhLmV2ZW50TmFtZT09PUsubS5qZSYmUihhLFEuQS50aCkpe3ZhciBiPUh1KGEsSy5tLmhpKTtiJiYoRUkoYSwiZ2N1dCIsYiksRUkoYSwic3luIiwxKSl9fSxqTz1mdW5jdGlvbihhKXtISShhKSYmVChhLFEuQS53YSwhMSl9LGtPPWZ1bmN0aW9uKGEpe0hJKGEpJiYoUihhLFEuQS53YSkmJkVJKGEsInNwIiwxKSxSKGEsUS5BLkdwKSYmRUkoYSwic3luIiwxKSxSKGEsUS5BLmRlKSYmKEVJKGEsImVtX2V2ZW50IiwxKSxFSShhLCJzcCIsMSkpKX0sbE89ZnVuY3Rpb24oYSl7aWYoSEkoYSkpe3ZhciBiPWJqO2ImJkVJKGEsInRmdCIsTnVtYmVyKGIpKX19LG1PPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZSl7dmFyIGY9Wk4oSy5tLkliLGUpO3piKGYsZnVuY3Rpb24oZyxoKXtYKGEsZyxoKX0pfWlmKEhJKGEpKXt2YXIgYz13RihhLCJjY2RfYWRkXzFwX2RhdGEiLCExKT8xOjA7RUkoYSwidWRlIixjKTt2YXIgZD1MKGEuRCxLLm0uSWIpO2QhPT12b2lkIDA/CihvdihkKSxiKGQpLFgoYSxLLm0uSmIsImMiKSk6YihSKGEsUS5BLlVhKSk7VChhLFEuQS5VYSl9fSxuTz1mdW5jdGlvbihhKXtpZihISShhKSl7dmFyIGI9V0ooKTtiJiZFSShhLCJ1c19wcml2YWN5IixiKTt2YXIgYz1HcSgpO2MmJkVJKGEsImdkcHIiLGMpO3ZhciBkPUZxKCk7ZCYmRUkoYSwiZ2Rwcl9jb25zZW50IixkKTt2YXIgZT1zQy5ncHBTdHJpbmc7ZSYmRUkoYSwiZ3BwIixlKTt2YXIgZj1zQy5DO2YmJkVJKGEsImdwcF9zaWQiLGYpfX0sb089ZnVuY3Rpb24oYSl7SEkoYSkmJlNsKCkmJkwoYS5ELEsubS5JYSkmJkVJKGEsImFkciIsMSl9LHBPPWZ1bmN0aW9uKGEpe2lmKEhJKGEpKXt2YXIgYj1TbSgpO2ImJkVJKGEsImdjc3ViIixiKX19LHFPPWZ1bmN0aW9uKGEpe2lmKEhJKGEpKXtMKGEuRCxLLm0uVWIsdm9pZCAwLDQpPT09ITEmJkVJKGEsIm5ncyIsMSk7UW0oKSYmRUkoYSwiZ2FfcmQiLDEpO1ZLKCl8fEVJKGEsIm5nc3QiLDEpO3ZhciBiPVRtKCk7YiYmRUkoYSwiZXRsZCIsCmIpfX0sck89ZnVuY3Rpb24oYSl7fSxzTz1mdW5jdGlvbihhKXtISShhKSYmU2woKSYmRUkoYSwicm5kIixDeSgpKX0sYU89W0subS5XLEsubS5YXTsKdmFyIHRPPWZ1bmN0aW9uKGEsYil7dmFyIGM7YTp7dmFyIGQ9ZU4oYSk7aWYoZCl7aWYoY04oZCxhKSl7Yz1kO2JyZWFrIGF9TSgyNSk7YS5pc0Fib3J0ZWQ9ITB9Yz12b2lkIDB9dmFyIGU9YztyZXR1cm57Y2xpZW50SWQ6UU0oYSxiKSxyYjplfX0sdU89ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1rbihMKGEuRCxLLm0uVmIpKTtpZihMKGEuRCxLLm0uSWMpJiZMKGEuRCxLLm0uSGMpKWY/T00oYSxmLDEpOihNKDEyNyksYS5pc0Fib3J0ZWQ9ITApO2Vsc2V7dmFyIGc9Zj8xOjg7VChhLFEuQS53aCwhMSk7Znx8KGY9Uk0oYSksZz0zKTtmfHwoZj1iLGc9NSk7aWYoIWYpe3ZhciBoPVJuKEsubS5qYSksbD1MTSgpO2Y9IWwuZnJvbV9jb29raWV8fGg/bC52aWQ6dm9pZCAwO2c9Nn1mP2Y9IiIrZjooZj1QcigpLGc9NyxUKGEsUS5BLlhmLCEwKSxUKGEsUS5BLndoLCEwKSk7T00oYSxmLGcpfXZhciBuPVIoYSxRLkEubWIpLHA9TWF0aC5mbG9vcihuLzFFMykscT12b2lkIDA7UihhLFEuQS53aCl8fAoocT1kTihhKXx8Yyk7dmFyIHI9QmIoTChhLkQsSy5tLmpoLDMwKSk7cj1NYXRoLm1pbig0NzUscik7cj1NYXRoLm1heCg1LHIpO3ZhciB1PUJiKEwoYS5ELEsubS5zaSwxRTQpKSx0PVhNKHEpO1QoYSxRLkEuWGYsITEpO1QoYSxRLkEuRWUsITEpO1QoYSxRLkEuWmYsMCk7dCYmdC5qJiZUKGEsUS5BLlpmLE1hdGgubWF4KDAsdC5qLU1hdGgubWF4KDAscC10LnQpKSk7dmFyIHY9ITE7aWYoIXQpe1QoYSxRLkEuWGYsITApO3Y9ITA7dmFyIHg9e307dD0oeC5zPVN0cmluZyhwKSx4Lm89MSx4Lmc9ITEseC50PXAseC5sPSExLHguaD12b2lkIDAseCl9cD50LnQrcio2MCYmKHY9ITAsdC5zPVN0cmluZyhwKSx0Lm8rKyx0Lmc9ITEsdC5oPXZvaWQgMCk7aWYodilUKGEsUS5BLkVlLCEwKSxkLmVyKGEpO2Vsc2UgaWYoZC5UcSgpPnV8fGEuZXZlbnROYW1lPT09Sy5tLmdkKXQuZz0hMDtSKGEsUS5BLkJlKT9MKGEuRCxLLm0uT2EpP3QubD0hMDoodC5sJiYhUCg5KSYmKHQuaD12b2lkIDApLHQubD0KITEpOnQubD0hMTt2YXIgeT10Lmg7aWYoUihhLFEuQS5CZSl8fEhJKGEpKXt2YXIgQT1MKGEuRCxLLm0uWGcpLEM9QT8xOjg7QXx8KEE9eSxDPTQpO0F8fChBPU9yKCksQz03KTt2YXIgRT1BLnRvU3RyaW5nKCksSD1DLEo9UihhLFEuQS5Bayk7aWYoSj09PXZvaWQgMHx8SDw9SilYKGEsSy5tLlhnLEUpLFQoYSxRLkEuQWssSCl9ZT8oYS5jb3B5VG9IaXREYXRhKEsubS5ZYix0LnMpLGEuY29weVRvSGl0RGF0YShLLm0ubWgsdC5vKSxhLmNvcHlUb0hpdERhdGEoSy5tLmtoLHQuZz8xOjApKTooWChhLEsubS5ZYix0LnMpLFgoYSxLLm0ubWgsdC5vKSxYKGEsSy5tLmtoLHQuZz8xOjApKTtUKGEsUS5BLkJsLHQubD8xOjApO3VqKCkmJlQoYSxRLkEuWWYsdC5kfHxZYigpKX07dmFyIHdPPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxjPVN0cmluZyh2Ty5jb29raWUpLnNwbGl0KCI7IiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLnNwbGl0KCI9IiksZj1lWzBdLnRyaW0oKTtpZihmJiZhKGYpKXt2YXIgZz1lLnNsaWNlKDEpLmpvaW4oIj0iKS50cmltKCk7ZyYmKGc9ZGVjb2RlVVJJQ29tcG9uZW50KGcpKTt2YXIgaD12b2lkIDAsbD12b2lkIDA7KChoPWIpW2w9Zl18fChoW2xdPVtdKSkucHVzaChnKX19cmV0dXJuIGJ9O3ZhciB4Tz13aW5kb3csdk89ZG9jdW1lbnQseU89ZnVuY3Rpb24oYSl7dmFyIGI9eE8uX2dhVXNlclByZWZzO2lmKGImJmIuaW9vJiZiLmlvbygpfHx2Ty5kb2N1bWVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCJkYXRhLWdvb2dsZS1hbmFseXRpY3Mtb3B0LW91dCIpfHxhJiZ4T1siZ2EtZGlzYWJsZS0iK2FdPT09ITApcmV0dXJuITA7dHJ5e3ZhciBjPXhPLmV4dGVybmFsO2lmKGMmJmMuX2dhVXNlclByZWZzJiZjLl9nYVVzZXJQcmVmcz09Im9vIilyZXR1cm4hMH1jYXRjaChmKXt9Zm9yKHZhciBkPXdPKGZ1bmN0aW9uKGYpe3JldHVybiBmPT09IkFNUF9UT0tFTiJ9KS5BTVBfVE9LRU58fFtdLGU9MDtlPGQubGVuZ3RoO2UrKylpZihkW2VdPT0iJE9QVF9PVVQiKXJldHVybiEwO3JldHVybiB2Ty5nZXRFbGVtZW50QnlJZCgiX19nYU9wdE91dEV4dGVuc2lvbiIpPyEwOiExfTt2YXIgek89ImdjbGlkIGRjbGlkIGdjbHNyYyB3YnJhaWQgZ2JyYWlkIGdhZF9zb3VyY2UgZ2FkX2NhbXBhaWduaWQgdXRtX3NvdXJjZSB1dG1fbWVkaXVtIHV0bV9jYW1wYWlnbiB1dG1fdGVybSB1dG1fY29udGVudCB1dG1faWQiLnNwbGl0KCIgIik7ZnVuY3Rpb24gQU8oKXt2YXIgYT16LmxvY2F0aW9uLGIsYz1hPT1udWxsP3ZvaWQgMDooYj1hLnNlYXJjaCk9PW51bGw/dm9pZCAwOmIucmVwbGFjZSgiPyIsIiIpLGQ7aWYoYyl7Zm9yKHZhciBlPVtdLGY9aGooYywhMCksZz1tKHpPKSxoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSl7dmFyIGw9aC52YWx1ZSxuPWZbbF07aWYobilmb3IodmFyIHA9MDtwPG4ubGVuZ3RoO3ArKyl7dmFyIHE9bltwXTtxIT09dm9pZCAwJiZlLnB1c2goe25hbWU6bCx2YWx1ZTpxfSl9fWQ9ZX1lbHNlIGQ9W107cmV0dXJuIGR9Owp2YXIgQ089ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fEJPLnRlc3QoYSl8fFhtLmhhc093blByb3BlcnR5KGEpfSxETz1mdW5jdGlvbihhKXt2YXIgYj1LLm0uTmMsYztjfHwoYz1mdW5jdGlvbigpe30pO0h1KGEsYikhPT12b2lkIDAmJlgoYSxiLGMoSHUoYSxiKSkpfSxFTz1mdW5jdGlvbihhKXt2YXIgYj1hLmluZGV4T2YoIj8iKSxjPWI9PT0tMT9hOmEuc3Vic3RyaW5nKDAsYiksZD1paihjKTtkJiYoYz1kKTtyZXR1cm4gYj09PS0xP2M6IiIrYythLnN1YnN0cmluZyhiKX0sRk89ZnVuY3Rpb24oYSl7TChhLkQsSy5tLkhiKSYmKFJuKEsubS5qYSl8fEwoYS5ELEsubS5WYil8fFgoYSxLLm0uZ20sITApKTt2YXIgYjt2YXIgYztjPWM9PT12b2lkIDA/MzpjO3ZhciBkPXcubG9jYXRpb24uaHJlZjtpZihkKXt2YXIgZT1waihkKS5zZWFyY2gucmVwbGFjZSgiPyIsIiIpLGY9Z2ooZSwiX2dsIiwhMSwhMCl8fCIiO2I9Zj9qcyhmLGMpIT09dm9pZCAwOiExfWVsc2UgYj0hMTtiJiZISShhKSYmCkVJKGEsImdsdiIsMSk7aWYoYS5ldmVudE5hbWUhPT1LLm0ubWEpcmV0dXJue307TChhLkQsSy5tLkhiKSYmZHUoWyJhdyIsImRjIl0pO2Z1KFsiYXciLCJkYyJdKTt2YXIgZz1sTihhKSxoPWpOKGEpO3JldHVybiBPYmplY3Qua2V5cyhnKS5sZW5ndGg/ZzpofSxHTz17THE6bmcoMzEpfSxITz17fSxJTz0oSE9bSy5tLnFmXT0xLEhPW0subS5yZl09MSxIT1tLLm0udGZdPTEsSE9bSy5tLnVmXT0xLEhPW0subS53Zl09MSxIT1tLLm0ueGZdPTEsSE8pLEJPPS9eKF98Z2FffGdvb2dsZV98Z3RhZ1wufGZpcmViYXNlXykuKiQvLEpPPVt5SixiSyxrSyxYSixaSixtSixCSl0sS089ZnVuY3Rpb24oYSl7dGhpcy5QPWE7dGhpcy5DPXRoaXMucmI9dGhpcy5jbGllbnRJZD12b2lkIDA7dGhpcy5uYj10aGlzLlY9ITE7dGhpcy55Yj0wO3RoaXMuVD0hMTt0aGlzLmxhPXtyajohMX07dGhpcy5zYT1uZXcgVk47dGhpcy5IPW5ldyBUTX07az1LTy5wcm90b3R5cGU7ay5Ocj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9CnRoaXMsZT1sbyh0aGlzLlApO2lmKGUpaWYoYy5ldmVudE1ldGFkYXRhW1EuQS5EZF0mJmEuY2hhckF0KDApPT09Il8iKWMub25GYWlsdXJlKCk7ZWxzZXthIT09Sy5tLm1hJiZhIT09Sy5tLkRiJiZDTyhhKSYmTSg1OCk7TE8oYy5DKTt2YXIgZj1uZXcgdEYoZSxhLGMpO1QoZixRLkEubWIsYik7dmFyIGc9W0subS5qYV0saD1ISShmKTtUKGYsUS5BLnloLGgpO2lmKHdGKGYsSy5tLkVmLEwoZi5ELEsubS5FZikpfHxoKWcucHVzaChLLm0uVyksZy5wdXNoKEsubS5YKTt1SihmdW5jdGlvbigpe1VuKGZ1bmN0aW9uKCl7ZC5PcihmKX0sZyl9KTtQKDg4KSYmYT09PUsubS5tYSYmd0YoZiwiZ2E0X2Fkc19saW5rZWQiLCExKSYmZG0oZm0oR2wuYWEuU2EpLGZ1bmN0aW9uKCl7ZC5McihhLGMsZil9KX1lbHNlIGMub25GYWlsdXJlKCl9O2suTHI9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXtmb3IodmFyIGg9bShKTyksbD1oLm5leHQoKTshbC5kb25lO2w9aC5uZXh0KCkpe3ZhciBuPQpsLnZhbHVlO24oZik7aWYoZi5pc0Fib3J0ZWQpYnJlYWt9UihmLFEuQS53YSl8fGYuaXNBYm9ydGVkfHxKdyhmKX12YXIgZT1sbyh0aGlzLlApLGY9bmV3IHRGKGUsYSxiKTtUKGYsUS5BLmJhLFBpLk4uQ2EpO1QoZixRLkEud2EsITApO1QoZixRLkEueWgsUihjLFEuQS55aCkpO3ZhciBnPVtLLm0uVyxLLm0uWF07VW4oZnVuY3Rpb24oKXtkKCk7Um4oZyl8fFRuKGZ1bmN0aW9uKGgpe3ZhciBsLG47bD1oLmNvbnNlbnRFdmVudElkO249aC5jb25zZW50UHJpb3JpdHlJZDtUKGYsUS5BLmlhLCEwKTtUKGYsUS5BLlllLGwpO1QoZixRLkEuWmUsbik7ZCgpfSxnKX0sZyl9O2suT3I9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0cnl7eUooYSk7aWYoYS5pc0Fib3J0ZWQpe2xiKCk7cmV0dXJufVAoMTY1KXx8KHRoaXMuQz1hKTtNTyhhKTtOTyhhKTtPTyhhKTtQTyhhKTt6SihhKTt2YXIgYz17fTtxTihhLGMpO2lmKGEuaXNBYm9ydGVkKXthLkQub25GYWlsdXJlKCk7bGIoKTtyZXR1cm59UCgxNjUpJiYKKHRoaXMuQz1hKTt2YXIgZD1jLnNxO2MuRnE9PT0wJiZVTShGLk0udmspO2Q9PT0wJiZVTShGLk0uZGspO1pKKGEpO1QoYSxRLkEuZ2csR2wuYWEuZGQpO1FPKGEpO1JPKGEpO3RoaXMuS3AoYSk7dGhpcy5ILnhzKGEpO1NPKGEpO3NLKGEsUCg2MCkpO1RPKGEpO1VPKGEpO3RoaXMuem4oRk8oYSkpO3ZhciBlPWEuZXZlbnROYW1lPT09Sy5tLm1hO2UmJih0aGlzLlQ9ITApO1ZPKGEpO2UmJiFhLmlzQWJvcnRlZCYmdGhpcy55YisrPjAmJlVNKEYuTS5xbSk7bUooYSk7V08oYSk7dU8oYSx0aGlzLmNsaWVudElkLHRoaXMucmIsdGhpcy5ILCF0aGlzLm5iKTtYTyhhKTtZTyhhKTtaTyhhKTtqSyhhLCEwKTskTyhhLHRoaXMubGEpO2FQKGEpO2JQKGEpO2NQKGEpO2RQKGEpO2VQKGEpO2ZQKGEpO21OKGEpO3NOKGEpO3NPKGEpO3JPKGEpO3FPKGEpO3BPKGEpO29PKGEpO25PKGEpO2xPKGEpO2tPKGEpO2lPKGEpO2dPKGEpO2ZPKGEpO2VPKGEpO2RPKGEpO25OKGEpO29OKGEpO0woYS5ELEsubS5paCkmJgohSEkoYSl8fHhKKGEpO2dQKGEpO2hQKGEpO2tLKGEpO2tKKGEpO2lLKGEpO1lKKGEsITEpO2lQKGEpO0RKKGEpO2pQKGEpO21PKGEpO2pPKGEpO2NPKGEpO2tQKGEpOyF0aGlzLlQmJlIoYSxRLkEuZGUpJiZVTShGLk0uemspO1ZNKGEpO2lmKFIoYSxRLkEud2EpfHxhLmlzQWJvcnRlZCl7YS5ELm9uRmFpbHVyZSgpO2xiKCk7cmV0dXJufXRoaXMuem4odE8oYSx0aGlzLmNsaWVudElkKSk7dGhpcy5uYj0hMDt0aGlzLnVzKGEpO2xQKGEpO2hPKGZ1bmN0aW9uKGYpe2IuV20oZil9LGEpO3RoaXMuSC5KaigpO21QKGEpO2hLKGEpO3RLKGEpO2lmKGEuaXNBYm9ydGVkKXthLkQub25GYWlsdXJlKCk7bGIoKTtyZXR1cm59dGhpcy5XbShhKTthLkQub25TdWNjZXNzKCl9Y2F0Y2goZil7YS5ELm9uRmFpbHVyZSgpfWxiKCl9O2suV209ZnVuY3Rpb24oYSl7dGhpcy5zYS5hZGQoYSl9O2suem49ZnVuY3Rpb24oYSl7dmFyIGI9YS5jbGllbnRJZCxjPWEucmI7YiYmYyYmKHRoaXMuY2xpZW50SWQ9CmIsdGhpcy5yYj1jKX07ay5mbHVzaD1mdW5jdGlvbigpe3RoaXMuc2EuZmx1c2goKX07ay51cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCF0aGlzLlYpe3ZhciBjPVJuKEsubS5YKSxkPVJuKEsubS5qYSk7U24oW0subS5YLEsubS5qYSxLLm0uV10sZnVuY3Rpb24oZSl7dmFyIGY7Zj0oZT09PXZvaWQgMD97fTplKS5jb25zZW50RXZlbnRJZDt2YXIgZz1SbihLLm0uWCksaD1SbihLLm0uamEpLGw9ITEsbj17fSxwPXt9O2lmKGQhPT1oJiZiLkMmJmIucmImJmIuY2xpZW50SWQpe3ZhciBxPWIuY2xpZW50SWQscjt2YXIgdT1YTShiLnJiKTtyPXU/dS5oOnZvaWQgMDtpZihoKXt2YXIgdD1STShiLkMpO2lmKHQpe2IuY2xpZW50SWQ9dDt2YXIgdj1kTihiLkMpO3YmJihiLnJiPWFOKHYsYi5yYixiLkMpKX1lbHNlIFBNKGIuY2xpZW50SWQsYi5DKSxNTShiLmNsaWVudElkLCEwKTtjTihiLnJiLGIuQyk7bD0hMDtuW0subS5Wa109cTtyJiYobltLLm0uWm9dPXIpfWVsc2UgYi5yYj12b2lkIDAsCmIuY2xpZW50SWQ9dm9pZCAwLHcuZ2FHbG9iYWw9e319ZyYmIWMmJihsPSEwLHBbUS5BLnRoXT0hMCxuW0subS5oaV09ZW5bSy5tLlhdKTtpZihsKXt2YXIgeD1CQShiLlAsSy5tLmplLG4pO0RBKHgsUCg0MzcpJiZmIT1udWxsP2Y6YS5ELmV2ZW50SWQse2V2ZW50TWV0YWRhdGE6cH0pfWQ9aDtjPWc7Yi5sYS5yaj0hMH0pO3RoaXMuVj0hMH19O2suS3A9ZnVuY3Rpb24oYSl7YS5ldmVudE5hbWUhPT1LLm0uRGImJnRoaXMuSC5KcChhKX07dmFyIE9PPWZ1bmN0aW9uKGEpe3ZhciBiPXoubG9jYXRpb24ucHJvdG9jb2w7YiE9PSJodHRwOiImJmIhPT0iaHR0cHM6IiYmKE0oMjkpLGEuaXNBYm9ydGVkPSEwKX0sUE89ZnVuY3Rpb24oYSl7QmMmJkJjLmxvYWRQdXJwb3NlPT09InByZXZpZXciJiYoTSgzMCksYS5pc0Fib3J0ZWQ9ITApfSxRTz1mdW5jdGlvbihhKXt2YXIgYj17cHJlZml4OlN0cmluZyhMKGEuRCxLLm0uWGEsIiIpKSxwYXRoOlN0cmluZyhMKGEuRCxLLm0uV2IsIi8iKSksZmxhZ3M6U3RyaW5nKEwoYS5ELApLLm0uRmIsIiIpKSxkb21haW46U3RyaW5nKEwoYS5ELEsubS53YiwiYXV0byIpKSxYYzpOdW1iZXIoTChhLkQsSy5tLnhiLDYzMDcyRTMpKX07VChhLFEuQS5GYSxiKX0sU089ZnVuY3Rpb24oYSl7UihhLFEuQS5GZCk/VChhLFEuQS5CZSwhMSk6d0YoYSwiY2NkX2FkZF9lY19zdGl0Y2hpbmciLCExKSYmVChhLFEuQS5CZSwhMCl9LFRPPWZ1bmN0aW9uKGEpe2lmKCFQKDg4KSYmd0YoYSwiZ2E0X2Fkc19saW5rZWQiLCExKSYmYS5ldmVudE5hbWU9PT1LLm0ubWEpe3ZhciBiPUwoYS5ELEsubS51YikhPT0hMTtpZihiKXt2YXIgYz1FdShhKTtjLlhjJiYoYy5YYz1NYXRoLm1pbihjLlhjLDc3NzZFMykpO0Z1KHtMZTpiLFFlOmhuKEwoYS5ELEsubS5jYikpLFhlOiEhTChhLkQsSy5tLkhiKSxWYzpjfSl9fX0sVU89ZnVuY3Rpb24oYSl7dmFyIGI9TnEoYS5EKTtMKGEuRCxLLm0uWGIpPT09ITAmJihiPSExKTtUKGEsUS5BLmJkLGIpfSxWTz1mdW5jdGlvbihhKXthLmV2ZW50TmFtZT09PUsubS5tYSYmCihMKGEuRCxLLm0uc2QsITApPyhhLkQuQ1tLLm0uR2FdJiYoYS5ELkhbSy5tLkdhXT1hLkQuQ1tLLm0uR2FdLGEuRC5DW0subS5HYV09dm9pZCAwLFgoYSxLLm0uR2EpKSxhLmV2ZW50TmFtZT1LLm0uZ2QpOmEuaXNBYm9ydGVkPSEwKX0sUk89ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGQpe1ZtW2NdfHxkPT09dm9pZCAwfHxYKGEsYyxkKX16YihhLkQuSCxiKTt6YihhLkQuQyxiKX0sWE89ZnVuY3Rpb24oYSl7dmFyIGI9S28oYS5EKSxjPWZ1bmN0aW9uKGQsZSl7SU9bZF0mJlgoYSxkLGUpfTtzZChiW0subS52Zl0pP3piKGJbSy5tLnZmXSxmdW5jdGlvbihkLGUpe2MoKEsubS52ZisiXyIrZCkudG9Mb3dlckNhc2UoKSxlKX0pOnpiKGIsYyl9LGxQPWZ1bmN0aW9uKGEpe2lmKFAoMTMyKSYmSEkoYSkmJiEoR2MoIjsgd3YiKXx8R2MoIkZCQU4iKXx8R2MoIkZCQVYiKXx8SWMoKSkmJlJuKEsubS5qYSkpe1QoYSxRLkEuaW0sITApO0hJKGEpJiZFSShhLCJzd19leHAiLDEpO2E6ewppZighUCgxMzIpfHwhSEkoYSkpYnJlYWsgYTt2YXIgYj13aih6aihhLkQpLCIvXy9zZXJ2aWNlX3dvcmtlciIpO1h4KHtWcjpifSk7fX19LFlPPWZ1bmN0aW9uKGEpe2lmKCFMKGEuRCxLLm0uSGMpfHwhTChhLkQsSy5tLkljKSl7dmFyIGI9YS5jb3B5VG9IaXREYXRhLGM9Sy5tLnhhLGQ9IiIsZT16LmxvY2F0aW9uO2lmKGUpe3ZhciBmPWUucGF0aG5hbWV8fCIiO2YuY2hhckF0KDApIT09Ii8iJiYoZj0iLyIrZik7dmFyIGc9ZS5zZWFyY2h8fCIiO2lmKGcmJmdbMF09PT0iPyIpZm9yKHZhciBoPWcuc3Vic3RyaW5nKDEpLnNwbGl0KCImIiksbD0wO2w8aC5sZW5ndGg7KytsKXt2YXIgbj1oW2xdLnNwbGl0KCI9Iik7biYmbi5sZW5ndGg9PT0yJiZuWzBdPT09IndicmFpZCImJihnPWcucmVwbGFjZSgvKFs/Jl0pd2JyYWlkPVteJl0rLywiJDF3YnJhaWQ9IitWYihuWzFdKSkpfWQ9ZS5wcm90b2NvbCsiLy8iKwplLmhvc3RuYW1lK2YrZ31iLmNhbGwoYSxjLGQsRU8pO3ZhciBwPWEuY29weVRvSGl0RGF0YSxxPUsubS5ZYSxyPWxwKCJndG0uZ3RhZ1JlZmVycmVyLiIrYS50YXJnZXQuZGVzdGluYXRpb25JZCksdT16LnJlZmVycmVyO3AuY2FsbChhLHEsKHI/IiIrcjp1KXx8dm9pZCAwLEVPKTthLmNvcHlUb0hpdERhdGEoSy5tLkdiLHoudGl0bGUpO2EuY29weVRvSGl0RGF0YShLLm0ubGIsKEJjLmxhbmd1YWdlfHwiIikudG9Mb3dlckNhc2UoKSk7dmFyIHQ9UEYoKTthLmNvcHlUb0hpdERhdGEoSy5tLk5jLHQud2lkdGgrIngiK3QuaGVpZ2h0KTthLmNvcHlUb0hpdERhdGEoSy5tLklmLHZvaWQgMCxFTyk7UCg4NykmJkdKKCkmJmEuY29weVRvSGl0RGF0YShLLm0ueGUsIjEiKX19LFpPPWZ1bmN0aW9uKGEpe3ZhciBiPVAoMjY2KSxjPVAoMjY3KTtpZihifHxjKXt2YXIgZD1IdShhLEsubS54YSk7aWYoZCYmZC5pbmRleE9mKCI/Iik9PT0tMSl7dmFyIGU9QU8oKTtpZihlLmxlbmd0aCE9PTAmJihiJiYKVU0oRi5NLlBsKSxjKSl7VU0oRi5NLk9sKTt2YXIgZj1lLm1hcChmdW5jdGlvbihnKXtyZXR1cm4gZy5uYW1lKyI9IitnLnZhbHVlfSkuam9pbigiJiIpO1goYSxLLm0ueGEsZCsiPyIrZil9fX19LCRPPWZ1bmN0aW9uKGEsYil7Yi5yaiYmKFQoYSxRLkEuaWEsITApLGIucmo9ITEsdWooKSYmVChhLFEuQS5ZZixZYigpKSl9LGFQPWZ1bmN0aW9uKGEpe3ZhciBiPVIoYSxRLkEuWmYpO2I9Ynx8MDt2YXIgYz0hIVIoYSxRLkEuaWEpLGQ9Yj09PTB8fGM7VChhLFEuQS5JaSxkKTtkJiZUKGEsUS5BLlpmLDYwKX0sYlA9ZnVuY3Rpb24oYSl7VChhLFEuQS5LZywhMSk7VChhLFEuQS5jZSwhMSk7aWYoIUhJKGEpJiYhUihhLFEuQS5GZCkmJkwoYS5ELEsubS5VYikhPT0hMSYmVksoKSYmUm4oW0subS5XLEsubS5qYV0pKXt2YXIgYj1JSShhKTsoUihhLFEuQS5FZSl8fEwoYS5ELEsubS5WaykpJiZUKGEsUS5BLktnLCEhYik7YiYmUihhLFEuQS5JaSkmJlIoYSxRLkEuZm0pJiZUKGEsUS5BLmNlLAohMCl9fSxjUD1mdW5jdGlvbihhKXtUKGEsUS5BLkxnLCExKTtUKGEsUS5BLk1nLCExKTtpZighU20oKSYmdWooKSYmIUhJKGEpJiYhUihhLFEuQS5GZCkmJlIoYSxRLkEuSWkpKXt2YXIgYj1SKGEsUS5BLmNlKTtSKGEsUS5BLllmKSYmKGI/VChhLFEuQS5NZywhMCk6VChhLFEuQS5MZywhMCkpfX0sZlA9ZnVuY3Rpb24oYSl7YS5jb3B5VG9IaXREYXRhKEsubS53aSk7Zm9yKHZhciBiPUwoYS5ELEsubS5aayl8fFtdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLnJ1bGVfcmVzdWx0KXthLmNvcHlUb0hpdERhdGEoSy5tLndpLGQudHJhZmZpY190eXBlKTtVTShGLk0uT20pO2JyZWFrfX19LG1QPWZ1bmN0aW9uKGEpe2EuY29weVRvSGl0RGF0YShLLm0uV2spO0woYS5ELEsubS5paCkmJihYKGEsSy5tLmloLCEwKSxISShhKXx8RE8oYSkpfSxpUD1mdW5jdGlvbihhKXthLmNvcHlUb0hpdERhdGEoSy5tLk9hKTthLmNvcHlUb0hpdERhdGEoSy5tLnlkKX0sa1A9ZnVuY3Rpb24oYSl7dmFyIGI9CkwoYS5ELEsubS5JYyk7YiYmVU0oRi5NLkdtKTtSKGEsUS5BLmRlKSYmVU0oRi5NLmZrKTt2YXIgYz1TaihUaigpKTsoYnx8ZWsoYyl8fGMmJmMucGFyZW50JiZjLmNvbnRleHQmJmMuY29udGV4dC5zb3VyY2U9PT01KSYmVU0oRi5NLmttKX0sTU89ZnVuY3Rpb24oYSl7aWYoeU8oYS50YXJnZXQuZGVzdGluYXRpb25JZCkpTSgyOCksYS5pc0Fib3J0ZWQ9ITA7ZWxzZXt2YXIgYj1SaigpO2lmKGImJkFycmF5LmlzQXJyYXkoYi5kZXN0aW5hdGlvbnMpKWZvcih2YXIgYz0wO2M8Yi5kZXN0aW5hdGlvbnMubGVuZ3RoO2MrKylpZih5TyhiLmRlc3RpbmF0aW9uc1tjXSkpe00oMTI1KTthLmlzQWJvcnRlZD0hMDticmVha319fSxnUD1mdW5jdGlvbihhKXtPSSgpJiZYKGEsSy5tLmtkLCIxIil9LE5PPWZ1bmN0aW9uKGEpe2lmKEdPLkxxLnJlcGxhY2UoL1xzKy9nLCIiKS5zcGxpdCgiLCIpLmluZGV4T2YoYS5ldmVudE5hbWUpPj0wKWEuaXNBYm9ydGVkPSEwO2Vsc2V7dmFyIGI9RkkoYSk7YiYmCmIuYmxhY2tsaXN0ZWQmJihhLmlzQWJvcnRlZD0hMCl9fSxkUD1mdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbihjKXtyZXR1cm4hIWMmJmMuY29udmVyc2lvbn07VChhLFEuQS5XZixiKEZJKGEpKSk7UihhLFEuQS5YZikmJlQoYSxRLkEuZG0sYihGSShhLCJmaXJzdF92aXNpdCIpKSk7UihhLFEuQS5FZSkmJlQoYSxRLkEuaG0sYihGSShhLCJzZXNzaW9uX3N0YXJ0IikpKX0sZVA9ZnVuY3Rpb24oYSl7Wm0uaGFzT3duUHJvcGVydHkoYS5ldmVudE5hbWUpJiYoVChhLFEuQS5hbSwhMCksYS5jb3B5VG9IaXREYXRhKEsubS5CYSksYS5jb3B5VG9IaXREYXRhKEsubS5rYikpfSxqUD1mdW5jdGlvbihhKXtpZighSEkoYSkmJlIoYSxRLkEuV2YpJiZSbihLLm0uVykmJndGKGEsImdhNF9hZHNfbGlua2VkIiwhMSkpe3ZhciBiPUV1KGEpLGM9dHQoYi5wcmVmaXgpLGQ9VnUoYyk7WChhLEsubS5rZSxkLm9nKTtYKGEsSy5tLm5lLGQuS2gpO1goYSxLLm0ubWUsZC5KaCl9fSxoUD1mdW5jdGlvbihhKXtpZihQKDQzNSkpe3ZhciBiPQpTbSgpO2ImJlQoYSxRLkEueHAsYil9fSxXTz1mdW5jdGlvbihhKXtUKGEsUS5BLmZtLElJKGEpJiZMKGEuRCxLLm0uVWIpIT09ITEmJlZLKCkmJiFRbSgpKX07ZnVuY3Rpb24gTE8oYSl7emIoYSxmdW5jdGlvbihjKXtjLmNoYXJBdCgwKT09PSJfIiYmZGVsZXRlIGFbY119KTt2YXIgYj1hW0subS55ZF18fHt9O3piKGIsZnVuY3Rpb24oYyl7Yy5jaGFyQXQoMCk9PT0iXyImJmRlbGV0ZSBiW2NdfSl9O3ZhciBvUD1mdW5jdGlvbihhKXtpZighblAoYSkpe3ZhciBiPSExLGM9ZnVuY3Rpb24oKXshYiYmblAoYSkmJihiPSEwLFRjKHosInZpc2liaWxpdHljaGFuZ2UiLGMpLFRjKHosInByZXJlbmRlcmluZ2NoYW5nZSIsYyksTSg1NSkpfTtTYyh6LCJ2aXNpYmlsaXR5Y2hhbmdlIixjKTtTYyh6LCJwcmVyZW5kZXJpbmdjaGFuZ2UiLGMpO00oNTQpfX0sblA9ZnVuY3Rpb24oYSl7aWYoInByZXJlbmRlcmluZyJpbiB6P3oucHJlcmVuZGVyaW5nOnoudmlzaWJpbGl0eVN0YXRlPT09InByZXJlbmRlciIpcmV0dXJuITE7YSgpO3JldHVybiEwfTtmdW5jdGlvbiBwUChhKXtvUChmdW5jdGlvbigpe3ZhciBiPWxvKGEpO2lmKGIpe3ZhciBjPXFQKGIpLGQ9R2wuYWEuZGQsZT1sbyhhLCEwKTtlJiZQcC5yZWdpc3RlcihlLGMsZCx2b2lkIDApfX0pO31mdW5jdGlvbiBxUChhKXt2YXIgYj1mdW5jdGlvbigpe307dmFyIGM9bmV3IEtPKGEuaWQpLGQ9YS5wcmVmaXg9PT0iTUMiO2I9ZnVuY3Rpb24oZSxmLGcsaCl7ZCYmKGguZXZlbnRNZXRhZGF0YVtRLkEuRmRdPSEwKTtjLk5yKGYsZyxoKX07clAoYSxjKTtyZXR1cm4gYn0KZnVuY3Rpb24gclAoYSxiKXt2YXIgYz1iLkg7Yy5ScihmdW5jdGlvbigpe0pNPSEwO1BwLmZsdXNoKCk7aWYoYy5MaCgpPj0xRTMmJkJjLnNlbmRCZWFjb24hPT12b2lkIDApe3ZhciBkPXt9LGU9e2V2ZW50SWQ6Zm8oKSxldmVudE1ldGFkYXRhOihkW1EuQS5ia109ITAsZCksZGVmZXJyYWJsZTohMH07T3AoSy5tLmplLHt9LGEuaWQsZSl9Yi5mbHVzaCgpO2MuQW4oZnVuY3Rpb24oKXtKTT0hMTtjLkFuKCl9KX0pO312YXIgc1A9Ri5NLnhrLHRQPUYuTS55aztmdW5jdGlvbiB1UChhLGIpe3ZhciBjPU5qKCk7YyYmYy5pbmRleE9mKGIpPi0xJiYoYVtRLkEuZWJdPSEwKX1mdW5jdGlvbiB3UChhLGIsYyl7dmFyIGQ9dGhpczt9d1AuSj0iaW50ZXJuYWwuZ3RhZ0NvbmZpZyI7ZnVuY3Rpb24geFAoYSxiLGMpe3ZhciBkPXRoaXM7fXhQLko9ImludGVybmFsLmd0YWdEZXN0aW5hdGlvbkNvbmZpZyI7CmZ1bmN0aW9uIHpQKGEsYil7fQp6UC5wdWJsaWNOYW1lPSJndGFnU2V0IjtmdW5jdGlvbiBBUCgpe3ZhciBhPXt9O3JldHVybiBhfTtmdW5jdGlvbiBCUChhKXt9QlAuSj0iaW50ZXJuYWwuaW5pdGlhbGl6ZVNlcnZpY2VXb3JrZXIiO2Z1bmN0aW9uIENQKGEsYil7fUNQLnB1YmxpY05hbWU9ImluamVjdEhpZGRlbklmcmFtZSI7dmFyIERQPWZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gZnVuY3Rpb24oYil7c3dpdGNoKGIpe2Nhc2UgMTphfD0xO2JyZWFrO2Nhc2UgMjphfD0yO2JyZWFrO2Nhc2UgMzphfD00fXJldHVybiBhfX0oKTsKZnVuY3Rpb24gRVAoYSxiLGMsZCxlKXt9RVAuSj0iaW50ZXJuYWwuaW5qZWN0SHRtbCI7dmFyIElQPXt9OwpmdW5jdGlvbiBLUChhLGIsYyxkKXt9dmFyIExQPXtkbDoxLGlkOjF9LE1QPXt9OwpmdW5jdGlvbiBOUChhLGIsYyxkKXt9UCgxNjApP05QLnB1YmxpY05hbWU9ImluamVjdFNjcmlwdCI6S1AucHVibGljTmFtZT0iaW5qZWN0U2NyaXB0IjtOUC5KPSJpbnRlcm5hbC5pbmplY3RTY3JpcHQiO2Z1bmN0aW9uIE9QKCl7dmFyIGE9ITE7YT0hIUltWyI1Il07cmV0dXJuIGF9T1AuSj0iaW50ZXJuYWwuaXNBdXRvUGlpRWxpZ2libGUiO2Z1bmN0aW9uIFBQKGEpe3ZhciBiPSEwO3JldHVybiBifVBQLnB1YmxpY05hbWU9ImlzQ29uc2VudEdyYW50ZWQiO2Z1bmN0aW9uIFFQKGEpe3ZhciBiPSExO3JldHVybiBifVFQLko9ImludGVybmFsLmlzRGVidWdNb2RlIjtmdW5jdGlvbiBSUCgpe3JldHVybiBSbSgpfVJQLko9ImludGVybmFsLmlzRG1hUmVnaW9uIjtmdW5jdGlvbiBTUCgpe3JldHVybiBtQX1TUC5KPSJpbnRlcm5hbC5pc0RvbVJlYWR5IjtmdW5jdGlvbiBUUChhKXt2YXIgYj0hMTtyZXR1cm4gYn1UUC5KPSJpbnRlcm5hbC5pc0VudGl0eUluZnJhc3RydWN0dXJlIjtmdW5jdGlvbiBVUChhKXt2YXIgYj0hMTtpZighSWgoYSkpdGhyb3cgRyh0aGlzLmdldE5hbWUoKSxbIm51bWJlciJdLFthXSk7Yj1QKGEpO3JldHVybiBifVVQLko9ImludGVybmFsLmlzRmVhdHVyZUVuYWJsZWQiO2Z1bmN0aW9uIFZQKCl7dmFyIGE9ITE7cmV0dXJuIGF9VlAuSj0iaW50ZXJuYWwuaXNGcGZlIjtmdW5jdGlvbiBXUCgpe3ZhciBhPSExO3JldHVybiBhfVdQLko9ImludGVybmFsLmlzR2NwQ29udmVyc2lvbiI7ZnVuY3Rpb24gWFAoKXt2YXIgYT0hMTtyZXR1cm4gYX1YUC5KPSJpbnRlcm5hbC5pc0xhbmRpbmdQYWdlIjtmdW5jdGlvbiBZUCgpe3ZhciBhPSExO3JldHVybiBhfVlQLko9ImludGVybmFsLmlzT2d0IjtmdW5jdGlvbiBaUCgpe3ZhciBhO3JldHVybiBhfVpQLko9ImludGVybmFsLmlzU2FmYXJpUGNtRWxpZ2libGVCcm93c2VyIjtmdW5jdGlvbiAkUCgpe3ZhciBhPWdpKGZ1bmN0aW9uKGIpe1lDKHRoaXMpLmxvZygiZXJyb3IiLGIpfSk7YS5wdWJsaWNOYW1lPSJKU09OIjtyZXR1cm4gYX07ZnVuY3Rpb24gYVEoYSl7dmFyIGI9dm9pZCAwO3JldHVybiBJZChiKX1hUS5KPSJpbnRlcm5hbC5sZWdhY3lQYXJzZVVybCI7ZnVuY3Rpb24gYlEoKXtyZXR1cm4hMX0KdmFyIGNRPXtnZXRJdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7cmV0dXJuIGJ9LHNldEl0ZW06ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMX0scmVtb3ZlSXRlbTpmdW5jdGlvbihhKXt9fTtmdW5jdGlvbiBkUSgpe31kUS5wdWJsaWNOYW1lPSJsb2dUb0NvbnNvbGUiO2Z1bmN0aW9uIGVRKGEsYil7aWYoIURoKGEpfHwhd2goYikpdGhyb3cgRyh0aGlzLmdldE5hbWUoKSxbInN0cmluZyIsIk9iamVjdCJdLGFyZ3VtZW50cyk7dmFyIGM9YSxkPUIoYix0aGlzLkspLGU9bG8oYywhMCk7ZSYmWnAoUHAsZSxkKTt9ZVEuSj0iaW50ZXJuYWwubWVyZ2VSZW1vdGVDb25maWciO2Z1bmN0aW9uIGZRKGEsYixjKXtjPWM9PT12b2lkIDA/ITA6Yzt2YXIgZD1bXTtyZXR1cm4gSWQoZCl9ZlEuSj0iaW50ZXJuYWwucGFyc2VDb29raWVWYWx1ZXNGcm9tU3RyaW5nIjtmdW5jdGlvbiBnUShhKXt2YXIgYj12b2lkIDA7aWYodHlwZW9mIGEhPT0ic3RyaW5nIilyZXR1cm47YSYmTGIoYSwiLy8iKSYmKGE9ei5sb2NhdGlvbi5wcm90b2NvbCthKTtpZih0eXBlb2YgVVJMPT09ImZ1bmN0aW9uIil7dmFyIGM7YTp7dmFyIGQ7dHJ5e2Q9bmV3IFVSTChhKX1jYXRjaCh4KXtjPXZvaWQgMDticmVhayBhfWZvcih2YXIgZT17fSxmPUFycmF5LmZyb20oZC5zZWFyY2hQYXJhbXMpLGc9MDtnPGYubGVuZ3RoO2crKyl7dmFyIGg9ZltnXVswXSxsPWZbZ11bMV07ZS5oYXNPd25Qcm9wZXJ0eShoKT90eXBlb2YgZVtoXT09PSJzdHJpbmciP2VbaF09W2VbaF0sbF06ZVtoXS5wdXNoKGwpOmVbaF09bH1jPUlkKHtocmVmOmQuaHJlZixvcmlnaW46ZC5vcmlnaW4scHJvdG9jb2w6ZC5wcm90b2NvbCx1c2VybmFtZTpkLnVzZXJuYW1lLHBhc3N3b3JkOmQucGFzc3dvcmQsaG9zdDpkLmhvc3QsCmhvc3RuYW1lOmQuaG9zdG5hbWUscG9ydDpkLnBvcnQscGF0aG5hbWU6ZC5wYXRobmFtZSxzZWFyY2g6ZC5zZWFyY2gsc2VhcmNoUGFyYW1zOmUsaGFzaDpkLmhhc2h9KX1yZXR1cm4gY312YXIgbjt0cnl7bj1waihhKX1jYXRjaCh4KXtyZXR1cm59aWYoIW4ucHJvdG9jb2x8fCFuLmhvc3QpcmV0dXJuO3ZhciBwPXt9O2lmKG4uc2VhcmNoKWZvcih2YXIgcT1uLnNlYXJjaC5yZXBsYWNlKCI/IiwiIikuc3BsaXQoIiYiKSxyPTA7cjxxLmxlbmd0aDtyKyspe3ZhciB1PXFbcl0uc3BsaXQoIj0iKSx0PXVbMF0sdj1paih1LnNwbGljZSgxKS5qb2luKCI9IikpfHwiIjt2PXYucmVwbGFjZSgvXCsvZywiICIpO3AuaGFzT3duUHJvcGVydHkodCk/dHlwZW9mIHBbdF09PT0ic3RyaW5nIj9wW3RdPVtwW3RdLHZdOnBbdF0ucHVzaCh2KTpwW3RdPXZ9bi5zZWFyY2hQYXJhbXM9cDtuLm9yaWdpbj1uLnByb3RvY29sKyIvLyIrbi5ob3N0O24udXNlcm5hbWU9IiI7bi5wYXNzd29yZD0iIjtiPUlkKG4pOwpyZXR1cm4gYn1nUS5wdWJsaWNOYW1lPSJwYXJzZVVybCI7ZnVuY3Rpb24gaFEoYSl7fWhRLko9ImludGVybmFsLnByb2Nlc3NBc05ld0V2ZW50IjtmdW5jdGlvbiBpUShhLGIsYyl7dmFyIGQ7cmV0dXJuIGR9aVEuSj0iaW50ZXJuYWwucHVzaFRvRGF0YUxheWVyIjtmdW5jdGlvbiBqUShhKXt2YXIgYj1EYS5hcHBseSgxLGFyZ3VtZW50cyksYz0hMTtpZighRGgoYSkpdGhyb3cgRyh0aGlzLmdldE5hbWUoKSxbInN0cmluZyJdLGFyZ3VtZW50cyk7Zm9yKHZhciBkPVt0aGlzLGFdLGU9bShiKSxmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSlkLnB1c2goQihmLnZhbHVlLHRoaXMuSywxKSk7dHJ5e0kuYXBwbHkobnVsbCxkKSxjPSEwfWNhdGNoKGcpe3JldHVybiExfXJldHVybiBjfWpRLnB1YmxpY05hbWU9InF1ZXJ5UGVybWlzc2lvbiI7ZnVuY3Rpb24ga1EoYSl7dmFyIGI9dGhpczt9a1EuSj0iaW50ZXJuYWwucXVldWVBZHNUcmFuc21pc3Npb24iO2Z1bmN0aW9uIGxRKGEpe3ZhciBiPXZvaWQgMDtyZXR1cm4gYn1sUS5wdWJsaWNOYW1lPSJyZWFkQW5hbHl0aWNzU3RvcmFnZSI7ZnVuY3Rpb24gbVEoKXt2YXIgYT0iIjtyZXR1cm4gYX1tUS5wdWJsaWNOYW1lPSJyZWFkQ2hhcmFjdGVyU2V0IjtmdW5jdGlvbiBuUSgpe3JldHVybiBEKDE5KX1uUS5KPSJpbnRlcm5hbC5yZWFkRGF0YUxheWVyTmFtZSI7ZnVuY3Rpb24gb1EoKXt2YXIgYT0iIjtyZXR1cm4gYX1vUS5wdWJsaWNOYW1lPSJyZWFkVGl0bGUiO2Z1bmN0aW9uIHBRKGEsYil7dmFyIGM9dGhpcztpZighRGgoYSl8fCF6aChiKSl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nIiwiZnVuY3Rpb24iXSxhcmd1bWVudHMpO0NKKGEsZnVuY3Rpb24oZCl7Yi5pbnZva2UoYy5LLElkKGQsYy5LLDEpKX0pO31wUS5KPSJpbnRlcm5hbC5yZWdpc3RlckNjZENhbGxiYWNrIjtmdW5jdGlvbiBxUShhLGIpe2lmKCFEaChhKXx8IXdoKGIpJiYheWgoYikpdGhyb3cgRyh0aGlzLmdldE5hbWUoKSxbInN0cmluZyIsIk9iamVjdHx1bmRlZmluZWQiXSxhcmd1bWVudHMpO2lmKFNoKFlDKHRoaXMpLk9iKCkpKXJldHVybiExO3ZhciBjLGQsZT1sbyhhLCEwKTtpZighZSlyZXR1cm4hMTtzd2l0Y2goZS5wcmVmaXgpe2Nhc2UgIkFXIjpjPXhLO2Q9R2wuYWEuU2E7YnJlYWs7Y2FzZSAiREMiOmM9Tks7ZD1HbC5hYS5TYTticmVhaztjYXNlICJHRiI6Yz1TSztkPUdsLmFhLlNjO2JyZWFrO2Nhc2UgIkhBIjpjPVVLO2Q9R2wuYWEuU2M7YnJlYWs7Y2FzZSAiVUEiOmM9b0w7ZD1HbC5hYS5TYzticmVhaztjYXNlICJNQyI6Yz1xUChlKTtkPUdsLmFhLmRkO2JyZWFrO2Nhc2UgIkciOnJldHVybiBwUChhKSwhMDtkZWZhdWx0OnJldHVybiExfXZhciBmPWEsCmc9YyxoPWQsbD1CKGIsdGhpcy5LLDEpLG49bG8oZiwhMCk7biYmUHAucmVnaXN0ZXIobixnLGgsbCk7cmV0dXJuITB9cVEuSj0iaW50ZXJuYWwucmVnaXN0ZXJEZXN0aW5hdGlvbiI7dmFyIHJRPVsiY29uZmlnIiwiZXZlbnQiLCJnZXQiLCJzZXQiXTtmdW5jdGlvbiBzUShhLGIsYyl7fXNRLko9ImludGVybmFsLnJlZ2lzdGVyR3RhZ0NvbW1hbmRMaXN0ZW5lciI7ZnVuY3Rpb24gdFEoYSxiKXt2YXIgYz0hMTtyZXR1cm4gY310US5KPSJpbnRlcm5hbC5yZW1vdmVEYXRhTGF5ZXJFdmVudExpc3RlbmVyIjtmdW5jdGlvbiB1UShhLGIpe30KdVEuSj0iaW50ZXJuYWwucmVtb3ZlRm9ybURhdGEiO2Z1bmN0aW9uIHZRKCl7fXZRLnB1YmxpY05hbWU9InJlc2V0RGF0YUxheWVyIjtmdW5jdGlvbiB3UShhLGIsYyl7dmFyIGQ9dm9pZCAwO3JldHVybiBkfXdRLko9ImludGVybmFsLnNjcnViVXJsUGFyYW1zIjtmdW5jdGlvbiB4UShhKXt9eFEuSj0iaW50ZXJuYWwuc2VuZEFkc0hpdCI7ZnVuY3Rpb24geVEoYSxiLGMsZCl7aWYoYXJndW1lbnRzLmxlbmd0aDwyfHwheGgoZCl8fCF4aChjKSl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsiYW55IiwiYW55IiwiT2JqZWN0fHVuZGVmaW5lZCIsIk9iamVjdHx1bmRlZmluZWQiXSxhcmd1bWVudHMpO3ZhciBlPWM/QihjKTp7fSxmPUIoYSksZz1BcnJheS5pc0FycmF5KGYpP2Y6W2ZdO2I9U3RyaW5nKGIpO3ZhciBoPWQ/QihkKTp7fSxsPVlDKHRoaXMpO2gub3JpZ2luYXRpbmdFbnRpdHk9TkQobCk7Zm9yKHZhciBuPTA7bjxnLmxlbmd0aDtuKyspe3ZhciBwPWdbbl07aWYodHlwZW9mIHA9PT0ic3RyaW5nIil7dmFyIHE9e307dGQoZSxxKTt2YXIgcj17fTt0ZChoLHIpO3ZhciB1PUJBKHAsYixxKTtEQSh1LGguZXZlbnRJZHx8bC5ldmVudElkLHIpfX19CnlRLko9ImludGVybmFsLnNlbmRHdGFnRXZlbnQiO2Z1bmN0aW9uIHpRKGEsYixjKXt9elEucHVibGljTmFtZT0ic2VuZFBpeGVsIjtmdW5jdGlvbiBBUShhLGIpe31BUS5KPSJpbnRlcm5hbC5zZXRBbmNob3JIcmVmIjtmdW5jdGlvbiBCUShhKXt9QlEuSj0iaW50ZXJuYWwuc2V0Q29udGFpbmVyQ29uc2VudERlZmF1bHRzIjtmdW5jdGlvbiBDUShhLGIsYyxkKXt2YXIgZT10aGlzO2Q9ZD09PXZvaWQgMD8hMDpkO3ZhciBmPSExOwpyZXR1cm4gZn1DUS5wdWJsaWNOYW1lPSJzZXRDb29raWUiO2Z1bmN0aW9uIERRKGEpe31EUS5KPSJpbnRlcm5hbC5zZXRDb3JlUGxhdGZvcm1TZXJ2aWNlcyI7ZnVuY3Rpb24gRVEoYSxiKXt9RVEuSj0iaW50ZXJuYWwuc2V0RGF0YUxheWVyVmFsdWUiO2Z1bmN0aW9uIEZRKGEpe31GUS5wdWJsaWNOYW1lPSJzZXREZWZhdWx0Q29uc2VudFN0YXRlIjtmdW5jdGlvbiBHUShhLGIpe31HUS5KPSJpbnRlcm5hbC5zZXREZWxlZ2F0ZWRDb25zZW50VHlwZSI7ZnVuY3Rpb24gSFEoYSxiKXt9SFEuSj0iaW50ZXJuYWwuc2V0Rm9ybUFjdGlvbiI7ZnVuY3Rpb24gSVEoYSxiLGMpe2M9Yz09PXZvaWQgMD8hMTpjO2lmKCFEaChhKXx8IUdoKGMpKXRocm93IEcodGhpcy5nZXROYW1lKCksWyJzdHJpbmciLCJhbnkiLCJib29sZWFufHVuZGVmaW5lZCJdLGFyZ3VtZW50cyk7aWYoIWhtKGEpKXRocm93IEVycm9yKCJzZXRJbkNyb3NzQ29udGFpbmVyRGF0YSByZXF1aXJlcyB2YWxpZCBDcm9zc0NvbnRhaW5lclNjaGVtYSBrZXkuIik7KGN8fGttKGEpPT09dm9pZCAwKSYmam0oYSxCKGIsdGhpcy5LLDEpKTt9SVEuSj0iaW50ZXJuYWwuc2V0SW5Dcm9zc0NvbnRhaW5lckRhdGEiO2Z1bmN0aW9uIEpRKGEsYixjKXtyZXR1cm4hMX1KUS5wdWJsaWNOYW1lPSJzZXRJbldpbmRvdyI7ZnVuY3Rpb24gS1EoYSxiLGMpe2lmKCFEaChhKXx8IURoKGIpfHxhcmd1bWVudHMubGVuZ3RoIT09Myl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nIiwic3RyaW5nIiwiYW55Il0sYXJndW1lbnRzKTt2YXIgZD1zRihhKXx8e307ZFtiXT1CKGMsdGhpcy5LKTt2YXIgZT1hO3FGfHxyRigpO3BGW2VdPWQ7fUtRLko9ImludGVybmFsLnNldFByb2R1Y3RTZXR0aW5nc1BhcmFtZXRlciI7ZnVuY3Rpb24gTFEoYSxiLGMpe2lmKCFEaChhKXx8IURoKGIpfHxhcmd1bWVudHMubGVuZ3RoIT09Myl0aHJvdyBHKHRoaXMuZ2V0TmFtZSgpLFsic3RyaW5nIiwic3RyaW5nIiwiYW55Il0sYXJndW1lbnRzKTtmb3IodmFyIGQ9Yi5zcGxpdCgiLiIpLGU9UnAoYSksZj0wO2Y8ZC5sZW5ndGgtMTtmKyspe2lmKGVbZFtmXV09PT12b2lkIDApZVtkW2ZdXT17fTtlbHNlIGlmKCFzZChlW2RbZl1dKSl0aHJvdyBFcnJvcigic2V0UmVtb3RlQ29uZmlnUGFyYW1ldGVyIGZhaWxlZCwgcGF0aCBjb250YWlucyBhIG5vbi1vYmplY3QgdHlwZTogIitkW2ZdKTtlPWVbZFtmXV19ZVtkW2ZdXT1CKGMsdGhpcy5LLDEpO31MUS5KPSJpbnRlcm5hbC5zZXRSZW1vdGVDb25maWdQYXJhbWV0ZXIiO2Z1bmN0aW9uIE1RKGEsYil7fQpNUS5KPSJpbnRlcm5hbC5zZXRUcmFuc21pc3Npb25Nb2RlIjtmdW5jdGlvbiBOUShhLGIsYyxkKXt2YXIgZT10aGlzO31OUS5wdWJsaWNOYW1lPSJzaGEyNTYiO2Z1bmN0aW9uIE9RKGEsYixjKXt9Ck9RLko9ImludGVybmFsLnNvcnRSZW1vdGVDb25maWdQYXJhbWV0ZXJzIjtmdW5jdGlvbiBQUShhKXt9UFEuSj0iaW50ZXJuYWwuc3RvcmVBZHNCcmFpZExhYmVscyI7ZnVuY3Rpb24gUVEoYSxiKXt2YXIgYz12b2lkIDA7cmV0dXJuIGN9UVEuSj0iaW50ZXJuYWwuc3Vic2NyaWJlVG9Dcm9zc0NvbnRhaW5lckRhdGEiO2Z1bmN0aW9uIFJRKGEpe31SUS5KPSJpbnRlcm5hbC50YXNrU2VuZEFkc0hpdHMiO3ZhciBTUT17fSxUUT17fTtTUS5nZXRJdGVtPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7SSh0aGlzLCJhY2Nlc3NfdGVtcGxhdGVfc3RvcmFnZSIpO3ZhciBjPVlDKHRoaXMpLk9iKCk7VFFbY10mJihiPVRRW2NdLmhhc093blByb3BlcnR5KCJndG0uIithKT9UUVtjXVsiZ3RtLiIrYV06bnVsbCk7cmV0dXJuIGJ9O1NRLnNldEl0ZW09ZnVuY3Rpb24oYSxiKXtJKHRoaXMsImFjY2Vzc190ZW1wbGF0ZV9zdG9yYWdlIik7dmFyIGM9WUModGhpcykuT2IoKTtUUVtjXT1UUVtjXXx8e307VFFbY11bImd0bS4iK2FdPWI7fTsKU1EucmVtb3ZlSXRlbT1mdW5jdGlvbihhKXtJKHRoaXMsImFjY2Vzc190ZW1wbGF0ZV9zdG9yYWdlIik7dmFyIGI9WUModGhpcykuT2IoKTtpZighVFFbYl18fCFUUVtiXS5oYXNPd25Qcm9wZXJ0eSgiZ3RtLiIrYSkpcmV0dXJuO2RlbGV0ZSBUUVtiXVsiZ3RtLiIrYV07fTtTUS5jbGVhcj1mdW5jdGlvbigpe0kodGhpcywiYWNjZXNzX3RlbXBsYXRlX3N0b3JhZ2UiKSxkZWxldGUgVFFbWUModGhpcykuT2IoKV07fTtTUS5wdWJsaWNOYW1lPSJ0ZW1wbGF0ZVN0b3JhZ2UiOwpTUS5yZXNldEZvclRlc3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bShPYmplY3Qua2V5cyhUUSkpLGI9YS5uZXh0KCk7IWIuZG9uZTtiPWEubmV4dCgpKWRlbGV0ZSBUUVtiLnZhbHVlXX07ZnVuY3Rpb24gVVEoYSxiKXt2YXIgYz0hMTtyZXR1cm4gY31VUS5KPSJpbnRlcm5hbC50ZXN0UmVnZXgiO2Z1bmN0aW9uIFZRKGEpe3ZhciBiO3JldHVybiBifTtmdW5jdGlvbiBXUShhLGIpe31XUS5KPSJpbnRlcm5hbC50cmFja1VzYWdlIjtmdW5jdGlvbiBYUShhLGIpe3ZhciBjO3JldHVybiBjfVhRLko9ImludGVybmFsLnVuc3Vic2NyaWJlRnJvbUNyb3NzQ29udGFpbmVyRGF0YSI7ZnVuY3Rpb24gWVEoYSl7fVlRLnB1YmxpY05hbWU9InVwZGF0ZUNvbnNlbnRTdGF0ZSI7ZnVuY3Rpb24gWlEoYSl7dmFyIGI9ITE7cmV0dXJuIGJ9WlEuSj0iaW50ZXJuYWwudXNlckRhdGFOZWVkc0VuY3J5cHRpb24iO3ZhciAkUTtmdW5jdGlvbiBhUihhLGIsYyl7JFE9JFF8fG5ldyByaTskUS5hZGQoYSxiLGMpfWZ1bmN0aW9uIGJSKGEsYil7dmFyIGM9JFE9JFF8fG5ldyByaTtpZihjLkMuaGFzT3duUHJvcGVydHkoYSkpdGhyb3cgRXJyb3IoIkF0dGVtcHRpbmcgdG8gYWRkIGEgcHJpdmF0ZSBmdW5jdGlvbiB3aGljaCBhbHJlYWR5IGV4aXN0czogIithKyIuIik7aWYoYy5jb250YWlucyhhKSl0aHJvdyBFcnJvcigiQXR0ZW1wdGluZyB0byBhZGQgYSBwcml2YXRlIGZ1bmN0aW9uIHdpdGggYW4gZXhpc3RpbmcgQVBJIG5hbWU6ICIrYSsiLiIpO2MuQ1thXT1yYihiKT9MaChhLGIpOk1oKGEsYil9CmZ1bmN0aW9uIGNSKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiO3ZhciBjPSRRO2lmKGMuY29udGFpbnMoYSkpYj1jLmdldChhLHRoaXMpO2Vsc2V7dmFyIGQ7aWYoZD1jLkMuaGFzT3duUHJvcGVydHkoYSkpe3ZhciBlPXRoaXMuSy5xYigpO2lmKGUpe3ZhciBmPSExLGc9ZS5PYigpO2lmKGcpe1NoKGcpfHwoZj0hMCk7fWQ9Zn1lbHNlIGQ9ITB9aWYoZCl7dmFyIGg9Yy5DLmhhc093blByb3BlcnR5KGEpP2MuQ1thXTp2b2lkIDA7CmI9aH1lbHNlIHRocm93IEVycm9yKGErIiBpcyBub3QgYSB2YWxpZCBBUEkgbmFtZS4iKTt9cmV0dXJuIGJ9fTtmdW5jdGlvbiBkUigpe3ZhciBhPWZ1bmN0aW9uKGMpe3JldHVybiB2b2lkIGJSKGMuSixjKX0sYj1mdW5jdGlvbihjKXtyZXR1cm4gdm9pZCBhUihjLnB1YmxpY05hbWUsYyl9O2IoU0MpO2IoWkMpO2IobUUpO2Iob0UpO2IocEUpO2Iod0UpO2IoeUUpO2IoQkYpO2IoJFAoKSk7YihERik7YihYTCk7YihZTCk7Yih4TSk7Yih5TSk7Yih6TSk7YihHTSk7Yih6UCk7YihDUCk7YihQUCk7YihkUSk7YihnUSk7YihqUSk7YihsUSk7YihtUSk7YihvUSk7Yih6USk7YihDUSk7YihGUSk7YihKUSk7YihOUSk7YihTUSk7YihZUSk7YVIoIk1hdGgiLFFoKCkpO2FSKCJPYmplY3QiLHBpKTthUigiVGVzdEhlbHBlciIsdGkoKSk7YVIoImFzc2VydEFwaSIsTmgpO2FSKCJhc3NlcnRUaGF0IixPaCk7YVIoImRlY29kZVVyaSIsVGgpO2FSKCJkZWNvZGVVcmlDb21wb25lbnQiLFVoKTthUigiZW5jb2RlVXJpIixWaCk7YVIoImVuY29kZVVyaUNvbXBvbmVudCIsV2gpO2FSKCJmYWlsIixhaSk7YVIoImdlbmVyYXRlUmFuZG9tIiwKZGkpO2FSKCJnZXRUaW1lc3RhbXAiLGVpKTthUigiZ2V0VGltZXN0YW1wTWlsbGlzIixlaSk7YVIoImdldFR5cGUiLGZpKTthUigibWFrZUludGVnZXIiLGhpKTthUigibWFrZU51bWJlciIsaWkpO2FSKCJtYWtlU3RyaW5nIixqaSk7YVIoIm1ha2VUYWJsZU1hcCIsa2kpO2FSKCJtb2NrIixuaSk7YVIoIm1vY2tPYmplY3QiLG9pKTthUigiZnJvbUJhc2U2NCIsUkwsISgiYXRvYiJpbiB3KSk7YVIoImxvY2FsU3RvcmFnZSIsY1EsIWJRKCkpO2FSKCJ0b0Jhc2U2NCIsVlEsISgiYnRvYSJpbiB3KSk7YShSQyk7YShWQyk7YShvRCk7YShBRCk7YShIRCk7YShNRCk7YShiRSk7YShrRSk7YShuRSk7YShxRSk7YShyRSk7YShzRSk7YSh0RSk7YSh1RSk7YSh2RSk7YSh4RSk7YSh6RSk7YShBRik7YShDRik7YShFRik7YShGRik7YShHRik7YShIRik7YShJRik7YShWRyk7YSgkRyk7YShoSCk7YShpSCk7YSh0SCk7YSh5SCk7YShESCk7YShNSCk7YShSSCk7YShkSSk7YShmSSk7YSh0SSk7YSh1SSk7CmEod0kpO2EoUEwpO2EoUUwpO2EoU0wpO2EoVEwpO2EoVUwpO2EoVkwpO2EoV0wpO2EoWkwpO2EoJEwpO2EoYU0pO2EoYk0pO2EoY00pO2EoZE0pO2EoZU0pO2EoZk0pO2EoZ00pO2EoaE0pO2EoaU0pO2Eoak0pO2Eoa00pO2EobE0pO2EobU0pO2Eobk0pO2EocE0pO2EocU0pO2Eock0pO2Eoc00pO2EodE0pO2EodU0pO2Eodk0pO2Eod00pO2EoQU0pO2EoQk0pO2EoQ00pO2EoRE0pO2EoRU0pO2EoRk0pO2EoSU0pO2Eod1ApO2EoeFApO2EoQlApO2EoRVApO2EoTlApO2EoT1ApO2EoUVApO2EoUlApO2EoU1ApO2EoVFApO2EoVVApO2EoVlApO2EoV1ApO2EoWFApO2EoWVApO2EoWlApO2EoYVEpO2EoJEQpO2EoZVEpO2EoZlEpO2EoaFEpO2EoaVEpO2Eoa1EpO2EoblEpO2EocFEpO2EocVEpO2Eoc1EpO2EodFEpO2EodVEpO2Eod1EpO2EoeFEpO2EoeVEpO2EoQVEpO2EoQlEpO2EoRFEpO2EoRVEpO2EoR1EpO2EoSFEpO2EoSVEpO2EoS1EpO2EoTFEpO2EoTVEpO2EoT1EpO2EoUFEpO2EoUVEpOwphKFJRKTthKFVRKTthKFdRKTthKFhRKTthKFpRKTtiUigiaW50ZXJuYWwuSWZyYW1pbmdTdGF0ZVNjaGVtYSIsQVAoKSk7YlIoImludGVybmFsLnF1aWNrSGFzaCIsY2kpO1AoMTYwKT9iKE5QKTpiKEtQKTtyZXR1cm4gY1IoKX07dmFyIFBDOwpmdW5jdGlvbiBlUigpe3ZhciBhPWRhdGEuc2FuZGJveGVkX3NjcmlwdHMsYj1kYXRhLnNlY3VyaXR5X2dyb3VwczthOnt2YXIgYz1kYXRhLnJ1bnRpbWV8fFtdLGQ9ZGF0YS5ydW50aW1lX2xpbmVzO1BDPW5ldyBlZjtmUigpO1BmPU9DKCk7dmFyIGU9UEMsZj1kUigpLGc9bmV3IEJkKCJyZXF1aXJlIixmKTtnLlZhKCk7ZS5DLkMuc2V0KCJyZXF1aXJlIixnKTtYYS5zZXQoInJlcXVpcmUiLGcpO2Zvcih2YXIgaD1bXSxsPTA7bDxjLmxlbmd0aDtsKyspe3ZhciBuPWNbbF07aWYoIUFycmF5LmlzQXJyYXkobil8fG4ubGVuZ3RoPDMpe2lmKG4ubGVuZ3RoPT09MCljb250aW51ZTticmVhayBhfWQmJmRbbF0mJmRbbF0ubGVuZ3RoJiZyZyhuLGRbbF0pO3RyeXtQQy5leGVjdXRlKG4pLFAoMTIwKSYmTGsmJm5bMF09PT01MCYmaC5wdXNoKG5bMV0pfWNhdGNoKHIpe319UCgxMjApJiYoYmc9aCl9aWYoYSYmYS5sZW5ndGgpZm9yKHZhciBwPTA7cDxhLmxlbmd0aDtwKyspe3ZhciBxPWFbcF0ucmVwbGFjZSgvXl8qLywKIiIpO2NqW3FdPVsic2FuZGJveGVkU2NyaXB0cyJdfWdSKGIpfWZ1bmN0aW9uIGZSKCl7UEMuWmMoZnVuY3Rpb24oYSxiLGMpe1puLlNBTkRCT1hFRF9KU19TRU1BUEhPUkU9Wm4uU0FOREJPWEVEX0pTX1NFTUFQSE9SRXx8MDtabi5TQU5EQk9YRURfSlNfU0VNQVBIT1JFKys7dHJ5e3JldHVybiBhLmFwcGx5KGIsYyl9ZmluYWxseXtabi5TQU5EQk9YRURfSlNfU0VNQVBIT1JFLS19fSl9ZnVuY3Rpb24gZ1IoYSl7YSYmemIoYSxmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLnJlcGxhY2UoL15fKi8sIiIpO2NqW2VdPWNqW2VdfHxbXTtjaltlXS5wdXNoKGIpfX0pfTtmdW5jdGlvbiBoUihhKXtEQSh5QSgiZGV2ZWxvcGVyX2lkLiIrYSwhMCksMCx7fSl9O3ZhciBpUj1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIGpSKGEsYil7cmV0dXJuIHRkKGEsYnx8bnVsbCl9ZnVuY3Rpb24gWShhKXtyZXR1cm4gd2luZG93LmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBrUihhLGIsYyl7UmMoYSxiLGMpfQpmdW5jdGlvbiBsUihhKXt2YXIgYj1bInZlaW50ZXJhY3RpdmUuY29tIiwidmUtaW50ZXJhY3RpdmUuY24iXTtpZighYSlyZXR1cm4hMTt2YXIgYz1qaihwaihhKSwiaG9zdCIpO2lmKCFjKXJldHVybiExO2Zvcih2YXIgZD0wO2ImJmQ8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdJiZiW2RdLnRvTG93ZXJDYXNlKCk7aWYoZSl7dmFyIGY9Yy5sZW5ndGgtZS5sZW5ndGg7Zj4wJiZlLmNoYXJBdCgwKSE9PSIuIiYmKGYtLSxlPSIuIitlKTtpZihmPj0wJiZjLmluZGV4T2YoZSxmKT09PWYpcmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIG1SKGEsYixjKXtmb3IodmFyIGQ9e30sZT0hMSxmPTA7YSYmZjxhLmxlbmd0aDtmKyspYVtmXSYmYVtmXS5oYXNPd25Qcm9wZXJ0eShiKSYmYVtmXS5oYXNPd25Qcm9wZXJ0eShjKSYmKGRbYVtmXVtiXV09YVtmXVtjXSxlPSEwKTtyZXR1cm4gZT9kOm51bGx9CmZ1bmN0aW9uIG5SKGEsYil7dmFyIGM9e307aWYoYSlmb3IodmFyIGQgaW4gYSlhLmhhc093blByb3BlcnR5KGQpJiYoY1tkXT1hW2RdKTtpZihiKXt2YXIgZT1tUihiLCJwYXJhbWV0ZXIiLCJwYXJhbWV0ZXJWYWx1ZSIpO2UmJihjPWpSKGUsYykpfXJldHVybiBjfWZ1bmN0aW9uIG9SKGEsYixjKXtyZXR1cm4gYT09PXZvaWQgMHx8YT09PWM/YjphfXZhciBwUj17TGE6e1RqOjEsSW06MixUbTozLFVtOjQsVm06NSxGbTo2fX07cFIuTGFbcFIuTGEuVGpdPSJBRE9CRV9DT01NRVJDRSI7cFIuTGFbcFIuTGEuSW1dPSJTUVVBUkVTUEFDRSI7cFIuTGFbcFIuTGEuVG1dPSJXT09fQ09NTUVSQ0UiO3BSLkxhW3BSLkxhLlVtXT0iV09PX0NPTU1FUkNFX0xFR0FDWSI7cFIuTGFbcFIuTGEuVm1dPSJXT1JEX1BSRVNTIjtwUi5MYVtwUi5MYS5GbV09IlNIT1BJRlkiO2Z1bmN0aW9uIHFSKCl7dHJ5e2lmKCFQKDI0MykpcmV0dXJuW107dmFyIGE9UCg0MzApO2lmKGEpe3ZhciBiPWttKGdtLloudG0pO2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuIGJ9c3IoIjQiKTt2YXIgYz1bXSxkO2E6e3RyeXtkPSEhSkYoJ3NjcmlwdFtkYXRhLXJlcXVpcmVtb2R1bGVePSJtYWdlLyJdJyk7YnJlYWsgYX1jYXRjaCh1KXt9ZD0hMX1kJiZjLnB1c2gocFIuTGEuVGopO3ZhciBlO2E6e3RyeXtlPSEhSkYoJ3NjcmlwdFtzcmNePSIvL2Fzc2V0cy5zcXVhcmVzcGFjZS5jb20vIl0nKTticmVhayBhfWNhdGNoKHUpe31lPSExfWUmJmMucHVzaChwUi5MYS5JbSk7dmFyIGY7YTp7aWYoUCg0MjUpKXRyeXtmPSEhSkYoJ3NjcmlwdFtzcmMqPSJjZG4uc2hvcGlmeS5jb20iXSxtZXRhW3Byb3BlcnR5PSJvZzppbWFnZSJdW2NvbnRlbnQqPSJjZG4uc2hvcGlmeS5jb20iXSxsaW5rW3JlbD0icHJlY29ubmVjdCJdW2hyZWYqPSJjZG4uc2hvcGlmeS5jb20iXSxsaW5rW3JlbD0icHJlY29ubmVjdCJdW2hyZWYqPSJmb250cy5zaG9waWZ5Y2RuLmNvbSJdLGxpbmtbcmVsPSJwcmVjb25uZWN0Il1baHJlZio9Iml0ZXJhYmxlLXNob3BpZnkiXSxsaW5rW3JlbD0icHJlY29ubmVjdCJdW2hyZWYqPSJ2LnNob3BpZnkuY29tIl0nKTsKYnJlYWsgYX1jYXRjaCh1KXt9Zj0hMX1mJiZjLnB1c2gocFIuTGEuRm0pO3ZhciBnO2E6e3RyeXtnPSEhSkYoJ3NjcmlwdFtzcmMqPSJ3b29jb21tZXJjZSJdLGxpbmtbaHJlZio9Indvb2NvbW1lcmNlIl0sW2NsYXNzfD0id29vY29tbWVyY2UiXScpO2JyZWFrIGF9Y2F0Y2godSl7fWc9ITF9ZyYmYy5wdXNoKHBSLkxhLlVtKTt2YXIgaDthOnt0cnl7dmFyIGwsbj0oKGw9ei5sb2NhdGlvbik9PW51bGw/dm9pZCAwOmwuaG9zdG5hbWUpfHwiIixwLHE9KChwPXoubG9jYXRpb24pPT1udWxsP3ZvaWQgMDpwLm9yaWdpbil8fCIiO2g9TWIobiwiLndvcmRwcmVzcy5jb20iKXx8ISFKRignW3NyY149IicrcSsnL3dwLWNvbnRlbnQiXSxtZXRhW25hbWU9ImdlbmVyYXRvciJdW2NvbnRlbnRePSJXb3JkUHJlc3MgIl0sbGlua1tyZWw9ImRucy1wcmVmZXRjaCJdW2hyZWY9Ii8vcy53Lm9yZyJdJyk7YnJlYWsgYX1jYXRjaCh1KXt9aD0hMX1oJiZjLnB1c2gocFIuTGEuVm0pO3ZhciByO2E6e3RyeXtyPQohIUpGKCdbY2xhc3MqPSJ3b29jb21tZXJjZSJdLG1ldGFbbmFtZT0iZ2VuZXJhdG9yIl1bY29udGVudF49Ildvb0NvbW1lcmNlICJdJyk7YnJlYWsgYX1jYXRjaCh1KXt9cj0hMX1yJiZjLnB1c2gocFIuTGEuVG0pO3RyKCI0Iik7bUEmJmEmJmptKGdtLloudG0sYyk7cmV0dXJuIGN9Y2F0Y2godSl7fXJldHVybltdfTtmdW5jdGlvbiByUihhLGIsYyl7cmV0dXJuIE5jKGEsYixjLHZvaWQgMCl9ZnVuY3Rpb24gc1IoYSxiKXtyZXR1cm4gbHAoYSxifHwyKX1mdW5jdGlvbiB0UihhLGIpe3dbYV09Yn1mdW5jdGlvbiB1UihhLGIsYyl7dmFyIGQ9dztiJiYoZFthXT09PXZvaWQgMHx8YyYmIWRbYV0pJiYoZFthXT1iKTtyZXR1cm4gZFthXX12YXIgdlI9e30sd1I9UGkuTjt2YXIgWj17c2VjdXJpdHlHcm91cHM6e319OwpaLnNlY3VyaXR5R3JvdXBzLmFjY2Vzc190ZW1wbGF0ZV9zdG9yYWdlPVsiZ29vZ2xlIl0sWi5fX2FjY2Vzc190ZW1wbGF0ZV9zdG9yYWdlPWZ1bmN0aW9uKCl7cmV0dXJue2Fzc2VydDpmdW5jdGlvbigpe30sVTpmdW5jdGlvbigpe3JldHVybnt9fX19LFouX19hY2Nlc3NfdGVtcGxhdGVfc3RvcmFnZS5GPSJhY2Nlc3NfdGVtcGxhdGVfc3RvcmFnZSIsWi5fX2FjY2Vzc190ZW1wbGF0ZV9zdG9yYWdlLmlzVmVuZG9yVGVtcGxhdGU9ITAsWi5fX2FjY2Vzc190ZW1wbGF0ZV9zdG9yYWdlLnByaW9yaXR5T3ZlcnJpZGU9MCxaLl9fYWNjZXNzX3RlbXBsYXRlX3N0b3JhZ2UuaXNJbmZyYXN0cnVjdHVyZT0hMSxaLl9fYWNjZXNzX3RlbXBsYXRlX3N0b3JhZ2VbIjUiXT0hMTsKClouc2VjdXJpdHlHcm91cHMuYWNjZXNzX2dsb2JhbHM9WyJnb29nbGUiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjLGQpe3ZhciBlPXtrZXk6ZCxyZWFkOiExLHdyaXRlOiExLGV4ZWN1dGU6ITF9O3N3aXRjaChjKXtjYXNlICJyZWFkIjplLnJlYWQ9ITA7YnJlYWs7Y2FzZSAid3JpdGUiOmUud3JpdGU9ITA7YnJlYWs7Y2FzZSAicmVhZHdyaXRlIjplLnJlYWQ9ZS53cml0ZT0hMDticmVhaztjYXNlICJleGVjdXRlIjplLmV4ZWN1dGU9ITA7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiSW52YWxpZCAiK2IrIiByZXF1ZXN0ICIrYyk7fXJldHVybiBlfShmdW5jdGlvbihiKXtaLl9fYWNjZXNzX2dsb2JhbHM9YjtaLl9fYWNjZXNzX2dsb2JhbHMuRj0iYWNjZXNzX2dsb2JhbHMiO1ouX19hY2Nlc3NfZ2xvYmFscy5pc1ZlbmRvclRlbXBsYXRlPSEwO1ouX19hY2Nlc3NfZ2xvYmFscy5wcmlvcml0eU92ZXJyaWRlPTA7Wi5fX2FjY2Vzc19nbG9iYWxzLmlzSW5mcmFzdHJ1Y3R1cmU9ITE7ClouX19hY2Nlc3NfZ2xvYmFsc1siNSJdPSExfSkoZnVuY3Rpb24oYil7Zm9yKHZhciBjPWIudnRwX2tleXN8fFtdLGQ9Yi52dHBfY3JlYXRlUGVybWlzc2lvbkVycm9yLGU9W10sZj1bXSxnPVtdLGg9MDtoPGMubGVuZ3RoO2grKyl7dmFyIGw9Y1toXSxuPWwua2V5O2wucmVhZCYmZS5wdXNoKG4pO2wud3JpdGUmJmYucHVzaChuKTtsLmV4ZWN1dGUmJmcucHVzaChuKX1yZXR1cm57YXNzZXJ0OmZ1bmN0aW9uKHAscSxyKXtpZighc2IocikpdGhyb3cgZChwLHt9LCJLZXkgbXVzdCBiZSBhIHN0cmluZy4iKTtpZihxPT09InJlYWQiKXtpZihlLmluZGV4T2Yocik+LTEpcmV0dXJufWVsc2UgaWYocT09PSJ3cml0ZSIpe2lmKGYuaW5kZXhPZihyKT4tMSlyZXR1cm59ZWxzZSBpZihxPT09InJlYWR3cml0ZSIpe2lmKGYuaW5kZXhPZihyKT4tMSYmZS5pbmRleE9mKHIpPi0xKXJldHVybn1lbHNlIGlmKHE9PT0iZXhlY3V0ZSIpe2lmKGcuaW5kZXhPZihyKT4tMSlyZXR1cm59ZWxzZSB0aHJvdyBkKHAsCnt9LCJPcGVyYXRpb24gbXVzdCBiZSBlaXRoZXIgJ3JlYWQnLCAnd3JpdGUnLCBvciAnZXhlY3V0ZScsIHdhcyAiK3EpO3Rocm93IGQocCx7fSwiUHJvaGliaXRlZCAiK3ErIiBvbiBnbG9iYWwgdmFyaWFibGU6ICIrcisiLiIpO30sVTphfX0pfSgpOwpaLnNlY3VyaXR5R3JvdXBzLnJlYWRfZXZlbnRfZGF0YT1bImdvb2dsZSJdLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3JldHVybntrZXk6Y319KGZ1bmN0aW9uKGIpe1ouX19yZWFkX2V2ZW50X2RhdGE9YjtaLl9fcmVhZF9ldmVudF9kYXRhLkY9InJlYWRfZXZlbnRfZGF0YSI7Wi5fX3JlYWRfZXZlbnRfZGF0YS5pc1ZlbmRvclRlbXBsYXRlPSEwO1ouX19yZWFkX2V2ZW50X2RhdGEucHJpb3JpdHlPdmVycmlkZT0wO1ouX19yZWFkX2V2ZW50X2RhdGEuaXNJbmZyYXN0cnVjdHVyZT0hMTtaLl9fcmVhZF9ldmVudF9kYXRhWyI1Il09ITF9KShmdW5jdGlvbihiKXt2YXIgYz1iLnZ0cF9ldmVudERhdGFBY2Nlc3MsZD1iLnZ0cF9rZXlQYXR0ZXJuc3x8W10sZT1iLnZ0cF9jcmVhdGVQZXJtaXNzaW9uRXJyb3I7cmV0dXJue2Fzc2VydDpmdW5jdGlvbihmLGcpe2lmKGchPW51bGwmJiFzYihnKSl0aHJvdyBlKGYse2tleTpnfSwiS2V5IG11c3QgYmUgYSBzdHJpbmcuIik7aWYoYyE9PSJhbnkiKXt0cnl7aWYoYz09PQoic3BlY2lmaWMiJiZnIT1udWxsJiZhaChnLGQpKXJldHVybn1jYXRjaChoKXt0aHJvdyBlKGYse2tleTpnfSwiSW52YWxpZCBrZXkgZmlsdGVyLiIpO310aHJvdyBlKGYse2tleTpnfSwiUHJvaGliaXRlZCByZWFkIGZyb20gZXZlbnQgZGF0YS4iKTt9fSxVOmF9fSl9KCk7CgoKCgoKWi5zZWN1cml0eUdyb3Vwcy5yZWFkX2NvbnRhaW5lcl9kYXRhPVsiZ29vZ2xlIl0sWi5fX3JlYWRfY29udGFpbmVyX2RhdGE9ZnVuY3Rpb24oKXtyZXR1cm57YXNzZXJ0OmZ1bmN0aW9uKCl7fSxVOmZ1bmN0aW9uKCl7cmV0dXJue319fX0sWi5fX3JlYWRfY29udGFpbmVyX2RhdGEuRj0icmVhZF9jb250YWluZXJfZGF0YSIsWi5fX3JlYWRfY29udGFpbmVyX2RhdGEuaXNWZW5kb3JUZW1wbGF0ZT0hMCxaLl9fcmVhZF9jb250YWluZXJfZGF0YS5wcmlvcml0eU92ZXJyaWRlPTAsWi5fX3JlYWRfY29udGFpbmVyX2RhdGEuaXNJbmZyYXN0cnVjdHVyZT0hMSxaLl9fcmVhZF9jb250YWluZXJfZGF0YVsiNSJdPSExOwpaLnNlY3VyaXR5R3JvdXBzLmRldGVjdF91c2VyX3Byb3ZpZGVkX2RhdGE9WyJnb29nbGUiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtyZXR1cm57ZGF0YVNvdXJjZTpjfX0oZnVuY3Rpb24oYil7Wi5fX2RldGVjdF91c2VyX3Byb3ZpZGVkX2RhdGE9YjtaLl9fZGV0ZWN0X3VzZXJfcHJvdmlkZWRfZGF0YS5GPSJkZXRlY3RfdXNlcl9wcm92aWRlZF9kYXRhIjtaLl9fZGV0ZWN0X3VzZXJfcHJvdmlkZWRfZGF0YS5pc1ZlbmRvclRlbXBsYXRlPSEwO1ouX19kZXRlY3RfdXNlcl9wcm92aWRlZF9kYXRhLnByaW9yaXR5T3ZlcnJpZGU9MDtaLl9fZGV0ZWN0X3VzZXJfcHJvdmlkZWRfZGF0YS5pc0luZnJhc3RydWN0dXJlPSExO1ouX19kZXRlY3RfdXNlcl9wcm92aWRlZF9kYXRhWyI1Il09ITF9KShmdW5jdGlvbihiKXt2YXIgYz1iLnZ0cF9jcmVhdGVQZXJtaXNzaW9uRXJyb3I7cmV0dXJue2Fzc2VydDpmdW5jdGlvbihkLGUpe2lmKGUhPT0iYXV0byImJmUhPT0ibWFudWFsIiYmZSE9PQoiY29kZSIpdGhyb3cgYyhkLHt9LCJVbmtub3duIHVzZXIgcHJvdmlkZWQgZGF0YSBzb3VyY2UuIik7aWYoYi52dHBfbGltaXREYXRhU291cmNlcylpZihlIT09ImF1dG8ifHxiLnZ0cF9hbGxvd0F1dG9EYXRhU291cmNlcyl7aWYoZT09PSJtYW51YWwiJiYhYi52dHBfYWxsb3dNYW51YWxEYXRhU291cmNlcyl0aHJvdyBjKGQse30sIkRldGVjdGlvbiBvZiB1c2VyIHByb3ZpZGVkIGRhdGEgdmlhIG1hbnVhbGx5IHNwZWNpZmllZCBDU1Mgc2VsZWN0b3JzIGlzIG5vdCBhbGxvd2VkLiIpO2lmKGU9PT0iY29kZSImJiFiLnZ0cF9hbGxvd0NvZGVEYXRhU291cmNlcyl0aHJvdyBjKGQse30sIkRldGVjdGlvbiBvZiB1c2VyIHByb3ZpZGVkIGRhdGEgZnJvbSBhbiBpbi1wYWdlIHZhcmlhYmxlIGlzIG5vdCBhbGxvd2VkLiIpO31lbHNlIHRocm93IGMoZCx7fSwiQXV0b21hdGljIGRldGVjdGlvbiBvZiB1c2VyIHByb3ZpZGVkIGRhdGEgaXMgbm90IGFsbG93ZWQuIik7fSxVOmF9fSl9KCk7CgoKClouc2VjdXJpdHlHcm91cHMuZ2V0X3VybD1bImdvb2dsZSJdLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMsZCl7cmV0dXJue2NvbXBvbmVudDpjLHF1ZXJ5S2V5OmR9fShmdW5jdGlvbihiKXtaLl9fZ2V0X3VybD1iO1ouX19nZXRfdXJsLkY9ImdldF91cmwiO1ouX19nZXRfdXJsLmlzVmVuZG9yVGVtcGxhdGU9ITA7Wi5fX2dldF91cmwucHJpb3JpdHlPdmVycmlkZT0wO1ouX19nZXRfdXJsLmlzSW5mcmFzdHJ1Y3R1cmU9ITE7Wi5fX2dldF91cmxbIjUiXT0hMX0pKGZ1bmN0aW9uKGIpe3ZhciBjPWIudnRwX3VybFBhcnRzPT09ImFueSI/bnVsbDpbXTtjJiYoYi52dHBfcHJvdG9jb2wmJmMucHVzaCgicHJvdG9jb2wiKSxiLnZ0cF9ob3N0JiZjLnB1c2goImhvc3QiKSxiLnZ0cF9wb3J0JiZjLnB1c2goInBvcnQiKSxiLnZ0cF9wYXRoJiZjLnB1c2goInBhdGgiKSxiLnZ0cF9leHRlbnNpb24mJmMucHVzaCgiZXh0ZW5zaW9uIiksYi52dHBfcXVlcnkmJmMucHVzaCgicXVlcnkiKSxiLnZ0cF9mcmFnbWVudCYmCmMucHVzaCgiZnJhZ21lbnQiKSk7dmFyIGQ9YyYmYi52dHBfcXVlcmllc0FsbG93ZWQhPT0iYW55Ij9iLnZ0cF9xdWVyeUtleXN8fFtdOm51bGwsZT1iLnZ0cF9jcmVhdGVQZXJtaXNzaW9uRXJyb3I7cmV0dXJue2Fzc2VydDpmdW5jdGlvbihmLGcsaCl7aWYoZyl7aWYoIXNiKGcpKXRocm93IGUoZix7fSwiVVJMIGNvbXBvbmVudCBtdXN0IGJlIGEgc3RyaW5nLiIpO2lmKGMmJmMuaW5kZXhPZihnKTwwKXRocm93IGUoZix7fSwiUHJvaGliaXRlZCBVUkwgY29tcG9uZW50OiAiK2cpO2lmKGc9PT0icXVlcnkiJiZkKXtpZighaCl0aHJvdyBlKGYse30sIlByb2hpYml0ZWQgZnJvbSBnZXR0aW5nIGVudGlyZSBVUkwgcXVlcnkgd2hlbiBxdWVyeSBrZXlzIGFyZSBzcGVjaWZpZWQuIik7aWYoIXNiKGgpKXRocm93IGUoZix7fSwiUXVlcnkga2V5IG11c3QgYmUgYSBzdHJpbmcuIik7aWYoZC5pbmRleE9mKGgpPDApdGhyb3cgZShmLHt9LCJQcm9oaWJpdGVkIHF1ZXJ5IGtleTogIitoKTt9fWVsc2UgaWYoYyl0aHJvdyBlKGYsCnt9LCJQcm9oaWJpdGVkIGZyb20gZ2V0dGluZyBlbnRpcmUgVVJMIHdoZW4gY29tcG9uZW50cyBhcmUgc3BlY2lmaWVkLiIpO30sVTphfX0pfSgpOwoKCgoKClouc2VjdXJpdHlHcm91cHMucmVhZF9kb21fZWxlbWVudHM9WyJnb29nbGUiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjLGQpe3JldHVybnt0eXBlOmMsdmFsdWU6ZH19KGZ1bmN0aW9uKGIpe1ouX19yZWFkX2RvbV9lbGVtZW50cz1iO1ouX19yZWFkX2RvbV9lbGVtZW50cy5GPSJyZWFkX2RvbV9lbGVtZW50cyI7Wi5fX3JlYWRfZG9tX2VsZW1lbnRzLmlzVmVuZG9yVGVtcGxhdGU9ITA7Wi5fX3JlYWRfZG9tX2VsZW1lbnRzLnByaW9yaXR5T3ZlcnJpZGU9MDtaLl9fcmVhZF9kb21fZWxlbWVudHMuaXNJbmZyYXN0cnVjdHVyZT0hMTtaLl9fcmVhZF9kb21fZWxlbWVudHNbIjUiXT0hMX0pKGZ1bmN0aW9uKGIpe3ZhciBjPWIudnRwX2FsbG93ZWRFbGVtZW50SWRzfHwibm9uZSIsZD1iLnZ0cF9hbGxvd2VkQ3NzU2VsZWN0b3JzfHwibm9uZSIsZT1iLnZ0cF9lbGVtZW50SWRzfHxbXSxmPWIudnRwX2Nzc1NlbGVjdG9yc3x8W10sZz1iLnZ0cF9jcmVhdGVQZXJtaXNzaW9uRXJyb3I7cmV0dXJue2Fzc2VydDpmdW5jdGlvbihoLApsLG4pe3N3aXRjaChsKXtjYXNlICJpZCI6aWYoYz09PSJub25lIilicmVhaztpZihjPT09ImFueSJ8fGUuaW5kZXhPZihuKT4tMSlyZXR1cm47YnJlYWs7Y2FzZSAiY3NzIjppZihkPT09Im5vbmUiKWJyZWFrO2lmKGQ9PT0iYW55Inx8Zi5pbmRleE9mKG4pPi0xKXJldHVybjticmVhaztkZWZhdWx0OnRocm93IGcoaCx7fSwiVW5rbm93biBzZWxlY3RvciB0eXBlICIrbCsiLiIpO310aHJvdyBnKGgse30sIlByb2hpYml0ZWQgc2VsZWN0b3IgdmFsdWUgIituKyIgZm9yIHNlbGVjdG9yIHR5cGUgIitsKyIuIik7fSxVOmF9fSl9KCk7CgoKCgoKCnZhciB4Uj17fSxibz17ZGF0YUxheWVyOm1wLGNhbGxiYWNrOmZ1bmN0aW9uKGEpe3hSLmhhc093blByb3BlcnR5KGEpJiZyYih4UlthXSkmJnhSW2FdKCk7ZGVsZXRlIHhSW2FdfSxib290c3RyYXA6MH07CmZ1bmN0aW9uIHlSKCl7YW8oKTtXaigpO1B5KCk7SmIoY2osWi5zZWN1cml0eUdyb3Vwcyk7dmFyIGE9U2ooVGooKSksYixjPWE9PW51bGw/dm9pZCAwOihiPWEuY29udGV4dCk9PW51bGw/dm9pZCAwOmIuc291cmNlO0FuKGMsYT09bnVsbD92b2lkIDA6YS5wYXJlbnQpO2MhPT0yJiZjIT09NCYmYyE9PTN8fE0oMTQyKTthZz17eXE6eGd9fWZ1bmN0aW9uIHpSKCl7dmFyIGE9RCg2MCk7YSYmYSYmKGxKW2FdPSEwKX0KZnVuY3Rpb24gTG0oKXt0cnl7aWYoa2coNDcpfHwhZmsoKSl7VWkoKTtpZihQKDEwOSkpe31WYVs2XT0hMDt2YXIgYT0kbigiZGVidWdHcm91cElkIixmdW5jdGlvbigpe3JldHVybiBTdHJpbmcoTWF0aC5mbG9vcihOdW1iZXIuTUFYX1NBRkVfSU5URUdFUipNYXRoLnJhbmRvbSgpKSl9KTtJbihhKTtpbygpO0hDKCk7QXEoKTtsQSgpO2lmKFhqKCkpe0QoNSk7WEQoKTtQeigpLnJlbW92ZUV4dGVybmFsUmVzdHJpY3Rpb25zKFBqKCkpO31lbHNlewp3SigpO3R3KCk7WmYoKTtWZj1aO1dmPXBDO0J4KCk7ZVIoKTt5UigpO25DKCk7Sm18fChJbT1ObSgpLEltWyIwIl0mJmxtKGdtLlouRGUsSlNPTi5zdHJpbmdpZnkoSW0pKSk7WG4oKTtyQigpO3JBKCk7WkE9ITE7ei5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIj9hQigpOlNjKHcsImxvYWQiLGFCKTtrQSgpO0xrJiYod3AoSnApLHcuc2V0SW50ZXJ2YWwoSXAsODY0RTUpLHdwKElDKSx3cChBeiksd3AoUHcpLHdwKE1wKSx3cChMQyksd3AoTnopLFAoMTIwKSYmKHdwKEZ6KSx3cChHeiksd3AoSHopKSxrQz17fSx3cChtQykpO05rJiYoeG0oKSx6bygpLHRCKCksSEIoKSxDQigpLGxrKCJidCIsU3RyaW5nKGtnKDQ3KT8yOmtnKDUwKT8xOjApKSxsaygiY3QiLFN0cmluZyhrZyg0Nyk/CjA6a2coNTApPzE6MykpLHhCKCksQkIoKSxGQigpKTtiQygpO0htKDEpO1lEKCk7Ym8uYm9vdHN0cmFwPUdiKCk7a2coNTEpJiZxQigpO1AoMTA5KSYma3goKTt0eXBlb2Ygdy5uYW1lPT09InN0cmluZyImJkxiKHcubmFtZSwid2ViLXBpeGVsLXNhbmRib3gtQ1VTVE9NIikmJmlkKCk/aFIoImRNRGcwWXoiKTp3LlNob3BpZnkmJihoUigiZE4yWmtNaiIpLGlkKCkmJmhSKCJkTlRVMFl6IikpO3pSKCl9fX1jYXRjaChiKXtIbSg1KSxGcCgpfX0KKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtuPXouZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS10YWctYXNzaXN0YW50LXByZXNlbnQiKTtubihuKSYmKGw9aC5HbCl9ZnVuY3Rpb24gYygpe2wmJkVjP2cobCk6YSgpfWlmKCF3W0QoMzcpXSl7dmFyIGQ9ITE7aWYoei5yZWZlcnJlcil7dmFyIGU9cGooei5yZWZlcnJlcik7ZD1saihlLCJob3N0Iik9PT1EKDM4KX1pZighZCl7dmFyIGY9d3IoRCgzOSkpO2Q9ISghZi5sZW5ndGh8fCFmWzBdLmxlbmd0aCl9ZCYmKHdbRCgzNyldPSEwLE5jKEQoNDApKSl9dmFyIGc9ZnVuY3Rpb24odCl7dmFyIHY9IkdUTSIseD0iR1RNIjtaaSYmKHY9Ik9HVCIseD0iR1RBRyIpO3ZhciB5PUQoMjMpLEE9d1t5XTtBfHwoQT1bXSx3W3ldPUEsTmMoImh0dHBzOi8vIitEKDMpKyIvZGVidWcvYm9vdHN0cmFwP2lkPSIrRCg1KSsiJnNyYz0iK3grIiZjb25kPSIrU3RyaW5nKHQpKyImZ3RtPSIrc3AoKSkpO3ZhciBDPXttZXNzYWdlVHlwZToiQ09OVEFJTkVSX1NUQVJUSU5HIiwKZGF0YTp7c2NyaXB0U291cmNlOkVjLGNvbnRhaW5lclByb2R1Y3Q6dixkZWJ1ZzohMSxpZDpEKDUpLHRhcmdldFJlZjp7Y3RpZDpEKDUpLGlzRGVzdGluYXRpb246TWooKSxjYW5vbmljYWxJZDpEKDYpfSxhbGlhc2VzOlFqKCksZGVzdGluYXRpb25zOk5qKCl9fTtDLmRhdGEucmVzdW1lPWZ1bmN0aW9uKCl7YSgpfTtrZygyKSYmKEMuZGF0YS5pbml0aWFsUHVibGlzaD0hMCk7QS5wdXNoKEMpfSxoPXtFcDoxLFZsOjIseG06Myxyazo0LEdsOjV9O2hbaC5FcF09IkdUTV9ERUJVR19MRUdBQ1lfUEFSQU0iO2hbaC5WbF09IkdUTV9ERUJVR19QQVJBTSI7aFtoLnhtXT0iUkVGRVJSRVIiO2hbaC5ya109IkNPT0tJRSI7aFtoLkdsXT0iRVhURU5TSU9OX1BBUkFNIjt2YXIgbD12b2lkIDAsbj12b2lkIDAscD1qaih3LmxvY2F0aW9uLCJxdWVyeSIsITEsdm9pZCAwLCJndG1fZGVidWciKTtubihwKSYmKGw9aC5WbCk7aWYoIWwmJnoucmVmZXJyZXIpe3ZhciBxPXBqKHoucmVmZXJyZXIpO2xqKHEsCiJob3N0Iik9PT1EKDI0KSYmKGw9aC54bSl9aWYoIWwpe3ZhciByPXdyKCJfX1RBR19BU1NJU1RBTlQiKTtyLmxlbmd0aCYmclswXS5sZW5ndGgmJihsPWgucmspfWx8fGIoKTtpZighbCYmbW4obikpe3ZhciB1PSExO1NjKHosIlRBRGVidWdTaWduYWwiLGZ1bmN0aW9uKCl7dXx8KHU9ITAsYigpLGMoKSl9LCExKTt3LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt1fHwodT0hMCxiKCksYygpKX0sMjAwKX1lbHNlIGMoKX0pKGZ1bmN0aW9uKCl7IWtnKDQ3KXx8Tm0oKVsiMCJdP0xtKCk6S20oKX0pOwoKfSkoKQo="></script>
        <script>
            function gtag() {
                dataLayer.push(arguments)
            }
            window.dataLayer = window.dataLayer || [],
            gtag("js", new Date),
            gtag("config", "G-MENBM6GSNY")
        </script>
        <meta name="mobile-web-app-capable" content="yes">
        <!-- All margins and padding must be zero for the canvas to fill the screen. -->
        <style type="text/css">
            * {
                padding: 0;
                margin: 0;
            }

            html, body {
                background: #000;
                color: #fff;
                overflow: hidden;
                touch-action: none;
                -ms-touch-action: none;
            }

            canvas {
                touch-action-delay: none;
                touch-action: none;
                -ms-touch-action: none;
            }
        </style>
        <link href="data:text/plain;base64,QGNoYXJzZXQgIlVURi04IjsKCi8qIQogKiBhbmltYXRlLmNzcyAtaHR0cDovL2RhbmVkZW4ubWUvYW5pbWF0ZQogKiBWZXJzaW9uIC0gMy41LjAKICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIC0gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVAogKgogKiBDb3B5cmlnaHQgKGMpIDIwMTUgRGFuaWVsIEVkZW4KICovCgouYW5pbWF0ZWQgewogIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAxczsKICBhbmltYXRpb24tZHVyYXRpb246IDFzOwogIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTogYm90aDsKICBhbmltYXRpb24tZmlsbC1tb2RlOiBib3RoOwp9CgouYW5pbWF0ZWQuaW5maW5pdGUgewogIC13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7CiAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7Cn0KCi5hbmltYXRlZC5oaW5nZSB7CiAgLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246IDJzOwogIGFuaW1hdGlvbi1kdXJhdGlvbjogMnM7Cn0KCi5hbmltYXRlZC5mbGlwT3V0WCwKLmFuaW1hdGVkLmZsaXBPdXRZLAouYW5pbWF0ZWQuYm91bmNlSW4sCi5hbmltYXRlZC5ib3VuY2VPdXQgewogIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAuNzVzOwogIGFuaW1hdGlvbi1kdXJhdGlvbjogLjc1czsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGJvdW5jZSB7CiAgZnJvbSwgMjAlLCA1MyUsIDgwJSwgdG8gewogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsMCwwKTsKICB9CgogIDQwJSwgNDMlIHsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNzU1LCAwLjA1MCwgMC44NTUsIDAuMDYwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjc1NSwgMC4wNTAsIDAuODU1LCAwLjA2MCk7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTMwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMzBweCwgMCk7CiAgfQoKICA3MCUgewogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC43NTUsIDAuMDUwLCAwLjg1NSwgMC4wNjApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNzU1LCAwLjA1MCwgMC44NTUsIDAuMDYwKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTVweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xNXB4LCAwKTsKICB9CgogIDkwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwtNHB4LDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLC00cHgsMCk7CiAgfQp9CgpAa2V5ZnJhbWVzIGJvdW5jZSB7CiAgZnJvbSwgMjAlLCA1MyUsIDgwJSwgdG8gewogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsMCwwKTsKICB9CgogIDQwJSwgNDMlIHsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNzU1LCAwLjA1MCwgMC44NTUsIDAuMDYwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjc1NSwgMC4wNTAsIDAuODU1LCAwLjA2MCk7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTMwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMzBweCwgMCk7CiAgfQoKICA3MCUgewogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC43NTUsIDAuMDUwLCAwLjg1NSwgMC4wNjApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNzU1LCAwLjA1MCwgMC44NTUsIDAuMDYwKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTVweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xNXB4LCAwKTsKICB9CgogIDkwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwtNHB4LDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLC00cHgsMCk7CiAgfQp9CgouYm91bmNlIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBib3VuY2U7CiAgYW5pbWF0aW9uLW5hbWU6IGJvdW5jZTsKICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBib3R0b207CiAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGJvdHRvbTsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZsYXNoIHsKICBmcm9tLCA1MCUsIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICAyNSUsIDc1JSB7CiAgICBvcGFjaXR5OiAwOwogIH0KfQoKQGtleWZyYW1lcyBmbGFzaCB7CiAgZnJvbSwgNTAlLCB0byB7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgMjUlLCA3NSUgewogICAgb3BhY2l0eTogMDsKICB9Cn0KCi5mbGFzaCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmxhc2g7CiAgYW5pbWF0aW9uLW5hbWU6IGZsYXNoOwp9CgovKiBvcmlnaW5hbGx5IGF1dGhvcmVkIGJ5IE5pY2sgUGV0dGl0IC0gaHR0cHM6Ly9naXRodWIuY29tL25pY2twZXR0aXQvZ2xpZGUgKi8KCkAtd2Via2l0LWtleWZyYW1lcyBwdWxzZSB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICB9CgogIDUwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLjA1LCAxLjA1LCAxLjA1KTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLjA1LCAxLjA1LCAxLjA1KTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogIH0KfQoKQGtleWZyYW1lcyBwdWxzZSB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICB9CgogIDUwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLjA1LCAxLjA1LCAxLjA1KTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLjA1LCAxLjA1LCAxLjA1KTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogIH0KfQoKLnB1bHNlIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBwdWxzZTsKICBhbmltYXRpb24tbmFtZTogcHVsc2U7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBydWJiZXJCYW5kIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogIH0KCiAgMzAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEuMjUsIDAuNzUsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEuMjUsIDAuNzUsIDEpOwogIH0KCiAgNDAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDAuNzUsIDEuMjUsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDAuNzUsIDEuMjUsIDEpOwogIH0KCiAgNTAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEuMTUsIDAuODUsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEuMTUsIDAuODUsIDEpOwogIH0KCiAgNjUlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC45NSwgMS4wNSwgMSk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjk1LCAxLjA1LCAxKTsKICB9CgogIDc1JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLjA1LCAuOTUsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEuMDUsIC45NSwgMSk7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICB9Cn0KCkBrZXlmcmFtZXMgcnViYmVyQmFuZCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICB9CgogIDMwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLjI1LCAwLjc1LCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLjI1LCAwLjc1LCAxKTsKICB9CgogIDQwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgwLjc1LCAxLjI1LCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgwLjc1LCAxLjI1LCAxKTsKICB9CgogIDUwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLjE1LCAwLjg1LCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLjE1LCAwLjg1LCAxKTsKICB9CgogIDY1JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguOTUsIDEuMDUsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC45NSwgMS4wNSwgMSk7CiAgfQoKICA3NSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoMS4wNSwgLjk1LCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLjA1LCAuOTUsIDEpOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoMSwgMSwgMSk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoMSwgMSwgMSk7CiAgfQp9CgoucnViYmVyQmFuZCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcnViYmVyQmFuZDsKICBhbmltYXRpb24tbmFtZTogcnViYmVyQmFuZDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIHNoYWtlIHsKICBmcm9tLCB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogIH0KCiAgMTAlLCAzMCUsIDUwJSwgNzAlLCA5MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwcHgsIDAsIDApOwogIH0KCiAgMjAlLCA0MCUsIDYwJSwgODAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTBweCwgMCwgMCk7CiAgfQp9CgpAa2V5ZnJhbWVzIHNoYWtlIHsKICBmcm9tLCB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogIH0KCiAgMTAlLCAzMCUsIDUwJSwgNzAlLCA5MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwcHgsIDAsIDApOwogIH0KCiAgMjAlLCA0MCUsIDYwJSwgODAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTBweCwgMCwgMCk7CiAgfQp9Cgouc2hha2UgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNoYWtlOwogIGFuaW1hdGlvbi1uYW1lOiBzaGFrZTsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGhlYWRTaGFrZSB7CiAgMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgfQoKICA2LjUlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC02cHgpIHJvdGF0ZVkoLTlkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC02cHgpIHJvdGF0ZVkoLTlkZWcpOwogIH0KCiAgMTguNSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KSByb3RhdGVZKDdkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDVweCkgcm90YXRlWSg3ZGVnKTsKICB9CgogIDMxLjUlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zcHgpIHJvdGF0ZVkoLTVkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zcHgpIHJvdGF0ZVkoLTVkZWcpOwogIH0KCiAgNDMuNSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMnB4KSByb3RhdGVZKDNkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDJweCkgcm90YXRlWSgzZGVnKTsKICB9CgogIDUwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICB9Cn0KCkBrZXlmcmFtZXMgaGVhZFNoYWtlIHsKICAwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICB9CgogIDYuNSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTZweCkgcm90YXRlWSgtOWRlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTZweCkgcm90YXRlWSgtOWRlZyk7CiAgfQoKICAxOC41JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpIHJvdGF0ZVkoN2RlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KSByb3RhdGVZKDdkZWcpOwogIH0KCiAgMzEuNSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTNweCkgcm90YXRlWSgtNWRlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTNweCkgcm90YXRlWSgtNWRlZyk7CiAgfQoKICA0My41JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgycHgpIHJvdGF0ZVkoM2RlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMnB4KSByb3RhdGVZKDNkZWcpOwogIH0KCiAgNTAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwogIH0KfQoKLmhlYWRTaGFrZSB7CiAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDsKICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBoZWFkU2hha2U7CiAgYW5pbWF0aW9uLW5hbWU6IGhlYWRTaGFrZTsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIHN3aW5nIHsKICAyMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDE1ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgMTVkZWcpOwogIH0KCiAgNDAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtMTBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtMTBkZWcpOwogIH0KCiAgNjAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA1ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgNWRlZyk7CiAgfQoKICA4MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC01ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTVkZWcpOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAwZGVnKTsKICB9Cn0KCkBrZXlmcmFtZXMgc3dpbmcgewogIDIwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgMTVkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAxNWRlZyk7CiAgfQoKICA0MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC0xMGRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC0xMGRlZyk7CiAgfQoKICA2MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDVkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA1ZGVnKTsKICB9CgogIDgwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTVkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtNWRlZyk7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgMGRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDBkZWcpOwogIH0KfQoKLnN3aW5nIHsKICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHRvcCBjZW50ZXI7CiAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGNlbnRlcjsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzd2luZzsKICBhbmltYXRpb24tbmFtZTogc3dpbmc7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyB0YWRhIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogIH0KCiAgMTAlLCAyMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjksIC45LCAuOSkgcm90YXRlM2QoMCwgMCwgMSwgLTNkZWcpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC45LCAuOSwgLjkpIHJvdGF0ZTNkKDAsIDAsIDEsIC0zZGVnKTsKICB9CgogIDMwJSwgNTAlLCA3MCUsIDkwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLjEsIDEuMSwgMS4xKSByb3RhdGUzZCgwLCAwLCAxLCAzZGVnKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLjEsIDEuMSwgMS4xKSByb3RhdGUzZCgwLCAwLCAxLCAzZGVnKTsKICB9CgogIDQwJSwgNjAlLCA4MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoMS4xLCAxLjEsIDEuMSkgcm90YXRlM2QoMCwgMCwgMSwgLTNkZWcpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEuMSwgMS4xLCAxLjEpIHJvdGF0ZTNkKDAsIDAsIDEsIC0zZGVnKTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogIH0KfQoKQGtleWZyYW1lcyB0YWRhIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogIH0KCiAgMTAlLCAyMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjksIC45LCAuOSkgcm90YXRlM2QoMCwgMCwgMSwgLTNkZWcpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC45LCAuOSwgLjkpIHJvdGF0ZTNkKDAsIDAsIDEsIC0zZGVnKTsKICB9CgogIDMwJSwgNTAlLCA3MCUsIDkwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLjEsIDEuMSwgMS4xKSByb3RhdGUzZCgwLCAwLCAxLCAzZGVnKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLjEsIDEuMSwgMS4xKSByb3RhdGUzZCgwLCAwLCAxLCAzZGVnKTsKICB9CgogIDQwJSwgNjAlLCA4MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoMS4xLCAxLjEsIDEuMSkgcm90YXRlM2QoMCwgMCwgMSwgLTNkZWcpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEuMSwgMS4xLCAxLjEpIHJvdGF0ZTNkKDAsIDAsIDEsIC0zZGVnKTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogIH0KfQoKLnRhZGEgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHRhZGE7CiAgYW5pbWF0aW9uLW5hbWU6IHRhZGE7Cn0KCi8qIG9yaWdpbmFsbHkgYXV0aG9yZWQgYnkgTmljayBQZXR0aXQgLSBodHRwczovL2dpdGh1Yi5jb20vbmlja3BldHRpdC9nbGlkZSAqLwoKQC13ZWJraXQta2V5ZnJhbWVzIHdvYmJsZSB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9CgogIDE1JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTI1JSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgLTVkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjUlLCAwLCAwKSByb3RhdGUzZCgwLCAwLCAxLCAtNWRlZyk7CiAgfQoKICAzMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwJSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgM2RlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwJSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgM2RlZyk7CiAgfQoKICA0NSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xNSUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIC0zZGVnKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTE1JSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgLTNkZWcpOwogIH0KCiAgNjAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMCUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIDJkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMCUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIDJkZWcpOwogIH0KCiAgNzUlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNSUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIC0xZGVnKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUlLCAwLCAwKSByb3RhdGUzZCgwLCAwLCAxLCAtMWRlZyk7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCkBrZXlmcmFtZXMgd29iYmxlIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KCiAgMTUlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjUlLCAwLCAwKSByb3RhdGUzZCgwLCAwLCAxLCAtNWRlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0yNSUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIC01ZGVnKTsKICB9CgogIDMwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMjAlLCAwLCAwKSByb3RhdGUzZCgwLCAwLCAxLCAzZGVnKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMjAlLCAwLCAwKSByb3RhdGUzZCgwLCAwLCAxLCAzZGVnKTsKICB9CgogIDQ1JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTE1JSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgLTNkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTUlLCAwLCAwKSByb3RhdGUzZCgwLCAwLCAxLCAtM2RlZyk7CiAgfQoKICA2MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwJSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgMmRlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwJSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgMmRlZyk7CiAgfQoKICA3NSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01JSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgLTFkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNSUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIC0xZGVnKTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKLndvYmJsZSB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogd29iYmxlOwogIGFuaW1hdGlvbi1uYW1lOiB3b2JibGU7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBqZWxsbyB7CiAgZnJvbSwgMTEuMSUsIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KCiAgMjIuMiUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNrZXdYKC0xMi41ZGVnKSBza2V3WSgtMTIuNWRlZyk7CiAgICB0cmFuc2Zvcm06IHNrZXdYKC0xMi41ZGVnKSBza2V3WSgtMTIuNWRlZyk7CiAgfQoKICAzMy4zJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goNi4yNWRlZykgc2tld1koNi4yNWRlZyk7CiAgICB0cmFuc2Zvcm06IHNrZXdYKDYuMjVkZWcpIHNrZXdZKDYuMjVkZWcpOwogIH0KCiAgNDQuNCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNrZXdYKC0zLjEyNWRlZykgc2tld1koLTMuMTI1ZGVnKTsKICAgIHRyYW5zZm9ybTogc2tld1goLTMuMTI1ZGVnKSBza2V3WSgtMy4xMjVkZWcpOwogIH0KCiAgNTUuNSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNrZXdYKDEuNTYyNWRlZykgc2tld1koMS41NjI1ZGVnKTsKICAgIHRyYW5zZm9ybTogc2tld1goMS41NjI1ZGVnKSBza2V3WSgxLjU2MjVkZWcpOwogIH0KCiAgNjYuNiUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNrZXdYKC0wLjc4MTI1ZGVnKSBza2V3WSgtMC43ODEyNWRlZyk7CiAgICB0cmFuc2Zvcm06IHNrZXdYKC0wLjc4MTI1ZGVnKSBza2V3WSgtMC43ODEyNWRlZyk7CiAgfQoKICA3Ny43JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goMC4zOTA2MjVkZWcpIHNrZXdZKDAuMzkwNjI1ZGVnKTsKICAgIHRyYW5zZm9ybTogc2tld1goMC4zOTA2MjVkZWcpIHNrZXdZKDAuMzkwNjI1ZGVnKTsKICB9CgogIDg4LjglIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBza2V3WCgtMC4xOTUzMTI1ZGVnKSBza2V3WSgtMC4xOTUzMTI1ZGVnKTsKICAgIHRyYW5zZm9ybTogc2tld1goLTAuMTk1MzEyNWRlZykgc2tld1koLTAuMTk1MzEyNWRlZyk7CiAgfQp9CgpAa2V5ZnJhbWVzIGplbGxvIHsKICBmcm9tLCAxMS4xJSwgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQoKICAyMi4yJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goLTEyLjVkZWcpIHNrZXdZKC0xMi41ZGVnKTsKICAgIHRyYW5zZm9ybTogc2tld1goLTEyLjVkZWcpIHNrZXdZKC0xMi41ZGVnKTsKICB9CgogIDMzLjMlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBza2V3WCg2LjI1ZGVnKSBza2V3WSg2LjI1ZGVnKTsKICAgIHRyYW5zZm9ybTogc2tld1goNi4yNWRlZykgc2tld1koNi4yNWRlZyk7CiAgfQoKICA0NC40JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goLTMuMTI1ZGVnKSBza2V3WSgtMy4xMjVkZWcpOwogICAgdHJhbnNmb3JtOiBza2V3WCgtMy4xMjVkZWcpIHNrZXdZKC0zLjEyNWRlZyk7CiAgfQoKICA1NS41JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goMS41NjI1ZGVnKSBza2V3WSgxLjU2MjVkZWcpOwogICAgdHJhbnNmb3JtOiBza2V3WCgxLjU2MjVkZWcpIHNrZXdZKDEuNTYyNWRlZyk7CiAgfQoKICA2Ni42JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goLTAuNzgxMjVkZWcpIHNrZXdZKC0wLjc4MTI1ZGVnKTsKICAgIHRyYW5zZm9ybTogc2tld1goLTAuNzgxMjVkZWcpIHNrZXdZKC0wLjc4MTI1ZGVnKTsKICB9CgogIDc3LjclIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBza2V3WCgwLjM5MDYyNWRlZykgc2tld1koMC4zOTA2MjVkZWcpOwogICAgdHJhbnNmb3JtOiBza2V3WCgwLjM5MDYyNWRlZykgc2tld1koMC4zOTA2MjVkZWcpOwogIH0KCiAgODguOCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNrZXdYKC0wLjE5NTMxMjVkZWcpIHNrZXdZKC0wLjE5NTMxMjVkZWcpOwogICAgdHJhbnNmb3JtOiBza2V3WCgtMC4xOTUzMTI1ZGVnKSBza2V3WSgtMC4xOTUzMTI1ZGVnKTsKICB9Cn0KCi5qZWxsbyB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogamVsbG87CiAgYW5pbWF0aW9uLW5hbWU6IGplbGxvOwogIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyOwogIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGJvdW5jZUluIHsKICBmcm9tLCAyMCUsIDQwJSwgNjAlLCA4MCUsIHRvIHsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMCk7CiAgfQoKICAwJSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjMsIC4zLCAuMyk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjMsIC4zLCAuMyk7CiAgfQoKICAyMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoMS4xLCAxLjEsIDEuMSk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoMS4xLCAxLjEsIDEuMSk7CiAgfQoKICA0MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjksIC45LCAuOSk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjksIC45LCAuOSk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEuMDMsIDEuMDMsIDEuMDMpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEuMDMsIDEuMDMsIDEuMDMpOwogIH0KCiAgODAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC45NywgLjk3LCAuOTcpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC45NywgLjk3LCAuOTcpOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEsIDEsIDEpOwogIH0KfQoKQGtleWZyYW1lcyBib3VuY2VJbiB7CiAgZnJvbSwgMjAlLCA0MCUsIDYwJSwgODAlLCB0byB7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMCk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogIH0KCiAgMCUgewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4zLCAuMywgLjMpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC4zLCAuMywgLjMpOwogIH0KCiAgMjAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEuMSwgMS4xLCAxLjEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEuMSwgMS4xLCAxLjEpOwogIH0KCiAgNDAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC45LCAuOSwgLjkpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC45LCAuOSwgLjkpOwogIH0KCiAgNjAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLjAzLCAxLjAzLCAxLjAzKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLjAzLCAxLjAzLCAxLjAzKTsKICB9CgogIDgwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguOTcsIC45NywgLjk3KTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguOTcsIC45NywgLjk3KTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCgxLCAxLCAxKTsKICB9Cn0KCi5ib3VuY2VJbiB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogYm91bmNlSW47CiAgYW5pbWF0aW9uLW5hbWU6IGJvdW5jZUluOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlSW5Eb3duIHsKICBmcm9tLCA2MCUsIDc1JSwgOTAlLCB0byB7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMCk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogIH0KCiAgMCUgewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMzAwMHB4LCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTMwMDBweCwgMCk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAyNXB4LCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMjVweCwgMCk7CiAgfQoKICA3NSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMHB4LCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwcHgsIDApOwogIH0KCiAgOTAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCA1cHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCA1cHgsIDApOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQp9CgpAa2V5ZnJhbWVzIGJvdW5jZUluRG93biB7CiAgZnJvbSwgNjAlLCA3NSUsIDkwJSwgdG8gewogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKTsKICB9CgogIDAlIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTMwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0zMDAwcHgsIDApOwogIH0KCiAgNjAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMjVweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDI1cHgsIDApOwogIH0KCiAgNzUlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMHB4LCAwKTsKICB9CgogIDkwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgNXB4LCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgNXB4LCAwKTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKLmJvdW5jZUluRG93biB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogYm91bmNlSW5Eb3duOwogIGFuaW1hdGlvbi1uYW1lOiBib3VuY2VJbkRvd247Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VJbkxlZnQgewogIGZyb20sIDYwJSwgNzUlLCA5MCUsIHRvIHsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMCk7CiAgfQoKICAwJSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0zMDAwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMzAwMHB4LCAwLCAwKTsKICB9CgogIDYwJSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDI1cHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgyNXB4LCAwLCAwKTsKICB9CgogIDc1JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTBweCwgMCwgMCk7CiAgfQoKICA5MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDVweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDVweCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCkBrZXlmcmFtZXMgYm91bmNlSW5MZWZ0IHsKICBmcm9tLCA2MCUsIDc1JSwgOTAlLCB0byB7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMCk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogIH0KCiAgMCUgewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMzAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTMwMDBweCwgMCwgMCk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgyNXB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMjVweCwgMCwgMCk7CiAgfQoKICA3NSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwcHgsIDAsIDApOwogIH0KCiAgOTAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCg1cHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCg1cHgsIDAsIDApOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQp9CgouYm91bmNlSW5MZWZ0IHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBib3VuY2VJbkxlZnQ7CiAgYW5pbWF0aW9uLW5hbWU6IGJvdW5jZUluTGVmdDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGJvdW5jZUluUmlnaHQgewogIGZyb20sIDYwJSwgNzUlLCA5MCUsIHRvIHsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMCk7CiAgfQoKICBmcm9tIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMzAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMzAwMHB4LCAwLCAwKTsKICB9CgogIDYwJSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0yNXB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTI1cHgsIDAsIDApOwogIH0KCiAgNzUlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTBweCwgMCwgMCk7CiAgfQoKICA5MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01cHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNXB4LCAwLCAwKTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKQGtleWZyYW1lcyBib3VuY2VJblJpZ2h0IHsKICBmcm9tLCA2MCUsIDc1JSwgOTAlLCB0byB7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMCk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogIH0KCiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDMwMDBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDMwMDBweCwgMCwgMCk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjVweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0yNXB4LCAwLCAwKTsKICB9CgogIDc1JSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwcHgsIDAsIDApOwogIH0KCiAgOTAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNXB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTVweCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCi5ib3VuY2VJblJpZ2h0IHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBib3VuY2VJblJpZ2h0OwogIGFuaW1hdGlvbi1uYW1lOiBib3VuY2VJblJpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlSW5VcCB7CiAgZnJvbSwgNjAlLCA3NSUsIDkwJSwgdG8gewogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKTsKICB9CgogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAzMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAzMDAwcHgsIDApOwogIH0KCiAgNjAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTIwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjBweCwgMCk7CiAgfQoKICA3NSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAxMHB4LCAwKTsKICB9CgogIDkwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTVweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC01cHgsIDApOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgYm91bmNlSW5VcCB7CiAgZnJvbSwgNjAlLCA3NSUsIDkwJSwgdG8gewogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yMTUsIDAuNjEwLCAwLjM1NSwgMS4wMDApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKTsKICB9CgogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAzMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAzMDAwcHgsIDApOwogIH0KCiAgNjAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTIwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjBweCwgMCk7CiAgfQoKICA3NSUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAxMHB4LCAwKTsKICB9CgogIDkwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTVweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC01cHgsIDApOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9Cn0KCi5ib3VuY2VJblVwIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBib3VuY2VJblVwOwogIGFuaW1hdGlvbi1uYW1lOiBib3VuY2VJblVwOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlT3V0IHsKICAyMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjksIC45LCAuOSk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjksIC45LCAuOSk7CiAgfQoKICA1MCUsIDU1JSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoMS4xLCAxLjEsIDEuMSk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoMS4xLCAxLjEsIDEuMSk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjMsIC4zLCAuMyk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjMsIC4zLCAuMyk7CiAgfQp9CgpAa2V5ZnJhbWVzIGJvdW5jZU91dCB7CiAgMjAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC45LCAuOSwgLjkpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC45LCAuOSwgLjkpOwogIH0KCiAgNTAlLCA1NSUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKDEuMSwgMS4xLCAxLjEpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKDEuMSwgMS4xLCAxLjEpOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4zLCAuMywgLjMpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC4zLCAuMywgLjMpOwogIH0KfQoKLmJvdW5jZU91dCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogYm91bmNlT3V0OwogIGFuaW1hdGlvbi1uYW1lOiBib3VuY2VPdXQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VPdXREb3duIHsKICAyMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAxMHB4LCAwKTsKICB9CgogIDQwJSwgNDUlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTIwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjBweCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDIwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDIwMDBweCwgMCk7CiAgfQp9CgpAa2V5ZnJhbWVzIGJvdW5jZU91dERvd24gewogIDIwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwcHgsIDApOwogIH0KCiAgNDAlLCA0NSUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0yMHB4LCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMjAwMHB4LCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMjAwMHB4LCAwKTsKICB9Cn0KCi5ib3VuY2VPdXREb3duIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBib3VuY2VPdXREb3duOwogIGFuaW1hdGlvbi1uYW1lOiBib3VuY2VPdXREb3duOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlT3V0TGVmdCB7CiAgMjAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMjBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwcHgsIDAsIDApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTIwMDBweCwgMCwgMCk7CiAgfQp9CgpAa2V5ZnJhbWVzIGJvdW5jZU91dExlZnQgewogIDIwJSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgyMHB4LCAwLCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTIwMDBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0yMDAwcHgsIDAsIDApOwogIH0KfQoKLmJvdW5jZU91dExlZnQgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGJvdW5jZU91dExlZnQ7CiAgYW5pbWF0aW9uLW5hbWU6IGJvdW5jZU91dExlZnQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VPdXRSaWdodCB7CiAgMjAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTIwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjBweCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwMDBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwMDBweCwgMCwgMCk7CiAgfQp9CgpAa2V5ZnJhbWVzIGJvdW5jZU91dFJpZ2h0IHsKICAyMCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0yMHB4LCAwLCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMjAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMjAwMHB4LCAwLCAwKTsKICB9Cn0KCi5ib3VuY2VPdXRSaWdodCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogYm91bmNlT3V0UmlnaHQ7CiAgYW5pbWF0aW9uLW5hbWU6IGJvdW5jZU91dFJpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlT3V0VXAgewogIDIwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTBweCwgMCk7CiAgfQoKICA0MCUsIDQ1JSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDIwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAyMHB4LCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTIwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogIH0KfQoKQGtleWZyYW1lcyBib3VuY2VPdXRVcCB7CiAgMjAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMHB4LCAwKTsKICB9CgogIDQwJSwgNDUlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMjBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDIwcHgsIDApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjAwMHB4LCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTIwMDBweCwgMCk7CiAgfQp9CgouYm91bmNlT3V0VXAgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGJvdW5jZU91dFVwOwogIGFuaW1hdGlvbi1uYW1lOiBib3VuY2VPdXRVcDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVJbiB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMTsKICB9Cn0KCkBrZXlmcmFtZXMgZmFkZUluIHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDA7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAxOwogIH0KfQoKLmZhZGVJbiB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZUluOwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlSW47Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW5Eb3duIHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwMCUsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTAwJSwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQp9CgpAa2V5ZnJhbWVzIGZhZGVJbkRvd24gewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTAwJSwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMDAlLCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCi5mYWRlSW5Eb3duIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYWRlSW5Eb3duOwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlSW5Eb3duOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgZmFkZUluRG93bkJpZyB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjAwMHB4LCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCkBrZXlmcmFtZXMgZmFkZUluRG93bkJpZyB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjAwMHB4LCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCi5mYWRlSW5Eb3duQmlnIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYWRlSW5Eb3duQmlnOwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlSW5Eb3duQmlnOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgZmFkZUluTGVmdCB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKQGtleWZyYW1lcyBmYWRlSW5MZWZ0IHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwJSwgMCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQp9CgouZmFkZUluTGVmdCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZUluTGVmdDsKICBhbmltYXRpb24tbmFtZTogZmFkZUluTGVmdDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVJbkxlZnRCaWcgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTIwMDBweCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQp9CgpAa2V5ZnJhbWVzIGZhZGVJbkxlZnRCaWcgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTIwMDBweCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQp9CgouZmFkZUluTGVmdEJpZyB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZUluTGVmdEJpZzsKICBhbmltYXRpb24tbmFtZTogZmFkZUluTGVmdEJpZzsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVJblJpZ2h0IHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKQGtleWZyYW1lcyBmYWRlSW5SaWdodCB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCi5mYWRlSW5SaWdodCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZUluUmlnaHQ7CiAgYW5pbWF0aW9uLW5hbWU6IGZhZGVJblJpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgZmFkZUluUmlnaHRCaWcgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgyMDAwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgyMDAwcHgsIDAsIDApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKQGtleWZyYW1lcyBmYWRlSW5SaWdodEJpZyB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwMDBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwMDBweCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQp9CgouZmFkZUluUmlnaHRCaWcgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZhZGVJblJpZ2h0QmlnOwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlSW5SaWdodEJpZzsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVJblVwIHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwMCUsIDApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKQGtleWZyYW1lcyBmYWRlSW5VcCB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwMCUsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAxMDAlLCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCi5mYWRlSW5VcCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZUluVXA7CiAgYW5pbWF0aW9uLW5hbWU6IGZhZGVJblVwOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgZmFkZUluVXBCaWcgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAyMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAyMDAwcHgsIDApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKQGtleWZyYW1lcyBmYWRlSW5VcEJpZyB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDIwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDIwMDBweCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgfQp9CgouZmFkZUluVXBCaWcgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZhZGVJblVwQmlnOwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlSW5VcEJpZzsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVPdXQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIGZhZGVPdXQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgouZmFkZU91dCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZU91dDsKICBhbmltYXRpb24tbmFtZTogZmFkZU91dDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVPdXREb3duIHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwMCUsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAxMDAlLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgZmFkZU91dERvd24gewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwMCUsIDApOwogIH0KfQoKLmZhZGVPdXREb3duIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0RG93bjsKICBhbmltYXRpb24tbmFtZTogZmFkZU91dERvd247Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0RG93bkJpZyB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAyMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAyMDAwcHgsIDApOwogIH0KfQoKQGtleWZyYW1lcyBmYWRlT3V0RG93bkJpZyB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAyMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAyMDAwcHgsIDApOwogIH0KfQoKLmZhZGVPdXREb3duQmlnIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0RG93bkJpZzsKICBhbmltYXRpb24tbmFtZTogZmFkZU91dERvd25CaWc7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0TGVmdCB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwJSwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgZmFkZU91dExlZnQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwJSwgMCwgMCk7CiAgfQp9CgouZmFkZU91dExlZnQgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZhZGVPdXRMZWZ0OwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0TGVmdDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVPdXRMZWZ0QmlnIHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0yMDAwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjAwMHB4LCAwLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgZmFkZU91dExlZnRCaWcgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTIwMDBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0yMDAwcHgsIDAsIDApOwogIH0KfQoKLmZhZGVPdXRMZWZ0QmlnIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0TGVmdEJpZzsKICBhbmltYXRpb24tbmFtZTogZmFkZU91dExlZnRCaWc7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0UmlnaHQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApOwogIH0KfQoKQGtleWZyYW1lcyBmYWRlT3V0UmlnaHQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApOwogIH0KfQoKLmZhZGVPdXRSaWdodCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZU91dFJpZ2h0OwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0UmlnaHQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0UmlnaHRCaWcgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMjAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMjAwMHB4LCAwLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgZmFkZU91dFJpZ2h0QmlnIHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwMDBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIwMDBweCwgMCwgMCk7CiAgfQp9CgouZmFkZU91dFJpZ2h0QmlnIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0UmlnaHRCaWc7CiAgYW5pbWF0aW9uLW5hbWU6IGZhZGVPdXRSaWdodEJpZzsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVPdXRVcCB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTAwJSwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMDAlLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgZmFkZU91dFVwIHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMDAlLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwMCUsIDApOwogIH0KfQoKLmZhZGVPdXRVcCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZU91dFVwOwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0VXA7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0VXBCaWcgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTIwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogIH0KfQoKQGtleWZyYW1lcyBmYWRlT3V0VXBCaWcgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTIwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogIH0KfQoKLmZhZGVPdXRVcEJpZyB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZU91dFVwQmlnOwogIGFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0VXBCaWc7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmbGlwIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgLTM2MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMzYwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1vdXQ7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKICB9CgogIDQwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsIDE1MHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTkwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsIDE1MHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTkwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1vdXQ7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKICB9CgogIDUwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsIDE1MHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTcwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsIDE1MHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTcwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgfQoKICA4MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSBzY2FsZTNkKC45NSwgLjk1LCAuOTUpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgc2NhbGUzZCguOTUsIC45NSwgLjk1KTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluOwogIH0KfQoKQGtleWZyYW1lcyBmbGlwIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgLTM2MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMzYwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1vdXQ7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKICB9CgogIDQwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsIDE1MHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTkwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsIDE1MHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTkwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1vdXQ7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKICB9CgogIDUwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsIDE1MHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTcwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsIDE1MHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTcwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgfQoKICA4MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSBzY2FsZTNkKC45NSwgLjk1LCAuOTUpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgc2NhbGUzZCguOTUsIC45NSwgLjk1KTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluOwogIH0KfQoKLmFuaW1hdGVkLmZsaXAgewogIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogdmlzaWJsZTsKICBiYWNrZmFjZS12aXNpYmlsaXR5OiB2aXNpYmxlOwogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZsaXA7CiAgYW5pbWF0aW9uLW5hbWU6IGZsaXA7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmbGlwSW5YIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgOTBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgOTBkZWcpOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIG9wYWNpdHk6IDA7CiAgfQoKICA0MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAtMjBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgLTIwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgfQoKICA2MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAxMGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAxMGRlZyk7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgODAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgLTVkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgLTVkZWcpOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpOwogIH0KfQoKQGtleWZyYW1lcyBmbGlwSW5YIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgOTBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgOTBkZWcpOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIG9wYWNpdHk6IDA7CiAgfQoKICA0MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAtMjBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgLTIwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgfQoKICA2MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAxMGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAxMGRlZyk7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgODAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgLTVkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgLTVkZWcpOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpOwogIH0KfQoKLmZsaXBJblggewogIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OwogIGJhY2tmYWNlLXZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmbGlwSW5YOwogIGFuaW1hdGlvbi1uYW1lOiBmbGlwSW5YOwp9CgovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLmFuaW1hdGVkLmZsaXBPdXRYWCwKLmFuaW1hdGVkLmZsaXBJblhYLAouYW5pbWF0ZWQuZmxpcEluWVksCi5hbmltYXRlZC5mbGlwT3V0WVkKewogIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAuMzBzICFpbXBvcnRhbnQ7CiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAuMzBzICFpbXBvcnRhbnQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmbGlwSW5YWCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDI3MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAyNzBkZWcpOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7CiAgICBvcGFjaXR5OiAwOwogIH0KICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDM2MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAzNjBkZWcpOwogIH0KfQoKQGtleWZyYW1lcyBmbGlwSW5YWCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDI3MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAyNzBkZWcpOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7CiAgICBvcGFjaXR5OiAwOwogIH0KICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDM2MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAzNjBkZWcpOwogIH0KfQoKLmZsaXBJblhYIHsKICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDsKICBiYWNrZmFjZS12aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmxpcEluWFg7CiAgYW5pbWF0aW9uLW5hbWU6IGZsaXBJblhYOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgZmxpcE91dFhYIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgMGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyOwogIH0KICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDkwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDkwZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIGZsaXBPdXRYWCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgMGRlZyk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGxpbmVhcjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGxpbmVhcjsKICB9CiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCA5MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCA5MGRlZyk7CiAgICBvcGFjaXR5OiAwOwogIH0KfQoKLmZsaXBPdXRYWCB7CiAgLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7CiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OwogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZsaXBPdXRYWDsKICBhbmltYXRpb24tbmFtZTogZmxpcE91dFhYOwp9CgoKQC13ZWJraXQta2V5ZnJhbWVzIGZsaXBJbllZIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgOTBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgOTBkZWcpOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2Utb3V0OwogICAgb3BhY2l0eTogMDsKICB9CiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAzNjBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgMzYwZGVnKTsKICB9Cn0KCkBrZXlmcmFtZXMgZmxpcEluWVkgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAyNzBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgMjcwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1vdXQ7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKICAgIG9wYWNpdHk6IDA7CiAgfQogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgMzYwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIDM2MGRlZyk7CiAgfQp9CgouZmxpcEluWVkgewogIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OwogIGJhY2tmYWNlLXZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmbGlwSW5ZWTsKICBhbmltYXRpb24tbmFtZTogZmxpcEluWVk7Cn0KCgpALXdlYmtpdC1rZXlmcmFtZXMgZmxpcE91dFlZIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgMGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgfQogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgOTBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgOTBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9Cn0KCkBrZXlmcmFtZXMgZmxpcE91dFlZIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgMGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAwZGVnKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgfQogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgOTBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgOTBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9Cn0KCi5mbGlwT3V0WVkgewogIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OwogIGJhY2tmYWNlLXZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmbGlwT3V0WVk7CiAgYW5pbWF0aW9uLW5hbWU6IGZsaXBPdXRZWTsKfQoKCgoKCgoKCgoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKQC13ZWJraXQta2V5ZnJhbWVzIGZsaXBJblkgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCA5MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCA5MGRlZyk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluOwogICAgb3BhY2l0eTogMDsKICB9CgogIDQwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIC0yMGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMjBkZWcpOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICB9CgogIDYwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIDEwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIDEwZGVnKTsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICA4MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtNWRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtNWRlZyk7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCk7CiAgfQp9CgpAa2V5ZnJhbWVzIGZsaXBJblkgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCA5MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCA5MGRlZyk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluOwogICAgb3BhY2l0eTogMDsKICB9CgogIDQwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIC0yMGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMjBkZWcpOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKICB9CgogIDYwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIDEwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIDEwZGVnKTsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICA4MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtNWRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtNWRlZyk7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCk7CiAgfQp9CgouZmxpcEluWSB7CiAgLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7CiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OwogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZsaXBJblk7CiAgYW5pbWF0aW9uLW5hbWU6IGZsaXBJblk7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmbGlwT3V0WCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCk7CiAgfQoKICAzMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAtMjBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgLTIwZGVnKTsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDkwZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIDkwZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIGZsaXBPdXRYIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KTsKICB9CgogIDMwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsIDAsIDAsIC0yMGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLCAwLCAwLCAtMjBkZWcpOwogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgOTBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwgMCwgMCwgOTBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9Cn0KCi5mbGlwT3V0WCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmxpcE91dFg7CiAgYW5pbWF0aW9uLW5hbWU6IGZsaXBPdXRYOwogIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OwogIGJhY2tmYWNlLXZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZsaXBPdXRZIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KTsKICB9CgogIDMwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIC0xNWRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCAtMTVkZWcpOwogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgOTBkZWcpOwogICAgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgOTBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9Cn0KCkBrZXlmcmFtZXMgZmxpcE91dFkgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpOwogIH0KCiAgMzAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwgMSwgMCwgLTE1ZGVnKTsKICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsIDEsIDAsIC0xNWRlZyk7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCA5MGRlZyk7CiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLCAxLCAwLCA5MGRlZyk7CiAgICBvcGFjaXR5OiAwOwogIH0KfQoKLmZsaXBPdXRZIHsKICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDsKICBiYWNrZmFjZS12aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmxpcE91dFk7CiAgYW5pbWF0aW9uLW5hbWU6IGZsaXBPdXRZOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgbGlnaHRTcGVlZEluIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKSBza2V3WCgtMzBkZWcpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKSBza2V3WCgtMzBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9CgogIDYwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goMjBkZWcpOwogICAgdHJhbnNmb3JtOiBza2V3WCgyMGRlZyk7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgODAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBza2V3WCgtNWRlZyk7CiAgICB0cmFuc2Zvcm06IHNrZXdYKC01ZGVnKTsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICAgIG9wYWNpdHk6IDE7CiAgfQp9CgpAa2V5ZnJhbWVzIGxpZ2h0U3BlZWRJbiB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCkgc2tld1goLTMwZGVnKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCkgc2tld1goLTMwZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQoKICA2MCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNrZXdYKDIwZGVnKTsKICAgIHRyYW5zZm9ybTogc2tld1goMjBkZWcpOwogICAgb3BhY2l0eTogMTsKICB9CgogIDgwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goLTVkZWcpOwogICAgdHJhbnNmb3JtOiBza2V3WCgtNWRlZyk7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgICBvcGFjaXR5OiAxOwogIH0KfQoKLmxpZ2h0U3BlZWRJbiB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogbGlnaHRTcGVlZEluOwogIGFuaW1hdGlvbi1uYW1lOiBsaWdodFNwZWVkSW47CiAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGxpZ2h0U3BlZWRPdXQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKSBza2V3WCgzMGRlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApIHNrZXdYKDMwZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIGxpZ2h0U3BlZWRPdXQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKSBza2V3WCgzMGRlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApIHNrZXdYKDMwZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgoubGlnaHRTcGVlZE91dCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogbGlnaHRTcGVlZE91dDsKICBhbmltYXRpb24tbmFtZTogbGlnaHRTcGVlZE91dDsKICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47CiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIHJvdGF0ZUluIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyOwogICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC0yMDBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtMjAwZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogICAgb3BhY2l0eTogMTsKICB9Cn0KCkBrZXlmcmFtZXMgcm90YXRlSW4gewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTIwMGRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC0yMDBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyOwogICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgICBvcGFjaXR5OiAxOwogIH0KfQoKLnJvdGF0ZUluIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiByb3RhdGVJbjsKICBhbmltYXRpb24tbmFtZTogcm90YXRlSW47Cn0KCkAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVJbkRvd25MZWZ0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtNDVkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtNDVkZWcpOwogICAgb3BhY2l0eTogMDsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogICAgb3BhY2l0eTogMTsKICB9Cn0KCkBrZXlmcmFtZXMgcm90YXRlSW5Eb3duTGVmdCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTQ1ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTQ1ZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICAgIG9wYWNpdHk6IDE7CiAgfQp9Cgoucm90YXRlSW5Eb3duTGVmdCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcm90YXRlSW5Eb3duTGVmdDsKICBhbmltYXRpb24tbmFtZTogcm90YXRlSW5Eb3duTGVmdDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIHJvdGF0ZUluRG93blJpZ2h0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDQ1ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgNDVkZWcpOwogICAgb3BhY2l0eTogMDsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgICBvcGFjaXR5OiAxOwogIH0KfQoKQGtleWZyYW1lcyByb3RhdGVJbkRvd25SaWdodCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA0NWRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDQ1ZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogICAgb3BhY2l0eTogMTsKICB9Cn0KCi5yb3RhdGVJbkRvd25SaWdodCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcm90YXRlSW5Eb3duUmlnaHQ7CiAgYW5pbWF0aW9uLW5hbWU6IHJvdGF0ZUluRG93blJpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlSW5VcExlZnQgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDQ1ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgNDVkZWcpOwogICAgb3BhY2l0eTogMDsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogICAgb3BhY2l0eTogMTsKICB9Cn0KCkBrZXlmcmFtZXMgcm90YXRlSW5VcExlZnQgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDQ1ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgNDVkZWcpOwogICAgb3BhY2l0eTogMDsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogICAgb3BhY2l0eTogMTsKICB9Cn0KCi5yb3RhdGVJblVwTGVmdCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcm90YXRlSW5VcExlZnQ7CiAgYW5pbWF0aW9uLW5hbWU6IHJvdGF0ZUluVXBMZWZ0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlSW5VcFJpZ2h0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC05MGRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC05MGRlZyk7CiAgICBvcGFjaXR5OiAwOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICAgIG9wYWNpdHk6IDE7CiAgfQp9CgpAa2V5ZnJhbWVzIHJvdGF0ZUluVXBSaWdodCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtOTBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtOTBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7CiAgICB0cmFuc2Zvcm06IG5vbmU7CiAgICBvcGFjaXR5OiAxOwogIH0KfQoKLnJvdGF0ZUluVXBSaWdodCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcm90YXRlSW5VcFJpZ2h0OwogIGFuaW1hdGlvbi1uYW1lOiByb3RhdGVJblVwUmlnaHQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVPdXQgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgMjAwZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgMjAwZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIHJvdGF0ZU91dCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAyMDBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAyMDBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9Cn0KCi5yb3RhdGVPdXQgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHJvdGF0ZU91dDsKICBhbmltYXRpb24tbmFtZTogcm90YXRlT3V0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlT3V0RG93bkxlZnQgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA0NWRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDQ1ZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIHJvdGF0ZU91dERvd25MZWZ0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgNDVkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA0NWRlZyk7CiAgICBvcGFjaXR5OiAwOwogIH0KfQoKLnJvdGF0ZU91dERvd25MZWZ0IHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiByb3RhdGVPdXREb3duTGVmdDsKICBhbmltYXRpb24tbmFtZTogcm90YXRlT3V0RG93bkxlZnQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVPdXREb3duUmlnaHQgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTQ1ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTQ1ZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIHJvdGF0ZU91dERvd25SaWdodCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtNDVkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCAtNDVkZWcpOwogICAgb3BhY2l0eTogMDsKICB9Cn0KCi5yb3RhdGVPdXREb3duUmlnaHQgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHJvdGF0ZU91dERvd25SaWdodDsKICBhbmltYXRpb24tbmFtZTogcm90YXRlT3V0RG93blJpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlT3V0VXBMZWZ0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTQ1ZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgLTQ1ZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIHJvdGF0ZU91dFVwTGVmdCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC00NWRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIC00NWRlZyk7CiAgICBvcGFjaXR5OiAwOwogIH0KfQoKLnJvdGF0ZU91dFVwTGVmdCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcm90YXRlT3V0VXBMZWZ0OwogIGFuaW1hdGlvbi1uYW1lOiByb3RhdGVPdXRVcExlZnQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVPdXRVcFJpZ2h0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDkwZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgOTBkZWcpOwogICAgb3BhY2l0eTogMDsKICB9Cn0KCkBrZXlmcmFtZXMgcm90YXRlT3V0VXBSaWdodCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA5MGRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDkwZGVnKTsKICAgIG9wYWNpdHk6IDA7CiAgfQp9Cgoucm90YXRlT3V0VXBSaWdodCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcm90YXRlT3V0VXBSaWdodDsKICBhbmltYXRpb24tbmFtZTogcm90YXRlT3V0VXBSaWdodDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGhpbmdlIHsKICAwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0OwogICAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0OwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7CiAgfQoKICAyMCUsIDYwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgODBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA4MGRlZyk7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0OwogICAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0OwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7CiAgfQoKICA0MCUsIDgwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QoMCwgMCwgMSwgNjBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA2MGRlZyk7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0OwogICAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0OwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDcwMHB4LCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgNzAwcHgsIDApOwogICAgb3BhY2l0eTogMDsKICB9Cn0KCkBrZXlmcmFtZXMgaGluZ2UgewogIDAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDsKICB9CgogIDIwJSwgNjAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA4MGRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDgwZGVnKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDsKICB9CgogIDQwJSwgODAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUzZCgwLCAwLCAxLCA2MGRlZyk7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZTNkKDAsIDAsIDEsIDYwZGVnKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgNzAwcHgsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCA3MDBweCwgMCk7CiAgICBvcGFjaXR5OiAwOwogIH0KfQoKLmhpbmdlIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBoaW5nZTsKICBhbmltYXRpb24tbmFtZTogaGluZ2U7Cn0KCi8qIG9yaWdpbmFsbHkgYXV0aG9yZWQgYnkgTmljayBQZXR0aXQgLSBodHRwczovL2dpdGh1Yi5jb20vbmlja3BldHRpdC9nbGlkZSAqLwoKQC13ZWJraXQta2V5ZnJhbWVzIHJvbGxJbiB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKSByb3RhdGUzZCgwLCAwLCAxLCAtMTIwZGVnKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIC0xMjBkZWcpOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lOwogICAgdHJhbnNmb3JtOiBub25lOwogIH0KfQoKQGtleWZyYW1lcyByb2xsSW4gewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwJSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgLTEyMGRlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKSByb3RhdGUzZCgwLCAwLCAxLCAtMTIwZGVnKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsKICAgIHRyYW5zZm9ybTogbm9uZTsKICB9Cn0KCi5yb2xsSW4gewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHJvbGxJbjsKICBhbmltYXRpb24tbmFtZTogcm9sbEluOwp9CgovKiBvcmlnaW5hbGx5IGF1dGhvcmVkIGJ5IE5pY2sgUGV0dGl0IC0gaHR0cHM6Ly9naXRodWIuY29tL25pY2twZXR0aXQvZ2xpZGUgKi8KCkAtd2Via2l0LWtleWZyYW1lcyByb2xsT3V0IHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDE7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIDEyMGRlZyk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApIHJvdGF0ZTNkKDAsIDAsIDEsIDEyMGRlZyk7CiAgfQp9CgpAa2V5ZnJhbWVzIHJvbGxPdXQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgMTIwZGVnKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCkgcm90YXRlM2QoMCwgMCwgMSwgMTIwZGVnKTsKICB9Cn0KCi5yb2xsT3V0IHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiByb2xsT3V0OwogIGFuaW1hdGlvbi1uYW1lOiByb2xsT3V0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgem9vbUluIHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguMywgLjMsIC4zKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguMywgLjMsIC4zKTsKICB9CgogIDUwJSB7CiAgICBvcGFjaXR5OiAxOwogIH0KfQoKQGtleWZyYW1lcyB6b29tSW4gewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4zLCAuMywgLjMpOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC4zLCAuMywgLjMpOwogIH0KCiAgNTAlIHsKICAgIG9wYWNpdHk6IDE7CiAgfQp9Cgouem9vbUluIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiB6b29tSW47CiAgYW5pbWF0aW9uLW5hbWU6IHpvb21JbjsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIHpvb21JbkRvd24gewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIC0xMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIC0xMDAwcHgsIDApOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKTsKICB9CgogIDYwJSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMCwgNjBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMCwgNjBweCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICB9Cn0KCkBrZXlmcmFtZXMgem9vbUluRG93biB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjEsIC4xLCAuMSkgdHJhbnNsYXRlM2QoMCwgLTEwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjEsIC4xLCAuMSkgdHJhbnNsYXRlM2QoMCwgLTEwMDBweCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApOwogIH0KCiAgNjAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgwLCA2MHB4LCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgwLCA2MHB4LCAwKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMjAsIDEpOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMjAsIDEpOwogIH0KfQoKLnpvb21JbkRvd24gewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHpvb21JbkRvd247CiAgYW5pbWF0aW9uLW5hbWU6IHpvb21JbkRvd247Cn0KCkAtd2Via2l0LWtleWZyYW1lcyB6b29tSW5MZWZ0IHsKICBmcm9tIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguMSwgLjEsIC4xKSB0cmFuc2xhdGUzZCgtMTAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguMSwgLjEsIC4xKSB0cmFuc2xhdGUzZCgtMTAwMHB4LCAwLCAwKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC40NzUsIC40NzUsIC40NzUpIHRyYW5zbGF0ZTNkKDEwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC40NzUsIC40NzUsIC40NzUpIHRyYW5zbGF0ZTNkKDEwcHgsIDAsIDApOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyMCwgMSk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyMCwgMSk7CiAgfQp9CgpAa2V5ZnJhbWVzIHpvb21JbkxlZnQgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKC0xMDAwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKC0xMDAwcHgsIDAsIDApOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKTsKICB9CgogIDYwJSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMTBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMTBweCwgMCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICB9Cn0KCi56b29tSW5MZWZ0IHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiB6b29tSW5MZWZ0OwogIGFuaW1hdGlvbi1uYW1lOiB6b29tSW5MZWZ0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgem9vbUluUmlnaHQgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDEwMDBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjEsIC4xLCAuMSkgdHJhbnNsYXRlM2QoMTAwMHB4LCAwLCAwKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC40NzUsIC40NzUsIC40NzUpIHRyYW5zbGF0ZTNkKC0xMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgtMTBweCwgMCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICB9Cn0KCkBrZXlmcmFtZXMgem9vbUluUmlnaHQgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDEwMDBweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjEsIC4xLCAuMSkgdHJhbnNsYXRlM2QoMTAwMHB4LCAwLCAwKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC40NzUsIC40NzUsIC40NzUpIHRyYW5zbGF0ZTNkKC0xMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgtMTBweCwgMCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICB9Cn0KCi56b29tSW5SaWdodCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogem9vbUluUmlnaHQ7CiAgYW5pbWF0aW9uLW5hbWU6IHpvb21JblJpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgem9vbUluVXAgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIDEwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjEsIC4xLCAuMSkgdHJhbnNsYXRlM2QoMCwgMTAwMHB4LCAwKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC40NzUsIC40NzUsIC40NzUpIHRyYW5zbGF0ZTNkKDAsIC02MHB4LCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgwLCAtNjBweCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICB9Cn0KCkBrZXlmcmFtZXMgem9vbUluVXAgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIDEwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjEsIC4xLCAuMSkgdHJhbnNsYXRlM2QoMCwgMTAwMHB4LCAwKTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgfQoKICA2MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC40NzUsIC40NzUsIC40NzUpIHRyYW5zbGF0ZTNkKDAsIC02MHB4LCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgwLCAtNjBweCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICB9Cn0KCi56b29tSW5VcCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogem9vbUluVXA7CiAgYW5pbWF0aW9uLW5hbWU6IHpvb21JblVwOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgem9vbU91dCB7CiAgZnJvbSB7CiAgICBvcGFjaXR5OiAxOwogIH0KCiAgNTAlIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguMywgLjMsIC4zKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguMywgLjMsIC4zKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgfQp9CgpAa2V5ZnJhbWVzIHpvb21PdXQgewogIGZyb20gewogICAgb3BhY2l0eTogMTsKICB9CgogIDUwJSB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjMsIC4zLCAuMyk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjMsIC4zLCAuMyk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogIH0KfQoKLnpvb21PdXQgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHpvb21PdXQ7CiAgYW5pbWF0aW9uLW5hbWU6IHpvb21PdXQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyB6b29tT3V0RG93biB7CiAgNDAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgwLCAtNjBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMCwgLTYwcHgsIDApOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguMSwgLjEsIC4xKSB0cmFuc2xhdGUzZCgwLCAyMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIDIwMDBweCwgMCk7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBib3R0b207CiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgYm90dG9tOwogICAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyMCwgMSk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyMCwgMSk7CiAgfQp9CgpAa2V5ZnJhbWVzIHpvb21PdXREb3duIHsKICA0MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC40NzUsIC40NzUsIC40NzUpIHRyYW5zbGF0ZTNkKDAsIC02MHB4LCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgwLCAtNjBweCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIDIwMDBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjEsIC4xLCAuMSkgdHJhbnNsYXRlM2QoMCwgMjAwMHB4LCAwKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGJvdHRvbTsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBib3R0b207CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIwLCAxKTsKICB9Cn0KCi56b29tT3V0RG93biB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogem9vbU91dERvd247CiAgYW5pbWF0aW9uLW5hbWU6IHpvb21PdXREb3duOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgem9vbU91dExlZnQgewogIDQwJSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoNDJweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoNDJweCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKC4xKSB0cmFuc2xhdGUzZCgtMjAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUoLjEpIHRyYW5zbGF0ZTNkKC0yMDAwcHgsIDAsIDApOwogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGNlbnRlcjsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgY2VudGVyOwogIH0KfQoKQGtleWZyYW1lcyB6b29tT3V0TGVmdCB7CiAgNDAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCg0MnB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCg0MnB4LCAwLCAwKTsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDA7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoLjEpIHRyYW5zbGF0ZTNkKC0yMDAwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiBzY2FsZSguMSkgdHJhbnNsYXRlM2QoLTIwMDBweCwgMCwgMCk7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGxlZnQgY2VudGVyOwogICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBjZW50ZXI7CiAgfQp9Cgouem9vbU91dExlZnQgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHpvb21PdXRMZWZ0OwogIGFuaW1hdGlvbi1uYW1lOiB6b29tT3V0TGVmdDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIHpvb21PdXRSaWdodCB7CiAgNDAlIHsKICAgIG9wYWNpdHk6IDE7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgtNDJweCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoLTQycHgsIDAsIDApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSguMSkgdHJhbnNsYXRlM2QoMjAwMHB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUoLjEpIHRyYW5zbGF0ZTNkKDIwMDBweCwgMCwgMCk7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGNlbnRlcjsKICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGNlbnRlcjsKICB9Cn0KCkBrZXlmcmFtZXMgem9vbU91dFJpZ2h0IHsKICA0MCUgewogICAgb3BhY2l0eTogMTsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC40NzUsIC40NzUsIC40NzUpIHRyYW5zbGF0ZTNkKC00MnB4LCAwLCAwKTsKICAgIHRyYW5zZm9ybTogc2NhbGUzZCguNDc1LCAuNDc1LCAuNDc1KSB0cmFuc2xhdGUzZCgtNDJweCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICBvcGFjaXR5OiAwOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKC4xKSB0cmFuc2xhdGUzZCgyMDAwcHgsIDAsIDApOwogICAgdHJhbnNmb3JtOiBzY2FsZSguMSkgdHJhbnNsYXRlM2QoMjAwMHB4LCAwLCAwKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgY2VudGVyOwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgY2VudGVyOwogIH0KfQoKLnpvb21PdXRSaWdodCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogem9vbU91dFJpZ2h0OwogIGFuaW1hdGlvbi1uYW1lOiB6b29tT3V0UmlnaHQ7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyB6b29tT3V0VXAgewogIDQwJSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMCwgNjBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMCwgNjBweCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGJvdHRvbTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMjAsIDEpOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMjAsIDEpOwogIH0KfQoKQGtleWZyYW1lcyB6b29tT3V0VXAgewogIDQwJSB7CiAgICBvcGFjaXR5OiAxOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMCwgNjBweCwgMCk7CiAgICB0cmFuc2Zvcm06IHNjYWxlM2QoLjQ3NSwgLjQ3NSwgLjQ3NSkgdHJhbnNsYXRlM2QoMCwgNjBweCwgMCk7CiAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCk7CiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApOwogIH0KCiAgdG8gewogICAgb3BhY2l0eTogMDsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogICAgdHJhbnNmb3JtOiBzY2FsZTNkKC4xLCAuMSwgLjEpIHRyYW5zbGF0ZTNkKDAsIC0yMDAwcHgsIDApOwogICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgYm90dG9tOwogICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGJvdHRvbTsKICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMjAsIDEpOwogICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMjAsIDEpOwogIH0KfQoKLnpvb21PdXRVcCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogem9vbU91dFVwOwogIGFuaW1hdGlvbi1uYW1lOiB6b29tT3V0VXA7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZUluRG93biB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwMCUsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTAwJSwgMCk7CiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgc2xpZGVJbkRvd24gewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMDAlLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwMCUsIDApOwogICAgdmlzaWJpbGl0eTogdmlzaWJsZTsKICB9CgogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgfQp9Cgouc2xpZGVJbkRvd24gewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlSW5Eb3duOwogIGFuaW1hdGlvbi1uYW1lOiBzbGlkZUluRG93bjsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlSW5MZWZ0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwJSwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKTsKICAgIHZpc2liaWxpdHk6IHZpc2libGU7CiAgfQoKICB0byB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogIH0KfQoKQGtleWZyYW1lcyBzbGlkZUluTGVmdCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwJSwgMCwgMCk7CiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9Cn0KCi5zbGlkZUluTGVmdCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVJbkxlZnQ7CiAgYW5pbWF0aW9uLW5hbWU6IHNsaWRlSW5MZWZ0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVJblJpZ2h0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCk7CiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgc2xpZGVJblJpZ2h0IHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTAwJSwgMCwgMCk7CiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9Cn0KCi5zbGlkZUluUmlnaHQgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlSW5SaWdodDsKICBhbmltYXRpb24tbmFtZTogc2xpZGVJblJpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVJblVwIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAxMDAlLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7CiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgc2xpZGVJblVwIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAxMDAlLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7CiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOwogIH0KCiAgdG8gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9Cn0KCi5zbGlkZUluVXAgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlSW5VcDsKICBhbmltYXRpb24tbmFtZTogc2xpZGVJblVwOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVPdXREb3duIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwMCUsIDApOwogIH0KfQoKQGtleWZyYW1lcyBzbGlkZU91dERvd24gewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9CgogIHRvIHsKICAgIHZpc2liaWxpdHk6IGhpZGRlbjsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAxMDAlLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7CiAgfQp9Cgouc2xpZGVPdXREb3duIHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZU91dERvd247CiAgYW5pbWF0aW9uLW5hbWU6IHNsaWRlT3V0RG93bjsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlT3V0TGVmdCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogIH0KCiAgdG8gewogICAgdmlzaWJpbGl0eTogaGlkZGVuOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDApOwogIH0KfQoKQGtleWZyYW1lcyBzbGlkZU91dExlZnQgewogIGZyb20gewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICB9CgogIHRvIHsKICAgIHZpc2liaWxpdHk6IGhpZGRlbjsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwJSwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKTsKICB9Cn0KCi5zbGlkZU91dExlZnQgewogIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlT3V0TGVmdDsKICBhbmltYXRpb24tbmFtZTogc2xpZGVPdXRMZWZ0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVPdXRSaWdodCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogIH0KCiAgdG8gewogICAgdmlzaWJpbGl0eTogaGlkZGVuOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTsKICB9Cn0KCkBrZXlmcmFtZXMgc2xpZGVPdXRSaWdodCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogIH0KCiAgdG8gewogICAgdmlzaWJpbGl0eTogaGlkZGVuOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDEwMCUsIDAsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTsKICB9Cn0KCi5zbGlkZU91dFJpZ2h0IHsKICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZU91dFJpZ2h0OwogIGFuaW1hdGlvbi1uYW1lOiBzbGlkZU91dFJpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVPdXRVcCB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApOwogIH0KCiAgdG8gewogICAgdmlzaWJpbGl0eTogaGlkZGVuOwogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMDAlLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwMCUsIDApOwogIH0KfQoKQGtleWZyYW1lcyBzbGlkZU91dFVwIHsKICBmcm9tIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7CiAgfQoKICB0byB7CiAgICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwMCUsIDApOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTAwJSwgMCk7CiAgfQp9Cgouc2xpZGVPdXRVcCB7CiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVPdXRVcDsKICBhbmltYXRpb24tbmFtZTogc2xpZGVPdXRVcDsKfQ==" rel="stylesheet" type="text/css">
        <link href="data:text/plain;base64,I2MyY2FudmFzZGl2LnByZXBhcmVkCnsKCXBvc2l0aW9uOmFic29sdXRlICFpbXBvcnRhbnQ7CgltYXJnaW46MHB4ICFpbXBvcnRhbnQ7Cgl6LWluZGV4OjQ5Owp9CgojZmFrZUJvZHkKewoJcG9zaXRpb246YWJzb2x1dGU7Cgl6LWluZGV4Ojk5OTk5OTk5OTsJCglvdmVyZmxvdzpoaWRkZW4gIWltcG9ydGFudDsKfQoKIAojZmFrZUJvZHkgI2Zha2VDYW52YXMKewoJcG9zaXRpb246YWJzb2x1dGU7Cgl0b3A6MHB4OwoJei1pbmRleDo1MDsKCW92ZXJmbG93OmhpZGRlbiAhaW1wb3J0YW50OwoJaGVpZ2h0OjEwMCU7Cgl3aWR0aDoxMDAlOwp9CgoKI2Zha2VDYW52YXMgZGl2CnsKCXBvc2l0aW9uOmFic29sdXRlOwoJd2lkdGg6MTAwJTsKCWhlaWdodDoxMDAlOwoJdG9wOjBweDsKCWxlZnQ6MHB4Owp9CiNmYWtlQ2FudmFzIGRpdi5kYXJrZXIKewogICAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDEwMG1zIGxpbmVhciA7CiAgICAtbW96LXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMTAwbXMgbGluZWFyIDsKICAgIC1vLXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMTAwbXMgbGluZWFyIDsKICAgIC1tcy10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDEwMG1zIGxpbmVhciA7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDEwMG1zIGxpbmVhciA7CgliYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC4zKTsKfQoKI2MyY2FudmFzZGl2LmFuaW1hdGVkCnsKCXotaW5kZXg6NTE7Cn0KI2Zha2VDYW52YXMuYW5pbWF0ZWQKewoJei1pbmRleDo0OTsKfQoKLmhpZGRlbgp7CglkaXNwbGF5Om5vbmU7Cn0=" rel="stylesheet" type="text/css">
        <link href="data:text/plain;base64,LyoKICogR3JpdHRlciBmb3IgalF1ZXJ5CiAqIGh0dHA6Ly93d3cuYm9lZGVzaWduLmNvbS8KICoKICogQ29weXJpZ2h0IChjKSAyMDEyIEpvcmRhbiBCb2VzY2gKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuCiAqCiAqIERhdGU6RmVicnVhcnkgMjQsIDIwMTIKICogVmVyc2lvbjoxLjcuNAogKi8KCi8qIHRoZSBub3JtICovCgojZ3JpdHRlci1ub3RpY2Utd3JhcHBlciB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDIwcHg7CiAgICByaWdodDogMjBweDsKICAgIHdpZHRoOiAzMDFweDsKICAgIHotaW5kZXg6IDk5OTk7Cn0KCiNncml0dGVyLW5vdGljZS13cmFwcGVyLnRvcC1sZWZ0IHsKICAgIGxlZnQ6IDIwcHg7CiAgICByaWdodDogYXV0bzsKfQoKI2dyaXR0ZXItbm90aWNlLXdyYXBwZXIuYm90dG9tLXJpZ2h0IHsKICAgIHRvcDogYXV0bzsKICAgIGxlZnQ6IGF1dG87CiAgICBib3R0b206IDIwcHg7CiAgICByaWdodDogMjBweDsKfQoKI2dyaXR0ZXItbm90aWNlLXdyYXBwZXIuYm90dG9tLWxlZnQgewogICAgdG9wOiBhdXRvOwogICAgcmlnaHQ6IGF1dG87CiAgICBib3R0b206IDIwcHg7CiAgICBsZWZ0OiAyMHB4Owp9CgouZ3JpdHRlci1pdGVtLXdyYXBwZXIgewogICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwcHg7CiAgICAta2h0bWwtYm9yZGVyLXJhZGl1czogMHB4OwogICAgLW1vei1ib3JkZXItcmFkaXVzOiAwcHg7CiAgICAtbXMtYm9yZGVyLXJhZGl1czogMHB4OwogICAgLW8tYm9yZGVyLXJhZGl1czogMHB4OwogICAgYm9yZGVyLXJhZGl1czogMHB4OwogICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTsKICAgIGNvbG9yOiAjZWVlOwogICAgcGFkZGluZzogMnB4OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbWFyZ2luOiAwIDAgMTBweCAwOwp9CgouZ3JpdHRlci1pdGVtLXdyYXBwZXIgewogICAgYm9yZGVyOiA1cHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpOwogICAgcGFkZGluZzogMDsKfQoKLmdyaXR0ZXItYm90dG9tIHsKICAgIGhlaWdodDogOHB4OwogICAgbWFyZ2luOiAwOwp9CgouZ3JpdHRlci1pdGVtIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgcGFkZGluZzogMTBweCA5cHggNnB4IDlweDsKICAgIGZvbnQtc2l6ZTogMTFweDsKICAgIGZvbnQtZmFtaWx5OiB2ZXJkYW5hOwp9CgouZ3JpdHRlci1pdGVtIHAgewogICAgcGFkZGluZzogMDsKICAgIG1hcmdpbjogMDsKICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDsKfQoKLmdyaXR0ZXItY2xvc2UgewogICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwJTsKICAgIC1raHRtbC1ib3JkZXItcmFkaXVzOiAwJTsKICAgIC1tb3otYm9yZGVyLXJhZGl1czogMCU7CiAgICAtbXMtYm9yZGVyLXJhZGl1czogMCU7CiAgICAtby1ib3JkZXItcmFkaXVzOiAwJTsKICAgIGJvcmRlci1yYWRpdXM6IDAlOwogICAgYmFja2dyb3VuZDogd2hpdGUgdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWdBQUFBSUNBWUFBQURFRDc2TEFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFBelNVUkJWQ2hUWXdDQy8xQ01EdURpTUFheUlnd3haQUZrakFMd1NvSUFYZ1hva2pBTUJoZ0NRSUFpaGk0SkEwQXhodjhBVWRBbjJTWHNHdUFBQUFBQVNVVk9SSzVDWUlJPSkgbm8tcmVwZWF0IGNlbnRlcjsKICAgIGJvcmRlcjogMnB4IHNvbGlkICMwMDA7CiAgICBib3gtc2hhZG93OiAwIDBweCAwcHggcmdiYSgwLCAwLCAwLCAwLjc1KTsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDdweDsKICAgIHJpZ2h0OiA3cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB3aWR0aDogMThweDsKICAgIGhlaWdodDogMThweDsKICAgIHRleHQtaW5kZW50OiAtOTk5OWVtOwogICAgb3V0bGluZTogbm9uZTsKfQoKLmdyaXR0ZXItY2xvc2U6aG92ZXJ7CiAgICBib3gtc2hhZG93OiAwIDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjc1KTsKfQoKLmdyaXR0ZXItaXRlbS13cmFwcGVyOmhvdmVyIC5ncml0dGVyLWNsb3NlIHsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgouZ3JpdHRlci10aXRsZSB7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIHBhZGRpbmc6IDAgMCA3cHggMDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMCAjMDAwOwogICAgLyogTm90IHN1cHBvcnRlZCBieSBJRSA6KCAqLwp9CgouZ3JpdHRlci1pbWFnZSB7CiAgICB3aWR0aDogNDhweDsKICAgIGhlaWdodDogNDhweDsKICAgIGZsb2F0OiBsZWZ0Owp9CgouZ3JpdHRlci13aXRoLWltYWdlLAouZ3JpdHRlci13aXRob3V0LWltYWdlIHsKICAgIHBhZGRpbmc6IDA7Cn0KCi5ncml0dGVyLXdpdGgtaW1hZ2UgewogICAgd2lkdGg6IDIyMHB4OwogICAgZmxvYXQ6IHJpZ2h0Owp9CgouZ3JpdHRlci1jbGlja2FibGU6aG92ZXIgewogICAgY3Vyc29yOiBwb2ludGVyOwp9CgovKiBmb3IgdGhlIGxpZ2h0ICh3aGl0ZSkgdmVyc2lvbiBvZiB0aGUgZ3JpdHRlciBub3RpY2UgKi8KCi5ncml0dGVyLWxpZ2h0LmdyaXR0ZXItaXRlbS13cmFwcGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKICAgIGNvbG9yOiAjMjIyOwp9CgouZ3JpdHRlci1saWdodC5ncml0dGVyLWl0ZW0td3JhcHBlciB7CiAgICBib3JkZXItY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTsKfQoKLyogZm9yIHRoZSBzdWNjZXNzIHZlcnNpb24gb2YgdGhlIGdyaXR0ZXIgbm90aWNlICovCgouZ3JpdHRlci1zdWNjZXNzLmdyaXR0ZXItaXRlbS13cmFwcGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNERkYwRDg7CiAgICBjb2xvcjogIzQ2ODg0NzsKfQoKLmdyaXR0ZXItc3VjY2Vzcy5ncml0dGVyLWl0ZW0td3JhcHBlcjpob3ZlciB7CiAgICBib3JkZXItY29sb3I6ICNENkU5QzY7Cn0KCi8qIGZvciB0aGUgaW5mbyB2ZXJzaW9uIG9mIHRoZSBncml0dGVyIG5vdGljZSAqLwoKLmdyaXR0ZXItaW5mby5ncml0dGVyLWl0ZW0td3JhcHBlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDlFREY3OwogICAgY29sb3I6ICMzQTg3QUQ7Cn0KCi5ncml0dGVyLWluZm8uZ3JpdHRlci1pdGVtLXdyYXBwZXI6aG92ZXIgewogICAgYm9yZGVyLWNvbG9yOiAjQkNFOEYxOwp9CgovKiBmb3IgdGhlIHdhcm5pbmcgdmVyc2lvbiBvZiB0aGUgZ3JpdHRlciBub3RpY2UgKi8KCi5ncml0dGVyLXdhcm5pbmcuZ3JpdHRlci1pdGVtLXdyYXBwZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0ZDRjhFMzsKICAgIGNvbG9yOiAjQzA5ODUzOwp9CgouZ3JpdHRlci13YXJuaW5nLmdyaXR0ZXItaXRlbS13cmFwcGVyOmhvdmVyIHsKICAgIGJvcmRlci1jb2xvcjogI0ZCRUVENTsKfQoKLyogZm9yIHRoZSBlcnJvciB2ZXJzaW9uIG9mIHRoZSBncml0dGVyIG5vdGljZSAqLwoKLmdyaXR0ZXItZXJyb3IuZ3JpdHRlci1pdGVtLXdyYXBwZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0YyREVERTsKICAgIGNvbG9yOiAjQjk0QTQ4Owp9CgouZ3JpdHRlci1lcnJvci5ncml0dGVyLWl0ZW0td3JhcHBlcjpob3ZlciB7CiAgICBib3JkZXItY29sb3I6ICNFRUQzRDc7Cn0KCi8qIGZvciB0aGUgcmVkIHZlcnNpb24gb2YgdGhlIGdyaXR0ZXIgbm90aWNlICovCgouZ3JpdHRlci1yZWQuZ3JpdHRlci1pdGVtLXdyYXBwZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y3OEI4MzsKICAgIGNvbG9yOiAjOTEyMzIzOwp9CgouZ3JpdHRlci1yZWQuZ3JpdHRlci1pdGVtLXdyYXBwZXI6aG92ZXIgewogICAgYm9yZGVyLWNvbG9yOiAjRDk1MjUyOwp9CgovKiBmb3IgdGhlIHllbGxvdyB2ZXJzaW9uIG9mIHRoZSBncml0dGVyIG5vdGljZSAqLwoKLmdyaXR0ZXIteWVsbG93LmdyaXR0ZXItaXRlbS13cmFwcGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGQTM7CiAgICBjb2xvcjogIzU1NTsKfQoKLmdyaXR0ZXIteWVsbG93LmdyaXR0ZXItaXRlbS13cmFwcGVyOmhvdmVyIHsKICAgIGJvcmRlci1jb2xvcjogI0YxRDAzMTsKfQoKLyogZm9yIHRoZSBibHVlIHZlcnNpb24gb2YgdGhlIGdyaXR0ZXIgbm90aWNlICovCgouZ3JpdHRlci1ibHVlLmdyaXR0ZXItaXRlbS13cmFwcGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNFNUY2RkU7CiAgICBjb2xvcjogIzVFOTlCRDsKfQoKLmdyaXR0ZXItYmx1ZS5ncml0dGVyLWl0ZW0td3JhcHBlcjpob3ZlciB7CiAgICBib3JkZXItY29sb3I6ICNBREQ5RUQ7Cn0KCi8qIGZvciB0aGUgZ3JlZW4gdmVyc2lvbiBvZiB0aGUgZ3JpdHRlciBub3RpY2UgKi8KCi5ncml0dGVyLWdyZWVuLmdyaXR0ZXItaXRlbS13cmFwcGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNDQUVEOUU7CiAgICBjb2xvcjogIzNGNjIxOTsKfQoKLmdyaXR0ZXItZ3JlZW4uZ3JpdHRlci1pdGVtLXdyYXBwZXI6aG92ZXIgewogICAgYm9yZGVyLWNvbG9yOiAjOTBEOTNGOwp9CgouZ3JpdHRlci1saWdodCAuZ3JpdHRlci10aXRsZSwKLmdyaXR0ZXItc3VjY2VzcyAuZ3JpdHRlci10aXRsZSwKLmdyaXR0ZXItaW5mbyAuZ3JpdHRlci10aXRsZSwKLmdyaXR0ZXItd2FybmluZyAuZ3JpdHRlci10aXRsZSwKLmdyaXR0ZXItZXJyb3IgLmdyaXR0ZXItdGl0bGUsCi5ncml0dGVyLXJlZCAuZ3JpdHRlci10aXRsZSwKLmdyaXR0ZXIteWVsbG93IC5ncml0dGVyLXRpdGxlLAouZ3JpdHRlci1ibHVlIC5ncml0dGVyLXRpdGxlLAouZ3JpdHRlci1ncmVlbiAuZ3JpdHRlci10aXRsZSB7CiAgICB0ZXh0LXNoYWRvdzogbm9uZTsKfQ==" rel="stylesheet" type="text/css">
        <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAB5ElEQVQ4EaVSsU4UURQ9bwImOzSiu4YGshYk4FBgrDGRX6BYCIVQSkFrJ41+hQFMNDGxNTEGWwuiJhSsxg5DAZgQCLKzQpR5nHPfPBYo4e7Ou/e+ufe8c+4b4JrmTtZG5/z/31NwHom7iFZ45j4BCgcLiwQFY4APY3RX37p/qzXvfA5HAIGcGUPvQ7FXE2PltkdQ7XmXogsnbTY6rLer+H5UU8hiNct784q96BRhP6vsYyQ9YP6XAELlr9mu4d3ekLELfD3S7oo1to5bJUBBX6BR9cgqf4jm0BVo8jSeoJfRem6kWBh/yiJg4dMLtI5ysukwUp1IJkGTtHGDAKKq5/HoJOo3+1Hv7cfsg2lr7uhRd5hLKYEA0iedhgssf3vD5gHmwOKX14GhMTjHguUmQcOPDKyDiyg/+/jcTs6PI/2y0Io0O84gDDGcHmcw0jeMrO8e5GXN7R9Y/fUVG7sbBmhso4Q4xCChwPzYEzwafGiNcckI1Lg/gffND3j5eSls6/bsFvSRxLvnDC43RxD5u7fqIS2bNS5K4CfJKKscoHF7E82fi6GoXDWbaHm+g8naFrL00GYtBi5fuaPJBBax8rw3AF2Z/sGr2IBNApJZZjMqMJMcWcxDVq6dRivxyasLr6+SnAKeABuAf4IbvwAAAABJRU5ErkJggg==">
    </head>
    <body>
        <div id="fb-root"></div>
        <script>
            // Issue a warning if trying to preview an exported project on disk.
            (function() {
                // Check for running exported on file protocol
                if (window.location.protocol.substr(0, 4) === "file") {
                    alert("Exported games won't work until you upload them. (When running on the file:/// protocol, browsers block many features from working for security reasons.)");
                }
            }
            )();
        </script>
        <!-- The canvas must be inside a div called c2canvasdiv -->
        <div id="c2canvasdiv">
            <!-- The canvas the project will render to.  If you change its ID, don't forget to change the
		ID the runtime looks for in the jQuery events above (ready() and cr_sizeCanvas()). -->
            <canvas id="c2canvas" width="640" height="640">
            </canvas>
        </div>
        <!-- Pages load faster with scripts at the bottom -->
        <!-- Construct 2 exported games require jQuery. -->
        <script src="data:text/plain;base64,LyohIGpRdWVyeSB2My40LjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lLmRvY3VtZW50P3QoZSwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIHQoZSl9OnQoZSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKEMsZSl7InVzZSBzdHJpY3QiO3ZhciB0PVtdLEU9Qy5kb2N1bWVudCxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmNvbmNhdCx1PXQucHVzaCxpPXQuaW5kZXhPZixuPXt9LG89bi50b1N0cmluZyx2PW4uaGFzT3duUHJvcGVydHksYT12LnRvU3RyaW5nLGw9YS5jYWxsKE9iamVjdCkseT17fSxtPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYibnVtYmVyIiE9dHlwZW9mIGUubm9kZVR5cGV9LHg9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmU9PT1lLndpbmRvd30sYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjQuMSIsaz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgay5mbi5pbml0KGUsdCl9LHA9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nO2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9ay5mbj1rLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6ayxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9ay5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGsuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGsubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxlbmd0aCxuPStlKyhlPDA/dDowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soMDw9biYmbjx0P1t0aGlzW25dXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDp1LHNvcnQ6dC5zb3J0LHNwbGljZTp0LnNwbGljZX0say5leHRlbmQ9ay5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLG8sYT1hcmd1bWVudHNbMF18fHt9LHM9MSx1PWFyZ3VtZW50cy5sZW5ndGgsbD0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgYSYmKGw9YSxhPWFyZ3VtZW50c1tzXXx8e30scysrKSwib2JqZWN0Ij09dHlwZW9mIGF8fG0oYSl8fChhPXt9KSxzPT09dSYmKGE9dGhpcyxzLS0pO3M8dTtzKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW3NdKSlmb3IodCBpbiBlKXI9ZVt0XSwiX19wcm90b19fIiE9PXQmJmEhPT1yJiYobCYmciYmKGsuaXNQbGFpbk9iamVjdChyKXx8KGk9QXJyYXkuaXNBcnJheShyKSkpPyhuPWFbdF0sbz1pJiYhQXJyYXkuaXNBcnJheShuKT9bXTppfHxrLmlzUGxhaW5PYmplY3Qobik/bjp7fSxpPSExLGFbdF09ay5leHRlbmQobCxvLHIpKTp2b2lkIDAhPT1yJiYoYVt0XT1yKSk7cmV0dXJuIGF9LGsuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhmK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGUpfSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuISghZXx8IltvYmplY3QgT2JqZWN0XSIhPT1vLmNhbGwoZSkpJiYoISh0PXIoZSkpfHwiZnVuY3Rpb24iPT10eXBlb2Yobj12LmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJmEuY2FsbChuKT09PWwpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSx0KXtiKGUse25vbmNlOnQmJnQubm9uY2V9KX0sZWFjaDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MDtpZihkKGUpKXtmb3Iobj1lLmxlbmd0aDtyPG47cisrKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVha31lbHNlIGZvcihyIGluIGUpaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrO3JldHVybiBlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKHAsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKGQoT2JqZWN0KGUpKT9rLm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTp1LmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6aS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MCxvPWUubGVuZ3RoLGE9IW47aTxvO2krKykhdChlW2ldLGkpIT09YSYmci5wdXNoKGVbaV0pO3JldHVybiByfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLGE9W107aWYoZChlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJmEucHVzaChpKTtyZXR1cm4gZy5hcHBseShbXSxhKX0sZ3VpZDoxLHN1cHBvcnQ6eX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihrLmZuW1N5bWJvbC5pdGVyYXRvcl09dFtTeW1ib2wuaXRlcmF0b3JdKSxrLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7blsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTt2YXIgaD1mdW5jdGlvbihuKXt2YXIgZSxkLGIsbyxpLGgsZixnLHcsdSxsLFQsQyxhLEUsdixzLGMseSxrPSJzaXp6bGUiKzEqbmV3IERhdGUsbT1uLmRvY3VtZW50LFM9MCxyPTAscD11ZSgpLHg9dWUoKSxOPXVlKCksQT11ZSgpLEQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihsPSEwKSwwfSxqPXt9Lmhhc093blByb3BlcnR5LHQ9W10scT10LnBvcCxMPXQucHVzaCxIPXQucHVzaCxPPXQuc2xpY2UsUD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sUj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLE09IltcXHgyMFxcdFxcclxcblxcZl0iLEk9Iig/OlxcXFwufFtcXHctXXxbXlwwLVxceGEwXSkrIixXPSJcXFsiK00rIiooIitJKyIpKD86IitNKyIqKFsqXiR8IX5dPz0pIitNKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrSSsiKSl8KSIrTSsiKlxcXSIsJD0iOigiK0krIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK1crIikqKXwuKilcXCl8KSIsRj1uZXcgUmVnRXhwKE0rIisiLCJnIiksQj1uZXcgUmVnRXhwKCJeIitNKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK00rIiskIiwiZyIpLF89bmV3IFJlZ0V4cCgiXiIrTSsiKiwiK00rIioiKSx6PW5ldyBSZWdFeHAoIl4iK00rIiooWz4rfl18IitNKyIpIitNKyIqIiksVT1uZXcgUmVnRXhwKE0rInw+IiksWD1uZXcgUmVnRXhwKCQpLFY9bmV3IFJlZ0V4cCgiXiIrSSsiJCIpLEc9e0lEOm5ldyBSZWdFeHAoIl4jKCIrSSsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitJKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitJKyJ8WypdKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrVyksUFNFVURPOm5ldyBSZWdFeHAoIl4iKyQpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTSsiKig/OihbKy1dfCkiK00rIiooXFxkKyl8KSkiK00rIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK1IrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitNKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK00rIiooKD86LVxcZCk/XFxkKikiK00rIipcXCl8KSg/PVteLV18JCkiLCJpIil9LFk9L0hUTUwkL2ksUT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLEo9L15oXGQkL2ksSz0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGVlPS9bK35dLyx0ZT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK00rIj98KCIrTSsiKXwuKSIsImlnIiksbmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSIweCIrdC02NTUzNjtyZXR1cm4gciE9cnx8bj90OnI8MD9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUocj4+MTB8NTUyOTYsMTAyMyZyfDU2MzIwKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwobS5jaGlsZE5vZGVzKSxtLmNoaWxkTm9kZXMpLHRbbS5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoKGU/ZS5vd25lckRvY3VtZW50fHxlOm0pIT09QyYmVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhQVt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiZVLnRlc3QodCkpeyhzPWUuZ2V0QXR0cmlidXRlKCJpZCIpKT9zPXMucmVwbGFjZShyZSxpZSk6ZS5zZXRBdHRyaWJ1dGUoImlkIixzPWspLG89KGw9aCh0KSkubGVuZ3RoO3doaWxlKG8tLSlsW29dPSIjIitzKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpLGY9ZWUudGVzdCh0KSYmeWUoZS5wYXJlbnROb2RlKXx8ZX10cnl7cmV0dXJuIEguYXBwbHkobixmLnF1ZXJ5U2VsZWN0b3JBbGwoYykpLG59Y2F0Y2goZSl7QSh0LCEwKX1maW5hbGx5e3M9PT1rJiZlLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBnKHQucmVwbGFjZShCLCIkMSIpLGUsbixyKX1mdW5jdGlvbiB1ZSgpe3ZhciByPVtdO3JldHVybiBmdW5jdGlvbiBlKHQsbil7cmV0dXJuIHIucHVzaCh0KyIgIik+Yi5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbci5zaGlmdCgpXSxlW3QrIiAiXT1ufX1mdW5jdGlvbiBsZShlKXtyZXR1cm4gZVtrXT0hMCxlfWZ1bmN0aW9uIGNlKGUpe3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBmZShlLHQpe3ZhciBuPWUuc3BsaXQoInwiKSxyPW4ubGVuZ3RoO3doaWxlKHItLSliLmF0dHJIYW5kbGVbbltyXV09dH1mdW5jdGlvbiBwZShlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJmUuc291cmNlSW5kZXgtdC5zb3VyY2VJbmRleDtpZihyKXJldHVybiByO2lmKG4pd2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmUudHlwZT09PXR9fWZ1bmN0aW9uIGhlKG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT10fHwiYnV0dG9uIj09PXQpJiZlLnR5cGU9PT1ufX1mdW5jdGlvbiBnZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImZvcm0iaW4gZT9lLnBhcmVudE5vZGUmJiExPT09ZS5kaXNhYmxlZD8ibGFiZWwiaW4gZT8ibGFiZWwiaW4gZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5kaXNhYmxlZD09PXQ6ZS5kaXNhYmxlZD09PXQ6ZS5pc0Rpc2FibGVkPT09dHx8ZS5pc0Rpc2FibGVkIT09IXQmJmFlKGUpPT09dDplLmRpc2FibGVkPT09dDoibGFiZWwiaW4gZSYmZS5kaXNhYmxlZD09PXR9fWZ1bmN0aW9uIHZlKGEpe3JldHVybiBsZShmdW5jdGlvbihvKXtyZXR1cm4gbz0rbyxsZShmdW5jdGlvbihlLHQpe3ZhciBuLHI9YShbXSxlLmxlbmd0aCxvKSxpPXIubGVuZ3RoO3doaWxlKGktLSllW249cltpXV0mJihlW25dPSEodFtuXT1lW25dKSl9KX0pfWZ1bmN0aW9uIHllKGUpe3JldHVybiBlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmV9Zm9yKGUgaW4gZD1zZS5zdXBwb3J0PXt9LGk9c2UuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYW1lc3BhY2VVUkksbj0oZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIVkudGVzdCh0fHxuJiZuLm5vZGVOYW1lfHwiSFRNTCIpfSxUPXNlLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lP2Uub3duZXJEb2N1bWVudHx8ZTptO3JldHVybiByIT09QyYmOT09PXIubm9kZVR5cGUmJnIuZG9jdW1lbnRFbGVtZW50JiYoYT0oQz1yKS5kb2N1bWVudEVsZW1lbnQsRT0haShDKSxtIT09QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuYXR0cmlidXRlcz1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9ImkiLCFlLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxkLmdldEVsZW1lbnRzQnlUYWdOYW1lPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKEMuY3JlYXRlQ29tbWVudCgiIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPUsudGVzdChDLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGQuZ2V0QnlJZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlKS5pZD1rLCFDLmdldEVsZW1lbnRzQnlOYW1lfHwhQy5nZXRFbGVtZW50c0J5TmFtZShrKS5sZW5ndGh9KSxkLmdldEJ5SWQ/KGIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh0ZSxuZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiaWQiKT09PXR9fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIG4/W25dOltdfX0pOihiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgbj1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiB0JiZ0LnZhbHVlPT09bn19LGIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmRSl7dmFyIG4scixpLG89dC5nZXRFbGVtZW50QnlJZChlKTtpZihvKXtpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb107aT10LmdldEVsZW1lbnRzQnlOYW1lKGUpLHI9MDt3aGlsZShvPWlbcisrXSlpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb119cmV0dXJuW119fSksYi5maW5kLlRBRz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6ZC5xc2E/dC5xdWVyeVNlbGVjdG9yQWxsKGUpOnZvaWQgMH06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9MCxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoIioiPT09ZSl7d2hpbGUobj1vW2krK10pMT09PW4ubm9kZVR5cGUmJnIucHVzaChuKTtyZXR1cm4gcn1yZXR1cm4gb30sYi5maW5kLkNMQVNTPWQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmRSlyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxzPVtdLHY9W10sKGQucXNhPUsudGVzdChDLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGNlKGZ1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MPSI8YSBpZD0nIitrKyInPjwvYT48c2VsZWN0IGlkPSciK2srIi1cclxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsZS5xdWVyeVNlbGVjdG9yQWxsKCJbbXNhbGxvd2NhcHR1cmVePScnXSIpLmxlbmd0aCYmdi5wdXNoKCJbKl4kXT0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8di5wdXNoKCJcXFsiK00rIiooPzp2YWx1ZXwiK1IrIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49IitrKyItXSIpLmxlbmd0aHx8di5wdXNoKCJ+PSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitrKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpfSksY2UoZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9IjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+PHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjwvc2VsZWN0PiI7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmdi5wdXNoKCJuYW1lIitNKyIqWypeJHwhfl0/PSIpLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5hcHBlbmRDaGlsZChlKS5kaXNhYmxlZD0hMCwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJnYucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSx2LnB1c2goIiwuKjoiKX0pKSwoZC5tYXRjaGVzU2VsZWN0b3I9Sy50ZXN0KGM9YS5tYXRjaGVzfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tb3pNYXRjaGVzU2VsZWN0b3J8fGEub01hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcikpJiZjZShmdW5jdGlvbihlKXtkLmRpc2Nvbm5lY3RlZE1hdGNoPWMuY2FsbChlLCIqIiksYy5jYWxsKGUsIltzIT0nJ106eCIpLHMucHVzaCgiIT0iLCQpfSksdj12Lmxlbmd0aCYmbmV3IFJlZ0V4cCh2LmpvaW4oInwiKSkscz1zLmxlbmd0aCYmbmV3IFJlZ0V4cChzLmpvaW4oInwiKSksdD1LLnRlc3QoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikseT10fHxLLnRlc3QoYS5jb250YWlucyk/ZnVuY3Rpb24oZSx0KXt2YXIgbj05PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISghcnx8MSE9PXIubm9kZVR5cGV8fCEobi5jb250YWlucz9uLmNvbnRhaW5zKHIpOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKX06ZnVuY3Rpb24oZSx0KXtpZih0KXdoaWxlKHQ9dC5wYXJlbnROb2RlKWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxEPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gbD0hMCwwO3ZhciBuPSFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBufHwoMSYobj0oZS5vd25lckRvY3VtZW50fHxlKT09PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09PUN8fGUub3duZXJEb2N1bWVudD09PW0mJnkobSxlKT8tMTp0PT09Q3x8dC5vd25lckRvY3VtZW50PT09bSYmeShtLHQpPzE6dT9QKHUsZSktUCh1LHQpOjA6NCZuPy0xOjEpfTpmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBsPSEwLDA7dmFyIG4scj0wLGk9ZS5wYXJlbnROb2RlLG89dC5wYXJlbnROb2RlLGE9W2VdLHM9W3RdO2lmKCFpfHwhbylyZXR1cm4gZT09PUM/LTE6dD09PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09PW0/LTE6c1tyXT09PW0/MTowfSksQ30sc2UubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBzZShlLG51bGwsbnVsbCx0KX0sc2UubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1DJiZUKGUpLGQubWF0Y2hlc1NlbGVjdG9yJiZFJiYhQVt0KyIgIl0mJighc3x8IXMudGVzdCh0KSkmJighdnx8IXYudGVzdCh0KSkpdHJ5e3ZhciBuPWMuY2FsbChlLHQpO2lmKG58fGQuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChlKXtBKHQsITApfXJldHVybiAwPHNlKHQsQyxudWxsLFtlXSkubGVuZ3RofSxzZS5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT09QyYmVChlKSx5KGUsdCl9LHNlLmF0dHI9ZnVuY3Rpb24oZSx0KXsoZS5vd25lckRvY3VtZW50fHxlKSE9PUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZqLmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KEQpLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1wW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJnAoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoRiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtrXXx8KGFba109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09UyYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W1MscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW2tdfHwoYVtrXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1TJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW2tdfHwoYVtrXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtTLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW2tdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoQiwiJDEiKSk7cmV0dXJuIHNba10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bUyxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW2tdfHwoZVtrXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PVMmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltrXSYmKHY9Q2UodikpLHkmJiF5W2tdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlba10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoQiwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKEIsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9TltlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtrXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPU4oZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPVMrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT09Q3x8dHx8aSk7bCE9PWcmJm51bGwhPShvPWRbbF0pO2wrKyl7aWYoeCYmbyl7YT0wLHR8fG8ub3duZXJEb2N1bWVudD09PUN8fChUKG8pLG49IUUpO3doaWxlKHM9dlthKytdKWlmKHMobyx0fHxDLG4pKXtyLnB1c2gobyk7YnJlYWt9aSYmKFM9aCl9bSYmKChvPSFzJiZvKSYmdS0tLGUmJmMucHVzaChvKSl9aWYodSs9bCxtJiZsIT09dSl7YT0wO3doaWxlKHM9eVthKytdKXMoYyxmLHQsbik7aWYoZSl7aWYoMDx1KXdoaWxlKGwtLSljW2xdfHxmW2xdfHwoZltsXT1xLmNhbGwocikpO2Y9VGUoZil9SC5hcHBseShyLGYpLGkmJiFlJiYwPGYubGVuZ3RoJiYxPHUreS5sZW5ndGgmJnNlLnVuaXF1ZVNvcnQocil9cmV0dXJuIGkmJihTPWgsdz1wKSxjfSxtP2xlKHIpOnIpKSkuc2VsZWN0b3I9ZX1yZXR1cm4gYX0sZz1zZS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLGM9IXImJmgoZT1sLnNlbGVjdG9yfHxlKTtpZihuPW58fFtdLDE9PT1jLmxlbmd0aCl7aWYoMjwobz1jWzBdPWNbMF0uc2xpY2UoMCkpLmxlbmd0aCYmIklEIj09PShhPW9bMF0pLnR5cGUmJjk9PT10Lm5vZGVUeXBlJiZFJiZiLnJlbGF0aXZlW29bMV0udHlwZV0pe2lmKCEodD0oYi5maW5kLklEKGEubWF0Y2hlc1swXS5yZXBsYWNlKHRlLG5lKSx0KXx8W10pWzBdKSlyZXR1cm4gbjtsJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZShvLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPUcubmVlZHNDb250ZXh0LnRlc3QoZSk/MDpvLmxlbmd0aDt3aGlsZShpLS0pe2lmKGE9b1tpXSxiLnJlbGF0aXZlW3M9YS50eXBlXSlicmVhaztpZigodT1iLmZpbmRbc10pJiYocj11KGEubWF0Y2hlc1swXS5yZXBsYWNlKHRlLG5lKSxlZS50ZXN0KG9bMF0udHlwZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoby5zcGxpY2UoaSwxKSwhKGU9ci5sZW5ndGgmJnhlKG8pKSlyZXR1cm4gSC5hcHBseShuLHIpLG47YnJlYWt9fX1yZXR1cm4obHx8ZihlLGMpKShyLHQsIUUsbiwhdHx8ZWUudGVzdChlKSYmeWUodC5wYXJlbnROb2RlKXx8dCksbn0sZC5zb3J0U3RhYmxlPWsuc3BsaXQoIiIpLnNvcnQoRCkuam9pbigiIik9PT1rLGQuZGV0ZWN0RHVwbGljYXRlcz0hIWwsVCgpLGQuc29ydERldGFjaGVkPWNlKGZ1bmN0aW9uKGUpe3JldHVybiAxJmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oQy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLGNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGZlKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihlLHQsbil7aWYoIW4pcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxkLmF0dHJpYnV0ZXMmJmNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGlucHV0Lz4iLGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGZlKCJ2YWx1ZSIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuJiYiaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmRlZmF1bHRWYWx1ZX0pLGNlKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxmZShSLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZighbilyZXR1cm4hMD09PWVbdF0/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHNlfShDKTtrLmZpbmQ9aCxrLmV4cHI9aC5zZWxlY3RvcnMsay5leHByWyI6Il09ay5leHByLnBzZXVkb3Msay51bmlxdWVTb3J0PWsudW5pcXVlPWgudW5pcXVlU29ydCxrLnRleHQ9aC5nZXRUZXh0LGsuaXNYTUxEb2M9aC5pc1hNTCxrLmNvbnRhaW5zPWguY29udGFpbnMsay5lc2NhcGVTZWxlY3Rvcj1oLmVzY2FwZTt2YXIgVD1mdW5jdGlvbihlLHQsbil7dmFyIHI9W10saT12b2lkIDAhPT1uO3doaWxlKChlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZSlpZigxPT09ZS5ub2RlVHlwZSl7aWYoaSYmayhlKS5pcyhuKSlicmVhaztyLnB1c2goZSl9cmV0dXJuIHJ9LFM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59LE49ay5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtmdW5jdGlvbiBBKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX12YXIgRD0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtmdW5jdGlvbiBqKGUsbixyKXtyZXR1cm4gbShuKT9rLmdyZXAoZSxmdW5jdGlvbihlLHQpe3JldHVybiEhbi5jYWxsKGUsdCxlKSE9PXJ9KTpuLm5vZGVUeXBlP2suZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09biE9PXJ9KToic3RyaW5nIiE9dHlwZW9mIG4/ay5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuLTE8aS5jYWxsKG4sZSkhPT1yfSk6ay5maWx0ZXIobixlLHIpfWsuZmlsdGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10WzBdO3JldHVybiBuJiYoZT0iOm5vdCgiK2UrIikiKSwxPT09dC5sZW5ndGgmJjE9PT1yLm5vZGVUeXBlP2suZmluZC5tYXRjaGVzU2VsZWN0b3IocixlKT9bcl06W106ay5maW5kLm1hdGNoZXMoZSxrLmdyZXAodCxmdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV9KSl9LGsuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzLmxlbmd0aCxpPXRoaXM7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnB1c2hTdGFjayhrKGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7dDxyO3QrKylpZihrLmNvbnRhaW5zKGlbdF0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKG49dGhpcy5wdXNoU3RhY2soW10pLHQ9MDt0PHI7dCsrKWsuZmluZChlLGlbdF0sbik7cmV0dXJuIDE8cj9rLnVuaXF1ZVNvcnQobik6bn0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhqKHRoaXMsZXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhqKHRoaXMsZXx8W10sITApKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFqKHRoaXMsInN0cmluZyI9PXR5cGVvZiBlJiZOLnRlc3QoZSk/ayhlKTplfHxbXSwhMSkubGVuZ3RofX0pO3ZhciBxLEw9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLzsoay5mbi5pbml0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2lmKCFlKXJldHVybiB0aGlzO2lmKG49bnx8cSwic3RyaW5nIj09dHlwZW9mIGUpe2lmKCEocj0iPCI9PT1lWzBdJiYiPiI9PT1lW2UubGVuZ3RoLTFdJiYzPD1lLmxlbmd0aD9bbnVsbCxlLG51bGxdOkwuZXhlYyhlKSl8fCFyWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8bikuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQoZSk7aWYoclsxXSl7aWYodD10IGluc3RhbmNlb2Ygaz90WzBdOnQsay5tZXJnZSh0aGlzLGsucGFyc2VIVE1MKHJbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6RSwhMCkpLEQudGVzdChyWzFdKSYmay5pc1BsYWluT2JqZWN0KHQpKWZvcihyIGluIHQpbSh0aGlzW3JdKT90aGlzW3JdKHRbcl0pOnRoaXMuYXR0cihyLHRbcl0pO3JldHVybiB0aGlzfXJldHVybihpPUUuZ2V0RWxlbWVudEJ5SWQoclsyXSkpJiYodGhpc1swXT1pLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIGUubm9kZVR5cGU/KHRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOm0oZSk/dm9pZCAwIT09bi5yZWFkeT9uLnJlYWR5KGUpOmUoayk6ay5tYWtlQXJyYXkoZSx0aGlzKX0pLnByb3RvdHlwZT1rLmZuLHE9ayhFKTt2YXIgSD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxPPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2Z1bmN0aW9uIFAoZSx0KXt3aGlsZSgoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGUpO3JldHVybiBlfWsuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ayhlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuO2UrKylpZihrLmNvbnRhaW5zKHRoaXMsdFtlXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXRoaXMubGVuZ3RoLG89W10sYT0ic3RyaW5nIiE9dHlwZW9mIGUmJmsoZSk7aWYoIU4udGVzdChlKSlmb3IoO3I8aTtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZihuLm5vZGVUeXBlPDExJiYoYT8tMTxhLmluZGV4KG4pOjE9PT1uLm5vZGVUeXBlJiZrLmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtvLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8by5sZW5ndGg/ay51bmlxdWVTb3J0KG8pOm8pfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT8ic3RyaW5nIj09dHlwZW9mIGU/aS5jYWxsKGsoZSksdGhpc1swXSk6aS5jYWxsKHRoaXMsZS5qcXVlcnk/ZVswXTplKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnB1c2hTdGFjayhrLnVuaXF1ZVNvcnQoay5tZXJnZSh0aGlzLmdldCgpLGsoZSx0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09ZT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSl9fSksay5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBUKGUsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVChlLCJwYXJlbnROb2RlIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gUChlLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBQKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBUKGUsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFQoZSwibmV4dFNpYmxpbmciLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBUKGUsInByZXZpb3VzU2libGluZyIsbil9LHNpYmxpbmdzOmZ1bmN0aW9uKGUpe3JldHVybiBTKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gUyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGUuY29udGVudERvY3VtZW50P2UuY29udGVudERvY3VtZW50OihBKGUsInRlbXBsYXRlIikmJihlPWUuY29udGVudHx8ZSksay5tZXJnZShbXSxlLmNoaWxkTm9kZXMpKX19LGZ1bmN0aW9uKHIsaSl7ay5mbltyXT1mdW5jdGlvbihlLHQpe3ZhciBuPWsubWFwKHRoaXMsaSxlKTtyZXR1cm4iVW50aWwiIT09ci5zbGljZSgtNSkmJih0PWUpLHQmJiJzdHJpbmciPT10eXBlb2YgdCYmKG49ay5maWx0ZXIodCxuKSksMTx0aGlzLmxlbmd0aCYmKE9bcl18fGsudW5pcXVlU29ydChuKSxILnRlc3QocikmJm4ucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUj0vW15ceDIwXHRcclxuXGZdKy9nO2Z1bmN0aW9uIE0oZSl7cmV0dXJuIGV9ZnVuY3Rpb24gSShlKXt0aHJvdyBlfWZ1bmN0aW9uIFcoZSx0LG4scil7dmFyIGk7dHJ5e2UmJm0oaT1lLnByb21pc2UpP2kuY2FsbChlKS5kb25lKHQpLmZhaWwobik6ZSYmbShpPWUudGhlbik/aS5jYWxsKGUsdCxuKTp0LmFwcGx5KHZvaWQgMCxbZV0uc2xpY2UocikpfWNhdGNoKGUpe24uYXBwbHkodm9pZCAwLFtlXSl9fWsuQ2FsbGJhY2tzPWZ1bmN0aW9uKHIpe3ZhciBlLG47cj0ic3RyaW5nIj09dHlwZW9mIHI/KGU9cixuPXt9LGsuZWFjaChlLm1hdGNoKFIpfHxbXSxmdW5jdGlvbihlLHQpe25bdF09ITB9KSxuKTprLmV4dGVuZCh7fSxyKTt2YXIgaSx0LG8sYSxzPVtdLHU9W10sbD0tMSxjPWZ1bmN0aW9uKCl7Zm9yKGE9YXx8ci5vbmNlLG89aT0hMDt1Lmxlbmd0aDtsPS0xKXt0PXUuc2hpZnQoKTt3aGlsZSgrK2w8cy5sZW5ndGgpITE9PT1zW2xdLmFwcGx5KHRbMF0sdFsxXSkmJnIuc3RvcE9uRmFsc2UmJihsPXMubGVuZ3RoLHQ9ITEpfXIubWVtb3J5fHwodD0hMSksaT0hMSxhJiYocz10P1tdOiIiKX0sZj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHMmJih0JiYhaSYmKGw9cy5sZW5ndGgtMSx1LnB1c2godCkpLGZ1bmN0aW9uIG4oZSl7ay5lYWNoKGUsZnVuY3Rpb24oZSx0KXttKHQpP3IudW5pcXVlJiZmLmhhcyh0KXx8cy5wdXNoKHQpOnQmJnQubGVuZ3RoJiYic3RyaW5nIiE9PXcodCkmJm4odCl9KX0oYXJndW1lbnRzKSx0JiYhaSYmYygpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciBuO3doaWxlKC0xPChuPWsuaW5BcnJheSh0LHMsbikpKXMuc3BsaWNlKG4sMSksbjw9bCYmbC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlPy0xPGsuaW5BcnJheShlLHMpOjA8cy5sZW5ndGh9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHMmJihzPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGE9dT1bXSxzPXQ9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hc30sbG9jazpmdW5jdGlvbigpe3JldHVybiBhPXU9W10sdHx8aXx8KHM9dD0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFhfSxmaXJlV2l0aDpmdW5jdGlvbihlLHQpe3JldHVybiBhfHwodD1bZSwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHUucHVzaCh0KSxpfHxjKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIW99fTtyZXR1cm4gZn0say5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciBvPVtbIm5vdGlmeSIsInByb2dyZXNzIixrLkNhbGxiYWNrcygibWVtb3J5Iiksay5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGsuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGsuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixrLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxrLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxpPSJwZW5kaW5nIixhPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBpfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGEudGhlbihudWxsLGUpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGk9YXJndW1lbnRzO3JldHVybiBrLkRlZmVycmVkKGZ1bmN0aW9uKHIpe2suZWFjaChvLGZ1bmN0aW9uKGUsdCl7dmFyIG49bShpW3RbNF1dKSYmaVt0WzRdXTtzW3RbMV1dKGZ1bmN0aW9uKCl7dmFyIGU9biYmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmbShlLnByb21pc2UpP2UucHJvbWlzZSgpLnByb2dyZXNzKHIubm90aWZ5KS5kb25lKHIucmVzb2x2ZSkuZmFpbChyLnJlamVjdCk6clt0WzBdKyJXaXRoIl0odGhpcyxuP1tlXTphcmd1bWVudHMpfSl9KSxpPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxuLHIpe3ZhciB1PTA7ZnVuY3Rpb24gbChpLG8sYSxzKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLGU9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKCEoaTx1KSl7aWYoKGU9YS5hcHBseShuLHIpKT09PW8ucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvbiIpO3Q9ZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpJiZlLnRoZW4sbSh0KT9zP3QuY2FsbChlLGwodSxvLE0scyksbCh1LG8sSSxzKSk6KHUrKyx0LmNhbGwoZSxsKHUsbyxNLHMpLGwodSxvLEkscyksbCh1LG8sTSxvLm5vdGlmeVdpdGgpKSk6KGEhPT1NJiYobj12b2lkIDAscj1bZV0pLChzfHxvLnJlc29sdmVXaXRoKShuLHIpKX19LHQ9cz9lOmZ1bmN0aW9uKCl7dHJ5e2UoKX1jYXRjaChlKXtrLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2smJmsuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhlLHQuc3RhY2tUcmFjZSksdTw9aSsxJiYoYSE9PUkmJihuPXZvaWQgMCxyPVtlXSksby5yZWplY3RXaXRoKG4scikpfX07aT90KCk6KGsuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYodC5zdGFja1RyYWNlPWsuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLEMuc2V0VGltZW91dCh0KSl9fXJldHVybiBrLkRlZmVycmVkKGZ1bmN0aW9uKGUpe29bMF1bM10uYWRkKGwoMCxlLG0ocik/cjpNLGUubm90aWZ5V2l0aCkpLG9bMV1bM10uYWRkKGwoMCxlLG0odCk/dDpNKSksb1syXVszXS5hZGQobCgwLGUsbShuKT9uOkkpKX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9rLmV4dGVuZChlLGEpOmF9fSxzPXt9O3JldHVybiBrLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPXRbMl0scj10WzVdO2FbdFsxXV09bi5hZGQsciYmbi5hZGQoZnVuY3Rpb24oKXtpPXJ9LG9bMy1lXVsyXS5kaXNhYmxlLG9bMy1lXVszXS5kaXNhYmxlLG9bMF1bMl0ubG9jayxvWzBdWzNdLmxvY2spLG4uYWRkKHRbM10uZmlyZSksc1t0WzBdXT1mdW5jdGlvbigpe3JldHVybiBzW3RbMF0rIldpdGgiXSh0aGlzPT09cz92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LHNbdFswXSsiV2l0aCJdPW4uZmlyZVdpdGh9KSxhLnByb21pc2UocyksZSYmZS5jYWxsKHMscyksc30sd2hlbjpmdW5jdGlvbihlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHQ9bixyPUFycmF5KHQpLGk9cy5jYWxsKGFyZ3VtZW50cyksbz1rLkRlZmVycmVkKCksYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7clt0XT10aGlzLGlbdF09MTxhcmd1bWVudHMubGVuZ3RoP3MuY2FsbChhcmd1bWVudHMpOmUsLS1ufHxvLnJlc29sdmVXaXRoKHIsaSl9fTtpZihuPD0xJiYoVyhlLG8uZG9uZShhKHQpKS5yZXNvbHZlLG8ucmVqZWN0LCFuKSwicGVuZGluZyI9PT1vLnN0YXRlKCl8fG0oaVt0XSYmaVt0XS50aGVuKSkpcmV0dXJuIG8udGhlbigpO3doaWxlKHQtLSlXKGlbdF0sYSh0KSxvLnJlamVjdCk7cmV0dXJuIG8ucHJvbWlzZSgpfX0pO3ZhciAkPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO2suRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbihlLHQpe0MuY29uc29sZSYmQy5jb25zb2xlLndhcm4mJmUmJiQudGVzdChlLm5hbWUpJiZDLmNvbnNvbGUud2FybigialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogIitlLm1lc3NhZ2UsZS5zdGFjayx0KX0say5yZWFkeUV4Y2VwdGlvbj1mdW5jdGlvbihlKXtDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlfSl9O3ZhciBGPWsuRGVmZXJyZWQoKTtmdW5jdGlvbiBCKCl7RS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCKSxDLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEIpLGsucmVhZHkoKX1rLmZuLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiBGLnRoZW4oZSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7ay5yZWFkeUV4Y2VwdGlvbihlKX0pLHRoaXN9LGsuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKGUpeyghMD09PWU/LS1rLnJlYWR5V2FpdDprLmlzUmVhZHkpfHwoay5pc1JlYWR5PSEwKSE9PWUmJjA8LS1rLnJlYWR5V2FpdHx8Ri5yZXNvbHZlV2l0aChFLFtrXSl9fSksay5yZWFkeS50aGVuPUYudGhlbiwiY29tcGxldGUiPT09RS5yZWFkeVN0YXRlfHwibG9hZGluZyIhPT1FLnJlYWR5U3RhdGUmJiFFLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9DLnNldFRpbWVvdXQoay5yZWFkeSk6KEUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixCKSk7dmFyIF89ZnVuY3Rpb24oZSx0LG4scixpLG8sYSl7dmFyIHM9MCx1PWUubGVuZ3RoLGw9bnVsbD09bjtpZigib2JqZWN0Ij09PXcobikpZm9yKHMgaW4gaT0hMCxuKV8oZSx0LHMsbltzXSwhMCxvLGEpO2Vsc2UgaWYodm9pZCAwIT09ciYmKGk9ITAsbShyKXx8KGE9ITApLGwmJihhPyh0LmNhbGwoZSxyKSx0PW51bGwpOihsPXQsdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwuY2FsbChrKGUpLG4pfSkpLHQpKWZvcig7czx1O3MrKyl0KGVbc10sbixhP3I6ci5jYWxsKGVbc10scyx0KGVbc10sbikpKTtyZXR1cm4gaT9lOmw/dC5jYWxsKGUpOnU/dChlWzBdLG4pOm99LHo9L14tbXMtLyxVPS8tKFthLXpdKS9nO2Z1bmN0aW9uIFgoZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGUucmVwbGFjZSh6LCJtcy0iKS5yZXBsYWNlKFUsWCl9dmFyIEc9ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfHw5PT09ZS5ub2RlVHlwZXx8IStlLm5vZGVUeXBlfTtmdW5jdGlvbiBZKCl7dGhpcy5leHBhbmRvPWsuZXhwYW5kbytZLnVpZCsrfVkudWlkPTEsWS5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sRyhlKSYmKGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMuY2FjaGUoZSk7aWYoInN0cmluZyI9PXR5cGVvZiB0KWlbVih0KV09bjtlbHNlIGZvcihyIGluIHQpaVtWKHIpXT10W3JdO3JldHVybiBpfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKGUpOmVbdGhpcy5leHBhbmRvXSYmZVt0aGlzLmV4cGFuZG9dW1YodCldfSxhY2Nlc3M6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDA9PT10fHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJnZvaWQgMD09PW4/dGhpcy5nZXQoZSx0KToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dCl7bj0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKFYpOih0PVYodCkpaW4gcj9bdF06dC5tYXRjaChSKXx8W10pLmxlbmd0aDt3aGlsZShuLS0pZGVsZXRlIHJbdFtuXV19KHZvaWQgMD09PXR8fGsuaXNFbXB0eU9iamVjdChyKSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGVbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09dCYmIWsuaXNFbXB0eU9iamVjdCh0KX19O3ZhciBRPW5ldyBZLEo9bmV3IFksSz0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLFo9L1tBLVpdL2c7ZnVuY3Rpb24gZWUoZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShaLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Sy50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fUouc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufWsuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBKLmhhc0RhdGEoZSl8fFEuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEouYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0oucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9fSksay5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1KLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVEuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9VihyLnNsaWNlKDUpKSxlZShvLHIsaVtyXSkpO1Euc2V0KG8sImhhc0RhdGFBdHRycyIsITApfXJldHVybiBpfXJldHVybiJvYmplY3QiPT10eXBlb2Ygbj90aGlzLmVhY2goZnVuY3Rpb24oKXtKLnNldCh0aGlzLG4pfSk6Xyh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKG8mJnZvaWQgMD09PWUpcmV0dXJuIHZvaWQgMCE9PSh0PUouZ2V0KG8sbikpP3Q6dm9pZCAwIT09KHQ9ZWUobyxuKSk/dDp2b2lkIDA7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Si5zZXQodGhpcyxuLGUpfSl9LG51bGwsZSwxPGFyZ3VtZW50cy5sZW5ndGgsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe0oucmVtb3ZlKHRoaXMsZSl9KX19KSxrLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj1RLmdldChlLHQpLG4mJighcnx8QXJyYXkuaXNBcnJheShuKT9yPVEuYWNjZXNzKGUsdCxrLm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj1rLnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxvPWsuX3F1ZXVlSG9va3MoZSx0KTsiaW5wcm9ncmVzcyI9PT1pJiYoaT1uLnNoaWZ0KCksci0tKSxpJiYoImZ4Ij09PXQmJm4udW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUsZnVuY3Rpb24oKXtrLmRlcXVldWUoZSx0KX0sbykpLCFyJiZvJiZvLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gUS5nZXQoZSxuKXx8US5hY2Nlc3MoZSxuLHtlbXB0eTprLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtRLnJlbW92ZShlLFt0KyJxdWV1ZSIsbl0pfSl9KX19KSxrLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24odCxuKXt2YXIgZT0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmKG49dCx0PSJmeCIsZS0tKSxhcmd1bWVudHMubGVuZ3RoPGU/ay5xdWV1ZSh0aGlzWzBdLHQpOnZvaWQgMD09PW4/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1rLnF1ZXVlKHRoaXMsdCxuKTtrLl9xdWV1ZUhvb2tzKHRoaXMsdCksImZ4Ij09PXQmJiJpbnByb2dyZXNzIiE9PWVbMF0mJmsuZGVxdWV1ZSh0aGlzLHQpfSl9LGRlcXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2suZGVxdWV1ZSh0aGlzLGUpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVldWUoZXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTEsaT1rLkRlZmVycmVkKCksbz10aGlzLGE9dGhpcy5sZW5ndGgscz1mdW5jdGlvbigpey0tcnx8aS5yZXNvbHZlV2l0aChvLFtvXSl9OyJzdHJpbmciIT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZT1lfHwiZngiO3doaWxlKGEtLSkobj1RLmdldChvW2FdLGUrInF1ZXVlSG9va3MiKSkmJm4uZW1wdHkmJihyKyssbi5lbXB0eS5hZGQocykpO3JldHVybiBzKCksaS5wcm9taXNlKHQpfX0pO3ZhciB0ZT0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxuZT1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrdGUrIikoW2EteiVdKikkIiwiaSIpLHJlPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0saWU9RS5kb2N1bWVudEVsZW1lbnQsb2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGsuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfSxhZT17Y29tcG9zZWQ6ITB9O2llLmdldFJvb3ROb2RlJiYob2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGsuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfHxlLmdldFJvb3ROb2RlKGFlKT09PWUub3duZXJEb2N1bWVudH0pO3ZhciBzZT1mdW5jdGlvbihlLHQpe3JldHVybiJub25lIj09PShlPXR8fGUpLnN0eWxlLmRpc3BsYXl8fCIiPT09ZS5zdHlsZS5kaXNwbGF5JiZvZShlKSYmIm5vbmUiPT09ay5jc3MoZSwiZGlzcGxheSIpfSx1ZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGE9e307Zm9yKG8gaW4gdClhW29dPWUuc3R5bGVbb10sZS5zdHlsZVtvXT10W29dO2ZvcihvIGluIGk9bi5hcHBseShlLHJ8fFtdKSx0KWUuc3R5bGVbb109YVtvXTtyZXR1cm4gaX07ZnVuY3Rpb24gbGUoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBrLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChrLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihrLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmbmUuZXhlYyhrLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pay5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLGsuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgY2U9e307ZnVuY3Rpb24gZmUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109US5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmc2UocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT1jZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9ay5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSxjZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsUS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1rLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtzZSh0aGlzKT9rKHRoaXMpLnNob3coKTprKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2U9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP2subWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspUS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFEuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2Uub3B0Z3JvdXA9Z2Uub3B0aW9uLGdlLnRib2R5PWdlLnRmb290PWdlLmNvbGdyb3VwPWdlLmNhcHRpb249Z2UudGhlYWQsZ2UudGg9Z2UudGQ7dmFyIG1lLHhlLGJlPS88fCYjP1x3KzsvO2Z1bmN0aW9uIHdlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGEscyx1LGwsYyxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHA9W10sZD0wLGg9ZS5sZW5ndGg7ZDxoO2QrKylpZigobz1lW2RdKXx8MD09PW8paWYoIm9iamVjdCI9PT13KG8pKWsubWVyZ2UocCxvLm5vZGVUeXBlP1tvXTpvKTtlbHNlIGlmKGJlLnRlc3Qobykpe2E9YXx8Zi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxzPShkZS5leGVjKG8pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9Z2Vbc118fGdlLl9kZWZhdWx0LGEuaW5uZXJIVE1MPXVbMV0ray5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO2subWVyZ2UocCxhLmNoaWxkTm9kZXMpLChhPWYuZmlyc3RDaGlsZCkudGV4dENvbnRlbnQ9IiJ9ZWxzZSBwLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zi50ZXh0Q29udGVudD0iIixkPTA7d2hpbGUobz1wW2QrK10paWYociYmLTE8ay5pbkFycmF5KG8scikpaSYmaS5wdXNoKG8pO2Vsc2UgaWYobD1vZShvKSxhPXZlKGYuYXBwZW5kQ2hpbGQobyksInNjcmlwdCIpLGwmJnllKGEpLG4pe2M9MDt3aGlsZShvPWFbYysrXSloZS50ZXN0KG8udHlwZXx8IiIpJiZuLnB1c2gobyl9cmV0dXJuIGZ9bWU9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKHhlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSx4ZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIikseGUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLG1lLmFwcGVuZENoaWxkKHhlKSx5LmNoZWNrQ2xvbmU9bWUuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLG1lLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIW1lLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTt2YXIgVGU9L15rZXkvLENlPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxFZT0vXihbXi5dKikoPzpcLiguKyl8KS87ZnVuY3Rpb24ga2UoKXtyZXR1cm4hMH1mdW5jdGlvbiBTZSgpe3JldHVybiExfWZ1bmN0aW9uIE5lKGUsdCl7cmV0dXJuIGU9PT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gRS5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe319KCk9PSgiZm9jdXMiPT09dCl9ZnVuY3Rpb24gQWUoZSx0LG4scixpLG8pe3ZhciBhLHM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KXtmb3IocyBpbiJzdHJpbmciIT10eXBlb2YgbiYmKHI9cnx8bixuPXZvaWQgMCksdClBZShlLHMsbixyLHRbc10sbyk7cmV0dXJuIGV9aWYobnVsbD09ciYmbnVsbD09aT8oaT1uLHI9bj12b2lkIDApOm51bGw9PWkmJigic3RyaW5nIj09dHlwZW9mIG4/KGk9cixyPXZvaWQgMCk6KGk9cixyPW4sbj12b2lkIDApKSwhMT09PWkpaT1TZTtlbHNlIGlmKCFpKXJldHVybiBlO3JldHVybiAxPT09byYmKGE9aSwoaT1mdW5jdGlvbihlKXtyZXR1cm4gaygpLm9mZihlKSxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9YS5ndWlkfHwoYS5ndWlkPWsuZ3VpZCsrKSksZS5lYWNoKGZ1bmN0aW9uKCl7ay5ldmVudC5hZGQodGhpcyx0LGkscixuKX0pfWZ1bmN0aW9uIERlKGUsaSxvKXtvPyhRLnNldChlLGksITEpLGsuZXZlbnQuYWRkKGUsaSx7bmFtZXNwYWNlOiExLGhhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPVEuZ2V0KHRoaXMsaSk7aWYoMSZlLmlzVHJpZ2dlciYmdGhpc1tpXSl7aWYoci5sZW5ndGgpKGsuZXZlbnQuc3BlY2lhbFtpXXx8e30pLmRlbGVnYXRlVHlwZSYmZS5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKHI9cy5jYWxsKGFyZ3VtZW50cyksUS5zZXQodGhpcyxpLHIpLHQ9byh0aGlzLGkpLHRoaXNbaV0oKSxyIT09KG49US5nZXQodGhpcyxpKSl8fHQ/US5zZXQodGhpcyxpLCExKTpuPXt9LHIhPT1uKXJldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSxuLnZhbHVlfWVsc2Ugci5sZW5ndGgmJihRLnNldCh0aGlzLGkse3ZhbHVlOmsuZXZlbnQudHJpZ2dlcihrLmV4dGVuZChyWzBdLGsuRXZlbnQucHJvdG90eXBlKSxyLnNsaWNlKDEpLHRoaXMpfSksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fSkpOnZvaWQgMD09PVEuZ2V0KGUsaSkmJmsuZXZlbnQuYWRkKGUsaSxrZSl9ay5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvLGEscyx1LGwsYyxmLHAsZCxoLGcsdj1RLmdldCh0KTtpZih2KXtuLmhhbmRsZXImJihuPShvPW4pLmhhbmRsZXIsaT1vLnNlbGVjdG9yKSxpJiZrLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGllLGkpLG4uZ3VpZHx8KG4uZ3VpZD1rLmd1aWQrKyksKHU9di5ldmVudHMpfHwodT12LmV2ZW50cz17fSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGsmJmsuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP2suZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChSKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9RWUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1rLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1rLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9ay5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmay5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxrLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9US5oYXNEYXRhKGUpJiZRLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChSKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9RWUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPWsuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fGsucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KWsuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7ay5pc0VtcHR5T2JqZWN0KHUpJiZRLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1rLmV2ZW50LmZpeChlKSx1PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxsPShRLmdldCh0aGlzLCJldmVudHMiKXx8e30pW3MudHlwZV18fFtdLGM9ay5ldmVudC5zcGVjaWFsW3MudHlwZV18fHt9O2Zvcih1WzBdPXMsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspdVt0XT1hcmd1bWVudHNbdF07aWYocy5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHwhMSE9PWMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLHMpKXthPWsuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHMsbCksdD0wO3doaWxlKChpPWFbdCsrXSkmJiFzLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe3MuY3VycmVudFRhcmdldD1pLmVsZW0sbj0wO3doaWxlKChvPWkuaGFuZGxlcnNbbisrXSkmJiFzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpcy5ybmFtZXNwYWNlJiYhMSE9PW8ubmFtZXNwYWNlJiYhcy5ybmFtZXNwYWNlLnRlc3Qoby5uYW1lc3BhY2UpfHwocy5oYW5kbGVPYmo9byxzLmRhdGE9by5kYXRhLHZvaWQgMCE9PShyPSgoay5ldmVudC5zcGVjaWFsW28ub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxvLmhhbmRsZXIpLmFwcGx5KGkuZWxlbSx1KSkmJiExPT09KHMucmVzdWx0PXIpJiYocy5wcmV2ZW50RGVmYXVsdCgpLHMuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyxzKSxzLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzPVtdLHU9dC5kZWxlZ2F0ZUNvdW50LGw9ZS50YXJnZXQ7aWYodSYmbC5ub2RlVHlwZSYmISgiY2xpY2siPT09ZS50eXBlJiYxPD1lLmJ1dHRvbikpZm9yKDtsIT09dGhpcztsPWwucGFyZW50Tm9kZXx8dGhpcylpZigxPT09bC5ub2RlVHlwZSYmKCJjbGljayIhPT1lLnR5cGV8fCEwIT09bC5kaXNhYmxlZCkpe2ZvcihvPVtdLGE9e30sbj0wO248dTtuKyspdm9pZCAwPT09YVtpPShyPXRbbl0pLnNlbGVjdG9yKyIgIl0mJihhW2ldPXIubmVlZHNDb250ZXh0Py0xPGsoaSx0aGlzKS5pbmRleChsKTprLmZpbmQoaSx0aGlzLG51bGwsW2xdKS5sZW5ndGgpLGFbaV0mJm8ucHVzaChyKTtvLmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6b30pfXJldHVybiBsPXRoaXMsdTx0Lmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6dC5zbGljZSh1KX0pLHN9LGFkZFByb3A6ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5FdmVudC5wcm90b3R5cGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0Om0oZSk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGUodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFt0XX0sc2V0OmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX19KX0sZml4OmZ1bmN0aW9uKGUpe3JldHVybiBlW2suZXhwYW5kb10/ZTpuZXcgay5FdmVudChlKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGNsaWNrOntzZXR1cDpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmRGUodCwiY2xpY2siLGtlKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmRGUodCwiY2xpY2siKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZRLmdldCh0LCJjbGljayIpfHxBKHQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiZlLm9yaWdpbmFsRXZlbnQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19fSxrLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pfSxrLkV2ZW50PWZ1bmN0aW9uKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2Ygay5FdmVudCkpcmV0dXJuIG5ldyBrLkV2ZW50KGUsdCk7ZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09ZS5kZWZhdWx0UHJldmVudGVkJiYhMT09PWUucmV0dXJuVmFsdWU/a2U6U2UsdGhpcy50YXJnZXQ9ZS50YXJnZXQmJjM9PT1lLnRhcmdldC5ub2RlVHlwZT9lLnRhcmdldC5wYXJlbnROb2RlOmUudGFyZ2V0LHRoaXMuY3VycmVudFRhcmdldD1lLmN1cnJlbnRUYXJnZXQsdGhpcy5yZWxhdGVkVGFyZ2V0PWUucmVsYXRlZFRhcmdldCk6dGhpcy50eXBlPWUsdCYmay5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8RGF0ZS5ub3coKSx0aGlzW2suZXhwYW5kb109ITB9LGsuRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjprLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDpTZSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpTZSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpTZSxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1rZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1rZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9a2UsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LGsuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCwiY2hhciI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihlKXt2YXIgdD1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmVGUudGVzdChlLnR5cGUpP251bGwhPWUuY2hhckNvZGU/ZS5jaGFyQ29kZTplLmtleUNvZGU6IWUud2hpY2gmJnZvaWQgMCE9PXQmJkNlLnRlc3QoZS50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOmUud2hpY2h9fSxrLmV2ZW50LmFkZFByb3ApLGsuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtrLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIERlKHRoaXMsZSxOZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gRGUodGhpcyxlKSwhMH0sZGVsZWdhdGVUeXBlOnR9fSksay5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe2suZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxrLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxrLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEFlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gQWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosayhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49U2UpLHRoaXMuZWFjaChmdW5jdGlvbigpe2suZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGplPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKVtePl0qKVwvPi9naSxxZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxMZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxIZT0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2c7ZnVuY3Rpb24gT2UoZSx0KXtyZXR1cm4gQShlLCJ0YWJsZSIpJiZBKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmayhlKS5jaGlsZHJlbigidGJvZHkiKVswXXx8ZX1mdW5jdGlvbiBQZShlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIFJlKGUpe3JldHVybiJ0cnVlLyI9PT0oZS50eXBlfHwiIikuc2xpY2UoMCw1KT9lLnR5cGU9ZS50eXBlLnNsaWNlKDUpOmUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZX1mdW5jdGlvbiBNZShlLHQpe3ZhciBuLHIsaSxvLGEscyx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKFEuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1RLnNldCh0LG8pLGw9by5ldmVudHMpKWZvcihpIGluIGRlbGV0ZSBhLmhhbmRsZSxhLmV2ZW50cz17fSxsKWZvcihuPTAscj1sW2ldLmxlbmd0aDtuPHI7bisrKWsuZXZlbnQuYWRkKHQsaSxsW2ldW25dKTtKLmhhc0RhdGEoZSkmJihzPUouYWNjZXNzKGUpLHU9ay5leHRlbmQoe30scyksSi5zZXQodCx1KSl9fWZ1bmN0aW9uIEllKG4scixpLG8pe3I9Zy5hcHBseShbXSxyKTt2YXIgZSx0LGEscyx1LGwsYz0wLGY9bi5sZW5ndGgscD1mLTEsZD1yWzBdLGg9bShkKTtpZihofHwxPGYmJiJzdHJpbmciPT10eXBlb2YgZCYmIXkuY2hlY2tDbG9uZSYmTGUudGVzdChkKSlyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW4uZXEoZSk7aCYmKHJbMF09ZC5jYWxsKHRoaXMsZSx0Lmh0bWwoKSkpLEllKHQscixpLG8pfSk7aWYoZiYmKHQ9KGU9d2UocixuWzBdLm93bmVyRG9jdW1lbnQsITEsbixvKSkuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9dCksdHx8bykpe2ZvcihzPShhPWsubWFwKHZlKGUsInNjcmlwdCIpLFBlKSkubGVuZ3RoO2M8ZjtjKyspdT1lLGMhPT1wJiYodT1rLmNsb25lKHUsITAsITApLHMmJmsubWVyZ2UoYSx2ZSh1LCJzY3JpcHQiKSkpLGkuY2FsbChuW2NdLHUsYyk7aWYocylmb3IobD1hW2EubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsay5tYXAoYSxSZSksYz0wO2M8cztjKyspdT1hW2NdLGhlLnRlc3QodS50eXBlfHwiIikmJiFRLmFjY2Vzcyh1LCJnbG9iYWxFdmFsIikmJmsuY29udGFpbnMobCx1KSYmKHUuc3JjJiYibW9kdWxlIiE9PSh1LnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP2suX2V2YWxVcmwmJiF1Lm5vTW9kdWxlJiZrLl9ldmFsVXJsKHUuc3JjLHtub25jZTp1Lm5vbmNlfHx1LmdldEF0dHJpYnV0ZSgibm9uY2UiKX0pOmIodS50ZXh0Q29udGVudC5yZXBsYWNlKEhlLCIiKSx1LGwpKX1yZXR1cm4gbn1mdW5jdGlvbiBXZShlLHQsbil7Zm9yKHZhciByLGk9dD9rLmZpbHRlcih0LGUpOmUsbz0wO251bGwhPShyPWlbb10pO28rKylufHwxIT09ci5ub2RlVHlwZXx8ay5jbGVhbkRhdGEodmUocikpLHIucGFyZW50Tm9kZSYmKG4mJm9lKHIpJiZ5ZSh2ZShyLCJzY3JpcHQiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX1rLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKGplLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsLGM9ZS5jbG9uZU5vZGUoITApLGY9b2UoZSk7aWYoISh5Lm5vQ2xvbmVDaGVja2VkfHwxIT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlfHxrLmlzWE1MRG9jKGUpKSlmb3IoYT12ZShjKSxyPTAsaT0obz12ZShlKSkubGVuZ3RoO3I8aTtyKyspcz1vW3JdLHU9YVtyXSx2b2lkIDAsImlucHV0Ij09PShsPXUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkmJnBlLnRlc3Qocy50eXBlKT91LmNoZWNrZWQ9cy5jaGVja2VkOiJpbnB1dCIhPT1sJiYidGV4dGFyZWEiIT09bHx8KHUuZGVmYXVsdFZhbHVlPXMuZGVmYXVsdFZhbHVlKTtpZih0KWlmKG4pZm9yKG89b3x8dmUoZSksYT1hfHx2ZShjKSxyPTAsaT1vLmxlbmd0aDtyPGk7cisrKU1lKG9bcl0sYVtyXSk7ZWxzZSBNZShlLGMpO3JldHVybiAwPChhPXZlKGMsInNjcmlwdCIpKS5sZW5ndGgmJnllKGEsIWYmJnZlKGUsInNjcmlwdCIpKSxjfSxjbGVhbkRhdGE6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpPWsuZXZlbnQuc3BlY2lhbCxvPTA7dm9pZCAwIT09KG49ZVtvXSk7bysrKWlmKEcobikpe2lmKHQ9bltRLmV4cGFuZG9dKXtpZih0LmV2ZW50cylmb3IociBpbiB0LmV2ZW50cylpW3JdP2suZXZlbnQucmVtb3ZlKG4scik6ay5yZW1vdmVFdmVudChuLHIsdC5oYW5kbGUpO25bUS5leHBhbmRvXT12b2lkIDB9bltKLmV4cGFuZG9dJiYobltKLmV4cGFuZG9dPXZvaWQgMCl9fX0pLGsuZm4uZXh0ZW5kKHtkZXRhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFdlKHRoaXMsZSwhMCl9LHJlbW92ZTpmdW5jdGlvbihlKXtyZXR1cm4gV2UodGhpcyxlKX0sdGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gXyh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP2sudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHwodGhpcy50ZXh0Q29udGVudD1lKX0pfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiBJZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8T2UodGhpcyxlKS5hcHBlbmRDaGlsZChlKX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEllKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdD1PZSh0aGlzLGUpO3QuaW5zZXJ0QmVmb3JlKGUsdC5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIEllKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIEllKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMubmV4dFNpYmxpbmcpfSl9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MDtudWxsIT0oZT10aGlzW3RdKTt0KyspMT09PWUubm9kZVR5cGUmJihrLmNsZWFuRGF0YSh2ZShlLCExKSksZS50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbCE9ZSYmZSx0PW51bGw9PXQ/ZTp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGsuY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIF8odGhpcyxmdW5jdGlvbihlKXt2YXIgdD10aGlzWzBdfHx7fSxuPTAscj10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1lJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYhcWUudGVzdChlKSYmIWdlWyhkZS5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1rLmh0bWxQcmVmaWx0ZXIoZSk7dHJ5e2Zvcig7bjxyO24rKykxPT09KHQ9dGhpc1tuXXx8e30pLm5vZGVUeXBlJiYoay5jbGVhbkRhdGEodmUodCwhMSkpLHQuaW5uZXJIVE1MPWUpO3Q9MH1jYXRjaChlKXt9fXQmJnRoaXMuZW1wdHkoKS5hcHBlbmQoZSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gSWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wYXJlbnROb2RlO2suaW5BcnJheSh0aGlzLG4pPDAmJihrLmNsZWFuRGF0YSh2ZSh0aGlzKSksdCYmdC5yZXBsYWNlQ2hpbGQoZSx0aGlzKSl9LG4pfX0pLGsuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGUsYSl7ay5mbltlXT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1bXSxyPWsoZSksaT1yLmxlbmd0aC0xLG89MDtvPD1pO28rKyl0PW89PT1pP3RoaXM6dGhpcy5jbG9uZSghMCksayhyW29dKVthXSh0KSx1LmFwcGx5KG4sdC5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4pfX0pO3ZhciAkZT1uZXcgUmVnRXhwKCJeKCIrdGUrIikoPyFweClbYS16JV0rJCIsImkiKSxGZT1mdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIHQmJnQub3BlbmVyfHwodD1DKSx0LmdldENvbXB1dGVkU3R5bGUoZSl9LEJlPW5ldyBSZWdFeHAocmUuam9pbigifCIpLCJpIik7ZnVuY3Rpb24gX2UoZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5zdHlsZTtyZXR1cm4obj1ufHxGZShlKSkmJigiIiE9PShhPW4uZ2V0UHJvcGVydHlWYWx1ZSh0KXx8blt0XSl8fG9lKGUpfHwoYT1rLnN0eWxlKGUsdCkpLCF5LnBpeGVsQm94U3R5bGVzKCkmJiRlLnRlc3QoYSkmJkJlLnRlc3QodCkmJihyPXMud2lkdGgsaT1zLm1pbldpZHRoLG89cy5tYXhXaWR0aCxzLm1pbldpZHRoPXMubWF4V2lkdGg9cy53aWR0aD1hLGE9bi53aWR0aCxzLndpZHRoPXIscy5taW5XaWR0aD1pLHMubWF4V2lkdGg9bykpLHZvaWQgMCE9PWE/YSsiIjphfWZ1bmN0aW9uIHplKGUsdCl7cmV0dXJue2dldDpmdW5jdGlvbigpe2lmKCFlKCkpcmV0dXJuKHRoaXMuZ2V0PXQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkZWxldGUgdGhpcy5nZXR9fX0hZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aWYodSl7cy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7bWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIix1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSUiLGllLmFwcGVuZENoaWxkKHMpLmFwcGVuZENoaWxkKHUpO3ZhciBlPUMuZ2V0Q29tcHV0ZWRTdHlsZSh1KTtuPSIxJSIhPT1lLnRvcCxhPTEyPT09dChlLm1hcmdpbkxlZnQpLHUuc3R5bGUucmlnaHQ9IjYwJSIsbz0zNj09PXQoZS5yaWdodCkscj0zNj09PXQoZS53aWR0aCksdS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGk9MTI9PT10KHUub2Zmc2V0V2lkdGgvMyksaWUucmVtb3ZlQ2hpbGQocyksdT1udWxsfX1mdW5jdGlvbiB0KGUpe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZSkpfXZhciBuLHIsaSxvLGEscz1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKTt1LnN0eWxlJiYodS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLHUuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIix5LmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09dS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxrLmV4dGVuZCh5LHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBlKCkscn0scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG99LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG59LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBlKCksYX0sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiBlKCksaX19KSl9KCk7dmFyIFVlPVsiV2Via2l0IiwiTW96IiwibXMiXSxYZT1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLFZlPXt9O2Z1bmN0aW9uIEdlKGUpe3ZhciB0PWsuY3NzUHJvcHNbZV18fFZlW2VdO3JldHVybiB0fHwoZSBpbiBYZT9lOlZlW2VdPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLG49VWUubGVuZ3RoO3doaWxlKG4tLSlpZigoZT1VZVtuXSt0KWluIFhlKXJldHVybiBlfShlKXx8ZSl9dmFyIFllPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxRZT0vXi0tLyxKZT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sS2U9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2Z1bmN0aW9uIFplKGUsdCxuKXt2YXIgcj1uZS5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsyXS0obnx8MCkpKyhyWzNdfHwicHgiKTp0fWZ1bmN0aW9uIGV0KGUsdCxuLHIsaSxvKXt2YXIgYT0id2lkdGgiPT09dD8xOjAscz0wLHU9MDtpZihuPT09KHI/ImJvcmRlciI6ImNvbnRlbnQiKSlyZXR1cm4gMDtmb3IoO2E8NDthKz0yKSJtYXJnaW4iPT09biYmKHUrPWsuY3NzKGUsbityZVthXSwhMCxpKSkscj8oImNvbnRlbnQiPT09biYmKHUtPWsuY3NzKGUsInBhZGRpbmciK3JlW2FdLCEwLGkpKSwibWFyZ2luIiE9PW4mJih1LT1rLmNzcyhlLCJib3JkZXIiK3JlW2FdKyJXaWR0aCIsITAsaSkpKToodSs9ay5jc3MoZSwicGFkZGluZyIrcmVbYV0sITAsaSksInBhZGRpbmciIT09bj91Kz1rLmNzcyhlLCJib3JkZXIiK3JlW2FdKyJXaWR0aCIsITAsaSk6cys9ay5jc3MoZSwiYm9yZGVyIityZVthXSsiV2lkdGgiLCEwLGkpKTtyZXR1cm4hciYmMDw9byYmKHUrPU1hdGgubWF4KDAsTWF0aC5jZWlsKGVbIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLW8tdS1zLS41KSl8fDApLHV9ZnVuY3Rpb24gdHQoZSx0LG4pe3ZhciByPUZlKGUpLGk9KCF5LmJveFNpemluZ1JlbGlhYmxlKCl8fG4pJiYiYm9yZGVyLWJveCI9PT1rLmNzcyhlLCJib3hTaXppbmciLCExLHIpLG89aSxhPV9lKGUsdCxyKSxzPSJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2lmKCRlLnRlc3QoYSkpe2lmKCFuKXJldHVybiBhO2E9ImF1dG8ifXJldHVybigheS5ib3hTaXppbmdSZWxpYWJsZSgpJiZpfHwiYXV0byI9PT1hfHwhcGFyc2VGbG9hdChhKSYmImlubGluZSI9PT1rLmNzcyhlLCJkaXNwbGF5IiwhMSxyKSkmJmUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihpPSJib3JkZXItYm94Ij09PWsuY3NzKGUsImJveFNpemluZyIsITEsciksKG89cyBpbiBlKSYmKGE9ZVtzXSkpLChhPXBhcnNlRmxvYXQoYSl8fDApK2V0KGUsdCxufHwoaT8iYm9yZGVyIjoiY29udGVudCIpLG8scixhKSsicHgifWZ1bmN0aW9uIG50KGUsdCxuLHIsaSl7cmV0dXJuIG5ldyBudC5wcm90b3R5cGUuaW5pdChlLHQsbixyLGkpfWsuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49X2UoZSwib3BhY2l0eSIpO3JldHVybiIiPT09bj8iMSI6bn19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsZ3JpZEFyZWE6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TdGFydDohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1N0YXJ0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLGEscz1WKHQpLHU9UWUudGVzdCh0KSxsPWUuc3R5bGU7aWYodXx8KHQ9R2UocykpLGE9ay5jc3NIb29rc1t0XXx8ay5jc3NIb29rc1tzXSx2b2lkIDA9PT1uKXJldHVybiBhJiYiZ2V0ImluIGEmJnZvaWQgMCE9PShpPWEuZ2V0KGUsITEscikpP2k6bFt0XTsic3RyaW5nIj09PShvPXR5cGVvZiBuKSYmKGk9bmUuZXhlYyhuKSkmJmlbMV0mJihuPWxlKGUsdCxpKSxvPSJudW1iZXIiKSxudWxsIT1uJiZuPT1uJiYoIm51bWJlciIhPT1vfHx1fHwobis9aSYmaVszXXx8KGsuY3NzTnVtYmVyW3NdPyIiOiJweCIpKSx5LmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1ufHwwIT09dC5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChsW3RdPSJpbmhlcml0IiksYSYmInNldCJpbiBhJiZ2b2lkIDA9PT0obj1hLnNldChlLG4scikpfHwodT9sLnNldFByb3BlcnR5KHQsbik6bFt0XT1uKSl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHM9Vih0KTtyZXR1cm4gUWUudGVzdCh0KXx8KHQ9R2UocykpLChhPWsuY3NzSG9va3NbdF18fGsuY3NzSG9va3Nbc10pJiYiZ2V0ImluIGEmJihpPWEuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPV9lKGUsdCxyKSksIm5vcm1hbCI9PT1pJiZ0IGluIEtlJiYoaT1LZVt0XSksIiI9PT1ufHxuPyhvPXBhcnNlRmxvYXQoaSksITA9PT1ufHxpc0Zpbml0ZShvKT9vfHwwOmkpOml9fSksay5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihlLHUpe2suY3NzSG9va3NbdV09e2dldDpmdW5jdGlvbihlLHQsbil7aWYodClyZXR1cm4hWWUudGVzdChrLmNzcyhlLCJkaXNwbGF5IikpfHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP3R0KGUsdSxuKTp1ZShlLEplLGZ1bmN0aW9uKCl7cmV0dXJuIHR0KGUsdSxuKX0pfSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9RmUoZSksbz0heS5zY3JvbGxib3hTaXplKCkmJiJhYnNvbHV0ZSI9PT1pLnBvc2l0aW9uLGE9KG98fG4pJiYiYm9yZGVyLWJveCI9PT1rLmNzcyhlLCJib3hTaXppbmciLCExLGkpLHM9bj9ldChlLHUsbixhLGkpOjA7cmV0dXJuIGEmJm8mJihzLT1NYXRoLmNlaWwoZVsib2Zmc2V0Iit1WzBdLnRvVXBwZXJDYXNlKCkrdS5zbGljZSgxKV0tcGFyc2VGbG9hdChpW3VdKS1ldChlLHUsImJvcmRlciIsITEsaSktLjUpKSxzJiYocj1uZS5leGVjKHQpKSYmInB4IiE9PShyWzNdfHwicHgiKSYmKGUuc3R5bGVbdV09dCx0PWsuY3NzKGUsdSkpLFplKDAsdCxzKX19fSksay5jc3NIb29rcy5tYXJnaW5MZWZ0PXplKHkucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4ocGFyc2VGbG9hdChfZShlLCJtYXJnaW5MZWZ0IikpfHxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtdWUoZSx7bWFyZ2luTGVmdDowfSxmdW5jdGlvbigpe3JldHVybiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnR9KSkrInB4In0pLGsuZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGksbyl7ay5jc3NIb29rc1tpK29dPXtleHBhbmQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj17fSxyPSJzdHJpbmciPT10eXBlb2YgZT9lLnNwbGl0KCIgIik6W2VdO3Q8NDt0KyspbltpK3JlW3RdK29dPXJbdF18fHJbdC0yXXx8clswXTtyZXR1cm4gbn19LCJtYXJnaW4iIT09aSYmKGsuY3NzSG9va3NbaStvXS5zZXQ9WmUpfSksay5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihlLHQpe3JldHVybiBfKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fSxhPTA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHI9RmUoZSksaT10Lmxlbmd0aDthPGk7YSsrKW9bdFthXV09ay5jc3MoZSx0W2FdLCExLHIpO3JldHVybiBvfXJldHVybiB2b2lkIDAhPT1uP2suc3R5bGUoZSx0LG4pOmsuY3NzKGUsdCl9LGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfX0pLCgoay5Ud2Vlbj1udCkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpudCxpbml0OmZ1bmN0aW9uKGUsdCxuLHIsaSxvKXt0aGlzLmVsZW09ZSx0aGlzLnByb3A9bix0aGlzLmVhc2luZz1pfHxrLmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9b3x8KGsuY3NzTnVtYmVyW25dPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgZT1udC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gZSYmZS5nZXQ/ZS5nZXQodGhpcyk6bnQucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGUpe3ZhciB0LG49bnQucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz10PWsuZWFzaW5nW3RoaXMuZWFzaW5nXShlLHRoaXMub3B0aW9ucy5kdXJhdGlvbiplLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPXQ9ZSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqdCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxuJiZuLnNldD9uLnNldCh0aGlzKTpudC5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSkuaW5pdC5wcm90b3R5cGU9bnQucHJvdG90eXBlLChudC5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIDEhPT1lLmVsZW0ubm9kZVR5cGV8fG51bGwhPWUuZWxlbVtlLnByb3BdJiZudWxsPT1lLmVsZW0uc3R5bGVbZS5wcm9wXT9lLmVsZW1bZS5wcm9wXToodD1rLmNzcyhlLmVsZW0sZS5wcm9wLCIiKSkmJiJhdXRvIiE9PXQ/dDowfSxzZXQ6ZnVuY3Rpb24oZSl7ay5meC5zdGVwW2UucHJvcF0/ay5meC5zdGVwW2UucHJvcF0oZSk6MSE9PWUuZWxlbS5ub2RlVHlwZXx8IWsuY3NzSG9va3NbZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW0dlKGUucHJvcCldP2UuZWxlbVtlLnByb3BdPWUubm93Omsuc3R5bGUoZS5lbGVtLGUucHJvcCxlLm5vdytlLnVuaXQpfX19KS5zY3JvbGxUb3A9bnQucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihlKXtlLmVsZW0ubm9kZVR5cGUmJmUuZWxlbS5wYXJlbnROb2RlJiYoZS5lbGVtW2UucHJvcF09ZS5ub3cpfX0say5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc3dpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuLjUtTWF0aC5jb3MoZSpNYXRoLlBJKS8yfSxfZGVmYXVsdDoic3dpbmcifSxrLmZ4PW50LnByb3RvdHlwZS5pbml0LGsuZnguc3RlcD17fTt2YXIgcnQsaXQsb3QsYXQsc3Q9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLHV0PS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gbHQoKXtpdCYmKCExPT09RS5oaWRkZW4mJkMucmVxdWVzdEFuaW1hdGlvbkZyYW1lP0MucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGx0KTpDLnNldFRpbWVvdXQobHQsay5meC5pbnRlcnZhbCksay5meC50aWNrKCkpfWZ1bmN0aW9uIGN0KCl7cmV0dXJuIEMuc2V0VGltZW91dChmdW5jdGlvbigpe3J0PXZvaWQgMH0pLHJ0PURhdGUubm93KCl9ZnVuY3Rpb24gZnQoZSx0KXt2YXIgbixyPTAsaT17aGVpZ2h0OmV9O2Zvcih0PXQ/MTowO3I8NDtyKz0yLXQpaVsibWFyZ2luIisobj1yZVtyXSldPWlbInBhZGRpbmciK25dPWU7cmV0dXJuIHQmJihpLm9wYWNpdHk9aS53aWR0aD1lKSxpfWZ1bmN0aW9uIHB0KGUsdCxuKXtmb3IodmFyIHIsaT0oZHQudHdlZW5lcnNbdF18fFtdKS5jb25jYXQoZHQudHdlZW5lcnNbIioiXSksbz0wLGE9aS5sZW5ndGg7bzxhO28rKylpZihyPWlbb10uY2FsbChuLHQsZSkpcmV0dXJuIHJ9ZnVuY3Rpb24gZHQobyxlLHQpe3ZhciBuLGEscj0wLGk9ZHQucHJlZmlsdGVycy5sZW5ndGgscz1rLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIHUuZWxlbX0pLHU9ZnVuY3Rpb24oKXtpZihhKXJldHVybiExO2Zvcih2YXIgZT1ydHx8Y3QoKSx0PU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi1lKSxuPTEtKHQvbC5kdXJhdGlvbnx8MCkscj0wLGk9bC50d2VlbnMubGVuZ3RoO3I8aTtyKyspbC50d2VlbnNbcl0ucnVuKG4pO3JldHVybiBzLm5vdGlmeVdpdGgobyxbbCxuLHRdKSxuPDEmJmk/dDooaXx8cy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsXSksITEpfSxsPXMucHJvbWlzZSh7ZWxlbTpvLHByb3BzOmsuZXh0ZW5kKHt9LGUpLG9wdHM6ay5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmsuZWFzaW5nLl9kZWZhdWx0fSx0KSxvcmlnaW5hbFByb3BlcnRpZXM6ZSxvcmlnaW5hbE9wdGlvbnM6dCxzdGFydFRpbWU6cnR8fGN0KCksZHVyYXRpb246dC5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oZSx0KXt2YXIgbj1rLlR3ZWVuKG8sbC5vcHRzLGUsdCxsLm9wdHMuc3BlY2lhbEVhc2luZ1tlXXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2gobiksbn0sc3RvcDpmdW5jdGlvbihlKXt2YXIgdD0wLG49ZT9sLnR3ZWVucy5sZW5ndGg6MDtpZihhKXJldHVybiB0aGlzO2ZvcihhPSEwO3Q8bjt0KyspbC50d2VlbnNbdF0ucnVuKDEpO3JldHVybiBlPyhzLm5vdGlmeVdpdGgobyxbbCwxLDBdKSxzLnJlc29sdmVXaXRoKG8sW2wsZV0pKTpzLnJlamVjdFdpdGgobyxbbCxlXSksdGhpc319KSxjPWwucHJvcHM7Zm9yKCFmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE7Zm9yKG4gaW4gZSlpZihpPXRbcj1WKG4pXSxvPWVbbl0sQXJyYXkuaXNBcnJheShvKSYmKGk9b1sxXSxvPWVbbl09b1swXSksbiE9PXImJihlW3JdPW8sZGVsZXRlIGVbbl0pLChhPWsuY3NzSG9va3Nbcl0pJiYiZXhwYW5kImluIGEpZm9yKG4gaW4gbz1hLmV4cGFuZChvKSxkZWxldGUgZVtyXSxvKW4gaW4gZXx8KGVbbl09b1tuXSx0W25dPWkpO2Vsc2UgdFtyXT1pfShjLGwub3B0cy5zcGVjaWFsRWFzaW5nKTtyPGk7cisrKWlmKG49ZHQucHJlZmlsdGVyc1tyXS5jYWxsKGwsbyxjLGwub3B0cykpcmV0dXJuIG0obi5zdG9wKSYmKGsuX3F1ZXVlSG9va3MobC5lbGVtLGwub3B0cy5xdWV1ZSkuc3RvcD1uLnN0b3AuYmluZChuKSksbjtyZXR1cm4gay5tYXAoYyxwdCxsKSxtKGwub3B0cy5zdGFydCkmJmwub3B0cy5zdGFydC5jYWxsKG8sbCksbC5wcm9ncmVzcyhsLm9wdHMucHJvZ3Jlc3MpLmRvbmUobC5vcHRzLmRvbmUsbC5vcHRzLmNvbXBsZXRlKS5mYWlsKGwub3B0cy5mYWlsKS5hbHdheXMobC5vcHRzLmFsd2F5cyksay5meC50aW1lcihrLmV4dGVuZCh1LHtlbGVtOm8sYW5pbTpsLHF1ZXVlOmwub3B0cy5xdWV1ZX0pKSxsfWsuQW5pbWF0aW9uPWsuZXh0ZW5kKGR0LHt0d2VlbmVyczp7IioiOltmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlYXRlVHdlZW4oZSx0KTtyZXR1cm4gbGUobi5lbGVtLGUsbmUuZXhlYyh0KSxuKSxufV19LHR3ZWVuZXI6ZnVuY3Rpb24oZSx0KXttKGUpPyh0PWUsZT1bIioiXSk6ZT1lLm1hdGNoKFIpO2Zvcih2YXIgbixyPTAsaT1lLmxlbmd0aDtyPGk7cisrKW49ZVtyXSxkdC50d2VlbmVyc1tuXT1kdC50d2VlbmVyc1tuXXx8W10sZHQudHdlZW5lcnNbbl0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsLGMsZj0id2lkdGgiaW4gdHx8ImhlaWdodCJpbiB0LHA9dGhpcyxkPXt9LGg9ZS5zdHlsZSxnPWUubm9kZVR5cGUmJnNlKGUpLHY9US5nZXQoZSwiZnhzaG93Iik7Zm9yKHIgaW4gbi5xdWV1ZXx8KG51bGw9PShhPWsuX3F1ZXVlSG9va3MoZSwiZngiKSkudW5xdWV1ZWQmJihhLnVucXVldWVkPTAscz1hLmVtcHR5LmZpcmUsYS5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7YS51bnF1ZXVlZHx8cygpfSksYS51bnF1ZXVlZCsrLHAuYWx3YXlzKGZ1bmN0aW9uKCl7cC5hbHdheXMoZnVuY3Rpb24oKXthLnVucXVldWVkLS0say5xdWV1ZShlLCJmeCIpLmxlbmd0aHx8YS5lbXB0eS5maXJlKCl9KX0pKSx0KWlmKGk9dFtyXSxzdC50ZXN0KGkpKXtpZihkZWxldGUgdFtyXSxvPW98fCJ0b2dnbGUiPT09aSxpPT09KGc/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PWl8fCF2fHx2b2lkIDA9PT12W3JdKWNvbnRpbnVlO2c9ITB9ZFtyXT12JiZ2W3JdfHxrLnN0eWxlKGUscil9aWYoKHU9IWsuaXNFbXB0eU9iamVjdCh0KSl8fCFrLmlzRW1wdHlPYmplY3QoZCkpZm9yKHIgaW4gZiYmMT09PWUubm9kZVR5cGUmJihuLm92ZXJmbG93PVtoLm92ZXJmbG93LGgub3ZlcmZsb3dYLGgub3ZlcmZsb3dZXSxudWxsPT0obD12JiZ2LmRpc3BsYXkpJiYobD1RLmdldChlLCJkaXNwbGF5IikpLCJub25lIj09PShjPWsuY3NzKGUsImRpc3BsYXkiKSkmJihsP2M9bDooZmUoW2VdLCEwKSxsPWUuc3R5bGUuZGlzcGxheXx8bCxjPWsuY3NzKGUsImRpc3BsYXkiKSxmZShbZV0pKSksKCJpbmxpbmUiPT09Y3x8ImlubGluZS1ibG9jayI9PT1jJiZudWxsIT1sKSYmIm5vbmUiPT09ay5jc3MoZSwiZmxvYXQiKSYmKHV8fChwLmRvbmUoZnVuY3Rpb24oKXtoLmRpc3BsYXk9bH0pLG51bGw9PWwmJihjPWguZGlzcGxheSxsPSJub25lIj09PWM/IiI6YykpLGguZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLG4ub3ZlcmZsb3cmJihoLm92ZXJmbG93PSJoaWRkZW4iLHAuYWx3YXlzKGZ1bmN0aW9uKCl7aC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLGgub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0saC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKSx1PSExLGQpdXx8KHY/ImhpZGRlbiJpbiB2JiYoZz12LmhpZGRlbik6dj1RLmFjY2VzcyhlLCJmeHNob3ciLHtkaXNwbGF5Omx9KSxvJiYodi5oaWRkZW49IWcpLGcmJmZlKFtlXSwhMCkscC5kb25lKGZ1bmN0aW9uKCl7Zm9yKHIgaW4gZ3x8ZmUoW2VdKSxRLnJlbW92ZShlLCJmeHNob3ciKSxkKWsuc3R5bGUoZSxyLGRbcl0pfSkpLHU9cHQoZz92W3JdOjAscixwKSxyIGluIHZ8fCh2W3JdPXUuc3RhcnQsZyYmKHUuZW5kPXUuc3RhcnQsdS5zdGFydD0wKSl9XSxwcmVmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt0P2R0LnByZWZpbHRlcnMudW5zaGlmdChlKTpkdC5wcmVmaWx0ZXJzLnB1c2goZSl9fSksay5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZSYmIm9iamVjdCI9PXR5cGVvZiBlP2suZXh0ZW5kKHt9LGUpOntjb21wbGV0ZTpufHwhbiYmdHx8bShlKSYmZSxkdXJhdGlvbjplLGVhc2luZzpuJiZ0fHx0JiYhbSh0KSYmdH07cmV0dXJuIGsuZngub2ZmP3IuZHVyYXRpb249MDoibnVtYmVyIiE9dHlwZW9mIHIuZHVyYXRpb24mJihyLmR1cmF0aW9uIGluIGsuZnguc3BlZWRzP3IuZHVyYXRpb249ay5meC5zcGVlZHNbci5kdXJhdGlvbl06ci5kdXJhdGlvbj1rLmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9ci5xdWV1ZSYmITAhPT1yLnF1ZXVlfHwoci5xdWV1ZT0iZngiKSxyLm9sZD1yLmNvbXBsZXRlLHIuY29tcGxldGU9ZnVuY3Rpb24oKXttKHIub2xkKSYmci5vbGQuY2FsbCh0aGlzKSxyLnF1ZXVlJiZrLmRlcXVldWUodGhpcyxyLnF1ZXVlKX0scn0say5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5maWx0ZXIoc2UpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sZSxuLHIpfSxhbmltYXRlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWsuaXNFbXB0eU9iamVjdCh0KSxvPWsuc3BlZWQoZSxuLHIpLGE9ZnVuY3Rpb24oKXt2YXIgZT1kdCh0aGlzLGsuZXh0ZW5kKHt9LHQpLG8pOyhpfHxRLmdldCh0aGlzLCJmaW5pc2giKSkmJmUuc3RvcCghMCl9O3JldHVybiBhLmZpbmlzaD1hLGl8fCExPT09by5xdWV1ZT90aGlzLmVhY2goYSk6dGhpcy5xdWV1ZShvLnF1ZXVlLGEpfSxzdG9wOmZ1bmN0aW9uKGksZSxvKXt2YXIgYT1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG8pfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGkmJihvPWUsZT1pLGk9dm9pZCAwKSxlJiYhMSE9PWkmJnRoaXMucXVldWUoaXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9ITAsdD1udWxsIT1pJiZpKyJxdWV1ZUhvb2tzIixuPWsudGltZXJzLHI9US5nZXQodGhpcyk7aWYodClyW3RdJiZyW3RdLnN0b3AmJmEoclt0XSk7ZWxzZSBmb3IodCBpbiByKXJbdF0mJnJbdF0uc3RvcCYmdXQudGVzdCh0KSYmYShyW3RdKTtmb3IodD1uLmxlbmd0aDt0LS07KW5bdF0uZWxlbSE9PXRoaXN8fG51bGwhPWkmJm5bdF0ucXVldWUhPT1pfHwoblt0XS5hbmltLnN0b3AobyksZT0hMSxuLnNwbGljZSh0LDEpKTshZSYmb3x8ay5kZXF1ZXVlKHRoaXMsaSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiExIT09YSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdD1RLmdldCh0aGlzKSxuPXRbYSsicXVldWUiXSxyPXRbYSsicXVldWVIb29rcyJdLGk9ay50aW1lcnMsbz1uP24ubGVuZ3RoOjA7Zm9yKHQuZmluaXNoPSEwLGsucXVldWUodGhpcyxhLFtdKSxyJiZyLnN0b3AmJnIuc3RvcC5jYWxsKHRoaXMsITApLGU9aS5sZW5ndGg7ZS0tOylpW2VdLmVsZW09PT10aGlzJiZpW2VdLnF1ZXVlPT09YSYmKGlbZV0uYW5pbS5zdG9wKCEwKSxpLnNwbGljZShlLDEpKTtmb3IoZT0wO2U8bztlKyspbltlXSYmbltlXS5maW5pc2gmJm5bZV0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIHQuZmluaXNofSl9fSksay5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihlLHIpe3ZhciBpPWsuZm5bcl07ay5mbltyXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGZ0KHIsITApLGUsdCxuKX19KSxrLmVhY2goe3NsaWRlRG93bjpmdCgic2hvdyIpLHNsaWRlVXA6ZnQoImhpZGUiKSxzbGlkZVRvZ2dsZTpmdCgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihlLHIpe2suZm5bZV09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmFuaW1hdGUocixlLHQsbil9fSksay50aW1lcnM9W10say5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD0wLG49ay50aW1lcnM7Zm9yKHJ0PURhdGUubm93KCk7dDxuLmxlbmd0aDt0KyspKGU9blt0XSkoKXx8blt0XSE9PWV8fG4uc3BsaWNlKHQtLSwxKTtuLmxlbmd0aHx8ay5meC5zdG9wKCkscnQ9dm9pZCAwfSxrLmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe2sudGltZXJzLnB1c2goZSksay5meC5zdGFydCgpfSxrLmZ4LmludGVydmFsPTEzLGsuZnguc3RhcnQ9ZnVuY3Rpb24oKXtpdHx8KGl0PSEwLGx0KCkpfSxrLmZ4LnN0b3A9ZnVuY3Rpb24oKXtpdD1udWxsfSxrLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxrLmZuLmRlbGF5PWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHI9ay5meCYmay5meC5zcGVlZHNbcl18fHIsZT1lfHwiZngiLHRoaXMucXVldWUoZSxmdW5jdGlvbihlLHQpe3ZhciBuPUMuc2V0VGltZW91dChlLHIpO3Quc3RvcD1mdW5jdGlvbigpe0MuY2xlYXJUaW1lb3V0KG4pfX0pfSxvdD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYXQ9RS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChFLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxvdC50eXBlPSJjaGVja2JveCIseS5jaGVja09uPSIiIT09b3QudmFsdWUseS5vcHRTZWxlY3RlZD1hdC5zZWxlY3RlZCwob3Q9RS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS52YWx1ZT0idCIsb3QudHlwZT0icmFkaW8iLHkucmFkaW9WYWx1ZT0idCI9PT1vdC52YWx1ZTt2YXIgaHQsZ3Q9ay5leHByLmF0dHJIYW5kbGU7ay5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXyh0aGlzLGsuYXR0cixlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ay5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSxrLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGUuZ2V0QXR0cmlidXRlP2sucHJvcChlLHQsbik6KDE9PT1vJiZrLmlzWE1MRG9jKGUpfHwoaT1rLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoay5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9odDp2b2lkIDApKSx2b2lkIDAhPT1uP251bGw9PT1uP3ZvaWQgay5yZW1vdmVBdHRyKGUsdCk6aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6KGUuc2V0QXR0cmlidXRlKHQsbisiIiksbik6aSYmImdldCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjpudWxsPT0ocj1rLmZpbmQuYXR0cihlLHQpKT92b2lkIDA6cil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIXkucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJkEoZSwiaW5wdXQiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10JiZ0Lm1hdGNoKFIpO2lmKGkmJjE9PT1lLm5vZGVUeXBlKXdoaWxlKG49aVtyKytdKWUucmVtb3ZlQXR0cmlidXRlKG4pfX0pLGh0PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiExPT09dD9rLnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSxrLmVhY2goay5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgYT1ndFt0XXx8ay5maW5kLmF0dHI7Z3RbdF09ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIG58fChpPWd0W29dLGd0W29dPXIscj1udWxsIT1hKGUsdCxuKT9vOm51bGwsZ3Rbb109aSkscn19KTt2YXIgdnQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx5dD0vXig/OmF8YXJlYSkkL2k7ZnVuY3Rpb24gbXQoZSl7cmV0dXJuKGUubWF0Y2goUil8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24geHQoZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gYnQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZToic3RyaW5nIj09dHlwZW9mIGUmJmUubWF0Y2goUil8fFtdfWsuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8odGhpcyxrLnByb3AsZSx0LDE8YXJndW1lbnRzLmxlbmd0aCl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW2sucHJvcEZpeFtlXXx8ZV19KX19KSxrLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4gMT09PW8mJmsuaXNYTUxEb2MoZSl8fCh0PWsucHJvcEZpeFt0XXx8dCxpPWsucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1uP2kmJiJzZXQiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOmVbdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgdD1rLmZpbmQuYXR0cihlLCJ0YWJpbmRleCIpO3JldHVybiB0P3BhcnNlSW50KHQsMTApOnZ0LnRlc3QoZS5ub2RlTmFtZSl8fHl0LnRlc3QoZS5ub2RlTmFtZSkmJmUuaHJlZj8wOi0xfX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifX0pLHkub3B0U2VsZWN0ZWR8fChrLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3QmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksay5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtrLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSksay5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzLHU9MDtpZihtKHQpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7ayh0aGlzKS5hZGRDbGFzcyh0LmNhbGwodGhpcyxlLHh0KHRoaXMpKSl9KTtpZigoZT1idCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9eHQobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK210KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXIuaW5kZXhPZigiICIrbysiICIpPDAmJihyKz1vKyIgIik7aSE9PShzPW10KHIpKSYmbi5zZXRBdHRyaWJ1dGUoImNsYXNzIixzKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtrKHRoaXMpLnJlbW92ZUNsYXNzKHQuY2FsbCh0aGlzLGUseHQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKGU9YnQodCkpLmxlbmd0aCl3aGlsZShuPXRoaXNbdSsrXSlpZihpPXh0KG4pLHI9MT09PW4ubm9kZVR5cGUmJiIgIittdChpKSsiICIpe2E9MDt3aGlsZShvPWVbYSsrXSl3aGlsZSgtMTxyLmluZGV4T2YoIiAiK28rIiAiKSlyPXIucmVwbGFjZSgiICIrbysiICIsIiAiKTtpIT09KHM9bXQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihpLHQpe3ZhciBvPXR5cGVvZiBpLGE9InN0cmluZyI9PT1vfHxBcnJheS5pc0FycmF5KGkpO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJmE/dD90aGlzLmFkZENsYXNzKGkpOnRoaXMucmVtb3ZlQ2xhc3MoaSk6bShpKT90aGlzLmVhY2goZnVuY3Rpb24oZSl7ayh0aGlzKS50b2dnbGVDbGFzcyhpLmNhbGwodGhpcyxlLHh0KHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7aWYoYSl7dD0wLG49ayh0aGlzKSxyPWJ0KGkpO3doaWxlKGU9clt0KytdKW4uaGFzQ2xhc3MoZSk/bi5yZW1vdmVDbGFzcyhlKTpuLmFkZENsYXNzKGUpfWVsc2Ugdm9pZCAwIT09aSYmImJvb2xlYW4iIT09b3x8KChlPXh0KHRoaXMpKSYmUS5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsZSksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsZXx8ITE9PT1pPyIiOlEuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHI9MDt0PSIgIitlKyIgIjt3aGlsZShuPXRoaXNbcisrXSlpZigxPT09bi5ub2RlVHlwZSYmLTE8KCIgIittdCh4dChuKSkrIiAiKS5pbmRleE9mKHQpKXJldHVybiEwO3JldHVybiExfX0pO3ZhciB3dD0vXHIvZztrLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciByLGUsaSx0PXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9bShuKSx0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7MT09PXRoaXMubm9kZVR5cGUmJihudWxsPT0odD1pP24uY2FsbCh0aGlzLGUsayh0aGlzKS52YWwoKSk6bik/dD0iIjoibnVtYmVyIj09dHlwZW9mIHQ/dCs9IiI6QXJyYXkuaXNBcnJheSh0KSYmKHQ9ay5tYXAodCxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplKyIifSkpLChyPWsudmFsSG9va3NbdGhpcy50eXBlXXx8ay52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmInNldCJpbiByJiZ2b2lkIDAhPT1yLnNldCh0aGlzLHQsInZhbHVlIil8fCh0aGlzLnZhbHVlPXQpKX0pKTp0PyhyPWsudmFsSG9va3NbdC50eXBlXXx8ay52YWxIb29rc1t0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiByJiZ2b2lkIDAhPT0oZT1yLmdldCh0LCJ2YWx1ZSIpKT9lOiJzdHJpbmciPT10eXBlb2YoZT10LnZhbHVlKT9lLnJlcGxhY2Uod3QsIiIpOm51bGw9PWU/IiI6ZTp2b2lkIDB9fSksay5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD1rLmZpbmQuYXR0cihlLCJ2YWx1ZSIpO3JldHVybiBudWxsIT10P3Q6bXQoay50ZXh0KGUpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPWUub3B0aW9ucyxvPWUuc2VsZWN0ZWRJbmRleCxhPSJzZWxlY3Qtb25lIj09PWUudHlwZSxzPWE/bnVsbDpbXSx1PWE/bysxOmkubGVuZ3RoO2ZvcihyPW88MD91OmE/bzowO3I8dTtyKyspaWYoKChuPWlbcl0pLnNlbGVjdGVkfHxyPT09bykmJiFuLmRpc2FibGVkJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IUEobi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYodD1rKG4pLnZhbCgpLGEpcmV0dXJuIHQ7cy5wdXNoKHQpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9ZS5vcHRpb25zLG89ay5tYWtlQXJyYXkodCksYT1pLmxlbmd0aDt3aGlsZShhLS0pKChyPWlbYV0pLnNlbGVjdGVkPS0xPGsuaW5BcnJheShrLnZhbEhvb2tzLm9wdGlvbi5nZXQociksbykpJiYobj0hMCk7cmV0dXJuIG58fChlLnNlbGVjdGVkSW5kZXg9LTEpLG99fX19KSxrLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtrLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBlLmNoZWNrZWQ9LTE8ay5pbkFycmF5KGsoZSkudmFsKCksdCl9fSx5LmNoZWNrT258fChrLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6ZS52YWx1ZX0pfSkseS5mb2N1c2luPSJvbmZvY3VzaW4iaW4gQzt2YXIgVHQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLEN0PWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9O2suZXh0ZW5kKGsuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsLGMsZixwPVtufHxFXSxkPXYuY2FsbChlLCJ0eXBlIik/ZS50eXBlOmUsaD12LmNhbGwoZSwibmFtZXNwYWNlIik/ZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihvPWY9YT1uPW58fEUsMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiYhVHQudGVzdChkK2suZXZlbnQudHJpZ2dlcmVkKSYmKC0xPGQuaW5kZXhPZigiLiIpJiYoZD0oaD1kLnNwbGl0KCIuIikpLnNoaWZ0KCksaC5zb3J0KCkpLHU9ZC5pbmRleE9mKCI6Iik8MCYmIm9uIitkLChlPWVbay5leHBhbmRvXT9lOm5ldyBrLkV2ZW50KGQsIm9iamVjdCI9PXR5cGVvZiBlJiZlKSkuaXNUcmlnZ2VyPXI/MjozLGUubmFtZXNwYWNlPWguam9pbigiLiIpLGUucm5hbWVzcGFjZT1lLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTprLm1ha2VBcnJheSh0LFtlXSksYz1rLmV2ZW50LnNwZWNpYWxbZF18fHt9LHJ8fCFjLnRyaWdnZXJ8fCExIT09Yy50cmlnZ2VyLmFwcGx5KG4sdCkpKXtpZighciYmIWMubm9CdWJibGUmJiF4KG4pKXtmb3Iocz1jLmRlbGVnYXRlVHlwZXx8ZCxUdC50ZXN0KHMrZCl8fChvPW8ucGFyZW50Tm9kZSk7bztvPW8ucGFyZW50Tm9kZSlwLnB1c2gobyksYT1vO2E9PT0obi5vd25lckRvY3VtZW50fHxFKSYmcC5wdXNoKGEuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93fHxDKX1pPTA7d2hpbGUoKG89cFtpKytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlmPW8sZS50eXBlPTE8aT9zOmMuYmluZFR5cGV8fGQsKGw9KFEuZ2V0KG8sImV2ZW50cyIpfHx7fSlbZS50eXBlXSYmUS5nZXQobywiaGFuZGxlIikpJiZsLmFwcGx5KG8sdCksKGw9dSYmb1t1XSkmJmwuYXBwbHkmJkcobykmJihlLnJlc3VsdD1sLmFwcGx5KG8sdCksITE9PT1lLnJlc3VsdCYmZS5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gZS50eXBlPWQscnx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Yy5fZGVmYXVsdCYmITEhPT1jLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksdCl8fCFHKG4pfHx1JiZtKG5bZF0pJiYheChuKSYmKChhPW5bdV0pJiYoblt1XT1udWxsKSxrLmV2ZW50LnRyaWdnZXJlZD1kLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmZi5hZGRFdmVudExpc3RlbmVyKGQsQ3QpLG5bZF0oKSxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLEN0KSxrLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsYSYmKG5bdV09YSkpLGUucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWsuZXh0ZW5kKG5ldyBrLkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMH0pO2suZXZlbnQudHJpZ2dlcihyLG51bGwsdCl9fSksay5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ay5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXNbMF07aWYobilyZXR1cm4gay5ldmVudC50cmlnZ2VyKGUsdCxuLCEwKX19KSx5LmZvY3VzaW58fGsuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24obixyKXt2YXIgaT1mdW5jdGlvbihlKXtrLmV2ZW50LnNpbXVsYXRlKHIsZS50YXJnZXQsay5ldmVudC5maXgoZSkpfTtrLmV2ZW50LnNwZWNpYWxbcl09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLHQ9US5hY2Nlc3MoZSxyKTt0fHxlLmFkZEV2ZW50TGlzdGVuZXIobixpLCEwKSxRLmFjY2VzcyhlLHIsKHR8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyx0PVEuYWNjZXNzKGUsciktMTt0P1EuYWNjZXNzKGUscix0KTooZS5yZW1vdmVFdmVudExpc3RlbmVyKG4saSwhMCksUS5yZW1vdmUoZSxyKSl9fX0pO3ZhciBFdD1DLmxvY2F0aW9uLGt0PURhdGUubm93KCksU3Q9L1w/LztrLnBhcnNlWE1MPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7dHJ5e3Q9KG5ldyBDLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsInRleHQveG1sIil9Y2F0Y2goZSl7dD12b2lkIDB9cmV0dXJuIHQmJiF0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8ay5lcnJvcigiSW52YWxpZCBYTUw6ICIrZSksdH07dmFyIE50PS9cW1xdJC8sQXQ9L1xyP1xuL2csRHQ9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGp0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBxdChuLGUscixpKXt2YXIgdDtpZihBcnJheS5pc0FycmF5KGUpKWsuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cnx8TnQudGVzdChuKT9pKG4sdCk6cXQobisiWyIrKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dD9lOiIiKSsiXSIsdCxyLGkpfSk7ZWxzZSBpZihyfHwib2JqZWN0IiE9PXcoZSkpaShuLGUpO2Vsc2UgZm9yKHQgaW4gZSlxdChuKyJbIit0KyJdIixlW3RdLHIsaSl9ay5wYXJhbT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1mdW5jdGlvbihlLHQpe3ZhciBuPW0odCk/dCgpOnQ7cltyLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGUpKyI9IitlbmNvZGVVUklDb21wb25lbnQobnVsbD09bj8iIjpuKX07aWYobnVsbD09ZSlyZXR1cm4iIjtpZihBcnJheS5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIWsuaXNQbGFpbk9iamVjdChlKSlrLmVhY2goZSxmdW5jdGlvbigpe2kodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IobiBpbiBlKXF0KG4sZVtuXSx0LGkpO3JldHVybiByLmpvaW4oIiYiKX0say5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBrLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9ay5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIGU/ay5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhayh0aGlzKS5pcygiOmRpc2FibGVkIikmJmp0LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFEdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhcGUudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj1rKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1uP251bGw6QXJyYXkuaXNBcnJheShuKT9rLm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoQXQsIlxyXG4iKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKEF0LCJcclxuIil9fSkuZ2V0KCl9fSk7dmFyIEx0PS8lMjAvZyxIdD0vIy4qJC8sT3Q9LyhbPyZdKV89W14mXSovLFB0PS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvZ20sUnQ9L14oPzpHRVR8SEVBRCkkLyxNdD0vXlwvXC8vLEl0PXt9LFd0PXt9LCR0PSIqLyIuY29uY2F0KCIqIiksRnQ9RS5jcmVhdGVFbGVtZW50KCJhIik7ZnVuY3Rpb24gQnQobyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7InN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9IioiKTt2YXIgbixyPTAsaT1lLnRvTG93ZXJDYXNlKCkubWF0Y2goUil8fFtdO2lmKG0odCkpd2hpbGUobj1pW3IrK10pIisiPT09blswXT8obj1uLnNsaWNlKDEpfHwiKiIsKG9bbl09b1tuXXx8W10pLnVuc2hpZnQodCkpOihvW25dPW9bbl18fFtdKS5wdXNoKHQpfX1mdW5jdGlvbiBfdCh0LGksbyxhKXt2YXIgcz17fSx1PXQ9PT1XdDtmdW5jdGlvbiBsKGUpe3ZhciByO3JldHVybiBzW2VdPSEwLGsuZWFjaCh0W2VdfHxbXSxmdW5jdGlvbihlLHQpe3ZhciBuPXQoaSxvLGEpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygbnx8dXx8c1tuXT91PyEocj1uKTp2b2lkIDA6KGkuZGF0YVR5cGVzLnVuc2hpZnQobiksbChuKSwhMSl9KSxyfXJldHVybiBsKGkuZGF0YVR5cGVzWzBdKXx8IXNbIioiXSYmbCgiKiIpfWZ1bmN0aW9uIHp0KGUsdCl7dmFyIG4scixpPWsuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJmsuZXh0ZW5kKCEwLGUsciksZX1GdC5ocmVmPUV0LmhyZWYsay5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOkV0LmhyZWYsdHlwZToiR0VUIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3QoRXQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6JHQsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOmsucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P3p0KHp0KGUsay5hamF4U2V0dGluZ3MpLHQpOnp0KGsuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOkJ0KEl0KSxhamF4VHJhbnNwb3J0OkJ0KFd0KSxhamF4OmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciBjLGYscCxuLGQscixoLGcsaSxvLHY9ay5hamF4U2V0dXAoe30sdCkseT12LmNvbnRleHR8fHYsbT12LmNvbnRleHQmJih5Lm5vZGVUeXBlfHx5LmpxdWVyeSk/ayh5KTprLmV2ZW50LHg9ay5EZWZlcnJlZCgpLGI9ay5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksdz12LnN0YXR1c0NvZGV8fHt9LGE9e30scz17fSx1PSJjYW5jZWxlZCIsVD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGgpe2lmKCFuKXtuPXt9O3doaWxlKHQ9UHQuZXhlYyhwKSluW3RbMV0udG9Mb3dlckNhc2UoKSsiICJdPShuW3RbMV0udG9Mb3dlckNhc2UoKSsiICJdfHxbXSkuY29uY2F0KHRbMl0pfXQ9bltlLnRvTG93ZXJDYXNlKCkrIiAiXX1yZXR1cm4gbnVsbD09dD9udWxsOnQuam9pbigiLCAiKX0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGg/cDpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWgmJihlPXNbZS50b0xvd2VyQ2FzZSgpXT1zW2UudG9Mb3dlckNhc2UoKV18fGUsYVtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1oJiYodi5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoaClULmFsd2F5cyhlW1Quc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBlKXdbdF09W3dbdF0sZVt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGUpe3ZhciB0PWV8fHU7cmV0dXJuIGMmJmMuYWJvcnQodCksbCgwLHQpLHRoaXN9fTtpZih4LnByb21pc2UoVCksdi51cmw9KChlfHx2LnVybHx8RXQuaHJlZikrIiIpLnJlcGxhY2UoTXQsRXQucHJvdG9jb2wrIi8vIiksdi50eXBlPXQubWV0aG9kfHx0LnR5cGV8fHYubWV0aG9kfHx2LnR5cGUsdi5kYXRhVHlwZXM9KHYuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChSKXx8WyIiXSxudWxsPT12LmNyb3NzRG9tYWluKXtyPUUuY3JlYXRlRWxlbWVudCgiYSIpO3RyeXtyLmhyZWY9di51cmwsci5ocmVmPXIuaHJlZix2LmNyb3NzRG9tYWluPUZ0LnByb3RvY29sKyIvLyIrRnQuaG9zdCE9ci5wcm90b2NvbCsiLy8iK3IuaG9zdH1jYXRjaChlKXt2LmNyb3NzRG9tYWluPSEwfX1pZih2LmRhdGEmJnYucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2Ygdi5kYXRhJiYodi5kYXRhPWsucGFyYW0odi5kYXRhLHYudHJhZGl0aW9uYWwpKSxfdChJdCx2LHQsVCksaClyZXR1cm4gVDtmb3IoaSBpbihnPWsuZXZlbnQmJnYuZ2xvYmFsKSYmMD09ay5hY3RpdmUrKyYmay5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSx2LnR5cGU9di50eXBlLnRvVXBwZXJDYXNlKCksdi5oYXNDb250ZW50PSFSdC50ZXN0KHYudHlwZSksZj12LnVybC5yZXBsYWNlKEh0LCIiKSx2Lmhhc0NvbnRlbnQ/di5kYXRhJiZ2LnByb2Nlc3NEYXRhJiYwPT09KHYuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKHYuZGF0YT12LmRhdGEucmVwbGFjZShMdCwiKyIpKToobz12LnVybC5zbGljZShmLmxlbmd0aCksdi5kYXRhJiYodi5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiB2LmRhdGEpJiYoZis9KFN0LnRlc3QoZik/IiYiOiI/Iikrdi5kYXRhLGRlbGV0ZSB2LmRhdGEpLCExPT09di5jYWNoZSYmKGY9Zi5yZXBsYWNlKE90LCIkMSIpLG89KFN0LnRlc3QoZik/IiYiOiI/IikrIl89IitrdCsrK28pLHYudXJsPWYrbyksdi5pZk1vZGlmaWVkJiYoay5sYXN0TW9kaWZpZWRbZl0mJlQuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGsubGFzdE1vZGlmaWVkW2ZdKSxrLmV0YWdbZl0mJlQuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsay5ldGFnW2ZdKSksKHYuZGF0YSYmdi5oYXNDb250ZW50JiYhMSE9PXYuY29udGVudFR5cGV8fHQuY29udGVudFR5cGUpJiZULnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdi5jb250ZW50VHlwZSksVC5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHYuZGF0YVR5cGVzWzBdJiZ2LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dP3YuYWNjZXB0c1t2LmRhdGFUeXBlc1swXV0rKCIqIiE9PXYuZGF0YVR5cGVzWzBdPyIsICIrJHQrIjsgcT0wLjAxIjoiIik6di5hY2NlcHRzWyIqIl0pLHYuaGVhZGVycylULnNldFJlcXVlc3RIZWFkZXIoaSx2LmhlYWRlcnNbaV0pO2lmKHYuYmVmb3JlU2VuZCYmKCExPT09di5iZWZvcmVTZW5kLmNhbGwoeSxULHYpfHxoKSlyZXR1cm4gVC5hYm9ydCgpO2lmKHU9ImFib3J0IixiLmFkZCh2LmNvbXBsZXRlKSxULmRvbmUodi5zdWNjZXNzKSxULmZhaWwodi5lcnJvciksYz1fdChXdCx2LHQsVCkpe2lmKFQucmVhZHlTdGF0ZT0xLGcmJm0udHJpZ2dlcigiYWpheFNlbmQiLFtULHZdKSxoKXJldHVybiBUO3YuYXN5bmMmJjA8di50aW1lb3V0JiYoZD1DLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtULmFib3J0KCJ0aW1lb3V0Iil9LHYudGltZW91dCkpO3RyeXtoPSExLGMuc2VuZChhLGwpfWNhdGNoKGUpe2lmKGgpdGhyb3cgZTtsKC0xLGUpfX1lbHNlIGwoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIGwoZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPXQ7aHx8KGg9ITAsZCYmQy5jbGVhclRpbWVvdXQoZCksYz12b2lkIDAscD1yfHwiIixULnJlYWR5U3RhdGU9MDxlPzQ6MCxpPTIwMDw9ZSYmZTwzMDB8fDMwND09PWUsbiYmKHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5jb250ZW50cyx1PWUuZGF0YVR5cGVzO3doaWxlKCIqIj09PXVbMF0pdS5zaGlmdCgpLHZvaWQgMD09PXImJihyPWUubWltZVR5cGV8fHQuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihyKWZvcihpIGluIHMpaWYoc1tpXSYmc1tpXS50ZXN0KHIpKXt1LnVuc2hpZnQoaSk7YnJlYWt9aWYodVswXWluIG4pbz11WzBdO2Vsc2V7Zm9yKGkgaW4gbil7aWYoIXVbMF18fGUuY29udmVydGVyc1tpKyIgIit1WzBdXSl7bz1pO2JyZWFrfWF8fChhPWkpfW89b3x8YX1pZihvKXJldHVybiBvIT09dVswXSYmdS51bnNoaWZ0KG8pLG5bb119KHYsVCxuKSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoay5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGsuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLWsuYWN0aXZlfHxrLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBrLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxrLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtrW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksay5hamF4KGsuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxrLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxrLl9ldmFsVXJsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGsuYWpheCh7dXJsOmUsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0IixjYWNoZTohMCxhc3luYzohMSxnbG9iYWw6ITEsY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbigpe319LGRhdGFGaWx0ZXI6ZnVuY3Rpb24oZSl7ay5nbG9iYWxFdmFsKGUsdCl9fSl9LGsuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PWsoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtrKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1rKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtrKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtrKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLGsuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hay5leHByLnBzZXVkb3MudmlzaWJsZShlKX0say5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LGsuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIFV0PXswOjIwMCwxMjIzOjIwNH0sWHQ9ay5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhWHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gWHQseS5hamF4PVh0PSEhWHQsay5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHxYdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChVdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksay5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxrLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gay5nbG9iYWxFdmFsKGUpLGV9fX0pLGsuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxrLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1rKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgVnQsR3Q9W10sWXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztrLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9R3QucG9wKCl8fGsuZXhwYW5kbysiXyIra3QrKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLGsuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPSExIT09ZS5qc29ucCYmKFl0LnRlc3QoZS51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgZS5kYXRhJiYwPT09KGUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmWXQudGVzdChlLmRhdGEpJiYiZGF0YSIpO2lmKGF8fCJqc29ucCI9PT1lLmRhdGFUeXBlc1swXSlyZXR1cm4gcj1lLmpzb25wQ2FsbGJhY2s9bShlLmpzb25wQ2FsbGJhY2spP2UuanNvbnBDYWxsYmFjaygpOmUuanNvbnBDYWxsYmFjayxhP2VbYV09ZVthXS5yZXBsYWNlKFl0LCIkMSIrcik6ITEhPT1lLmpzb25wJiYoZS51cmwrPShTdC50ZXN0KGUudXJsKT8iJiI6Ij8iKStlLmpzb25wKyI9IityKSxlLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gb3x8ay5lcnJvcihyKyIgd2FzIG5vdCBjYWxsZWQiKSxvWzBdfSxlLmRhdGFUeXBlc1swXT0ianNvbiIsaT1DW3JdLENbcl09ZnVuY3Rpb24oKXtvPWFyZ3VtZW50c30sbi5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1pP2soQykucmVtb3ZlUHJvcChyKTpDW3JdPWksZVtyXSYmKGUuanNvbnBDYWxsYmFjaz10Lmpzb25wQ2FsbGJhY2ssR3QucHVzaChyKSksbyYmbShpKSYmaShvWzBdKSxvPWk9dm9pZCAwfSksInNjcmlwdCJ9KSx5LmNyZWF0ZUhUTUxEb2N1bWVudD0oKFZ0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKS5ib2R5KS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09VnQuY2hpbGROb2Rlcy5sZW5ndGgpLGsucGFyc2VIVE1MPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/W106KCJib29sZWFuIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdHx8KHkuY3JlYXRlSFRNTERvY3VtZW50Pygocj0odD1FLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLmNyZWF0ZUVsZW1lbnQoImJhc2UiKSkuaHJlZj1FLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKHIpKTp0PUUpLG89IW4mJltdLChpPUQuZXhlYyhlKSk/W3QuY3JlYXRlRWxlbWVudChpWzFdKV06KGk9d2UoW2VdLHQsbyksbyYmby5sZW5ndGgmJmsobykucmVtb3ZlKCksay5tZXJnZShbXSxpLmNoaWxkTm9kZXMpKSk7dmFyIHIsaSxvfSxrLmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPXRoaXMscz1lLmluZGV4T2YoIiAiKTtyZXR1cm4tMTxzJiYocj1tdChlLnNsaWNlKHMpKSxlPWUuc2xpY2UoMCxzKSksbSh0KT8obj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihpPSJQT1NUIiksMDxhLmxlbmd0aCYmay5hamF4KHt1cmw6ZSx0eXBlOml8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKGUpe289YXJndW1lbnRzLGEuaHRtbChyP2soIjxkaXY+IikuYXBwZW5kKGsucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuYWx3YXlzKG4mJmZ1bmN0aW9uKGUsdCl7YS5lYWNoKGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pfSksdGhpc30say5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oZSx0KXtrLmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKHQsZSl9fSksay5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGsuZ3JlcChrLnRpbWVycyxmdW5jdGlvbihlKXtyZXR1cm4gdD09PWUuZWxlbX0pLmxlbmd0aH0say5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9ay5jc3MoZSwicG9zaXRpb24iKSxjPWsoZSksZj17fTsic3RhdGljIj09PWwmJihlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLHM9Yy5vZmZzZXQoKSxvPWsuY3NzKGUsInRvcCIpLHU9ay5jc3MoZSwibGVmdCIpLCgiYWJzb2x1dGUiPT09bHx8ImZpeGVkIj09PWwpJiYtMTwobyt1KS5pbmRleE9mKCJhdXRvIik/KGE9KHI9Yy5wb3NpdGlvbigpKS50b3AsaT1yLmxlZnQpOihhPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSxtKHQpJiYodD10LmNhbGwoZSxuLGsuZXh0ZW5kKHt9LHMpKSksbnVsbCE9dC50b3AmJihmLnRvcD10LnRvcC1zLnRvcCthKSxudWxsIT10LmxlZnQmJihmLmxlZnQ9dC5sZWZ0LXMubGVmdCtpKSwidXNpbmciaW4gdD90LnVzaW5nLmNhbGwoZSxmKTpjLmNzcyhmKX19LGsuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09dD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihlKXtrLm9mZnNldC5zZXRPZmZzZXQodGhpcyx0LGUpfSk7dmFyIGUsbixyPXRoaXNbMF07cmV0dXJuIHI/ci5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8oZT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ZS50b3Arbi5wYWdlWU9mZnNldCxsZWZ0OmUubGVmdCtuLnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH06dm9pZCAwfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbixyPXRoaXNbMF0saT17dG9wOjAsbGVmdDowfTtpZigiZml4ZWQiPT09ay5jc3MociwicG9zaXRpb24iKSl0PXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZXt0PXRoaXMub2Zmc2V0KCksbj1yLm93bmVyRG9jdW1lbnQsZT1yLm9mZnNldFBhcmVudHx8bi5kb2N1bWVudEVsZW1lbnQ7d2hpbGUoZSYmKGU9PT1uLmJvZHl8fGU9PT1uLmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09ay5jc3MoZSwicG9zaXRpb24iKSllPWUucGFyZW50Tm9kZTtlJiZlIT09ciYmMT09PWUubm9kZVR5cGUmJigoaT1rKGUpLm9mZnNldCgpKS50b3ArPWsuY3NzKGUsImJvcmRlclRvcFdpZHRoIiwhMCksaS5sZWZ0Kz1rLmNzcyhlLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDp0LnRvcC1pLnRvcC1rLmNzcyhyLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1pLmxlZnQtay5jc3MociwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGUmJiJzdGF0aWMiPT09ay5jc3MoZSwicG9zaXRpb24iKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxpZX0pfX0pLGsuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbih0LGkpe3ZhciBvPSJwYWdlWU9mZnNldCI9PT1pO2suZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIF8odGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoeChlKT9yPWU6OT09PWUubm9kZVR5cGUmJihyPWUuZGVmYXVsdFZpZXcpLHZvaWQgMD09PW4pcmV0dXJuIHI/cltpXTplW3RdO3I/ci5zY3JvbGxUbyhvP3IucGFnZVhPZmZzZXQ6bixvP246ci5wYWdlWU9mZnNldCk6ZVt0XT1ufSx0LGUsYXJndW1lbnRzLmxlbmd0aCl9fSksay5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGUsbil7ay5jc3NIb29rc1tuXT16ZSh5LnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiB0PV9lKGUsbiksJGUudGVzdCh0KT9rKGUpLnBvc2l0aW9uKClbbl0rInB4Ijp0fSl9KSxrLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLHMpe2suZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpzLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24ocixvKXtrLmZuW29dPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCYmKHJ8fCJib29sZWFuIiE9dHlwZW9mIGUpLGk9cnx8KCEwPT09ZXx8ITA9PT10PyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gXyh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4geChlKT8wPT09by5pbmRleE9mKCJvdXRlciIpP2VbImlubmVyIithXTplLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09ZS5ub2RlVHlwZT8ocj1lLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChlLmJvZHlbInNjcm9sbCIrYV0sclsic2Nyb2xsIithXSxlLmJvZHlbIm9mZnNldCIrYV0sclsib2Zmc2V0IithXSxyWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09bj9rLmNzcyhlLHQsaSk6ay5zdHlsZShlLHQsbixpKX0scyxuP2U6dm9pZCAwLG4pfX0pfSksay5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsbil7ay5mbltuXT1mdW5jdGlvbihlLHQpe3JldHVybiAwPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbihuLG51bGwsZSx0KTp0aGlzLnRyaWdnZXIobil9fSksay5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLGsuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLCIqKiIpOnRoaXMub2ZmKHQsZXx8IioqIixuKX19KSxrLnByb3h5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSxtKGUpKXJldHVybiByPXMuY2FsbChhcmd1bWVudHMsMiksKGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0fHx0aGlzLHIuY29uY2F0KHMuY2FsbChhcmd1bWVudHMpKSl9KS5ndWlkPWUuZ3VpZD1lLmd1aWR8fGsuZ3VpZCsrLGl9LGsuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/ay5yZWFkeVdhaXQrKzprLnJlYWR5KCEwKX0say5pc0FycmF5PUFycmF5LmlzQXJyYXksay5wYXJzZUpTT049SlNPTi5wYXJzZSxrLm5vZGVOYW1lPUEsay5pc0Z1bmN0aW9uPW0say5pc1dpbmRvdz14LGsuY2FtZWxDYXNlPVYsay50eXBlPXcsay5ub3c9RGF0ZS5ub3csay5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9ay50eXBlKGUpO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihlLXBhcnNlRmxvYXQoZSkpfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4ga30pO3ZhciBRdD1DLmpRdWVyeSxKdD1DLiQ7cmV0dXJuIGsubm9Db25mbGljdD1mdW5jdGlvbihlKXtyZXR1cm4gQy4kPT09ayYmKEMuJD1KdCksZSYmQy5qUXVlcnk9PT1rJiYoQy5qUXVlcnk9UXQpLGt9LGV8fChDLmpRdWVyeT1DLiQ9ayksa30pOw=="></script>
        <script src="data:text/plain;base64,KGZ1bmN0aW9uKHNjb3BlKXsKdmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihlLG4pe3ZhciB0PXt9LGk9dC5saWI9e30scj1mdW5jdGlvbigpe30scz1pLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihlKXtyLnByb3RvdHlwZT10aGlzO3ZhciBuPW5ldyByO3JldHVybiBlJiZuLm1peEluKGUpLG4uaGFzT3duUHJvcGVydHkoImluaXQiKXx8KG4uaW5pdD1mdW5jdGlvbigpe24uJHN1cGVyLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbi5pbml0LnByb3RvdHlwZT1uLG4uJHN1cGVyPXRoaXMsbn0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5leHRlbmQoKTtyZXR1cm4gZS5pbml0LmFwcGx5KGUsYXJndW1lbnRzKSxlfSxpbml0OmZ1bmN0aW9uKCl7fSxtaXhJbjpmdW5jdGlvbihlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodGhpc1tuXT1lW25dKTtlLmhhc093blByb3BlcnR5KCJ0b1N0cmluZyIpJiYodGhpcy50b1N0cmluZz1lLnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fSxvPWkuV29yZEFycmF5PXMuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsbil7ZT10aGlzLndvcmRzPWV8fFtdLHRoaXMuc2lnQnl0ZXM9dm9pZCAwIT1uP246NCplLmxlbmd0aH0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fHUpLnN0cmluZ2lmeSh0aGlzKX0sY29uY2F0OmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMud29yZHMsdD1lLndvcmRzLGk9dGhpcy5zaWdCeXRlcztpZihlPWUuc2lnQnl0ZXMsdGhpcy5jbGFtcCgpLGklNClmb3IodmFyIHI9MDtyPGU7cisrKW5baStyPj4+Ml18PSh0W3I+Pj4yXT4+PjI0LXIlNCo4JjI1NSk8PDI0LShpK3IpJTQqODtlbHNlIGlmKDY1NTM1PHQubGVuZ3RoKWZvcihyPTA7cjxlO3IrPTQpbltpK3I+Pj4yXT10W3I+Pj4yXTtlbHNlIG4ucHVzaC5hcHBseShuLHQpO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1lLHRoaXN9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy53b3Jkcyx0PXRoaXMuc2lnQnl0ZXM7blt0Pj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLXQlNCo4LG4ubGVuZ3RoPWUuY2VpbCh0LzQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPXMuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLGV9LHJhbmRvbTpmdW5jdGlvbihuKXtmb3IodmFyIHQ9W10saT0wO2k8bjtpKz00KXQucHVzaCg0Mjk0OTY3Mjk2KmUucmFuZG9tKCl8MCk7cmV0dXJuIG5ldyBvLmluaXQodCxuKX19KSxhPXQuZW5jPXt9LHU9YS5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbihlKXt2YXIgbj1lLndvcmRzO2U9ZS5zaWdCeXRlcztmb3IodmFyIHQ9W10saT0wO2k8ZTtpKyspe3ZhciByPW5baT4+PjJdPj4+MjQtaSU0KjgmMjU1O3QucHVzaCgocj4+PjQpLnRvU3RyaW5nKDE2KSksdC5wdXNoKCgxNSZyKS50b1N0cmluZygxNikpfXJldHVybiB0LmpvaW4oIiIpfSxwYXJzZTpmdW5jdGlvbihlKXtmb3IodmFyIG49ZS5sZW5ndGgsdD1bXSxpPTA7aTxuO2krPTIpdFtpPj4+M118PXBhcnNlSW50KGUuc3Vic3RyKGksMiksMTYpPDwyNC1pJTgqNDtyZXR1cm4gbmV3IG8uaW5pdCh0LG4vMil9fSxjPWEuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7dmFyIG49ZS53b3JkcztlPWUuc2lnQnl0ZXM7Zm9yKHZhciB0PVtdLGk9MDtpPGU7aSsrKXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKG5baT4+PjJdPj4+MjQtaSU0KjgmMjU1KSk7cmV0dXJuIHQuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1lLmxlbmd0aCx0PVtdLGk9MDtpPG47aSsrKXRbaT4+PjJdfD0oMjU1JmUuY2hhckNvZGVBdChpKSk8PDI0LWklNCo4O3JldHVybiBuZXcgby5pbml0KHQsbil9fSxkPWEuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShjLnN0cmluZ2lmeShlKSkpfWNhdGNoKGUpe3Rocm93IEVycm9yKCJNYWxmb3JtZWQgVVRGLTggZGF0YSIpfX0scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGMucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSl9fSxsPWkuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1zLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBvLmluaXQsdGhpcy5fbkRhdGFCeXRlcz0wfSxfYXBwZW5kOmZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZC5wYXJzZShlKSksdGhpcy5fZGF0YS5jb25jYXQoZSksdGhpcy5fbkRhdGFCeXRlcys9ZS5zaWdCeXRlc30sX3Byb2Nlc3M6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZGF0YSxpPXQud29yZHMscj10LnNpZ0J5dGVzLHM9dGhpcy5ibG9ja1NpemUsYT1yLyg0KnMpLGE9bj9lLmNlaWwoYSk6ZS5tYXgoKDB8YSktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTtpZihuPWEqcyxyPWUubWluKDQqbixyKSxuKXtmb3IodmFyIHU9MDt1PG47dSs9cyl0aGlzLl9kb1Byb2Nlc3NCbG9jayhpLHUpO3U9aS5zcGxpY2UoMCxuKSx0LnNpZ0J5dGVzLT1yfXJldHVybiBuZXcgby5pbml0KHUscil9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9cy5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9kYXRhPXRoaXMuX2RhdGEuY2xvbmUoKSxlfSxfbWluQnVmZmVyU2l6ZTowfSk7aS5IYXNoZXI9bC5leHRlbmQoe2NmZzpzLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGUpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtsLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2FwcGVuZChlKSx0aGlzLl9wcm9jZXNzKCksdGhpc30sZmluYWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuX2FwcGVuZChlKSx0aGlzLl9kb0ZpbmFsaXplKCl9LGJsb2NrU2l6ZToxNixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuLHQpe3JldHVybiBuZXcgZS5pbml0KHQpLmZpbmFsaXplKG4pfX0sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5ldyBmLkhNQUMuaW5pdChlLHQpLmZpbmFsaXplKG4pfX19KTt2YXIgZj10LmFsZ289e307cmV0dXJuIHR9KE1hdGgpOyFmdW5jdGlvbihlKXtmb3IodmFyIG49Q3J5cHRvSlMsdD1uLmxpYixpPXQuV29yZEFycmF5LHI9dC5IYXNoZXIsdD1uLmFsZ28scz1bXSxvPVtdLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIDQyOTQ5NjcyOTYqKGUtKDB8ZSkpfDB9LHU9MixjPTA7NjQ+Yzspe3ZhciBkO2U6e2Q9dTtmb3IodmFyIGw9ZS5zcXJ0KGQpLGY9MjtmPD1sO2YrKylpZighKGQlZikpe2Q9ITE7YnJlYWsgZX1kPSEwfWQmJig4PmMmJihzW2NdPWEoZS5wb3codSwuNSkpKSxvW2NdPWEoZS5wb3codSwxLzMpKSxjKyspLHUrK312YXIgdj1bXSx0PXQuU0hBMjU2PXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGkuaW5pdChzLnNsaWNlKDApKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PXRoaXMuX2hhc2gud29yZHMsaT10WzBdLHI9dFsxXSxzPXRbMl0sYT10WzNdLHU9dFs0XSxjPXRbNV0sZD10WzZdLGw9dFs3XSxmPTA7NjQ+ZjtmKyspe2lmKDE2PmYpdltmXT0wfGVbbitmXTtlbHNle3ZhciBnPXZbZi0xNV0sbT12W2YtMl07dltmXT0oKGc8PDI1fGc+Pj43KV4oZzw8MTR8Zz4+PjE4KV5nPj4+MykrdltmLTddKygobTw8MTV8bT4+PjE3KV4obTw8MTN8bT4+PjE5KV5tPj4+MTApK3ZbZi0xNl19Zz1sKygodTw8MjZ8dT4+PjYpXih1PDwyMXx1Pj4+MTEpXih1PDw3fHU+Pj4yNSkpKyh1JmNefnUmZCkrb1tmXSt2W2ZdLG09KChpPDwzMHxpPj4+MileKGk8PDE5fGk+Pj4xMyleKGk8PDEwfGk+Pj4yMikpKyhpJnJeaSZzXnImcyksbD1kLGQ9YyxjPXUsdT1hK2d8MCxhPXMscz1yLHI9aSxpPWcrbXwwfXRbMF09dFswXStpfDAsdFsxXT10WzFdK3J8MCx0WzJdPXRbMl0rc3wwLHRbM109dFszXSthfDAsdFs0XT10WzRdK3V8MCx0WzVdPXRbNV0rY3wwLHRbNl09dFs2XStkfDAsdFs3XT10WzddK2x8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9kYXRhLHQ9bi53b3JkcyxpPTgqdGhpcy5fbkRhdGFCeXRlcyxyPTgqbi5zaWdCeXRlcztyZXR1cm4gdFtyPj4+NV18PTEyODw8MjQtciUzMix0WzE0KyhyKzY0Pj4+OTw8NCldPWUuZmxvb3IoaS80Mjk0OTY3Mjk2KSx0WzE1KyhyKzY0Pj4+OTw8NCldPWksbi5zaWdCeXRlcz00KnQubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNofSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPXIuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCksZX19KTtuLlNIQTI1Nj1yLl9jcmVhdGVIZWxwZXIodCksbi5IbWFjU0hBMjU2PXIuX2NyZWF0ZUhtYWNIZWxwZXIodCl9KE1hdGgpLGZ1bmN0aW9uKCl7dmFyIGU9Q3J5cHRvSlMsbj1lLmVuYy5VdGY4O2UuYWxnby5ITUFDPWUubGliLkJhc2UuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7ZT10aGlzLl9oYXNoZXI9bmV3IGUuaW5pdCwic3RyaW5nIj09dHlwZW9mIHQmJih0PW4ucGFyc2UodCkpO3ZhciBpPWUuYmxvY2tTaXplLHI9NCppO3Quc2lnQnl0ZXM+ciYmKHQ9ZS5maW5hbGl6ZSh0KSksdC5jbGFtcCgpO2Zvcih2YXIgcz10aGlzLl9vS2V5PXQuY2xvbmUoKSxvPXRoaXMuX2lLZXk9dC5jbG9uZSgpLGE9cy53b3Jkcyx1PW8ud29yZHMsYz0wO2M8aTtjKyspYVtjXV49MTU0OTU1NjgyOCx1W2NdXj05MDk1MjI0ODY7cy5zaWdCeXRlcz1vLnNpZ0J5dGVzPXIsdGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2hhc2hlcjtlLnJlc2V0KCksZS51cGRhdGUodGhpcy5faUtleSl9LHVwZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faGFzaGVyLnVwZGF0ZShlKSx0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbihlKXt2YXIgbj10aGlzLl9oYXNoZXI7cmV0dXJuIGU9bi5maW5hbGl6ZShlKSxuLnJlc2V0KCksbi5maW5hbGl6ZSh0aGlzLl9vS2V5LmNsb25lKCkuY29uY2F0KGUpKX19KX0oKSxmdW5jdGlvbigpe3ZhciBlPUNyeXB0b0pTLG49ZS5saWIuV29yZEFycmF5O2UuZW5jLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3ZhciBuPWUud29yZHMsdD1lLnNpZ0J5dGVzLGk9dGhpcy5fbWFwO2UuY2xhbXAoKSxlPVtdO2Zvcih2YXIgcj0wO3I8dDtyKz0zKWZvcih2YXIgcz0obltyPj4+Ml0+Pj4yNC1yJTQqOCYyNTUpPDwxNnwobltyKzE+Pj4yXT4+PjI0LShyKzEpJTQqOCYyNTUpPDw4fG5bcisyPj4+Ml0+Pj4yNC0ocisyKSU0KjgmMjU1LG89MDs0Pm8mJnIrLjc1Km88dDtvKyspZS5wdXNoKGkuY2hhckF0KHM+Pj42KigzLW8pJjYzKSk7aWYobj1pLmNoYXJBdCg2NCkpZm9yKDtlLmxlbmd0aCU0OyllLnB1c2gobik7cmV0dXJuIGUuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoLGk9dGhpcy5fbWFwLHI9aS5jaGFyQXQoNjQpO3ImJi0xIT0ocj1lLmluZGV4T2YocikpJiYodD1yKTtmb3IodmFyIHI9W10scz0wLG89MDtvPHQ7bysrKWlmKG8lNCl7dmFyIGE9aS5pbmRleE9mKGUuY2hhckF0KG8tMSkpPDxvJTQqMix1PWkuaW5kZXhPZihlLmNoYXJBdChvKSk+Pj42LW8lNCoyO3Jbcz4+PjJdfD0oYXx1KTw8MjQtcyU0KjgscysrfXJldHVybiBuLmNyZWF0ZShyLHMpfSxfbWFwOiJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSJ9fSgpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZVtlLlVuZGVmaW5lZD0wXT0iVW5kZWZpbmVkIixlW2UuRGVidWc9MV09IkRlYnVnIixlW2UuSW5mbz0yXT0iSW5mbyIsZVtlLldhcm5pbmc9M109Ildhcm5pbmciLGVbZS5FcnJvcj00XT0iRXJyb3IiLGVbZS5Dcml0aWNhbD01XT0iQ3JpdGljYWwifShlLkVHQUVycm9yU2V2ZXJpdHl8fChlLkVHQUVycm9yU2V2ZXJpdHk9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlVuZGVmaW5lZD0wXT0iVW5kZWZpbmVkIixlW2UuTWFsZT0xXT0iTWFsZSIsZVtlLkZlbWFsZT0yXT0iRmVtYWxlIn0oZS5FR0FHZW5kZXJ8fChlLkVHQUdlbmRlcj17fSkpOyFmdW5jdGlvbihlKXtlW2UuVW5kZWZpbmVkPTBdPSJVbmRlZmluZWQiLGVbZS5TdGFydD0xXT0iU3RhcnQiLGVbZS5Db21wbGV0ZT0yXT0iQ29tcGxldGUiLGVbZS5GYWlsPTNdPSJGYWlsIn0oZS5FR0FQcm9ncmVzc2lvblN0YXR1c3x8KGUuRUdBUHJvZ3Jlc3Npb25TdGF0dXM9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlVuZGVmaW5lZD0wXT0iVW5kZWZpbmVkIixlW2UuU291cmNlPTFdPSJTb3VyY2UiLGVbZS5TaW5rPTJdPSJTaW5rIn0oZS5FR0FSZXNvdXJjZUZsb3dUeXBlfHwoZS5FR0FSZXNvdXJjZUZsb3dUeXBlPXt9KSk7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlW2UuVW5kZWZpbmVkPTBdPSJVbmRlZmluZWQiLGVbZS5SZWplY3RlZD0xXT0iUmVqZWN0ZWQifShlLkVHQVNka0Vycm9yVHlwZXx8KGUuRUdBU2RrRXJyb3JUeXBlPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5Ob1Jlc3BvbnNlPTBdPSJOb1Jlc3BvbnNlIixlW2UuQmFkUmVzcG9uc2U9MV09IkJhZFJlc3BvbnNlIixlW2UuUmVxdWVzdFRpbWVvdXQ9Ml09IlJlcXVlc3RUaW1lb3V0IixlW2UuSnNvbkVuY29kZUZhaWxlZD0zXT0iSnNvbkVuY29kZUZhaWxlZCIsZVtlLkpzb25EZWNvZGVGYWlsZWQ9NF09Ikpzb25EZWNvZGVGYWlsZWQiLGVbZS5JbnRlcm5hbFNlcnZlckVycm9yPTVdPSJJbnRlcm5hbFNlcnZlckVycm9yIixlW2UuQmFkUmVxdWVzdD02XT0iQmFkUmVxdWVzdCIsZVtlLlVuYXV0aG9yaXplZD03XT0iVW5hdXRob3JpemVkIixlW2UuVW5rbm93blJlc3BvbnNlQ29kZT04XT0iVW5rbm93blJlc3BvbnNlQ29kZSIsZVtlLk9rPTldPSJPayJ9KGUuRUdBSFRUUEFwaVJlc3BvbnNlfHwoZS5FR0FIVFRQQXBpUmVzcG9uc2U9e30pKX0oZS5odHRwfHwoZS5odHRwPXt9KSl9KGdhbWVhbmFseXRpY3N8fChnYW1lYW5hbHl0aWNzPXt9KSk7dmFyIEVHQUVycm9yU2V2ZXJpdHk9Z2FtZWFuYWx5dGljcy5FR0FFcnJvclNldmVyaXR5LEVHQUdlbmRlcj1nYW1lYW5hbHl0aWNzLkVHQUdlbmRlcixFR0FQcm9ncmVzc2lvblN0YXR1cz1nYW1lYW5hbHl0aWNzLkVHQVByb2dyZXNzaW9uU3RhdHVzLEVHQVJlc291cmNlRmxvd1R5cGU9Z2FtZWFuYWx5dGljcy5FR0FSZXNvdXJjZUZsb3dUeXBlLGdhbWVhbmFseXRpY3M7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2YXIgbjshZnVuY3Rpb24oZSl7ZVtlLkVycm9yPTBdPSJFcnJvciIsZVtlLldhcm5pbmc9MV09Ildhcm5pbmciLGVbZS5JbmZvPTJdPSJJbmZvIixlW2UuRGVidWc9M109IkRlYnVnIn0obnx8KG49e30pKTt2YXIgdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtlLmRlYnVnRW5hYmxlZD0hMX1yZXR1cm4gZS5zZXRJbmZvTG9nPWZ1bmN0aW9uKG4pe2UuaW5zdGFuY2UuaW5mb0xvZ0VuYWJsZWQ9bn0sZS5zZXRWZXJib3NlTG9nPWZ1bmN0aW9uKG4pe2UuaW5zdGFuY2UuaW5mb0xvZ1ZlcmJvc2VFbmFibGVkPW59LGUuaT1mdW5jdGlvbih0KXtpZihlLmluc3RhbmNlLmluZm9Mb2dFbmFibGVkKXt2YXIgaT0iSW5mby8iK2UuVGFnKyI6ICIrdDtlLmluc3RhbmNlLnNlbmROb3RpZmljYXRpb25NZXNzYWdlKGksbi5JbmZvKX19LGUudz1mdW5jdGlvbih0KXt2YXIgaT0iV2FybmluZy8iK2UuVGFnKyI6ICIrdDtlLmluc3RhbmNlLnNlbmROb3RpZmljYXRpb25NZXNzYWdlKGksbi5XYXJuaW5nKX0sZS5lPWZ1bmN0aW9uKHQpe3ZhciBpPSJFcnJvci8iK2UuVGFnKyI6ICIrdDtlLmluc3RhbmNlLnNlbmROb3RpZmljYXRpb25NZXNzYWdlKGksbi5FcnJvcil9LGUuaWk9ZnVuY3Rpb24odCl7aWYoZS5pbnN0YW5jZS5pbmZvTG9nVmVyYm9zZUVuYWJsZWQpe3ZhciBpPSJWZXJib3NlLyIrZS5UYWcrIjogIit0O2UuaW5zdGFuY2Uuc2VuZE5vdGlmaWNhdGlvbk1lc3NhZ2UoaSxuLkluZm8pfX0sZS5kPWZ1bmN0aW9uKHQpe2lmKGUuZGVidWdFbmFibGVkKXt2YXIgaT0iRGVidWcvIitlLlRhZysiOiAiK3Q7ZS5pbnN0YW5jZS5zZW5kTm90aWZpY2F0aW9uTWVzc2FnZShpLG4uRGVidWcpfX0sZS5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbk1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godCl7Y2FzZSBuLkVycm9yOmNvbnNvbGUuZXJyb3IoZSk7YnJlYWs7Y2FzZSBuLldhcm5pbmc6Y29uc29sZS53YXJuKGUpO2JyZWFrO2Nhc2Ugbi5EZWJ1ZzoiZnVuY3Rpb24iPT10eXBlb2YgY29uc29sZS5kZWJ1Zz9jb25zb2xlLmRlYnVnKGUpOmNvbnNvbGUubG9nKGUpO2JyZWFrO2Nhc2Ugbi5JbmZvOmNvbnNvbGUubG9nKGUpfX0sZX0oKTt0Lmluc3RhbmNlPW5ldyB0LHQuVGFnPSJHYW1lQW5hbHl0aWNzIixlLkdBTG9nZ2VyPXR9KGUubG9nZ2luZ3x8KGUubG9nZ2luZz17fSkpfShnYW1lYW5hbHl0aWNzfHwoZ2FtZWFuYWx5dGljcz17fSkpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXshZnVuY3Rpb24obil7dmFyIHQ9ZS5sb2dnaW5nLkdBTG9nZ2VyLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmdldEhtYWM9ZnVuY3Rpb24oZSxuKXt2YXIgdD1DcnlwdG9KUy5IbWFjU0hBMjU2KG4sZSk7cmV0dXJuIENyeXB0b0pTLmVuYy5CYXNlNjQuc3RyaW5naWZ5KHQpfSxlLnN0cmluZ01hdGNoPWZ1bmN0aW9uKGUsbil7cmV0dXJuISghZXx8IW4pJiZuLnRlc3QoZSl9LGUuam9pblN0cmluZ0FycmF5PWZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PSIiLGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspaT4wJiYodCs9biksdCs9ZVtpXTtyZXR1cm4gdH0sZS5zdHJpbmdBcnJheUNvbnRhaW5zU3RyaW5nPWZ1bmN0aW9uKGUsbil7aWYoMD09PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdCBpbiBlKWlmKGVbdF09PT1uKXJldHVybiEwO3JldHVybiExfSxlLmVuY29kZTY0PWZ1bmN0aW9uKG4pe249ZW5jb2RlVVJJKG4pO3ZhciB0LGkscixzLG8sYT0iIix1PTAsYz0wLGQ9MDtkb3t0PW4uY2hhckNvZGVBdChkKyspLGk9bi5jaGFyQ29kZUF0KGQrKyksdT1uLmNoYXJDb2RlQXQoZCsrKSxyPXQ+PjIscz0oMyZ0KTw8NHxpPj40LG89KDE1JmkpPDwyfHU+PjYsYz02MyZ1LGlzTmFOKGkpP289Yz02NDppc05hTih1KSYmKGM9NjQpLGE9YStlLmtleVN0ci5jaGFyQXQocikrZS5rZXlTdHIuY2hhckF0KHMpK2Uua2V5U3RyLmNoYXJBdChvKStlLmtleVN0ci5jaGFyQXQoYyksdD1pPXU9MCxyPXM9bz1jPTB9d2hpbGUoZDxuLmxlbmd0aCk7cmV0dXJuIGF9LGUuZGVjb2RlNjQ9ZnVuY3Rpb24obil7dmFyIGkscixzLG8sYSx1PSIiLGM9MCxkPTAsbD0wOy9bXkEtWmEtejAtOVwrXC9cPV0vZy5leGVjKG4pJiZ0LncoIlRoZXJlIHdlcmUgaW52YWxpZCBiYXNlNjQgY2hhcmFjdGVycyBpbiB0aGUgaW5wdXQgdGV4dC4gVmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgYXJlIEEtWiwgYS16LCAwLTksICcrJywgJy8nLGFuZCAnPScuIEV4cGVjdCBlcnJvcnMgaW4gZGVjb2RpbmcuIiksbj1uLnJlcGxhY2UoL1teQS1aYS16MC05XCtcL1w9XS9nLCIiKTtkb3tzPWUua2V5U3RyLmluZGV4T2Yobi5jaGFyQXQobCsrKSksbz1lLmtleVN0ci5pbmRleE9mKG4uY2hhckF0KGwrKykpLGE9ZS5rZXlTdHIuaW5kZXhPZihuLmNoYXJBdChsKyspKSxkPWUua2V5U3RyLmluZGV4T2Yobi5jaGFyQXQobCsrKSksaT1zPDwyfG8+PjQscj0oMTUmbyk8PDR8YT4+MixjPSgzJmEpPDw2fGQsdSs9U3RyaW5nLmZyb21DaGFyQ29kZShpKSw2NCE9YSYmKHUrPVN0cmluZy5mcm9tQ2hhckNvZGUocikpLDY0IT1kJiYodSs9U3RyaW5nLmZyb21DaGFyQ29kZShjKSksaT1yPWM9MCxzPW89YT1kPTB9d2hpbGUobDxuLmxlbmd0aCk7cmV0dXJuIGRlY29kZVVSSSh1KX0sZS50aW1lSW50ZXJ2YWxTaW5jZTE5NzA9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0ZTtyZXR1cm4gTWF0aC5yb3VuZChlLmdldFRpbWUoKS8xZTMpfSxlLmNyZWF0ZUd1aWQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5zNCgpK2UuczQoKSsiLSIrZS5zNCgpKyItNCIrZS5zNCgpLnN1YnN0cigwLDMpKyItIitlLnM0KCkrIi0iK2UuczQoKStlLnM0KCkrZS5zNCgpKS50b0xvd2VyQ2FzZSgpfSxlLnM0PWZ1bmN0aW9uKCl7cmV0dXJuKDY1NTM2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9LGV9KCk7aS5rZXlTdHI9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89IixuLkdBVXRpbGl0aWVzPWl9KGUudXRpbGl0aWVzfHwoZS51dGlsaXRpZXM9e30pKX0oZ2FtZWFuYWx5dGljc3x8KGdhbWVhbmFseXRpY3M9e30pKTt2YXIgZ2FtZWFuYWx5dGljczshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKG4pe3ZhciB0PWUubG9nZ2luZy5HQUxvZ2dlcixpPWUuaHR0cC5FR0FTZGtFcnJvclR5cGUscj1lLnV0aWxpdGllcy5HQVV0aWxpdGllcyxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe31yZXR1cm4gbi52YWxpZGF0ZUJ1c2luZXNzRXZlbnQ9ZnVuY3Rpb24oZSxpLHIscyxvKXtyZXR1cm4gbi52YWxpZGF0ZUN1cnJlbmN5KGUpP24udmFsaWRhdGVTaG9ydFN0cmluZyhyLCEwKT9uLnZhbGlkYXRlRXZlbnRQYXJ0TGVuZ3RoKHMsITEpP24udmFsaWRhdGVFdmVudFBhcnRDaGFyYWN0ZXJzKHMpP24udmFsaWRhdGVFdmVudFBhcnRMZW5ndGgobywhMSk/ISFuLnZhbGlkYXRlRXZlbnRQYXJ0Q2hhcmFjdGVycyhvKXx8KHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gYnVzaW5lc3MgZXZlbnQgLSBpdGVtSWQ6IENhbm5vdCBjb250YWluIG90aGVyIGNoYXJhY3RlcnMgdGhhbiBBLXosIDAtOSwgLV8uLCAoKSE/LiBTdHJpbmc6ICIrbyksITEpOih0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGJ1c2luZXNzIGV2ZW50IC0gaXRlbUlkLiBDYW5ub3QgYmUgKG51bGwpLCBlbXB0eSBvciBhYm92ZSA2NCBjaGFyYWN0ZXJzLiBTdHJpbmc6ICIrbyksITEpOih0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGJ1c2luZXNzIGV2ZW50IC0gaXRlbVR5cGU6IENhbm5vdCBjb250YWluIG90aGVyIGNoYXJhY3RlcnMgdGhhbiBBLXosIDAtOSwgLV8uLCAoKSE/LiBTdHJpbmc6ICIrcyksITEpOih0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGJ1c2luZXNzIGV2ZW50IC0gaXRlbVR5cGU6IENhbm5vdCBiZSAobnVsbCksIGVtcHR5IG9yIGFib3ZlIDY0IGNoYXJhY3RlcnMuIFN0cmluZzogIitzKSwhMSk6KHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gYnVzaW5lc3MgZXZlbnQgLSBjYXJ0VHlwZS4gQ2Fubm90IGJlIGFib3ZlIDMyIGxlbmd0aC4gU3RyaW5nOiAiK3IpLCExKToodC5pKCJWYWxpZGF0aW9uIGZhaWwgLSBidXNpbmVzcyBldmVudCAtIGN1cnJlbmN5OiBDYW5ub3QgYmUgKG51bGwpIGFuZCBuZWVkIHRvIGJlIEEtWiwgMyBjaGFyYWN0ZXJzIGFuZCBpbiB0aGUgc3RhbmRhcmQgYXQgb3BlbmV4Y2hhbmdlcmF0ZXMub3JnLiBGYWlsZWQgY3VycmVuY3k6ICIrZSksITEpfSxuLnZhbGlkYXRlUmVzb3VyY2VFdmVudD1mdW5jdGlvbihpLHMsbyxhLHUsYyxkKXtyZXR1cm4gaT09ZS5FR0FSZXNvdXJjZUZsb3dUeXBlLlVuZGVmaW5lZD8odC5pKCJWYWxpZGF0aW9uIGZhaWwgLSByZXNvdXJjZSBldmVudCAtIGZsb3dUeXBlOiBJbnZhbGlkIGZsb3cgdHlwZS4iKSwhMSk6cz9yLnN0cmluZ0FycmF5Q29udGFpbnNTdHJpbmcoYyxzKT9vPjA/YT9uLnZhbGlkYXRlRXZlbnRQYXJ0TGVuZ3RoKGEsITEpP24udmFsaWRhdGVFdmVudFBhcnRDaGFyYWN0ZXJzKGEpP3Iuc3RyaW5nQXJyYXlDb250YWluc1N0cmluZyhkLGEpP24udmFsaWRhdGVFdmVudFBhcnRMZW5ndGgodSwhMSk/ISFuLnZhbGlkYXRlRXZlbnRQYXJ0Q2hhcmFjdGVycyh1KXx8KHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gcmVzb3VyY2UgZXZlbnQgLSBpdGVtSWQ6IENhbm5vdCBjb250YWluIG90aGVyIGNoYXJhY3RlcnMgdGhhbiBBLXosIDAtOSwgLV8uLCAoKSE/LiBTdHJpbmc6ICIrdSksITEpOih0LmkoIlZhbGlkYXRpb24gZmFpbCAtIHJlc291cmNlIGV2ZW50IC0gaXRlbUlkOiBDYW5ub3QgYmUgKG51bGwpLCBlbXB0eSBvciBhYm92ZSA2NCBjaGFyYWN0ZXJzLiBTdHJpbmc6ICIrdSksITEpOih0LmkoIlZhbGlkYXRpb24gZmFpbCAtIHJlc291cmNlIGV2ZW50IC0gaXRlbVR5cGU6IE5vdCBmb3VuZCBpbiBsaXN0IG9mIHByZS1kZWZpbmVkIGF2YWlsYWJsZSByZXNvdXJjZSBpdGVtVHlwZXMuIFN0cmluZzogIithKSwhMSk6KHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gcmVzb3VyY2UgZXZlbnQgLSBpdGVtVHlwZTogQ2Fubm90IGNvbnRhaW4gb3RoZXIgY2hhcmFjdGVycyB0aGFuIEEteiwgMC05LCAtXy4sICgpIT8uIFN0cmluZzogIithKSwhMSk6KHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gcmVzb3VyY2UgZXZlbnQgLSBpdGVtVHlwZTogQ2Fubm90IGJlIChudWxsKSwgZW1wdHkgb3IgYWJvdmUgNjQgY2hhcmFjdGVycy4gU3RyaW5nOiAiK2EpLCExKToodC5pKCJWYWxpZGF0aW9uIGZhaWwgLSByZXNvdXJjZSBldmVudCAtIGl0ZW1UeXBlOiBDYW5ub3QgYmUgKG51bGwpIiksITEpOih0LmkoIlZhbGlkYXRpb24gZmFpbCAtIHJlc291cmNlIGV2ZW50IC0gYW1vdW50OiBGbG9hdCBhbW91bnQgY2Fubm90IGJlIDAgb3IgbmVnYXRpdmUuIFZhbHVlOiAiK28pLCExKToodC5pKCJWYWxpZGF0aW9uIGZhaWwgLSByZXNvdXJjZSBldmVudCAtIGN1cnJlbmN5OiBOb3QgZm91bmQgaW4gbGlzdCBvZiBwcmUtZGVmaW5lZCBhdmFpbGFibGUgcmVzb3VyY2UgY3VycmVuY2llcy4gU3RyaW5nOiAiK3MpLCExKToodC5pKCJWYWxpZGF0aW9uIGZhaWwgLSByZXNvdXJjZSBldmVudCAtIGN1cnJlbmN5OiBDYW5ub3QgYmUgKG51bGwpIiksITEpfSxuLnZhbGlkYXRlUHJvZ3Jlc3Npb25FdmVudD1mdW5jdGlvbihpLHIscyxvKXtpZihpPT1lLkVHQVByb2dyZXNzaW9uU3RhdHVzLlVuZGVmaW5lZClyZXR1cm4gdC5pKCJWYWxpZGF0aW9uIGZhaWwgLSBwcm9ncmVzc2lvbiBldmVudDogSW52YWxpZCBwcm9ncmVzc2lvbiBzdGF0dXMuIiksITE7aWYobyYmIXMmJnIpcmV0dXJuIHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gcHJvZ3Jlc3Npb24gZXZlbnQ6IDAzIGZvdW5kIGJ1dCAwMSswMiBhcmUgaW52YWxpZC4gUHJvZ3Jlc3Npb24gbXVzdCBiZSBzZXQgYXMgZWl0aGVyIDAxLCAwMSswMiBvciAwMSswMiswMy4iKSwhMTtpZihzJiYhcilyZXR1cm4gdC5pKCJWYWxpZGF0aW9uIGZhaWwgLSBwcm9ncmVzc2lvbiBldmVudDogMDIgZm91bmQgYnV0IG5vdCAwMS4gUHJvZ3Jlc3Npb24gbXVzdCBiZSBzZXQgYXMgZWl0aGVyIDAxLCAwMSswMiBvciAwMSswMiswMyIpLCExO2lmKCFyKXJldHVybiB0LmkoIlZhbGlkYXRpb24gZmFpbCAtIHByb2dyZXNzaW9uIGV2ZW50OiBwcm9ncmVzc2lvbjAxIG5vdCB2YWxpZC4gUHJvZ3Jlc3Npb25zIG11c3QgYmUgc2V0IGFzIGVpdGhlciAwMSwgMDErMDIgb3IgMDErMDIrMDMiKSwhMTtpZighbi52YWxpZGF0ZUV2ZW50UGFydExlbmd0aChyLCExKSlyZXR1cm4gdC5pKCJWYWxpZGF0aW9uIGZhaWwgLSBwcm9ncmVzc2lvbiBldmVudCAtIHByb2dyZXNzaW9uMDE6IENhbm5vdCBiZSAobnVsbCksIGVtcHR5IG9yIGFib3ZlIDY0IGNoYXJhY3RlcnMuIFN0cmluZzogIityKSwhMTtpZighbi52YWxpZGF0ZUV2ZW50UGFydENoYXJhY3RlcnMocikpcmV0dXJuIHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gcHJvZ3Jlc3Npb24gZXZlbnQgLSBwcm9ncmVzc2lvbjAxOiBDYW5ub3QgY29udGFpbiBvdGhlciBjaGFyYWN0ZXJzIHRoYW4gQS16LCAwLTksIC1fLiwgKCkhPy4gU3RyaW5nOiAiK3IpLCExO2lmKHMpe2lmKCFuLnZhbGlkYXRlRXZlbnRQYXJ0TGVuZ3RoKHMsITApKXJldHVybiB0LmkoIlZhbGlkYXRpb24gZmFpbCAtIHByb2dyZXNzaW9uIGV2ZW50IC0gcHJvZ3Jlc3Npb24wMjogQ2Fubm90IGJlIGVtcHR5IG9yIGFib3ZlIDY0IGNoYXJhY3RlcnMuIFN0cmluZzogIitzKSwhMTtpZighbi52YWxpZGF0ZUV2ZW50UGFydENoYXJhY3RlcnMocykpcmV0dXJuIHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gcHJvZ3Jlc3Npb24gZXZlbnQgLSBwcm9ncmVzc2lvbjAyOiBDYW5ub3QgY29udGFpbiBvdGhlciBjaGFyYWN0ZXJzIHRoYW4gQS16LCAwLTksIC1fLiwgKCkhPy4gU3RyaW5nOiAiK3MpLCExfWlmKG8pe2lmKCFuLnZhbGlkYXRlRXZlbnRQYXJ0TGVuZ3RoKG8sITApKXJldHVybiB0LmkoIlZhbGlkYXRpb24gZmFpbCAtIHByb2dyZXNzaW9uIGV2ZW50IC0gcHJvZ3Jlc3Npb24wMzogQ2Fubm90IGJlIGVtcHR5IG9yIGFib3ZlIDY0IGNoYXJhY3RlcnMuIFN0cmluZzogIitvKSwhMTtpZighbi52YWxpZGF0ZUV2ZW50UGFydENoYXJhY3RlcnMobykpcmV0dXJuIHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gcHJvZ3Jlc3Npb24gZXZlbnQgLSBwcm9ncmVzc2lvbjAzOiBDYW5ub3QgY29udGFpbiBvdGhlciBjaGFyYWN0ZXJzIHRoYW4gQS16LCAwLTksIC1fLiwgKCkhPy4gU3RyaW5nOiAiK28pLCExfXJldHVybiEwfSxuLnZhbGlkYXRlRGVzaWduRXZlbnQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gbi52YWxpZGF0ZUV2ZW50SWRMZW5ndGgoZSk/ISFuLnZhbGlkYXRlRXZlbnRJZENoYXJhY3RlcnMoZSl8fCh0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGRlc2lnbiBldmVudCAtIGV2ZW50SWQ6IE5vbiB2YWxpZCBjaGFyYWN0ZXJzLiBPbmx5IGFsbG93ZWQgQS16LCAwLTksIC1fLiwgKCkhPy4gU3RyaW5nOiAiK2UpLCExKToodC5pKCJWYWxpZGF0aW9uIGZhaWwgLSBkZXNpZ24gZXZlbnQgLSBldmVudElkOiBDYW5ub3QgYmUgKG51bGwpIG9yIGVtcHR5LiBPbmx5IDUgZXZlbnQgcGFydHMgYWxsb3dlZCBzZXBlcmF0ZWQgYnkgOi4gRWFjaCBwYXJ0IG5lZWQgdG8gYmUgMzIgY2hhcmFjdGVycyBvciBsZXNzLiBTdHJpbmc6ICIrZSksITEpfSxuLnZhbGlkYXRlRXJyb3JFdmVudD1mdW5jdGlvbihpLHIpe3JldHVybiBpPT1lLkVHQUVycm9yU2V2ZXJpdHkuVW5kZWZpbmVkPyh0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGVycm9yIGV2ZW50IC0gc2V2ZXJpdHk6IFNldmVyaXR5IHdhcyB1bnN1cHBvcnRlZCB2YWx1ZS4iKSwhMSk6ISFuLnZhbGlkYXRlTG9uZ1N0cmluZyhyLCEwKXx8KHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gZXJyb3IgZXZlbnQgLSBtZXNzYWdlOiBNZXNzYWdlIGNhbm5vdCBiZSBhYm92ZSA4MTkyIGNoYXJhY3RlcnMuIiksITEpfSxuLnZhbGlkYXRlU2RrRXJyb3JFdmVudD1mdW5jdGlvbihlLHIscyl7cmV0dXJuISFuLnZhbGlkYXRlS2V5cyhlLHIpJiYocyE9PWkuVW5kZWZpbmVkfHwodC5pKCJWYWxpZGF0aW9uIGZhaWwgLSBzZGsgZXJyb3IgZXZlbnQgLSB0eXBlOiBUeXBlIHdhcyB1bnN1cHBvcnRlZCB2YWx1ZS4iKSwhMSkpfSxuLnZhbGlkYXRlS2V5cz1mdW5jdGlvbihlLG4pe3JldHVybiEoIXIuc3RyaW5nTWF0Y2goZSwvXltBLXowLTldezMyfSQvKXx8IXIuc3RyaW5nTWF0Y2gobiwvXltBLXowLTldezQwfSQvKSl9LG4udmFsaWRhdGVDdXJyZW5jeT1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJiEhci5zdHJpbmdNYXRjaChlLC9eW0EtWl17M30kLyl9LG4udmFsaWRhdGVFdmVudFBhcnRMZW5ndGg9ZnVuY3Rpb24oZSxuKXtyZXR1cm4hKCFufHxlKXx8ISFlJiYhKGUubGVuZ3RoPjY0KX0sbi52YWxpZGF0ZUV2ZW50UGFydENoYXJhY3RlcnM9ZnVuY3Rpb24oZSl7cmV0dXJuISFyLnN0cmluZ01hdGNoKGUsL15bQS1aYS16MC05XHNcLV9cLlwoXClcIVw/XXsxLDY0fSQvKX0sbi52YWxpZGF0ZUV2ZW50SWRMZW5ndGg9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYhIXIuc3RyaW5nTWF0Y2goZSwvXlteOl17MSw2NH0oPzo6W146XXsxLDY0fSl7MCw0fSQvKX0sbi52YWxpZGF0ZUV2ZW50SWRDaGFyYWN0ZXJzPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmISFyLnN0cmluZ01hdGNoKGUsL15bQS1aYS16MC05XHNcLV9cLlwoXClcIVw/XXsxLDY0fSg6W0EtWmEtejAtOVxzXC1fXC5cKFwpXCFcP117MSw2NH0pezAsNH0kLyl9LG4udmFsaWRhdGVBbmRDbGVhbkluaXRSZXF1ZXN0UmVzcG9uc2U9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSlyZXR1cm4gdC53KCJ2YWxpZGF0ZUluaXRSZXF1ZXN0UmVzcG9uc2UgZmFpbGVkIC0gbm8gcmVzcG9uc2UgZGljdGlvbmFyeS4iKSxudWxsO3ZhciBuPXt9O3RyeXtuLmVuYWJsZWQ9ZS5lbmFibGVkfWNhdGNoKGUpe3JldHVybiB0LncoInZhbGlkYXRlSW5pdFJlcXVlc3RSZXNwb25zZSBmYWlsZWQgLSBpbnZhbGlkIHR5cGUgaW4gJ2VuYWJsZWQnIGZpZWxkLiIpLG51bGx9dHJ5e3ZhciBpPWUuc2VydmVyX3RzO2lmKCEoaT4wKSlyZXR1cm4gdC53KCJ2YWxpZGF0ZUluaXRSZXF1ZXN0UmVzcG9uc2UgZmFpbGVkIC0gaW52YWxpZCB2YWx1ZSBpbiAnc2VydmVyX3RzJyBmaWVsZC4iKSxudWxsO24uc2VydmVyX3RzPWl9Y2F0Y2gobil7cmV0dXJuIHQudygidmFsaWRhdGVJbml0UmVxdWVzdFJlc3BvbnNlIGZhaWxlZCAtIGludmFsaWQgdHlwZSBpbiAnc2VydmVyX3RzJyBmaWVsZC4gdHlwZT0iK3R5cGVvZiBlLnNlcnZlcl90cysiLCB2YWx1ZT0iK2Uuc2VydmVyX3RzKyIsICIrbiksbnVsbH1yZXR1cm4gbn0sbi52YWxpZGF0ZUJ1aWxkPWZ1bmN0aW9uKGUpe3JldHVybiEhbi52YWxpZGF0ZVNob3J0U3RyaW5nKGUsITEpfSxuLnZhbGlkYXRlU2RrV3JhcHBlclZlcnNpb249ZnVuY3Rpb24oZSl7cmV0dXJuISFyLnN0cmluZ01hdGNoKGUsL14odW5pdHl8dW5yZWFsfGdhbWVtYWtlcnxjb2NvczJkfGNvbnN0cnVjdHxkZWZvbGQpIFswLTldezAsNX0oXC5bMC05XXswLDV9KXswLDJ9JC8pfSxuLnZhbGlkYXRlRW5naW5lVmVyc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhci5zdHJpbmdNYXRjaChlLC9eKHVuaXR5fHVucmVhbHxnYW1lbWFrZXJ8Y29jb3MyZHxjb25zdHJ1Y3R8ZGVmb2xkKSBbMC05XXswLDV9KFwuWzAtOV17MCw1fSl7MCwyfSQvKSl9LG4udmFsaWRhdGVVc2VySWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFuLnZhbGlkYXRlU3RyaW5nKGUsITEpfHwodC5pKCJWYWxpZGF0aW9uIGZhaWwgLSB1c2VyIGlkOiBpZCBjYW5ub3QgYmUgKG51bGwpLCBlbXB0eSBvciBhYm92ZSA2NCBjaGFyYWN0ZXJzLiIpLCExKX0sbi52YWxpZGF0ZVNob3J0U3RyaW5nPWZ1bmN0aW9uKGUsbil7cmV0dXJuISghbnx8ZSl8fCEoIWV8fGUubGVuZ3RoPjMyKX0sbi52YWxpZGF0ZVN0cmluZz1mdW5jdGlvbihlLG4pe3JldHVybiEoIW58fGUpfHwhKCFlfHxlLmxlbmd0aD42NCl9LG4udmFsaWRhdGVMb25nU3RyaW5nPWZ1bmN0aW9uKGUsbil7cmV0dXJuISghbnx8ZSl8fCEoIWV8fGUubGVuZ3RoPjgxOTIpfSxuLnZhbGlkYXRlQ29ubmVjdGlvblR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuc3RyaW5nTWF0Y2goZSwvXih3d2FufHdpZml8bGFufG9mZmxpbmUpJC8pfSxuLnZhbGlkYXRlQ3VzdG9tRGltZW5zaW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gbi52YWxpZGF0ZUFycmF5T2ZTdHJpbmdzKDIwLDMyLCExLCJjdXN0b20gZGltZW5zaW9ucyIsZSl9LG4udmFsaWRhdGVSZXNvdXJjZUN1cnJlbmNpZXM9ZnVuY3Rpb24oZSl7aWYoIW4udmFsaWRhdGVBcnJheU9mU3RyaW5ncygyMCw2NCwhMSwicmVzb3VyY2UgY3VycmVuY2llcyIsZSkpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDsrK2kpaWYoIXIuc3RyaW5nTWF0Y2goZVtpXSwvXltBLVphLXpdKyQvKSlyZXR1cm4gdC5pKCJyZXNvdXJjZSBjdXJyZW5jaWVzIHZhbGlkYXRpb24gZmFpbGVkOiBhIHJlc291cmNlIGN1cnJlbmN5IGNhbiBvbmx5IGJlIEEtWiwgYS16LiBTdHJpbmcgd2FzOiAiK2VbaV0pLCExO3JldHVybiEwfSxuLnZhbGlkYXRlUmVzb3VyY2VJdGVtVHlwZXM9ZnVuY3Rpb24oZSl7aWYoIW4udmFsaWRhdGVBcnJheU9mU3RyaW5ncygyMCwzMiwhMSwicmVzb3VyY2UgaXRlbSB0eXBlcyIsZSkpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDsrK2kpaWYoIW4udmFsaWRhdGVFdmVudFBhcnRDaGFyYWN0ZXJzKGVbaV0pKXJldHVybiB0LmkoInJlc291cmNlIGl0ZW0gdHlwZXMgdmFsaWRhdGlvbiBmYWlsZWQ6IGEgcmVzb3VyY2UgaXRlbSB0eXBlIGNhbm5vdCBjb250YWluIG90aGVyIGNoYXJhY3RlcnMgdGhhbiBBLXosIDAtOSwgLV8uLCAoKSE/LiBTdHJpbmcgd2FzOiAiK2VbaV0pLCExO3JldHVybiEwfSxuLnZhbGlkYXRlRGltZW5zaW9uMDE9ZnVuY3Rpb24oZSxuKXtyZXR1cm4hZXx8ISFyLnN0cmluZ0FycmF5Q29udGFpbnNTdHJpbmcobixlKX0sbi52YWxpZGF0ZURpbWVuc2lvbjAyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIWV8fCEhci5zdHJpbmdBcnJheUNvbnRhaW5zU3RyaW5nKG4sZSl9LG4udmFsaWRhdGVEaW1lbnNpb24wMz1mdW5jdGlvbihlLG4pe3JldHVybiFlfHwhIXIuc3RyaW5nQXJyYXlDb250YWluc1N0cmluZyhuLGUpfSxuLnZhbGlkYXRlQXJyYXlPZlN0cmluZ3M9ZnVuY3Rpb24oZSxuLGkscixzKXt2YXIgbz1yO2lmKG98fChvPSJBcnJheSIpLCFzKXJldHVybiB0LmkobysiIHZhbGlkYXRpb24gZmFpbGVkOiBhcnJheSBjYW5ub3QgYmUgbnVsbC4gIiksITE7aWYoMD09aSYmMD09cy5sZW5ndGgpcmV0dXJuIHQuaShvKyIgdmFsaWRhdGlvbiBmYWlsZWQ6IGFycmF5IGNhbm5vdCBiZSBlbXB0eS4gIiksITE7aWYoZT4wJiZzLmxlbmd0aD5lKXJldHVybiB0LmkobysiIHZhbGlkYXRpb24gZmFpbGVkOiBhcnJheSBjYW5ub3QgZXhjZWVkICIrZSsiIHZhbHVlcy4gSXQgaGFzICIrcy5sZW5ndGgrIiB2YWx1ZXMuIiksITE7Zm9yKHZhciBhPTA7YTxzLmxlbmd0aDsrK2Epe3ZhciB1PXNbYV0/c1thXS5sZW5ndGg6MDtpZigwPT09dSlyZXR1cm4gdC5pKG8rIiB2YWxpZGF0aW9uIGZhaWxlZDogY29udGFpbmVkIGFuIGVtcHR5IHN0cmluZy4gQXJyYXk9IitKU09OLnN0cmluZ2lmeShzKSksITE7aWYobj4wJiZ1Pm4pcmV0dXJuIHQuaShvKyIgdmFsaWRhdGlvbiBmYWlsZWQ6IGEgc3RyaW5nIGV4Y2VlZGVkIG1heCBhbGxvd2VkIGxlbmd0aCAod2hpY2ggaXM6ICIrbisiKS4gU3RyaW5nIHdhczogIitzW2FdKSwhMX1yZXR1cm4hMH0sbi52YWxpZGF0ZUZhY2Vib29rSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFuLnZhbGlkYXRlU3RyaW5nKGUsITEpfHwodC5pKCJWYWxpZGF0aW9uIGZhaWwgLSBmYWNlYm9vayBpZDogaWQgY2Fubm90IGJlIChudWxsKSwgZW1wdHkgb3IgYWJvdmUgNjQgY2hhcmFjdGVycy4iKSwhMSl9LG4udmFsaWRhdGVHZW5kZXI9ZnVuY3Rpb24obil7aWYoaXNOYU4oTnVtYmVyKGUuRUdBR2VuZGVyW25dKSkpe2lmKG49PWUuRUdBR2VuZGVyLlVuZGVmaW5lZHx8biE9ZS5FR0FHZW5kZXIuTWFsZSYmbiE9ZS5FR0FHZW5kZXIuRmVtYWxlKXJldHVybiB0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGdlbmRlcjogSGFzIHRvIGJlICdtYWxlJyBvciAnZmVtYWxlJy4gV2FzOiAiK24pLCExfWVsc2UgaWYobj09ZS5FR0FHZW5kZXJbZS5FR0FHZW5kZXIuVW5kZWZpbmVkXXx8biE9ZS5FR0FHZW5kZXJbZS5FR0FHZW5kZXIuTWFsZV0mJm4hPWUuRUdBR2VuZGVyW2UuRUdBR2VuZGVyLkZlbWFsZV0pcmV0dXJuIHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gZ2VuZGVyOiBIYXMgdG8gYmUgJ21hbGUnIG9yICdmZW1hbGUnLiBXYXM6ICIrbiksITE7cmV0dXJuITB9LG4udmFsaWRhdGVCaXJ0aHllYXI9ZnVuY3Rpb24oZSl7cmV0dXJuIShlPDB8fGU+OTk5OSl8fCh0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGJpcnRoWWVhcjogQ2Fubm90IGJlIChudWxsKSBvciBpbnZhbGlkIHJhbmdlLiIpLCExKX0sbi52YWxpZGF0ZUNsaWVudFRzPWZ1bmN0aW9uKGUpe3JldHVybiEoZTwtNDI5NDk2NzI5NHx8ZT40Mjk0OTY3Mjk0KX0sbn0oKTtuLkdBVmFsaWRhdG9yPXN9KGUudmFsaWRhdG9yc3x8KGUudmFsaWRhdG9ycz17fSkpfShnYW1lYW5hbHl0aWNzfHwoZ2FtZWFuYWx5dGljcz17fSkpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbix0KXt0aGlzLm5hbWU9ZSx0aGlzLnZhbHVlPW4sdGhpcy52ZXJzaW9uPXR9cmV0dXJuIGV9KCk7ZS5OYW1lVmFsdWVWZXJzaW9uPW47dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbil7dGhpcy5uYW1lPWUsdGhpcy52ZXJzaW9uPW59cmV0dXJuIGV9KCk7ZS5OYW1lVmVyc2lvbj10O3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS50b3VjaD1mdW5jdGlvbigpe30sZS5nZXRSZWxldmFudFNka1ZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZGtHYW1lRW5naW5lVmVyc2lvbj9lLnNka0dhbWVFbmdpbmVWZXJzaW9uOmUuc2RrV3JhcHBlclZlcnNpb259LGUuZ2V0Q29ubmVjdGlvblR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uVHlwZX0sZS51cGRhdGVDb25uZWN0aW9uVHlwZT1mdW5jdGlvbigpe25hdmlnYXRvci5vbkxpbmU/ImlvcyI9PT1lLmJ1aWxkUGxhdGZvcm18fCJhbmRyb2lkIj09PWUuYnVpbGRQbGF0Zm9ybT9lLmNvbm5lY3Rpb25UeXBlPSJ3d2FuIjplLmNvbm5lY3Rpb25UeXBlPSJsYW4iOmUuY29ubmVjdGlvblR5cGU9Im9mZmxpbmUifSxlLmdldE9TVmVyc2lvblN0cmluZz1mdW5jdGlvbigpe3JldHVybiBlLmJ1aWxkUGxhdGZvcm0rIiAiK2Uub3NWZXJzaW9uUGFpci52ZXJzaW9ufSxlLnJ1bnRpbWVQbGF0Zm9ybVRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUub3NWZXJzaW9uUGFpci5uYW1lfSxlLmdldEJyb3dzZXJWZXJzaW9uU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGUsbj1uYXZpZ2F0b3IudXNlckFnZW50LHQ9bi5tYXRjaCgvKG9wZXJhfGNocm9tZXxzYWZhcml8ZmlyZWZveHx1YnJvd3Nlcnxtc2llfHRyaWRlbnR8ZmJhdig/PVwvKSlcLz9ccyooXGQrKS9pKXx8W107aWYoL3RyaWRlbnQvaS50ZXN0KHRbMV0pKXJldHVybiBlPS9cYnJ2WyA6XSsoXGQrKS9nLmV4ZWMobil8fFtdLCJJRSAiKyhlWzFdfHwiIik7aWYoIkNocm9tZSI9PT10WzFdJiZudWxsIT0oZT1uLm1hdGNoKC9cYihPUFJ8RWRnZXxVQnJvd3NlcilcLyhcZCspLykpKXJldHVybiBlLnNsaWNlKDEpLmpvaW4oIiAiKS5yZXBsYWNlKCJPUFIiLCJPcGVyYSIpLnJlcGxhY2UoIlVCcm93c2VyIiwiVUMiKS50b0xvd2VyQ2FzZSgpO2lmKCJmYmF2Ij09PXRbMV0udG9Mb3dlckNhc2UoKSYmKHRbMV09ImZhY2Vib29rIix0WzJdKSlyZXR1cm4iZmFjZWJvb2sgIit0WzJdO3ZhciBpPXRbMl0/W3RbMV0sdFsyXV06W25hdmlnYXRvci5hcHBOYW1lLG5hdmlnYXRvci5hcHBWZXJzaW9uLCItPyJdO3JldHVybiBudWxsIT0oZT1uLm1hdGNoKC92ZXJzaW9uXC8oXGQrKS9pKSkmJmkuc3BsaWNlKDEsMSxlWzFdKSxpLmpvaW4oIiAiKS50b0xvd2VyQ2FzZSgpfSxlLmdldERldmljZU1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuInVua25vd24ifSxlLmdldERldmljZU1hbnVmYWN0dXJlcj1mdW5jdGlvbigpe3JldHVybiJ1bmtub3duIn0sZS5tYXRjaEl0ZW09ZnVuY3Rpb24oZSxuKXt2YXIgaSxyLHMsbyxhLHU9bmV3IHQoInVua25vd24iLCIwLjAuMCIpLGM9MCxkPTA7Zm9yKGM9MDtjPG4ubGVuZ3RoO2MrPTEpaWYoaT1uZXcgUmVnRXhwKG5bY10udmFsdWUsImkiKSxpLnRlc3QoZSkpe2lmKHI9bmV3IFJlZ0V4cChuW2NdLnZlcnNpb24rIlstIC86O10oW1xcZC5fXSspIiwiaSIpLHM9ZS5tYXRjaChyKSxhPSIiLHMmJnNbMV0mJihvPXNbMV0pLG8pe3ZhciBsPW8uc3BsaXQoL1suX10rLyk7Zm9yKGQ9MDtkPE1hdGgubWluKGwubGVuZ3RoLDMpO2QrPTEpYSs9bFtkXSsoZDxNYXRoLm1pbihsLmxlbmd0aCwzKS0xPyIuIjoiIil9ZWxzZSBhPSIwLjAuMCI7cmV0dXJuIHUubmFtZT1uW2NdLm5hbWUsdS52ZXJzaW9uPWEsdX1yZXR1cm4gdX0sZX0oKTtpLnNka1dyYXBwZXJWZXJzaW9uPSJqYXZhc2NyaXB0IDIuMS4yIixpLm9zVmVyc2lvblBhaXI9aS5tYXRjaEl0ZW0oW25hdmlnYXRvci5wbGF0Zm9ybSxuYXZpZ2F0b3IudXNlckFnZW50LG5hdmlnYXRvci5hcHBWZXJzaW9uLG5hdmlnYXRvci52ZW5kb3Isd2luZG93Lm9wZXJhXS5qb2luKCIgIiksW25ldyBuKCJ3aW5kb3dzX3Bob25lIiwiV2luZG93cyBQaG9uZSIsIk9TIiksbmV3IG4oIndpbmRvd3MiLCJXaW4iLCJOVCIpLG5ldyBuKCJpb3MiLCJpUGhvbmUiLCJPUyIpLG5ldyBuKCJpb3MiLCJpUGFkIiwiT1MiKSxuZXcgbigiaW9zIiwiaVBvZCIsIk9TIiksbmV3IG4oImFuZHJvaWQiLCJBbmRyb2lkIiwiQW5kcm9pZCIpLG5ldyBuKCJibGFja0JlcnJ5IiwiQmxhY2tCZXJyeSIsIi8iKSxuZXcgbigibWFjX29zeCIsIk1hYyIsIk9TIFgiKSxuZXcgbigidGl6ZW4iLCJUaXplbiIsIlRpemVuIiksbmV3IG4oImxpbnV4IiwiTGludXgiLCJydiIpXSksaS5idWlsZFBsYXRmb3JtPWkucnVudGltZVBsYXRmb3JtVG9TdHJpbmcoKSxpLmRldmljZU1vZGVsPWkuZ2V0RGV2aWNlTW9kZWwoKSxpLmRldmljZU1hbnVmYWN0dXJlcj1pLmdldERldmljZU1hbnVmYWN0dXJlcigpLGkub3NWZXJzaW9uPWkuZ2V0T1NWZXJzaW9uU3RyaW5nKCksaS5icm93c2VyVmVyc2lvbj1pLmdldEJyb3dzZXJWZXJzaW9uU3RyaW5nKCksaS5tYXhTYWZlSW50ZWdlcj1NYXRoLnBvdygyLDUzKS0xLGUuR0FEZXZpY2U9aX0oZS5kZXZpY2V8fChlLmRldmljZT17fSkpfShnYW1lYW5hbHl0aWNzfHwoZ2FtZWFuYWx5dGljcz17fSkpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKG4pe3RoaXMuZGVhZGxpbmU9bix0aGlzLmlnbm9yZT0hMSx0aGlzLmFzeW5jPSExLHRoaXMucnVubmluZz0hMSx0aGlzLmlkPSsrZS5pZENvdW50ZXJ9cmV0dXJuIGV9KCk7bi5pZENvdW50ZXI9MCxlLlRpbWVkQmxvY2s9bn0oZS50aHJlYWRpbmd8fChlLnRocmVhZGluZz17fSkpfShnYW1lYW5hbHl0aWNzfHwoZ2FtZWFuYWx5dGljcz17fSkpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuY29tcGFyZXI9ZSx0aGlzLl9zdWJRdWV1ZXM9e30sdGhpcy5fc29ydGVkS2V5cz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuZW5xdWV1ZT1mdW5jdGlvbihlLG4pey0xPT09dGhpcy5fc29ydGVkS2V5cy5pbmRleE9mKGUpJiZ0aGlzLmFkZFF1ZXVlT2ZQcmlvcml0eShlKSx0aGlzLl9zdWJRdWV1ZXNbZV0ucHVzaChuKX0sZS5wcm90b3R5cGUuYWRkUXVldWVPZlByaW9yaXR5PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7dGhpcy5fc29ydGVkS2V5cy5wdXNoKGUpLHRoaXMuX3NvcnRlZEtleXMuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBuLmNvbXBhcmVyLmNvbXBhcmUoZSx0KX0pLHRoaXMuX3N1YlF1ZXVlc1tlXT1bXX0sZS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe2lmKHRoaXMuaGFzSXRlbXMoKSlyZXR1cm4gdGhpcy5fc3ViUXVldWVzW3RoaXMuX3NvcnRlZEtleXNbMF1dWzBdO3Rocm93IG5ldyBFcnJvcigiVGhlIHF1ZXVlIGlzIGVtcHR5Iil9LGUucHJvdG90eXBlLmhhc0l0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvcnRlZEtleXMubGVuZ3RoPjB9LGUucHJvdG90eXBlLmRlcXVldWU9ZnVuY3Rpb24oKXtpZih0aGlzLmhhc0l0ZW1zKCkpcmV0dXJuIHRoaXMuZGVxdWV1ZUZyb21IaWdoUHJpb3JpdHlRdWV1ZSgpO3Rocm93IG5ldyBFcnJvcigiVGhlIHF1ZXVlIGlzIGVtcHR5Iil9LGUucHJvdG90eXBlLmRlcXVldWVGcm9tSGlnaFByaW9yaXR5UXVldWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zb3J0ZWRLZXlzWzBdLG49dGhpcy5fc3ViUXVldWVzW2VdLnNoaWZ0KCk7cmV0dXJuIDA9PT10aGlzLl9zdWJRdWV1ZXNbZV0ubGVuZ3RoJiYodGhpcy5fc29ydGVkS2V5cy5zaGlmdCgpLGRlbGV0ZSB0aGlzLl9zdWJRdWV1ZXNbZV0pLG59LGV9KCk7ZS5Qcmlvcml0eVF1ZXVlPW59KGUudGhyZWFkaW5nfHwoZS50aHJlYWRpbmc9e30pKX0oZ2FtZWFuYWx5dGljc3x8KGdhbWVhbmFseXRpY3M9e30pKTt2YXIgZ2FtZWFuYWx5dGljczshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKG4pe3ZhciB0LGk9ZS5sb2dnaW5nLkdBTG9nZ2VyOyFmdW5jdGlvbihlKXtlW2UuRXF1YWw9MF09IkVxdWFsIixlW2UuTGVzc09yRXF1YWw9MV09Ikxlc3NPckVxdWFsIixlW2UuTm90RXF1YWw9Ml09Ik5vdEVxdWFsIn0odD1uLkVHQVN0b3JlQXJnc09wZXJhdG9yfHwobi5FR0FTdG9yZUFyZ3NPcGVyYXRvcj17fSkpO3ZhciByOyFmdW5jdGlvbihlKXtlW2UuRXZlbnRzPTBdPSJFdmVudHMiLGVbZS5TZXNzaW9ucz0xXT0iU2Vzc2lvbnMiLGVbZS5Qcm9ncmVzc2lvbj0yXT0iUHJvZ3Jlc3Npb24ifShyPW4uRUdBU3RvcmV8fChuLkVHQVN0b3JlPXt9KSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5ldmVudHNTdG9yZT1bXSx0aGlzLnNlc3Npb25zU3RvcmU9W10sdGhpcy5wcm9ncmVzc2lvblN0b3JlPVtdLHRoaXMuc3RvcmVJdGVtcz17fTt0cnl7Im9iamVjdCI9PXR5cGVvZiBsb2NhbFN0b3JhZ2U/KGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0ZXN0aW5nTG9jYWxTdG9yYWdlIiwieWVzIiksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRlc3RpbmdMb2NhbFN0b3JhZ2UiKSxlLnN0b3JhZ2VBdmFpbGFibGU9ITApOmUuc3RvcmFnZUF2YWlsYWJsZT0hMX1jYXRjaChlKXt9fXJldHVybiBlLmlzU3RvcmFnZUF2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiBlLnN0b3JhZ2VBdmFpbGFibGV9LGUuaXNTdG9yZVRvb0xhcmdlRm9yRXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUuaW5zdGFuY2UuZXZlbnRzU3RvcmUubGVuZ3RoK2UuaW5zdGFuY2Uuc2Vzc2lvbnNTdG9yZS5sZW5ndGg+ZS5NYXhOdW1iZXJPZkVudHJpZXN9LGUuc2VsZWN0PWZ1bmN0aW9uKG4saSxyLHMpe3ZvaWQgMD09PWkmJihpPVtdKSx2b2lkIDA9PT1yJiYocj0hMSksdm9pZCAwPT09cyYmKHM9MCk7dmFyIG89ZS5nZXRTdG9yZShuKTtpZighbylyZXR1cm4gbnVsbDtmb3IodmFyIGE9W10sdT0wO3U8by5sZW5ndGg7Kyt1KXtmb3IodmFyIGM9b1t1XSxkPSEwLGw9MDtsPGkubGVuZ3RoOysrbCl7dmFyIGY9aVtsXTtpZihjW2ZbMF1dKXN3aXRjaChmWzFdKXtjYXNlIHQuRXF1YWw6ZD1jW2ZbMF1dPT1mWzJdO2JyZWFrO2Nhc2UgdC5MZXNzT3JFcXVhbDpkPWNbZlswXV08PWZbMl07YnJlYWs7Y2FzZSB0Lk5vdEVxdWFsOmQ9Y1tmWzBdXSE9ZlsyXTticmVhaztkZWZhdWx0OmQ9ITF9ZWxzZSBkPSExO2lmKCFkKWJyZWFrfWQmJmEucHVzaChjKX1yZXR1cm4gciYmYS5zb3J0KGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuY2xpZW50X3RzLW4uY2xpZW50X3RzfSkscz4wJiZhLmxlbmd0aD5zJiYoYT1hLnNsaWNlKDAscysxKSksYX0sZS51cGRhdGU9ZnVuY3Rpb24obixpLHIpe3ZvaWQgMD09PXImJihyPVtdKTt2YXIgcz1lLmdldFN0b3JlKG4pO2lmKCFzKXJldHVybiExO2Zvcih2YXIgbz0wO288cy5sZW5ndGg7KytvKXtmb3IodmFyIGE9c1tvXSx1PSEwLGM9MDtjPHIubGVuZ3RoOysrYyl7dmFyIGQ9cltjXTtpZihhW2RbMF1dKXN3aXRjaChkWzFdKXtjYXNlIHQuRXF1YWw6dT1hW2RbMF1dPT1kWzJdO2JyZWFrO2Nhc2UgdC5MZXNzT3JFcXVhbDp1PWFbZFswXV08PWRbMl07YnJlYWs7Y2FzZSB0Lk5vdEVxdWFsOnU9YVtkWzBdXSE9ZFsyXTticmVhaztkZWZhdWx0OnU9ITF9ZWxzZSB1PSExO2lmKCF1KWJyZWFrfWlmKHUpZm9yKHZhciBjPTA7YzxpLmxlbmd0aDsrK2Mpe3ZhciBsPWlbY107YVtsWzBdXT1sWzFdfX1yZXR1cm4hMH0sZS5kZWxldGU9ZnVuY3Rpb24obixpKXt2YXIgcj1lLmdldFN0b3JlKG4pO2lmKHIpZm9yKHZhciBzPTA7czxyLmxlbmd0aDsrK3Mpe2Zvcih2YXIgbz1yW3NdLGE9ITAsdT0wO3U8aS5sZW5ndGg7Kyt1KXt2YXIgYz1pW3VdO2lmKG9bY1swXV0pc3dpdGNoKGNbMV0pe2Nhc2UgdC5FcXVhbDphPW9bY1swXV09PWNbMl07YnJlYWs7Y2FzZSB0Lkxlc3NPckVxdWFsOmE9b1tjWzBdXTw9Y1syXTticmVhaztjYXNlIHQuTm90RXF1YWw6YT1vW2NbMF1dIT1jWzJdO2JyZWFrO2RlZmF1bHQ6YT0hMX1lbHNlIGE9ITE7aWYoIWEpYnJlYWt9YSYmKHIuc3BsaWNlKHMsMSksLS1zKX19LGUuaW5zZXJ0PWZ1bmN0aW9uKG4sdCxpLHIpe3ZvaWQgMD09PWkmJihpPSExKSx2b2lkIDA9PT1yJiYocj1udWxsKTt2YXIgcz1lLmdldFN0b3JlKG4pO2lmKHMpaWYoaSl7aWYoIXIpcmV0dXJuO2Zvcih2YXIgbz0hMSxhPTA7YTxzLmxlbmd0aDsrK2Epe3ZhciB1PXNbYV07aWYodVtyXT09dFtyXSl7Zm9yKHZhciBjIGluIHQpdVtjXT10W2NdO289ITA7YnJlYWt9fW98fHMucHVzaCh0KX1lbHNlIHMucHVzaCh0KX0sZS5zYXZlPWZ1bmN0aW9uKCl7aWYoIWUuaXNTdG9yYWdlQXZhaWxhYmxlKCkpcmV0dXJuIHZvaWQgaS53KCJTdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUsIGNhbm5vdCBzYXZlLiIpO2xvY2FsU3RvcmFnZS5zZXRJdGVtKGUuS2V5UHJlZml4K2UuRXZlbnRzU3RvcmVLZXksSlNPTi5zdHJpbmdpZnkoZS5pbnN0YW5jZS5ldmVudHNTdG9yZSkpLGxvY2FsU3RvcmFnZS5zZXRJdGVtKGUuS2V5UHJlZml4K2UuU2Vzc2lvbnNTdG9yZUtleSxKU09OLnN0cmluZ2lmeShlLmluc3RhbmNlLnNlc3Npb25zU3RvcmUpKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLktleVByZWZpeCtlLlByb2dyZXNzaW9uU3RvcmVLZXksSlNPTi5zdHJpbmdpZnkoZS5pbnN0YW5jZS5wcm9ncmVzc2lvblN0b3JlKSksbG9jYWxTdG9yYWdlLnNldEl0ZW0oZS5LZXlQcmVmaXgrZS5JdGVtc1N0b3JlS2V5LEpTT04uc3RyaW5naWZ5KGUuaW5zdGFuY2Uuc3RvcmVJdGVtcykpfSxlLmxvYWQ9ZnVuY3Rpb24oKXtpZighZS5pc1N0b3JhZ2VBdmFpbGFibGUoKSlyZXR1cm4gdm9pZCBpLncoIlN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZSwgY2Fubm90IGxvYWQuIik7dHJ5e2UuaW5zdGFuY2UuZXZlbnRzU3RvcmU9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShlLktleVByZWZpeCtlLkV2ZW50c1N0b3JlS2V5KSksZS5pbnN0YW5jZS5ldmVudHNTdG9yZXx8KGUuaW5zdGFuY2UuZXZlbnRzU3RvcmU9W10pfWNhdGNoKG4pe2kudygiTG9hZCBmYWlsZWQgZm9yICdldmVudHMnIHN0b3JlLiBVc2luZyBlbXB0eSBzdG9yZS4iKSxlLmluc3RhbmNlLmV2ZW50c1N0b3JlPVtdfXRyeXtlLmluc3RhbmNlLnNlc3Npb25zU3RvcmU9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShlLktleVByZWZpeCtlLlNlc3Npb25zU3RvcmVLZXkpKSxlLmluc3RhbmNlLnNlc3Npb25zU3RvcmV8fChlLmluc3RhbmNlLnNlc3Npb25zU3RvcmU9W10pfWNhdGNoKG4pe2kudygiTG9hZCBmYWlsZWQgZm9yICdzZXNzaW9ucycgc3RvcmUuIFVzaW5nIGVtcHR5IHN0b3JlLiIpLGUuaW5zdGFuY2Uuc2Vzc2lvbnNTdG9yZT1bXX10cnl7ZS5pbnN0YW5jZS5wcm9ncmVzc2lvblN0b3JlPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oZS5LZXlQcmVmaXgrZS5Qcm9ncmVzc2lvblN0b3JlS2V5KSksZS5pbnN0YW5jZS5wcm9ncmVzc2lvblN0b3JlfHwoZS5pbnN0YW5jZS5wcm9ncmVzc2lvblN0b3JlPVtdKX1jYXRjaChuKXtpLncoIkxvYWQgZmFpbGVkIGZvciAncHJvZ3Jlc3Npb24nIHN0b3JlLiBVc2luZyBlbXB0eSBzdG9yZS4iKSxlLmluc3RhbmNlLnByb2dyZXNzaW9uU3RvcmU9W119dHJ5e2UuaW5zdGFuY2Uuc3RvcmVJdGVtcz1KU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGUuS2V5UHJlZml4K2UuSXRlbXNTdG9yZUtleSkpLGUuaW5zdGFuY2Uuc3RvcmVJdGVtc3x8KGUuaW5zdGFuY2Uuc3RvcmVJdGVtcz17fSl9Y2F0Y2gobil7aS53KCJMb2FkIGZhaWxlZCBmb3IgJ2l0ZW1zJyBzdG9yZS4gVXNpbmcgZW1wdHkgc3RvcmUuIiksZS5pbnN0YW5jZS5wcm9ncmVzc2lvblN0b3JlPVtdfX0sZS5zZXRJdGVtPWZ1bmN0aW9uKG4sdCl7dmFyIGk9ZS5LZXlQcmVmaXgrbjt0P2UuaW5zdGFuY2Uuc3RvcmVJdGVtc1tpXT10OmkgaW4gZS5pbnN0YW5jZS5zdG9yZUl0ZW1zJiZkZWxldGUgZS5pbnN0YW5jZS5zdG9yZUl0ZW1zW2ldfSxlLmdldEl0ZW09ZnVuY3Rpb24obil7dmFyIHQ9ZS5LZXlQcmVmaXgrbjtyZXR1cm4gdCBpbiBlLmluc3RhbmNlLnN0b3JlSXRlbXM/ZS5pbnN0YW5jZS5zdG9yZUl0ZW1zW3RdOm51bGx9LGUuZ2V0U3RvcmU9ZnVuY3Rpb24obil7c3dpdGNoKG4pe2Nhc2Ugci5FdmVudHM6cmV0dXJuIGUuaW5zdGFuY2UuZXZlbnRzU3RvcmU7Y2FzZSByLlNlc3Npb25zOnJldHVybiBlLmluc3RhbmNlLnNlc3Npb25zU3RvcmU7Y2FzZSByLlByb2dyZXNzaW9uOnJldHVybiBlLmluc3RhbmNlLnByb2dyZXNzaW9uU3RvcmU7ZGVmYXVsdDpyZXR1cm4gaS53KCJHQVN0b3JlLmdldFN0b3JlKCk6IENhbm5vdCBmaW5kIHN0b3JlOiAiK24pLG51bGx9fSxlfSgpO3MuaW5zdGFuY2U9bmV3IHMscy5NYXhOdW1iZXJPZkVudHJpZXM9MmUzLHMuS2V5UHJlZml4PSJHQTo6IixzLkV2ZW50c1N0b3JlS2V5PSJnYV9ldmVudCIscy5TZXNzaW9uc1N0b3JlS2V5PSJnYV9zZXNzaW9uIixzLlByb2dyZXNzaW9uU3RvcmVLZXk9ImdhX3Byb2dyZXNzaW9uIixzLkl0ZW1zU3RvcmVLZXk9ImdhX2l0ZW1zIixuLkdBU3RvcmU9c30oZS5zdG9yZXx8KGUuc3RvcmU9e30pKX0oZ2FtZWFuYWx5dGljc3x8KGdhbWVhbmFseXRpY3M9e30pKTt2YXIgZ2FtZWFuYWx5dGljczshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKG4pe3ZhciB0PWUudmFsaWRhdG9ycy5HQVZhbGlkYXRvcixpPWUudXRpbGl0aWVzLkdBVXRpbGl0aWVzLHI9ZS5sb2dnaW5nLkdBTG9nZ2VyLHM9ZS5zdG9yZS5HQVN0b3JlLG89ZS5kZXZpY2UuR0FEZXZpY2UsYT1lLnN0b3JlLkVHQVN0b3JlLHU9ZS5zdG9yZS5FR0FTdG9yZUFyZ3NPcGVyYXRvcixjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMuYXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAxPVtdLHRoaXMuYXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAyPVtdLHRoaXMuYXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAzPVtdLHRoaXMuYXZhaWxhYmxlUmVzb3VyY2VDdXJyZW5jaWVzPVtdLHRoaXMuYXZhaWxhYmxlUmVzb3VyY2VJdGVtVHlwZXM9W10sdGhpcy5zZGtDb25maWdEZWZhdWx0PXt9LHRoaXMuc2RrQ29uZmlnPXt9LHRoaXMucHJvZ3Jlc3Npb25Ucmllcz17fX1yZXR1cm4gbi5zZXRVc2VySWQ9ZnVuY3Rpb24oZSl7bi5pbnN0YW5jZS51c2VySWQ9ZSxuLmNhY2hlSWRlbnRpZmllcigpfSxuLmdldElkZW50aWZpZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5pZGVudGlmaWVyfSxuLmlzSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5pbml0aWFsaXplZH0sbi5zZXRJbml0aWFsaXplZD1mdW5jdGlvbihlKXtuLmluc3RhbmNlLmluaXRpYWxpemVkPWV9LG4uZ2V0U2Vzc2lvblN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG4uaW5zdGFuY2Uuc2Vzc2lvblN0YXJ0fSxuLmdldFNlc3Npb25OdW09ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5zZXNzaW9uTnVtfSxuLmdldFRyYW5zYWN0aW9uTnVtPWZ1bmN0aW9uKCl7cmV0dXJuIG4uaW5zdGFuY2UudHJhbnNhY3Rpb25OdW19LG4uZ2V0U2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIG4uaW5zdGFuY2Uuc2Vzc2lvbklkfSxuLmdldEN1cnJlbnRDdXN0b21EaW1lbnNpb24wMT1mdW5jdGlvbigpe3JldHVybiBuLmluc3RhbmNlLmN1cnJlbnRDdXN0b21EaW1lbnNpb24wMX0sbi5nZXRDdXJyZW50Q3VzdG9tRGltZW5zaW9uMDI9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5jdXJyZW50Q3VzdG9tRGltZW5zaW9uMDJ9LG4uZ2V0Q3VycmVudEN1c3RvbURpbWVuc2lvbjAzPWZ1bmN0aW9uKCl7cmV0dXJuIG4uaW5zdGFuY2UuY3VycmVudEN1c3RvbURpbWVuc2lvbjAzfSxuLmdldEdhbWVLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5nYW1lS2V5fSxuLmdldEdhbWVTZWNyZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5nYW1lU2VjcmV0fSxuLmdldEF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMT1mdW5jdGlvbigpe3JldHVybiBuLmluc3RhbmNlLmF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMX0sbi5zZXRBdmFpbGFibGVDdXN0b21EaW1lbnNpb25zMDE9ZnVuY3Rpb24oZSl7dC52YWxpZGF0ZUN1c3RvbURpbWVuc2lvbnMoZSkmJihuLmluc3RhbmNlLmF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMT1lLG4udmFsaWRhdGVBbmRGaXhDdXJyZW50RGltZW5zaW9ucygpLHIuaSgiU2V0IGF2YWlsYWJsZSBjdXN0b20wMSBkaW1lbnNpb24gdmFsdWVzOiAoIitpLmpvaW5TdHJpbmdBcnJheShlLCIsICIpKyIpIikpfSxuLmdldEF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMj1mdW5jdGlvbigpe3JldHVybiBuLmluc3RhbmNlLmF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMn0sbi5zZXRBdmFpbGFibGVDdXN0b21EaW1lbnNpb25zMDI9ZnVuY3Rpb24oZSl7dC52YWxpZGF0ZUN1c3RvbURpbWVuc2lvbnMoZSkmJihuLmluc3RhbmNlLmF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMj1lLG4udmFsaWRhdGVBbmRGaXhDdXJyZW50RGltZW5zaW9ucygpLHIuaSgiU2V0IGF2YWlsYWJsZSBjdXN0b20wMiBkaW1lbnNpb24gdmFsdWVzOiAoIitpLmpvaW5TdHJpbmdBcnJheShlLCIsICIpKyIpIikpfSxuLmdldEF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMz1mdW5jdGlvbigpe3JldHVybiBuLmluc3RhbmNlLmF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwM30sbi5zZXRBdmFpbGFibGVDdXN0b21EaW1lbnNpb25zMDM9ZnVuY3Rpb24oZSl7dC52YWxpZGF0ZUN1c3RvbURpbWVuc2lvbnMoZSkmJihuLmluc3RhbmNlLmF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMz1lLG4udmFsaWRhdGVBbmRGaXhDdXJyZW50RGltZW5zaW9ucygpLHIuaSgiU2V0IGF2YWlsYWJsZSBjdXN0b20wMyBkaW1lbnNpb24gdmFsdWVzOiAoIitpLmpvaW5TdHJpbmdBcnJheShlLCIsICIpKyIpIikpfSxuLmdldEF2YWlsYWJsZVJlc291cmNlQ3VycmVuY2llcz1mdW5jdGlvbigpe3JldHVybiBuLmluc3RhbmNlLmF2YWlsYWJsZVJlc291cmNlQ3VycmVuY2llc30sbi5zZXRBdmFpbGFibGVSZXNvdXJjZUN1cnJlbmNpZXM9ZnVuY3Rpb24oZSl7dC52YWxpZGF0ZVJlc291cmNlQ3VycmVuY2llcyhlKSYmKG4uaW5zdGFuY2UuYXZhaWxhYmxlUmVzb3VyY2VDdXJyZW5jaWVzPWUsci5pKCJTZXQgYXZhaWxhYmxlIHJlc291cmNlIGN1cnJlbmNpZXM6ICgiK2kuam9pblN0cmluZ0FycmF5KGUsIiwgIikrIikiKSl9LG4uZ2V0QXZhaWxhYmxlUmVzb3VyY2VJdGVtVHlwZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5hdmFpbGFibGVSZXNvdXJjZUl0ZW1UeXBlc30sbi5zZXRBdmFpbGFibGVSZXNvdXJjZUl0ZW1UeXBlcz1mdW5jdGlvbihlKXt0LnZhbGlkYXRlUmVzb3VyY2VJdGVtVHlwZXMoZSkmJihuLmluc3RhbmNlLmF2YWlsYWJsZVJlc291cmNlSXRlbVR5cGVzPWUsci5pKCJTZXQgYXZhaWxhYmxlIHJlc291cmNlIGl0ZW0gdHlwZXM6ICgiK2kuam9pblN0cmluZ0FycmF5KGUsIiwgIikrIikiKSl9LG4uZ2V0QnVpbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5idWlsZH0sbi5zZXRCdWlsZD1mdW5jdGlvbihlKXtuLmluc3RhbmNlLmJ1aWxkPWUsci5pKCJTZXQgYnVpbGQgdmVyc2lvbjogIitlKX0sbi5nZXRVc2VNYW51YWxTZXNzaW9uSGFuZGxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS51c2VNYW51YWxTZXNzaW9uSGFuZGxpbmd9LG4ucHJvdG90eXBlLnNldERlZmF1bHRJZD1mdW5jdGlvbihlKXt0aGlzLmRlZmF1bHRVc2VySWQ9ZXx8IiIsbi5jYWNoZUlkZW50aWZpZXIoKX0sbi5nZXREZWZhdWx0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnN0YW5jZS5kZWZhdWx0VXNlcklkfSxuLmdldFNka0NvbmZpZz1mdW5jdGlvbigpe3ZhciBlLHQ9MDtmb3IodmFyIGkgaW4gbi5pbnN0YW5jZS5zZGtDb25maWcpMD09PXQmJihlPWkpLCsrdDtpZihlJiZ0PjApcmV0dXJuIG4uaW5zdGFuY2Uuc2RrQ29uZmlnO3ZhciBlLHQ9MDtmb3IodmFyIGkgaW4gbi5pbnN0YW5jZS5zZGtDb25maWdDYWNoZWQpMD09PXQmJihlPWkpLCsrdAo7cmV0dXJuIGUmJnQ+MD9uLmluc3RhbmNlLnNka0NvbmZpZ0NhY2hlZDpuLmluc3RhbmNlLnNka0NvbmZpZ0RlZmF1bHR9LG4uaXNFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9bi5nZXRTZGtDb25maWcoKTtyZXR1cm4oIWUuZW5hYmxlZHx8ImZhbHNlIiE9ZS5lbmFibGVkKSYmISFuLmluc3RhbmNlLmluaXRBdXRob3JpemVkfSxuLnNldEN1c3RvbURpbWVuc2lvbjAxPWZ1bmN0aW9uKGUpe24uaW5zdGFuY2UuY3VycmVudEN1c3RvbURpbWVuc2lvbjAxPWUscy5zZXRJdGVtKG4uRGltZW5zaW9uMDFLZXksZSksci5pKCJTZXQgY3VzdG9tMDEgZGltZW5zaW9uIHZhbHVlOiAiK2UpfSxuLnNldEN1c3RvbURpbWVuc2lvbjAyPWZ1bmN0aW9uKGUpe24uaW5zdGFuY2UuY3VycmVudEN1c3RvbURpbWVuc2lvbjAyPWUscy5zZXRJdGVtKG4uRGltZW5zaW9uMDJLZXksZSksci5pKCJTZXQgY3VzdG9tMDIgZGltZW5zaW9uIHZhbHVlOiAiK2UpfSxuLnNldEN1c3RvbURpbWVuc2lvbjAzPWZ1bmN0aW9uKGUpe24uaW5zdGFuY2UuY3VycmVudEN1c3RvbURpbWVuc2lvbjAzPWUscy5zZXRJdGVtKG4uRGltZW5zaW9uMDNLZXksZSksci5pKCJTZXQgY3VzdG9tMDMgZGltZW5zaW9uIHZhbHVlOiAiK2UpfSxuLnNldEZhY2Vib29rSWQ9ZnVuY3Rpb24oZSl7bi5pbnN0YW5jZS5mYWNlYm9va0lkPWUscy5zZXRJdGVtKG4uRmFjZWJvb2tJZEtleSxlKSxyLmkoIlNldCBmYWNlYm9vayBpZDogIitlKX0sbi5zZXRHZW5kZXI9ZnVuY3Rpb24odCl7bi5pbnN0YW5jZS5nZW5kZXI9aXNOYU4oTnVtYmVyKGUuRUdBR2VuZGVyW3RdKSk/ZS5FR0FHZW5kZXJbdF0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpOmUuRUdBR2VuZGVyW2UuRUdBR2VuZGVyW3RdXS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkscy5zZXRJdGVtKG4uR2VuZGVyS2V5LG4uaW5zdGFuY2UuZ2VuZGVyKSxyLmkoIlNldCBnZW5kZXI6ICIrbi5pbnN0YW5jZS5nZW5kZXIpfSxuLnNldEJpcnRoWWVhcj1mdW5jdGlvbihlKXtuLmluc3RhbmNlLmJpcnRoWWVhcj1lLHMuc2V0SXRlbShuLkJpcnRoWWVhcktleSxlLnRvU3RyaW5nKCkpLHIuaSgiU2V0IGJpcnRoIHllYXI6ICIrZSl9LG4uaW5jcmVtZW50U2Vzc2lvbk51bT1mdW5jdGlvbigpe3ZhciBlPW4uZ2V0U2Vzc2lvbk51bSgpKzE7bi5pbnN0YW5jZS5zZXNzaW9uTnVtPWV9LG4uaW5jcmVtZW50VHJhbnNhY3Rpb25OdW09ZnVuY3Rpb24oKXt2YXIgZT1uLmdldFRyYW5zYWN0aW9uTnVtKCkrMTtuLmluc3RhbmNlLnRyYW5zYWN0aW9uTnVtPWV9LG4uaW5jcmVtZW50UHJvZ3Jlc3Npb25Ucmllcz1mdW5jdGlvbihlKXt2YXIgdD1uLmdldFByb2dyZXNzaW9uVHJpZXMoZSkrMTtuLmluc3RhbmNlLnByb2dyZXNzaW9uVHJpZXNbZV09dDt2YXIgaT17fTtpLnByb2dyZXNzaW9uPWUsaS50cmllcz10LHMuaW5zZXJ0KGEuUHJvZ3Jlc3Npb24saSwhMCwicHJvZ3Jlc3Npb24iKX0sbi5nZXRQcm9ncmVzc2lvblRyaWVzPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluIG4uaW5zdGFuY2UucHJvZ3Jlc3Npb25Ucmllcz9uLmluc3RhbmNlLnByb2dyZXNzaW9uVHJpZXNbZV06MH0sbi5jbGVhclByb2dyZXNzaW9uVHJpZXM9ZnVuY3Rpb24oZSl7ZSBpbiBuLmluc3RhbmNlLnByb2dyZXNzaW9uVHJpZXMmJmRlbGV0ZSBuLmluc3RhbmNlLnByb2dyZXNzaW9uVHJpZXNbZV07dmFyIHQ9W107dC5wdXNoKFsicHJvZ3Jlc3Npb24iLHUuRXF1YWwsZV0pLHMuZGVsZXRlKGEuUHJvZ3Jlc3Npb24sdCl9LG4uc2V0S2V5cz1mdW5jdGlvbihlLHQpe24uaW5zdGFuY2UuZ2FtZUtleT1lLG4uaW5zdGFuY2UuZ2FtZVNlY3JldD10fSxuLnNldE1hbnVhbFNlc3Npb25IYW5kbGluZz1mdW5jdGlvbihlKXtuLmluc3RhbmNlLnVzZU1hbnVhbFNlc3Npb25IYW5kbGluZz1lLHIuaSgiVXNlIG1hbnVhbCBzZXNzaW9uIGhhbmRsaW5nOiAiK2UpfSxuLmdldEV2ZW50QW5ub3RhdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT17fTtlLnY9MixlLnVzZXJfaWQ9bi5pbnN0YW5jZS5pZGVudGlmaWVyLGUuY2xpZW50X3RzPW4uZ2V0Q2xpZW50VHNBZGp1c3RlZCgpLGUuc2RrX3ZlcnNpb249by5nZXRSZWxldmFudFNka1ZlcnNpb24oKSxlLm9zX3ZlcnNpb249by5vc1ZlcnNpb24sZS5tYW51ZmFjdHVyZXI9by5kZXZpY2VNYW51ZmFjdHVyZXIsZS5kZXZpY2U9by5kZXZpY2VNb2RlbCxlLmJyb3dzZXJfdmVyc2lvbj1vLmJyb3dzZXJWZXJzaW9uLGUucGxhdGZvcm09by5idWlsZFBsYXRmb3JtLGUuc2Vzc2lvbl9pZD1uLmluc3RhbmNlLnNlc3Npb25JZCxlW24uU2Vzc2lvbk51bUtleV09bi5pbnN0YW5jZS5zZXNzaW9uTnVtO3ZhciBpPW8uZ2V0Q29ubmVjdGlvblR5cGUoKTtyZXR1cm4gdC52YWxpZGF0ZUNvbm5lY3Rpb25UeXBlKGkpJiYoZS5jb25uZWN0aW9uX3R5cGU9aSksby5nYW1lRW5naW5lVmVyc2lvbiYmKGUuZW5naW5lX3ZlcnNpb249by5nYW1lRW5naW5lVmVyc2lvbiksbi5pbnN0YW5jZS5idWlsZCYmKGUuYnVpbGQ9bi5pbnN0YW5jZS5idWlsZCksbi5pbnN0YW5jZS5mYWNlYm9va0lkJiYoZVtuLkZhY2Vib29rSWRLZXldPW4uaW5zdGFuY2UuZmFjZWJvb2tJZCksbi5pbnN0YW5jZS5nZW5kZXImJihlW24uR2VuZGVyS2V5XT1uLmluc3RhbmNlLmdlbmRlciksMCE9bi5pbnN0YW5jZS5iaXJ0aFllYXImJihlW24uQmlydGhZZWFyS2V5XT1uLmluc3RhbmNlLmJpcnRoWWVhciksZX0sbi5nZXRTZGtFcnJvckV2ZW50QW5ub3RhdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT17fTtlLnY9MixlLmNhdGVnb3J5PW4uQ2F0ZWdvcnlTZGtFcnJvcixlLnNka192ZXJzaW9uPW8uZ2V0UmVsZXZhbnRTZGtWZXJzaW9uKCksZS5vc192ZXJzaW9uPW8ub3NWZXJzaW9uLGUubWFudWZhY3R1cmVyPW8uZGV2aWNlTWFudWZhY3R1cmVyLGUuZGV2aWNlPW8uZGV2aWNlTW9kZWwsZS5wbGF0Zm9ybT1vLmJ1aWxkUGxhdGZvcm07dmFyIGk9by5nZXRDb25uZWN0aW9uVHlwZSgpO3JldHVybiB0LnZhbGlkYXRlQ29ubmVjdGlvblR5cGUoaSkmJihlLmNvbm5lY3Rpb25fdHlwZT1pKSxvLmdhbWVFbmdpbmVWZXJzaW9uJiYoZS5lbmdpbmVfdmVyc2lvbj1vLmdhbWVFbmdpbmVWZXJzaW9uKSxlfSxuLmdldEluaXRBbm5vdGF0aW9ucz1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlLnNka192ZXJzaW9uPW8uZ2V0UmVsZXZhbnRTZGtWZXJzaW9uKCksZS5vc192ZXJzaW9uPW8ub3NWZXJzaW9uLGUucGxhdGZvcm09by5idWlsZFBsYXRmb3JtLGV9LG4uZ2V0Q2xpZW50VHNBZGp1c3RlZD1mdW5jdGlvbigpe3ZhciBlPWkudGltZUludGVydmFsU2luY2UxOTcwKCkscj1lK24uaW5zdGFuY2UuY2xpZW50U2VydmVyVGltZU9mZnNldDtyZXR1cm4gdC52YWxpZGF0ZUNsaWVudFRzKHIpP3I6ZX0sbi5zZXNzaW9uSXNTdGFydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPW4uaW5zdGFuY2Uuc2Vzc2lvblN0YXJ0fSxuLmNhY2hlSWRlbnRpZmllcj1mdW5jdGlvbigpe24uaW5zdGFuY2UudXNlcklkP24uaW5zdGFuY2UuaWRlbnRpZmllcj1uLmluc3RhbmNlLnVzZXJJZDpuLmluc3RhbmNlLmRlZmF1bHRVc2VySWQmJihuLmluc3RhbmNlLmlkZW50aWZpZXI9bi5pbnN0YW5jZS5kZWZhdWx0VXNlcklkKX0sbi5lbnN1cmVQZXJzaXN0ZWRTdGF0ZXM9ZnVuY3Rpb24oKXtzLmlzU3RvcmFnZUF2YWlsYWJsZSgpJiZzLmxvYWQoKTt2YXIgZT1uLmluc3RhbmNlO2Uuc2V0RGVmYXVsdElkKG51bGwhPXMuZ2V0SXRlbShuLkRlZmF1bHRVc2VySWRLZXkpP3MuZ2V0SXRlbShuLkRlZmF1bHRVc2VySWRLZXkpOmkuY3JlYXRlR3VpZCgpKSxlLnNlc3Npb25OdW09bnVsbCE9cy5nZXRJdGVtKG4uU2Vzc2lvbk51bUtleSk/TnVtYmVyKHMuZ2V0SXRlbShuLlNlc3Npb25OdW1LZXkpKTowLGUudHJhbnNhY3Rpb25OdW09bnVsbCE9cy5nZXRJdGVtKG4uVHJhbnNhY3Rpb25OdW1LZXkpP051bWJlcihzLmdldEl0ZW0obi5UcmFuc2FjdGlvbk51bUtleSkpOjAsZS5mYWNlYm9va0lkP3Muc2V0SXRlbShuLkZhY2Vib29rSWRLZXksZS5mYWNlYm9va0lkKTooZS5mYWNlYm9va0lkPW51bGwhPXMuZ2V0SXRlbShuLkZhY2Vib29rSWRLZXkpP3MuZ2V0SXRlbShuLkZhY2Vib29rSWRLZXkpOiIiLGUuZmFjZWJvb2tJZCksZS5nZW5kZXI/cy5zZXRJdGVtKG4uR2VuZGVyS2V5LGUuZ2VuZGVyKTooZS5nZW5kZXI9bnVsbCE9cy5nZXRJdGVtKG4uR2VuZGVyS2V5KT9zLmdldEl0ZW0obi5HZW5kZXJLZXkpOiIiLGUuZ2VuZGVyKSxlLmJpcnRoWWVhciYmMCE9ZS5iaXJ0aFllYXI/cy5zZXRJdGVtKG4uQmlydGhZZWFyS2V5LGUuYmlydGhZZWFyLnRvU3RyaW5nKCkpOihlLmJpcnRoWWVhcj1udWxsIT1zLmdldEl0ZW0obi5CaXJ0aFllYXJLZXkpP051bWJlcihzLmdldEl0ZW0obi5CaXJ0aFllYXJLZXkpKTowLGUuYmlydGhZZWFyKSxlLmN1cnJlbnRDdXN0b21EaW1lbnNpb24wMT9zLnNldEl0ZW0obi5EaW1lbnNpb24wMUtleSxlLmN1cnJlbnRDdXN0b21EaW1lbnNpb24wMSk6KGUuY3VycmVudEN1c3RvbURpbWVuc2lvbjAxPW51bGwhPXMuZ2V0SXRlbShuLkRpbWVuc2lvbjAxS2V5KT9zLmdldEl0ZW0obi5EaW1lbnNpb24wMUtleSk6IiIsZS5jdXJyZW50Q3VzdG9tRGltZW5zaW9uMDEpLGUuY3VycmVudEN1c3RvbURpbWVuc2lvbjAyP3Muc2V0SXRlbShuLkRpbWVuc2lvbjAyS2V5LGUuY3VycmVudEN1c3RvbURpbWVuc2lvbjAyKTooZS5jdXJyZW50Q3VzdG9tRGltZW5zaW9uMDI9bnVsbCE9cy5nZXRJdGVtKG4uRGltZW5zaW9uMDJLZXkpP3MuZ2V0SXRlbShuLkRpbWVuc2lvbjAyS2V5KToiIixlLmN1cnJlbnRDdXN0b21EaW1lbnNpb24wMiksZS5jdXJyZW50Q3VzdG9tRGltZW5zaW9uMDM/cy5zZXRJdGVtKG4uRGltZW5zaW9uMDNLZXksZS5jdXJyZW50Q3VzdG9tRGltZW5zaW9uMDMpOihlLmN1cnJlbnRDdXN0b21EaW1lbnNpb24wMz1udWxsIT1zLmdldEl0ZW0obi5EaW1lbnNpb24wM0tleSk/cy5nZXRJdGVtKG4uRGltZW5zaW9uMDNLZXkpOiIiLGUuY3VycmVudEN1c3RvbURpbWVuc2lvbjAzKTt2YXIgdD1udWxsIT1zLmdldEl0ZW0obi5TZGtDb25maWdDYWNoZWRLZXkpP3MuZ2V0SXRlbShuLlNka0NvbmZpZ0NhY2hlZEtleSk6IiI7aWYodCl7dmFyIHI9SlNPTi5wYXJzZShpLmRlY29kZTY0KHQpKTtyJiYoZS5zZGtDb25maWdDYWNoZWQ9cil9dmFyIG89cy5zZWxlY3QoYS5Qcm9ncmVzc2lvbik7aWYobylmb3IodmFyIHU9MDt1PG8ubGVuZ3RoOysrdSl7dmFyIGM9b1t1XTtjJiYoZS5wcm9ncmVzc2lvblRyaWVzW2MucHJvZ3Jlc3Npb25dPWMudHJpZXMpfX0sbi5jYWxjdWxhdGVTZXJ2ZXJUaW1lT2Zmc2V0PWZ1bmN0aW9uKGUpe3JldHVybiBlLWkudGltZUludGVydmFsU2luY2UxOTcwKCl9LG4udmFsaWRhdGVBbmRGaXhDdXJyZW50RGltZW5zaW9ucz1mdW5jdGlvbigpe3QudmFsaWRhdGVEaW1lbnNpb24wMShuLmdldEN1cnJlbnRDdXN0b21EaW1lbnNpb24wMSgpLG4uZ2V0QXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAxKCkpfHxuLnNldEN1c3RvbURpbWVuc2lvbjAxKCIiKSx0LnZhbGlkYXRlRGltZW5zaW9uMDIobi5nZXRDdXJyZW50Q3VzdG9tRGltZW5zaW9uMDIoKSxuLmdldEF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMigpKXx8bi5zZXRDdXN0b21EaW1lbnNpb24wMigiIiksdC52YWxpZGF0ZURpbWVuc2lvbjAzKG4uZ2V0Q3VycmVudEN1c3RvbURpbWVuc2lvbjAzKCksbi5nZXRBdmFpbGFibGVDdXN0b21EaW1lbnNpb25zMDMoKSl8fG4uc2V0Q3VzdG9tRGltZW5zaW9uMDMoIiIpfSxufSgpO2MuQ2F0ZWdvcnlTZGtFcnJvcj0ic2RrX2Vycm9yIixjLmluc3RhbmNlPW5ldyBjLGMuRGVmYXVsdFVzZXJJZEtleT0iZGVmYXVsdF91c2VyX2lkIixjLlNlc3Npb25OdW1LZXk9InNlc3Npb25fbnVtIixjLlRyYW5zYWN0aW9uTnVtS2V5PSJ0cmFuc2FjdGlvbl9udW0iLGMuRmFjZWJvb2tJZEtleT0iZmFjZWJvb2tfaWQiLGMuR2VuZGVyS2V5PSJnZW5kZXIiLGMuQmlydGhZZWFyS2V5PSJiaXJ0aF95ZWFyIixjLkRpbWVuc2lvbjAxS2V5PSJkaW1lbnNpb24wMSIsYy5EaW1lbnNpb24wMktleT0iZGltZW5zaW9uMDIiLGMuRGltZW5zaW9uMDNLZXk9ImRpbWVuc2lvbjAzIixjLlNka0NvbmZpZ0NhY2hlZEtleT0ic2RrX2NvbmZpZ19jYWNoZWQiLG4uR0FTdGF0ZT1jfShlLnN0YXRlfHwoZS5zdGF0ZT17fSkpfShnYW1lYW5hbHl0aWNzfHwoZ2FtZWFuYWx5dGljcz17fSkpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXshZnVuY3Rpb24obil7dmFyIHQ9ZS51dGlsaXRpZXMuR0FVdGlsaXRpZXMsaT1lLmxvZ2dpbmcuR0FMb2dnZXIscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZXhlY3V0ZT1mdW5jdGlvbihuLHIscyxvKXtpZihlLmNvdW50TWFwW3JdfHwoZS5jb3VudE1hcFtyXT0wKSwhKGUuY291bnRNYXBbcl0+PWUuTWF4Q291bnQpKXt2YXIgYT10LmdldEhtYWMobyxzKSx1PW5ldyBYTUxIdHRwUmVxdWVzdDt1Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT11LnJlYWR5U3RhdGUpe2lmKCF1LnJlc3BvbnNlVGV4dClyZXR1cm47aWYoMjAwIT11LnN0YXR1cylyZXR1cm4gdm9pZCBpLncoInNkayBlcnJvciBmYWlsZWQuIHJlc3BvbnNlIGNvZGUgbm90IDIwMC4gc3RhdHVzIGNvZGU6ICIrdS5zdGF0dXMrIiwgZGVzY3JpcHRpb246ICIrdS5zdGF0dXNUZXh0KyIsIGJvZHk6ICIrdS5yZXNwb25zZVRleHQpO2UuY291bnRNYXBbcl09ZS5jb3VudE1hcFtyXSsxfX0sdS5vcGVuKCJQT1NUIixuLCEwKSx1LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSx1LnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLGEpO3RyeXt1LnNlbmQocyl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKX19fSxlfSgpO3IuTWF4Q291bnQ9MTAsci5jb3VudE1hcD17fSxuLlNka0Vycm9yVGFzaz1yfShlLnRhc2tzfHwoZS50YXNrcz17fSkpfShnYW1lYW5hbHl0aWNzfHwoZ2FtZWFuYWx5dGljcz17fSkpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXshZnVuY3Rpb24obil7dmFyIHQ9ZS5zdGF0ZS5HQVN0YXRlLGk9ZS5sb2dnaW5nLkdBTG9nZ2VyLHI9ZS51dGlsaXRpZXMuR0FVdGlsaXRpZXMscz1lLnZhbGlkYXRvcnMuR0FWYWxpZGF0b3Isbz1lLnRhc2tzLlNka0Vycm9yVGFzayxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMucHJvdG9jb2w9Imh0dHBzIix0aGlzLmhvc3ROYW1lPSJhcGkuZ2FtZWFuYWx5dGljcy5jb20iLHRoaXMudmVyc2lvbj0idjIiLHRoaXMuYmFzZVVybD10aGlzLnByb3RvY29sKyI6Ly8iK3RoaXMuaG9zdE5hbWUrIi8iK3RoaXMudmVyc2lvbix0aGlzLmluaXRpYWxpemVVcmxQYXRoPSJpbml0Iix0aGlzLmV2ZW50c1VybFBhdGg9ImV2ZW50cyIsdGhpcy51c2VHemlwPSExfXJldHVybiBlLnByb3RvdHlwZS5yZXF1ZXN0SW5pdD1mdW5jdGlvbihpKXt2YXIgcj10LmdldEdhbWVLZXkoKSxzPXRoaXMuYmFzZVVybCsiLyIrcisiLyIrdGhpcy5pbml0aWFsaXplVXJsUGF0aCxvPXQuZ2V0SW5pdEFubm90YXRpb25zKCksYT1KU09OLnN0cmluZ2lmeShvKTtpZighYSlyZXR1cm4gdm9pZCBpKG4uRUdBSFRUUEFwaVJlc3BvbnNlLkpzb25FbmNvZGVGYWlsZWQsbnVsbCk7dmFyIHU9dGhpcy5jcmVhdGVQYXlsb2FkRGF0YShhLHRoaXMudXNlR3ppcCksYz1bXTtjLnB1c2goYSksZS5zZW5kUmVxdWVzdChzLHUsYyx0aGlzLnVzZUd6aXAsZS5pbml0UmVxdWVzdENhbGxiYWNrLGkpfSxlLnByb3RvdHlwZS5zZW5kRXZlbnRzSW5BcnJheT1mdW5jdGlvbihpLHIscyl7aWYoMCE9aS5sZW5ndGgpe3ZhciBvPXQuZ2V0R2FtZUtleSgpLGE9dGhpcy5iYXNlVXJsKyIvIitvKyIvIit0aGlzLmV2ZW50c1VybFBhdGgsdT1KU09OLnN0cmluZ2lmeShpKTtpZighdSlyZXR1cm4gdm9pZCBzKG4uRUdBSFRUUEFwaVJlc3BvbnNlLkpzb25FbmNvZGVGYWlsZWQsbnVsbCxyLGkubGVuZ3RoKTt2YXIgYz10aGlzLmNyZWF0ZVBheWxvYWREYXRhKHUsdGhpcy51c2VHemlwKSxkPVtdO2QucHVzaCh1KSxkLnB1c2gociksZC5wdXNoKGkubGVuZ3RoLnRvU3RyaW5nKCkpLGUuc2VuZFJlcXVlc3QoYSxjLGQsdGhpcy51c2VHemlwLGUuc2VuZEV2ZW50SW5BcnJheVJlcXVlc3RDYWxsYmFjayxzKX19LGUucHJvdG90eXBlLnNlbmRTZGtFcnJvckV2ZW50PWZ1bmN0aW9uKG4pe3ZhciByPXQuZ2V0R2FtZUtleSgpLGE9dC5nZXRHYW1lU2VjcmV0KCk7aWYocy52YWxpZGF0ZVNka0Vycm9yRXZlbnQocixhLG4pKXt2YXIgdT10aGlzLmJhc2VVcmwrIi8iK3IrIi8iK3RoaXMuZXZlbnRzVXJsUGF0aCxjPSIiLGQ9dC5nZXRTZGtFcnJvckV2ZW50QW5ub3RhdGlvbnMoKSxsPWUuc2RrRXJyb3JUeXBlVG9TdHJpbmcobik7ZC50eXBlPWw7dmFyIGY9W107aWYoZi5wdXNoKGQpLCEoYz1KU09OLnN0cmluZ2lmeShmKSkpcmV0dXJuIHZvaWQgaS53KCJzZW5kU2RrRXJyb3JFdmVudDogSlNPTiBlbmNvZGluZyBmYWlsZWQuIik7by5leGVjdXRlKHUsbixjLGEpfX0sZS5zZW5kRXZlbnRJbkFycmF5UmVxdWVzdENhbGxiYWNrPWZ1bmN0aW9uKHQsaSxyLHMpe3ZvaWQgMD09PXMmJihzPW51bGwpO3ZhciBvPShzWzBdLHNbMV0sc1syXSksYT1wYXJzZUludChzWzNdKSx1PSIiLGM9MDt1PXQucmVzcG9uc2VUZXh0LGM9dC5zdGF0dXM7dmFyIGQ9ZS5pbnN0YW5jZS5wcm9jZXNzUmVxdWVzdFJlc3BvbnNlKGMsdC5zdGF0dXNUZXh0LHUsIkV2ZW50cyIpO2lmKGQhPW4uRUdBSFRUUEFwaVJlc3BvbnNlLk9rJiZkIT1uLkVHQUhUVFBBcGlSZXNwb25zZS5CYWRSZXF1ZXN0KXJldHVybiB2b2lkIHIoZCxudWxsLG8sYSk7dmFyIGw9dT9KU09OLnBhcnNlKHUpOnt9O2lmKG51bGw9PWwpcmV0dXJuIHZvaWQgcihuLkVHQUhUVFBBcGlSZXNwb25zZS5Kc29uRGVjb2RlRmFpbGVkLG51bGwsbyxhKTtuLkVHQUhUVFBBcGlSZXNwb25zZS5CYWRSZXF1ZXN0LHIoZCxsLG8sYSl9LGUuc2VuZFJlcXVlc3Q9ZnVuY3Rpb24oZSxuLGkscyxvLGEpe3ZhciB1PW5ldyBYTUxIdHRwUmVxdWVzdCxjPXQuZ2V0R2FtZVNlY3JldCgpLGQ9ci5nZXRIbWFjKGMsbiksbD1bXTtsLnB1c2goZCk7Zm9yKHZhciBmIGluIGkpbC5wdXNoKGlbZl0pO2lmKHUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXUucmVhZHlTdGF0ZSYmbyh1LGUsYSxsKX0sdS5vcGVuKCJQT1NUIixlLCEwKSx1LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsInRleHQvcGxhaW4iKSx1LnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLGQpLHMpdGhyb3cgbmV3IEVycm9yKCJnemlwIG5vdCBzdXBwb3J0ZWQiKTt0cnl7dS5zZW5kKG4pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZS5zdGFjayl9fSxlLmluaXRSZXF1ZXN0Q2FsbGJhY2s9ZnVuY3Rpb24odCxpLHIsbyl7dm9pZCAwPT09byYmKG89bnVsbCk7dmFyIGE9KG9bMF0sb1sxXSwiIiksdT0wO2E9dC5yZXNwb25zZVRleHQsdT10LnN0YXR1czt2YXIgYz1hP0pTT04ucGFyc2UoYSk6e30sZD1lLmluc3RhbmNlLnByb2Nlc3NSZXF1ZXN0UmVzcG9uc2UodSx0LnN0YXR1c1RleHQsYSwiSW5pdCIpO2lmKGQhPW4uRUdBSFRUUEFwaVJlc3BvbnNlLk9rJiZkIT1uLkVHQUhUVFBBcGlSZXNwb25zZS5CYWRSZXF1ZXN0KXJldHVybiB2b2lkIHIoZCxudWxsKTtpZihudWxsPT1jKXJldHVybiB2b2lkIHIobi5FR0FIVFRQQXBpUmVzcG9uc2UuSnNvbkRlY29kZUZhaWxlZCxudWxsKTtpZihkPT09bi5FR0FIVFRQQXBpUmVzcG9uc2UuQmFkUmVxdWVzdClyZXR1cm4gdm9pZCByKGQsbnVsbCk7dmFyIGw9cy52YWxpZGF0ZUFuZENsZWFuSW5pdFJlcXVlc3RSZXNwb25zZShjKTtpZighbClyZXR1cm4gdm9pZCByKG4uRUdBSFRUUEFwaVJlc3BvbnNlLkJhZFJlc3BvbnNlLG51bGwpO3Iobi5FR0FIVFRQQXBpUmVzcG9uc2UuT2ssbCl9LGUucHJvdG90eXBlLmNyZWF0ZVBheWxvYWREYXRhPWZ1bmN0aW9uKGUsbil7aWYobil0aHJvdyBuZXcgRXJyb3IoImd6aXAgbm90IHN1cHBvcnRlZCIpO3JldHVybiBlfSxlLnByb3RvdHlwZS5wcm9jZXNzUmVxdWVzdFJlc3BvbnNlPWZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiBpPzIwMD09PWU/bi5FR0FIVFRQQXBpUmVzcG9uc2UuT2s6MD09PWV8fDQwMT09PWU/bi5FR0FIVFRQQXBpUmVzcG9uc2UuVW5hdXRob3JpemVkOjQwMD09PWU/bi5FR0FIVFRQQXBpUmVzcG9uc2UuQmFkUmVxdWVzdDo1MDA9PT1lP24uRUdBSFRUUEFwaVJlc3BvbnNlLkludGVybmFsU2VydmVyRXJyb3I6bi5FR0FIVFRQQXBpUmVzcG9uc2UuVW5rbm93blJlc3BvbnNlQ29kZTpuLkVHQUhUVFBBcGlSZXNwb25zZS5Ob1Jlc3BvbnNlfSxlLnNka0Vycm9yVHlwZVRvU3RyaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIG4uRUdBU2RrRXJyb3JUeXBlLlJlamVjdGVkOnJldHVybiJyZWplY3RlZCI7ZGVmYXVsdDpyZXR1cm4iIn19LGV9KCk7YS5pbnN0YW5jZT1uZXcgYSxuLkdBSFRUUEFwaT1hfShlLmh0dHB8fChlLmh0dHA9e30pKX0oZ2FtZWFuYWx5dGljc3x8KGdhbWVhbmFseXRpY3M9e30pKTt2YXIgZ2FtZWFuYWx5dGljczshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKG4pe3ZhciB0PWUuc3RvcmUuR0FTdG9yZSxpPWUuc3RvcmUuRUdBU3RvcmUscj1lLnN0b3JlLkVHQVN0b3JlQXJnc09wZXJhdG9yLHM9ZS5zdGF0ZS5HQVN0YXRlLG89ZS5sb2dnaW5nLkdBTG9nZ2VyLGE9ZS51dGlsaXRpZXMuR0FVdGlsaXRpZXMsdT1lLmh0dHAuRUdBSFRUUEFwaVJlc3BvbnNlLGM9ZS5odHRwLkdBSFRUUEFwaSxkPWUudmFsaWRhdG9ycy5HQVZhbGlkYXRvcixsPWUuaHR0cC5FR0FTZGtFcnJvclR5cGUsZj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt9cmV0dXJuIG4uYWRkU2Vzc2lvblN0YXJ0RXZlbnQ9ZnVuY3Rpb24oKXt2YXIgZT17fTtlLmNhdGVnb3J5PW4uQ2F0ZWdvcnlTZXNzaW9uU3RhcnQscy5pbmNyZW1lbnRTZXNzaW9uTnVtKCksdC5zZXRJdGVtKHMuU2Vzc2lvbk51bUtleSxzLmdldFNlc3Npb25OdW0oKS50b1N0cmluZygpKSxuLmFkZERpbWVuc2lvbnNUb0V2ZW50KGUpLG4uYWRkRXZlbnRUb1N0b3JlKGUpLG8uaSgiQWRkIFNFU1NJT04gU1RBUlQgZXZlbnQiKSxuLnByb2Nlc3NFdmVudHMobi5DYXRlZ29yeVNlc3Npb25TdGFydCwhMSl9LG4uYWRkU2Vzc2lvbkVuZEV2ZW50PWZ1bmN0aW9uKCl7dmFyIGU9cy5nZXRTZXNzaW9uU3RhcnQoKSx0PXMuZ2V0Q2xpZW50VHNBZGp1c3RlZCgpLGk9dC1lO2k8MCYmKG8udygiU2Vzc2lvbiBsZW5ndGggd2FzIGNhbGN1bGF0ZWQgdG8gYmUgbGVzcyB0aGVuIDAuIFNob3VsZCBub3QgYmUgcG9zc2libGUuIFJlc2V0dGluZyB0byAwLiIpLGk9MCk7dmFyIHI9e307ci5jYXRlZ29yeT1uLkNhdGVnb3J5U2Vzc2lvbkVuZCxyLmxlbmd0aD1pLG4uYWRkRGltZW5zaW9uc1RvRXZlbnQociksbi5hZGRFdmVudFRvU3RvcmUociksby5pKCJBZGQgU0VTU0lPTiBFTkQgZXZlbnQuIiksbi5wcm9jZXNzRXZlbnRzKCIiLCExKX0sbi5hZGRCdXNpbmVzc0V2ZW50PWZ1bmN0aW9uKGUsaSxyLGEsdSl7aWYodm9pZCAwPT09dSYmKHU9bnVsbCksIWQudmFsaWRhdGVCdXNpbmVzc0V2ZW50KGUsaSx1LHIsYSkpcmV0dXJuIHZvaWQgYy5pbnN0YW5jZS5zZW5kU2RrRXJyb3JFdmVudChsLlJlamVjdGVkKTt2YXIgZj17fTtzLmluY3JlbWVudFRyYW5zYWN0aW9uTnVtKCksdC5zZXRJdGVtKHMuVHJhbnNhY3Rpb25OdW1LZXkscy5nZXRUcmFuc2FjdGlvbk51bSgpLnRvU3RyaW5nKCkpLGYuZXZlbnRfaWQ9cisiOiIrYSxmLmNhdGVnb3J5PW4uQ2F0ZWdvcnlCdXNpbmVzcyxmLmN1cnJlbmN5PWUsZi5hbW91bnQ9aSxmW3MuVHJhbnNhY3Rpb25OdW1LZXldPXMuZ2V0VHJhbnNhY3Rpb25OdW0oKSx1JiYoZi5jYXJ0X3R5cGU9dSksbi5hZGREaW1lbnNpb25zVG9FdmVudChmKSxvLmkoIkFkZCBCVVNJTkVTUyBldmVudDoge2N1cnJlbmN5OiIrZSsiLCBhbW91bnQ6IitpKyIsIGl0ZW1UeXBlOiIrcisiLCBpdGVtSWQ6IithKyIsIGNhcnRUeXBlOiIrdSsifSIpLG4uYWRkRXZlbnRUb1N0b3JlKGYpfSxuLmFkZFJlc291cmNlRXZlbnQ9ZnVuY3Rpb24odCxpLHIsYSx1KXtpZighZC52YWxpZGF0ZVJlc291cmNlRXZlbnQodCxpLHIsYSx1LHMuZ2V0QXZhaWxhYmxlUmVzb3VyY2VDdXJyZW5jaWVzKCkscy5nZXRBdmFpbGFibGVSZXNvdXJjZUl0ZW1UeXBlcygpKSlyZXR1cm4gdm9pZCBjLmluc3RhbmNlLnNlbmRTZGtFcnJvckV2ZW50KGwuUmVqZWN0ZWQpO3Q9PT1lLkVHQVJlc291cmNlRmxvd1R5cGUuU2luayYmKHIqPS0xKTt2YXIgZj17fSx2PW4ucmVzb3VyY2VGbG93VHlwZVRvU3RyaW5nKHQpO2YuZXZlbnRfaWQ9disiOiIraSsiOiIrYSsiOiIrdSxmLmNhdGVnb3J5PW4uQ2F0ZWdvcnlSZXNvdXJjZSxmLmFtb3VudD1yLG4uYWRkRGltZW5zaW9uc1RvRXZlbnQoZiksby5pKCJBZGQgUkVTT1VSQ0UgZXZlbnQ6IHtjdXJyZW5jeToiK2krIiwgYW1vdW50OiIrcisiLCBpdGVtVHlwZToiK2ErIiwgaXRlbUlkOiIrdSsifSIpLG4uYWRkRXZlbnRUb1N0b3JlKGYpfSxuLmFkZFByb2dyZXNzaW9uRXZlbnQ9ZnVuY3Rpb24odCxpLHIsYSx1LGYpe3ZhciB2PW4ucHJvZ3Jlc3Npb25TdGF0dXNUb1N0cmluZyh0KTtpZighZC52YWxpZGF0ZVByb2dyZXNzaW9uRXZlbnQodCxpLHIsYSkpcmV0dXJuIHZvaWQgYy5pbnN0YW5jZS5zZW5kU2RrRXJyb3JFdmVudChsLlJlamVjdGVkKTt2YXIgZyxtPXt9O2c9cj9hP2krIjoiK3IrIjoiK2E6aSsiOiIrcjppLG0uY2F0ZWdvcnk9bi5DYXRlZ29yeVByb2dyZXNzaW9uLG0uZXZlbnRfaWQ9disiOiIrZzt2YXIgcD0wO2YmJnQhPWUuRUdBUHJvZ3Jlc3Npb25TdGF0dXMuU3RhcnQmJihtLnNjb3JlPXUpLHQ9PT1lLkVHQVByb2dyZXNzaW9uU3RhdHVzLkZhaWwmJnMuaW5jcmVtZW50UHJvZ3Jlc3Npb25UcmllcyhnKSx0PT09ZS5FR0FQcm9ncmVzc2lvblN0YXR1cy5Db21wbGV0ZSYmKHMuaW5jcmVtZW50UHJvZ3Jlc3Npb25UcmllcyhnKSxwPXMuZ2V0UHJvZ3Jlc3Npb25UcmllcyhnKSxtLmF0dGVtcHRfbnVtPXAscy5jbGVhclByb2dyZXNzaW9uVHJpZXMoZykpLG4uYWRkRGltZW5zaW9uc1RvRXZlbnQobSksby5pKCJBZGQgUFJPR1JFU1NJT04gZXZlbnQ6IHtzdGF0dXM6Iit2KyIsIHByb2dyZXNzaW9uMDE6IitpKyIsIHByb2dyZXNzaW9uMDI6IityKyIsIHByb2dyZXNzaW9uMDM6IithKyIsIHNjb3JlOiIrdSsiLCBhdHRlbXB0OiIrcCsifSIpLG4uYWRkRXZlbnRUb1N0b3JlKG0pfSxuLmFkZERlc2lnbkV2ZW50PWZ1bmN0aW9uKGUsdCxpKXtpZighZC52YWxpZGF0ZURlc2lnbkV2ZW50KGUsdCkpcmV0dXJuIHZvaWQgYy5pbnN0YW5jZS5zZW5kU2RrRXJyb3JFdmVudChsLlJlamVjdGVkKTt2YXIgcj17fTtyLmNhdGVnb3J5PW4uQ2F0ZWdvcnlEZXNpZ24sci5ldmVudF9pZD1lLGkmJihyLnZhbHVlPXQpLG8uaSgiQWRkIERFU0lHTiBldmVudDoge2V2ZW50SWQ6IitlKyIsIHZhbHVlOiIrdCsifSIpLG4uYWRkRXZlbnRUb1N0b3JlKHIpfSxuLmFkZEVycm9yRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1uLmVycm9yU2V2ZXJpdHlUb1N0cmluZyhlKTtpZighZC52YWxpZGF0ZUVycm9yRXZlbnQoZSx0KSlyZXR1cm4gdm9pZCBjLmluc3RhbmNlLnNlbmRTZGtFcnJvckV2ZW50KGwuUmVqZWN0ZWQpO3ZhciByPXt9O3IuY2F0ZWdvcnk9bi5DYXRlZ29yeUVycm9yLHIuc2V2ZXJpdHk9aSxyLm1lc3NhZ2U9dCxvLmkoIkFkZCBFUlJPUiBldmVudDoge3NldmVyaXR5OiIraSsiLCBtZXNzYWdlOiIrdCsifSIpLG4uYWRkRXZlbnRUb1N0b3JlKHIpfSxuLnByb2Nlc3NFdmVudHM9ZnVuY3Rpb24oZSxzKXt0cnl7dmFyIHU9YS5jcmVhdGVHdWlkKCk7cyYmKG4uY2xlYW51cEV2ZW50cygpLG4uZml4TWlzc2luZ1Nlc3Npb25FbmRFdmVudHMoKSk7dmFyIGQ9W107ZC5wdXNoKFsic3RhdHVzIixyLkVxdWFsLCJuZXciXSk7dmFyIGw9W107bC5wdXNoKFsic3RhdHVzIixyLkVxdWFsLCJuZXciXSksZSYmKGQucHVzaChbImNhdGVnb3J5IixyLkVxdWFsLGVdKSxsLnB1c2goWyJjYXRlZ29yeSIsci5FcXVhbCxlXSkpO3ZhciBmPVtdO2YucHVzaChbInN0YXR1cyIsdV0pO3ZhciB2PXQuc2VsZWN0KGkuRXZlbnRzLGQpO2lmKCF2fHwwPT12Lmxlbmd0aClyZXR1cm4gdm9pZCBvLmkoIkV2ZW50IHF1ZXVlOiBObyBldmVudHMgdG8gc2VuZCIpO2lmKHYubGVuZ3RoPm4uTWF4RXZlbnRDb3VudCl7aWYoISh2PXQuc2VsZWN0KGkuRXZlbnRzLGQsITAsbi5NYXhFdmVudENvdW50KSkpcmV0dXJuO3ZhciBnPXZbdi5sZW5ndGgtMV0sbT1nLmNsaWVudF90cztpZihkLnB1c2goWyJjbGllbnRfdHMiLHIuTGVzc09yRXF1YWwsbV0pLCEodj10LnNlbGVjdChpLkV2ZW50cyxkKSkpcmV0dXJuO2wucHVzaChbImNsaWVudF90cyIsci5MZXNzT3JFcXVhbCxtXSl9aWYoby5pKCJFdmVudCBxdWV1ZTogU2VuZGluZyAiK3YubGVuZ3RoKyIgZXZlbnRzLiIpLCF0LnVwZGF0ZShpLkV2ZW50cyxmLGwpKXJldHVybjtmb3IodmFyIHA9W10saD0wO2g8di5sZW5ndGg7KytoKXt2YXIgeT12W2hdLFM9SlNPTi5wYXJzZShhLmRlY29kZTY0KHkuZXZlbnQpKTswIT1TLmxlbmd0aCYmcC5wdXNoKFMpfWMuaW5zdGFuY2Uuc2VuZEV2ZW50c0luQXJyYXkocCx1LG4ucHJvY2Vzc0V2ZW50c0NhbGxiYWNrKX1jYXRjaChlKXtvLmUoIkVycm9yIGR1cmluZyBQcm9jZXNzRXZlbnRzKCk6ICIrZS5zdGFjayl9fSxuLnByb2Nlc3NFdmVudHNDYWxsYmFjaz1mdW5jdGlvbihlLHMsYSxjKXt2YXIgZD1bXTtpZihkLnB1c2goWyJzdGF0dXMiLHIuRXF1YWwsYV0pLGU9PT11Lk9rKXQuZGVsZXRlKGkuRXZlbnRzLGQpLG8uaSgiRXZlbnQgcXVldWU6ICIrYysiIGV2ZW50cyBzZW50LiIpO2Vsc2UgaWYoZT09PXUuTm9SZXNwb25zZSl7dmFyIGw9W107bC5wdXNoKFsic3RhdHVzIiwibmV3Il0pLG8udygiRXZlbnQgcXVldWU6IEZhaWxlZCB0byBzZW5kIGV2ZW50cyB0byBjb2xsZWN0b3IgLSBSZXRyeWluZyBuZXh0IHRpbWUiKSx0LnVwZGF0ZShpLkV2ZW50cyxsLGQpfWVsc2V7aWYocyl7dmFyIGYsdj0wO2Zvcih2YXIgZyBpbiBzKTA9PXYmJihmPXNbZ10pLCsrdjtlPT09dS5CYWRSZXF1ZXN0JiZmLmNvbnN0cnVjdG9yPT09QXJyYXk/by53KCJFdmVudCBxdWV1ZTogIitjKyIgZXZlbnRzIHNlbnQuICIrdisiIGV2ZW50cyBmYWlsZWQgR0Egc2VydmVyIHZhbGlkYXRpb24uIik6by53KCJFdmVudCBxdWV1ZTogRmFpbGVkIHRvIHNlbmQgZXZlbnRzLiIpfWVsc2Ugby53KCJFdmVudCBxdWV1ZTogRmFpbGVkIHRvIHNlbmQgZXZlbnRzLiIpO3QuZGVsZXRlKGkuRXZlbnRzLGQpfW4udXBkYXRlU2Vzc2lvblN0b3JlKCl9LG4uY2xlYW51cEV2ZW50cz1mdW5jdGlvbigpe3QudXBkYXRlKGkuRXZlbnRzLFtbInN0YXR1cyIsIm5ldyJdXSl9LG4uZml4TWlzc2luZ1Nlc3Npb25FbmRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtlLnB1c2goWyJzZXNzaW9uX2lkIixyLk5vdEVxdWFsLHMuZ2V0U2Vzc2lvbklkKCldKTt2YXIgdT10LnNlbGVjdChpLlNlc3Npb25zLGUpO2lmKHUmJjAhPXUubGVuZ3RoKXtvLmkodS5sZW5ndGgrIiBzZXNzaW9uKHMpIGxvY2F0ZWQgd2l0aCBtaXNzaW5nIHNlc3Npb25fZW5kIGV2ZW50LiIpO2Zvcih2YXIgYz0wO2M8dS5sZW5ndGg7KytjKXt2YXIgZD1KU09OLnBhcnNlKGEuZGVjb2RlNjQodVtjXS5ldmVudCkpLGw9ZC5jbGllbnRfdHMsZj11W2NdLnRpbWVzdGFtcCx2PWwtZjt2PU1hdGgubWF4KDAsdiksZC5jYXRlZ29yeT1uLkNhdGVnb3J5U2Vzc2lvbkVuZCxkLmxlbmd0aD12LG4uYWRkRXZlbnRUb1N0b3JlKGQpfX19LG4uYWRkRXZlbnRUb1N0b3JlPWZ1bmN0aW9uKGUpe2lmKCFzLmlzSW5pdGlhbGl6ZWQoKSlyZXR1cm4gdm9pZCBvLncoIkNvdWxkIG5vdCBhZGQgZXZlbnQ6IFNESyBpcyBub3QgaW5pdGlhbGl6ZWQiKTt0cnl7aWYodC5pc1N0b3JlVG9vTGFyZ2VGb3JFdmVudHMoKSYmIWEuc3RyaW5nTWF0Y2goZS5jYXRlZ29yeSwvXih1c2VyfHNlc3Npb25fZW5kfGJ1c2luZXNzKSQvKSlyZXR1cm4gdm9pZCBvLncoIkRhdGFiYXNlIHRvbyBsYXJnZS4gRXZlbnQgaGFzIGJlZW4gYmxvY2tlZC4iKTt2YXIgdT1zLmdldEV2ZW50QW5ub3RhdGlvbnMoKSxjPWEuZW5jb2RlNjQoSlNPTi5zdHJpbmdpZnkodSkpO2Zvcih2YXIgZCBpbiBlKXVbZF09ZVtkXTt2YXIgbD1KU09OLnN0cmluZ2lmeSh1KTtvLmlpKCJFdmVudCBhZGRlZCB0byBxdWV1ZTogIitsKTt2YXIgZj17fTtmLnN0YXR1cz0ibmV3IixmLmNhdGVnb3J5PXUuY2F0ZWdvcnksZi5zZXNzaW9uX2lkPXUuc2Vzc2lvbl9pZCxmLmNsaWVudF90cz11LmNsaWVudF90cyxmLmV2ZW50PWEuZW5jb2RlNjQoSlNPTi5zdHJpbmdpZnkodSkpLHQuaW5zZXJ0KGkuRXZlbnRzLGYpLGUuY2F0ZWdvcnk9PW4uQ2F0ZWdvcnlTZXNzaW9uRW5kP3QuZGVsZXRlKGkuU2Vzc2lvbnMsW1sic2Vzc2lvbl9pZCIsci5FcXVhbCx1LnNlc3Npb25faWRdXSk6KGY9e30sZi5zZXNzaW9uX2lkPXUuc2Vzc2lvbl9pZCxmLnRpbWVzdGFtcD1zLmdldFNlc3Npb25TdGFydCgpLGYuZXZlbnQ9Yyx0Lmluc2VydChpLlNlc3Npb25zLGYsITAsInNlc3Npb25faWQiKSksdC5pc1N0b3JhZ2VBdmFpbGFibGUoKSYmdC5zYXZlKCl9Y2F0Y2goZCl7by5lKCJhZGRFdmVudFRvU3RvcmU6IGVycm9yIiksby5lKGQuc3RhY2spfX0sbi51cGRhdGVTZXNzaW9uU3RvcmU9ZnVuY3Rpb24oKXtpZihzLnNlc3Npb25Jc1N0YXJ0ZWQoKSl7dmFyIGU9e307ZS5zZXNzaW9uX2lkPXMuaW5zdGFuY2Uuc2Vzc2lvbklkLGUudGltZXN0YW1wPXMuZ2V0U2Vzc2lvblN0YXJ0KCksZS5ldmVudD1hLmVuY29kZTY0KEpTT04uc3RyaW5naWZ5KHMuZ2V0RXZlbnRBbm5vdGF0aW9ucygpKSksdC5pbnNlcnQoaS5TZXNzaW9ucyxlLCEwLCJzZXNzaW9uX2lkIiksdC5pc1N0b3JhZ2VBdmFpbGFibGUoKSYmdC5zYXZlKCl9fSxuLmFkZERpbWVuc2lvbnNUb0V2ZW50PWZ1bmN0aW9uKGUpe2UmJihzLmdldEN1cnJlbnRDdXN0b21EaW1lbnNpb24wMSgpJiYoZS5jdXN0b21fMDE9cy5nZXRDdXJyZW50Q3VzdG9tRGltZW5zaW9uMDEoKSkscy5nZXRDdXJyZW50Q3VzdG9tRGltZW5zaW9uMDIoKSYmKGUuY3VzdG9tXzAyPXMuZ2V0Q3VycmVudEN1c3RvbURpbWVuc2lvbjAyKCkpLHMuZ2V0Q3VycmVudEN1c3RvbURpbWVuc2lvbjAzKCkmJihlLmN1c3RvbV8wMz1zLmdldEN1cnJlbnRDdXN0b21EaW1lbnNpb24wMygpKSl9LG4ucmVzb3VyY2VGbG93VHlwZVRvU3RyaW5nPWZ1bmN0aW9uKG4pe3JldHVybiBuPT1lLkVHQVJlc291cmNlRmxvd1R5cGUuU291cmNlfHxuPT1lLkVHQVJlc291cmNlRmxvd1R5cGVbZS5FR0FSZXNvdXJjZUZsb3dUeXBlLlNvdXJjZV0/IlNvdXJjZSI6bj09ZS5FR0FSZXNvdXJjZUZsb3dUeXBlLlNpbmt8fG49PWUuRUdBUmVzb3VyY2VGbG93VHlwZVtlLkVHQVJlc291cmNlRmxvd1R5cGUuU2lua10/IlNpbmsiOiIifSxuLnByb2dyZXNzaW9uU3RhdHVzVG9TdHJpbmc9ZnVuY3Rpb24obil7cmV0dXJuIG49PWUuRUdBUHJvZ3Jlc3Npb25TdGF0dXMuU3RhcnR8fG49PWUuRUdBUHJvZ3Jlc3Npb25TdGF0dXNbZS5FR0FQcm9ncmVzc2lvblN0YXR1cy5TdGFydF0/IlN0YXJ0IjpuPT1lLkVHQVByb2dyZXNzaW9uU3RhdHVzLkNvbXBsZXRlfHxuPT1lLkVHQVByb2dyZXNzaW9uU3RhdHVzW2UuRUdBUHJvZ3Jlc3Npb25TdGF0dXMuQ29tcGxldGVdPyJDb21wbGV0ZSI6bj09ZS5FR0FQcm9ncmVzc2lvblN0YXR1cy5GYWlsfHxuPT1lLkVHQVByb2dyZXNzaW9uU3RhdHVzW2UuRUdBUHJvZ3Jlc3Npb25TdGF0dXMuRmFpbF0/IkZhaWwiOiIifSxuLmVycm9yU2V2ZXJpdHlUb1N0cmluZz1mdW5jdGlvbihuKXtyZXR1cm4gbj09ZS5FR0FFcnJvclNldmVyaXR5LkRlYnVnfHxuPT1lLkVHQUVycm9yU2V2ZXJpdHlbZS5FR0FFcnJvclNldmVyaXR5LkRlYnVnXT8iZGVidWciOm49PWUuRUdBRXJyb3JTZXZlcml0eS5JbmZvfHxuPT1lLkVHQUVycm9yU2V2ZXJpdHlbZS5FR0FFcnJvclNldmVyaXR5LkluZm9dPyJpbmZvIjpuPT1lLkVHQUVycm9yU2V2ZXJpdHkuV2FybmluZ3x8bj09ZS5FR0FFcnJvclNldmVyaXR5W2UuRUdBRXJyb3JTZXZlcml0eS5XYXJuaW5nXT8id2FybmluZyI6bj09ZS5FR0FFcnJvclNldmVyaXR5LkVycm9yfHxuPT1lLkVHQUVycm9yU2V2ZXJpdHlbZS5FR0FFcnJvclNldmVyaXR5LkVycm9yXT8iZXJyb3IiOm49PWUuRUdBRXJyb3JTZXZlcml0eS5Dcml0aWNhbHx8bj09ZS5FR0FFcnJvclNldmVyaXR5W2UuRUdBRXJyb3JTZXZlcml0eS5Dcml0aWNhbF0/ImNyaXRpY2FsIjoiIn0sbn0oKTtmLmluc3RhbmNlPW5ldyBmLGYuQ2F0ZWdvcnlTZXNzaW9uU3RhcnQ9InVzZXIiLGYuQ2F0ZWdvcnlTZXNzaW9uRW5kPSJzZXNzaW9uX2VuZCIsZi5DYXRlZ29yeURlc2lnbj0iZGVzaWduIixmLkNhdGVnb3J5QnVzaW5lc3M9ImJ1c2luZXNzIixmLkNhdGVnb3J5UHJvZ3Jlc3Npb249InByb2dyZXNzaW9uIixmLkNhdGVnb3J5UmVzb3VyY2U9InJlc291cmNlIixmLkNhdGVnb3J5RXJyb3I9ImVycm9yIixmLk1heEV2ZW50Q291bnQ9NTAwLG4uR0FFdmVudHM9Zn0oZS5ldmVudHN8fChlLmV2ZW50cz17fSkpfShnYW1lYW5hbHl0aWNzfHwoZ2FtZWFuYWx5dGljcz17fSkpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXshZnVuY3Rpb24obil7dmFyIHQ9ZS5sb2dnaW5nLkdBTG9nZ2VyLGk9ZS5zdGF0ZS5HQVN0YXRlLHI9ZS5ldmVudHMuR0FFdmVudHMscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJsb2Nrcz1uZXcgbi5Qcmlvcml0eVF1ZXVlKHtjb21wYXJlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIGUtbn19KSx0aGlzLmlkMlRpbWVkQmxvY2tNYXA9e30sZS5zdGFydFRocmVhZCgpfXJldHVybiBlLmNyZWF0ZVRpbWVkQmxvY2s9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9MCk7dmFyIHQ9bmV3IERhdGU7cmV0dXJuIHQuc2V0U2Vjb25kcyh0LmdldFNlY29uZHMoKStlKSxuZXcgbi5UaW1lZEJsb2NrKHQpfSxlLnBlcmZvcm1UYXNrT25HQVRocmVhZD1mdW5jdGlvbih0LGkpe3ZvaWQgMD09PWkmJihpPTApO3ZhciByPW5ldyBEYXRlO3Iuc2V0U2Vjb25kcyhyLmdldFNlY29uZHMoKStpKTt2YXIgcz1uZXcgbi5UaW1lZEJsb2NrKHIpO3MuYmxvY2s9dCxlLmluc3RhbmNlLmlkMlRpbWVkQmxvY2tNYXBbcy5pZF09cyxlLmluc3RhbmNlLmFkZFRpbWVkQmxvY2socyl9LGUucGVyZm9ybVRpbWVkQmxvY2tPbkdBVGhyZWFkPWZ1bmN0aW9uKG4pe2UuaW5zdGFuY2UuaWQyVGltZWRCbG9ja01hcFtuLmlkXT1uLGUuaW5zdGFuY2UuYWRkVGltZWRCbG9jayhuKX0sZS5zY2hlZHVsZVRpbWVyPWZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IERhdGU7ci5zZXRTZWNvbmRzKHIuZ2V0U2Vjb25kcygpK3QpO3ZhciBzPW5ldyBuLlRpbWVkQmxvY2socik7cmV0dXJuIHMuYmxvY2s9aSxlLmluc3RhbmNlLmlkMlRpbWVkQmxvY2tNYXBbcy5pZF09cyxlLmluc3RhbmNlLmFkZFRpbWVkQmxvY2socykscy5pZH0sZS5nZXRUaW1lZEJsb2NrQnlJZD1mdW5jdGlvbihuKXtyZXR1cm4gbiBpbiBlLmluc3RhbmNlLmlkMlRpbWVkQmxvY2tNYXA/ZS5pbnN0YW5jZS5pZDJUaW1lZEJsb2NrTWFwW25dOm51bGx9LGUuZW5zdXJlRXZlbnRRdWV1ZUlzUnVubmluZz1mdW5jdGlvbigpe2UuaW5zdGFuY2Uua2VlcFJ1bm5pbmc9ITAsZS5pbnN0YW5jZS5pc1J1bm5pbmd8fChlLmluc3RhbmNlLmlzUnVubmluZz0hMCxlLnNjaGVkdWxlVGltZXIoZS5Qcm9jZXNzRXZlbnRzSW50ZXJ2YWxJblNlY29uZHMsZS5wcm9jZXNzRXZlbnRRdWV1ZSkpfSxlLmVuZFNlc3Npb25BbmRTdG9wUXVldWU9ZnVuY3Rpb24oKXtpLmlzSW5pdGlhbGl6ZWQoKSYmKHQuaSgiRW5kaW5nIHNlc3Npb24uIiksZS5zdG9wRXZlbnRRdWV1ZSgpLGkuaXNFbmFibGVkKCkmJmkuc2Vzc2lvbklzU3RhcnRlZCgpJiYoci5hZGRTZXNzaW9uRW5kRXZlbnQoKSxpLmluc3RhbmNlLnNlc3Npb25TdGFydD0wKSl9LGUuc3RvcEV2ZW50UXVldWU9ZnVuY3Rpb24oKXtlLmluc3RhbmNlLmtlZXBSdW5uaW5nPSExfSxlLmlnbm9yZVRpbWVyPWZ1bmN0aW9uKG4pe24gaW4gZS5pbnN0YW5jZS5pZDJUaW1lZEJsb2NrTWFwJiYoZS5pbnN0YW5jZS5pZDJUaW1lZEJsb2NrTWFwW25dLmlnbm9yZT0hMCl9LGUuc2V0RXZlbnRQcm9jZXNzSW50ZXJ2YWw9ZnVuY3Rpb24obil7bj4wJiYoZS5Qcm9jZXNzRXZlbnRzSW50ZXJ2YWxJblNlY29uZHM9bil9LGUucHJvdG90eXBlLmFkZFRpbWVkQmxvY2s9ZnVuY3Rpb24oZSl7dGhpcy5ibG9ja3MuZW5xdWV1ZShlLmRlYWRsaW5lLmdldFRpbWUoKSxlKX0sZS5ydW49ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZS5ydW5UaW1lb3V0SWQpO3RyeXtmb3IodmFyIG47bj1lLmdldE5leHRCbG9jaygpOylpZighbi5pZ25vcmUpaWYobi5hc3luYyl7aWYoIW4ucnVubmluZyl7bi5ydW5uaW5nPSEwLG4uYmxvY2soKTticmVha319ZWxzZSBuLmJsb2NrKCk7cmV0dXJuIHZvaWQoZS5ydW5UaW1lb3V0SWQ9c2V0VGltZW91dChlLnJ1bixlLlRocmVhZFdhaXRUaW1lSW5NcykpfWNhdGNoKGUpe3QuZSgiRXJyb3Igb24gR0EgdGhyZWFkIiksdC5lKGUuc3RhY2spfX0sZS5zdGFydFRocmVhZD1mdW5jdGlvbigpe2UucnVuVGltZW91dElkPXNldFRpbWVvdXQoZS5ydW4sMCl9LGUuZ2V0TmV4dEJsb2NrPWZ1bmN0aW9uKCl7dmFyIG49bmV3IERhdGU7cmV0dXJuIGUuaW5zdGFuY2UuYmxvY2tzLmhhc0l0ZW1zKCkmJmUuaW5zdGFuY2UuYmxvY2tzLnBlZWsoKS5kZWFkbGluZS5nZXRUaW1lKCk8PW4uZ2V0VGltZSgpP2UuaW5zdGFuY2UuYmxvY2tzLnBlZWsoKS5hc3luYyYmZS5pbnN0YW5jZS5ibG9ja3MucGVlaygpLnJ1bm5pbmc/ZS5pbnN0YW5jZS5ibG9ja3MucGVlaygpOmUuaW5zdGFuY2UuYmxvY2tzLmRlcXVldWUoKTpudWxsfSxlLnByb2Nlc3NFdmVudFF1ZXVlPWZ1bmN0aW9uKCl7ci5wcm9jZXNzRXZlbnRzKCIiLCEwKSxlLmluc3RhbmNlLmtlZXBSdW5uaW5nP2Uuc2NoZWR1bGVUaW1lcihlLlByb2Nlc3NFdmVudHNJbnRlcnZhbEluU2Vjb25kcyxlLnByb2Nlc3NFdmVudFF1ZXVlKTplLmluc3RhbmNlLmlzUnVubmluZz0hMX0sZX0oKTtzLmluc3RhbmNlPW5ldyBzLHMuVGhyZWFkV2FpdFRpbWVJbk1zPTFlMyxzLlByb2Nlc3NFdmVudHNJbnRlcnZhbEluU2Vjb25kcz04LG4uR0FUaHJlYWRpbmc9c30oZS50aHJlYWRpbmd8fChlLnRocmVhZGluZz17fSkpfShnYW1lYW5hbHl0aWNzfHwoZ2FtZWFuYWx5dGljcz17fSkpO3ZhciBnYW1lYW5hbHl0aWNzOyFmdW5jdGlvbihlKXt2YXIgbj1lLnRocmVhZGluZy5HQVRocmVhZGluZyx0PWUubG9nZ2luZy5HQUxvZ2dlcixpPWUuc3RvcmUuR0FTdG9yZSxyPWUuc3RhdGUuR0FTdGF0ZSxzPWUuaHR0cC5HQUhUVFBBcGksbz1lLmRldmljZS5HQURldmljZSxhPWUudmFsaWRhdG9ycy5HQVZhbGlkYXRvcix1PWUuaHR0cC5FR0FIVFRQQXBpUmVzcG9uc2UsYz1lLnV0aWxpdGllcy5HQVV0aWxpdGllcyxkPWUuZXZlbnRzLkdBRXZlbnRzLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBsKCl7fXJldHVybiBsLmluaXQ9ZnVuY3Rpb24oKXtpZihvLnRvdWNoKCksbC5tZXRob2RNYXAuY29uZmlndXJlQXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAxPWwuY29uZmlndXJlQXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAxLGwubWV0aG9kTWFwLmNvbmZpZ3VyZUF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMj1sLmNvbmZpZ3VyZUF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMixsLm1ldGhvZE1hcC5jb25maWd1cmVBdmFpbGFibGVDdXN0b21EaW1lbnNpb25zMDM9bC5jb25maWd1cmVBdmFpbGFibGVDdXN0b21EaW1lbnNpb25zMDMsbC5tZXRob2RNYXAuY29uZmlndXJlQXZhaWxhYmxlUmVzb3VyY2VDdXJyZW5jaWVzPWwuY29uZmlndXJlQXZhaWxhYmxlUmVzb3VyY2VDdXJyZW5jaWVzLGwubWV0aG9kTWFwLmNvbmZpZ3VyZUF2YWlsYWJsZVJlc291cmNlSXRlbVR5cGVzPWwuY29uZmlndXJlQXZhaWxhYmxlUmVzb3VyY2VJdGVtVHlwZXMsbC5tZXRob2RNYXAuY29uZmlndXJlQnVpbGQ9bC5jb25maWd1cmVCdWlsZCxsLm1ldGhvZE1hcC5jb25maWd1cmVTZGtHYW1lRW5naW5lVmVyc2lvbj1sLmNvbmZpZ3VyZVNka0dhbWVFbmdpbmVWZXJzaW9uLGwubWV0aG9kTWFwLmNvbmZpZ3VyZUdhbWVFbmdpbmVWZXJzaW9uPWwuY29uZmlndXJlR2FtZUVuZ2luZVZlcnNpb24sbC5tZXRob2RNYXAuY29uZmlndXJlVXNlcklkPWwuY29uZmlndXJlVXNlcklkLGwubWV0aG9kTWFwLmluaXRpYWxpemU9bC5pbml0aWFsaXplLGwubWV0aG9kTWFwLmFkZEJ1c2luZXNzRXZlbnQ9bC5hZGRCdXNpbmVzc0V2ZW50LGwubWV0aG9kTWFwLmFkZFJlc291cmNlRXZlbnQ9bC5hZGRSZXNvdXJjZUV2ZW50LGwubWV0aG9kTWFwLmFkZFByb2dyZXNzaW9uRXZlbnQ9bC5hZGRQcm9ncmVzc2lvbkV2ZW50LGwubWV0aG9kTWFwLmFkZERlc2lnbkV2ZW50PWwuYWRkRGVzaWduRXZlbnQsbC5tZXRob2RNYXAuYWRkRXJyb3JFdmVudD1sLmFkZEVycm9yRXZlbnQsbC5tZXRob2RNYXAuYWRkRXJyb3JFdmVudD1sLmFkZEVycm9yRXZlbnQsbC5tZXRob2RNYXAuc2V0RW5hYmxlZEluZm9Mb2c9bC5zZXRFbmFibGVkSW5mb0xvZyxsLm1ldGhvZE1hcC5zZXRFbmFibGVkVmVyYm9zZUxvZz1sLnNldEVuYWJsZWRWZXJib3NlTG9nLGwubWV0aG9kTWFwLnNldEVuYWJsZWRNYW51YWxTZXNzaW9uSGFuZGxpbmc9bC5zZXRFbmFibGVkTWFudWFsU2Vzc2lvbkhhbmRsaW5nLGwubWV0aG9kTWFwLnNldEN1c3RvbURpbWVuc2lvbjAxPWwuc2V0Q3VzdG9tRGltZW5zaW9uMDEsbC5tZXRob2RNYXAuc2V0Q3VzdG9tRGltZW5zaW9uMDI9bC5zZXRDdXN0b21EaW1lbnNpb24wMixsLm1ldGhvZE1hcC5zZXRDdXN0b21EaW1lbnNpb24wMz1sLnNldEN1c3RvbURpbWVuc2lvbjAzLGwubWV0aG9kTWFwLnNldEZhY2Vib29rSWQ9bC5zZXRGYWNlYm9va0lkLGwubWV0aG9kTWFwLnNldEdlbmRlcj1sLnNldEdlbmRlcixsLm1ldGhvZE1hcC5zZXRCaXJ0aFllYXI9bC5zZXRCaXJ0aFllYXIsbC5tZXRob2RNYXAuc2V0RXZlbnRQcm9jZXNzSW50ZXJ2YWw9bC5zZXRFdmVudFByb2Nlc3NJbnRlcnZhbCxsLm1ldGhvZE1hcC5zdGFydFNlc3Npb249bC5zdGFydFNlc3Npb24sbC5tZXRob2RNYXAuZW5kU2Vzc2lvbj1sLmVuZFNlc3Npb24sbC5tZXRob2RNYXAub25TdG9wPWwub25TdG9wLGwubWV0aG9kTWFwLm9uUmVzdW1lPWwub25SZXN1bWUsInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5HYW1lQW5hbHl0aWNzJiZ2b2lkIDAhPT13aW5kb3cuR2FtZUFuYWx5dGljcy5xKXt2YXIgZT13aW5kb3cuR2FtZUFuYWx5dGljcy5xO2Zvcih2YXIgbiBpbiBlKWwuZ2FDb21tYW5kLmFwcGx5KG51bGwsZVtuXSl9fSxsLmdhQ29tbWFuZD1mdW5jdGlvbigpe2Zvcih2YXIgbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTtuLmxlbmd0aD4wJiZuWzBdaW4gZS5HYW1lQW5hbHl0aWNzLm1ldGhvZE1hcCYmKG4ubGVuZ3RoPjE/ZS5HYW1lQW5hbHl0aWNzLm1ldGhvZE1hcFtuWzBdXS5hcHBseShudWxsLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4sMSkpOmUuR2FtZUFuYWx5dGljcy5tZXRob2RNYXBbblswXV0oKSl9LGwuY29uZmlndXJlQXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAxPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPVtdKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2lmKGwuaXNTZGtSZWFkeSghMCwhMSkpcmV0dXJuIHZvaWQgdC53KCJBdmFpbGFibGUgY3VzdG9tIGRpbWVuc2lvbnMgbXVzdCBiZSBzZXQgYmVmb3JlIFNESyBpcyBpbml0aWFsaXplZCIpO3Iuc2V0QXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAxKGUpfSl9LGwuY29uZmlndXJlQXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAyPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPVtdKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2lmKGwuaXNTZGtSZWFkeSghMCwhMSkpcmV0dXJuIHZvaWQgdC53KCJBdmFpbGFibGUgY3VzdG9tIGRpbWVuc2lvbnMgbXVzdCBiZSBzZXQgYmVmb3JlIFNESyBpcyBpbml0aWFsaXplZCIpO3Iuc2V0QXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAyKGUpfSl9LGwuY29uZmlndXJlQXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAzPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPVtdKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2lmKGwuaXNTZGtSZWFkeSghMCwhMSkpcmV0dXJuIHZvaWQgdC53KCJBdmFpbGFibGUgY3VzdG9tIGRpbWVuc2lvbnMgbXVzdCBiZSBzZXQgYmVmb3JlIFNESyBpcyBpbml0aWFsaXplZCIpO3Iuc2V0QXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAzKGUpfSl9LGwuY29uZmlndXJlQXZhaWxhYmxlUmVzb3VyY2VDdXJyZW5jaWVzPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPVtdKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2lmKGwuaXNTZGtSZWFkeSghMCwhMSkpcmV0dXJuIHZvaWQgdC53KCJBdmFpbGFibGUgcmVzb3VyY2UgY3VycmVuY2llcyBtdXN0IGJlIHNldCBiZWZvcmUgU0RLIGlzIGluaXRpYWxpemVkIik7ci5zZXRBdmFpbGFibGVSZXNvdXJjZUN1cnJlbmNpZXMoZSl9KX0sbC5jb25maWd1cmVBdmFpbGFibGVSZXNvdXJjZUl0ZW1UeXBlcz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT1bXSksbi5wZXJmb3JtVGFza09uR0FUaHJlYWQoZnVuY3Rpb24oKXtpZihsLmlzU2RrUmVhZHkoITAsITEpKXJldHVybiB2b2lkIHQudygiQXZhaWxhYmxlIHJlc291cmNlIGl0ZW0gdHlwZXMgbXVzdCBiZSBzZXQgYmVmb3JlIFNESyBpcyBpbml0aWFsaXplZCIpO3Iuc2V0QXZhaWxhYmxlUmVzb3VyY2VJdGVtVHlwZXMoZSl9KX0sbC5jb25maWd1cmVCdWlsZD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0iIiksbi5wZXJmb3JtVGFza09uR0FUaHJlYWQoZnVuY3Rpb24oKXtyZXR1cm4gbC5pc1Nka1JlYWR5KCEwLCExKT92b2lkIHQudygiQnVpbGQgdmVyc2lvbiBtdXN0IGJlIHNldCBiZWZvcmUgU0RLIGlzIGluaXRpYWxpemVkLiIpOmEudmFsaWRhdGVCdWlsZChlKT92b2lkIHIuc2V0QnVpbGQoZSk6dm9pZCB0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGNvbmZpZ3VyZSBidWlsZDogQ2Fubm90IGJlIG51bGwsIGVtcHR5IG9yIGFib3ZlIDMyIGxlbmd0aC4gU3RyaW5nOiAiK2UpfSl9LGwuY29uZmlndXJlU2RrR2FtZUVuZ2luZVZlcnNpb249ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9IiIpLG4ucGVyZm9ybVRhc2tPbkdBVGhyZWFkKGZ1bmN0aW9uKCl7aWYoIWwuaXNTZGtSZWFkeSghMCwhMSkpcmV0dXJuIGEudmFsaWRhdGVTZGtXcmFwcGVyVmVyc2lvbihlKT92b2lkKG8uc2RrR2FtZUVuZ2luZVZlcnNpb249ZSk6dm9pZCB0LmkoIlZhbGlkYXRpb24gZmFpbCAtIGNvbmZpZ3VyZSBzZGsgdmVyc2lvbjogU2RrIHZlcnNpb24gbm90IHN1cHBvcnRlZC4gU3RyaW5nOiAiK2UpfSl9LGwuY29uZmlndXJlR2FtZUVuZ2luZVZlcnNpb249ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9IiIpLG4ucGVyZm9ybVRhc2tPbkdBVGhyZWFkKGZ1bmN0aW9uKCl7aWYoIWwuaXNTZGtSZWFkeSghMCwhMSkpcmV0dXJuIGEudmFsaWRhdGVFbmdpbmVWZXJzaW9uKGUpP3ZvaWQoby5nYW1lRW5naW5lVmVyc2lvbj1lKTp2b2lkIHQuaSgiVmFsaWRhdGlvbiBmYWlsIC0gY29uZmlndXJlIGdhbWUgZW5naW5lIHZlcnNpb246IEdhbWUgZW5naW5lIHZlcnNpb24gbm90IHN1cHBvcnRlZC4gU3RyaW5nOiAiK2UpfSl9LGwuY29uZmlndXJlVXNlcklkPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSIiKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe3JldHVybiBsLmlzU2RrUmVhZHkoITAsITEpP3ZvaWQgdC53KCJBIGN1c3RvbSB1c2VyIGlkIG11c3QgYmUgc2V0IGJlZm9yZSBTREsgaXMgaW5pdGlhbGl6ZWQuIik6YS52YWxpZGF0ZVVzZXJJZChlKT92b2lkIHIuc2V0VXNlcklkKGUpOnZvaWQgdC5pKCJWYWxpZGF0aW9uIGZhaWwgLSBjb25maWd1cmUgdXNlcl9pZDogQ2Fubm90IGJlIG51bGwsIGVtcHR5IG9yIGFib3ZlIDY0IGxlbmd0aC4gV2lsbCB1c2UgZGVmYXVsdCB1c2VyX2lkIG1ldGhvZC4gVXNlZCBzdHJpbmc6ICIrZSl9KX0sbC5pbml0aWFsaXplPWZ1bmN0aW9uKGUsaSl7dm9pZCAwPT09ZSYmKGU9IiIpLHZvaWQgMD09PWkmJihpPSIiKSxvLnVwZGF0ZUNvbm5lY3Rpb25UeXBlKCk7dmFyIHM9bi5jcmVhdGVUaW1lZEJsb2NrKCk7cy5hc3luYz0hMCxsLmluaXRUaW1lZEJsb2NrSWQ9cy5pZCxzLmJsb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIGwuaXNTZGtSZWFkeSghMCwhMSk/dm9pZCB0LncoIlNESyBhbHJlYWR5IGluaXRpYWxpemVkLiBDYW4gb25seSBiZSBjYWxsZWQgb25jZS4iKTphLnZhbGlkYXRlS2V5cyhlLGkpPyhyLnNldEtleXMoZSxpKSx2b2lkIGwuaW50ZXJuYWxJbml0aWFsaXplKCkpOnZvaWQgdC53KCJTREsgZmFpbGVkIGluaXRpYWxpemUuIEdhbWUga2V5IG9yIHNlY3JldCBrZXkgaXMgaW52YWxpZC4gQ2FuIG9ubHkgY29udGFpbiBjaGFyYWN0ZXJzIEEteiAwLTksIGdhbWVLZXkgaXMgMzIgbGVuZ3RoLCBnYW1lU2VjcmV0IGlzIDQwIGxlbmd0aC4gRmFpbGVkIGtleXMgLSBnYW1lS2V5OiAiK2UrIiwgc2VjcmV0S2V5OiAiK2kpfSxuLnBlcmZvcm1UaW1lZEJsb2NrT25HQVRocmVhZChzKX0sbC5hZGRCdXNpbmVzc0V2ZW50PWZ1bmN0aW9uKGUsdCxpLHIscyl7dm9pZCAwPT09ZSYmKGU9IiIpLHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWkmJihpPSIiKSx2b2lkIDA9PT1yJiYocj0iIiksdm9pZCAwPT09cyYmKHM9IiIpLG8udXBkYXRlQ29ubmVjdGlvblR5cGUoKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2wuaXNTZGtSZWFkeSghMCwhMCwiQ291bGQgbm90IGFkZCBidXNpbmVzcyBldmVudCIpJiZkLmFkZEJ1c2luZXNzRXZlbnQoZSx0LGkscixzKX0pfSxsLmFkZFJlc291cmNlRXZlbnQ9ZnVuY3Rpb24odCxpLHIscyxhKXt2b2lkIDA9PT10JiYodD1lLkVHQVJlc291cmNlRmxvd1R5cGUuVW5kZWZpbmVkKSx2b2lkIDA9PT1pJiYoaT0iIiksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09cyYmKHM9IiIpLHZvaWQgMD09PWEmJihhPSIiKSxvLnVwZGF0ZUNvbm5lY3Rpb25UeXBlKCksbi5wZXJmb3JtVGFza09uR0FUaHJlYWQoZnVuY3Rpb24oKXtsLmlzU2RrUmVhZHkoITAsITAsIkNvdWxkIG5vdCBhZGQgcmVzb3VyY2UgZXZlbnQiKSYmZC5hZGRSZXNvdXJjZUV2ZW50KHQsaSxyLHMsYSl9KX0sbC5hZGRQcm9ncmVzc2lvbkV2ZW50PWZ1bmN0aW9uKHQsaSxyLHMsYSl7dm9pZCAwPT09dCYmKHQ9ZS5FR0FQcm9ncmVzc2lvblN0YXR1cy5VbmRlZmluZWQpLHZvaWQgMD09PWkmJihpPSIiKSx2b2lkIDA9PT1yJiYocj0iIiksdm9pZCAwPT09cyYmKHM9IiIpLG8udXBkYXRlQ29ubmVjdGlvblR5cGUoKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2lmKGwuaXNTZGtSZWFkeSghMCwhMCwiQ291bGQgbm90IGFkZCBwcm9ncmVzc2lvbiBldmVudCIpKXt2YXIgZT12b2lkIDAhPT1hO2QuYWRkUHJvZ3Jlc3Npb25FdmVudCh0LGkscixzLGU/YTowLGUpfX0pfSxsLmFkZERlc2lnbkV2ZW50PWZ1bmN0aW9uKGUsdCl7by51cGRhdGVDb25uZWN0aW9uVHlwZSgpLG4ucGVyZm9ybVRhc2tPbkdBVGhyZWFkKGZ1bmN0aW9uKCl7aWYobC5pc1Nka1JlYWR5KCEwLCEwLCJDb3VsZCBub3QgYWRkIGRlc2lnbiBldmVudCIpKXt2YXIgbj12b2lkIDAhPT10O2QuYWRkRGVzaWduRXZlbnQoZSxuP3Q6MCxuKX19KX0sbC5hZGRFcnJvckV2ZW50PWZ1bmN0aW9uKHQsaSl7dm9pZCAwPT09dCYmKHQ9ZS5FR0FFcnJvclNldmVyaXR5LlVuZGVmaW5lZCksdm9pZCAwPT09aSYmKGk9IiIpLG8udXBkYXRlQ29ubmVjdGlvblR5cGUoKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2wuaXNTZGtSZWFkeSghMCwhMCwiQ291bGQgbm90IGFkZCBlcnJvciBldmVudCIpJiZkLmFkZEVycm9yRXZlbnQodCxpKX0pfSxsLnNldEVuYWJsZWRJbmZvTG9nPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSExKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2U/KHQuc2V0SW5mb0xvZyhlKSx0LmkoIkluZm8gbG9nZ2luZyBlbmFibGVkIikpOih0LmkoIkluZm8gbG9nZ2luZyBkaXNhYmxlZCIpLHQuc2V0SW5mb0xvZyhlKSl9KX0sbC5zZXRFbmFibGVkVmVyYm9zZUxvZz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMSksbi5wZXJmb3JtVGFza09uR0FUaHJlYWQoZnVuY3Rpb24oKXtlPyh0LnNldFZlcmJvc2VMb2coZSksdC5pKCJWZXJib3NlIGxvZ2dpbmcgZW5hYmxlZCIpKToodC5pKCJWZXJib3NlIGxvZ2dpbmcgZGlzYWJsZWQiKSx0LnNldFZlcmJvc2VMb2coZSkpfSl9LGwuc2V0RW5hYmxlZE1hbnVhbFNlc3Npb25IYW5kbGluZz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMSksbi5wZXJmb3JtVGFza09uR0FUaHJlYWQoZnVuY3Rpb24oKXtyLnNldE1hbnVhbFNlc3Npb25IYW5kbGluZyhlKX0pfSxsLnNldEN1c3RvbURpbWVuc2lvbjAxPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSIiKSxuLnBlcmZvcm1UYXNrT25HQVRocmVhZChmdW5jdGlvbigpe2lmKCFhLnZhbGlkYXRlRGltZW5zaW9uMDEoZSxyLmdldEF2YWlsYWJsZUN1c3RvbURpbWVuc2lvbnMwMSgpKSlyZXR1cm4gdm9pZCB0LncoIkNvdWxkIG5vdCBzZXQgY3VzdG9tMDEgZGltZW5zaW9uIHZhbHVlIHRvICciK2UrIicuIFZhbHVlIG5vdCBmb3VuZCBpbiBhdmFpbGFibGUgY3VzdG9tMDEgZGltZW5zaW9uIHZhbHVlcyIpO3Iuc2V0Q3VzdG9tRGltZW5zaW9uMDEoZSl9KX0sbC5zZXRDdXN0b21EaW1lbnNpb24wMj1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0iIiksbi5wZXJmb3JtVGFza09uR0FUaHJlYWQoZnVuY3Rpb24oKXtpZighYS52YWxpZGF0ZURpbWVuc2lvbjAyKGUsci5nZXRBdmFpbGFibGVDdXN0b21EaW1lbnNpb25zMDIoKSkpcmV0dXJuIHZvaWQgdC53KCJDb3VsZCBub3Qgc2V0IGN1c3RvbTAyIGRpbWVuc2lvbiB2YWx1ZSB0byAnIitlKyInLiBWYWx1ZSBub3QgZm91bmQgaW4gYXZhaWxhYmxlIGN1c3RvbTAyIGRpbWVuc2lvbiB2YWx1ZXMiKTtyLnNldEN1c3RvbURpbWVuc2lvbjAyKGUpfSl9LGwuc2V0Q3VzdG9tRGltZW5zaW9uMDM9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9IiIpLG4ucGVyZm9ybVRhc2tPbkdBVGhyZWFkKGZ1bmN0aW9uKCl7aWYoIWEudmFsaWRhdGVEaW1lbnNpb24wMyhlLHIuZ2V0QXZhaWxhYmxlQ3VzdG9tRGltZW5zaW9uczAzKCkpKXJldHVybiB2b2lkIHQudygiQ291bGQgbm90IHNldCBjdXN0b20wMyBkaW1lbnNpb24gdmFsdWUgdG8gJyIrZSsiJy4gVmFsdWUgbm90IGZvdW5kIGluIGF2YWlsYWJsZSBjdXN0b20wMyBkaW1lbnNpb24gdmFsdWVzIik7ci5zZXRDdXN0b21EaW1lbnNpb24wMyhlKX0pfSxsLnNldEZhY2Vib29rSWQ9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9IiIpLG4ucGVyZm9ybVRhc2tPbkdBVGhyZWFkKGZ1bmN0aW9uKCl7YS52YWxpZGF0ZUZhY2Vib29rSWQoZSkmJnIuc2V0RmFjZWJvb2tJZChlKX0pfSxsLnNldEdlbmRlcj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1lLkVHQUdlbmRlci5VbmRlZmluZWQpLG4ucGVyZm9ybVRhc2tPbkdBVGhyZWFkKGZ1bmN0aW9uKCl7YS52YWxpZGF0ZUdlbmRlcih0KSYmci5zZXRHZW5kZXIodCl9KX0sbC5zZXRCaXJ0aFllYXI9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9MCksbi5wZXJmb3JtVGFza09uR0FUaHJlYWQoZnVuY3Rpb24oKXthLnZhbGlkYXRlQmlydGh5ZWFyKGUpJiZyLnNldEJpcnRoWWVhcihlKX0pfSxsLnNldEV2ZW50UHJvY2Vzc0ludGVydmFsPWZ1bmN0aW9uKGUpe24ucGVyZm9ybVRhc2tPbkdBVGhyZWFkKGZ1bmN0aW9uKCl7bi5zZXRFdmVudFByb2Nlc3NJbnRlcnZhbChlKX0pfSxsLnN0YXJ0U2Vzc2lvbj1mdW5jdGlvbigpe2lmKHIuZ2V0VXNlTWFudWFsU2Vzc2lvbkhhbmRsaW5nKCkpe2lmKCFyLmlzSW5pdGlhbGl6ZWQoKSlyZXR1cm47dmFyIGU9bi5jcmVhdGVUaW1lZEJsb2NrKCk7ZS5hc3luYz0hMCxsLmluaXRUaW1lZEJsb2NrSWQ9ZS5pZCxlLmJsb2NrPWZ1bmN0aW9uKCl7ci5pc0VuYWJsZWQoKSYmci5zZXNzaW9uSXNTdGFydGVkKCkmJm4uZW5kU2Vzc2lvbkFuZFN0b3BRdWV1ZSgpLGwucmVzdW1lU2Vzc2lvbkFuZFN0YXJ0UXVldWUoKX0sbi5wZXJmb3JtVGltZWRCbG9ja09uR0FUaHJlYWQoZSl9fSxsLmVuZFNlc3Npb249ZnVuY3Rpb24oKXtyLmdldFVzZU1hbnVhbFNlc3Npb25IYW5kbGluZygpJiZsLm9uU3RvcCgpfSxsLm9uU3RvcD1mdW5jdGlvbigpe24ucGVyZm9ybVRhc2tPbkdBVGhyZWFkKGZ1bmN0aW9uKCl7dHJ5e24uZW5kU2Vzc2lvbkFuZFN0b3BRdWV1ZSgpfWNhdGNoKGUpe319KX0sbC5vblJlc3VtZT1mdW5jdGlvbigpe3ZhciBlPW4uY3JlYXRlVGltZWRCbG9jaygpO2UuYXN5bmM9ITAsbC5pbml0VGltZWRCbG9ja0lkPWUuaWQsZS5ibG9jaz1mdW5jdGlvbigpe2wucmVzdW1lU2Vzc2lvbkFuZFN0YXJ0UXVldWUoKX0sbi5wZXJmb3JtVGltZWRCbG9ja09uR0FUaHJlYWQoZSl9LGwuaW50ZXJuYWxJbml0aWFsaXplPWZ1bmN0aW9uKCl7ci5lbnN1cmVQZXJzaXN0ZWRTdGF0ZXMoKSxpLnNldEl0ZW0oci5EZWZhdWx0VXNlcklkS2V5LHIuZ2V0RGVmYXVsdElkKCkpLHIuc2V0SW5pdGlhbGl6ZWQoITApLGwubmV3U2Vzc2lvbigpLHIuaXNFbmFibGVkKCkmJm4uZW5zdXJlRXZlbnRRdWV1ZUlzUnVubmluZygpfSxsLm5ld1Nlc3Npb249ZnVuY3Rpb24oKXt0LmkoIlN0YXJ0aW5nIGEgbmV3IHNlc3Npb24uIiksci52YWxpZGF0ZUFuZEZpeEN1cnJlbnREaW1lbnNpb25zKCkscy5pbnN0YW5jZS5yZXF1ZXN0SW5pdChsLnN0YXJ0TmV3U2Vzc2lvbkNhbGxiYWNrKX0sbC5zdGFydE5ld1Nlc3Npb25DYWxsYmFjaz1mdW5jdGlvbihlLHMpe2lmKGU9PT11Lk9rJiZzKXt2YXIgbz0wO2lmKHMuc2VydmVyX3RzKXt2YXIgYT1zLnNlcnZlcl90cztvPXIuY2FsY3VsYXRlU2VydmVyVGltZU9mZnNldChhKX1zLnRpbWVfb2Zmc2V0PW8saS5zZXRJdGVtKHIuU2RrQ29uZmlnQ2FjaGVkS2V5LGMuZW5jb2RlNjQoSlNPTi5zdHJpbmdpZnkocykpKSxyLmluc3RhbmNlLnNka0NvbmZpZ0NhY2hlZD1zLHIuaW5zdGFuY2Uuc2RrQ29uZmlnPXMsci5pbnN0YW5jZS5pbml0QXV0aG9yaXplZD0hMH1lbHNlIGU9PXUuVW5hdXRob3JpemVkPyh0LncoIkluaXRpYWxpemUgU0RLIGZhaWxlZCAtIFVuYXV0aG9yaXplZCIpLHIuaW5zdGFuY2UuaW5pdEF1dGhvcml6ZWQ9ITEpOihlPT09dS5Ob1Jlc3BvbnNlfHxlPT09dS5SZXF1ZXN0VGltZW91dD90LmkoIkluaXQgY2FsbCAoc2Vzc2lvbiBzdGFydCkgZmFpbGVkIC0gbm8gcmVzcG9uc2UuIENvdWxkIGJlIG9mZmxpbmUgb3IgdGltZW91dC4iKTplPT09dS5CYWRSZXNwb25zZXx8ZT09PXUuSnNvbkVuY29kZUZhaWxlZHx8ZT09PXUuSnNvbkRlY29kZUZhaWxlZD90LmkoIkluaXQgY2FsbCAoc2Vzc2lvbiBzdGFydCkgZmFpbGVkIC0gYmFkIHJlc3BvbnNlLiBDb3VsZCBiZSBiYWQgcmVzcG9uc2UgZnJvbSBwcm94eSBvciBHQSBzZXJ2ZXJzLiIpOmUhPT11LkJhZFJlcXVlc3QmJmUhPT11LlVua25vd25SZXNwb25zZUNvZGV8fHQuaSgiSW5pdCBjYWxsIChzZXNzaW9uIHN0YXJ0KSBmYWlsZWQgLSBiYWQgcmVxdWVzdCBvciB1bmtub3duIHJlc3BvbnNlLiIpLG51bGw9PXIuaW5zdGFuY2Uuc2RrQ29uZmlnP251bGwhPXIuaW5zdGFuY2Uuc2RrQ29uZmlnQ2FjaGVkPyh0LmkoIkluaXQgY2FsbCAoc2Vzc2lvbiBzdGFydCkgZmFpbGVkIC0gdXNpbmcgY2FjaGVkIGluaXQgdmFsdWVzLiIpLHIuaW5zdGFuY2Uuc2RrQ29uZmlnPXIuaW5zdGFuY2Uuc2RrQ29uZmlnQ2FjaGVkKToodC5pKCJJbml0IGNhbGwgKHNlc3Npb24gc3RhcnQpIGZhaWxlZCAtIHVzaW5nIGRlZmF1bHQgaW5pdCB2YWx1ZXMuIiksCnIuaW5zdGFuY2Uuc2RrQ29uZmlnPXIuaW5zdGFuY2Uuc2RrQ29uZmlnRGVmYXVsdCk6dC5pKCJJbml0IGNhbGwgKHNlc3Npb24gc3RhcnQpIGZhaWxlZCAtIHVzaW5nIGNhY2hlZCBpbml0IHZhbHVlcy4iKSxyLmluc3RhbmNlLmluaXRBdXRob3JpemVkPSEwKTtpZihyLmluc3RhbmNlLmNsaWVudFNlcnZlclRpbWVPZmZzZXQ9ci5pbnN0YW5jZS5zZGtDb25maWcudGltZV9vZmZzZXQ/ci5pbnN0YW5jZS5zZGtDb25maWcudGltZV9vZmZzZXQ6MCwhci5pc0VuYWJsZWQoKSlyZXR1cm4gdC53KCJDb3VsZCBub3Qgc3RhcnQgc2Vzc2lvbjogU0RLIGlzIGRpc2FibGVkLiIpLHZvaWQgbi5zdG9wRXZlbnRRdWV1ZSgpO24uZW5zdXJlRXZlbnRRdWV1ZUlzUnVubmluZygpO3ZhciBmPWMuY3JlYXRlR3VpZCgpO3IuaW5zdGFuY2Uuc2Vzc2lvbklkPWYsci5pbnN0YW5jZS5zZXNzaW9uU3RhcnQ9ci5nZXRDbGllbnRUc0FkanVzdGVkKCksZC5hZGRTZXNzaW9uU3RhcnRFdmVudCgpO3ZhciB2PW4uZ2V0VGltZWRCbG9ja0J5SWQobC5pbml0VGltZWRCbG9ja0lkKTtudWxsIT12JiYodi5ydW5uaW5nPSExKSxsLmluaXRUaW1lZEJsb2NrSWQ9LTF9LGwucmVzdW1lU2Vzc2lvbkFuZFN0YXJ0UXVldWU9ZnVuY3Rpb24oKXtyLmlzSW5pdGlhbGl6ZWQoKSYmKHQuaSgiUmVzdW1pbmcgc2Vzc2lvbi4iKSxyLnNlc3Npb25Jc1N0YXJ0ZWQoKXx8bC5uZXdTZXNzaW9uKCkpfSxsLmlzU2RrUmVhZHk9ZnVuY3Rpb24oZSxuLGkpe3JldHVybiB2b2lkIDA9PT1uJiYobj0hMCksdm9pZCAwPT09aSYmKGk9IiIpLGkmJihpKz0iOiAiKSxlJiYhci5pc0luaXRpYWxpemVkKCk/KG4mJnQudyhpKyJTREsgaXMgbm90IGluaXRpYWxpemVkIiksITEpOiEoZSYmIXIuaXNFbmFibGVkKCkpfHwobiYmdC53KGkrIlNESyBpcyBkaXNhYmxlZCIpLCExKX0sbH0oKTtsLmluaXRUaW1lZEJsb2NrSWQ9LTEsbC5tZXRob2RNYXA9e30sZS5HYW1lQW5hbHl0aWNzPWx9KGdhbWVhbmFseXRpY3N8fChnYW1lYW5hbHl0aWNzPXt9KSksZ2FtZWFuYWx5dGljcy5HYW1lQW5hbHl0aWNzLmluaXQoKTt2YXIgR2FtZUFuYWx5dGljcz1nYW1lYW5hbHl0aWNzLkdhbWVBbmFseXRpY3MuZ2FDb21tYW5kOwpzY29wZS5nYW1lYW5hbHl0aWNzPWdhbWVhbmFseXRpY3M7CnNjb3BlLkdhbWVBbmFseXRpY3M9R2FtZUFuYWx5dGljczsKfSkodGhpcyk7"></script>
        <script src="data:text/plain;base64,LyoqCiAqIFR3ZWVuLmpzIC0gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS90d2VlbmpzL3R3ZWVuLmpzCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICoKICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2VlbmpzL3R3ZWVuLmpzL2dyYXBocy9jb250cmlidXRvcnMgZm9yIHRoZSBmdWxsIGxpc3Qgb2YgY29udHJpYnV0b3JzLgogKiBUaGFuayB5b3UgYWxsLCB5b3UncmUgYXdlc29tZSEKICovCgp2YXIgVFdFRU4gPSBUV0VFTiB8fCAoZnVuY3Rpb24gKCkgewoKCXZhciBfdHdlZW5zID0gW107CgoJcmV0dXJuIHsKCgkJZ2V0QWxsOiBmdW5jdGlvbiAoKSB7CgoJCQlyZXR1cm4gX3R3ZWVuczsKCgkJfSwKCgkJcmVtb3ZlQWxsOiBmdW5jdGlvbiAoKSB7CgoJCQlfdHdlZW5zID0gW107CgoJCX0sCgoJCWFkZDogZnVuY3Rpb24gKHR3ZWVuKSB7CgoJCQlfdHdlZW5zLnB1c2godHdlZW4pOwoKCQl9LAoKCQlyZW1vdmU6IGZ1bmN0aW9uICh0d2VlbikgewoKCQkJdmFyIGkgPSBfdHdlZW5zLmluZGV4T2YodHdlZW4pOwoKCQkJaWYgKGkgIT09IC0xKSB7CgkJCQlfdHdlZW5zLnNwbGljZShpLCAxKTsKCQkJfQoKCQl9LAoKCQl1cGRhdGU6IGZ1bmN0aW9uICh0aW1lLCBwcmVzZXJ2ZSkgewoKCQkJaWYgKF90d2VlbnMubGVuZ3RoID09PSAwKSB7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCXZhciBpID0gMDsKCgkJCXRpbWUgPSB0aW1lICE9PSB1bmRlZmluZWQgPyB0aW1lIDogVFdFRU4ubm93KCk7CgoJCQl3aGlsZSAoaSA8IF90d2VlbnMubGVuZ3RoKSB7CgoJCQkJaWYgKF90d2VlbnNbaV0udXBkYXRlKHRpbWUpIHx8IHByZXNlcnZlKSB7CgkJCQkJaSsrOwoJCQkJfSBlbHNlIHsKCQkJCQlfdHdlZW5zLnNwbGljZShpLCAxKTsKCQkJCX0KCgkJCX0KCgkJCXJldHVybiB0cnVlOwoKCQl9Cgl9OwoKfSkoKTsKCgovLyBJbmNsdWRlIGEgcGVyZm9ybWFuY2Uubm93IHBvbHlmaWxsLgovLyBJbiBub2RlLmpzLCB1c2UgcHJvY2Vzcy5ocnRpbWUuCmlmICh0eXBlb2YgKHdpbmRvdykgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiAocHJvY2VzcykgIT09ICd1bmRlZmluZWQnKSB7CglUV0VFTi5ub3cgPSBmdW5jdGlvbiAoKSB7CgkJdmFyIHRpbWUgPSBwcm9jZXNzLmhydGltZSgpOwoKCQkvLyBDb252ZXJ0IFtzZWNvbmRzLCBuYW5vc2Vjb25kc10gdG8gbWlsbGlzZWNvbmRzLgoJCXJldHVybiB0aW1lWzBdICogMTAwMCArIHRpbWVbMV0gLyAxMDAwMDAwOwoJfTsKfQovLyBJbiBhIGJyb3dzZXIsIHVzZSB3aW5kb3cucGVyZm9ybWFuY2Uubm93IGlmIGl0IGlzIGF2YWlsYWJsZS4KZWxzZSBpZiAodHlwZW9mICh3aW5kb3cpICE9PSAndW5kZWZpbmVkJyAmJgogICAgICAgICB3aW5kb3cucGVyZm9ybWFuY2UgIT09IHVuZGVmaW5lZCAmJgoJCSB3aW5kb3cucGVyZm9ybWFuY2Uubm93ICE9PSB1bmRlZmluZWQpIHsKCS8vIFRoaXMgbXVzdCBiZSBib3VuZCwgYmVjYXVzZSBkaXJlY3RseSBhc3NpZ25pbmcgdGhpcyBmdW5jdGlvbgoJLy8gbGVhZHMgdG8gYW4gaW52b2NhdGlvbiBleGNlcHRpb24gaW4gQ2hyb21lLgoJVFdFRU4ubm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk7Cn0KLy8gVXNlIERhdGUubm93IGlmIGl0IGlzIGF2YWlsYWJsZS4KZWxzZSBpZiAoRGF0ZS5ub3cgIT09IHVuZGVmaW5lZCkgewoJVFdFRU4ubm93ID0gRGF0ZS5ub3c7Cn0KLy8gT3RoZXJ3aXNlLCB1c2UgJ25ldyBEYXRlKCkuZ2V0VGltZSgpJy4KZWxzZSB7CglUV0VFTi5ub3cgPSBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpOwoJfTsKfQoKClRXRUVOLlR3ZWVuID0gZnVuY3Rpb24gKG9iamVjdCkgewoKCXZhciBfb2JqZWN0ID0gbnVsbDsKCWlmKG9iamVjdCkgX29iamVjdCA9IG9iamVjdDsKCgoJdmFyIF9kdXJhdGlvbiA9IDEwMDA7Cgl2YXIgX3RpbWUgPSAwOwoJdmFyIF9zdGFydFRpbWUgPSBudWxsOwoKCXZhciBfcmV2ZXJzZWQgPSBmYWxzZTsKCXRoaXMuaXNQbGF5aW5nID0gZmFsc2U7CgoJCgl2YXIgX2Vhc2luZ0Z1bmN0aW9uID0gVFdFRU4uRWFzaW5nLkxpbmVhci5Ob25lOwoJdmFyIF9pbnRlcnBvbGF0aW9uRnVuY3Rpb24gPSBUV0VFTi5JbnRlcnBvbGF0aW9uLkxpbmVhcjsKCgoJdmFyIF92YWx1ZXNTdGFydE9yaWdpbiA9IG51bGw7Cgl2YXIgX3ZhbHVlc0VuZE9yaWdpbiA9IG51bGw7Cgl2YXIgX3ZhbHVlc1N0YXJ0ID0ge307Cgl2YXIgX3ZhbHVlc0VuZCA9IHt9OwoKCQoKCXZhciBfaXNSZXNldCA9IHRydWU7CgoKCgl2YXIgX2RlbHRhcyA9IHt9OwoJdmFyIF9kZWx0YXNfaW5pdCA9IHt9OwoKCXZhciBfb25Db21wbGV0ZUNhbGxiYWNrID0gbnVsbDsKCXZhciBfb25Db21wbGV0ZUNhbGxiYWNrU2NvcGUgPSBudWxsOwoJdmFyIF9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrID0gbnVsbDsKCXZhciBfb25SZXZlcnNlQ29tcGxldGVDYWxsYmFja1Njb3BlID0gbnVsbDsKCgkKCXRoaXMuc2V0T2JqZWN0ID0gZnVuY3Rpb24gKG9iamVjdCkgewoJCWlmKG9iamVjdCkKCQkJX29iamVjdCA9IG9iamVjdDsKCX07CgoJLy9Db21wdXRlcyBuZXcgZGVsdGFzIHRvIHR3ZWVuIHRvCgl0aGlzLnRvID0gZnVuY3Rpb24gKHByb3BlcnRpZXMsIGR1cmF0aW9uKSB7CgkJX2lzUmVzZXQgPSB0cnVlOwoJCWlmIChkdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7CgkJCV9kdXJhdGlvbiA9IGR1cmF0aW9uOwoJCX0KCgkJdmFyIHByb3BlcnR5LCBzdGFydD0wLCBlbmQ9MDsKCQlmb3IgKHByb3BlcnR5IGluIHByb3BlcnRpZXMpCgkJewoJCQlpZiAoX29iamVjdFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkgewoJCQkJY29udGludWU7CgkJCX0KCgkJCXN0YXJ0ID0gX29iamVjdFtwcm9wZXJ0eV07CgkJCWVuZCA9IHByb3BlcnRpZXNbcHJvcGVydHldOwoJCQlfZGVsdGFzW3Byb3BlcnR5XSA9IGVuZCAtIHN0YXJ0OwoJCQlfZGVsdGFzX2luaXRbcHJvcGVydHldID0gX2RlbHRhc1twcm9wZXJ0eV07CgkJfQoKCQlyZXR1cm4gdGhpczsKCX07CgoKCXRoaXMucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHsKCgkJdmFyIHByb3BlcnR5OwoJCQoJCWlmKHRoaXMuaXNQbGF5aW5nKXsKCQkJdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTsKCQkJZm9yIChwcm9wZXJ0eSBpbiBfZGVsdGFzKSB7CgkJCQlpZihfcmV2ZXJzZWQpewoJCQkJCV9kZWx0YXNbcHJvcGVydHldID0gKDEtX3ZhbHVlKSpfZGVsdGFzW3Byb3BlcnR5XTsKCQkJCX1lbHNlewoJCQkJCV9kZWx0YXNbcHJvcGVydHldID0gX2RlbHRhc19pbml0W3Byb3BlcnR5XS0oMS1fdmFsdWUpKl9kZWx0YXNbcHJvcGVydHldOwoJCQkJfQoJCQl9CgoJCQlpZihfcmV2ZXJzZWQpewoJCQkJLy9jb25zb2xlLmxvZygic3RhcnQgcmV2ZXJzZSwgY3VycmVudGx5IHBsYXlpbmcsIHJldmVyc2UiKTsKCQkJfWVsc2V7CgkJCQkvL2NvbnNvbGUubG9nKCJzdGFydCByZXZlcnNlLCBjdXJyZW50bHkgcGxheWluZywgbm8gcmV2ZXJzZSIpOwoJCQl9CgkJfWVsc2V7CgkJCS8vY29uc29sZS5sb2coInN0YXJ0IHJldmVyc2UsIGN1cnJlbnRseSBub3QgcGxheWluZzsgIik7CgkJCWZvciAocHJvcGVydHkgaW4gX2RlbHRhcykKCQkJewoJCQkJX2RlbHRhc1twcm9wZXJ0eV0gPSBfZGVsdGFzX2luaXRbcHJvcGVydHldOwoJCQl9CgkJfQoKCQlfaXNSZXNldCA9IGZhbHNlOwoJCV9wcmV2VmFsdWUgPSAwOwoJCV9yZXZlcnNlZCA9IHRydWU7CgkJX3RpbWUgPSBUV0VFTi5ub3coKTsKCQlfc3RhcnRUaW1lID0gVFdFRU4ubm93KCk7CgkJdGhpcy5pc1BsYXlpbmcgPSB0cnVlOwoKCgkJcmV0dXJuIHRoaXM7Cgl9OwoKCXRoaXMuc3RhcnQgPSBmdW5jdGlvbiAodGltZSkgewoJCXZhciBwcm9wZXJ0eTsKCQkKCQkKCQlpZih0aGlzLmlzUGxheWluZyl7CgkJCXRoaXMuaXNQbGF5aW5nID0gZmFsc2U7CgkJCQoJCQlpZighX2lzUmVzZXQpewoJCQkJZm9yIChwcm9wZXJ0eSBpbiBfZGVsdGFzKSB7CgkJCQkJaWYoX3JldmVyc2VkKXsKCQkJCQkJX2RlbHRhc1twcm9wZXJ0eV0gPSBfZGVsdGFzX2luaXRbcHJvcGVydHldLSgxLV92YWx1ZSkqX2RlbHRhc1twcm9wZXJ0eV07CgkJCQkJfWVsc2V7CgkJCQkJCV9kZWx0YXNbcHJvcGVydHldID0gKDEtX3ZhbHVlKSpfZGVsdGFzW3Byb3BlcnR5XTsKCQkJCQl9CgkJCQl9CgkJCX0KCgoJCQlpZihfcmV2ZXJzZWQpewoJCQkJLy9jb25zb2xlLmxvZygic3RhcnQsIGN1cnJlbnRseSBwbGF5aW5nLCByZXZlcnNlIik7CgkJCX1lbHNlewoJCQkJLy9jb25zb2xlLmxvZygic3RhcnQsIGN1cnJlbnRseSBwbGF5aW5nLCBubyByZXZlcnNlIik7CgkJCX0KCQl9ZWxzZXsKCQkJLy9jb25zb2xlLmxvZygic3RhcnQsIGN1cnJlbnRseSBub3QgcGxheWluZzsgIik7CgkJCWZvciAocHJvcGVydHkgaW4gX2RlbHRhcykKCQkJewoJCQkJX2RlbHRhc1twcm9wZXJ0eV0gPSBfZGVsdGFzX2luaXRbcHJvcGVydHldOwoJCQl9CgkJfQoKCgkJCgkJX2lzUmVzZXQgPSBmYWxzZTsKCQlfcmV2ZXJzZWQgPSBmYWxzZTsKCQlfcHJldlZhbHVlID0gMDsKCQlfdGltZSA9IFRXRUVOLm5vdygpOwoJCV9zdGFydFRpbWUgPSBfdGltZTsKCQl0aGlzLmlzUGxheWluZyA9IHRydWU7CgoJCQoJCXJldHVybiB0aGlzOwoJfTsKCgoJCgkKCXZhciBfdmFsdWUgPSAwOyAvL2Zyb20gMCB0byAxIDsgb3V0cHV0IG9mIHRoZSB0d2VlbiBmdW5jdGlvbgoJdmFyIF9kdmFsdWUgPSAwOyAvL2RlbHRhIF92YWx1ZSBhbmQgdGhlIG9uZSBvZiB0aGUgcHJldmlvdXMgZHQKCXZhciBfcHJldlZhbHVlID0gMDsgLy9fdmFsdWUgb2YgdGhlIHByZXZpb3VzIGR0CgoJdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHsKCgkJdmFyIHByb3BlcnR5OwoJCXZhciBlbGFwc2VkOyAvLyUgb2YgdGhlIGR1cmF0aW9uOyBmcm9tIDAgdG8gMTsKCgkJX3RpbWUgPSBfdGltZSArIGR0OwoJCWlmIChfdGltZSA8IF9zdGFydFRpbWUpIHsKCQkJcmV0dXJuIHRydWU7CgkJfQoJCWVsYXBzZWQgPSAoX3RpbWUgLSBfc3RhcnRUaW1lKSAvIF9kdXJhdGlvbjsKCQllbGFwc2VkID0gZWxhcHNlZCA+IDEgPyAxIDogZWxhcHNlZDsKCgoJCV92YWx1ZSA9IF9lYXNpbmdGdW5jdGlvbihlbGFwc2VkKTsKCQlfZHZhbHVlID0gX3ZhbHVlIC0gX3ByZXZWYWx1ZTsKCQlfcHJldlZhbHVlID0gX3ZhbHVlOwoJCQoJCXZhciBkdiA9IDA7CgoJCWZvciAocHJvcGVydHkgaW4gX2RlbHRhcykgewoJCQlpZihfcmV2ZXJzZWQpewoJCQkJX29iamVjdFtwcm9wZXJ0eV0gKz0gLV9kdmFsdWUqX2RlbHRhc1twcm9wZXJ0eV07CgkJCX1lbHNlewoJCQkJX29iamVjdFtwcm9wZXJ0eV0gKz0gX2R2YWx1ZSpfZGVsdGFzW3Byb3BlcnR5XTsJCgkJCX0KCQkJCgoJCQkvKl9vYmplY3RbcHJvcGVydHldID0gc3RhcnQgKyBkVmFsdWVzW3Byb3BlcnR5XSAqIHZhbHVlOwoJCQlkdiA9IChzdGFydCArIChlbmQgLSBzdGFydCkgKiB2YWx1ZSkgLSBfb2JqZWN0W3Byb3BlcnR5XTsqLwoJCX0KCgoKCQlpZiAoZWxhcHNlZCA9PT0gMSkgewoJCQlpZiAoX29uQ29tcGxldGVDYWxsYmFjayAhPT0gbnVsbCAmJiAhX3JldmVyc2VkKSB7CgkJCQlpZihfb25Db21wbGV0ZUNhbGxiYWNrU2NvcGUhPW51bGwpewoJCQkJCV9vbkNvbXBsZXRlQ2FsbGJhY2suY2FsbChfb25Db21wbGV0ZUNhbGxiYWNrU2NvcGUpOwoJCQkJfWVsc2V7CgkJCQkJX29uQ29tcGxldGVDYWxsYmFjay5jYWxsKF9vYmplY3QsIF9vYmplY3QpOwkKCQkJCX0KCQkJCQoJCQl9CgoJCQlpZiAoKF9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrICE9PSBudWxsKSAmJiBfcmV2ZXJzZWQpIHsKCQkJCWlmKF9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrU2NvcGUhPW51bGwpewoJCQkJCV9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrLmNhbGwoX29uUmV2ZXJzZUNvbXBsZXRlQ2FsbGJhY2tTY29wZSk7CgkJCQl9ZWxzZXsKCQkJCQlfb25SZXZlcnNlQ29tcGxldGVDYWxsYmFjay5jYWxsKF9vYmplY3QsIF9vYmplY3QpOwoJCQkJfQoJCQl9CgoJCQl0aGlzLmlzUGxheWluZyA9IGZhbHNlOwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlyZXR1cm4gdHJ1ZTsKCgl9OwoKCgoKCgoJdGhpcy5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrLHNjb3BlKSB7CgkJX29uQ29tcGxldGVDYWxsYmFjayA9IGNhbGxiYWNrOwoJCV9vbkNvbXBsZXRlQ2FsbGJhY2tTY29wZSA9IHNjb3BlOwoJCXJldHVybiB0aGlzOwoJfTsKCgl0aGlzLm9uUmV2ZXJzZUNvbXBsZXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrLHNjb3BlKSB7CgoJCV9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrID0gY2FsbGJhY2s7CgkJX29uUmV2ZXJzZUNvbXBsZXRlQ2FsbGJhY2tTY29wZSA9IHNjb3BlOwoJCXJldHVybiB0aGlzOwoKCX07CgoKCXRoaXMuZWFzaW5nID0gZnVuY3Rpb24gKGVhc2luZykgewoKCQlfZWFzaW5nRnVuY3Rpb24gPSBlYXNpbmc7CgkJcmV0dXJuIHRoaXM7CgoJfTsKCgl0aGlzLmludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoaW50ZXJwb2xhdGlvbikgewoKCQlfaW50ZXJwb2xhdGlvbkZ1bmN0aW9uID0gaW50ZXJwb2xhdGlvbjsKCQlyZXR1cm4gdGhpczsKCgl9OwoKfTsKClRXRUVOLkVhc2luZyA9IHsKCglMaW5lYXI6IHsKCgkJTm9uZTogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrOwoKCQl9CgoJfSwKCglRdWFkcmF0aWM6IHsKCgkJSW46IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gayAqIGs7CgoJCX0sCgoJCU91dDogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrICogKDIgLSBrKTsKCgkJfSwKCgkJSW5PdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlpZiAoKGsgKj0gMikgPCAxKSB7CgkJCQlyZXR1cm4gMC41ICogayAqIGs7CgkJCX0KCgkJCXJldHVybiAtIDAuNSAqICgtLWsgKiAoayAtIDIpIC0gMSk7CgoJCX0KCgl9LAoKCUN1YmljOiB7CgoJCUluOiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIGsgKiBrICogazsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIC0tayAqIGsgKiBrICsgMTsKCgkJfSwKCgkJSW5PdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlpZiAoKGsgKj0gMikgPCAxKSB7CgkJCQlyZXR1cm4gMC41ICogayAqIGsgKiBrOwoJCQl9CgoJCQlyZXR1cm4gMC41ICogKChrIC09IDIpICogayAqIGsgKyAyKTsKCgkJfQoKCX0sCgoJUXVhcnRpYzogewoKCQlJbjogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrICogayAqIGsgKiBrOwoKCQl9LAoKCQlPdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gMSAtICgtLWsgKiBrICogayAqIGspOwoKCQl9LAoKCQlJbk91dDogZnVuY3Rpb24gKGspIHsKCgkJCWlmICgoayAqPSAyKSA8IDEpIHsKCQkJCXJldHVybiAwLjUgKiBrICogayAqIGsgKiBrOwoJCQl9CgoJCQlyZXR1cm4gLSAwLjUgKiAoKGsgLT0gMikgKiBrICogayAqIGsgLSAyKTsKCgkJfQoKCX0sCgoJUXVpbnRpYzogewoKCQlJbjogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrICogayAqIGsgKiBrICogazsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIC0tayAqIGsgKiBrICogayAqIGsgKyAxOwoKCQl9LAoKCQlJbk91dDogZnVuY3Rpb24gKGspIHsKCgkJCWlmICgoayAqPSAyKSA8IDEpIHsKCQkJCXJldHVybiAwLjUgKiBrICogayAqIGsgKiBrICogazsKCQkJfQoKCQkJcmV0dXJuIDAuNSAqICgoayAtPSAyKSAqIGsgKiBrICogayAqIGsgKyAyKTsKCgkJfQoKCX0sCgoJU2ludXNvaWRhbDogewoKCQlJbjogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiAxIC0gTWF0aC5jb3MoayAqIE1hdGguUEkgLyAyKTsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIE1hdGguc2luKGsgKiBNYXRoLlBJIC8gMik7CgoJCX0sCgoJCUluT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIDAuNSAqICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIGspKTsKCgkJfQoKCX0sCgoJRXhwb25lbnRpYWw6IHsKCgkJSW46IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gayA9PT0gMCA/IDAgOiBNYXRoLnBvdygxMDI0LCBrIC0gMSk7CgoJCX0sCgoJCU91dDogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrID09PSAxID8gMSA6IDEgLSBNYXRoLnBvdygyLCAtIDEwICogayk7CgoJCX0sCgoJCUluT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPT09IDApIHsKCQkJCXJldHVybiAwOwoJCQl9CgoJCQlpZiAoayA9PT0gMSkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCWlmICgoayAqPSAyKSA8IDEpIHsKCQkJCXJldHVybiAwLjUgKiBNYXRoLnBvdygxMDI0LCBrIC0gMSk7CgkJCX0KCgkJCXJldHVybiAwLjUgKiAoLSBNYXRoLnBvdygyLCAtIDEwICogKGsgLSAxKSkgKyAyKTsKCgkJfQoKCX0sCgoJQ2lyY3VsYXI6IHsKCgkJSW46IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gMSAtIE1hdGguc3FydCgxIC0gayAqIGspOwoKCQl9LAoKCQlPdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gTWF0aC5zcXJ0KDEgLSAoLS1rICogaykpOwoKCQl9LAoKCQlJbk91dDogZnVuY3Rpb24gKGspIHsKCgkJCWlmICgoayAqPSAyKSA8IDEpIHsKCQkJCXJldHVybiAtIDAuNSAqIChNYXRoLnNxcnQoMSAtIGsgKiBrKSAtIDEpOwoJCQl9CgoJCQlyZXR1cm4gMC41ICogKE1hdGguc3FydCgxIC0gKGsgLT0gMikgKiBrKSArIDEpOwoKCQl9CgoJfSwKCglFbGFzdGljOiB7CgoJCUluOiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPT09IDApIHsKCQkJCXJldHVybiAwOwoJCQl9CgoJCQlpZiAoayA9PT0gMSkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCXJldHVybiAtTWF0aC5wb3coMiwgMTAgKiAoayAtIDEpKSAqIE1hdGguc2luKChrIC0gMS4xKSAqIDUgKiBNYXRoLlBJKTsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPT09IDApIHsKCQkJCXJldHVybiAwOwoJCQl9CgoJCQlpZiAoayA9PT0gMSkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCXJldHVybiBNYXRoLnBvdygyLCAtMTAgKiBrKSAqIE1hdGguc2luKChrIC0gMC4xKSAqIDUgKiBNYXRoLlBJKSArIDE7CgoJCX0sCgoJCUluT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPT09IDApIHsKCQkJCXJldHVybiAwOwoJCQl9CgoJCQlpZiAoayA9PT0gMSkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCWsgKj0gMjsKCgkJCWlmIChrIDwgMSkgewoJCQkJcmV0dXJuIC0wLjUgKiBNYXRoLnBvdygyLCAxMCAqIChrIC0gMSkpICogTWF0aC5zaW4oKGsgLSAxLjEpICogNSAqIE1hdGguUEkpOwoJCQl9CgoJCQlyZXR1cm4gMC41ICogTWF0aC5wb3coMiwgLTEwICogKGsgLSAxKSkgKiBNYXRoLnNpbigoayAtIDEuMSkgKiA1ICogTWF0aC5QSSkgKyAxOwoKCQl9CgoJfSwKCglCYWNrOiB7CgoJCUluOiBmdW5jdGlvbiAoaykgewoKCQkJdmFyIHMgPSAxLjcwMTU4OwoKCQkJcmV0dXJuIGsgKiBrICogKChzICsgMSkgKiBrIC0gcyk7CgoJCX0sCgoJCU91dDogZnVuY3Rpb24gKGspIHsKCgkJCXZhciBzID0gMS43MDE1ODsKCgkJCXJldHVybiAtLWsgKiBrICogKChzICsgMSkgKiBrICsgcykgKyAxOwoKCQl9LAoKCQlJbk91dDogZnVuY3Rpb24gKGspIHsKCgkJCXZhciBzID0gMS43MDE1OCAqIDEuNTI1OwoKCQkJaWYgKChrICo9IDIpIDwgMSkgewoJCQkJcmV0dXJuIDAuNSAqIChrICogayAqICgocyArIDEpICogayAtIHMpKTsKCQkJfQoKCQkJcmV0dXJuIDAuNSAqICgoayAtPSAyKSAqIGsgKiAoKHMgKyAxKSAqIGsgKyBzKSArIDIpOwoKCQl9CgoJfSwKCglCb3VuY2U6IHsKCgkJSW46IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gMSAtIFRXRUVOLkVhc2luZy5Cb3VuY2UuT3V0KDEgLSBrKTsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPCAoMSAvIDIuNzUpKSB7CgkJCQlyZXR1cm4gNy41NjI1ICogayAqIGs7CgkJCX0gZWxzZSBpZiAoayA8ICgyIC8gMi43NSkpIHsKCQkJCXJldHVybiA3LjU2MjUgKiAoayAtPSAoMS41IC8gMi43NSkpICogayArIDAuNzU7CgkJCX0gZWxzZSBpZiAoayA8ICgyLjUgLyAyLjc1KSkgewoJCQkJcmV0dXJuIDcuNTYyNSAqIChrIC09ICgyLjI1IC8gMi43NSkpICogayArIDAuOTM3NTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiA3LjU2MjUgKiAoayAtPSAoMi42MjUgLyAyLjc1KSkgKiBrICsgMC45ODQzNzU7CgkJCX0KCgkJfSwKCgkJSW5PdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlpZiAoayA8IDAuNSkgewoJCQkJcmV0dXJuIFRXRUVOLkVhc2luZy5Cb3VuY2UuSW4oayAqIDIpICogMC41OwoJCQl9CgoJCQlyZXR1cm4gVFdFRU4uRWFzaW5nLkJvdW5jZS5PdXQoayAqIDIgLSAxKSAqIDAuNSArIDAuNTsKCgkJfQoKCX0KCn07CgpUV0VFTi5JbnRlcnBvbGF0aW9uID0gewoKCUxpbmVhcjogZnVuY3Rpb24gKHYsIGspIHsKCgkJdmFyIG0gPSB2Lmxlbmd0aCAtIDE7CgkJdmFyIGYgPSBtICogazsKCQl2YXIgaSA9IE1hdGguZmxvb3IoZik7CgkJdmFyIGZuID0gVFdFRU4uSW50ZXJwb2xhdGlvbi5VdGlscy5MaW5lYXI7CgoJCWlmIChrIDwgMCkgewoJCQlyZXR1cm4gZm4odlswXSwgdlsxXSwgZik7CgkJfQoKCQlpZiAoayA+IDEpIHsKCQkJcmV0dXJuIGZuKHZbbV0sIHZbbSAtIDFdLCBtIC0gZik7CgkJfQoKCQlyZXR1cm4gZm4odltpXSwgdltpICsgMSA+IG0gPyBtIDogaSArIDFdLCBmIC0gaSk7CgoJfSwKCglCZXppZXI6IGZ1bmN0aW9uICh2LCBrKSB7CgoJCXZhciBiID0gMDsKCQl2YXIgbiA9IHYubGVuZ3RoIC0gMTsKCQl2YXIgcHcgPSBNYXRoLnBvdzsKCQl2YXIgYm4gPSBUV0VFTi5JbnRlcnBvbGF0aW9uLlV0aWxzLkJlcm5zdGVpbjsKCgkJZm9yICh2YXIgaSA9IDA7IGkgPD0gbjsgaSsrKSB7CgkJCWIgKz0gcHcoMSAtIGssIG4gLSBpKSAqIHB3KGssIGkpICogdltpXSAqIGJuKG4sIGkpOwoJCX0KCgkJcmV0dXJuIGI7CgoJfSwKCglDYXRtdWxsUm9tOiBmdW5jdGlvbiAodiwgaykgewoKCQl2YXIgbSA9IHYubGVuZ3RoIC0gMTsKCQl2YXIgZiA9IG0gKiBrOwoJCXZhciBpID0gTWF0aC5mbG9vcihmKTsKCQl2YXIgZm4gPSBUV0VFTi5JbnRlcnBvbGF0aW9uLlV0aWxzLkNhdG11bGxSb207CgoJCWlmICh2WzBdID09PSB2W21dKSB7CgoJCQlpZiAoayA8IDApIHsKCQkJCWkgPSBNYXRoLmZsb29yKGYgPSBtICogKDEgKyBrKSk7CgkJCX0KCgkJCXJldHVybiBmbih2WyhpIC0gMSArIG0pICUgbV0sIHZbaV0sIHZbKGkgKyAxKSAlIG1dLCB2WyhpICsgMikgJSBtXSwgZiAtIGkpOwoKCQl9IGVsc2UgewoKCQkJaWYgKGsgPCAwKSB7CgkJCQlyZXR1cm4gdlswXSAtIChmbih2WzBdLCB2WzBdLCB2WzFdLCB2WzFdLCAtZikgLSB2WzBdKTsKCQkJfQoKCQkJaWYgKGsgPiAxKSB7CgkJCQlyZXR1cm4gdlttXSAtIChmbih2W21dLCB2W21dLCB2W20gLSAxXSwgdlttIC0gMV0sIGYgLSBtKSAtIHZbbV0pOwoJCQl9CgoJCQlyZXR1cm4gZm4odltpID8gaSAtIDEgOiAwXSwgdltpXSwgdlttIDwgaSArIDEgPyBtIDogaSArIDFdLCB2W20gPCBpICsgMiA/IG0gOiBpICsgMl0sIGYgLSBpKTsKCgkJfQoKCX0sCgoJVXRpbHM6IHsKCgkJTGluZWFyOiBmdW5jdGlvbiAocDAsIHAxLCB0KSB7CgoJCQlyZXR1cm4gKHAxIC0gcDApICogdCArIHAwOwoKCQl9LAoKCQlCZXJuc3RlaW46IGZ1bmN0aW9uIChuLCBpKSB7CgoJCQl2YXIgZmMgPSBUV0VFTi5JbnRlcnBvbGF0aW9uLlV0aWxzLkZhY3RvcmlhbDsKCgkJCXJldHVybiBmYyhuKSAvIGZjKGkpIC8gZmMobiAtIGkpOwoKCQl9LAoKCQlGYWN0b3JpYWw6IChmdW5jdGlvbiAoKSB7CgoJCQl2YXIgYSA9IFsxXTsKCgkJCXJldHVybiBmdW5jdGlvbiAobikgewoKCQkJCXZhciBzID0gMTsKCgkJCQlpZiAoYVtuXSkgewoJCQkJCXJldHVybiBhW25dOwoJCQkJfQoKCQkJCWZvciAodmFyIGkgPSBuOyBpID4gMTsgaS0tKSB7CgkJCQkJcyAqPSBpOwoJCQkJfQoKCQkJCWFbbl0gPSBzOwoJCQkJcmV0dXJuIHM7CgoJCQl9OwoKCQl9KSgpLAoKCQlDYXRtdWxsUm9tOiBmdW5jdGlvbiAocDAsIHAxLCBwMiwgcDMsIHQpIHsKCgkJCXZhciB2MCA9IChwMiAtIHAwKSAqIDAuNTsKCQkJdmFyIHYxID0gKHAzIC0gcDEpICogMC41OwoJCQl2YXIgdDIgPSB0ICogdDsKCQkJdmFyIHQzID0gdCAqIHQyOwoKCQkJcmV0dXJuICgyICogcDEgLSAyICogcDIgKyB2MCArIHYxKSAqIHQzICsgKC0gMyAqIHAxICsgMyAqIHAyIC0gMiAqIHYwIC0gdjEpICogdDIgKyB2MCAqIHQgKyBwMTsKCgkJfQoKCX0KCn07CgovLyBVTUQgKFVuaXZlcnNhbCBNb2R1bGUgRGVmaW5pdGlvbikKKGZ1bmN0aW9uIChyb290KSB7CgoJaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewoKCQkvLyBBTUQKCQlkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHsKCQkJcmV0dXJuIFRXRUVOOwoJCX0pOwoKCX0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CgoJCS8vIE5vZGUuanMKCQltb2R1bGUuZXhwb3J0cyA9IFRXRUVOOwoKCX0gZWxzZSBpZiAocm9vdCAhPT0gdW5kZWZpbmVkKSB7CgoJCS8vIEdsb2JhbCB2YXJpYWJsZQoJCXJvb3QuVFdFRU4gPSBUV0VFTjsKCgl9Cgp9KSh0aGlzKTs="></script>
        <script src="data:text/plain;base64,LyoqCiAqIFR3ZWVuLmpzIC0gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS90d2VlbmpzL3R3ZWVuLmpzCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICoKICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2VlbmpzL3R3ZWVuLmpzL2dyYXBocy9jb250cmlidXRvcnMgZm9yIHRoZSBmdWxsIGxpc3Qgb2YgY29udHJpYnV0b3JzLgogKiBUaGFuayB5b3UgYWxsLCB5b3UncmUgYXdlc29tZSEKICovCgp2YXIgVFdFRU4gPSBUV0VFTiB8fCAoZnVuY3Rpb24gKCkgewoKCXZhciBfdHdlZW5zID0gW107CgoJcmV0dXJuIHsKCgkJZ2V0QWxsOiBmdW5jdGlvbiAoKSB7CgoJCQlyZXR1cm4gX3R3ZWVuczsKCgkJfSwKCgkJcmVtb3ZlQWxsOiBmdW5jdGlvbiAoKSB7CgoJCQlfdHdlZW5zID0gW107CgoJCX0sCgoJCWFkZDogZnVuY3Rpb24gKHR3ZWVuKSB7CgoJCQlfdHdlZW5zLnB1c2godHdlZW4pOwoKCQl9LAoKCQlyZW1vdmU6IGZ1bmN0aW9uICh0d2VlbikgewoKCQkJdmFyIGkgPSBfdHdlZW5zLmluZGV4T2YodHdlZW4pOwoKCQkJaWYgKGkgIT09IC0xKSB7CgkJCQlfdHdlZW5zLnNwbGljZShpLCAxKTsKCQkJfQoKCQl9LAoKCQl1cGRhdGU6IGZ1bmN0aW9uICh0aW1lLCBwcmVzZXJ2ZSkgewoKCQkJaWYgKF90d2VlbnMubGVuZ3RoID09PSAwKSB7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCXZhciBpID0gMDsKCgkJCXRpbWUgPSB0aW1lICE9PSB1bmRlZmluZWQgPyB0aW1lIDogVFdFRU4ubm93KCk7CgoJCQl3aGlsZSAoaSA8IF90d2VlbnMubGVuZ3RoKSB7CgoJCQkJaWYgKF90d2VlbnNbaV0udXBkYXRlKHRpbWUpIHx8IHByZXNlcnZlKSB7CgkJCQkJaSsrOwoJCQkJfSBlbHNlIHsKCQkJCQlfdHdlZW5zLnNwbGljZShpLCAxKTsKCQkJCX0KCgkJCX0KCgkJCXJldHVybiB0cnVlOwoKCQl9Cgl9OwoKfSkoKTsKCgovLyBJbmNsdWRlIGEgcGVyZm9ybWFuY2Uubm93IHBvbHlmaWxsLgovLyBJbiBub2RlLmpzLCB1c2UgcHJvY2Vzcy5ocnRpbWUuCmlmICh0eXBlb2YgKHdpbmRvdykgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiAocHJvY2VzcykgIT09ICd1bmRlZmluZWQnKSB7CglUV0VFTi5ub3cgPSBmdW5jdGlvbiAoKSB7CgkJdmFyIHRpbWUgPSBwcm9jZXNzLmhydGltZSgpOwoKCQkvLyBDb252ZXJ0IFtzZWNvbmRzLCBuYW5vc2Vjb25kc10gdG8gbWlsbGlzZWNvbmRzLgoJCXJldHVybiB0aW1lWzBdICogMTAwMCArIHRpbWVbMV0gLyAxMDAwMDAwOwoJfTsKfQovLyBJbiBhIGJyb3dzZXIsIHVzZSB3aW5kb3cucGVyZm9ybWFuY2Uubm93IGlmIGl0IGlzIGF2YWlsYWJsZS4KZWxzZSBpZiAodHlwZW9mICh3aW5kb3cpICE9PSAndW5kZWZpbmVkJyAmJgogICAgICAgICB3aW5kb3cucGVyZm9ybWFuY2UgIT09IHVuZGVmaW5lZCAmJgoJCSB3aW5kb3cucGVyZm9ybWFuY2Uubm93ICE9PSB1bmRlZmluZWQpIHsKCS8vIFRoaXMgbXVzdCBiZSBib3VuZCwgYmVjYXVzZSBkaXJlY3RseSBhc3NpZ25pbmcgdGhpcyBmdW5jdGlvbgoJLy8gbGVhZHMgdG8gYW4gaW52b2NhdGlvbiBleGNlcHRpb24gaW4gQ2hyb21lLgoJVFdFRU4ubm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk7Cn0KLy8gVXNlIERhdGUubm93IGlmIGl0IGlzIGF2YWlsYWJsZS4KZWxzZSBpZiAoRGF0ZS5ub3cgIT09IHVuZGVmaW5lZCkgewoJVFdFRU4ubm93ID0gRGF0ZS5ub3c7Cn0KLy8gT3RoZXJ3aXNlLCB1c2UgJ25ldyBEYXRlKCkuZ2V0VGltZSgpJy4KZWxzZSB7CglUV0VFTi5ub3cgPSBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpOwoJfTsKfQoKClRXRUVOLlR3ZWVuID0gZnVuY3Rpb24gKG9iamVjdCkgewoKCXZhciBfb2JqZWN0ID0gbnVsbDsKCWlmKG9iamVjdCkgX29iamVjdCA9IG9iamVjdDsKCgoJdmFyIF9kdXJhdGlvbiA9IDEwMDA7Cgl2YXIgX3RpbWUgPSAwOwoJdmFyIF9zdGFydFRpbWUgPSBudWxsOwoKCXZhciBfcmV2ZXJzZWQgPSBmYWxzZTsKCXRoaXMuaXNQbGF5aW5nID0gZmFsc2U7CgoJCgl2YXIgX2Vhc2luZ0Z1bmN0aW9uID0gVFdFRU4uRWFzaW5nLkxpbmVhci5Ob25lOwoJdmFyIF9pbnRlcnBvbGF0aW9uRnVuY3Rpb24gPSBUV0VFTi5JbnRlcnBvbGF0aW9uLkxpbmVhcjsKCgoJdmFyIF92YWx1ZXNTdGFydE9yaWdpbiA9IG51bGw7Cgl2YXIgX3ZhbHVlc0VuZE9yaWdpbiA9IG51bGw7Cgl2YXIgX3ZhbHVlc1N0YXJ0ID0ge307Cgl2YXIgX3ZhbHVlc0VuZCA9IHt9OwoKCQoKCXZhciBfaXNSZXNldCA9IHRydWU7CgoKCgl2YXIgX2RlbHRhcyA9IHt9OwoJdmFyIF9kZWx0YXNfaW5pdCA9IHt9OwoKCXZhciBfb25Db21wbGV0ZUNhbGxiYWNrID0gbnVsbDsKCXZhciBfb25Db21wbGV0ZUNhbGxiYWNrU2NvcGUgPSBudWxsOwoJdmFyIF9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrID0gbnVsbDsKCXZhciBfb25SZXZlcnNlQ29tcGxldGVDYWxsYmFja1Njb3BlID0gbnVsbDsKCgkKCXRoaXMuc2V0T2JqZWN0ID0gZnVuY3Rpb24gKG9iamVjdCkgewoJCWlmKG9iamVjdCkKCQkJX29iamVjdCA9IG9iamVjdDsKCX07CgoJLy9Db21wdXRlcyBuZXcgZGVsdGFzIHRvIHR3ZWVuIHRvCgl0aGlzLnRvID0gZnVuY3Rpb24gKHByb3BlcnRpZXMsIGR1cmF0aW9uKSB7CgkJX2lzUmVzZXQgPSB0cnVlOwoJCWlmIChkdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7CgkJCV9kdXJhdGlvbiA9IGR1cmF0aW9uOwoJCX0KCgkJdmFyIHByb3BlcnR5LCBzdGFydD0wLCBlbmQ9MDsKCQlmb3IgKHByb3BlcnR5IGluIHByb3BlcnRpZXMpCgkJewoJCQlpZiAoX29iamVjdFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkgewoJCQkJY29udGludWU7CgkJCX0KCgkJCXN0YXJ0ID0gX29iamVjdFtwcm9wZXJ0eV07CgkJCWVuZCA9IHByb3BlcnRpZXNbcHJvcGVydHldOwoJCQlfZGVsdGFzW3Byb3BlcnR5XSA9IGVuZCAtIHN0YXJ0OwoJCQlfZGVsdGFzX2luaXRbcHJvcGVydHldID0gX2RlbHRhc1twcm9wZXJ0eV07CgkJfQoKCQlyZXR1cm4gdGhpczsKCX07CgoKCXRoaXMucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHsKCgkJdmFyIHByb3BlcnR5OwoJCQoJCWlmKHRoaXMuaXNQbGF5aW5nKXsKCQkJdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTsKCQkJZm9yIChwcm9wZXJ0eSBpbiBfZGVsdGFzKSB7CgkJCQlpZihfcmV2ZXJzZWQpewoJCQkJCV9kZWx0YXNbcHJvcGVydHldID0gKDEtX3ZhbHVlKSpfZGVsdGFzW3Byb3BlcnR5XTsKCQkJCX1lbHNlewoJCQkJCV9kZWx0YXNbcHJvcGVydHldID0gX2RlbHRhc19pbml0W3Byb3BlcnR5XS0oMS1fdmFsdWUpKl9kZWx0YXNbcHJvcGVydHldOwoJCQkJfQoJCQl9CgoJCQlpZihfcmV2ZXJzZWQpewoJCQkJLy9jb25zb2xlLmxvZygic3RhcnQgcmV2ZXJzZSwgY3VycmVudGx5IHBsYXlpbmcsIHJldmVyc2UiKTsKCQkJfWVsc2V7CgkJCQkvL2NvbnNvbGUubG9nKCJzdGFydCByZXZlcnNlLCBjdXJyZW50bHkgcGxheWluZywgbm8gcmV2ZXJzZSIpOwoJCQl9CgkJfWVsc2V7CgkJCS8vY29uc29sZS5sb2coInN0YXJ0IHJldmVyc2UsIGN1cnJlbnRseSBub3QgcGxheWluZzsgIik7CgkJCWZvciAocHJvcGVydHkgaW4gX2RlbHRhcykKCQkJewoJCQkJX2RlbHRhc1twcm9wZXJ0eV0gPSBfZGVsdGFzX2luaXRbcHJvcGVydHldOwoJCQl9CgkJfQoKCQlfaXNSZXNldCA9IGZhbHNlOwoJCV9wcmV2VmFsdWUgPSAwOwoJCV9yZXZlcnNlZCA9IHRydWU7CgkJX3RpbWUgPSBUV0VFTi5ub3coKTsKCQlfc3RhcnRUaW1lID0gVFdFRU4ubm93KCk7CgkJdGhpcy5pc1BsYXlpbmcgPSB0cnVlOwoKCgkJcmV0dXJuIHRoaXM7Cgl9OwoKCXRoaXMuc3RhcnQgPSBmdW5jdGlvbiAodGltZSkgewoJCXZhciBwcm9wZXJ0eTsKCQkKCQkKCQlpZih0aGlzLmlzUGxheWluZyl7CgkJCXRoaXMuaXNQbGF5aW5nID0gZmFsc2U7CgkJCQoJCQlpZighX2lzUmVzZXQpewoJCQkJZm9yIChwcm9wZXJ0eSBpbiBfZGVsdGFzKSB7CgkJCQkJaWYoX3JldmVyc2VkKXsKCQkJCQkJX2RlbHRhc1twcm9wZXJ0eV0gPSBfZGVsdGFzX2luaXRbcHJvcGVydHldLSgxLV92YWx1ZSkqX2RlbHRhc1twcm9wZXJ0eV07CgkJCQkJfWVsc2V7CgkJCQkJCV9kZWx0YXNbcHJvcGVydHldID0gKDEtX3ZhbHVlKSpfZGVsdGFzW3Byb3BlcnR5XTsKCQkJCQl9CgkJCQl9CgkJCX0KCgoJCQlpZihfcmV2ZXJzZWQpewoJCQkJLy9jb25zb2xlLmxvZygic3RhcnQsIGN1cnJlbnRseSBwbGF5aW5nLCByZXZlcnNlIik7CgkJCX1lbHNlewoJCQkJLy9jb25zb2xlLmxvZygic3RhcnQsIGN1cnJlbnRseSBwbGF5aW5nLCBubyByZXZlcnNlIik7CgkJCX0KCQl9ZWxzZXsKCQkJLy9jb25zb2xlLmxvZygic3RhcnQsIGN1cnJlbnRseSBub3QgcGxheWluZzsgIik7CgkJCWZvciAocHJvcGVydHkgaW4gX2RlbHRhcykKCQkJewoJCQkJX2RlbHRhc1twcm9wZXJ0eV0gPSBfZGVsdGFzX2luaXRbcHJvcGVydHldOwoJCQl9CgkJfQoKCgkJCgkJX2lzUmVzZXQgPSBmYWxzZTsKCQlfcmV2ZXJzZWQgPSBmYWxzZTsKCQlfcHJldlZhbHVlID0gMDsKCQlfdGltZSA9IFRXRUVOLm5vdygpOwoJCV9zdGFydFRpbWUgPSBfdGltZTsKCQl0aGlzLmlzUGxheWluZyA9IHRydWU7CgoJCQoJCXJldHVybiB0aGlzOwoJfTsKCgoJCgkKCXZhciBfdmFsdWUgPSAwOyAvL2Zyb20gMCB0byAxIDsgb3V0cHV0IG9mIHRoZSB0d2VlbiBmdW5jdGlvbgoJdmFyIF9kdmFsdWUgPSAwOyAvL2RlbHRhIF92YWx1ZSBhbmQgdGhlIG9uZSBvZiB0aGUgcHJldmlvdXMgZHQKCXZhciBfcHJldlZhbHVlID0gMDsgLy9fdmFsdWUgb2YgdGhlIHByZXZpb3VzIGR0CgoJdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHsKCgkJdmFyIHByb3BlcnR5OwoJCXZhciBlbGFwc2VkOyAvLyUgb2YgdGhlIGR1cmF0aW9uOyBmcm9tIDAgdG8gMTsKCgkJX3RpbWUgPSBfdGltZSArIGR0OwoJCWlmIChfdGltZSA8IF9zdGFydFRpbWUpIHsKCQkJcmV0dXJuIHRydWU7CgkJfQoJCWVsYXBzZWQgPSAoX3RpbWUgLSBfc3RhcnRUaW1lKSAvIF9kdXJhdGlvbjsKCQllbGFwc2VkID0gZWxhcHNlZCA+IDEgPyAxIDogZWxhcHNlZDsKCgoJCV92YWx1ZSA9IF9lYXNpbmdGdW5jdGlvbihlbGFwc2VkKTsKCQlfZHZhbHVlID0gX3ZhbHVlIC0gX3ByZXZWYWx1ZTsKCQlfcHJldlZhbHVlID0gX3ZhbHVlOwoJCQoJCXZhciBkdiA9IDA7CgoJCWZvciAocHJvcGVydHkgaW4gX2RlbHRhcykgewoJCQlpZihfcmV2ZXJzZWQpewoJCQkJX29iamVjdFtwcm9wZXJ0eV0gKz0gLV9kdmFsdWUqX2RlbHRhc1twcm9wZXJ0eV07CgkJCX1lbHNlewoJCQkJX29iamVjdFtwcm9wZXJ0eV0gKz0gX2R2YWx1ZSpfZGVsdGFzW3Byb3BlcnR5XTsJCgkJCX0KCQkJCgoJCQkvKl9vYmplY3RbcHJvcGVydHldID0gc3RhcnQgKyBkVmFsdWVzW3Byb3BlcnR5XSAqIHZhbHVlOwoJCQlkdiA9IChzdGFydCArIChlbmQgLSBzdGFydCkgKiB2YWx1ZSkgLSBfb2JqZWN0W3Byb3BlcnR5XTsqLwoJCX0KCgoKCQlpZiAoZWxhcHNlZCA9PT0gMSkgewoJCQlpZiAoX29uQ29tcGxldGVDYWxsYmFjayAhPT0gbnVsbCAmJiAhX3JldmVyc2VkKSB7CgkJCQlpZihfb25Db21wbGV0ZUNhbGxiYWNrU2NvcGUhPW51bGwpewoJCQkJCV9vbkNvbXBsZXRlQ2FsbGJhY2suY2FsbChfb25Db21wbGV0ZUNhbGxiYWNrU2NvcGUpOwoJCQkJfWVsc2V7CgkJCQkJX29uQ29tcGxldGVDYWxsYmFjay5jYWxsKF9vYmplY3QsIF9vYmplY3QpOwkKCQkJCX0KCQkJCQoJCQl9CgoJCQlpZiAoKF9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrICE9PSBudWxsKSAmJiBfcmV2ZXJzZWQpIHsKCQkJCWlmKF9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrU2NvcGUhPW51bGwpewoJCQkJCV9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrLmNhbGwoX29uUmV2ZXJzZUNvbXBsZXRlQ2FsbGJhY2tTY29wZSk7CgkJCQl9ZWxzZXsKCQkJCQlfb25SZXZlcnNlQ29tcGxldGVDYWxsYmFjay5jYWxsKF9vYmplY3QsIF9vYmplY3QpOwoJCQkJfQoJCQl9CgoJCQl0aGlzLmlzUGxheWluZyA9IGZhbHNlOwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlyZXR1cm4gdHJ1ZTsKCgl9OwoKCgoKCgoJdGhpcy5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrLHNjb3BlKSB7CgkJX29uQ29tcGxldGVDYWxsYmFjayA9IGNhbGxiYWNrOwoJCV9vbkNvbXBsZXRlQ2FsbGJhY2tTY29wZSA9IHNjb3BlOwoJCXJldHVybiB0aGlzOwoJfTsKCgl0aGlzLm9uUmV2ZXJzZUNvbXBsZXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrLHNjb3BlKSB7CgoJCV9vblJldmVyc2VDb21wbGV0ZUNhbGxiYWNrID0gY2FsbGJhY2s7CgkJX29uUmV2ZXJzZUNvbXBsZXRlQ2FsbGJhY2tTY29wZSA9IHNjb3BlOwoJCXJldHVybiB0aGlzOwoKCX07CgoKCXRoaXMuZWFzaW5nID0gZnVuY3Rpb24gKGVhc2luZykgewoKCQlfZWFzaW5nRnVuY3Rpb24gPSBlYXNpbmc7CgkJcmV0dXJuIHRoaXM7CgoJfTsKCgl0aGlzLmludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoaW50ZXJwb2xhdGlvbikgewoKCQlfaW50ZXJwb2xhdGlvbkZ1bmN0aW9uID0gaW50ZXJwb2xhdGlvbjsKCQlyZXR1cm4gdGhpczsKCgl9OwoKfTsKClRXRUVOLkVhc2luZyA9IHsKCglMaW5lYXI6IHsKCgkJTm9uZTogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrOwoKCQl9CgoJfSwKCglRdWFkcmF0aWM6IHsKCgkJSW46IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gayAqIGs7CgoJCX0sCgoJCU91dDogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrICogKDIgLSBrKTsKCgkJfSwKCgkJSW5PdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlpZiAoKGsgKj0gMikgPCAxKSB7CgkJCQlyZXR1cm4gMC41ICogayAqIGs7CgkJCX0KCgkJCXJldHVybiAtIDAuNSAqICgtLWsgKiAoayAtIDIpIC0gMSk7CgoJCX0KCgl9LAoKCUN1YmljOiB7CgoJCUluOiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIGsgKiBrICogazsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIC0tayAqIGsgKiBrICsgMTsKCgkJfSwKCgkJSW5PdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlpZiAoKGsgKj0gMikgPCAxKSB7CgkJCQlyZXR1cm4gMC41ICogayAqIGsgKiBrOwoJCQl9CgoJCQlyZXR1cm4gMC41ICogKChrIC09IDIpICogayAqIGsgKyAyKTsKCgkJfQoKCX0sCgoJUXVhcnRpYzogewoKCQlJbjogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrICogayAqIGsgKiBrOwoKCQl9LAoKCQlPdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gMSAtICgtLWsgKiBrICogayAqIGspOwoKCQl9LAoKCQlJbk91dDogZnVuY3Rpb24gKGspIHsKCgkJCWlmICgoayAqPSAyKSA8IDEpIHsKCQkJCXJldHVybiAwLjUgKiBrICogayAqIGsgKiBrOwoJCQl9CgoJCQlyZXR1cm4gLSAwLjUgKiAoKGsgLT0gMikgKiBrICogayAqIGsgLSAyKTsKCgkJfQoKCX0sCgoJUXVpbnRpYzogewoKCQlJbjogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrICogayAqIGsgKiBrICogazsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIC0tayAqIGsgKiBrICogayAqIGsgKyAxOwoKCQl9LAoKCQlJbk91dDogZnVuY3Rpb24gKGspIHsKCgkJCWlmICgoayAqPSAyKSA8IDEpIHsKCQkJCXJldHVybiAwLjUgKiBrICogayAqIGsgKiBrICogazsKCQkJfQoKCQkJcmV0dXJuIDAuNSAqICgoayAtPSAyKSAqIGsgKiBrICogayAqIGsgKyAyKTsKCgkJfQoKCX0sCgoJU2ludXNvaWRhbDogewoKCQlJbjogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiAxIC0gTWF0aC5jb3MoayAqIE1hdGguUEkgLyAyKTsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIE1hdGguc2luKGsgKiBNYXRoLlBJIC8gMik7CgoJCX0sCgoJCUluT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJcmV0dXJuIDAuNSAqICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIGspKTsKCgkJfQoKCX0sCgoJRXhwb25lbnRpYWw6IHsKCgkJSW46IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gayA9PT0gMCA/IDAgOiBNYXRoLnBvdygxMDI0LCBrIC0gMSk7CgoJCX0sCgoJCU91dDogZnVuY3Rpb24gKGspIHsKCgkJCXJldHVybiBrID09PSAxID8gMSA6IDEgLSBNYXRoLnBvdygyLCAtIDEwICogayk7CgoJCX0sCgoJCUluT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPT09IDApIHsKCQkJCXJldHVybiAwOwoJCQl9CgoJCQlpZiAoayA9PT0gMSkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCWlmICgoayAqPSAyKSA8IDEpIHsKCQkJCXJldHVybiAwLjUgKiBNYXRoLnBvdygxMDI0LCBrIC0gMSk7CgkJCX0KCgkJCXJldHVybiAwLjUgKiAoLSBNYXRoLnBvdygyLCAtIDEwICogKGsgLSAxKSkgKyAyKTsKCgkJfQoKCX0sCgoJQ2lyY3VsYXI6IHsKCgkJSW46IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gMSAtIE1hdGguc3FydCgxIC0gayAqIGspOwoKCQl9LAoKCQlPdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gTWF0aC5zcXJ0KDEgLSAoLS1rICogaykpOwoKCQl9LAoKCQlJbk91dDogZnVuY3Rpb24gKGspIHsKCgkJCWlmICgoayAqPSAyKSA8IDEpIHsKCQkJCXJldHVybiAtIDAuNSAqIChNYXRoLnNxcnQoMSAtIGsgKiBrKSAtIDEpOwoJCQl9CgoJCQlyZXR1cm4gMC41ICogKE1hdGguc3FydCgxIC0gKGsgLT0gMikgKiBrKSArIDEpOwoKCQl9CgoJfSwKCglFbGFzdGljOiB7CgoJCUluOiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPT09IDApIHsKCQkJCXJldHVybiAwOwoJCQl9CgoJCQlpZiAoayA9PT0gMSkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCXJldHVybiAtTWF0aC5wb3coMiwgMTAgKiAoayAtIDEpKSAqIE1hdGguc2luKChrIC0gMS4xKSAqIDUgKiBNYXRoLlBJKTsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPT09IDApIHsKCQkJCXJldHVybiAwOwoJCQl9CgoJCQlpZiAoayA9PT0gMSkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCXJldHVybiBNYXRoLnBvdygyLCAtMTAgKiBrKSAqIE1hdGguc2luKChrIC0gMC4xKSAqIDUgKiBNYXRoLlBJKSArIDE7CgoJCX0sCgoJCUluT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPT09IDApIHsKCQkJCXJldHVybiAwOwoJCQl9CgoJCQlpZiAoayA9PT0gMSkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCWsgKj0gMjsKCgkJCWlmIChrIDwgMSkgewoJCQkJcmV0dXJuIC0wLjUgKiBNYXRoLnBvdygyLCAxMCAqIChrIC0gMSkpICogTWF0aC5zaW4oKGsgLSAxLjEpICogNSAqIE1hdGguUEkpOwoJCQl9CgoJCQlyZXR1cm4gMC41ICogTWF0aC5wb3coMiwgLTEwICogKGsgLSAxKSkgKiBNYXRoLnNpbigoayAtIDEuMSkgKiA1ICogTWF0aC5QSSkgKyAxOwoKCQl9CgoJfSwKCglCYWNrOiB7CgoJCUluOiBmdW5jdGlvbiAoaykgewoKCQkJdmFyIHMgPSAxLjcwMTU4OwoKCQkJcmV0dXJuIGsgKiBrICogKChzICsgMSkgKiBrIC0gcyk7CgoJCX0sCgoJCU91dDogZnVuY3Rpb24gKGspIHsKCgkJCXZhciBzID0gMS43MDE1ODsKCgkJCXJldHVybiAtLWsgKiBrICogKChzICsgMSkgKiBrICsgcykgKyAxOwoKCQl9LAoKCQlJbk91dDogZnVuY3Rpb24gKGspIHsKCgkJCXZhciBzID0gMS43MDE1OCAqIDEuNTI1OwoKCQkJaWYgKChrICo9IDIpIDwgMSkgewoJCQkJcmV0dXJuIDAuNSAqIChrICogayAqICgocyArIDEpICogayAtIHMpKTsKCQkJfQoKCQkJcmV0dXJuIDAuNSAqICgoayAtPSAyKSAqIGsgKiAoKHMgKyAxKSAqIGsgKyBzKSArIDIpOwoKCQl9CgoJfSwKCglCb3VuY2U6IHsKCgkJSW46IGZ1bmN0aW9uIChrKSB7CgoJCQlyZXR1cm4gMSAtIFRXRUVOLkVhc2luZy5Cb3VuY2UuT3V0KDEgLSBrKTsKCgkJfSwKCgkJT3V0OiBmdW5jdGlvbiAoaykgewoKCQkJaWYgKGsgPCAoMSAvIDIuNzUpKSB7CgkJCQlyZXR1cm4gNy41NjI1ICogayAqIGs7CgkJCX0gZWxzZSBpZiAoayA8ICgyIC8gMi43NSkpIHsKCQkJCXJldHVybiA3LjU2MjUgKiAoayAtPSAoMS41IC8gMi43NSkpICogayArIDAuNzU7CgkJCX0gZWxzZSBpZiAoayA8ICgyLjUgLyAyLjc1KSkgewoJCQkJcmV0dXJuIDcuNTYyNSAqIChrIC09ICgyLjI1IC8gMi43NSkpICogayArIDAuOTM3NTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiA3LjU2MjUgKiAoayAtPSAoMi42MjUgLyAyLjc1KSkgKiBrICsgMC45ODQzNzU7CgkJCX0KCgkJfSwKCgkJSW5PdXQ6IGZ1bmN0aW9uIChrKSB7CgoJCQlpZiAoayA8IDAuNSkgewoJCQkJcmV0dXJuIFRXRUVOLkVhc2luZy5Cb3VuY2UuSW4oayAqIDIpICogMC41OwoJCQl9CgoJCQlyZXR1cm4gVFdFRU4uRWFzaW5nLkJvdW5jZS5PdXQoayAqIDIgLSAxKSAqIDAuNSArIDAuNTsKCgkJfQoKCX0KCn07CgpUV0VFTi5JbnRlcnBvbGF0aW9uID0gewoKCUxpbmVhcjogZnVuY3Rpb24gKHYsIGspIHsKCgkJdmFyIG0gPSB2Lmxlbmd0aCAtIDE7CgkJdmFyIGYgPSBtICogazsKCQl2YXIgaSA9IE1hdGguZmxvb3IoZik7CgkJdmFyIGZuID0gVFdFRU4uSW50ZXJwb2xhdGlvbi5VdGlscy5MaW5lYXI7CgoJCWlmIChrIDwgMCkgewoJCQlyZXR1cm4gZm4odlswXSwgdlsxXSwgZik7CgkJfQoKCQlpZiAoayA+IDEpIHsKCQkJcmV0dXJuIGZuKHZbbV0sIHZbbSAtIDFdLCBtIC0gZik7CgkJfQoKCQlyZXR1cm4gZm4odltpXSwgdltpICsgMSA+IG0gPyBtIDogaSArIDFdLCBmIC0gaSk7CgoJfSwKCglCZXppZXI6IGZ1bmN0aW9uICh2LCBrKSB7CgoJCXZhciBiID0gMDsKCQl2YXIgbiA9IHYubGVuZ3RoIC0gMTsKCQl2YXIgcHcgPSBNYXRoLnBvdzsKCQl2YXIgYm4gPSBUV0VFTi5JbnRlcnBvbGF0aW9uLlV0aWxzLkJlcm5zdGVpbjsKCgkJZm9yICh2YXIgaSA9IDA7IGkgPD0gbjsgaSsrKSB7CgkJCWIgKz0gcHcoMSAtIGssIG4gLSBpKSAqIHB3KGssIGkpICogdltpXSAqIGJuKG4sIGkpOwoJCX0KCgkJcmV0dXJuIGI7CgoJfSwKCglDYXRtdWxsUm9tOiBmdW5jdGlvbiAodiwgaykgewoKCQl2YXIgbSA9IHYubGVuZ3RoIC0gMTsKCQl2YXIgZiA9IG0gKiBrOwoJCXZhciBpID0gTWF0aC5mbG9vcihmKTsKCQl2YXIgZm4gPSBUV0VFTi5JbnRlcnBvbGF0aW9uLlV0aWxzLkNhdG11bGxSb207CgoJCWlmICh2WzBdID09PSB2W21dKSB7CgoJCQlpZiAoayA8IDApIHsKCQkJCWkgPSBNYXRoLmZsb29yKGYgPSBtICogKDEgKyBrKSk7CgkJCX0KCgkJCXJldHVybiBmbih2WyhpIC0gMSArIG0pICUgbV0sIHZbaV0sIHZbKGkgKyAxKSAlIG1dLCB2WyhpICsgMikgJSBtXSwgZiAtIGkpOwoKCQl9IGVsc2UgewoKCQkJaWYgKGsgPCAwKSB7CgkJCQlyZXR1cm4gdlswXSAtIChmbih2WzBdLCB2WzBdLCB2WzFdLCB2WzFdLCAtZikgLSB2WzBdKTsKCQkJfQoKCQkJaWYgKGsgPiAxKSB7CgkJCQlyZXR1cm4gdlttXSAtIChmbih2W21dLCB2W21dLCB2W20gLSAxXSwgdlttIC0gMV0sIGYgLSBtKSAtIHZbbV0pOwoJCQl9CgoJCQlyZXR1cm4gZm4odltpID8gaSAtIDEgOiAwXSwgdltpXSwgdlttIDwgaSArIDEgPyBtIDogaSArIDFdLCB2W20gPCBpICsgMiA/IG0gOiBpICsgMl0sIGYgLSBpKTsKCgkJfQoKCX0sCgoJVXRpbHM6IHsKCgkJTGluZWFyOiBmdW5jdGlvbiAocDAsIHAxLCB0KSB7CgoJCQlyZXR1cm4gKHAxIC0gcDApICogdCArIHAwOwoKCQl9LAoKCQlCZXJuc3RlaW46IGZ1bmN0aW9uIChuLCBpKSB7CgoJCQl2YXIgZmMgPSBUV0VFTi5JbnRlcnBvbGF0aW9uLlV0aWxzLkZhY3RvcmlhbDsKCgkJCXJldHVybiBmYyhuKSAvIGZjKGkpIC8gZmMobiAtIGkpOwoKCQl9LAoKCQlGYWN0b3JpYWw6IChmdW5jdGlvbiAoKSB7CgoJCQl2YXIgYSA9IFsxXTsKCgkJCXJldHVybiBmdW5jdGlvbiAobikgewoKCQkJCXZhciBzID0gMTsKCgkJCQlpZiAoYVtuXSkgewoJCQkJCXJldHVybiBhW25dOwoJCQkJfQoKCQkJCWZvciAodmFyIGkgPSBuOyBpID4gMTsgaS0tKSB7CgkJCQkJcyAqPSBpOwoJCQkJfQoKCQkJCWFbbl0gPSBzOwoJCQkJcmV0dXJuIHM7CgoJCQl9OwoKCQl9KSgpLAoKCQlDYXRtdWxsUm9tOiBmdW5jdGlvbiAocDAsIHAxLCBwMiwgcDMsIHQpIHsKCgkJCXZhciB2MCA9IChwMiAtIHAwKSAqIDAuNTsKCQkJdmFyIHYxID0gKHAzIC0gcDEpICogMC41OwoJCQl2YXIgdDIgPSB0ICogdDsKCQkJdmFyIHQzID0gdCAqIHQyOwoKCQkJcmV0dXJuICgyICogcDEgLSAyICogcDIgKyB2MCArIHYxKSAqIHQzICsgKC0gMyAqIHAxICsgMyAqIHAyIC0gMiAqIHYwIC0gdjEpICogdDIgKyB2MCAqIHQgKyBwMTsKCgkJfQoKCX0KCn07CgovLyBVTUQgKFVuaXZlcnNhbCBNb2R1bGUgRGVmaW5pdGlvbikKKGZ1bmN0aW9uIChyb290KSB7CgoJaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewoKCQkvLyBBTUQKCQlkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHsKCQkJcmV0dXJuIFRXRUVOOwoJCX0pOwoKCX0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CgoJCS8vIE5vZGUuanMKCQltb2R1bGUuZXhwb3J0cyA9IFRXRUVOOwoKCX0gZWxzZSBpZiAocm9vdCAhPT0gdW5kZWZpbmVkKSB7CgoJCS8vIEdsb2JhbCB2YXJpYWJsZQoJCXJvb3QuVFdFRU4gPSBUV0VFTjsKCgl9Cgp9KSh0aGlzKTs="></script>
        <script src="data:text/plain;base64,LyoKICogR3JpdHRlciBmb3IgalF1ZXJ5CiAqIGh0dHA6Ly93d3cuYm9lZGVzaWduLmNvbS8KICoKICogQ29weXJpZ2h0IChjKSAyMDEyIEpvcmRhbiBCb2VzY2gKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuCiAqCiAqIERhdGU6IEZlYnJ1YXJ5IDI0LCAyMDEyCiAqIFZlcnNpb246IDEuNy40CiAqLwoKKGZ1bmN0aW9uKCQpewogCQoJLyoqCgkqIFNldCBpdCB1cCBhcyBhbiBvYmplY3QgdW5kZXIgdGhlIGpRdWVyeSBuYW1lc3BhY2UKCSovCgkkLmdyaXR0ZXIgPSB7fTsKCQoJLyoqCgkqIFNldCB1cCBnbG9iYWwgb3B0aW9ucyB0aGF0IHRoZSB1c2VyIGNhbiBvdmVyLXJpZGUKCSovCgkkLmdyaXR0ZXIub3B0aW9ucyA9IHsKCQlwb3NpdGlvbjogJycsCgkJY2xhc3NfbmFtZTogJycsIC8vIGNvdWxkIGJlIHNldCB0byAnZ3JpdHRlci1saWdodCcgdG8gdXNlIHdoaXRlIG5vdGlmaWNhdGlvbnMKCQlmYWRlX2luX3NwZWVkOiAnbWVkaXVtJywgLy8gaG93IGZhc3Qgbm90aWZpY2F0aW9ucyBmYWRlIGluCgkJZmFkZV9vdXRfc3BlZWQ6IDEwMDAsIC8vIGhvdyBmYXN0IHRoZSBub3RpY2VzIGZhZGUgb3V0CgkJdGltZTogNjAwMCwgLy8gaGFuZyBvbiB0aGUgc2NyZWVuIGZvci4uLgoJCW1heF90b19kaXNwbGF5OiAwLCAvL2lmIG5vdCAwLCBvbmx5IHNob3cgdGhpcyBtYW55IG5vdGlmaWNhdGlvbnMgYXQgb25jZSBhbmQgcXVldWUgb3RoZXJzLgoJCWNsb3NlX29uX2NsaWNrOiBmYWxzZSAvLyBkaXNtaXNzIG5vdGlmaWNhdGlvbiBvbiBlbGVtZW50LWNsaWNrCgl9OwoJCgkvKioKCSogQWRkIGEgZ3JpdHRlciBub3RpZmljYXRpb24gdG8gdGhlIHNjcmVlbgoJKiBAc2VlIEdyaXR0ZXIjYWRkKCk7CgkqLwoJJC5ncml0dGVyLmFkZCA9IGZ1bmN0aW9uKHBhcmFtcyl7CgoJCXRyeSB7CgkJCXJldHVybiBHcml0dGVyLmFkZFRvUXVldWUocGFyYW1zIHx8IHt9KTsKCQl9IGNhdGNoKGUpIHsKCQkKCQkJdmFyIGVyciA9ICdHcml0dGVyIEVycm9yOiAnICsgZTsKCQkJaWYgKHR5cGVvZihjb25zb2xlKSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5lcnJvcikgewoJCQkJY29uc29sZS5lcnJvcihlcnIsIHBhcmFtcyk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydChlcnIpOwoJCQl9CgkJCQkKCQl9CgkJCgl9OwoJCgkvKioKCSogUmVtb3ZlIGEgZ3JpdHRlciBub3RpZmljYXRpb24gZnJvbSB0aGUgc2NyZWVuCgkqIEBzZWUgR3JpdHRlciNyZW1vdmVTcGVjaWZpYygpOwoJKi8KCSQuZ3JpdHRlci5yZW1vdmUgPSBmdW5jdGlvbihpZCwgcGFyYW1zKXsKCQlHcml0dGVyLnJlbW92ZVNwZWNpZmljKGlkLCBwYXJhbXMgfHwge30pOwoJfTsKCQoJLyoqCgkqIFJlbW92ZSBhbGwgbm90aWZpY2F0aW9ucwoJKiBAc2VlIEdyaXR0ZXIjc3RvcCgpOwoJKi8KCSQuZ3JpdHRlci5yZW1vdmVBbGwgPSBmdW5jdGlvbihwYXJhbXMpewoJCUdyaXR0ZXIuc3RvcChwYXJhbXMgfHwge30pOwoJfQoJCgkvKioKCSogQmlnIGZhdCBHcml0dGVyIG9iamVjdAoJKiBAY29uc3RydWN0b3IgKG5vdCByZWFsbHkgc2luY2UgaXRzIG9iamVjdCBsaXRlcmFsKQoJKi8KCXZhciBHcml0dGVyID0gewoJCQoJCS8vIFB1YmxpYyAtIG9wdGlvbnMgdG8gb3Zlci1yaWRlIHdpdGggJC5ncml0dGVyLm9wdGlvbnMgaW4gImFkZCIKCQlwb3NpdGlvbjogJycsCgkJZmFkZV9pbl9zcGVlZDogJycsCgkJZmFkZV9vdXRfc3BlZWQ6ICcnLAoJCXRpbWU6ICcnLAoJCWNsb3NlX29uX2NsaWNrOiAnJywKCQkKCQkvLyBQcml2YXRlIC0gbm8gdG91Y2h5IHRoZSBwcml2YXRlIHBhcnRzCgkJX2N1c3RvbV90aW1lcjogMCwKCQlfaXRlbV9jb3VudDogMCwKCQlfaXNfc2V0dXA6IDAsCgkJX3RwbF9jbG9zZTogJzxhIGNsYXNzPSJncml0dGVyLWNsb3NlIiBocmVmPSIjIiB0YWJpbmRleD0iMSI+Q2xvc2UgTm90aWZpY2F0aW9uPC9hPicsCgkJX3RwbF90aXRsZTogJzxzcGFuIGNsYXNzPSJncml0dGVyLXRpdGxlIj5bW3RpdGxlXV08L3NwYW4+JywKCQlfdHBsX2l0ZW06ICc8ZGl2IGlkPSJncml0dGVyLWl0ZW0tW1tudW1iZXJdXSIgY2xhc3M9ImdyaXR0ZXItaXRlbS13cmFwcGVyIFtbaXRlbV9jbGFzc11dIiBzdHlsZT0iZGlzcGxheTpub25lIiByb2xlPSJhbGVydCI+PGRpdiBjbGFzcz0iZ3JpdHRlci1pdGVtIj5bW2Nsb3NlXV1bW2ltYWdlXV08ZGl2IGNsYXNzPSJbW2NsYXNzX25hbWVdXSI+W1t0aXRsZV1dPHA+W1t0ZXh0XV08L3A+PC9kaXY+PGRpdiBzdHlsZT0iY2xlYXI6Ym90aCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iZ3JpdHRlci1ib3R0b20iPjwvZGl2PjwvZGl2PicsCgkJX3RwbF93cmFwOiAnPGRpdiBpZD0iZ3JpdHRlci1ub3RpY2Utd3JhcHBlciI+PC9kaXY+JywKCQlfbm90aWZpY2FpdG9uX3F1ZXVlOiBbXSwKCQkKCQkKCQkvKioKCQkqIEFkZCBhIG5vdGlmaWNhdGlvbiB0byB0aGUgcXVldWUuCgkJKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFRoZSBvYmplY3QgdGhhdCBjb250YWlucyBhbGwgdGhlIG9wdGlvbnMgZm9yIGRyYXdpbmcgdGhlIG5vdGlmaWNhdGlvbgoJCSogQHJldHVybiB7SW50ZWdlcn0gVGhlIHNwZWNpZmljIG51bWVyaWMgaWQgdG8gdGhhdCBncml0dGVyIG5vdGlmaWNhdGlvbgoJCSovCgkJYWRkVG9RdWV1ZTogZnVuY3Rpb24ocGFyYW1zKXsKCQkJLy8gSGFuZGxlIHN0cmFpZ2h0IHRleHQKCQkJaWYodHlwZW9mKHBhcmFtcykgPT09ICdzdHJpbmcnKXsKCQkJCXBhcmFtcyA9IHt0ZXh0OnBhcmFtc307CgkJCX0KCQkJCgkJCXRoaXMuX2l0ZW1fY291bnQrKzsKCQkJdGhpcy5fbm90aWZpY2FpdG9uX3F1ZXVlLnB1c2goJC5leHRlbmQocGFyYW1zLCB7aXRlbV9udW1iZXI6IHRoaXMuX2l0ZW1fY291bnR9KSk7IC8vYWRkIHRoaXMgbm90aWZpY2F0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIHF1ZXVlLiBpbmNsdWRlIGl0cyB1bmlxdWUgaWQgd2hpY2ggaXMgdGhlIGl0ZW1fY291bnQuCgkJCXRoaXMuX3VwZGF0ZURvbUZyb21RdWV1ZSgpOwoJCQlyZXR1cm4gdGhpcy5faXRlbV9jb3VudDsKCQl9LAoJCQoJCQoJCS8qKgoJCSogQ2hlY2sgd2hldGhlciB3ZSBjYW4gbW92ZSBhIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBxdWV1ZSBvbnRvIHRoZSBET00uCgkJKi8KCQlfdXBkYXRlRG9tRnJvbVF1ZXVlOiBmdW5jdGlvbigpewoJCQl2YXIgbWF4Tm90aWZpY2F0aW9ucyA9ICQuZ3JpdHRlci5vcHRpb25zLm1heF90b19kaXNwbGF5OwoJCQl2YXIgaXNMaW1pdGVkID0gbWF4Tm90aWZpY2F0aW9ucyA+IDA7IC8vIGlmIG1heE5vdGlmaWNhdGlvbnMgaXMgZ3JlYXRlciB0aGFuIDAsIHRoZW4gdGhlcmUgaXMgYSBzZXQgbGltaXQuCgkJCWlmKCFpc0xpbWl0ZWQgfHwgJCgnLmdyaXR0ZXItaXRlbS13cmFwcGVyJykubGVuZ3RoIDwgbWF4Tm90aWZpY2F0aW9ucyl7IC8vbm8gbGltaXQgb3IgaGF2ZSBub3QgcmVhY2hlZCB0aGUgbWF4IHlldAoJCQkJaWYodGhpcy5fbm90aWZpY2FpdG9uX3F1ZXVlLmxlbmd0aCA+IDApeyAvL3RoZXJlJ3Mgc29tZXRoaW5nIGluIHRoZSBxdWV1ZSB0byBhZGQKCQkJCQl0aGlzLl9hZGRUb0RvbSh0aGlzLl9ub3RpZmljYWl0b25fcXVldWUuc2hpZnQoKSk7IC8vcHV0IHRoZSBmaXJzdCBpdGVtIGluIHRoZSBxdWV1ZSBvbnRvIHRoZSBkb20KCQkJCX0KCQkJfQoJCX0sCgkJCgkJLyoqCgkJKiBBZGQgYSBncml0dGVyIG5vdGlmaWNhdGlvbiB0byB0aGUgc2NyZWVuCgkJKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFRoZSBvYmplY3QgdGhhdCBjb250YWlucyBhbGwgdGhlIG9wdGlvbnMgZm9yIGRyYXdpbmcgdGhlIG5vdGlmaWNhdGlvbgoJCSovCgkJX2FkZFRvRG9tOiBmdW5jdGlvbihwYXJhbXMpewoJCQoJCQkvLyBXZSBtaWdodCBoYXZlIHNvbWUgaXNzdWVzIGlmIHdlIGRvbid0IGhhdmUgYSB0aXRsZSBvciB0ZXh0IQoJCQlpZihwYXJhbXMudGV4dCA9PT0gbnVsbCl7CgkJCQl0aHJvdyAnWW91IG11c3Qgc3VwcGx5ICJ0ZXh0IiBwYXJhbWV0ZXIuJzsgCgkJCX0KCQkJCgkJCS8vIENoZWNrIHRoZSBvcHRpb25zIGFuZCBzZXQgdGhlbSBvbmNlCgkJCWlmKCF0aGlzLl9pc19zZXR1cCl7CgkJCQl0aGlzLl9ydW5TZXR1cCgpOwoJCQl9CgkJCQoJCQkvLyBCYXNpY3MKCQkJdmFyIHRpdGxlID0gcGFyYW1zLnRpdGxlLCAKCQkJCXRleHQgPSBwYXJhbXMudGV4dCwKCQkJCWltYWdlID0gcGFyYW1zLmltYWdlIHx8ICcnLAoJCQkJc3RpY2t5ID0gcGFyYW1zLnN0aWNreSB8fCBmYWxzZSwKCQkJCWl0ZW1fY2xhc3MgPSBwYXJhbXMuY2xhc3NfbmFtZSB8fCAkLmdyaXR0ZXIub3B0aW9ucy5jbGFzc19uYW1lLAoJCQkJcG9zaXRpb24gPSAkLmdyaXR0ZXIub3B0aW9ucy5wb3NpdGlvbiwKCQkJCXRpbWVfYWxpdmUgPSBwYXJhbXMudGltZSB8fCAnJywKCQkJCXdpZGdldF9jbGlja19jbG9zZSA9IHBhcmFtcy5jbG9zZV9vbl9jbGljayB8fCBmYWxzZTsKCgkJCS8vdGhpcy5fdGVzdEJvcmRlclJhZGl1cygpOwoJCQl0aGlzLl92ZXJpZnlXcmFwcGVyKCk7CgkJCQoJCQl2YXIgbnVtYmVyID0gcGFyYW1zLml0ZW1fbnVtYmVyLCAKCQkJCXRtcCA9IHRoaXMuX3RwbF9pdGVtOwoJCQkKCQkJLy8gQXNzaWduIGNhbGxiYWNrcwoJCQkkKFsnYmVmb3JlX29wZW4nLCAnYWZ0ZXJfb3BlbicsICdiZWZvcmVfY2xvc2UnLCAnYWZ0ZXJfY2xvc2UnLCdvbl9jbGljayddKS5lYWNoKGZ1bmN0aW9uKGksIHZhbCl7CgkJCQlHcml0dGVyWydfJyArIHZhbCArICdfJyArIG51bWJlcl0gPSAoJC5pc0Z1bmN0aW9uKHBhcmFtc1t2YWxdKSkgPyBwYXJhbXNbdmFsXSA6IGZ1bmN0aW9uKCl7fTsKCQkJfSk7CgoJCQkvLyBSZXNldAoJCQl0aGlzLl9jdXN0b21fdGltZXIgPSAwOwoJCQkKCQkJLy8gQSBjdXN0b20gZmFkZSB0aW1lIHNldAoJCQlpZih0aW1lX2FsaXZlKXsKCQkJCXRoaXMuX2N1c3RvbV90aW1lciA9IHRpbWVfYWxpdmU7CgkJCX0KCQkJCgkJCXZhciBpbWFnZV9zdHIgPSAoaW1hZ2UgIT09ICcnKSA/ICc8aW1nIHNyYz0iJyArIGltYWdlICsgJyIgY2xhc3M9ImdyaXR0ZXItaW1hZ2UiIC8+JyA6ICcnLAoJCQkJY2xhc3NfbmFtZSA9IChpbWFnZSAhPT0gJycpID8gJ2dyaXR0ZXItd2l0aC1pbWFnZScgOiAnZ3JpdHRlci13aXRob3V0LWltYWdlJzsKCQkJCgkJCS8vIFN0cmluZyByZXBsYWNlbWVudHMgb24gdGhlIHRlbXBsYXRlCgkJCWlmKHRpdGxlKXsKCQkJCXRpdGxlID0gdGhpcy5fc3RyX3JlcGxhY2UoJ1tbdGl0bGVdXScsdGl0bGUsdGhpcy5fdHBsX3RpdGxlKTsKCQkJfWVsc2V7CgkJCQl0aXRsZSA9ICcnOwoJCQl9CgkJCQoJCQl0bXAgPSB0aGlzLl9zdHJfcmVwbGFjZSgKCQkJCVsnW1t0aXRsZV1dJywgJ1tbdGV4dF1dJywgJ1tbY2xvc2VdXScsICdbW2ltYWdlXV0nLCAnW1tudW1iZXJdXScsICdbW2NsYXNzX25hbWVdXScsICdbW2l0ZW1fY2xhc3NdXSddLAoJCQkJW3RpdGxlLCB0ZXh0LCB0aGlzLl90cGxfY2xvc2UsIGltYWdlX3N0ciwgbnVtYmVyLCBjbGFzc19uYW1lLCBpdGVtX2NsYXNzXSwgdG1wCgkJCSk7CgoJCQkvLyBJZiBpdCdzIGZhbHNlLCBkb24ndCBzaG93IGFub3RoZXIgZ3JpdHRlciBtZXNzYWdlCgkJCWlmKHRoaXNbJ19iZWZvcmVfb3Blbl8nICsgbnVtYmVyXSgpID09PSBmYWxzZSl7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCSQoJyNncml0dGVyLW5vdGljZS13cmFwcGVyJykuYWRkQ2xhc3MocG9zaXRpb24pLmFwcGVuZCh0bXApOwoJCQkKCQkJdmFyIGl0ZW0gPSAkKCcjZ3JpdHRlci1pdGVtLScgKyBudW1iZXIpOwoJCQkKCQkJaXRlbS5mYWRlSW4odGhpcy5mYWRlX2luX3NwZWVkLCBmdW5jdGlvbigpewoJCQkJR3JpdHRlclsnX2FmdGVyX29wZW5fJyArIG51bWJlcl0oJCh0aGlzKSk7CgkJCX0pOwoJCQkKCQkJaWYoIXN0aWNreSl7CgkJCQl0aGlzLl9zZXRGYWRlVGltZXIoaXRlbSwgbnVtYmVyKTsKCQkJfQoJCQkKCQkJLy8gQWRkIG9uX2NsaWNrIGxpc3RlbmVyCgkJCSQoaXRlbSkuY2xpY2soZnVuY3Rpb24oKXsKCQkJCUdyaXR0ZXJbJ18nICsgJ29uX2NsaWNrJyArICdfJyArIG51bWJlcl0oJCh0aGlzKSk7CgkJCQlpZih3aWRnZXRfY2xpY2tfY2xvc2UpIHsKCQkJCQlHcml0dGVyLnJlbW92ZVNwZWNpZmljKG51bWJlciwge30sICQoaXRlbSksIHRydWUpOwoJCQkJfQoJCQl9KTsKCgkJCS8qKgoJCQkgKiAgSW4gb3JkZXIgdG8gYXZvaWQgY29uZmxpY3RzIGJldHdlZW4gb25fY2xpY2sgYW5kIGJlZm9yZS9hZnRlcl9jbG9zZSAKCQkJICogIERpc2FibGUgb25fY2xpY2sgZXZlbnQgd2hlbiBob3ZlciBvdmVyIGNsb3NlIGJ1dHRvbgoJCQkgKiAgRW5hYmxlIG9uX2NsaWNrIGV2ZW50IG9uIG1vdXNlIGxlYXZlCgkJCSAqLwoJCQkkKGl0ZW0pLmZpbmQoJy5ncml0dGVyLWNsb3NlJykuYmluZCgnbW91c2VlbnRlciBtb3VzZWxlYXZlJywgZnVuY3Rpb24oZXZlbnQpewoJCQkJaWYoZXZlbnQudHlwZSA9PSAnbW91c2VlbnRlcicpewoJCQkJCSQoaXRlbSkub2ZmKCJjbGljayIpOwoJCQkJfSBlbHNlIHsKCQkJCQkkKGl0ZW0pLm9uKCJjbGljayIsZnVuY3Rpb24oKXsKCQkJCQkJR3JpdHRlclsnXycgKyAnb25fY2xpY2snICsgJ18nICsgbnVtYmVyXSgkKHRoaXMpKTsKCQkJCQkJaWYod2lkZ2V0X2NsaWNrX2Nsb3NlKSB7CgkJCQkJCQlHcml0dGVyLnJlbW92ZVNwZWNpZmljKG51bWJlciwge30sICQoaXRlbSksIHRydWUpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCX0pOwoKCQkJLy8gQmluZCB0aGUgaG92ZXIvdW5ob3ZlciBzdGF0ZXMKCQkJJChpdGVtKS5iaW5kKCdtb3VzZWVudGVyIG1vdXNlbGVhdmUnLCBmdW5jdGlvbihldmVudCl7CgkJCQlpZihldmVudC50eXBlID09PSAnbW91c2VlbnRlcicpewoJCQkJCWlmKCFzdGlja3kpeyAKCQkJCQkJR3JpdHRlci5fcmVzdG9yZUl0ZW1JZkZhZGluZygkKHRoaXMpLCBudW1iZXIpOwoJCQkJCX0KCQkJCX0KCQkJCWVsc2UgewoJCQkJCWlmKCFzdGlja3kpewoJCQkJCQlHcml0dGVyLl9zZXRGYWRlVGltZXIoJCh0aGlzKSwgbnVtYmVyKTsKCQkJCQl9CgkJCQl9CgkJCQkvKkdyaXR0ZXIuX2hvdmVyU3RhdGUoJCh0aGlzKSwgZXZlbnQudHlwZSk7Ki8KCQkJfSk7CgkJCQoJCQkvLyBDbGlja2luZyAoWCkgbWFrZXMgdGhlIHBlcmR5IHRoaW5nIGNsb3NlCgkJCSQoaXRlbSkuZmluZCgnLmdyaXR0ZXItY2xvc2UnKS5jbGljayhmdW5jdGlvbigpewoJCQkJR3JpdHRlci5yZW1vdmVTcGVjaWZpYyhudW1iZXIsIHt9LCBudWxsLCB0cnVlKTsKCQkJCXJldHVybiBmYWxzZTsKCQkJfSk7CgkJfSwKCQkKCQkvKioKCQkqIElmIHdlIGRvbid0IGhhdmUgYW55IG1vcmUgZ3JpdHRlciBub3RpZmljYXRpb25zLCBnZXQgcmlkIG9mIHRoZSB3cmFwcGVyIHVzaW5nIHRoaXMgY2hlY2sKCQkqIEBwcml2YXRlCgkJKiBAcGFyYW0ge0ludGVnZXJ9IHVuaXF1ZV9pZCBUaGUgSUQgb2YgdGhlIGVsZW1lbnQgdGhhdCB3YXMganVzdCBkZWxldGVkLCB1c2UgaXQgZm9yIGEgY2FsbGJhY2sKCQkqIEBwYXJhbSB7T2JqZWN0fSBlIFRoZSBqUXVlcnkgZWxlbWVudCB0aGF0IHdlJ3JlIGdvaW5nIHRvIHBlcmZvcm0gdGhlIHJlbW92ZSgpIGFjdGlvbiBvbgoJCSogQHBhcmFtIHtCb29sZWFufSBtYW51YWxfY2xvc2UgRGlkIHdlIGNsb3NlIHRoZSBncml0dGVyIGRpYWxvZyB3aXRoIHRoZSAoWCkgYnV0dG9uCgkJKi8KCQlfY291bnRSZW1vdmVXcmFwcGVyOiBmdW5jdGlvbih1bmlxdWVfaWQsIGUsIG1hbnVhbF9jbG9zZSl7CgkJCQoJCQkvLyBSZW1vdmUgaXQgdGhlbiBydW4gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uCgkJCWUucmVtb3ZlKCk7CgkJCXRoaXNbJ19hZnRlcl9jbG9zZV8nICsgdW5pcXVlX2lkXShlLCBtYW51YWxfY2xvc2UpOwoJCQkKCQkJLy8gQ2hlY2sgaWYgdGhlIHdyYXBwZXIgaXMgZW1wdHksIGlmIGl0IGlzLi4gcmVtb3ZlIHRoZSB3cmFwcGVyCgkJCWlmKCQoJy5ncml0dGVyLWl0ZW0td3JhcHBlcicpLmxlbmd0aCA9PT0gMCl7CgkJCQkkKCcjZ3JpdHRlci1ub3RpY2Utd3JhcHBlcicpLnJlbW92ZSgpOwoJCQl9CgkJCgkJfSwKCQkKCgkJLyoqCgkJKiBGYWRlIG91dCBhbiBlbGVtZW50IGFmdGVyIGl0J3MgYmVlbiBvbiB0aGUgc2NyZWVuIGZvciB4IGFtb3VudCBvZiB0aW1lCgkJKiBAcHJpdmF0ZQoJCSogQHBhcmFtIHtPYmplY3R9IGUgVGhlIGpRdWVyeSBlbGVtZW50IHRvIGdldCByaWQgb2YKCQkqIEBwYXJhbSB7SW50ZWdlcn0gdW5pcXVlX2lkIFRoZSBpZCBvZiB0aGUgZWxlbWVudCB0byByZW1vdmUKCQkqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSBBbiBvcHRpb25hbCBsaXN0IG9mIHBhcmFtcyB0byBzZXQgZmFkZSBzcGVlZHMgZXRjLgoJCSogQHBhcmFtIHtCb29sZWFufSBbdW5iaW5kX2V2ZW50c10gVW5iaW5kIHRoZSBtb3VzZWVudGVyL21vdXNlbGVhdmUgZXZlbnRzIGlmIHRoZXkgY2xpY2sgKFgpCgkJKi8KCQlfZmFkZTogZnVuY3Rpb24oZSwgdW5pcXVlX2lkIC8qLCBwYXJhbXMsIHVuYmluZF9ldmVudHMgKi8pewoKCQkJdmFyIHBhcmFtcyA9IGFyZ3VtZW50c1syXSB8fCB7fSwKCQkJCXVuYmluZF9ldmVudHMgPSBhcmd1bWVudHNbM10gfHwgZmFsc2UsCgkJCQlmYWRlID0gKHR5cGVvZihwYXJhbXMuZmFkZSkgIT09ICd1bmRlZmluZWQnKSA/IHBhcmFtcy5mYWRlIDogdHJ1ZSwKCQkJCWZhZGVfb3V0X3NwZWVkID0gcGFyYW1zLnNwZWVkIHx8IHRoaXMuZmFkZV9vdXRfc3BlZWQsCgkJCQltYW51YWxfY2xvc2UgPSB1bmJpbmRfZXZlbnRzOwoKCQkJdGhpc1snX2JlZm9yZV9jbG9zZV8nICsgdW5pcXVlX2lkXShlLCBtYW51YWxfY2xvc2UpOwoKCQkJLy8gSWYgdGhpcyBpcyB0cnVlLCB0aGVuIHdlIGFyZSBjb21pbmcgZnJvbSBjbGlja2luZyB0aGUgKFgpCgkJCWlmKHVuYmluZF9ldmVudHMpewoJCQkJZS51bmJpbmQoJ21vdXNlZW50ZXIgbW91c2VsZWF2ZScpOwoJCQl9CgoJCQkvLyBGYWRlIGl0IG91dCBvciByZW1vdmUgaXQKCQkJaWYoZmFkZSl7CgoJCQkJZS5hbmltYXRlKHsKCQkJCQlvcGFjaXR5OiAwCgkJCQl9LCBmYWRlX291dF9zcGVlZCwgZnVuY3Rpb24oKXsKCQkJCQllLmFuaW1hdGUoeyBoZWlnaHQ6IDAgfSwgMzAwLCBmdW5jdGlvbigpewoJCQkJCQlHcml0dGVyLl9jb3VudFJlbW92ZVdyYXBwZXIodW5pcXVlX2lkLCBlLCBtYW51YWxfY2xvc2UpOwoJCQkJCX0pOwoJCQkJfSk7CgoJCQl9IGVsc2UgewoKCQkJCXRoaXMuX2NvdW50UmVtb3ZlV3JhcHBlcih1bmlxdWVfaWQsIGUpOwoKCQkJfQoKCQl9LAoJCQoJLyoqCgkJKiBSZW1vdmUgYSBzcGVjaWZpYyBub3RpZmljYXRpb24gYmFzZWQgb24gYW4gSUQKCQkqIEBwYXJhbSB7SW50ZWdlcn0gdW5pcXVlX2lkIFRoZSBJRCB1c2VkIHRvIGRlbGV0ZSBhIHNwZWNpZmljIG5vdGlmaWNhdGlvbgoJCSogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBBIHNldCBvZiBvcHRpb25zIHBhc3NlZCBpbiB0byBkZXRlcm1pbmUgaG93IHRvIGdldCByaWQgb2YgaXQKCQkqIEBwYXJhbSB7T2JqZWN0fSBbZV0gVGhlIG9wdGlvbmFsIGpRdWVyeSBlbGVtZW50IHRoYXQgd2UncmUgImZhZGluZyIgdGhlbiByZW1vdmluZwoJCSogQHBhcmFtIHtCb29sZWFufSBbdW5iaW5kX2V2ZW50c10gSWYgd2UgY2xpY2tlZCBvbiB0aGUgKFgpIHdlIHNldCB0aGlzIHRvIHRydWUgdG8gdW5iaW5kIG1vdXNlZW50ZXIvbW91c2VsZWF2ZQoJCSovCgkJcmVtb3ZlU3BlY2lmaWM6IGZ1bmN0aW9uKHVuaXF1ZV9pZCwgcGFyYW1zIC8qLCBlLCB1bmJpbmRfZXZlbnRzICovKXsKCgkJCXZhciBlID0gYXJndW1lbnRzWzJdIHx8IGZhbHNlLAoJCQkJdW5iaW5kX2V2ZW50cyA9IGFyZ3VtZW50c1szXSB8fCBmYWxzZTsKCgkJCWlmKCFlKXsKCQkJCWUgPSAkKCcjZ3JpdHRlci1pdGVtLScgKyB1bmlxdWVfaWQpOwoJCQl9CgoJCQkvLyBXZSBzZXQgdGhlIGZvdXJ0aCBwYXJhbSB0byBsZXQgdGhlIF9mYWRlIGZ1bmN0aW9uIGtub3cgdG8KCQkJLy8gdW5iaW5kIHRoZSAibW91c2VsZWF2ZSIgZXZlbnQuICBPbmNlIHlvdSBjbGljayAoWCkgdGhlcmUncyBubyBnb2luZyBiYWNrIQoJCQl0aGlzLl9mYWRlKGUsIHVuaXF1ZV9pZCwgcGFyYW1zIHx8IHt9LCB1bmJpbmRfZXZlbnRzKTsKCgkJfSwKCgkJLyoqCgkJKiBJZiB0aGUgaXRlbSBpcyBmYWRpbmcgb3V0IGFuZCB3ZSBob3ZlciBvdmVyIGl0LCByZXN0b3JlIGl0IQoJCSogQHByaXZhdGUKCQkqIEBwYXJhbSB7T2JqZWN0fSBlIFRoZSBIVE1MIGVsZW1lbnQgdG8gcmVtb3ZlCgkJKiBAcGFyYW0ge0ludGVnZXJ9IHVuaXF1ZV9pZCBUaGUgSUQgb2YgdGhlIGVsZW1lbnQKCQkqLwoJCV9yZXN0b3JlSXRlbUlmRmFkaW5nOiBmdW5jdGlvbihlLCB1bmlxdWVfaWQpewoJCQkKCQkJY2xlYXJUaW1lb3V0KHRoaXNbJ19pbnRfaWRfJyArIHVuaXF1ZV9pZF0pOwoJCQllLnN0b3AoKS5jc3MoeyBvcGFjaXR5OiAnJywgaGVpZ2h0OiAnJyB9KTsKCQkJCgkJfSwKCQkKCQkvKioKCQkqIFNldHVwIHRoZSBnbG9iYWwgb3B0aW9ucyAtIG9ubHkgb25jZQoJCSogQHByaXZhdGUKCQkqLwoJCV9ydW5TZXR1cDogZnVuY3Rpb24oKXsKCQkKCQkJZm9yKHZhciBvcHQgaW4gJC5ncml0dGVyLm9wdGlvbnMpewoJCQkJdGhpc1tvcHRdID0gJC5ncml0dGVyLm9wdGlvbnNbb3B0XTsKCQkJfQoJCQl0aGlzLl9pc19zZXR1cCA9IDE7CgkJCQoJCX0sCgkJCgkJLyoqCgkJKiBTZXQgdGhlIG5vdGlmaWNhdGlvbiB0byBmYWRlIG91dCBhZnRlciBhIGNlcnRhaW4gYW1vdW50IG9mIHRpbWUKCQkqIEBwcml2YXRlCgkJKiBAcGFyYW0ge09iamVjdH0gaXRlbSBUaGUgSFRNTCBlbGVtZW50IHdlJ3JlIGRlYWxpbmcgd2l0aAoJCSogQHBhcmFtIHtJbnRlZ2VyfSB1bmlxdWVfaWQgVGhlIElEIG9mIHRoZSBlbGVtZW50CgkJKi8KCQlfc2V0RmFkZVRpbWVyOiBmdW5jdGlvbihlLCB1bmlxdWVfaWQpewoJCQkKCQkJdmFyIHRpbWVyX3N0ciA9ICh0aGlzLl9jdXN0b21fdGltZXIpID8gdGhpcy5fY3VzdG9tX3RpbWVyIDogdGhpcy50aW1lOwoJCQl0aGlzWydfaW50X2lkXycgKyB1bmlxdWVfaWRdID0gc2V0VGltZW91dChmdW5jdGlvbigpewoJCQkJR3JpdHRlci5fZmFkZShlLCB1bmlxdWVfaWQpOwoJCQl9LCB0aW1lcl9zdHIpOwoJCQoJCX0sCgkJCgkJLyoqCgkJKiBCcmluZyBldmVyeXRoaW5nIHRvIGEgaGFsdAoJCSogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBBIGxpc3Qgb2YgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIHBhc3Mgd2hlbiBhbGwgbm90aWZpY2F0aW9ucyBhcmUgcmVtb3ZlZAoJCSovICAKCQlzdG9wOiBmdW5jdGlvbihwYXJhbXMpewoJCQkKCQkJLy8gY2FsbGJhY2tzIChpZiBwYXNzZWQpCgkJCXZhciBiZWZvcmVfY2xvc2UgPSAoJC5pc0Z1bmN0aW9uKHBhcmFtcy5iZWZvcmVfY2xvc2UpKSA/IHBhcmFtcy5iZWZvcmVfY2xvc2UgOiBmdW5jdGlvbigpe307CgkJCXZhciBhZnRlcl9jbG9zZSA9ICgkLmlzRnVuY3Rpb24ocGFyYW1zLmFmdGVyX2Nsb3NlKSkgPyBwYXJhbXMuYWZ0ZXJfY2xvc2UgOiBmdW5jdGlvbigpe307CgkJCQoJCQl2YXIgd3JhcCA9ICQoJyNncml0dGVyLW5vdGljZS13cmFwcGVyJyk7CgkJCWJlZm9yZV9jbG9zZSh3cmFwKTsKCQkJd3JhcC5mYWRlT3V0KGZ1bmN0aW9uKCl7CgkJCQkkKHRoaXMpLnJlbW92ZSgpOwoJCQkJYWZ0ZXJfY2xvc2UoKTsKCQkJfSk7CgkJCgkJfSwKCQkKCQkvKioKCQkqIEFuIGV4dHJlbWVseSBoYW5keSBQSFAgZnVuY3Rpb24gcG9ydGVkIHRvIEpTLCB3b3JrcyB3ZWxsIGZvciB0ZW1wbGF0aW5nCgkJKiBAcHJpdmF0ZQoJCSogQHBhcmFtIHtTdHJpbmcvQXJyYXl9IHNlYXJjaCBBIGxpc3Qgb2YgdGhpbmdzIHRvIHNlYXJjaCBmb3IKCQkqIEBwYXJhbSB7U3RyaW5nL0FycmF5fSByZXBsYWNlIEEgbGlzdCBvZiB0aGluZ3MgdG8gcmVwbGFjZSB0aGUgc2VhcmNoZXMgd2l0aAoJCSogQHJldHVybiB7U3RyaW5nfSBzYSBUaGUgb3V0cHV0CgkJKi8gIAoJCV9zdHJfcmVwbGFjZTogZnVuY3Rpb24oc2VhcmNoLCByZXBsYWNlLCBzdWJqZWN0LCBjb3VudCl7CgkJCgkJCXZhciBpID0gMCwgaiA9IDAsIHRlbXAgPSAnJywgcmVwbCA9ICcnLCBzbCA9IDAsIGZsID0gMCwKCQkJCWYgPSBbXS5jb25jYXQoc2VhcmNoKSwKCQkJCXIgPSBbXS5jb25jYXQocmVwbGFjZSksCgkJCQlzID0gc3ViamVjdCwKCQkJCXJhID0gciBpbnN0YW5jZW9mIEFycmF5LCBzYSA9IHMgaW5zdGFuY2VvZiBBcnJheTsKCQkJcyA9IFtdLmNvbmNhdChzKTsKCQkJCgkJCWlmKGNvdW50KXsKCQkJCXRoaXMud2luZG93W2NvdW50XSA9IDA7CgkJCX0KCQkKCQkJZm9yKGkgPSAwLCBzbCA9IHMubGVuZ3RoOyBpIDwgc2w7IGkrKyl7CgkJCQkKCQkJCWlmKHNbaV0gPT09ICcnKXsKCQkJCQljb250aW51ZTsKCQkJCX0KCQkJCQoJCQkJZm9yIChqID0gMCwgZmwgPSBmLmxlbmd0aDsgaiA8IGZsOyBqKyspewoJCQkJCQoJCQkJCXRlbXAgPSBzW2ldICsgJyc7CgkJCQkJcmVwbCA9IHJhID8gKHJbal0gIT09IHVuZGVmaW5lZCA/IHJbal0gOiAnJykgOiByWzBdOwoJCQkJCXNbaV0gPSAodGVtcCkuc3BsaXQoZltqXSkuam9pbihyZXBsKTsKCQkJCQkKCQkJCQlpZihjb3VudCAmJiBzW2ldICE9PSB0ZW1wKXsKCQkJCQkJdGhpcy53aW5kb3dbY291bnRdICs9ICh0ZW1wLmxlbmd0aC1zW2ldLmxlbmd0aCkgLyBmW2pdLmxlbmd0aDsKCQkJCQl9CgkJCQkJCgkJCQl9CgkJCX0KCQkJCgkJCXJldHVybiBzYSA/IHMgOiBzWzBdOwoJCQkKCQl9LAoJCQoJCS8qKgoJCSogQSBjaGVjayB0byBtYWtlIHN1cmUgd2UgaGF2ZSBzb21ldGhpbmcgdG8gd3JhcCBvdXIgbm90aWNlcyB3aXRoCgkJKiBAcHJpdmF0ZQoJCSovICAKCQlfdmVyaWZ5V3JhcHBlcjogZnVuY3Rpb24oKXsKCQkgIAoJCQlpZigkKCcjZ3JpdHRlci1ub3RpY2Utd3JhcHBlcicpLmxlbmd0aCA9PT0gMCl7CgkJCQkkKCcjYzJjYW52YXNkaXYnKS5hcHBlbmQodGhpcy5fdHBsX3dyYXApOwoJCQl9CgkJCgkJfQoJCQoJfQoJCn0pKGpRdWVyeSk7"></script>
        <script src="data:text/plain;base64,LyohIGhvd2xlci5qcyB2Mi4yLjMgfCAoYykgMjAxMy0yMDIwLCBKYW1lcyBTaW1wc29uIG9mIEdvbGRGaXJlIFN0dWRpb3MgfCBNSVQgTGljZW5zZSB8IGhvd2xlcmpzLmNvbSAqLwohKGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CiAgdmFyIGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9OwogIGUucHJvdG90eXBlID0gewogICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHRoaXMgfHwgbjsKICAgICAgcmV0dXJuICgKICAgICAgICAoZS5fY291bnRlciA9IDFlMyksCiAgICAgICAgKGUuX2h0bWw1QXVkaW9Qb29sID0gW10pLAogICAgICAgIChlLmh0bWw1UG9vbFNpemUgPSAxMCksCiAgICAgICAgKGUuX2NvZGVjcyA9IHt9KSwKICAgICAgICAoZS5faG93bHMgPSBbXSksCiAgICAgICAgKGUuX211dGVkID0gITEpLAogICAgICAgIChlLl92b2x1bWUgPSAxKSwKICAgICAgICAoZS5fY2FuUGxheUV2ZW50ID0gImNhbnBsYXl0aHJvdWdoIiksCiAgICAgICAgKGUuX25hdmlnYXRvciA9CiAgICAgICAgICAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3IKICAgICAgICAgICAgPyB3aW5kb3cubmF2aWdhdG9yCiAgICAgICAgICAgIDogbnVsbCksCiAgICAgICAgKGUubWFzdGVyR2FpbiA9IG51bGwpLAogICAgICAgIChlLm5vQXVkaW8gPSAhMSksCiAgICAgICAgKGUudXNpbmdXZWJBdWRpbyA9ICEwKSwKICAgICAgICAoZS5hdXRvU3VzcGVuZCA9ICEwKSwKICAgICAgICAoZS5jdHggPSBudWxsKSwKICAgICAgICAoZS5hdXRvVW5sb2NrID0gITApLAogICAgICAgIGUuX3NldHVwKCksCiAgICAgICAgZQogICAgICApOwogICAgfSwKICAgIHZvbHVtZTogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG8gPSB0aGlzIHx8IG47CiAgICAgIGlmICgKICAgICAgICAoKGUgPSBwYXJzZUZsb2F0KGUpKSwgby5jdHggfHwgXygpLCB2b2lkIDAgIT09IGUgJiYgZSA+PSAwICYmIGUgPD0gMSkKICAgICAgKSB7CiAgICAgICAgaWYgKCgoby5fdm9sdW1lID0gZSksIG8uX211dGVkKSkgcmV0dXJuIG87CiAgICAgICAgby51c2luZ1dlYkF1ZGlvICYmCiAgICAgICAgICBvLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShlLCBuLmN0eC5jdXJyZW50VGltZSk7CiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBvLl9ob3dscy5sZW5ndGg7IHQrKykKICAgICAgICAgIGlmICghby5faG93bHNbdF0uX3dlYkF1ZGlvKQogICAgICAgICAgICBmb3IgKHZhciByID0gby5faG93bHNbdF0uX2dldFNvdW5kSWRzKCksIGEgPSAwOyBhIDwgci5sZW5ndGg7IGErKykgewogICAgICAgICAgICAgIHZhciB1ID0gby5faG93bHNbdF0uX3NvdW5kQnlJZChyW2FdKTsKICAgICAgICAgICAgICB1ICYmIHUuX25vZGUgJiYgKHUuX25vZGUudm9sdW1lID0gdS5fdm9sdW1lICogZSk7CiAgICAgICAgICAgIH0KICAgICAgICByZXR1cm4gbzsKICAgICAgfQogICAgICByZXR1cm4gby5fdm9sdW1lOwogICAgfSwKICAgIG11dGU6IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBvID0gdGhpcyB8fCBuOwogICAgICBvLmN0eCB8fCBfKCksCiAgICAgICAgKG8uX211dGVkID0gZSksCiAgICAgICAgby51c2luZ1dlYkF1ZGlvICYmCiAgICAgICAgICBvLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgKICAgICAgICAgICAgZSA/IDAgOiBvLl92b2x1bWUsCiAgICAgICAgICAgIG4uY3R4LmN1cnJlbnRUaW1lCiAgICAgICAgICApOwogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG8uX2hvd2xzLmxlbmd0aDsgdCsrKQogICAgICAgIGlmICghby5faG93bHNbdF0uX3dlYkF1ZGlvKQogICAgICAgICAgZm9yICh2YXIgciA9IG8uX2hvd2xzW3RdLl9nZXRTb3VuZElkcygpLCBhID0gMDsgYSA8IHIubGVuZ3RoOyBhKyspIHsKICAgICAgICAgICAgdmFyIHUgPSBvLl9ob3dsc1t0XS5fc291bmRCeUlkKHJbYV0pOwogICAgICAgICAgICB1ICYmIHUuX25vZGUgJiYgKHUuX25vZGUubXV0ZWQgPSAhIWUgfHwgdS5fbXV0ZWQpOwogICAgICAgICAgfQogICAgICByZXR1cm4gbzsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGUgPSB0aGlzIHx8IG4sIG8gPSAwOyBvIDwgZS5faG93bHMubGVuZ3RoOyBvKyspCiAgICAgICAgZS5faG93bHNbb10uc3RvcCgpOwogICAgICByZXR1cm4gZTsKICAgIH0sCiAgICB1bmxvYWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgZm9yICh2YXIgZSA9IHRoaXMgfHwgbiwgbyA9IGUuX2hvd2xzLmxlbmd0aCAtIDE7IG8gPj0gMDsgby0tKQogICAgICAgIGUuX2hvd2xzW29dLnVubG9hZCgpOwogICAgICByZXR1cm4gKAogICAgICAgIGUudXNpbmdXZWJBdWRpbyAmJgogICAgICAgICAgZS5jdHggJiYKICAgICAgICAgIHZvaWQgMCAhPT0gZS5jdHguY2xvc2UgJiYKICAgICAgICAgIChlLmN0eC5jbG9zZSgpLCAoZS5jdHggPSBudWxsKSwgXygpKSwKICAgICAgICBlCiAgICAgICk7CiAgICB9LAogICAgY29kZWNzOiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gKHRoaXMgfHwgbikuX2NvZGVjc1tlLnJlcGxhY2UoL154LS8sICIiKV07CiAgICB9LAogICAgX3NldHVwOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gdGhpcyB8fCBuOwogICAgICBpZiAoCiAgICAgICAgKChlLnN0YXRlID0gZS5jdHggPyBlLmN0eC5zdGF0ZSB8fCAic3VzcGVuZGVkIiA6ICJzdXNwZW5kZWQiKSwKICAgICAgICBlLl9hdXRvU3VzcGVuZCgpLAogICAgICAgICFlLnVzaW5nV2ViQXVkaW8pCiAgICAgICkKICAgICAgICBpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIEF1ZGlvKQogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIG8gPSBuZXcgQXVkaW8oKTsKICAgICAgICAgICAgdm9pZCAwID09PSBvLm9uY2FucGxheXRocm91Z2ggJiYgKGUuX2NhblBsYXlFdmVudCA9ICJjYW5wbGF5Iik7CiAgICAgICAgICB9IGNhdGNoIChuKSB7CiAgICAgICAgICAgIGUubm9BdWRpbyA9ICEwOwogICAgICAgICAgfQogICAgICAgIGVsc2UgZS5ub0F1ZGlvID0gITA7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIG8gPSBuZXcgQXVkaW8oKTsKICAgICAgICBvLm11dGVkICYmIChlLm5vQXVkaW8gPSAhMCk7CiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIHJldHVybiBlLm5vQXVkaW8gfHwgZS5fc2V0dXBDb2RlY3MoKSwgZTsKICAgIH0sCiAgICBfc2V0dXBDb2RlY3M6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSB0aGlzIHx8IG4sCiAgICAgICAgbyA9IG51bGw7CiAgICAgIHRyeSB7CiAgICAgICAgbyA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBBdWRpbyA/IG5ldyBBdWRpbygpIDogbnVsbDsKICAgICAgfSBjYXRjaCAobikgewogICAgICAgIHJldHVybiBlOwogICAgICB9CiAgICAgIGlmICghbyB8fCAiZnVuY3Rpb24iICE9IHR5cGVvZiBvLmNhblBsYXlUeXBlKSByZXR1cm4gZTsKICAgICAgdmFyIHQgPSBvLmNhblBsYXlUeXBlKCJhdWRpby9tcGVnOyIpLnJlcGxhY2UoL15ubyQvLCAiIiksCiAgICAgICAgciA9IGUuX25hdmlnYXRvciA/IGUuX25hdmlnYXRvci51c2VyQWdlbnQgOiAiIiwKICAgICAgICBhID0gci5tYXRjaCgvT1BSXC8oWzAtNl0uKS9nKSwKICAgICAgICB1ID0gYSAmJiBwYXJzZUludChhWzBdLnNwbGl0KCIvIilbMV0sIDEwKSA8IDMzLAogICAgICAgIGQgPSAtMSAhPT0gci5pbmRleE9mKCJTYWZhcmkiKSAmJiAtMSA9PT0gci5pbmRleE9mKCJDaHJvbWUiKSwKICAgICAgICBpID0gci5tYXRjaCgvVmVyc2lvblwvKC4qPykgLyksCiAgICAgICAgXyA9IGQgJiYgaSAmJiBwYXJzZUludChpWzFdLCAxMCkgPCAxNTsKICAgICAgcmV0dXJuICgKICAgICAgICAoZS5fY29kZWNzID0gewogICAgICAgICAgbXAzOiAhKHUgfHwgKCF0ICYmICFvLmNhblBsYXlUeXBlKCJhdWRpby9tcDM7IikucmVwbGFjZSgvXm5vJC8sICIiKSkpLAogICAgICAgICAgbXBlZzogISF0LAogICAgICAgICAgb3B1czogISFvLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz0ib3B1cyInKS5yZXBsYWNlKC9ebm8kLywgIiIpLAogICAgICAgICAgb2dnOiAhIW8KICAgICAgICAgICAgLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz0idm9yYmlzIicpCiAgICAgICAgICAgIC5yZXBsYWNlKC9ebm8kLywgIiIpLAogICAgICAgICAgb2dhOiAhIW8KICAgICAgICAgICAgLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz0idm9yYmlzIicpCiAgICAgICAgICAgIC5yZXBsYWNlKC9ebm8kLywgIiIpLAogICAgICAgICAgd2F2OiAhISgKICAgICAgICAgICAgby5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9IjEiJykgfHwgby5jYW5QbGF5VHlwZSgiYXVkaW8vd2F2IikKICAgICAgICAgICkucmVwbGFjZSgvXm5vJC8sICIiKSwKICAgICAgICAgIGFhYzogISFvLmNhblBsYXlUeXBlKCJhdWRpby9hYWM7IikucmVwbGFjZSgvXm5vJC8sICIiKSwKICAgICAgICAgIGNhZjogISFvLmNhblBsYXlUeXBlKCJhdWRpby94LWNhZjsiKS5yZXBsYWNlKC9ebm8kLywgIiIpLAogICAgICAgICAgbTRhOiAhISgKICAgICAgICAgICAgby5jYW5QbGF5VHlwZSgiYXVkaW8veC1tNGE7IikgfHwKICAgICAgICAgICAgby5jYW5QbGF5VHlwZSgiYXVkaW8vbTRhOyIpIHx8CiAgICAgICAgICAgIG8uY2FuUGxheVR5cGUoImF1ZGlvL2FhYzsiKQogICAgICAgICAgKS5yZXBsYWNlKC9ebm8kLywgIiIpLAogICAgICAgICAgbTRiOiAhISgKICAgICAgICAgICAgby5jYW5QbGF5VHlwZSgiYXVkaW8veC1tNGI7IikgfHwKICAgICAgICAgICAgby5jYW5QbGF5VHlwZSgiYXVkaW8vbTRiOyIpIHx8CiAgICAgICAgICAgIG8uY2FuUGxheVR5cGUoImF1ZGlvL2FhYzsiKQogICAgICAgICAgKS5yZXBsYWNlKC9ebm8kLywgIiIpLAogICAgICAgICAgbXA0OiAhISgKICAgICAgICAgICAgby5jYW5QbGF5VHlwZSgiYXVkaW8veC1tcDQ7IikgfHwKICAgICAgICAgICAgby5jYW5QbGF5VHlwZSgiYXVkaW8vbXA0OyIpIHx8CiAgICAgICAgICAgIG8uY2FuUGxheVR5cGUoImF1ZGlvL2FhYzsiKQogICAgICAgICAgKS5yZXBsYWNlKC9ebm8kLywgIiIpLAogICAgICAgICAgd2ViYTogISgKICAgICAgICAgICAgXyB8fAogICAgICAgICAgICAhby5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPSJ2b3JiaXMiJykucmVwbGFjZSgvXm5vJC8sICIiKQogICAgICAgICAgKSwKICAgICAgICAgIHdlYm06ICEoCiAgICAgICAgICAgIF8gfHwKICAgICAgICAgICAgIW8uY2FuUGxheVR5cGUoJ2F1ZGlvL3dlYm07IGNvZGVjcz0idm9yYmlzIicpLnJlcGxhY2UoL15ubyQvLCAiIikKICAgICAgICAgICksCiAgICAgICAgICBkb2xieTogISFvCiAgICAgICAgICAgIC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9ImVjLTMiJykKICAgICAgICAgICAgLnJlcGxhY2UoL15ubyQvLCAiIiksCiAgICAgICAgICBmbGFjOiAhISgKICAgICAgICAgICAgby5jYW5QbGF5VHlwZSgiYXVkaW8veC1mbGFjOyIpIHx8IG8uY2FuUGxheVR5cGUoImF1ZGlvL2ZsYWM7IikKICAgICAgICAgICkucmVwbGFjZSgvXm5vJC8sICIiKSwKICAgICAgICB9KSwKICAgICAgICBlCiAgICAgICk7CiAgICB9LAogICAgX3VubG9ja0F1ZGlvOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gdGhpcyB8fCBuOwogICAgICBpZiAoIWUuX2F1ZGlvVW5sb2NrZWQgJiYgZS5jdHgpIHsKICAgICAgICAoZS5fYXVkaW9VbmxvY2tlZCA9ICExKSwKICAgICAgICAgIChlLmF1dG9VbmxvY2sgPSAhMSksCiAgICAgICAgICBlLl9tb2JpbGVVbmxvYWRlZCB8fAogICAgICAgICAgICA0NDEwMCA9PT0gZS5jdHguc2FtcGxlUmF0ZSB8fAogICAgICAgICAgICAoKGUuX21vYmlsZVVubG9hZGVkID0gITApLCBlLnVubG9hZCgpKSwKICAgICAgICAgIChlLl9zY3JhdGNoQnVmZmVyID0gZS5jdHguY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKSk7CiAgICAgICAgdmFyIG8gPSBmdW5jdGlvbiAobikgewogICAgICAgICAgZm9yICg7IGUuX2h0bWw1QXVkaW9Qb29sLmxlbmd0aCA8IGUuaHRtbDVQb29sU2l6ZTsgKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHZhciB0ID0gbmV3IEF1ZGlvKCk7CiAgICAgICAgICAgICAgKHQuX3VubG9ja2VkID0gITApLCBlLl9yZWxlYXNlSHRtbDVBdWRpbyh0KTsKICAgICAgICAgICAgfSBjYXRjaCAobikgewogICAgICAgICAgICAgIGUubm9BdWRpbyA9ICEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IGUuX2hvd2xzLmxlbmd0aDsgcisrKQogICAgICAgICAgICBpZiAoIWUuX2hvd2xzW3JdLl93ZWJBdWRpbykKICAgICAgICAgICAgICBmb3IgKAogICAgICAgICAgICAgICAgdmFyIGEgPSBlLl9ob3dsc1tyXS5fZ2V0U291bmRJZHMoKSwgdSA9IDA7CiAgICAgICAgICAgICAgICB1IDwgYS5sZW5ndGg7CiAgICAgICAgICAgICAgICB1KysKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHZhciBkID0gZS5faG93bHNbcl0uX3NvdW5kQnlJZChhW3VdKTsKICAgICAgICAgICAgICAgIGQgJiYKICAgICAgICAgICAgICAgICAgZC5fbm9kZSAmJgogICAgICAgICAgICAgICAgICAhZC5fbm9kZS5fdW5sb2NrZWQgJiYKICAgICAgICAgICAgICAgICAgKChkLl9ub2RlLl91bmxvY2tlZCA9ICEwKSwgZC5fbm9kZS5sb2FkKCkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgIGUuX2F1dG9SZXN1bWUoKTsKICAgICAgICAgIHZhciBpID0gZS5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICAgICAgICAoaS5idWZmZXIgPSBlLl9zY3JhdGNoQnVmZmVyKSwKICAgICAgICAgICAgaS5jb25uZWN0KGUuY3R4LmRlc3RpbmF0aW9uKSwKICAgICAgICAgICAgdm9pZCAwID09PSBpLnN0YXJ0ID8gaS5ub3RlT24oMCkgOiBpLnN0YXJ0KDApLAogICAgICAgICAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBlLmN0eC5yZXN1bWUgJiYgZS5jdHgucmVzdW1lKCksCiAgICAgICAgICAgIChpLm9uZW5kZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaS5kaXNjb25uZWN0KDApLAogICAgICAgICAgICAgICAgKGUuX2F1ZGlvVW5sb2NrZWQgPSAhMCksCiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgbywgITApLAogICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCBvLCAhMCksCiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIG8sICEwKSwKICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBvLCAhMCk7CiAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBlLl9ob3dscy5sZW5ndGg7IG4rKykKICAgICAgICAgICAgICAgIGUuX2hvd2xzW25dLl9lbWl0KCJ1bmxvY2siKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIG8sICEwKSwKICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgbywgITApLAogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBvLCAhMCksCiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgbywgITApLAogICAgICAgICAgZQogICAgICAgICk7CiAgICAgIH0KICAgIH0sCiAgICBfb2J0YWluSHRtbDVBdWRpbzogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHRoaXMgfHwgbjsKICAgICAgaWYgKGUuX2h0bWw1QXVkaW9Qb29sLmxlbmd0aCkgcmV0dXJuIGUuX2h0bWw1QXVkaW9Qb29sLnBvcCgpOwogICAgICB2YXIgbyA9IG5ldyBBdWRpbygpLnBsYXkoKTsKICAgICAgcmV0dXJuICgKICAgICAgICBvICYmCiAgICAgICAgICAidW5kZWZpbmVkIiAhPSB0eXBlb2YgUHJvbWlzZSAmJgogICAgICAgICAgKG8gaW5zdGFuY2VvZiBQcm9taXNlIHx8ICJmdW5jdGlvbiIgPT0gdHlwZW9mIG8udGhlbikgJiYKICAgICAgICAgIG8uY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zb2xlLndhcm4oCiAgICAgICAgICAgICAgIkhUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4iCiAgICAgICAgICAgICk7CiAgICAgICAgICB9KSwKICAgICAgICBuZXcgQXVkaW8oKQogICAgICApOwogICAgfSwKICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG8gPSB0aGlzIHx8IG47CiAgICAgIHJldHVybiBlLl91bmxvY2tlZCAmJiBvLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGUpLCBvOwogICAgfSwKICAgIF9hdXRvU3VzcGVuZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHRoaXM7CiAgICAgIGlmICgKICAgICAgICBlLmF1dG9TdXNwZW5kICYmCiAgICAgICAgZS5jdHggJiYKICAgICAgICB2b2lkIDAgIT09IGUuY3R4LnN1c3BlbmQgJiYKICAgICAgICBuLnVzaW5nV2ViQXVkaW8KICAgICAgKSB7CiAgICAgICAgZm9yICh2YXIgbyA9IDA7IG8gPCBlLl9ob3dscy5sZW5ndGg7IG8rKykKICAgICAgICAgIGlmIChlLl9ob3dsc1tvXS5fd2ViQXVkaW8pCiAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgZS5faG93bHNbb10uX3NvdW5kcy5sZW5ndGg7IHQrKykKICAgICAgICAgICAgICBpZiAoIWUuX2hvd2xzW29dLl9zb3VuZHNbdF0uX3BhdXNlZCkgcmV0dXJuIGU7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIGUuX3N1c3BlbmRUaW1lciAmJiBjbGVhclRpbWVvdXQoZS5fc3VzcGVuZFRpbWVyKSwKICAgICAgICAgIChlLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGUuYXV0b1N1c3BlbmQpIHsKICAgICAgICAgICAgICAoZS5fc3VzcGVuZFRpbWVyID0gbnVsbCksIChlLnN0YXRlID0gInN1c3BlbmRpbmciKTsKICAgICAgICAgICAgICB2YXIgbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIChlLnN0YXRlID0gInN1c3BlbmRlZCIpLAogICAgICAgICAgICAgICAgICBlLl9yZXN1bWVBZnRlclN1c3BlbmQgJiYKICAgICAgICAgICAgICAgICAgICAoZGVsZXRlIGUuX3Jlc3VtZUFmdGVyU3VzcGVuZCwgZS5fYXV0b1Jlc3VtZSgpKTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGUuY3R4LnN1c3BlbmQoKS50aGVuKG4sIG4pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAzZTQpKSwKICAgICAgICAgIGUKICAgICAgICApOwogICAgICB9CiAgICB9LAogICAgX2F1dG9SZXN1bWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSB0aGlzOwogICAgICBpZiAoZS5jdHggJiYgdm9pZCAwICE9PSBlLmN0eC5yZXN1bWUgJiYgbi51c2luZ1dlYkF1ZGlvKQogICAgICAgIHJldHVybiAoCiAgICAgICAgICAicnVubmluZyIgPT09IGUuc3RhdGUgJiYKICAgICAgICAgICJpbnRlcnJ1cHRlZCIgIT09IGUuY3R4LnN0YXRlICYmCiAgICAgICAgICBlLl9zdXNwZW5kVGltZXIKICAgICAgICAgICAgPyAoY2xlYXJUaW1lb3V0KGUuX3N1c3BlbmRUaW1lciksIChlLl9zdXNwZW5kVGltZXIgPSBudWxsKSkKICAgICAgICAgICAgOiAic3VzcGVuZGVkIiA9PT0gZS5zdGF0ZSB8fAogICAgICAgICAgICAgICgicnVubmluZyIgPT09IGUuc3RhdGUgJiYgImludGVycnVwdGVkIiA9PT0gZS5jdHguc3RhdGUpCiAgICAgICAgICAgID8gKGUuY3R4LnJlc3VtZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZS5zdGF0ZSA9ICJydW5uaW5nIjsKICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgZS5faG93bHMubGVuZ3RoOyBuKyspCiAgICAgICAgICAgICAgICAgIGUuX2hvd2xzW25dLl9lbWl0KCJyZXN1bWUiKTsKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBlLl9zdXNwZW5kVGltZXIgJiYKICAgICAgICAgICAgICAgIChjbGVhclRpbWVvdXQoZS5fc3VzcGVuZFRpbWVyKSwgKGUuX3N1c3BlbmRUaW1lciA9IG51bGwpKSkKICAgICAgICAgICAgOiAic3VzcGVuZGluZyIgPT09IGUuc3RhdGUgJiYgKGUuX3Jlc3VtZUFmdGVyU3VzcGVuZCA9ICEwKSwKICAgICAgICAgIGUKICAgICAgICApOwogICAgfSwKICB9OwogIHZhciBuID0gbmV3IGUoKSwKICAgIG8gPSBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgbiA9IHRoaXM7CiAgICAgIGlmICghZS5zcmMgfHwgMCA9PT0gZS5zcmMubGVuZ3RoKQogICAgICAgIHJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoCiAgICAgICAgICAiQW4gYXJyYXkgb2Ygc291cmNlIGZpbGVzIG11c3QgYmUgcGFzc2VkIHdpdGggYW55IG5ldyBIb3dsLiIKICAgICAgICApOwogICAgICBuLmluaXQoZSk7CiAgICB9OwogIG8ucHJvdG90eXBlID0gewogICAgaW5pdDogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG8gPSB0aGlzOwogICAgICByZXR1cm4gKAogICAgICAgIG4uY3R4IHx8IF8oKSwKICAgICAgICAoby5fYXV0b3BsYXkgPSBlLmF1dG9wbGF5IHx8ICExKSwKICAgICAgICAoby5fZm9ybWF0ID0gInN0cmluZyIgIT0gdHlwZW9mIGUuZm9ybWF0ID8gZS5mb3JtYXQgOiBbZS5mb3JtYXRdKSwKICAgICAgICAoby5faHRtbDUgPSBlLmh0bWw1IHx8ICExKSwKICAgICAgICAoby5fbXV0ZWQgPSBlLm11dGUgfHwgITEpLAogICAgICAgIChvLl9sb29wID0gZS5sb29wIHx8ICExKSwKICAgICAgICAoby5fcG9vbCA9IGUucG9vbCB8fCA1KSwKICAgICAgICAoby5fcHJlbG9hZCA9CiAgICAgICAgICAoImJvb2xlYW4iICE9IHR5cGVvZiBlLnByZWxvYWQgJiYgIm1ldGFkYXRhIiAhPT0gZS5wcmVsb2FkKSB8fAogICAgICAgICAgZS5wcmVsb2FkKSwKICAgICAgICAoby5fcmF0ZSA9IGUucmF0ZSB8fCAxKSwKICAgICAgICAoby5fc3ByaXRlID0gZS5zcHJpdGUgfHwge30pLAogICAgICAgIChvLl9zcmMgPSAic3RyaW5nIiAhPSB0eXBlb2YgZS5zcmMgPyBlLnNyYyA6IFtlLnNyY10pLAogICAgICAgIChvLl92b2x1bWUgPSB2b2lkIDAgIT09IGUudm9sdW1lID8gZS52b2x1bWUgOiAxKSwKICAgICAgICAoby5feGhyID0gewogICAgICAgICAgbWV0aG9kOiBlLnhociAmJiBlLnhoci5tZXRob2QgPyBlLnhoci5tZXRob2QgOiAiR0VUIiwKICAgICAgICAgIGhlYWRlcnM6IGUueGhyICYmIGUueGhyLmhlYWRlcnMgPyBlLnhoci5oZWFkZXJzIDogbnVsbCwKICAgICAgICAgIHdpdGhDcmVkZW50aWFsczoKICAgICAgICAgICAgISghZS54aHIgfHwgIWUueGhyLndpdGhDcmVkZW50aWFscykgJiYgZS54aHIud2l0aENyZWRlbnRpYWxzLAogICAgICAgIH0pLAogICAgICAgIChvLl9kdXJhdGlvbiA9IDApLAogICAgICAgIChvLl9zdGF0ZSA9ICJ1bmxvYWRlZCIpLAogICAgICAgIChvLl9zb3VuZHMgPSBbXSksCiAgICAgICAgKG8uX2VuZFRpbWVycyA9IHt9KSwKICAgICAgICAoby5fcXVldWUgPSBbXSksCiAgICAgICAgKG8uX3BsYXlMb2NrID0gITEpLAogICAgICAgIChvLl9vbmVuZCA9IGUub25lbmQgPyBbeyBmbjogZS5vbmVuZCB9XSA6IFtdKSwKICAgICAgICAoby5fb25mYWRlID0gZS5vbmZhZGUgPyBbeyBmbjogZS5vbmZhZGUgfV0gOiBbXSksCiAgICAgICAgKG8uX29ubG9hZCA9IGUub25sb2FkID8gW3sgZm46IGUub25sb2FkIH1dIDogW10pLAogICAgICAgIChvLl9vbmxvYWRlcnJvciA9IGUub25sb2FkZXJyb3IgPyBbeyBmbjogZS5vbmxvYWRlcnJvciB9XSA6IFtdKSwKICAgICAgICAoby5fb25wbGF5ZXJyb3IgPSBlLm9ucGxheWVycm9yID8gW3sgZm46IGUub25wbGF5ZXJyb3IgfV0gOiBbXSksCiAgICAgICAgKG8uX29ucGF1c2UgPSBlLm9ucGF1c2UgPyBbeyBmbjogZS5vbnBhdXNlIH1dIDogW10pLAogICAgICAgIChvLl9vbnBsYXkgPSBlLm9ucGxheSA/IFt7IGZuOiBlLm9ucGxheSB9XSA6IFtdKSwKICAgICAgICAoby5fb25zdG9wID0gZS5vbnN0b3AgPyBbeyBmbjogZS5vbnN0b3AgfV0gOiBbXSksCiAgICAgICAgKG8uX29ubXV0ZSA9IGUub25tdXRlID8gW3sgZm46IGUub25tdXRlIH1dIDogW10pLAogICAgICAgIChvLl9vbnZvbHVtZSA9IGUub252b2x1bWUgPyBbeyBmbjogZS5vbnZvbHVtZSB9XSA6IFtdKSwKICAgICAgICAoby5fb25yYXRlID0gZS5vbnJhdGUgPyBbeyBmbjogZS5vbnJhdGUgfV0gOiBbXSksCiAgICAgICAgKG8uX29uc2VlayA9IGUub25zZWVrID8gW3sgZm46IGUub25zZWVrIH1dIDogW10pLAogICAgICAgIChvLl9vbnVubG9jayA9IGUub251bmxvY2sgPyBbeyBmbjogZS5vbnVubG9jayB9XSA6IFtdKSwKICAgICAgICAoby5fb25yZXN1bWUgPSBbXSksCiAgICAgICAgKG8uX3dlYkF1ZGlvID0gbi51c2luZ1dlYkF1ZGlvICYmICFvLl9odG1sNSksCiAgICAgICAgdm9pZCAwICE9PSBuLmN0eCAmJiBuLmN0eCAmJiBuLmF1dG9VbmxvY2sgJiYgbi5fdW5sb2NrQXVkaW8oKSwKICAgICAgICBuLl9ob3dscy5wdXNoKG8pLAogICAgICAgIG8uX2F1dG9wbGF5ICYmCiAgICAgICAgICBvLl9xdWV1ZS5wdXNoKHsKICAgICAgICAgICAgZXZlbnQ6ICJwbGF5IiwKICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgby5wbGF5KCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KSwKICAgICAgICBvLl9wcmVsb2FkICYmICJub25lIiAhPT0gby5fcHJlbG9hZCAmJiBvLmxvYWQoKSwKICAgICAgICBvCiAgICAgICk7CiAgICB9LAogICAgbG9hZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgbyA9IG51bGw7CiAgICAgIGlmIChuLm5vQXVkaW8pCiAgICAgICAgcmV0dXJuIHZvaWQgZS5fZW1pdCgibG9hZGVycm9yIiwgbnVsbCwgIk5vIGF1ZGlvIHN1cHBvcnQuIik7CiAgICAgICJzdHJpbmciID09IHR5cGVvZiBlLl9zcmMgJiYgKGUuX3NyYyA9IFtlLl9zcmNdKTsKICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBlLl9zcmMubGVuZ3RoOyByKyspIHsKICAgICAgICB2YXIgdSwgZDsKICAgICAgICBpZiAoZS5fZm9ybWF0ICYmIGUuX2Zvcm1hdFtyXSkgdSA9IGUuX2Zvcm1hdFtyXTsKICAgICAgICBlbHNlIHsKICAgICAgICAgIGlmICgic3RyaW5nIiAhPSB0eXBlb2YgKGQgPSBlLl9zcmNbcl0pKSB7CiAgICAgICAgICAgIGUuX2VtaXQoCiAgICAgICAgICAgICAgImxvYWRlcnJvciIsCiAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAiTm9uLXN0cmluZyBmb3VuZCBpbiBzZWxlY3RlZCBhdWRpbyBzb3VyY2VzIC0gaWdub3JpbmcuIgogICAgICAgICAgICApOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgICh1ID0gL15kYXRhOmF1ZGlvXC8oW147LF0rKTsvaS5leGVjKGQpKSwKICAgICAgICAgICAgdSB8fCAodSA9IC9cLihbXi5dKykkLy5leGVjKGQuc3BsaXQoIj8iLCAxKVswXSkpLAogICAgICAgICAgICB1ICYmICh1ID0gdVsxXS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICB9CiAgICAgICAgaWYgKAogICAgICAgICAgKHUgfHwKICAgICAgICAgICAgY29uc29sZS53YXJuKAogICAgICAgICAgICAgICdObyBmaWxlIGV4dGVuc2lvbiB3YXMgZm91bmQuIENvbnNpZGVyIHVzaW5nIHRoZSAiZm9ybWF0IiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nCiAgICAgICAgICAgICksCiAgICAgICAgICB1ICYmIG4uY29kZWNzKHUpKQogICAgICAgICkgewogICAgICAgICAgbyA9IGUuX3NyY1tyXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbwogICAgICAgID8gKChlLl9zcmMgPSBvKSwKICAgICAgICAgIChlLl9zdGF0ZSA9ICJsb2FkaW5nIiksCiAgICAgICAgICAiaHR0cHM6IiA9PT0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICYmCiAgICAgICAgICAgICJodHRwOiIgPT09IG8uc2xpY2UoMCwgNSkgJiYKICAgICAgICAgICAgKChlLl9odG1sNSA9ICEwKSwgKGUuX3dlYkF1ZGlvID0gITEpKSwKICAgICAgICAgIG5ldyB0KGUpLAogICAgICAgICAgZS5fd2ViQXVkaW8gJiYgYShlKSwKICAgICAgICAgIGUpCiAgICAgICAgOiB2b2lkIGUuX2VtaXQoCiAgICAgICAgICAgICJsb2FkZXJyb3IiLAogICAgICAgICAgICBudWxsLAogICAgICAgICAgICAiTm8gY29kZWMgc3VwcG9ydCBmb3Igc2VsZWN0ZWQgYXVkaW8gc291cmNlcy4iCiAgICAgICAgICApOwogICAgfSwKICAgIHBsYXk6IGZ1bmN0aW9uIChlLCBvKSB7CiAgICAgIHZhciB0ID0gdGhpcywKICAgICAgICByID0gbnVsbDsKICAgICAgaWYgKCJudW1iZXIiID09IHR5cGVvZiBlKSAociA9IGUpLCAoZSA9IG51bGwpOwogICAgICBlbHNlIHsKICAgICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIGUgJiYgImxvYWRlZCIgPT09IHQuX3N0YXRlICYmICF0Ll9zcHJpdGVbZV0pCiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBpZiAodm9pZCAwID09PSBlICYmICgoZSA9ICJfX2RlZmF1bHQiKSwgIXQuX3BsYXlMb2NrKSkgewogICAgICAgICAgZm9yICh2YXIgYSA9IDAsIHUgPSAwOyB1IDwgdC5fc291bmRzLmxlbmd0aDsgdSsrKQogICAgICAgICAgICB0Ll9zb3VuZHNbdV0uX3BhdXNlZCAmJgogICAgICAgICAgICAgICF0Ll9zb3VuZHNbdV0uX2VuZGVkICYmCiAgICAgICAgICAgICAgKGErKywgKHIgPSB0Ll9zb3VuZHNbdV0uX2lkKSk7CiAgICAgICAgICAxID09PSBhID8gKGUgPSBudWxsKSA6IChyID0gbnVsbCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBkID0gciA/IHQuX3NvdW5kQnlJZChyKSA6IHQuX2luYWN0aXZlU291bmQoKTsKICAgICAgaWYgKCFkKSByZXR1cm4gbnVsbDsKICAgICAgaWYgKChyICYmICFlICYmIChlID0gZC5fc3ByaXRlIHx8ICJfX2RlZmF1bHQiKSwgImxvYWRlZCIgIT09IHQuX3N0YXRlKSkgewogICAgICAgIChkLl9zcHJpdGUgPSBlKSwgKGQuX2VuZGVkID0gITEpOwogICAgICAgIHZhciBpID0gZC5faWQ7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIHQuX3F1ZXVlLnB1c2goewogICAgICAgICAgICBldmVudDogInBsYXkiLAogICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0LnBsYXkoaSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KSwKICAgICAgICAgIGkKICAgICAgICApOwogICAgICB9CiAgICAgIGlmIChyICYmICFkLl9wYXVzZWQpIHJldHVybiBvIHx8IHQuX2xvYWRRdWV1ZSgicGxheSIpLCBkLl9pZDsKICAgICAgdC5fd2ViQXVkaW8gJiYgbi5fYXV0b1Jlc3VtZSgpOwogICAgICB2YXIgXyA9IE1hdGgubWF4KDAsIGQuX3NlZWsgPiAwID8gZC5fc2VlayA6IHQuX3Nwcml0ZVtlXVswXSAvIDFlMyksCiAgICAgICAgcyA9IE1hdGgubWF4KDAsICh0Ll9zcHJpdGVbZV1bMF0gKyB0Ll9zcHJpdGVbZV1bMV0pIC8gMWUzIC0gXyksCiAgICAgICAgbCA9ICgxZTMgKiBzKSAvIE1hdGguYWJzKGQuX3JhdGUpLAogICAgICAgIGMgPSB0Ll9zcHJpdGVbZV1bMF0gLyAxZTMsCiAgICAgICAgZiA9ICh0Ll9zcHJpdGVbZV1bMF0gKyB0Ll9zcHJpdGVbZV1bMV0pIC8gMWUzOwogICAgICAoZC5fc3ByaXRlID0gZSksIChkLl9lbmRlZCA9ICExKTsKICAgICAgdmFyIHAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgKGQuX3BhdXNlZCA9ICExKSwKICAgICAgICAgIChkLl9zZWVrID0gXyksCiAgICAgICAgICAoZC5fc3RhcnQgPSBjKSwKICAgICAgICAgIChkLl9zdG9wID0gZiksCiAgICAgICAgICAoZC5fbG9vcCA9ICEoIWQuX2xvb3AgJiYgIXQuX3Nwcml0ZVtlXVsyXSkpOwogICAgICB9OwogICAgICBpZiAoXyA+PSBmKSByZXR1cm4gdm9pZCB0Ll9lbmRlZChkKTsKICAgICAgdmFyIG0gPSBkLl9ub2RlOwogICAgICBpZiAodC5fd2ViQXVkaW8pIHsKICAgICAgICB2YXIgdiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICh0Ll9wbGF5TG9jayA9ICExKSwgcCgpLCB0Ll9yZWZyZXNoQnVmZmVyKGQpOwogICAgICAgICAgdmFyIGUgPSBkLl9tdXRlZCB8fCB0Ll9tdXRlZCA/IDAgOiBkLl92b2x1bWU7CiAgICAgICAgICBtLmdhaW4uc2V0VmFsdWVBdFRpbWUoZSwgbi5jdHguY3VycmVudFRpbWUpLAogICAgICAgICAgICAoZC5fcGxheVN0YXJ0ID0gbi5jdHguY3VycmVudFRpbWUpLAogICAgICAgICAgICB2b2lkIDAgPT09IG0uYnVmZmVyU291cmNlLnN0YXJ0CiAgICAgICAgICAgICAgPyBkLl9sb29wCiAgICAgICAgICAgICAgICA/IG0uYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIF8sIDg2NDAwKQogICAgICAgICAgICAgICAgOiBtLmJ1ZmZlclNvdXJjZS5ub3RlR3JhaW5PbigwLCBfLCBzKQogICAgICAgICAgICAgIDogZC5fbG9vcAogICAgICAgICAgICAgID8gbS5idWZmZXJTb3VyY2Uuc3RhcnQoMCwgXywgODY0MDApCiAgICAgICAgICAgICAgOiBtLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBfLCBzKSwKICAgICAgICAgICAgbCAhPT0gMSAvIDAgJiYKICAgICAgICAgICAgICAodC5fZW5kVGltZXJzW2QuX2lkXSA9IHNldFRpbWVvdXQodC5fZW5kZWQuYmluZCh0LCBkKSwgbCkpLAogICAgICAgICAgICBvIHx8CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB0Ll9lbWl0KCJwbGF5IiwgZC5faWQpLCB0Ll9sb2FkUXVldWUoKTsKICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICB9OwogICAgICAgICJydW5uaW5nIiA9PT0gbi5zdGF0ZSAmJiAiaW50ZXJydXB0ZWQiICE9PSBuLmN0eC5zdGF0ZQogICAgICAgICAgPyB2KCkKICAgICAgICAgIDogKCh0Ll9wbGF5TG9jayA9ICEwKSwgdC5vbmNlKCJyZXN1bWUiLCB2KSwgdC5fY2xlYXJUaW1lcihkLl9pZCkpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBoID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgKG0uY3VycmVudFRpbWUgPSBfKSwKICAgICAgICAgICAgKG0ubXV0ZWQgPSBkLl9tdXRlZCB8fCB0Ll9tdXRlZCB8fCBuLl9tdXRlZCB8fCBtLm11dGVkKSwKICAgICAgICAgICAgKG0udm9sdW1lID0gZC5fdm9sdW1lICogbi52b2x1bWUoKSksCiAgICAgICAgICAgIChtLnBsYXliYWNrUmF0ZSA9IGQuX3JhdGUpOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIHIgPSBtLnBsYXkoKTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIChyICYmCiAgICAgICAgICAgICAgInVuZGVmaW5lZCIgIT0gdHlwZW9mIFByb21pc2UgJiYKICAgICAgICAgICAgICAociBpbnN0YW5jZW9mIFByb21pc2UgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2Ygci50aGVuKQogICAgICAgICAgICAgICAgPyAoKHQuX3BsYXlMb2NrID0gITApLAogICAgICAgICAgICAgICAgICBwKCksCiAgICAgICAgICAgICAgICAgIHIKICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAodC5fcGxheUxvY2sgPSAhMSksCiAgICAgICAgICAgICAgICAgICAgICAgIChtLl91bmxvY2tlZCA9ICEwKSwKICAgICAgICAgICAgICAgICAgICAgICAgbyA/IHQuX2xvYWRRdWV1ZSgpIDogdC5fZW1pdCgicGxheSIsIGQuX2lkKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAodC5fcGxheUxvY2sgPSAhMSksCiAgICAgICAgICAgICAgICAgICAgICAgIHQuX2VtaXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgInBsYXllcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZC5faWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIlBsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSBvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4iCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgIChkLl9lbmRlZCA9ICEwKSwKICAgICAgICAgICAgICAgICAgICAgICAgKGQuX3BhdXNlZCA9ICEwKTsKICAgICAgICAgICAgICAgICAgICB9KSkKICAgICAgICAgICAgICAgIDogbyB8fCAoKHQuX3BsYXlMb2NrID0gITEpLCBwKCksIHQuX2VtaXQoInBsYXkiLCBkLl9pZCkpLAogICAgICAgICAgICAgIChtLnBsYXliYWNrUmF0ZSA9IGQuX3JhdGUpLAogICAgICAgICAgICAgIG0ucGF1c2VkKQogICAgICAgICAgICApCiAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgdC5fZW1pdCgKICAgICAgICAgICAgICAgICJwbGF5ZXJyb3IiLAogICAgICAgICAgICAgICAgZC5faWQsCiAgICAgICAgICAgICAgICAiUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlIG9uIG1vYmlsZSBkZXZpY2VzIGFuZCBDaHJvbWUgd2hlcmUgcGxheWJhY2sgd2FzIG5vdCB3aXRoaW4gYSB1c2VyIGludGVyYWN0aW9uLiIKICAgICAgICAgICAgICApOwogICAgICAgICAgICAiX19kZWZhdWx0IiAhPT0gZSB8fCBkLl9sb29wCiAgICAgICAgICAgICAgPyAodC5fZW5kVGltZXJzW2QuX2lkXSA9IHNldFRpbWVvdXQodC5fZW5kZWQuYmluZCh0LCBkKSwgbCkpCiAgICAgICAgICAgICAgOiAoKHQuX2VuZFRpbWVyc1tkLl9pZF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHQuX2VuZGVkKGQpLAogICAgICAgICAgICAgICAgICAgIG0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZW5kZWQiLCB0Ll9lbmRUaW1lcnNbZC5faWRdLCAhMSk7CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIG0uYWRkRXZlbnRMaXN0ZW5lcigiZW5kZWQiLCB0Ll9lbmRUaW1lcnNbZC5faWRdLCAhMSkpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB0Ll9lbWl0KCJwbGF5ZXJyb3IiLCBkLl9pZCwgZSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAiZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUEiID09PQogICAgICAgICAgbS5zcmMgJiYgKChtLnNyYyA9IHQuX3NyYyksIG0ubG9hZCgpKTsKICAgICAgICB2YXIgeSA9CiAgICAgICAgICAod2luZG93ICYmIHdpbmRvdy5lamVjdGEpIHx8CiAgICAgICAgICAoIW0ucmVhZHlTdGF0ZSAmJiBuLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUyk7CiAgICAgICAgaWYgKG0ucmVhZHlTdGF0ZSA+PSAzIHx8IHkpIGgoKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgICh0Ll9wbGF5TG9jayA9ICEwKSwgKHQuX3N0YXRlID0gImxvYWRpbmciKTsKICAgICAgICAgIHZhciBnID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAodC5fc3RhdGUgPSAibG9hZGVkIiksCiAgICAgICAgICAgICAgaCgpLAogICAgICAgICAgICAgIG0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLl9jYW5QbGF5RXZlbnQsIGcsICExKTsKICAgICAgICAgIH07CiAgICAgICAgICBtLmFkZEV2ZW50TGlzdGVuZXIobi5fY2FuUGxheUV2ZW50LCBnLCAhMSksIHQuX2NsZWFyVGltZXIoZC5faWQpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZC5faWQ7CiAgICB9LAogICAgcGF1c2U6IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuID0gdGhpczsKICAgICAgaWYgKCJsb2FkZWQiICE9PSBuLl9zdGF0ZSB8fCBuLl9wbGF5TG9jaykKICAgICAgICByZXR1cm4gKAogICAgICAgICAgbi5fcXVldWUucHVzaCh7CiAgICAgICAgICAgIGV2ZW50OiAicGF1c2UiLAogICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBuLnBhdXNlKGUpOwogICAgICAgICAgICB9LAogICAgICAgICAgfSksCiAgICAgICAgICBuCiAgICAgICAgKTsKICAgICAgZm9yICh2YXIgbyA9IG4uX2dldFNvdW5kSWRzKGUpLCB0ID0gMDsgdCA8IG8ubGVuZ3RoOyB0KyspIHsKICAgICAgICBuLl9jbGVhclRpbWVyKG9bdF0pOwogICAgICAgIHZhciByID0gbi5fc291bmRCeUlkKG9bdF0pOwogICAgICAgIGlmICgKICAgICAgICAgIHIgJiYKICAgICAgICAgICFyLl9wYXVzZWQgJiYKICAgICAgICAgICgoci5fc2VlayA9IG4uc2VlayhvW3RdKSksCiAgICAgICAgICAoci5fcmF0ZVNlZWsgPSAwKSwKICAgICAgICAgIChyLl9wYXVzZWQgPSAhMCksCiAgICAgICAgICBuLl9zdG9wRmFkZShvW3RdKSwKICAgICAgICAgIHIuX25vZGUpCiAgICAgICAgKQogICAgICAgICAgaWYgKG4uX3dlYkF1ZGlvKSB7CiAgICAgICAgICAgIGlmICghci5fbm9kZS5idWZmZXJTb3VyY2UpIGNvbnRpbnVlOwogICAgICAgICAgICB2b2lkIDAgPT09IHIuX25vZGUuYnVmZmVyU291cmNlLnN0b3AKICAgICAgICAgICAgICA/IHIuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCkKICAgICAgICAgICAgICA6IHIuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCksCiAgICAgICAgICAgICAgbi5fY2xlYW5CdWZmZXIoci5fbm9kZSk7CiAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgKGlzTmFOKHIuX25vZGUuZHVyYXRpb24pICYmIHIuX25vZGUuZHVyYXRpb24gIT09IDEgLyAwKSB8fAogICAgICAgICAgICAgIHIuX25vZGUucGF1c2UoKTsKICAgICAgICBhcmd1bWVudHNbMV0gfHwgbi5fZW1pdCgicGF1c2UiLCByID8gci5faWQgOiBudWxsKTsKICAgICAgfQogICAgICByZXR1cm4gbjsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiAoZSwgbikgewogICAgICB2YXIgbyA9IHRoaXM7CiAgICAgIGlmICgibG9hZGVkIiAhPT0gby5fc3RhdGUgfHwgby5fcGxheUxvY2spCiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIG8uX3F1ZXVlLnB1c2goewogICAgICAgICAgICBldmVudDogInN0b3AiLAogICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBvLnN0b3AoZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KSwKICAgICAgICAgIG8KICAgICAgICApOwogICAgICBmb3IgKHZhciB0ID0gby5fZ2V0U291bmRJZHMoZSksIHIgPSAwOyByIDwgdC5sZW5ndGg7IHIrKykgewogICAgICAgIG8uX2NsZWFyVGltZXIodFtyXSk7CiAgICAgICAgdmFyIGEgPSBvLl9zb3VuZEJ5SWQodFtyXSk7CiAgICAgICAgYSAmJgogICAgICAgICAgKChhLl9zZWVrID0gYS5fc3RhcnQgfHwgMCksCiAgICAgICAgICAoYS5fcmF0ZVNlZWsgPSAwKSwKICAgICAgICAgIChhLl9wYXVzZWQgPSAhMCksCiAgICAgICAgICAoYS5fZW5kZWQgPSAhMCksCiAgICAgICAgICBvLl9zdG9wRmFkZSh0W3JdKSwKICAgICAgICAgIGEuX25vZGUgJiYKICAgICAgICAgICAgKG8uX3dlYkF1ZGlvCiAgICAgICAgICAgICAgPyBhLl9ub2RlLmJ1ZmZlclNvdXJjZSAmJgogICAgICAgICAgICAgICAgKHZvaWQgMCA9PT0gYS5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcAogICAgICAgICAgICAgICAgICA/IGEuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCkKICAgICAgICAgICAgICAgICAgOiBhLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApLAogICAgICAgICAgICAgICAgby5fY2xlYW5CdWZmZXIoYS5fbm9kZSkpCiAgICAgICAgICAgICAgOiAoaXNOYU4oYS5fbm9kZS5kdXJhdGlvbikgJiYgYS5fbm9kZS5kdXJhdGlvbiAhPT0gMSAvIDApIHx8CiAgICAgICAgICAgICAgICAoKGEuX25vZGUuY3VycmVudFRpbWUgPSBhLl9zdGFydCB8fCAwKSwKICAgICAgICAgICAgICAgIGEuX25vZGUucGF1c2UoKSwKICAgICAgICAgICAgICAgIGEuX25vZGUuZHVyYXRpb24gPT09IDEgLyAwICYmIG8uX2NsZWFyU291bmQoYS5fbm9kZSkpKSwKICAgICAgICAgIG4gfHwgby5fZW1pdCgic3RvcCIsIGEuX2lkKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG87CiAgICB9LAogICAgbXV0ZTogZnVuY3Rpb24gKGUsIG8pIHsKICAgICAgdmFyIHQgPSB0aGlzOwogICAgICBpZiAoImxvYWRlZCIgIT09IHQuX3N0YXRlIHx8IHQuX3BsYXlMb2NrKQogICAgICAgIHJldHVybiAoCiAgICAgICAgICB0Ll9xdWV1ZS5wdXNoKHsKICAgICAgICAgICAgZXZlbnQ6ICJtdXRlIiwKICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdC5tdXRlKGUsIG8pOwogICAgICAgICAgICB9LAogICAgICAgICAgfSksCiAgICAgICAgICB0CiAgICAgICAgKTsKICAgICAgaWYgKHZvaWQgMCA9PT0gbykgewogICAgICAgIGlmICgiYm9vbGVhbiIgIT0gdHlwZW9mIGUpIHJldHVybiB0Ll9tdXRlZDsKICAgICAgICB0Ll9tdXRlZCA9IGU7CiAgICAgIH0KICAgICAgZm9yICh2YXIgciA9IHQuX2dldFNvdW5kSWRzKG8pLCBhID0gMDsgYSA8IHIubGVuZ3RoOyBhKyspIHsKICAgICAgICB2YXIgdSA9IHQuX3NvdW5kQnlJZChyW2FdKTsKICAgICAgICB1ICYmCiAgICAgICAgICAoKHUuX211dGVkID0gZSksCiAgICAgICAgICB1Ll9pbnRlcnZhbCAmJiB0Ll9zdG9wRmFkZSh1Ll9pZCksCiAgICAgICAgICB0Ll93ZWJBdWRpbyAmJiB1Ll9ub2RlCiAgICAgICAgICAgID8gdS5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGUgPyAwIDogdS5fdm9sdW1lLCBuLmN0eC5jdXJyZW50VGltZSkKICAgICAgICAgICAgOiB1Ll9ub2RlICYmICh1Ll9ub2RlLm11dGVkID0gISFuLl9tdXRlZCB8fCBlKSwKICAgICAgICAgIHQuX2VtaXQoIm11dGUiLCB1Ll9pZCkpOwogICAgICB9CiAgICAgIHJldHVybiB0OwogICAgfSwKICAgIHZvbHVtZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSwKICAgICAgICBvLAogICAgICAgIHQgPSB0aGlzLAogICAgICAgIHIgPSBhcmd1bWVudHM7CiAgICAgIGlmICgwID09PSByLmxlbmd0aCkgcmV0dXJuIHQuX3ZvbHVtZTsKICAgICAgaWYgKDEgPT09IHIubGVuZ3RoIHx8ICgyID09PSByLmxlbmd0aCAmJiB2b2lkIDAgPT09IHJbMV0pKSB7CiAgICAgICAgdC5fZ2V0U291bmRJZHMoKS5pbmRleE9mKHJbMF0pID49IDAKICAgICAgICAgID8gKG8gPSBwYXJzZUludChyWzBdLCAxMCkpCiAgICAgICAgICA6IChlID0gcGFyc2VGbG9hdChyWzBdKSk7CiAgICAgIH0gZWxzZQogICAgICAgIHIubGVuZ3RoID49IDIgJiYgKChlID0gcGFyc2VGbG9hdChyWzBdKSksIChvID0gcGFyc2VJbnQoclsxXSwgMTApKSk7CiAgICAgIHZhciBhOwogICAgICBpZiAoISh2b2lkIDAgIT09IGUgJiYgZSA+PSAwICYmIGUgPD0gMSkpCiAgICAgICAgcmV0dXJuIChhID0gbyA/IHQuX3NvdW5kQnlJZChvKSA6IHQuX3NvdW5kc1swXSksIGEgPyBhLl92b2x1bWUgOiAwOwogICAgICBpZiAoImxvYWRlZCIgIT09IHQuX3N0YXRlIHx8IHQuX3BsYXlMb2NrKQogICAgICAgIHJldHVybiAoCiAgICAgICAgICB0Ll9xdWV1ZS5wdXNoKHsKICAgICAgICAgICAgZXZlbnQ6ICJ2b2x1bWUiLAogICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0LnZvbHVtZS5hcHBseSh0LCByKTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pLAogICAgICAgICAgdAogICAgICAgICk7CiAgICAgIHZvaWQgMCA9PT0gbyAmJiAodC5fdm9sdW1lID0gZSksIChvID0gdC5fZ2V0U291bmRJZHMobykpOwogICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IG8ubGVuZ3RoOyB1KyspCiAgICAgICAgKGEgPSB0Ll9zb3VuZEJ5SWQob1t1XSkpICYmCiAgICAgICAgICAoKGEuX3ZvbHVtZSA9IGUpLAogICAgICAgICAgclsyXSB8fCB0Ll9zdG9wRmFkZShvW3VdKSwKICAgICAgICAgIHQuX3dlYkF1ZGlvICYmIGEuX25vZGUgJiYgIWEuX211dGVkCiAgICAgICAgICAgID8gYS5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGUsIG4uY3R4LmN1cnJlbnRUaW1lKQogICAgICAgICAgICA6IGEuX25vZGUgJiYgIWEuX211dGVkICYmIChhLl9ub2RlLnZvbHVtZSA9IGUgKiBuLnZvbHVtZSgpKSwKICAgICAgICAgIHQuX2VtaXQoInZvbHVtZSIsIGEuX2lkKSk7CiAgICAgIHJldHVybiB0OwogICAgfSwKICAgIGZhZGU6IGZ1bmN0aW9uIChlLCBvLCB0LCByKSB7CiAgICAgIHZhciBhID0gdGhpczsKICAgICAgaWYgKCJsb2FkZWQiICE9PSBhLl9zdGF0ZSB8fCBhLl9wbGF5TG9jaykKICAgICAgICByZXR1cm4gKAogICAgICAgICAgYS5fcXVldWUucHVzaCh7CiAgICAgICAgICAgIGV2ZW50OiAiZmFkZSIsCiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGEuZmFkZShlLCBvLCB0LCByKTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pLAogICAgICAgICAgYQogICAgICAgICk7CiAgICAgIChlID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcGFyc2VGbG9hdChlKSksIDEpKSwKICAgICAgICAobyA9IE1hdGgubWluKE1hdGgubWF4KDAsIHBhcnNlRmxvYXQobykpLCAxKSksCiAgICAgICAgKHQgPSBwYXJzZUZsb2F0KHQpKSwKICAgICAgICBhLnZvbHVtZShlLCByKTsKICAgICAgZm9yICh2YXIgdSA9IGEuX2dldFNvdW5kSWRzKHIpLCBkID0gMDsgZCA8IHUubGVuZ3RoOyBkKyspIHsKICAgICAgICB2YXIgaSA9IGEuX3NvdW5kQnlJZCh1W2RdKTsKICAgICAgICBpZiAoaSkgewogICAgICAgICAgaWYgKChyIHx8IGEuX3N0b3BGYWRlKHVbZF0pLCBhLl93ZWJBdWRpbyAmJiAhaS5fbXV0ZWQpKSB7CiAgICAgICAgICAgIHZhciBfID0gbi5jdHguY3VycmVudFRpbWUsCiAgICAgICAgICAgICAgcyA9IF8gKyB0IC8gMWUzOwogICAgICAgICAgICAoaS5fdm9sdW1lID0gZSksCiAgICAgICAgICAgICAgaS5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGUsIF8pLAogICAgICAgICAgICAgIGkuX25vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShvLCBzKTsKICAgICAgICAgIH0KICAgICAgICAgIGEuX3N0YXJ0RmFkZUludGVydmFsKGksIGUsIG8sIHQsIHVbZF0sIHZvaWQgMCA9PT0gcik7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBhOwogICAgfSwKICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24gKGUsIG4sIG8sIHQsIHIsIGEpIHsKICAgICAgdmFyIHUgPSB0aGlzLAogICAgICAgIGQgPSBuLAogICAgICAgIGkgPSBvIC0gbiwKICAgICAgICBfID0gTWF0aC5hYnMoaSAvIDAuMDEpLAogICAgICAgIHMgPSBNYXRoLm1heCg0LCBfID4gMCA/IHQgLyBfIDogdCksCiAgICAgICAgbCA9IERhdGUubm93KCk7CiAgICAgIChlLl9mYWRlVG8gPSBvKSwKICAgICAgICAoZS5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgciA9IChEYXRlLm5vdygpIC0gbCkgLyB0OwogICAgICAgICAgKGwgPSBEYXRlLm5vdygpKSwKICAgICAgICAgICAgKGQgKz0gaSAqIHIpLAogICAgICAgICAgICAoZCA9IE1hdGgucm91bmQoMTAwICogZCkgLyAxMDApLAogICAgICAgICAgICAoZCA9IGkgPCAwID8gTWF0aC5tYXgobywgZCkgOiBNYXRoLm1pbihvLCBkKSksCiAgICAgICAgICAgIHUuX3dlYkF1ZGlvID8gKGUuX3ZvbHVtZSA9IGQpIDogdS52b2x1bWUoZCwgZS5faWQsICEwKSwKICAgICAgICAgICAgYSAmJiAodS5fdm9sdW1lID0gZCksCiAgICAgICAgICAgICgobyA8IG4gJiYgZCA8PSBvKSB8fCAobyA+IG4gJiYgZCA+PSBvKSkgJiYKICAgICAgICAgICAgICAoY2xlYXJJbnRlcnZhbChlLl9pbnRlcnZhbCksCiAgICAgICAgICAgICAgKGUuX2ludGVydmFsID0gbnVsbCksCiAgICAgICAgICAgICAgKGUuX2ZhZGVUbyA9IG51bGwpLAogICAgICAgICAgICAgIHUudm9sdW1lKG8sIGUuX2lkKSwKICAgICAgICAgICAgICB1Ll9lbWl0KCJmYWRlIiwgZS5faWQpKTsKICAgICAgICB9LCBzKSk7CiAgICB9LAogICAgX3N0b3BGYWRlOiBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgbyA9IHRoaXMsCiAgICAgICAgdCA9IG8uX3NvdW5kQnlJZChlKTsKICAgICAgcmV0dXJuICgKICAgICAgICB0ICYmCiAgICAgICAgICB0Ll9pbnRlcnZhbCAmJgogICAgICAgICAgKG8uX3dlYkF1ZGlvICYmIHQuX25vZGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMobi5jdHguY3VycmVudFRpbWUpLAogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0Ll9pbnRlcnZhbCksCiAgICAgICAgICAodC5faW50ZXJ2YWwgPSBudWxsKSwKICAgICAgICAgIG8udm9sdW1lKHQuX2ZhZGVUbywgZSksCiAgICAgICAgICAodC5fZmFkZVRvID0gbnVsbCksCiAgICAgICAgICBvLl9lbWl0KCJmYWRlIiwgZSkpLAogICAgICAgIG8KICAgICAgKTsKICAgIH0sCiAgICBsb29wOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlLAogICAgICAgIG4sCiAgICAgICAgbywKICAgICAgICB0ID0gdGhpcywKICAgICAgICByID0gYXJndW1lbnRzOwogICAgICBpZiAoMCA9PT0gci5sZW5ndGgpIHJldHVybiB0Ll9sb29wOwogICAgICBpZiAoMSA9PT0gci5sZW5ndGgpIHsKICAgICAgICBpZiAoImJvb2xlYW4iICE9IHR5cGVvZiByWzBdKQogICAgICAgICAgcmV0dXJuICEhKG8gPSB0Ll9zb3VuZEJ5SWQocGFyc2VJbnQoclswXSwgMTApKSkgJiYgby5fbG9vcDsKICAgICAgICAoZSA9IHJbMF0pLCAodC5fbG9vcCA9IGUpOwogICAgICB9IGVsc2UgMiA9PT0gci5sZW5ndGggJiYgKChlID0gclswXSksIChuID0gcGFyc2VJbnQoclsxXSwgMTApKSk7CiAgICAgIGZvciAodmFyIGEgPSB0Ll9nZXRTb3VuZElkcyhuKSwgdSA9IDA7IHUgPCBhLmxlbmd0aDsgdSsrKQogICAgICAgIChvID0gdC5fc291bmRCeUlkKGFbdV0pKSAmJgogICAgICAgICAgKChvLl9sb29wID0gZSksCiAgICAgICAgICB0Ll93ZWJBdWRpbyAmJgogICAgICAgICAgICBvLl9ub2RlICYmCiAgICAgICAgICAgIG8uX25vZGUuYnVmZmVyU291cmNlICYmCiAgICAgICAgICAgICgoby5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IGUpLAogICAgICAgICAgICBlICYmCiAgICAgICAgICAgICAgKChvLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBvLl9zdGFydCB8fCAwKSwKICAgICAgICAgICAgICAoby5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IG8uX3N0b3ApLAogICAgICAgICAgICAgIHQucGxheWluZyhhW3VdKSAmJiAodC5wYXVzZShhW3VdLCAhMCksIHQucGxheShhW3VdLCAhMCkpKSkpOwogICAgICByZXR1cm4gdDsKICAgIH0sCiAgICByYXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlLAogICAgICAgIG8sCiAgICAgICAgdCA9IHRoaXMsCiAgICAgICAgciA9IGFyZ3VtZW50czsKICAgICAgaWYgKDAgPT09IHIubGVuZ3RoKSBvID0gdC5fc291bmRzWzBdLl9pZDsKICAgICAgZWxzZSBpZiAoMSA9PT0gci5sZW5ndGgpIHsKICAgICAgICB2YXIgYSA9IHQuX2dldFNvdW5kSWRzKCksCiAgICAgICAgICB1ID0gYS5pbmRleE9mKHJbMF0pOwogICAgICAgIHUgPj0gMCA/IChvID0gcGFyc2VJbnQoclswXSwgMTApKSA6IChlID0gcGFyc2VGbG9hdChyWzBdKSk7CiAgICAgIH0gZWxzZQogICAgICAgIDIgPT09IHIubGVuZ3RoICYmICgoZSA9IHBhcnNlRmxvYXQoclswXSkpLCAobyA9IHBhcnNlSW50KHJbMV0sIDEwKSkpOwogICAgICB2YXIgZDsKICAgICAgaWYgKCJudW1iZXIiICE9IHR5cGVvZiBlKQogICAgICAgIHJldHVybiAoZCA9IHQuX3NvdW5kQnlJZChvKSksIGQgPyBkLl9yYXRlIDogdC5fcmF0ZTsKICAgICAgaWYgKCJsb2FkZWQiICE9PSB0Ll9zdGF0ZSB8fCB0Ll9wbGF5TG9jaykKICAgICAgICByZXR1cm4gKAogICAgICAgICAgdC5fcXVldWUucHVzaCh7CiAgICAgICAgICAgIGV2ZW50OiAicmF0ZSIsCiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHQucmF0ZS5hcHBseSh0LCByKTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pLAogICAgICAgICAgdAogICAgICAgICk7CiAgICAgIHZvaWQgMCA9PT0gbyAmJiAodC5fcmF0ZSA9IGUpLCAobyA9IHQuX2dldFNvdW5kSWRzKG8pKTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrKQogICAgICAgIGlmICgoZCA9IHQuX3NvdW5kQnlJZChvW2ldKSkpIHsKICAgICAgICAgIHQucGxheWluZyhvW2ldKSAmJgogICAgICAgICAgICAoKGQuX3JhdGVTZWVrID0gdC5zZWVrKG9baV0pKSwKICAgICAgICAgICAgKGQuX3BsYXlTdGFydCA9IHQuX3dlYkF1ZGlvID8gbi5jdHguY3VycmVudFRpbWUgOiBkLl9wbGF5U3RhcnQpKSwKICAgICAgICAgICAgKGQuX3JhdGUgPSBlKSwKICAgICAgICAgICAgdC5fd2ViQXVkaW8gJiYgZC5fbm9kZSAmJiBkLl9ub2RlLmJ1ZmZlclNvdXJjZQogICAgICAgICAgICAgID8gZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKAogICAgICAgICAgICAgICAgICBlLAogICAgICAgICAgICAgICAgICBuLmN0eC5jdXJyZW50VGltZQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgIDogZC5fbm9kZSAmJiAoZC5fbm9kZS5wbGF5YmFja1JhdGUgPSBlKTsKICAgICAgICAgIHZhciBfID0gdC5zZWVrKG9baV0pLAogICAgICAgICAgICBzID0gKHQuX3Nwcml0ZVtkLl9zcHJpdGVdWzBdICsgdC5fc3ByaXRlW2QuX3Nwcml0ZV1bMV0pIC8gMWUzIC0gXywKICAgICAgICAgICAgbCA9ICgxZTMgKiBzKSAvIE1hdGguYWJzKGQuX3JhdGUpOwogICAgICAgICAgKCF0Ll9lbmRUaW1lcnNbb1tpXV0gJiYgZC5fcGF1c2VkKSB8fAogICAgICAgICAgICAodC5fY2xlYXJUaW1lcihvW2ldKSwKICAgICAgICAgICAgKHQuX2VuZFRpbWVyc1tvW2ldXSA9IHNldFRpbWVvdXQodC5fZW5kZWQuYmluZCh0LCBkKSwgbCkpKSwKICAgICAgICAgICAgdC5fZW1pdCgicmF0ZSIsIGQuX2lkKTsKICAgICAgICB9CiAgICAgIHJldHVybiB0OwogICAgfSwKICAgIHNlZWs6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgbywKICAgICAgICB0ID0gdGhpcywKICAgICAgICByID0gYXJndW1lbnRzOwogICAgICBpZiAoMCA9PT0gci5sZW5ndGgpIHQuX3NvdW5kcy5sZW5ndGggJiYgKG8gPSB0Ll9zb3VuZHNbMF0uX2lkKTsKICAgICAgZWxzZSBpZiAoMSA9PT0gci5sZW5ndGgpIHsKICAgICAgICB2YXIgYSA9IHQuX2dldFNvdW5kSWRzKCksCiAgICAgICAgICB1ID0gYS5pbmRleE9mKHJbMF0pOwogICAgICAgIHUgPj0gMAogICAgICAgICAgPyAobyA9IHBhcnNlSW50KHJbMF0sIDEwKSkKICAgICAgICAgIDogdC5fc291bmRzLmxlbmd0aCAmJgogICAgICAgICAgICAoKG8gPSB0Ll9zb3VuZHNbMF0uX2lkKSwgKGUgPSBwYXJzZUZsb2F0KHJbMF0pKSk7CiAgICAgIH0gZWxzZQogICAgICAgIDIgPT09IHIubGVuZ3RoICYmICgoZSA9IHBhcnNlRmxvYXQoclswXSkpLCAobyA9IHBhcnNlSW50KHJbMV0sIDEwKSkpOwogICAgICBpZiAodm9pZCAwID09PSBvKSByZXR1cm4gMDsKICAgICAgaWYgKCJudW1iZXIiID09IHR5cGVvZiBlICYmICgibG9hZGVkIiAhPT0gdC5fc3RhdGUgfHwgdC5fcGxheUxvY2spKQogICAgICAgIHJldHVybiAoCiAgICAgICAgICB0Ll9xdWV1ZS5wdXNoKHsKICAgICAgICAgICAgZXZlbnQ6ICJzZWVrIiwKICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdC5zZWVrLmFwcGx5KHQsIHIpOwogICAgICAgICAgICB9LAogICAgICAgICAgfSksCiAgICAgICAgICB0CiAgICAgICAgKTsKICAgICAgdmFyIGQgPSB0Ll9zb3VuZEJ5SWQobyk7CiAgICAgIGlmIChkKSB7CiAgICAgICAgaWYgKCEoIm51bWJlciIgPT0gdHlwZW9mIGUgJiYgZSA+PSAwKSkgewogICAgICAgICAgaWYgKHQuX3dlYkF1ZGlvKSB7CiAgICAgICAgICAgIHZhciBpID0gdC5wbGF5aW5nKG8pID8gbi5jdHguY3VycmVudFRpbWUgLSBkLl9wbGF5U3RhcnQgOiAwLAogICAgICAgICAgICAgIF8gPSBkLl9yYXRlU2VlayA/IGQuX3JhdGVTZWVrIC0gZC5fc2VlayA6IDA7CiAgICAgICAgICAgIHJldHVybiBkLl9zZWVrICsgKF8gKyBpICogTWF0aC5hYnMoZC5fcmF0ZSkpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGQuX25vZGUuY3VycmVudFRpbWU7CiAgICAgICAgfQogICAgICAgIHZhciBzID0gdC5wbGF5aW5nKG8pOwogICAgICAgIHMgJiYgdC5wYXVzZShvLCAhMCksCiAgICAgICAgICAoZC5fc2VlayA9IGUpLAogICAgICAgICAgKGQuX2VuZGVkID0gITEpLAogICAgICAgICAgdC5fY2xlYXJUaW1lcihvKSwKICAgICAgICAgIHQuX3dlYkF1ZGlvIHx8CiAgICAgICAgICAgICFkLl9ub2RlIHx8CiAgICAgICAgICAgIGlzTmFOKGQuX25vZGUuZHVyYXRpb24pIHx8CiAgICAgICAgICAgIChkLl9ub2RlLmN1cnJlbnRUaW1lID0gZSk7CiAgICAgICAgdmFyIGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzICYmIHQucGxheShvLCAhMCksIHQuX2VtaXQoInNlZWsiLCBvKTsKICAgICAgICB9OwogICAgICAgIGlmIChzICYmICF0Ll93ZWJBdWRpbykgewogICAgICAgICAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHQuX3BsYXlMb2NrID8gc2V0VGltZW91dChjLCAwKSA6IGwoKTsKICAgICAgICAgIH07CiAgICAgICAgICBzZXRUaW1lb3V0KGMsIDApOwogICAgICAgIH0gZWxzZSBsKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHQ7CiAgICB9LAogICAgcGxheWluZzogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG4gPSB0aGlzOwogICAgICBpZiAoIm51bWJlciIgPT0gdHlwZW9mIGUpIHsKICAgICAgICB2YXIgbyA9IG4uX3NvdW5kQnlJZChlKTsKICAgICAgICByZXR1cm4gISFvICYmICFvLl9wYXVzZWQ7CiAgICAgIH0KICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBuLl9zb3VuZHMubGVuZ3RoOyB0KyspCiAgICAgICAgaWYgKCFuLl9zb3VuZHNbdF0uX3BhdXNlZCkgcmV0dXJuICEwOwogICAgICByZXR1cm4gITE7CiAgICB9LAogICAgZHVyYXRpb246IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuID0gdGhpcywKICAgICAgICBvID0gbi5fZHVyYXRpb24sCiAgICAgICAgdCA9IG4uX3NvdW5kQnlJZChlKTsKICAgICAgcmV0dXJuIHQgJiYgKG8gPSBuLl9zcHJpdGVbdC5fc3ByaXRlXVsxXSAvIDFlMyksIG87CiAgICB9LAogICAgc3RhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlOwogICAgfSwKICAgIHVubG9hZDogZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBlID0gdGhpcywgbyA9IGUuX3NvdW5kcywgdCA9IDA7IHQgPCBvLmxlbmd0aDsgdCsrKQogICAgICAgIG9bdF0uX3BhdXNlZCB8fCBlLnN0b3Aob1t0XS5faWQpLAogICAgICAgICAgZS5fd2ViQXVkaW8gfHwKICAgICAgICAgICAgKGUuX2NsZWFyU291bmQob1t0XS5fbm9kZSksCiAgICAgICAgICAgIG9bdF0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCBvW3RdLl9lcnJvckZuLCAhMSksCiAgICAgICAgICAgIG9bdF0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLl9jYW5QbGF5RXZlbnQsIG9bdF0uX2xvYWRGbiwgITEpLAogICAgICAgICAgICBvW3RdLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVuZGVkIiwgb1t0XS5fZW5kRm4sICExKSwKICAgICAgICAgICAgbi5fcmVsZWFzZUh0bWw1QXVkaW8ob1t0XS5fbm9kZSkpLAogICAgICAgICAgZGVsZXRlIG9bdF0uX25vZGUsCiAgICAgICAgICBlLl9jbGVhclRpbWVyKG9bdF0uX2lkKTsKICAgICAgdmFyIGEgPSBuLl9ob3dscy5pbmRleE9mKGUpOwogICAgICBhID49IDAgJiYgbi5faG93bHMuc3BsaWNlKGEsIDEpOwogICAgICB2YXIgdSA9ICEwOwogICAgICBmb3IgKHQgPSAwOyB0IDwgbi5faG93bHMubGVuZ3RoOyB0KyspCiAgICAgICAgaWYgKAogICAgICAgICAgbi5faG93bHNbdF0uX3NyYyA9PT0gZS5fc3JjIHx8CiAgICAgICAgICBlLl9zcmMuaW5kZXhPZihuLl9ob3dsc1t0XS5fc3JjKSA+PSAwCiAgICAgICAgKSB7CiAgICAgICAgICB1ID0gITE7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIHJldHVybiAoCiAgICAgICAgciAmJiB1ICYmIGRlbGV0ZSByW2UuX3NyY10sCiAgICAgICAgKG4ubm9BdWRpbyA9ICExKSwKICAgICAgICAoZS5fc3RhdGUgPSAidW5sb2FkZWQiKSwKICAgICAgICAoZS5fc291bmRzID0gW10pLAogICAgICAgIChlID0gbnVsbCksCiAgICAgICAgbnVsbAogICAgICApOwogICAgfSwKICAgIG9uOiBmdW5jdGlvbiAoZSwgbiwgbywgdCkgewogICAgICB2YXIgciA9IHRoaXMsCiAgICAgICAgYSA9IHJbIl9vbiIgKyBlXTsKICAgICAgcmV0dXJuICgKICAgICAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBuICYmCiAgICAgICAgICBhLnB1c2godCA/IHsgaWQ6IG8sIGZuOiBuLCBvbmNlOiB0IH0gOiB7IGlkOiBvLCBmbjogbiB9KSwKICAgICAgICByCiAgICAgICk7CiAgICB9LAogICAgb2ZmOiBmdW5jdGlvbiAoZSwgbiwgbykgewogICAgICB2YXIgdCA9IHRoaXMsCiAgICAgICAgciA9IHRbIl9vbiIgKyBlXSwKICAgICAgICBhID0gMDsKICAgICAgaWYgKCgibnVtYmVyIiA9PSB0eXBlb2YgbiAmJiAoKG8gPSBuKSwgKG4gPSBudWxsKSksIG4gfHwgbykpCiAgICAgICAgZm9yIChhID0gMDsgYSA8IHIubGVuZ3RoOyBhKyspIHsKICAgICAgICAgIHZhciB1ID0gbyA9PT0gclthXS5pZDsKICAgICAgICAgIGlmICgobiA9PT0gclthXS5mbiAmJiB1KSB8fCAoIW4gJiYgdSkpIHsKICAgICAgICAgICAgci5zcGxpY2UoYSwgMSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgZWxzZSBpZiAoZSkgdFsiX29uIiArIGVdID0gW107CiAgICAgIGVsc2UgewogICAgICAgIHZhciBkID0gT2JqZWN0LmtleXModCk7CiAgICAgICAgZm9yIChhID0gMDsgYSA8IGQubGVuZ3RoOyBhKyspCiAgICAgICAgICAwID09PSBkW2FdLmluZGV4T2YoIl9vbiIpICYmIEFycmF5LmlzQXJyYXkodFtkW2FdXSkgJiYgKHRbZFthXV0gPSBbXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHQ7CiAgICB9LAogICAgb25jZTogZnVuY3Rpb24gKGUsIG4sIG8pIHsKICAgICAgdmFyIHQgPSB0aGlzOwogICAgICByZXR1cm4gdC5vbihlLCBuLCBvLCAxKSwgdDsKICAgIH0sCiAgICBfZW1pdDogZnVuY3Rpb24gKGUsIG4sIG8pIHsKICAgICAgZm9yICh2YXIgdCA9IHRoaXMsIHIgPSB0WyJfb24iICsgZV0sIGEgPSByLmxlbmd0aCAtIDE7IGEgPj0gMDsgYS0tKQogICAgICAgIChyW2FdLmlkICYmIHJbYV0uaWQgIT09IG4gJiYgImxvYWQiICE9PSBlKSB8fAogICAgICAgICAgKHNldFRpbWVvdXQoCiAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgZS5jYWxsKHRoaXMsIG4sIG8pOwogICAgICAgICAgICB9LmJpbmQodCwgclthXS5mbiksCiAgICAgICAgICAgIDAKICAgICAgICAgICksCiAgICAgICAgICByW2FdLm9uY2UgJiYgdC5vZmYoZSwgclthXS5mbiwgclthXS5pZCkpOwogICAgICByZXR1cm4gdC5fbG9hZFF1ZXVlKGUpLCB0OwogICAgfSwKICAgIF9sb2FkUXVldWU6IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuID0gdGhpczsKICAgICAgaWYgKG4uX3F1ZXVlLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgbyA9IG4uX3F1ZXVlWzBdOwogICAgICAgIG8uZXZlbnQgPT09IGUgJiYgKG4uX3F1ZXVlLnNoaWZ0KCksIG4uX2xvYWRRdWV1ZSgpKSwgZSB8fCBvLmFjdGlvbigpOwogICAgICB9CiAgICAgIHJldHVybiBuOwogICAgfSwKICAgIF9lbmRlZDogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG8gPSB0aGlzLAogICAgICAgIHQgPSBlLl9zcHJpdGU7CiAgICAgIGlmICgKICAgICAgICAhby5fd2ViQXVkaW8gJiYKICAgICAgICBlLl9ub2RlICYmCiAgICAgICAgIWUuX25vZGUucGF1c2VkICYmCiAgICAgICAgIWUuX25vZGUuZW5kZWQgJiYKICAgICAgICBlLl9ub2RlLmN1cnJlbnRUaW1lIDwgZS5fc3RvcAogICAgICApCiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoby5fZW5kZWQuYmluZChvLCBlKSwgMTAwKSwgbzsKICAgICAgdmFyIHIgPSAhKCFlLl9sb29wICYmICFvLl9zcHJpdGVbdF1bMl0pOwogICAgICBpZiAoCiAgICAgICAgKG8uX2VtaXQoImVuZCIsIGUuX2lkKSwKICAgICAgICAhby5fd2ViQXVkaW8gJiYgciAmJiBvLnN0b3AoZS5faWQsICEwKS5wbGF5KGUuX2lkKSwKICAgICAgICBvLl93ZWJBdWRpbyAmJiByKQogICAgICApIHsKICAgICAgICBvLl9lbWl0KCJwbGF5IiwgZS5faWQpLAogICAgICAgICAgKGUuX3NlZWsgPSBlLl9zdGFydCB8fCAwKSwKICAgICAgICAgIChlLl9yYXRlU2VlayA9IDApLAogICAgICAgICAgKGUuX3BsYXlTdGFydCA9IG4uY3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICB2YXIgYSA9ICgxZTMgKiAoZS5fc3RvcCAtIGUuX3N0YXJ0KSkgLyBNYXRoLmFicyhlLl9yYXRlKTsKICAgICAgICBvLl9lbmRUaW1lcnNbZS5faWRdID0gc2V0VGltZW91dChvLl9lbmRlZC5iaW5kKG8sIGUpLCBhKTsKICAgICAgfQogICAgICByZXR1cm4gKAogICAgICAgIG8uX3dlYkF1ZGlvICYmCiAgICAgICAgICAhciAmJgogICAgICAgICAgKChlLl9wYXVzZWQgPSAhMCksCiAgICAgICAgICAoZS5fZW5kZWQgPSAhMCksCiAgICAgICAgICAoZS5fc2VlayA9IGUuX3N0YXJ0IHx8IDApLAogICAgICAgICAgKGUuX3JhdGVTZWVrID0gMCksCiAgICAgICAgICBvLl9jbGVhclRpbWVyKGUuX2lkKSwKICAgICAgICAgIG8uX2NsZWFuQnVmZmVyKGUuX25vZGUpLAogICAgICAgICAgbi5fYXV0b1N1c3BlbmQoKSksCiAgICAgICAgby5fd2ViQXVkaW8gfHwgciB8fCBvLnN0b3AoZS5faWQsICEwKSwKICAgICAgICBvCiAgICAgICk7CiAgICB9LAogICAgX2NsZWFyVGltZXI6IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuID0gdGhpczsKICAgICAgaWYgKG4uX2VuZFRpbWVyc1tlXSkgewogICAgICAgIGlmICgiZnVuY3Rpb24iICE9IHR5cGVvZiBuLl9lbmRUaW1lcnNbZV0pIGNsZWFyVGltZW91dChuLl9lbmRUaW1lcnNbZV0pOwogICAgICAgIGVsc2UgewogICAgICAgICAgdmFyIG8gPSBuLl9zb3VuZEJ5SWQoZSk7CiAgICAgICAgICBvICYmCiAgICAgICAgICAgIG8uX25vZGUgJiYKICAgICAgICAgICAgby5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCJlbmRlZCIsIG4uX2VuZFRpbWVyc1tlXSwgITEpOwogICAgICAgIH0KICAgICAgICBkZWxldGUgbi5fZW5kVGltZXJzW2VdOwogICAgICB9CiAgICAgIHJldHVybiBuOwogICAgfSwKICAgIF9zb3VuZEJ5SWQ6IGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIG4gPSB0aGlzLCBvID0gMDsgbyA8IG4uX3NvdW5kcy5sZW5ndGg7IG8rKykKICAgICAgICBpZiAoZSA9PT0gbi5fc291bmRzW29dLl9pZCkgcmV0dXJuIG4uX3NvdW5kc1tvXTsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSB0aGlzOwogICAgICBlLl9kcmFpbigpOwogICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGUuX3NvdW5kcy5sZW5ndGg7IG4rKykKICAgICAgICBpZiAoZS5fc291bmRzW25dLl9lbmRlZCkgcmV0dXJuIGUuX3NvdW5kc1tuXS5yZXNldCgpOwogICAgICByZXR1cm4gbmV3IHQoZSk7CiAgICB9LAogICAgX2RyYWluOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gdGhpcywKICAgICAgICBuID0gZS5fcG9vbCwKICAgICAgICBvID0gMCwKICAgICAgICB0ID0gMDsKICAgICAgaWYgKCEoZS5fc291bmRzLmxlbmd0aCA8IG4pKSB7CiAgICAgICAgZm9yICh0ID0gMDsgdCA8IGUuX3NvdW5kcy5sZW5ndGg7IHQrKykgZS5fc291bmRzW3RdLl9lbmRlZCAmJiBvKys7CiAgICAgICAgZm9yICh0ID0gZS5fc291bmRzLmxlbmd0aCAtIDE7IHQgPj0gMDsgdC0tKSB7CiAgICAgICAgICBpZiAobyA8PSBuKSByZXR1cm47CiAgICAgICAgICBlLl9zb3VuZHNbdF0uX2VuZGVkICYmCiAgICAgICAgICAgIChlLl93ZWJBdWRpbyAmJgogICAgICAgICAgICAgIGUuX3NvdW5kc1t0XS5fbm9kZSAmJgogICAgICAgICAgICAgIGUuX3NvdW5kc1t0XS5fbm9kZS5kaXNjb25uZWN0KDApLAogICAgICAgICAgICBlLl9zb3VuZHMuc3BsaWNlKHQsIDEpLAogICAgICAgICAgICBvLS0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIF9nZXRTb3VuZElkczogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG4gPSB0aGlzOwogICAgICBpZiAodm9pZCAwID09PSBlKSB7CiAgICAgICAgZm9yICh2YXIgbyA9IFtdLCB0ID0gMDsgdCA8IG4uX3NvdW5kcy5sZW5ndGg7IHQrKykKICAgICAgICAgIG8ucHVzaChuLl9zb3VuZHNbdF0uX2lkKTsKICAgICAgICByZXR1cm4gbzsKICAgICAgfQogICAgICByZXR1cm4gW2VdOwogICAgfSwKICAgIF9yZWZyZXNoQnVmZmVyOiBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgbyA9IHRoaXM7CiAgICAgIHJldHVybiAoCiAgICAgICAgKGUuX25vZGUuYnVmZmVyU291cmNlID0gbi5jdHguY3JlYXRlQnVmZmVyU291cmNlKCkpLAogICAgICAgIChlLl9ub2RlLmJ1ZmZlclNvdXJjZS5idWZmZXIgPSByW28uX3NyY10pLAogICAgICAgIGUuX3Bhbm5lcgogICAgICAgICAgPyBlLl9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KGUuX3Bhbm5lcikKICAgICAgICAgIDogZS5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChlLl9ub2RlKSwKICAgICAgICAoZS5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IGUuX2xvb3ApLAogICAgICAgIGUuX2xvb3AgJiYKICAgICAgICAgICgoZS5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0ID0gZS5fc3RhcnQgfHwgMCksCiAgICAgICAgICAoZS5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IGUuX3N0b3AgfHwgMCkpLAogICAgICAgIGUuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZSgKICAgICAgICAgIGUuX3JhdGUsCiAgICAgICAgICBuLmN0eC5jdXJyZW50VGltZQogICAgICAgICksCiAgICAgICAgbwogICAgICApOwogICAgfSwKICAgIF9jbGVhbkJ1ZmZlcjogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG8gPSB0aGlzLAogICAgICAgIHQgPSBuLl9uYXZpZ2F0b3IgJiYgbi5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCJBcHBsZSIpID49IDA7CiAgICAgIGlmICgKICAgICAgICBuLl9zY3JhdGNoQnVmZmVyICYmCiAgICAgICAgZS5idWZmZXJTb3VyY2UgJiYKICAgICAgICAoKGUuYnVmZmVyU291cmNlLm9uZW5kZWQgPSBudWxsKSwgZS5idWZmZXJTb3VyY2UuZGlzY29ubmVjdCgwKSwgdCkKICAgICAgKQogICAgICAgIHRyeSB7CiAgICAgICAgICBlLmJ1ZmZlclNvdXJjZS5idWZmZXIgPSBuLl9zY3JhdGNoQnVmZmVyOwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIHJldHVybiAoZS5idWZmZXJTb3VyY2UgPSBudWxsKSwgbzsKICAgIH0sCiAgICBfY2xlYXJTb3VuZDogZnVuY3Rpb24gKGUpIHsKICAgICAgL01TSUUgfFRyaWRlbnRcLy8udGVzdChuLl9uYXZpZ2F0b3IgJiYgbi5fbmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwKICAgICAgICAoZS5zcmMgPQogICAgICAgICAgImRhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBIik7CiAgICB9LAogIH07CiAgdmFyIHQgPSBmdW5jdGlvbiAoZSkgewogICAgKHRoaXMuX3BhcmVudCA9IGUpLCB0aGlzLmluaXQoKTsKICB9OwogIHQucHJvdG90eXBlID0gewogICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgbyA9IGUuX3BhcmVudDsKICAgICAgcmV0dXJuICgKICAgICAgICAoZS5fbXV0ZWQgPSBvLl9tdXRlZCksCiAgICAgICAgKGUuX2xvb3AgPSBvLl9sb29wKSwKICAgICAgICAoZS5fdm9sdW1lID0gby5fdm9sdW1lKSwKICAgICAgICAoZS5fcmF0ZSA9IG8uX3JhdGUpLAogICAgICAgIChlLl9zZWVrID0gMCksCiAgICAgICAgKGUuX3BhdXNlZCA9ICEwKSwKICAgICAgICAoZS5fZW5kZWQgPSAhMCksCiAgICAgICAgKGUuX3Nwcml0ZSA9ICJfX2RlZmF1bHQiKSwKICAgICAgICAoZS5faWQgPSArK24uX2NvdW50ZXIpLAogICAgICAgIG8uX3NvdW5kcy5wdXNoKGUpLAogICAgICAgIGUuY3JlYXRlKCksCiAgICAgICAgZQogICAgICApOwogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgbyA9IGUuX3BhcmVudCwKICAgICAgICB0ID0gbi5fbXV0ZWQgfHwgZS5fbXV0ZWQgfHwgZS5fcGFyZW50Ll9tdXRlZCA/IDAgOiBlLl92b2x1bWU7CiAgICAgIHJldHVybiAoCiAgICAgICAgby5fd2ViQXVkaW8KICAgICAgICAgID8gKChlLl9ub2RlID0KICAgICAgICAgICAgICB2b2lkIDAgPT09IG4uY3R4LmNyZWF0ZUdhaW4KICAgICAgICAgICAgICAgID8gbi5jdHguY3JlYXRlR2Fpbk5vZGUoKQogICAgICAgICAgICAgICAgOiBuLmN0eC5jcmVhdGVHYWluKCkpLAogICAgICAgICAgICBlLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodCwgbi5jdHguY3VycmVudFRpbWUpLAogICAgICAgICAgICAoZS5fbm9kZS5wYXVzZWQgPSAhMCksCiAgICAgICAgICAgIGUuX25vZGUuY29ubmVjdChuLm1hc3RlckdhaW4pKQogICAgICAgICAgOiBuLm5vQXVkaW8gfHwKICAgICAgICAgICAgKChlLl9ub2RlID0gbi5fb2J0YWluSHRtbDVBdWRpbygpKSwKICAgICAgICAgICAgKGUuX2Vycm9yRm4gPSBlLl9lcnJvckxpc3RlbmVyLmJpbmQoZSkpLAogICAgICAgICAgICBlLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwgZS5fZXJyb3JGbiwgITEpLAogICAgICAgICAgICAoZS5fbG9hZEZuID0gZS5fbG9hZExpc3RlbmVyLmJpbmQoZSkpLAogICAgICAgICAgICBlLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIobi5fY2FuUGxheUV2ZW50LCBlLl9sb2FkRm4sICExKSwKICAgICAgICAgICAgKGUuX2VuZEZuID0gZS5fZW5kTGlzdGVuZXIuYmluZChlKSksCiAgICAgICAgICAgIGUuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcigiZW5kZWQiLCBlLl9lbmRGbiwgITEpLAogICAgICAgICAgICAoZS5fbm9kZS5zcmMgPSBvLl9zcmMpLAogICAgICAgICAgICAoZS5fbm9kZS5wcmVsb2FkID0gITAgPT09IG8uX3ByZWxvYWQgPyAiYXV0byIgOiBvLl9wcmVsb2FkKSwKICAgICAgICAgICAgKGUuX25vZGUudm9sdW1lID0gdCAqIG4udm9sdW1lKCkpLAogICAgICAgICAgICBlLl9ub2RlLmxvYWQoKSksCiAgICAgICAgZQogICAgICApOwogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gdGhpcywKICAgICAgICBvID0gZS5fcGFyZW50OwogICAgICByZXR1cm4gKAogICAgICAgIChlLl9tdXRlZCA9IG8uX211dGVkKSwKICAgICAgICAoZS5fbG9vcCA9IG8uX2xvb3ApLAogICAgICAgIChlLl92b2x1bWUgPSBvLl92b2x1bWUpLAogICAgICAgIChlLl9yYXRlID0gby5fcmF0ZSksCiAgICAgICAgKGUuX3NlZWsgPSAwKSwKICAgICAgICAoZS5fcmF0ZVNlZWsgPSAwKSwKICAgICAgICAoZS5fcGF1c2VkID0gITApLAogICAgICAgIChlLl9lbmRlZCA9ICEwKSwKICAgICAgICAoZS5fc3ByaXRlID0gIl9fZGVmYXVsdCIpLAogICAgICAgIChlLl9pZCA9ICsrbi5fY291bnRlciksCiAgICAgICAgZQogICAgICApOwogICAgfSwKICAgIF9lcnJvckxpc3RlbmVyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gdGhpczsKICAgICAgZS5fcGFyZW50Ll9lbWl0KAogICAgICAgICJsb2FkZXJyb3IiLAogICAgICAgIGUuX2lkLAogICAgICAgIGUuX25vZGUuZXJyb3IgPyBlLl9ub2RlLmVycm9yLmNvZGUgOiAwCiAgICAgICksCiAgICAgICAgZS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsIGUuX2Vycm9yRm4sICExKTsKICAgIH0sCiAgICBfbG9hZExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gdGhpcywKICAgICAgICBvID0gZS5fcGFyZW50OwogICAgICAoby5fZHVyYXRpb24gPSBNYXRoLmNlaWwoMTAgKiBlLl9ub2RlLmR1cmF0aW9uKSAvIDEwKSwKICAgICAgICAwID09PSBPYmplY3Qua2V5cyhvLl9zcHJpdGUpLmxlbmd0aCAmJgogICAgICAgICAgKG8uX3Nwcml0ZSA9IHsgX19kZWZhdWx0OiBbMCwgMWUzICogby5fZHVyYXRpb25dIH0pLAogICAgICAgICJsb2FkZWQiICE9PSBvLl9zdGF0ZSAmJgogICAgICAgICAgKChvLl9zdGF0ZSA9ICJsb2FkZWQiKSwgby5fZW1pdCgibG9hZCIpLCBvLl9sb2FkUXVldWUoKSksCiAgICAgICAgZS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG4uX2NhblBsYXlFdmVudCwgZS5fbG9hZEZuLCAhMSk7CiAgICB9LAogICAgX2VuZExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gdGhpcywKICAgICAgICBuID0gZS5fcGFyZW50OwogICAgICBuLl9kdXJhdGlvbiA9PT0gMSAvIDAgJiYKICAgICAgICAoKG4uX2R1cmF0aW9uID0gTWF0aC5jZWlsKDEwICogZS5fbm9kZS5kdXJhdGlvbikgLyAxMCksCiAgICAgICAgbi5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9PT0gMSAvIDAgJiYKICAgICAgICAgIChuLl9zcHJpdGUuX19kZWZhdWx0WzFdID0gMWUzICogbi5fZHVyYXRpb24pLAogICAgICAgIG4uX2VuZGVkKGUpKSwKICAgICAgICBlLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVuZGVkIiwgZS5fZW5kRm4sICExKTsKICAgIH0sCiAgfTsKICB2YXIgciA9IHt9LAogICAgYSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuID0gZS5fc3JjOwogICAgICBpZiAocltuXSkgcmV0dXJuIChlLl9kdXJhdGlvbiA9IHJbbl0uZHVyYXRpb24pLCB2b2lkIGkoZSk7CiAgICAgIGlmICgvXmRhdGE6W147XSs7YmFzZTY0LC8udGVzdChuKSkgewogICAgICAgIGZvciAoCiAgICAgICAgICB2YXIgbyA9IGF0b2Iobi5zcGxpdCgiLCIpWzFdKSwgdCA9IG5ldyBVaW50OEFycmF5KG8ubGVuZ3RoKSwgYSA9IDA7CiAgICAgICAgICBhIDwgby5sZW5ndGg7CiAgICAgICAgICArK2EKICAgICAgICApCiAgICAgICAgICB0W2FdID0gby5jaGFyQ29kZUF0KGEpOwogICAgICAgIGQodC5idWZmZXIsIGUpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgXy5vcGVuKGUuX3hoci5tZXRob2QsIG4sICEwKSwKICAgICAgICAgIChfLndpdGhDcmVkZW50aWFscyA9IGUuX3hoci53aXRoQ3JlZGVudGlhbHMpLAogICAgICAgICAgKF8ucmVzcG9uc2VUeXBlID0gImFycmF5YnVmZmVyIiksCiAgICAgICAgICBlLl94aHIuaGVhZGVycyAmJgogICAgICAgICAgICBPYmplY3Qua2V5cyhlLl94aHIuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgIF8uc2V0UmVxdWVzdEhlYWRlcihuLCBlLl94aHIuaGVhZGVyc1tuXSk7CiAgICAgICAgICAgIH0pLAogICAgICAgICAgKF8ub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbiA9IChfLnN0YXR1cyArICIiKVswXTsKICAgICAgICAgICAgaWYgKCIwIiAhPT0gbiAmJiAiMiIgIT09IG4gJiYgIjMiICE9PSBuKQogICAgICAgICAgICAgIHJldHVybiB2b2lkIGUuX2VtaXQoCiAgICAgICAgICAgICAgICAibG9hZGVycm9yIiwKICAgICAgICAgICAgICAgIG51bGwsCiAgICAgICAgICAgICAgICAiRmFpbGVkIGxvYWRpbmcgYXVkaW8gZmlsZSB3aXRoIHN0YXR1czogIiArIF8uc3RhdHVzICsgIi4iCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgZChfLnJlc3BvbnNlLCBlKTsKICAgICAgICAgIH0pLAogICAgICAgICAgKF8ub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZS5fd2ViQXVkaW8gJiYKICAgICAgICAgICAgICAoKGUuX2h0bWw1ID0gITApLAogICAgICAgICAgICAgIChlLl93ZWJBdWRpbyA9ICExKSwKICAgICAgICAgICAgICAoZS5fc291bmRzID0gW10pLAogICAgICAgICAgICAgIGRlbGV0ZSByW25dLAogICAgICAgICAgICAgIGUubG9hZCgpKTsKICAgICAgICAgIH0pLAogICAgICAgICAgdShfKTsKICAgICAgfQogICAgfSwKICAgIHUgPSBmdW5jdGlvbiAoZSkgewogICAgICB0cnkgewogICAgICAgIGUuc2VuZCgpOwogICAgICB9IGNhdGNoIChuKSB7CiAgICAgICAgZS5vbmVycm9yKCk7CiAgICAgIH0KICAgIH0sCiAgICBkID0gZnVuY3Rpb24gKGUsIG8pIHsKICAgICAgdmFyIHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBvLl9lbWl0KCJsb2FkZXJyb3IiLCBudWxsLCAiRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuIik7CiAgICAgICAgfSwKICAgICAgICBhID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUgJiYgby5fc291bmRzLmxlbmd0aCA+IDAgPyAoKHJbby5fc3JjXSA9IGUpLCBpKG8sIGUpKSA6IHQoKTsKICAgICAgICB9OwogICAgICAidW5kZWZpbmVkIiAhPSB0eXBlb2YgUHJvbWlzZSAmJiAxID09PSBuLmN0eC5kZWNvZGVBdWRpb0RhdGEubGVuZ3RoCiAgICAgICAgPyBuLmN0eC5kZWNvZGVBdWRpb0RhdGEoZSkudGhlbihhKS5jYXRjaCh0KQogICAgICAgIDogbi5jdHguZGVjb2RlQXVkaW9EYXRhKGUsIGEsIHQpOwogICAgfSwKICAgIGkgPSBmdW5jdGlvbiAoZSwgbikgewogICAgICBuICYmICFlLl9kdXJhdGlvbiAmJiAoZS5fZHVyYXRpb24gPSBuLmR1cmF0aW9uKSwKICAgICAgICAwID09PSBPYmplY3Qua2V5cyhlLl9zcHJpdGUpLmxlbmd0aCAmJgogICAgICAgICAgKGUuX3Nwcml0ZSA9IHsgX19kZWZhdWx0OiBbMCwgMWUzICogZS5fZHVyYXRpb25dIH0pLAogICAgICAgICJsb2FkZWQiICE9PSBlLl9zdGF0ZSAmJgogICAgICAgICAgKChlLl9zdGF0ZSA9ICJsb2FkZWQiKSwgZS5fZW1pdCgibG9hZCIpLCBlLl9sb2FkUXVldWUoKSk7CiAgICB9LAogICAgXyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKG4udXNpbmdXZWJBdWRpbykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAidW5kZWZpbmVkIiAhPSB0eXBlb2YgQXVkaW9Db250ZXh0CiAgICAgICAgICAgID8gKG4uY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpKQogICAgICAgICAgICA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiB3ZWJraXRBdWRpb0NvbnRleHQKICAgICAgICAgICAgPyAobi5jdHggPSBuZXcgd2Via2l0QXVkaW9Db250ZXh0KCkpCiAgICAgICAgICAgIDogKG4udXNpbmdXZWJBdWRpbyA9ICExKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBuLnVzaW5nV2ViQXVkaW8gPSAhMTsKICAgICAgICB9CiAgICAgICAgbi5jdHggfHwgKG4udXNpbmdXZWJBdWRpbyA9ICExKTsKICAgICAgICB2YXIgZSA9IC9pUChob25lfG9kfGFkKS8udGVzdChuLl9uYXZpZ2F0b3IgJiYgbi5fbmF2aWdhdG9yLnBsYXRmb3JtKSwKICAgICAgICAgIG8gPQogICAgICAgICAgICBuLl9uYXZpZ2F0b3IgJiYKICAgICAgICAgICAgbi5fbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcZCspXyhcZCspXz8oXGQrKT8vKSwKICAgICAgICAgIHQgPSBvID8gcGFyc2VJbnQob1sxXSwgMTApIDogbnVsbDsKICAgICAgICBpZiAoZSAmJiB0ICYmIHQgPCA5KSB7CiAgICAgICAgICB2YXIgciA9IC9zYWZhcmkvLnRlc3QoCiAgICAgICAgICAgIG4uX25hdmlnYXRvciAmJiBuLl9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkKICAgICAgICAgICk7CiAgICAgICAgICBuLl9uYXZpZ2F0b3IgJiYgIXIgJiYgKG4udXNpbmdXZWJBdWRpbyA9ICExKTsKICAgICAgICB9CiAgICAgICAgbi51c2luZ1dlYkF1ZGlvICYmCiAgICAgICAgICAoKG4ubWFzdGVyR2FpbiA9CiAgICAgICAgICAgIHZvaWQgMCA9PT0gbi5jdHguY3JlYXRlR2FpbgogICAgICAgICAgICAgID8gbi5jdHguY3JlYXRlR2Fpbk5vZGUoKQogICAgICAgICAgICAgIDogbi5jdHguY3JlYXRlR2FpbigpKSwKICAgICAgICAgIG4ubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKAogICAgICAgICAgICBuLl9tdXRlZCA/IDAgOiBuLl92b2x1bWUsCiAgICAgICAgICAgIG4uY3R4LmN1cnJlbnRUaW1lCiAgICAgICAgICApLAogICAgICAgICAgbi5tYXN0ZXJHYWluLmNvbm5lY3Qobi5jdHguZGVzdGluYXRpb24pKSwKICAgICAgICAgIG4uX3NldHVwKCk7CiAgICAgIH0KICAgIH07CiAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmCiAgICBkZWZpbmUuYW1kICYmCiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHsgSG93bGVyOiBuLCBIb3dsOiBvIH07CiAgICB9KSwKICAgICJ1bmRlZmluZWQiICE9IHR5cGVvZiBleHBvcnRzICYmICgoZXhwb3J0cy5Ib3dsZXIgPSBuKSwgKGV4cG9ydHMuSG93bCA9IG8pKSwKICAgICJ1bmRlZmluZWQiICE9IHR5cGVvZiBnbG9iYWwKICAgICAgPyAoKGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBlKSwKICAgICAgICAoZ2xvYmFsLkhvd2xlciA9IG4pLAogICAgICAgIChnbG9iYWwuSG93bCA9IG8pLAogICAgICAgIChnbG9iYWwuU291bmQgPSB0KSkKICAgICAgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ICYmCiAgICAgICAgKCh3aW5kb3cuSG93bGVyR2xvYmFsID0gZSksCiAgICAgICAgKHdpbmRvdy5Ib3dsZXIgPSBuKSwKICAgICAgICAod2luZG93Lkhvd2wgPSBvKSwKICAgICAgICAod2luZG93LlNvdW5kID0gdCkpOwp9KSgpOwovKiEgU3BhdGlhbCBQbHVnaW4gKi8KIShmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwogIChIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9wb3MgPSBbMCwgMCwgMF0pLAogICAgKEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX29yaWVudGF0aW9uID0gWzAsIDAsIC0xLCAwLCAxLCAwXSksCiAgICAoSG93bGVyR2xvYmFsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgbiA9IHRoaXM7CiAgICAgIGlmICghbi5jdHggfHwgIW4uY3R4Lmxpc3RlbmVyKSByZXR1cm4gbjsKICAgICAgZm9yICh2YXIgdCA9IG4uX2hvd2xzLmxlbmd0aCAtIDE7IHQgPj0gMDsgdC0tKSBuLl9ob3dsc1t0XS5zdGVyZW8oZSk7CiAgICAgIHJldHVybiBuOwogICAgfSksCiAgICAoSG93bGVyR2xvYmFsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbiAoZSwgbiwgdCkgewogICAgICB2YXIgciA9IHRoaXM7CiAgICAgIHJldHVybiByLmN0eCAmJiByLmN0eC5saXN0ZW5lcgogICAgICAgID8gKChuID0gIm51bWJlciIgIT0gdHlwZW9mIG4gPyByLl9wb3NbMV0gOiBuKSwKICAgICAgICAgICh0ID0gIm51bWJlciIgIT0gdHlwZW9mIHQgPyByLl9wb3NbMl0gOiB0KSwKICAgICAgICAgICJudW1iZXIiICE9IHR5cGVvZiBlCiAgICAgICAgICAgID8gci5fcG9zCiAgICAgICAgICAgIDogKChyLl9wb3MgPSBbZSwgbiwgdF0pLAogICAgICAgICAgICAgIHZvaWQgMCAhPT0gci5jdHgubGlzdGVuZXIucG9zaXRpb25YCiAgICAgICAgICAgICAgICA/IChyLmN0eC5saXN0ZW5lci5wb3NpdGlvblguc2V0VGFyZ2V0QXRUaW1lKAogICAgICAgICAgICAgICAgICAgIHIuX3Bvc1swXSwKICAgICAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLAogICAgICAgICAgICAgICAgICAgIDAuMQogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICByLmN0eC5saXN0ZW5lci5wb3NpdGlvblkuc2V0VGFyZ2V0QXRUaW1lKAogICAgICAgICAgICAgICAgICAgIHIuX3Bvc1sxXSwKICAgICAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLAogICAgICAgICAgICAgICAgICAgIDAuMQogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICByLmN0eC5saXN0ZW5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKAogICAgICAgICAgICAgICAgICAgIHIuX3Bvc1syXSwKICAgICAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLAogICAgICAgICAgICAgICAgICAgIDAuMQogICAgICAgICAgICAgICAgICApKQogICAgICAgICAgICAgICAgOiByLmN0eC5saXN0ZW5lci5zZXRQb3NpdGlvbihyLl9wb3NbMF0sIHIuX3Bvc1sxXSwgci5fcG9zWzJdKSwKICAgICAgICAgICAgICByKSkKICAgICAgICA6IHI7CiAgICB9KSwKICAgIChIb3dsZXJHbG9iYWwucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24gKGUsIG4sIHQsIHIsIG8sIGkpIHsKICAgICAgdmFyIGEgPSB0aGlzOwogICAgICBpZiAoIWEuY3R4IHx8ICFhLmN0eC5saXN0ZW5lcikgcmV0dXJuIGE7CiAgICAgIHZhciBzID0gYS5fb3JpZW50YXRpb247CiAgICAgIHJldHVybiAoCiAgICAgICAgKG4gPSAibnVtYmVyIiAhPSB0eXBlb2YgbiA/IHNbMV0gOiBuKSwKICAgICAgICAodCA9ICJudW1iZXIiICE9IHR5cGVvZiB0ID8gc1syXSA6IHQpLAogICAgICAgIChyID0gIm51bWJlciIgIT0gdHlwZW9mIHIgPyBzWzNdIDogciksCiAgICAgICAgKG8gPSAibnVtYmVyIiAhPSB0eXBlb2YgbyA/IHNbNF0gOiBvKSwKICAgICAgICAoaSA9ICJudW1iZXIiICE9IHR5cGVvZiBpID8gc1s1XSA6IGkpLAogICAgICAgICJudW1iZXIiICE9IHR5cGVvZiBlCiAgICAgICAgICA/IHMKICAgICAgICAgIDogKChhLl9vcmllbnRhdGlvbiA9IFtlLCBuLCB0LCByLCBvLCBpXSksCiAgICAgICAgICAgIHZvaWQgMCAhPT0gYS5jdHgubGlzdGVuZXIuZm9yd2FyZFgKICAgICAgICAgICAgICA/IChhLmN0eC5saXN0ZW5lci5mb3J3YXJkWC5zZXRUYXJnZXRBdFRpbWUoCiAgICAgICAgICAgICAgICAgIGUsCiAgICAgICAgICAgICAgICAgIEhvd2xlci5jdHguY3VycmVudFRpbWUsCiAgICAgICAgICAgICAgICAgIDAuMQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGEuY3R4Lmxpc3RlbmVyLmZvcndhcmRZLnNldFRhcmdldEF0VGltZSgKICAgICAgICAgICAgICAgICAgbiwKICAgICAgICAgICAgICAgICAgSG93bGVyLmN0eC5jdXJyZW50VGltZSwKICAgICAgICAgICAgICAgICAgMC4xCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgYS5jdHgubGlzdGVuZXIuZm9yd2FyZFouc2V0VGFyZ2V0QXRUaW1lKAogICAgICAgICAgICAgICAgICB0LAogICAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLAogICAgICAgICAgICAgICAgICAwLjEKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBhLmN0eC5saXN0ZW5lci51cFguc2V0VGFyZ2V0QXRUaW1lKAogICAgICAgICAgICAgICAgICByLAogICAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLAogICAgICAgICAgICAgICAgICAwLjEKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBhLmN0eC5saXN0ZW5lci51cFkuc2V0VGFyZ2V0QXRUaW1lKAogICAgICAgICAgICAgICAgICBvLAogICAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLAogICAgICAgICAgICAgICAgICAwLjEKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBhLmN0eC5saXN0ZW5lci51cFouc2V0VGFyZ2V0QXRUaW1lKAogICAgICAgICAgICAgICAgICBpLAogICAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLAogICAgICAgICAgICAgICAgICAwLjEKICAgICAgICAgICAgICAgICkpCiAgICAgICAgICAgICAgOiBhLmN0eC5saXN0ZW5lci5zZXRPcmllbnRhdGlvbihlLCBuLCB0LCByLCBvLCBpKSwKICAgICAgICAgICAgYSkKICAgICAgKTsKICAgIH0pLAogICAgKEhvd2wucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuKSB7CiAgICAgICAgdmFyIHQgPSB0aGlzOwogICAgICAgIHJldHVybiAoCiAgICAgICAgICAodC5fb3JpZW50YXRpb24gPSBuLm9yaWVudGF0aW9uIHx8IFsxLCAwLCAwXSksCiAgICAgICAgICAodC5fc3RlcmVvID0gbi5zdGVyZW8gfHwgbnVsbCksCiAgICAgICAgICAodC5fcG9zID0gbi5wb3MgfHwgbnVsbCksCiAgICAgICAgICAodC5fcGFubmVyQXR0ciA9IHsKICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6CiAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLmNvbmVJbm5lckFuZ2xlID8gbi5jb25lSW5uZXJBbmdsZSA6IDM2MCwKICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6CiAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLmNvbmVPdXRlckFuZ2xlID8gbi5jb25lT3V0ZXJBbmdsZSA6IDM2MCwKICAgICAgICAgICAgY29uZU91dGVyR2Fpbjogdm9pZCAwICE9PSBuLmNvbmVPdXRlckdhaW4gPyBuLmNvbmVPdXRlckdhaW4gOiAwLAogICAgICAgICAgICBkaXN0YW5jZU1vZGVsOgogICAgICAgICAgICAgIHZvaWQgMCAhPT0gbi5kaXN0YW5jZU1vZGVsID8gbi5kaXN0YW5jZU1vZGVsIDogImludmVyc2UiLAogICAgICAgICAgICBtYXhEaXN0YW5jZTogdm9pZCAwICE9PSBuLm1heERpc3RhbmNlID8gbi5tYXhEaXN0YW5jZSA6IDFlNCwKICAgICAgICAgICAgcGFubmluZ01vZGVsOiB2b2lkIDAgIT09IG4ucGFubmluZ01vZGVsID8gbi5wYW5uaW5nTW9kZWwgOiAiSFJURiIsCiAgICAgICAgICAgIHJlZkRpc3RhbmNlOiB2b2lkIDAgIT09IG4ucmVmRGlzdGFuY2UgPyBuLnJlZkRpc3RhbmNlIDogMSwKICAgICAgICAgICAgcm9sbG9mZkZhY3Rvcjogdm9pZCAwICE9PSBuLnJvbGxvZmZGYWN0b3IgPyBuLnJvbGxvZmZGYWN0b3IgOiAxLAogICAgICAgICAgfSksCiAgICAgICAgICAodC5fb25zdGVyZW8gPSBuLm9uc3RlcmVvID8gW3sgZm46IG4ub25zdGVyZW8gfV0gOiBbXSksCiAgICAgICAgICAodC5fb25wb3MgPSBuLm9ucG9zID8gW3sgZm46IG4ub25wb3MgfV0gOiBbXSksCiAgICAgICAgICAodC5fb25vcmllbnRhdGlvbiA9IG4ub25vcmllbnRhdGlvbiA/IFt7IGZuOiBuLm9ub3JpZW50YXRpb24gfV0gOiBbXSksCiAgICAgICAgICBlLmNhbGwodGhpcywgbikKICAgICAgICApOwogICAgICB9OwogICAgfSkoSG93bC5wcm90b3R5cGUuaW5pdCkpLAogICAgKEhvd2wucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uIChuLCB0KSB7CiAgICAgIHZhciByID0gdGhpczsKICAgICAgaWYgKCFyLl93ZWJBdWRpbykgcmV0dXJuIHI7CiAgICAgIGlmICgibG9hZGVkIiAhPT0gci5fc3RhdGUpCiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIHIuX3F1ZXVlLnB1c2goewogICAgICAgICAgICBldmVudDogInN0ZXJlbyIsCiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHIuc3RlcmVvKG4sIHQpOwogICAgICAgICAgICB9LAogICAgICAgICAgfSksCiAgICAgICAgICByCiAgICAgICAgKTsKICAgICAgdmFyIG8gPSB2b2lkIDAgPT09IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyID8gInNwYXRpYWwiIDogInN0ZXJlbyI7CiAgICAgIGlmICh2b2lkIDAgPT09IHQpIHsKICAgICAgICBpZiAoIm51bWJlciIgIT0gdHlwZW9mIG4pIHJldHVybiByLl9zdGVyZW87CiAgICAgICAgKHIuX3N0ZXJlbyA9IG4pLCAoci5fcG9zID0gW24sIDAsIDBdKTsKICAgICAgfQogICAgICBmb3IgKHZhciBpID0gci5fZ2V0U291bmRJZHModCksIGEgPSAwOyBhIDwgaS5sZW5ndGg7IGErKykgewogICAgICAgIHZhciBzID0gci5fc291bmRCeUlkKGlbYV0pOwogICAgICAgIGlmIChzKSB7CiAgICAgICAgICBpZiAoIm51bWJlciIgIT0gdHlwZW9mIG4pIHJldHVybiBzLl9zdGVyZW87CiAgICAgICAgICAocy5fc3RlcmVvID0gbiksCiAgICAgICAgICAgIChzLl9wb3MgPSBbbiwgMCwgMF0pLAogICAgICAgICAgICBzLl9ub2RlICYmCiAgICAgICAgICAgICAgKChzLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA9ICJlcXVhbHBvd2VyIiksCiAgICAgICAgICAgICAgKHMuX3Bhbm5lciAmJiBzLl9wYW5uZXIucGFuKSB8fCBlKHMsIG8pLAogICAgICAgICAgICAgICJzcGF0aWFsIiA9PT0gbwogICAgICAgICAgICAgICAgPyB2b2lkIDAgIT09IHMuX3Bhbm5lci5wb3NpdGlvblgKICAgICAgICAgICAgICAgICAgPyAocy5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZSgKICAgICAgICAgICAgICAgICAgICAgIG4sCiAgICAgICAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBzLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKAogICAgICAgICAgICAgICAgICAgICAgMCwKICAgICAgICAgICAgICAgICAgICAgIEhvd2xlci5jdHguY3VycmVudFRpbWUKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIHMuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoCiAgICAgICAgICAgICAgICAgICAgICAwLAogICAgICAgICAgICAgICAgICAgICAgSG93bGVyLmN0eC5jdXJyZW50VGltZQogICAgICAgICAgICAgICAgICAgICkpCiAgICAgICAgICAgICAgICAgIDogcy5fcGFubmVyLnNldFBvc2l0aW9uKG4sIDAsIDApCiAgICAgICAgICAgICAgICA6IHMuX3Bhbm5lci5wYW4uc2V0VmFsdWVBdFRpbWUobiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSkpLAogICAgICAgICAgICByLl9lbWl0KCJzdGVyZW8iLCBzLl9pZCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByOwogICAgfSksCiAgICAoSG93bC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24gKG4sIHQsIHIsIG8pIHsKICAgICAgdmFyIGkgPSB0aGlzOwogICAgICBpZiAoIWkuX3dlYkF1ZGlvKSByZXR1cm4gaTsKICAgICAgaWYgKCJsb2FkZWQiICE9PSBpLl9zdGF0ZSkKICAgICAgICByZXR1cm4gKAogICAgICAgICAgaS5fcXVldWUucHVzaCh7CiAgICAgICAgICAgIGV2ZW50OiAicG9zIiwKICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaS5wb3MobiwgdCwgciwgbyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KSwKICAgICAgICAgIGkKICAgICAgICApOwogICAgICBpZiAoCiAgICAgICAgKCh0ID0gIm51bWJlciIgIT0gdHlwZW9mIHQgPyAwIDogdCksCiAgICAgICAgKHIgPSAibnVtYmVyIiAhPSB0eXBlb2YgciA/IC0wLjUgOiByKSwKICAgICAgICB2b2lkIDAgPT09IG8pCiAgICAgICkgewogICAgICAgIGlmICgibnVtYmVyIiAhPSB0eXBlb2YgbikgcmV0dXJuIGkuX3BvczsKICAgICAgICBpLl9wb3MgPSBbbiwgdCwgcl07CiAgICAgIH0KICAgICAgZm9yICh2YXIgYSA9IGkuX2dldFNvdW5kSWRzKG8pLCBzID0gMDsgcyA8IGEubGVuZ3RoOyBzKyspIHsKICAgICAgICB2YXIgcCA9IGkuX3NvdW5kQnlJZChhW3NdKTsKICAgICAgICBpZiAocCkgewogICAgICAgICAgaWYgKCJudW1iZXIiICE9IHR5cGVvZiBuKSByZXR1cm4gcC5fcG9zOwogICAgICAgICAgKHAuX3BvcyA9IFtuLCB0LCByXSksCiAgICAgICAgICAgIHAuX25vZGUgJiYKICAgICAgICAgICAgICAoKHAuX3Bhbm5lciAmJiAhcC5fcGFubmVyLnBhbikgfHwgZShwLCAic3BhdGlhbCIpLAogICAgICAgICAgICAgIHZvaWQgMCAhPT0gcC5fcGFubmVyLnBvc2l0aW9uWAogICAgICAgICAgICAgICAgPyAocC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZSgKICAgICAgICAgICAgICAgICAgICBuLAogICAgICAgICAgICAgICAgICAgIEhvd2xlci5jdHguY3VycmVudFRpbWUKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgcC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSh0LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSwKICAgICAgICAgICAgICAgICAgcC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZShyLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSkKICAgICAgICAgICAgICAgIDogcC5fcGFubmVyLnNldFBvc2l0aW9uKG4sIHQsIHIpKSwKICAgICAgICAgICAgaS5fZW1pdCgicG9zIiwgcC5faWQpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gaTsKICAgIH0pLAogICAgKEhvd2wucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24gKG4sIHQsIHIsIG8pIHsKICAgICAgdmFyIGkgPSB0aGlzOwogICAgICBpZiAoIWkuX3dlYkF1ZGlvKSByZXR1cm4gaTsKICAgICAgaWYgKCJsb2FkZWQiICE9PSBpLl9zdGF0ZSkKICAgICAgICByZXR1cm4gKAogICAgICAgICAgaS5fcXVldWUucHVzaCh7CiAgICAgICAgICAgIGV2ZW50OiAib3JpZW50YXRpb24iLAogICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpLm9yaWVudGF0aW9uKG4sIHQsIHIsIG8pOwogICAgICAgICAgICB9LAogICAgICAgICAgfSksCiAgICAgICAgICBpCiAgICAgICAgKTsKICAgICAgaWYgKAogICAgICAgICgodCA9ICJudW1iZXIiICE9IHR5cGVvZiB0ID8gaS5fb3JpZW50YXRpb25bMV0gOiB0KSwKICAgICAgICAociA9ICJudW1iZXIiICE9IHR5cGVvZiByID8gaS5fb3JpZW50YXRpb25bMl0gOiByKSwKICAgICAgICB2b2lkIDAgPT09IG8pCiAgICAgICkgewogICAgICAgIGlmICgibnVtYmVyIiAhPSB0eXBlb2YgbikgcmV0dXJuIGkuX29yaWVudGF0aW9uOwogICAgICAgIGkuX29yaWVudGF0aW9uID0gW24sIHQsIHJdOwogICAgICB9CiAgICAgIGZvciAodmFyIGEgPSBpLl9nZXRTb3VuZElkcyhvKSwgcyA9IDA7IHMgPCBhLmxlbmd0aDsgcysrKSB7CiAgICAgICAgdmFyIHAgPSBpLl9zb3VuZEJ5SWQoYVtzXSk7CiAgICAgICAgaWYgKHApIHsKICAgICAgICAgIGlmICgibnVtYmVyIiAhPSB0eXBlb2YgbikgcmV0dXJuIHAuX29yaWVudGF0aW9uOwogICAgICAgICAgKHAuX29yaWVudGF0aW9uID0gW24sIHQsIHJdKSwKICAgICAgICAgICAgcC5fbm9kZSAmJgogICAgICAgICAgICAgIChwLl9wYW5uZXIgfHwKICAgICAgICAgICAgICAgIChwLl9wb3MgfHwgKHAuX3BvcyA9IGkuX3BvcyB8fCBbMCwgMCwgLTAuNV0pLCBlKHAsICJzcGF0aWFsIikpLAogICAgICAgICAgICAgIHZvaWQgMCAhPT0gcC5fcGFubmVyLm9yaWVudGF0aW9uWAogICAgICAgICAgICAgICAgPyAocC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZSgKICAgICAgICAgICAgICAgICAgICBuLAogICAgICAgICAgICAgICAgICAgIEhvd2xlci5jdHguY3VycmVudFRpbWUKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgcC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZSgKICAgICAgICAgICAgICAgICAgICB0LAogICAgICAgICAgICAgICAgICAgIEhvd2xlci5jdHguY3VycmVudFRpbWUKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgcC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZSgKICAgICAgICAgICAgICAgICAgICByLAogICAgICAgICAgICAgICAgICAgIEhvd2xlci5jdHguY3VycmVudFRpbWUKICAgICAgICAgICAgICAgICAgKSkKICAgICAgICAgICAgICAgIDogcC5fcGFubmVyLnNldE9yaWVudGF0aW9uKG4sIHQsIHIpKSwKICAgICAgICAgICAgaS5fZW1pdCgib3JpZW50YXRpb24iLCBwLl9pZCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBpOwogICAgfSksCiAgICAoSG93bC5wcm90b3R5cGUucGFubmVyQXR0ciA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG4sCiAgICAgICAgdCwKICAgICAgICByLAogICAgICAgIG8gPSB0aGlzLAogICAgICAgIGkgPSBhcmd1bWVudHM7CiAgICAgIGlmICghby5fd2ViQXVkaW8pIHJldHVybiBvOwogICAgICBpZiAoMCA9PT0gaS5sZW5ndGgpIHJldHVybiBvLl9wYW5uZXJBdHRyOwogICAgICBpZiAoMSA9PT0gaS5sZW5ndGgpIHsKICAgICAgICBpZiAoIm9iamVjdCIgIT0gdHlwZW9mIGlbMF0pCiAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAociA9IG8uX3NvdW5kQnlJZChwYXJzZUludChpWzBdLCAxMCkpKSwKICAgICAgICAgICAgciA/IHIuX3Bhbm5lckF0dHIgOiBvLl9wYW5uZXJBdHRyCiAgICAgICAgICApOwogICAgICAgIChuID0gaVswXSksCiAgICAgICAgICB2b2lkIDAgPT09IHQgJiYKICAgICAgICAgICAgKG4ucGFubmVyQXR0ciB8fAogICAgICAgICAgICAgIChuLnBhbm5lckF0dHIgPSB7CiAgICAgICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogbi5jb25lSW5uZXJBbmdsZSwKICAgICAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiBuLmNvbmVPdXRlckFuZ2xlLAogICAgICAgICAgICAgICAgY29uZU91dGVyR2Fpbjogbi5jb25lT3V0ZXJHYWluLAogICAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogbi5kaXN0YW5jZU1vZGVsLAogICAgICAgICAgICAgICAgbWF4RGlzdGFuY2U6IG4ubWF4RGlzdGFuY2UsCiAgICAgICAgICAgICAgICByZWZEaXN0YW5jZTogbi5yZWZEaXN0YW5jZSwKICAgICAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IG4ucm9sbG9mZkZhY3RvciwKICAgICAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogbi5wYW5uaW5nTW9kZWwsCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgIChvLl9wYW5uZXJBdHRyID0gewogICAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOgogICAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUKICAgICAgICAgICAgICAgICAgPyBuLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUKICAgICAgICAgICAgICAgICAgOiBvLl9jb25lSW5uZXJBbmdsZSwKICAgICAgICAgICAgICBjb25lT3V0ZXJBbmdsZToKICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gbi5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlCiAgICAgICAgICAgICAgICAgID8gbi5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlCiAgICAgICAgICAgICAgICAgIDogby5fY29uZU91dGVyQW5nbGUsCiAgICAgICAgICAgICAgY29uZU91dGVyR2FpbjoKICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gbi5wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW4KICAgICAgICAgICAgICAgICAgPyBuLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbgogICAgICAgICAgICAgICAgICA6IG8uX2NvbmVPdXRlckdhaW4sCiAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDoKICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gbi5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwKICAgICAgICAgICAgICAgICAgPyBuLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbAogICAgICAgICAgICAgICAgICA6IG8uX2Rpc3RhbmNlTW9kZWwsCiAgICAgICAgICAgICAgbWF4RGlzdGFuY2U6CiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IG4ucGFubmVyQXR0ci5tYXhEaXN0YW5jZQogICAgICAgICAgICAgICAgICA/IG4ucGFubmVyQXR0ci5tYXhEaXN0YW5jZQogICAgICAgICAgICAgICAgICA6IG8uX21heERpc3RhbmNlLAogICAgICAgICAgICAgIHJlZkRpc3RhbmNlOgogICAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLnBhbm5lckF0dHIucmVmRGlzdGFuY2UKICAgICAgICAgICAgICAgICAgPyBuLnBhbm5lckF0dHIucmVmRGlzdGFuY2UKICAgICAgICAgICAgICAgICAgOiBvLl9yZWZEaXN0YW5jZSwKICAgICAgICAgICAgICByb2xsb2ZmRmFjdG9yOgogICAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvcgogICAgICAgICAgICAgICAgICA/IG4ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yCiAgICAgICAgICAgICAgICAgIDogby5fcm9sbG9mZkZhY3RvciwKICAgICAgICAgICAgICBwYW5uaW5nTW9kZWw6CiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IG4ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwKICAgICAgICAgICAgICAgICAgPyBuLnBhbm5lckF0dHIucGFubmluZ01vZGVsCiAgICAgICAgICAgICAgICAgIDogby5fcGFubmluZ01vZGVsLAogICAgICAgICAgICB9KSk7CiAgICAgIH0gZWxzZSAyID09PSBpLmxlbmd0aCAmJiAoKG4gPSBpWzBdKSwgKHQgPSBwYXJzZUludChpWzFdLCAxMCkpKTsKICAgICAgZm9yICh2YXIgYSA9IG8uX2dldFNvdW5kSWRzKHQpLCBzID0gMDsgcyA8IGEubGVuZ3RoOyBzKyspCiAgICAgICAgaWYgKChyID0gby5fc291bmRCeUlkKGFbc10pKSkgewogICAgICAgICAgdmFyIHAgPSByLl9wYW5uZXJBdHRyOwogICAgICAgICAgcCA9IHsKICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6CiAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLmNvbmVJbm5lckFuZ2xlID8gbi5jb25lSW5uZXJBbmdsZSA6IHAuY29uZUlubmVyQW5nbGUsCiAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOgogICAgICAgICAgICAgIHZvaWQgMCAhPT0gbi5jb25lT3V0ZXJBbmdsZSA/IG4uY29uZU91dGVyQW5nbGUgOiBwLmNvbmVPdXRlckFuZ2xlLAogICAgICAgICAgICBjb25lT3V0ZXJHYWluOgogICAgICAgICAgICAgIHZvaWQgMCAhPT0gbi5jb25lT3V0ZXJHYWluID8gbi5jb25lT3V0ZXJHYWluIDogcC5jb25lT3V0ZXJHYWluLAogICAgICAgICAgICBkaXN0YW5jZU1vZGVsOgogICAgICAgICAgICAgIHZvaWQgMCAhPT0gbi5kaXN0YW5jZU1vZGVsID8gbi5kaXN0YW5jZU1vZGVsIDogcC5kaXN0YW5jZU1vZGVsLAogICAgICAgICAgICBtYXhEaXN0YW5jZToKICAgICAgICAgICAgICB2b2lkIDAgIT09IG4ubWF4RGlzdGFuY2UgPyBuLm1heERpc3RhbmNlIDogcC5tYXhEaXN0YW5jZSwKICAgICAgICAgICAgcmVmRGlzdGFuY2U6CiAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLnJlZkRpc3RhbmNlID8gbi5yZWZEaXN0YW5jZSA6IHAucmVmRGlzdGFuY2UsCiAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6CiAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLnJvbGxvZmZGYWN0b3IgPyBuLnJvbGxvZmZGYWN0b3IgOiBwLnJvbGxvZmZGYWN0b3IsCiAgICAgICAgICAgIHBhbm5pbmdNb2RlbDoKICAgICAgICAgICAgICB2b2lkIDAgIT09IG4ucGFubmluZ01vZGVsID8gbi5wYW5uaW5nTW9kZWwgOiBwLnBhbm5pbmdNb2RlbCwKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgYyA9IHIuX3Bhbm5lcjsKICAgICAgICAgIGMKICAgICAgICAgICAgPyAoKGMuY29uZUlubmVyQW5nbGUgPSBwLmNvbmVJbm5lckFuZ2xlKSwKICAgICAgICAgICAgICAoYy5jb25lT3V0ZXJBbmdsZSA9IHAuY29uZU91dGVyQW5nbGUpLAogICAgICAgICAgICAgIChjLmNvbmVPdXRlckdhaW4gPSBwLmNvbmVPdXRlckdhaW4pLAogICAgICAgICAgICAgIChjLmRpc3RhbmNlTW9kZWwgPSBwLmRpc3RhbmNlTW9kZWwpLAogICAgICAgICAgICAgIChjLm1heERpc3RhbmNlID0gcC5tYXhEaXN0YW5jZSksCiAgICAgICAgICAgICAgKGMucmVmRGlzdGFuY2UgPSBwLnJlZkRpc3RhbmNlKSwKICAgICAgICAgICAgICAoYy5yb2xsb2ZmRmFjdG9yID0gcC5yb2xsb2ZmRmFjdG9yKSwKICAgICAgICAgICAgICAoYy5wYW5uaW5nTW9kZWwgPSBwLnBhbm5pbmdNb2RlbCkpCiAgICAgICAgICAgIDogKHIuX3BvcyB8fCAoci5fcG9zID0gby5fcG9zIHx8IFswLCAwLCAtMC41XSksIGUociwgInNwYXRpYWwiKSk7CiAgICAgICAgfQogICAgICByZXR1cm4gbzsKICAgIH0pLAogICAgKFNvdW5kLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG4gPSB0aGlzLAogICAgICAgICAgdCA9IG4uX3BhcmVudDsKICAgICAgICAobi5fb3JpZW50YXRpb24gPSB0Ll9vcmllbnRhdGlvbiksCiAgICAgICAgICAobi5fc3RlcmVvID0gdC5fc3RlcmVvKSwKICAgICAgICAgIChuLl9wb3MgPSB0Ll9wb3MpLAogICAgICAgICAgKG4uX3Bhbm5lckF0dHIgPSB0Ll9wYW5uZXJBdHRyKSwKICAgICAgICAgIGUuY2FsbCh0aGlzKSwKICAgICAgICAgIG4uX3N0ZXJlbwogICAgICAgICAgICA/IHQuc3RlcmVvKG4uX3N0ZXJlbykKICAgICAgICAgICAgOiBuLl9wb3MgJiYgdC5wb3Mobi5fcG9zWzBdLCBuLl9wb3NbMV0sIG4uX3Bvc1syXSwgbi5faWQpOwogICAgICB9OwogICAgfSkoU291bmQucHJvdG90eXBlLmluaXQpKSwKICAgIChTb3VuZC5wcm90b3R5cGUucmVzZXQgPSAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbiA9IHRoaXMsCiAgICAgICAgICB0ID0gbi5fcGFyZW50OwogICAgICAgIHJldHVybiAoCiAgICAgICAgICAobi5fb3JpZW50YXRpb24gPSB0Ll9vcmllbnRhdGlvbiksCiAgICAgICAgICAobi5fc3RlcmVvID0gdC5fc3RlcmVvKSwKICAgICAgICAgIChuLl9wb3MgPSB0Ll9wb3MpLAogICAgICAgICAgKG4uX3Bhbm5lckF0dHIgPSB0Ll9wYW5uZXJBdHRyKSwKICAgICAgICAgIG4uX3N0ZXJlbwogICAgICAgICAgICA/IHQuc3RlcmVvKG4uX3N0ZXJlbykKICAgICAgICAgICAgOiBuLl9wb3MKICAgICAgICAgICAgPyB0LnBvcyhuLl9wb3NbMF0sIG4uX3Bvc1sxXSwgbi5fcG9zWzJdLCBuLl9pZCkKICAgICAgICAgICAgOiBuLl9wYW5uZXIgJiYKICAgICAgICAgICAgICAobi5fcGFubmVyLmRpc2Nvbm5lY3QoMCksCiAgICAgICAgICAgICAgKG4uX3Bhbm5lciA9IHZvaWQgMCksCiAgICAgICAgICAgICAgdC5fcmVmcmVzaEJ1ZmZlcihuKSksCiAgICAgICAgICBlLmNhbGwodGhpcykKICAgICAgICApOwogICAgICB9OwogICAgfSkoU291bmQucHJvdG90eXBlLnJlc2V0KSk7CiAgdmFyIGUgPSBmdW5jdGlvbiAoZSwgbikgewogICAgKG4gPSBuIHx8ICJzcGF0aWFsIiksCiAgICAgICJzcGF0aWFsIiA9PT0gbgogICAgICAgID8gKChlLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpKSwKICAgICAgICAgIChlLl9wYW5uZXIuY29uZUlubmVyQW5nbGUgPSBlLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlKSwKICAgICAgICAgIChlLl9wYW5uZXIuY29uZU91dGVyQW5nbGUgPSBlLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlKSwKICAgICAgICAgIChlLl9wYW5uZXIuY29uZU91dGVyR2FpbiA9IGUuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbiksCiAgICAgICAgICAoZS5fcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBlLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwpLAogICAgICAgICAgKGUuX3Bhbm5lci5tYXhEaXN0YW5jZSA9IGUuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2UpLAogICAgICAgICAgKGUuX3Bhbm5lci5yZWZEaXN0YW5jZSA9IGUuX3Bhbm5lckF0dHIucmVmRGlzdGFuY2UpLAogICAgICAgICAgKGUuX3Bhbm5lci5yb2xsb2ZmRmFjdG9yID0gZS5fcGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yKSwKICAgICAgICAgIChlLl9wYW5uZXIucGFubmluZ01vZGVsID0gZS5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWwpLAogICAgICAgICAgdm9pZCAwICE9PSBlLl9wYW5uZXIucG9zaXRpb25YCiAgICAgICAgICAgID8gKGUuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoCiAgICAgICAgICAgICAgICBlLl9wb3NbMF0sCiAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBlLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKAogICAgICAgICAgICAgICAgZS5fcG9zWzFdLAogICAgICAgICAgICAgICAgSG93bGVyLmN0eC5jdXJyZW50VGltZQogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgZS5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSgKICAgICAgICAgICAgICAgIGUuX3Bvc1syXSwKICAgICAgICAgICAgICAgIEhvd2xlci5jdHguY3VycmVudFRpbWUKICAgICAgICAgICAgICApKQogICAgICAgICAgICA6IGUuX3Bhbm5lci5zZXRQb3NpdGlvbihlLl9wb3NbMF0sIGUuX3Bvc1sxXSwgZS5fcG9zWzJdKSwKICAgICAgICAgIHZvaWQgMCAhPT0gZS5fcGFubmVyLm9yaWVudGF0aW9uWAogICAgICAgICAgICA/IChlLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKAogICAgICAgICAgICAgICAgZS5fb3JpZW50YXRpb25bMF0sCiAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBlLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKAogICAgICAgICAgICAgICAgZS5fb3JpZW50YXRpb25bMV0sCiAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBlLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKAogICAgICAgICAgICAgICAgZS5fb3JpZW50YXRpb25bMl0sCiAgICAgICAgICAgICAgICBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lCiAgICAgICAgICAgICAgKSkKICAgICAgICAgICAgOiBlLl9wYW5uZXIuc2V0T3JpZW50YXRpb24oCiAgICAgICAgICAgICAgICBlLl9vcmllbnRhdGlvblswXSwKICAgICAgICAgICAgICAgIGUuX29yaWVudGF0aW9uWzFdLAogICAgICAgICAgICAgICAgZS5fb3JpZW50YXRpb25bMl0KICAgICAgICAgICAgICApKQogICAgICAgIDogKChlLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpKSwKICAgICAgICAgIGUuX3Bhbm5lci5wYW4uc2V0VmFsdWVBdFRpbWUoZS5fc3RlcmVvLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSksCiAgICAgIGUuX3Bhbm5lci5jb25uZWN0KGUuX25vZGUpLAogICAgICBlLl9wYXVzZWQgfHwgZS5fcGFyZW50LnBhdXNlKGUuX2lkLCAhMCkucGxheShlLl9pZCwgITApOwogIH07Cn0pKCk7CgpnbG9iYWxUaGlzLkhvd2xlckF1ZGlvUGxheWVyID0gewogIGF1ZGlvU3RvcmU6IHt9LAogIGxvYWRlZEF1ZGlvOiB7fSwKICBwYXVzZWQ6IHt9LAogIHZvbHVtZXM6IHt9LAogIG11dGVkOiB7fSwKICBpbml0KHJ1bnRpbWUpIHsKICAgIHRoaXMucnVudGltZSA9IHJ1bnRpbWU7CiAgfSwKCiAgZGJUb0xpbmVhcih4KSB7CiAgICB2YXIgdiA9IHRoaXMuZGJUb0xpbmVhcl9ub2NhcCh4KTsKCiAgICBpZiAoIWlzRmluaXRlKHYpKQogICAgICAvLyBhY2NpZGVudGFsbHkgcGFzc2luZyBhIHN0cmluZyBjYW4gcmVzdWx0IGluIE5hTjsgc2V0IHZvbHVtZSB0byAwIGlmIHNvCiAgICAgIHYgPSAwOwoKICAgIGlmICh2IDw9IDAuMDAxMSkgdiA9IDA7CiAgICBpZiAodiA+IDEpIHYgPSAxOwogICAgcmV0dXJuIHY7CiAgfSwKCiAgbGluZWFyVG9EYih4KSB7CiAgICBpZiAoeCA8IDAuMDAxKSB4ID0gMC4wMDE7CiAgICBpZiAoeCA+IDEpIHggPSAxOwogICAgcmV0dXJuIHRoaXMubGluZWFyVG9EYl9ub2NhcCh4KTsKICB9LAoKICBkYlRvTGluZWFyX25vY2FwKHgpIHsKICAgIHJldHVybiBNYXRoLnBvdygxMCwgeCAvIDIwKTsKICB9LAoKICBsaW5lYXJUb0RiX25vY2FwKHgpIHsKICAgIHJldHVybiAoTWF0aC5sb2coeCkgLyBNYXRoLmxvZygxMCkpICogMjA7CiAgfSwKCiAgcGxheShuYW1lLCBncm91cCA9ICJzb3VuZHMiKSB7CiAgICAvL2lmIHNvdW5kIGhhcyBhbHJlYWR5IGJlZW4gcGxheWVkIGJlZm9yZSwgcmV1c2UgaXQsIGVsc2UgY3JlYXRlIG5ldyBIb3dsZXIuCiAgICBsZXQgaG93bGVyOwogICAgdGhpcy5hdWRpb1N0b3JlW2dyb3VwXSA9IHRoaXMuYXVkaW9TdG9yZVtncm91cF0gfHwge307CiAgICBpZiAodGhpcy5hdWRpb1N0b3JlW2dyb3VwXVtuYW1lXSkgaG93bGVyID0gdGhpcy5hdWRpb1N0b3JlW2dyb3VwXVtuYW1lXTsKICAgIGVsc2UgaWYgKHRoaXMubG9hZGVkQXVkaW9bbmFtZV0pIHsKICAgICAgaG93bGVyID0gdGhpcy5hdWRpb1N0b3JlW2dyb3VwXVtuYW1lXSA9IHRoaXMubG9hZGVkQXVkaW9bbmFtZV07CiAgICAgIGRlbGV0ZSB0aGlzLmxvYWRlZEF1ZGlvW25hbWVdOwogICAgfSBlbHNlIGhvd2xlciA9IHRoaXMubG9hZChuYW1lLCBncm91cCk7CgogICAgaG93bGVyLnZvbHVtZSh0aGlzLnZvbHVtZXNbZ3JvdXBdIHx8IDEpOwogICAgaG93bGVyLm11dGUoISF0aGlzLm11dGVkW2dyb3VwXSk7CiAgICBob3dsZXIucGxheSgpOwogIH0sCiAgc2V0UGF1c2VkKHBhdXNlZCA9IHRydWUsIGdyb3VwKSB7CiAgICBpZiAoZ3JvdXApIHsKICAgICAgaWYgKHBhdXNlZCkgewogICAgICAgIGlmICghdGhpcy5hdWRpb1N0b3JlLmhhc093blByb3BlcnR5KGdyb3VwKSkgcmV0dXJuOwogICAgICAgIHRoaXMucGF1c2VkW2dyb3VwXSA9IHRoaXMucGF1c2VkW2dyb3VwXSB8fCB7fTsKICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmF1ZGlvU3RvcmVbZ3JvdXBdKS5mb3JFYWNoKChuYW1lKSA9PiB7CiAgICAgICAgICB0aGlzLnBhdXNlZFtncm91cF1bbmFtZV0gPSB0aGlzLnBhdXNlZFtncm91cF1bbmFtZV0gfHwgW107CiAgICAgICAgICBsZXQgc2VsZiA9IHRoaXMuYXVkaW9TdG9yZVtncm91cF1bbmFtZV07CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsZXQgc291bmQgPSBzZWxmLl9zb3VuZHNbaV07CiAgICAgICAgICAgIGlmICghc291bmQuX3BhdXNlZCAmJiAhc291bmQuX2VuZGVkKSB7CiAgICAgICAgICAgICAgdGhpcy5wYXVzZWRbZ3JvdXBdW25hbWVdLnB1c2goc291bmQuX2lkKTsKICAgICAgICAgICAgICBzZWxmLnBhdXNlKHNvdW5kLl9pZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMucGF1c2VkLmhhc093blByb3BlcnR5KGdyb3VwKSkgcmV0dXJuOwogICAgICAgIGlmICghdGhpcy5hdWRpb1N0b3JlLmhhc093blByb3BlcnR5KGdyb3VwKSkgcmV0dXJuOwogICAgICAgIE9iamVjdC5rZXlzKHRoaXMucGF1c2VkW2dyb3VwXSkuZm9yRWFjaCgobmFtZSkgPT4gewogICAgICAgICAgaWYgKCF0aGlzLmF1ZGlvU3RvcmVbZ3JvdXBdLmhhc093blByb3BlcnR5KG5hbWUpKSByZXR1cm47CiAgICAgICAgICBsZXQgaWRzID0gdGhpcy5wYXVzZWRbZ3JvdXBdW25hbWVdOwogICAgICAgICAgaWRzLmZvckVhY2goKGlkKSA9PiB7CiAgICAgICAgICAgIHRoaXMuYXVkaW9TdG9yZVtncm91cF1bbmFtZV0ucGxheShpZCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMucGF1c2VkW2dyb3VwXVtuYW1lXSA9IFtdOwogICAgICAgIH0pOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAocGF1c2VkKSB7CiAgICAgICAgbGV0IGFyciA9IE9iamVjdC5rZXlzKHRoaXMuYXVkaW9TdG9yZSk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IGFycltpXTsKICAgICAgICAgIHRoaXMuc2V0UGF1c2VkKHRydWUsIGdyb3VwTmFtZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGxldCBhcnIgPSBPYmplY3Qua2V5cyh0aGlzLnBhdXNlZCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IGFycltpXTsKICAgICAgICAgIHRoaXMuc2V0UGF1c2VkKGZhbHNlLCBncm91cE5hbWUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgc2V0TXV0ZWQobXV0ZWQgPSB0cnVlLCBncm91cCkgewogICAgaWYgKGdyb3VwKSB7CiAgICAgIGlmICghdGhpcy5hdWRpb1N0b3JlLmhhc093blByb3BlcnR5KGdyb3VwKSkgcmV0dXJuOwogICAgICB0aGlzLm11dGVkW2dyb3VwXSA9IG11dGVkOwogICAgICBPYmplY3QudmFsdWVzKHRoaXMuYXVkaW9TdG9yZVtncm91cF0pLmZvckVhY2goKGhvd2wpID0+IHsKICAgICAgICBob3dsLm11dGUobXV0ZWQpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIEhvd2xlci5tdXRlKG11dGVkKTsKICAgIH0KICB9LAogIHNldExvb3BpbmcobG9vcGluZyA9IHRydWUsIGdyb3VwKSB7CiAgICBpZiAoZ3JvdXApIHsKICAgICAgaWYgKCF0aGlzLmF1ZGlvU3RvcmUuaGFzT3duUHJvcGVydHkoZ3JvdXApKSByZXR1cm47CiAgICAgIE9iamVjdC52YWx1ZXModGhpcy5hdWRpb1N0b3JlW2dyb3VwXSkuZm9yRWFjaCgoaG93bCkgPT4gewogICAgICAgIGhvd2wubG9vcChsb29waW5nKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBsZXQgYXJyID0gT2JqZWN0LmtleXModGhpcy5hdWRpb1N0b3JlKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBncm91cE5hbWUgPSBhcnJbaV07CiAgICAgICAgdGhpcy5zZXRMb29waW5nKGxvb3BpbmcsIGdyb3VwTmFtZSk7CiAgICAgIH0KICAgIH0KICB9LAogIHNldFZvbHVtZSh2b2x1bWUsIGdyb3VwKSB7CiAgICB2b2x1bWUgPSB0aGlzLmRiVG9MaW5lYXIodm9sdW1lKTsKICAgIHRoaXMuc2V0TGluZWFyVm9sdW1lKHZvbHVtZSwgZ3JvdXApOwogIH0sCiAgc2V0TGluZWFyVm9sdW1lKHZvbHVtZSwgZ3JvdXApIHsKICAgIGlmIChncm91cCkgewogICAgICBpZiAoIXRoaXMuYXVkaW9TdG9yZS5oYXNPd25Qcm9wZXJ0eShncm91cCkpIHJldHVybjsKICAgICAgdGhpcy52b2x1bWVzW2dyb3VwXSA9IHZvbHVtZTsKICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmF1ZGlvU3RvcmVbZ3JvdXBdKS5mb3JFYWNoKChob3dsKSA9PiB7CiAgICAgICAgaG93bC52b2x1bWUodm9sdW1lKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBIb3dsZXIudm9sdW1lKHZvbHVtZSk7CiAgICB9CiAgfSwKICBzdG9wKGdyb3VwKSB7CiAgICBpZiAoZ3JvdXApIHsKICAgICAgaWYgKCF0aGlzLmF1ZGlvU3RvcmUuaGFzT3duUHJvcGVydHkoZ3JvdXApKSByZXR1cm47CgogICAgICBpZiAodGhpcy5wYXVzZWQuaGFzT3duUHJvcGVydHkoZ3JvdXApKSB7CiAgICAgICAgdGhpcy5wYXVzZWRbZ3JvdXBdID0ge307CiAgICAgIH0KCiAgICAgIE9iamVjdC52YWx1ZXModGhpcy5hdWRpb1N0b3JlW2dyb3VwXSkuZm9yRWFjaCgoaG93bCkgPT4gewogICAgICAgIGhvd2wuc3RvcCgpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucGF1c2VkID0ge307CiAgICAgIEhvd2xlci5zdG9wKCk7CiAgICB9CiAgfSwKICB1bmxvYWQobmFtZSwgZ3JvdXApIHsKICAgIGlmIChuYW1lKSB7CiAgICAgIGlmIChncm91cCkgewogICAgICAgIGlmICh0aGlzLmF1ZGlvU3RvcmVbZ3JvdXBdICYmIHRoaXMuYXVkaW9TdG9yZVtncm91cF1bbmFtZV0pCiAgICAgICAgICB0aGlzLmF1ZGlvU3RvcmVbZ3JvdXBdW25hbWVdLnVubG9hZCgpOwogICAgICB9IGVsc2UgewogICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5hdWRpb1N0b3JlKS5mb3JFYWNoKChncm91cCkgPT4gewogICAgICAgICAgaWYgKGdyb3VwW25hbWVdKSBncm91cFtuYW1lXS51bmxvYWQoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgSG93bGVyLnVubG9hZCgpOwogICAgfQogIH0sCiAgbG9hZChuYW1lLCBncm91cCkgewogICAgbGV0IGZ1bGxOYW1lID0gdGhpcy5ydW50aW1lLmZpbGVzX3N1YmZvbGRlciArIG5hbWUudG9Mb3dlckNhc2UoKTsKICAgIGlmIChncm91cCkgewogICAgICB0aGlzLmF1ZGlvU3RvcmVbZ3JvdXBdID0gdGhpcy5hdWRpb1N0b3JlW2dyb3VwXSB8fCB7fTsKICAgICAgaWYgKCF0aGlzLmF1ZGlvU3RvcmVbZ3JvdXBdW25hbWVdKSB7CiAgICAgICAgdGhpcy5hdWRpb1N0b3JlW2dyb3VwXVtuYW1lXSA9IG5ldyBIb3dsKHsKICAgICAgICAgIHNyYzogW2Z1bGxOYW1lICsgIi5vZ2ciLCBmdWxsTmFtZSArICIubTRhIl0sCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuYXVkaW9TdG9yZVtncm91cF1bbmFtZV07CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5sb2FkZWRBdWRpb1tuYW1lXSkgcmV0dXJuOwogICAgICB0aGlzLmxvYWRlZEF1ZGlvW25hbWVdID0gbmV3IEhvd2woewogICAgICAgIHNyYzogW2Z1bGxOYW1lICsgIi5vZ2ciLCBmdWxsTmFtZSArICIubTRhIl0sCiAgICAgIH0pOwogICAgfQogIH0sCiAgaXNQbGF5aW5nKGdyb3VwKSB7CiAgICBpZiAoZ3JvdXApIHsKICAgICAgaWYgKCF0aGlzLmF1ZGlvU3RvcmUuaGFzT3duUHJvcGVydHkoZ3JvdXApKSByZXR1cm4gZmFsc2U7CiAgICAgIGxldCBhcnIgPSBPYmplY3QudmFsdWVzKHRoaXMuYXVkaW9TdG9yZVtncm91cF0pOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGhvd2wgPSBhcnJbaV07CiAgICAgICAgaWYgKGhvd2wucGxheWluZygpKSByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICBsZXQgYXJyID0gT2JqZWN0LmtleXModGhpcy5hdWRpb1N0b3JlKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBncm91cE5hbWUgPSBhcnJbaV07CiAgICAgICAgaWYgKHRoaXMuaXNQbGF5aW5nKGdyb3VwTmFtZSkpIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LAogIGdldFZvbHVtZShncm91cCkgewogICAgaWYgKGdyb3VwKSB7CiAgICAgIHJldHVybiB0aGlzLmxpbmVhclRvRGIodGhpcy52b2x1bWVzW2dyb3VwXSB8fCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0aGlzLmxpbmVhclRvRGIoSG93bGVyLnZvbHVtZSgpKTsKICAgIH0KICB9LAogIGdldExpbmVhclZvbHVtZShncm91cCkgewogICAgaWYgKGdyb3VwKSB7CiAgICAgIHJldHVybiB0aGlzLnZvbHVtZXNbZ3JvdXBdIHx8IDE7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gSG93bGVyLnZvbHVtZSgpOwogICAgfQogIH0sCn07"></script>
        <!-- The runtime script.  You can rename it, but don't forget to rename the reference here as well.
    This file will have been minified and obfuscated if you enabled "Minify script" during export. -->
        <script>
            // Start the Construct 2 project running on window load.
            jQuery(document).ready(function() {
                // Create new runtime using the c2canvas
                cr_createRuntime("c2canvas");
            });

            // Pause and resume on page becoming visible/invisible
            function onVisibilityChanged() {
                if (document.hidden || document.mozHidden || document.webkitHidden || document.msHidden)
                    cr_setSuspended(true);
                else
                    cr_setSuspended(false);
            }
            ;
            document.addEventListener("visibilitychange", onVisibilityChanged, false);
            document.addEventListener("mozvisibilitychange", onVisibilityChanged, false);
            document.addEventListener("webkitvisibilitychange", onVisibilityChanged, false);
            document.addEventListener("msvisibilitychange", onVisibilityChanged, false);

            function OnRegisterSWError(e) {
                console.warn("Failed to register service worker: ", e);
            }
            ;
            // Runtime calls this global method when ready to start caching (i.e. after startup).
            // This registers the service worker which caches resources for offline support.
            window.C2_RegisterSW = function C2_RegisterSW() {
                if (!navigator.serviceWorker)
                    return;
                // no SW support, ignore call

                try {
                    navigator.serviceWorker.register("sw.js", {
                        scope: "./"
                    }).then(function(reg) {
                        console.log("Registered service worker on " + reg.scope);
                    }).catch(OnRegisterSWError);
                } catch (e) {
                    OnRegisterSWError(e);
                }
            }
            ;
        </script>
        <script src="https://cdn.jsdelivr.net/gh/st39/sdk@main/api.js"></script>
        <script>
            var cr = {
                plugins_: {},
                behaviors: {}
            };
            "function" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" == typeof "test".__proto__ ? function(t) {
                return t.__proto__
            }
            : function(t) {
                return t.constructor.prototype
            }
            ),
            function() {
                function t(t, e) {
                    this.x = t,
                    this.y = e,
                    cr.seal(this)
                }
                function e(t, e, i, s) {
                    this.set(t, e, i, s),
                    cr.seal(this)
                }
                function i() {
                    this.tlx = 0,
                    this.tly = 0,
                    this.trx = 0,
                    this.try_ = 0,
                    this.brx = 0,
                    this.bry = 0,
                    this.blx = 0,
                    this.bly = 0,
                    cr.seal(this)
                }
                cr.logexport = function(t) {
                    window.console && window.console.log && window.console.log(t)
                }
                ,
                cr.logerror = function(t) {
                    window.console && window.console.error && window.console.error(t)
                }
                ,
                cr.seal = function(t) {
                    return t
                }
                ,
                cr.freeze = function(t) {
                    return t
                }
                ,
                cr.is_undefined = function(t) {
                    return void 0 === t
                }
                ,
                cr.is_number = function(t) {
                    return "number" == typeof t
                }
                ,
                cr.is_string = function(t) {
                    return "string" == typeof t
                }
                ,
                cr.isPOT = function(t) {
                    return 0 < t && 0 == (t - 1 & t)
                }
                ,
                cr.nextHighestPowerOfTwo = function(t) {
                    --t;
                    for (var e = 1; e < 32; e <<= 1)
                        t |= t >> e;
                    return t + 1
                }
                ,
                cr.abs = function(t) {
                    return t < 0 ? -t : t
                }
                ,
                cr.max = function(t, e) {
                    return e < t ? t : e
                }
                ,
                cr.min = function(t, e) {
                    return t < e ? t : e
                }
                ,
                cr.PI = Math.PI,
                cr.round = function(t) {
                    return t + .5 | 0
                }
                ,
                cr.floor = function(t) {
                    return 0 <= t ? 0 | t : (0 | t) - 1
                }
                ,
                cr.ceil = function(t) {
                    var e = 0 | t;
                    return e === t ? e : 1 + e
                }
                ,
                t.prototype.offset = function(t, e) {
                    return this.x += t,
                    this.y += e,
                    this
                }
                ,
                t.prototype.mul = function(t, e) {
                    return this.x *= t,
                    this.y *= e,
                    this
                }
                ,
                cr.vector2 = t,
                cr.segments_intersect = function(t, e, i, s, n, r, o, a) {
                    var h, c, l = t < i ? (p = t,
                    i) : (p = i,
                    t), u = n < o ? (h = n,
                    o) : (h = o,
                    n);
                    if (l < h || u < p)
                        return !1;
                    if (p = r < a ? (c = r,
                    a) : (c = a,
                    r),
                    (e < s ? (d = e,
                    s) : (d = s,
                    e)) < c || p < d)
                        return !1;
                    var p = n - t + o - i
                      , d = r - e + a - s
                      , t = i - t
                      , e = s - e
                      , n = o - n
                      , a = a - r
                      , r = cr.abs(e * n - a * t)
                      , a = n * d - a * p;
                    if (cr.abs(a) > r)
                        return !1;
                    p = t * d - e * p;
                    return cr.abs(p) <= r
                }
                ,
                e.prototype.set = function(t, e, i, s) {
                    this.left = t,
                    this.top = e,
                    this.right = i,
                    this.bottom = s
                }
                ,
                e.prototype.copy = function(t) {
                    this.left = t.left,
                    this.top = t.top,
                    this.right = t.right,
                    this.bottom = t.bottom
                }
                ,
                e.prototype.width = function() {
                    return this.right - this.left
                }
                ,
                e.prototype.height = function() {
                    return this.bottom - this.top
                }
                ,
                e.prototype.offset = function(t, e) {
                    return this.left += t,
                    this.top += e,
                    this.right += t,
                    this.bottom += e,
                    this
                }
                ,
                e.prototype.normalize = function() {
                    var t = 0;
                    this.left > this.right && (t = this.left,
                    this.left = this.right,
                    this.right = t),
                    this.top > this.bottom && (t = this.top,
                    this.top = this.bottom,
                    this.bottom = t)
                }
                ,
                e.prototype.intersects_rect = function(t) {
                    return !(t.right < this.left || t.bottom < this.top || t.left > this.right || t.top > this.bottom)
                }
                ,
                e.prototype.intersects_rect_off = function(t, e, i) {
                    return !(t.right + e < this.left || t.bottom + i < this.top || t.left + e > this.right || t.top + i > this.bottom)
                }
                ,
                e.prototype.contains_pt = function(t, e) {
                    return t >= this.left && t <= this.right && e >= this.top && e <= this.bottom
                }
                ,
                e.prototype.equals = function(t) {
                    return this.left === t.left && this.top === t.top && this.right === t.right && this.bottom === t.bottom
                }
                ,
                cr.rect = e,
                i.prototype.set_from_rect = function(t) {
                    this.tlx = t.left,
                    this.tly = t.top,
                    this.trx = t.right,
                    this.try_ = t.top,
                    this.brx = t.right,
                    this.bry = t.bottom,
                    this.blx = t.left,
                    this.bly = t.bottom
                }
                ,
                i.prototype.set_from_rotated_rect = function(t, e) {
                    var i, s, n, r, o, a, h;
                    0 === e ? this.set_from_rect(t) : (a = Math.sin(e),
                    h = Math.cos(e),
                    i = t.left * a,
                    s = t.top * a,
                    n = t.right * a,
                    r = t.bottom * a,
                    o = t.left * h,
                    e = t.top * h,
                    a = t.right * h,
                    h = t.bottom * h,
                    this.tlx = o - s,
                    this.tly = e + i,
                    this.trx = a - s,
                    this.try_ = e + n,
                    this.brx = a - r,
                    this.bry = h + n,
                    this.blx = o - r,
                    this.bly = h + i)
                }
                ,
                i.prototype.offset = function(t, e) {
                    return this.tlx += t,
                    this.tly += e,
                    this.trx += t,
                    this.try_ += e,
                    this.brx += t,
                    this.bry += e,
                    this.blx += t,
                    this.bly += e,
                    this
                }
                ;
                var n = 0
                  , r = 0;
                function s(t, e, i, s) {
                    r = t < e ? i < s ? (n = t < i ? t : i,
                    s < e ? e : s) : (n = t < s ? t : s,
                    i < e ? e : i) : i < s ? (n = e < i ? e : i,
                    s < t ? t : s) : (n = e < s ? e : s,
                    i < t ? t : i)
                }
                i.prototype.bounding_box = function(t) {
                    s(this.tlx, this.trx, this.brx, this.blx),
                    t.left = n,
                    t.right = r,
                    s(this.tly, this.try_, this.bry, this.bly),
                    t.top = n,
                    t.bottom = r
                }
                ,
                i.prototype.contains_pt = function(t, e) {
                    var i = this.tlx
                      , s = this.tly
                      , n = this.trx - i
                      , r = this.try_ - s
                      , o = this.brx - i
                      , a = this.bry - s
                      , h = t - i
                      , c = e - s
                      , l = n * n + r * r
                      , u = n * o + r * a
                      , p = n * h + r * c
                      , d = o * o + a * a
                      , g = o * h + a * c
                      , f = 1 / (l * d - u * u)
                      , t = (d * p - u * g) * f
                      , e = (l * g - u * p) * f;
                    if (0 <= t && 0 < e && t + e < 1)
                        return !0;
                    e = ((l = (n = this.blx - i) * n + (r = this.bly - s) * r) * g - (u = n * o + r * a) * (p = n * h + r * c)) * (f = 1 / (l * d - u * u));
                    return 0 <= (t = (d * p - u * g) * f) && 0 < e && t + e < 1
                }
                ,
                i.prototype.at = function(t, e) {
                    if (e)
                        switch (t) {
                        case 0:
                            return this.tlx;
                        case 1:
                            return this.trx;
                        case 2:
                            return this.brx;
                        case 3:
                            return this.blx;
                        case 4:
                        default:
                            return this.tlx
                        }
                    else
                        switch (t) {
                        case 0:
                            return this.tly;
                        case 1:
                            return this.try_;
                        case 2:
                            return this.bry;
                        case 3:
                            return this.bly;
                        case 4:
                        default:
                            return this.tly
                        }
                }
                ,
                i.prototype.midX = function() {
                    return (this.tlx + this.trx + this.brx + this.blx) / 4
                }
                ,
                i.prototype.midY = function() {
                    return (this.tly + this.try_ + this.bry + this.bly) / 4
                }
                ,
                i.prototype.intersects_segment = function(t, e, i, s) {
                    if (this.contains_pt(t, e) || this.contains_pt(i, s))
                        return !0;
                    for (var n, r, o, a, h = 0; h < 4; h++)
                        if (n = this.at(h, !0),
                        r = this.at(h, !1),
                        o = this.at(h + 1, !0),
                        a = this.at(h + 1, !1),
                        cr.segments_intersect(t, e, i, s, n, r, o, a))
                            return !0;
                    return !1
                }
                ,
                i.prototype.intersects_quad = function(t) {
                    var e, i, s, n, r, o, a, h, c, l, u = t.midX(), p = t.midY();
                    if (this.contains_pt(u, p))
                        return !0;
                    if (u = this.midX(),
                    p = this.midY(),
                    t.contains_pt(u, p))
                        return !0;
                    for (c = 0; c < 4; c++)
                        for (l = 0; l < 4; l++)
                            if (e = this.at(c, !0),
                            i = this.at(c, !1),
                            s = this.at(c + 1, !0),
                            n = this.at(c + 1, !1),
                            r = t.at(l, !0),
                            o = t.at(l, !1),
                            a = t.at(l + 1, !0),
                            h = t.at(l + 1, !1),
                            cr.segments_intersect(e, i, s, n, r, o, a, h))
                                return !0;
                    return !1
                }
                ,
                cr.quad = i,
                cr.RGB = function(t, e, i) {
                    return Math.max(Math.min(t, 255), 0) | Math.max(Math.min(e, 255), 0) << 8 | Math.max(Math.min(i, 255), 0) << 16
                }
                ,
                cr.GetRValue = function(t) {
                    return 255 & t
                }
                ,
                cr.GetGValue = function(t) {
                    return (65280 & t) >> 8
                }
                ,
                cr.GetBValue = function(t) {
                    return (16711680 & t) >> 16
                }
                ,
                cr.shallowCopy = function(t, e, i) {
                    for (var s in e)
                        e.hasOwnProperty(s) && (t[s] = e[s]);
                    return t
                }
                ,
                cr.arrayRemove = function(t, e) {
                    var i, s;
                    if (!((e = cr.floor(e)) < 0 || e >= t.length)) {
                        for (i = e,
                        s = t.length - 1; i < s; i++)
                            t[i] = t[i + 1];
                        cr.truncateArray(t, s)
                    }
                }
                ,
                cr.truncateArray = function(t, e) {
                    t.length = e
                }
                ,
                cr.clearArray = function(t) {
                    cr.truncateArray(t, 0)
                }
                ,
                cr.shallowAssignArray = function(t, e) {
                    var i, s;
                    for (cr.clearArray(t),
                    i = 0,
                    s = e.length; i < s; ++i)
                        t[i] = e[i]
                }
                ,
                cr.appendArray = function(t, e) {
                    t.push.apply(t, e)
                }
                ,
                cr.fastIndexOf = function(t, e) {
                    for (var i = 0, s = t.length; i < s; ++i)
                        if (t[i] === e)
                            return i;
                    return -1
                }
                ,
                cr.arrayFindRemove = function(t, e) {
                    e = cr.fastIndexOf(t, e);
                    -1 !== e && cr.arrayRemove(t, e)
                }
                ,
                cr.clamp = function(t, e, i) {
                    return t < e ? e : i < t ? i : t
                }
                ,
                cr.to_radians = function(t) {
                    return t / (180 / cr.PI)
                }
                ,
                cr.to_degrees = function(t) {
                    return t * (180 / cr.PI)
                }
                ,
                cr.clamp_angle_degrees = function(t) {
                    return (t %= 360) < 0 && (t += 360),
                    t
                }
                ,
                cr.clamp_angle = function(t) {
                    return (t %= 2 * cr.PI) < 0 && (t += 2 * cr.PI),
                    t
                }
                ,
                cr.to_clamped_degrees = function(t) {
                    return cr.clamp_angle_degrees(cr.to_degrees(t))
                }
                ,
                cr.to_clamped_radians = function(t) {
                    return cr.clamp_angle(cr.to_radians(t))
                }
                ,
                cr.angleTo = function(t, e, i, s) {
                    t = i - t,
                    e = s - e;
                    return Math.atan2(e, t)
                }
                ,
                cr.angleDiff = function(t, e) {
                    if (t === e)
                        return 0;
                    var i = Math.sin(t)
                      , t = Math.cos(t)
                      , e = i * Math.sin(e) + t * Math.cos(e);
                    return 1 <= e ? 0 : e <= -1 ? cr.PI : Math.acos(e)
                }
                ,
                cr.angleRotate = function(t, e, i) {
                    var s = Math.sin(t)
                      , n = Math.cos(t)
                      , r = Math.sin(e)
                      , o = Math.cos(e);
                    return Math.acos(s * r + n * o) > i ? 0 < n * r - s * o ? cr.clamp_angle(t + i) : cr.clamp_angle(t - i) : cr.clamp_angle(e)
                }
                ,
                cr.angleClockwise = function(t, e) {
                    var i = Math.sin(t);
                    return Math.cos(t) * Math.sin(e) - i * Math.cos(e) <= 0
                }
                ,
                cr.rotatePtAround = function(t, e, i, s, n, r) {
                    if (0 === i)
                        return r ? t : e;
                    var o = Math.sin(i)
                      , a = Math.cos(i)
                      , i = (t -= s) * o;
                    return t = t * a - (e -= n) * o,
                    e = e * a + i,
                    t += s,
                    e += n,
                    r ? t : e
                }
                ,
                cr.distanceTo = function(t, e, i, s) {
                    t = i - t,
                    e = s - e;
                    return Math.sqrt(t * t + e * e)
                }
                ,
                cr.xor = function(t, e) {
                    return !t != !e
                }
                ,
                cr.lerp = function(t, e, i) {
                    return t + (e - t) * i
                }
                ,
                cr.unlerp = function(t, e, i) {
                    return t === e ? 0 : (i - t) / (e - t)
                }
                ,
                cr.anglelerp = function(t, e, i) {
                    var s = cr.angleDiff(t, e);
                    return cr.angleClockwise(e, t) ? t + s * i : t - s * i
                }
                ,
                cr.qarp = function(t, e, i, s) {
                    return cr.lerp(cr.lerp(t, e, s), cr.lerp(e, i, s), s)
                }
                ,
                cr.cubic = function(t, e, i, s, n) {
                    return cr.lerp(cr.qarp(t, e, i, n), cr.qarp(e, i, s, n), n)
                }
                ,
                cr.cosp = function(t, e, i) {
                    return (t + e + (t - e) * Math.cos(i * Math.PI)) / 2
                }
                ,
                cr.hasAnyOwnProperty = function(t) {
                    for (var e in t)
                        if (t.hasOwnProperty(e))
                            return !0;
                    return !1
                }
                ,
                cr.wipe = function(t) {
                    for (var e in t)
                        t.hasOwnProperty(e) && delete t[e]
                }
                ;
                var o = +new Date
                  , a = !(cr.performance_now = function() {
                    if (void 0 !== window.performance) {
                        var t = window.performance;
                        if (void 0 !== t.now)
                            return t.now();
                        if (void 0 !== t.webkitNow)
                            return t.webkitNow();
                        if (void 0 !== t.mozNow)
                            return t.mozNow();
                        if (void 0 !== t.msNow)
                            return t.msNow()
                    }
                    return Date.now() - o
                }
                )
                  , h = !1
                  , c = !1;
                void 0 !== window && (a = !(/chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent)) && /safari/i.test(navigator.userAgent),
                h = /(iphone|ipod|ipad)/i.test(navigator.userAgent),
                c = window.c2ejecta);
                var l = !a && !c && !h && "undefined" != typeof Set && void 0 !== Set.prototype.forEach;
                function u() {
                    this.s = null,
                    this.items = null,
                    this.item_count = 0,
                    l && (this.s = new Set),
                    this.values_cache = [],
                    this.cache_valid = !0,
                    cr.seal(this)
                }
                u.prototype.contains = function(t) {
                    return !this.isEmpty() && (l ? this.s.has(t) : this.items && this.items.hasOwnProperty(t))
                }
                ,
                u.prototype.add = function(t) {
                    var e, i;
                    l ? this.s.has(t) || (this.s.add(t),
                    this.cache_valid = !1) : (e = t.toString(),
                    (i = this.items) ? i.hasOwnProperty(e) || (i[e] = t,
                    this.item_count++,
                    this.cache_valid = !1) : (this.items = {},
                    this.items[e] = t,
                    this.item_count = 1,
                    this.cache_valid = !1))
                }
                ,
                u.prototype.remove = function(t) {
                    var e;
                    this.isEmpty() || (l ? this.s.has(t) && (this.s.delete(t),
                    this.cache_valid = !1) : this.items && (e = t.toString(),
                    (t = this.items).hasOwnProperty(e) && (delete t[e],
                    this.item_count--,
                    this.cache_valid = !1)))
                }
                ,
                u.prototype.clear = function() {
                    this.isEmpty() || (l ? this.s.clear() : (this.items = null,
                    this.item_count = 0),
                    cr.clearArray(this.values_cache),
                    this.cache_valid = !0)
                }
                ,
                u.prototype.isEmpty = function() {
                    return 0 === this.count()
                }
                ,
                u.prototype.count = function() {
                    return l ? this.s.size : this.item_count
                }
                ;
                var p = null
                  , d = 0;
                function g(t) {
                    p[d++] = t
                }
                u.prototype.update_cache = function() {
                    if (!this.cache_valid) {
                        if (l)
                            cr.clearArray(this.values_cache),
                            p = this.values_cache,
                            d = 0,
                            this.s.forEach(g),
                            p = null,
                            d = 0;
                        else {
                            var t = this.values_cache;
                            cr.clearArray(t);
                            var e, i = 0, s = this.items;
                            if (s)
                                for (e in s)
                                    s.hasOwnProperty(e) && (t[i++] = s[e])
                        }
                        this.cache_valid = !0
                    }
                }
                ,
                u.prototype.valuesRef = function() {
                    return this.update_cache(),
                    this.values_cache
                }
                ,
                cr.ObjectSet = u;
                var f = new cr.ObjectSet;
                function m() {
                    this.c = 0,
                    this.y = 0,
                    this.t = 0,
                    this.sum = 0,
                    cr.seal(this)
                }
                function y(t) {
                    this.pts_cache = [],
                    this.bboxLeft = 0,
                    this.bboxTop = 0,
                    this.bboxRight = 0,
                    this.bboxBottom = 0,
                    this.convexpolys = null,
                    this.set_pts(t),
                    cr.seal(this)
                }
                function _(t, e) {
                    this.cellwidth = t,
                    this.cellheight = e,
                    this.cells = {}
                }
                function v(t, e) {
                    this.cellwidth = t,
                    this.cellheight = e,
                    this.cells = {}
                }
                cr.removeArrayDuplicates = function(t) {
                    for (var e = 0, i = t.length; e < i; ++e)
                        f.add(t[e]);
                    cr.shallowAssignArray(t, f.valuesRef()),
                    f.clear()
                }
                ,
                cr.arrayRemoveAllFromObjectSet = function(t, e) {
                    l ? cr.arrayRemoveAll_set(t, e.s) : cr.arrayRemoveAll_arr(t, e.valuesRef())
                }
                ,
                cr.arrayRemoveAll_set = function(t, e) {
                    for (var i, s = 0, n = 0, r = t.length; s < r; ++s)
                        i = t[s],
                        e.has(i) || (t[n++] = i);
                    cr.truncateArray(t, n)
                }
                ,
                cr.arrayRemoveAll_arr = function(t, e) {
                    for (var i, s = 0, n = 0, r = t.length; s < r; ++s)
                        i = t[s],
                        -1 === cr.fastIndexOf(e, i) && (t[n++] = i);
                    cr.truncateArray(t, n)
                }
                ,
                m.prototype.add = function(t) {
                    this.y = t - this.c,
                    this.t = this.sum + this.y,
                    this.c = this.t - this.sum - this.y,
                    this.sum = this.t
                }
                ,
                m.prototype.reset = function() {
                    this.c = 0,
                    this.y = 0,
                    this.t = 0,
                    this.sum = 0
                }
                ,
                cr.KahanAdder = m,
                cr.regexp_escape = function(t) {
                    return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
                }
                ,
                y.prototype.set_pts = function(t) {
                    this.pts_array = t,
                    this.pts_count = t.length / 2,
                    this.pts_cache.length = t.length,
                    this.cache_width = -1,
                    this.cache_height = -1,
                    this.cache_angle = 0
                }
                ,
                y.prototype.is_empty = function() {
                    return !this.pts_array.length
                }
                ,
                y.prototype.update_bbox = function() {
                    for (var t, e, i = this.pts_cache, s = i[0], n = s, r = i[1], o = r, a = 1, h = this.pts_count; a < h; ++a)
                        (t = i[e = 2 * a]) < s && (s = t),
                        n < t && (n = t),
                        (e = i[1 + e]) < r && (r = e),
                        o < e && (o = e);
                    this.bboxLeft = s,
                    this.bboxRight = n,
                    this.bboxTop = r,
                    this.bboxBottom = o
                }
                ,
                y.prototype.set_from_rect = function(t, e, i) {
                    this.pts_cache.length = 8,
                    this.pts_count = 4;
                    var s = this.pts_cache;
                    s[0] = t.left - e,
                    s[1] = t.top - i,
                    s[2] = t.right - e,
                    s[3] = t.top - i,
                    s[4] = t.right - e,
                    s[5] = t.bottom - i,
                    s[6] = t.left - e,
                    s[7] = t.bottom - i,
                    this.cache_width = t.right - t.left,
                    this.cache_height = t.bottom - t.top,
                    this.update_bbox()
                }
                ,
                y.prototype.set_from_quad = function(t, e, i, s, n) {
                    this.pts_cache.length = 8,
                    this.pts_count = 4;
                    var r = this.pts_cache;
                    r[0] = t.tlx - e,
                    r[1] = t.tly - i,
                    r[2] = t.trx - e,
                    r[3] = t.try_ - i,
                    r[4] = t.brx - e,
                    r[5] = t.bry - i,
                    r[6] = t.blx - e,
                    r[7] = t.bly - i,
                    this.cache_width = s,
                    this.cache_height = n,
                    this.update_bbox()
                }
                ,
                y.prototype.set_from_poly = function(t) {
                    this.pts_count = t.pts_count,
                    cr.shallowAssignArray(this.pts_cache, t.pts_cache),
                    this.bboxLeft = t.bboxLeft,
                    this.bboxTop = t.bboxTop,
                    this.bboxRight = t.bboxRight,
                    this.bboxBottom = t.bboxBottom
                }
                ,
                y.prototype.cache_poly = function(t, e, i) {
                    if (this.cache_width !== t || this.cache_height !== e || this.cache_angle !== i) {
                        var s, n, r, o, a, h;
                        this.cache_width = t,
                        this.cache_height = e,
                        this.cache_angle = i;
                        var c = 0
                          , l = 1
                          , u = this.pts_array
                          , p = this.pts_cache;
                        for (0 !== i && (c = Math.sin(i),
                        l = Math.cos(i)),
                        s = 0,
                        o = this.pts_count; s < o; s++)
                            r = 1 + (n = 2 * s),
                            a = u[n] * t,
                            h = u[r] * e,
                            p[n] = a * l - h * c,
                            p[r] = h * l + a * c;
                        this.update_bbox()
                    }
                }
                ,
                y.prototype.contains_pt = function(t, e) {
                    var i = this.pts_cache;
                    if (t === i[0] && e === i[1])
                        return !0;
                    for (var s, n, r, o, a = this.pts_count, h = this.bboxLeft - 110, c = this.bboxTop - 101, l = this.bboxRight + 131, u = this.bboxBottom + 120, p = 0, d = 0, g = 0; g < a; g++)
                        o = (g + 1) % a * 2,
                        s = i[r = 2 * g],
                        n = i[1 + r],
                        r = i[o],
                        o = i[1 + o],
                        cr.segments_intersect(h, c, t, e, s, n, r, o) && p++,
                        cr.segments_intersect(l, u, t, e, s, n, r, o) && d++;
                    return p % 2 == 1 || d % 2 == 1
                }
                ,
                y.prototype.intersects_poly = function(t, e, i) {
                    var s, n, r, o, a, h, c, l, u, p, d, g, f, m, y = t.pts_cache, _ = this.pts_cache;
                    if (this.contains_pt(y[0] + e, y[1] + i))
                        return !0;
                    if (t.contains_pt(_[0] - e, _[1] - i))
                        return !0;
                    for (s = 0,
                    o = this.pts_count; s < o; s++)
                        for (r = (s + 1) % o * 2,
                        c = _[n = 2 * s],
                        l = _[1 + n],
                        u = _[r],
                        p = _[1 + r],
                        a = 0,
                        h = t.pts_count; a < h; a++)
                            if (m = (a + 1) % h * 2,
                            d = y[f = 2 * a] + e,
                            g = y[1 + f] + i,
                            f = y[m] + e,
                            m = y[1 + m] + i,
                            cr.segments_intersect(c, l, u, p, d, g, f, m))
                                return !0;
                    return !1
                }
                ,
                y.prototype.intersects_segment = function(t, e, i, s, n, r) {
                    var o, a, h, c, l, u, p = this.pts_cache;
                    if (this.contains_pt(i - t, s - e))
                        return !0;
                    for (o = 0,
                    a = this.pts_count; o < a; o++)
                        if (u = (o + 1) % a * 2,
                        h = p[l = 2 * o] + t,
                        c = p[1 + l] + e,
                        l = p[u] + t,
                        u = p[1 + u] + e,
                        cr.segments_intersect(i, s, n, r, h, c, l, u))
                            return !0;
                    return !1
                }
                ,
                y.prototype.mirror = function(t) {
                    for (var e, i = 0, s = this.pts_count; i < s; ++i)
                        e = 2 * i,
                        this.pts_cache[e] = 2 * t - this.pts_cache[e]
                }
                ,
                y.prototype.flip = function(t) {
                    for (var e, i = 0, s = this.pts_count; i < s; ++i)
                        e = 2 * i + 1,
                        this.pts_cache[e] = 2 * t - this.pts_cache[e]
                }
                ,
                y.prototype.diag = function() {
                    for (var t, e, i, s = 0, n = this.pts_count; s < n; ++s)
                        e = 1 + (t = 2 * s),
                        i = this.pts_cache[t],
                        this.pts_cache[t] = this.pts_cache[e],
                        this.pts_cache[e] = i
                }
                ,
                cr.CollisionPoly = y,
                _.prototype.totalCellCount = 0,
                _.prototype.getCell = function(t, e, i) {
                    var s, n = this.cells[t];
                    return n ? (s = n[e]) || (i ? (s = w(this, t, e),
                    this.cells[t][e] = s) : null) : i ? (s = w(this, t, e),
                    this.cells[t] = {},
                    this.cells[t][e] = s) : null
                }
                ,
                _.prototype.XToCell = function(t) {
                    return cr.floor(t / this.cellwidth)
                }
                ,
                _.prototype.YToCell = function(t) {
                    return cr.floor(t / this.cellheight)
                }
                ,
                _.prototype.update = function(t, e, i) {
                    var s, n, r, o, a;
                    if (e)
                        for (s = e.left,
                        n = e.right; s <= n; ++s)
                            for (r = e.top,
                            o = e.bottom; r <= o; ++r)
                                i && i.contains_pt(s, r) || (a = this.getCell(s, r, !1)) && (a.remove(t),
                                a.isEmpty() && (a = a,
                                _.prototype.totalCellCount--,
                                a.objects.clear(),
                                b.length < 1e3 && b.push(a),
                                this.cells[s][r] = null));
                    if (i)
                        for (s = i.left,
                        n = i.right; s <= n; ++s)
                            for (r = i.top,
                            o = i.bottom; r <= o; ++r)
                                e && e.contains_pt(s, r) || this.getCell(s, r, !0).insert(t)
                }
                ,
                _.prototype.queryRange = function(t, e) {
                    for (var i, s, n = this.XToCell(t.left), r = this.YToCell(t.top), o = this.XToCell(t.right), a = this.YToCell(t.bottom); n <= o; ++n)
                        for (i = r; i <= a; ++i)
                            (s = this.getCell(n, i, !1)) && s.dump(e)
                }
                ,
                cr.SparseGrid = _,
                v.prototype.totalCellCount = 0,
                v.prototype.getCell = function(t, e, i) {
                    var s, n = this.cells[t];
                    return n ? (s = n[e]) || (i ? (s = T(this, t, e),
                    this.cells[t][e] = s) : null) : i ? (s = T(this, t, e),
                    this.cells[t] = {},
                    this.cells[t][e] = s) : null
                }
                ,
                v.prototype.XToCell = function(t) {
                    return cr.floor(t / this.cellwidth)
                }
                ,
                v.prototype.YToCell = function(t) {
                    return cr.floor(t / this.cellheight)
                }
                ,
                v.prototype.update = function(t, e, i) {
                    var s, n, r, o, a;
                    if (e)
                        for (s = e.left,
                        n = e.right; s <= n; ++s)
                            for (r = e.top,
                            o = e.bottom; r <= o; ++r)
                                i && i.contains_pt(s, r) || (a = this.getCell(s, r, !1)) && (a.remove(t),
                                a.isEmpty() && (a = a,
                                v.prototype.totalCellCount--,
                                a.reset(),
                                S.length < 1e3 && S.push(a),
                                this.cells[s][r] = null));
                    if (i)
                        for (s = i.left,
                        n = i.right; s <= n; ++s)
                            for (r = i.top,
                            o = i.bottom; r <= o; ++r)
                                e && e.contains_pt(s, r) || this.getCell(s, r, !0).insert(t)
                }
                ,
                v.prototype.queryRange = function(t, e, i, s, n) {
                    for (var r, o, a = this.XToCell(t), h = this.YToCell(e), c = this.XToCell(i), l = this.YToCell(s); a <= c; ++a)
                        for (r = h; r <= l; ++r)
                            (o = this.getCell(a, r, !1)) && o.dump(n)
                }
                ,
                v.prototype.markRangeChanged = function(t) {
                    for (var e, i, s = t.left, n = t.top, r = t.right, o = t.bottom; s <= r; ++s)
                        for (e = n; e <= o; ++e)
                            (i = this.getCell(s, e, !1)) && (i.is_sorted = !1)
                }
                ,
                cr.RenderGrid = v;
                var b = [];
                function w(t, e, i) {
                    var s;
                    return _.prototype.totalCellCount++,
                    b.length ? ((s = b.pop()).grid = t,
                    s.x = e,
                    s.y = i,
                    s) : new cr.GridCell(t,e,i)
                }
                function x(t, e, i) {
                    this.grid = t,
                    this.x = e,
                    this.y = i,
                    this.objects = new cr.ObjectSet
                }
                x.prototype.isEmpty = function() {
                    return this.objects.isEmpty()
                }
                ,
                x.prototype.insert = function(t) {
                    this.objects.add(t)
                }
                ,
                x.prototype.remove = function(t) {
                    this.objects.remove(t)
                }
                ,
                x.prototype.dump = function(t) {
                    cr.appendArray(t, this.objects.valuesRef())
                }
                ,
                cr.GridCell = x;
                var S = [];
                function T(t, e, i) {
                    var s;
                    return v.prototype.totalCellCount++,
                    S.length ? ((s = S.pop()).grid = t,
                    s.x = e,
                    s.y = i,
                    s) : new cr.RenderCell(t,e,i)
                }
                function C(t, e, i) {
                    this.grid = t,
                    this.x = e,
                    this.y = i,
                    this.objects = [],
                    this.is_sorted = !0,
                    this.pending_removal = new cr.ObjectSet,
                    this.any_pending_removal = !1
                }
                function O(t, e) {
                    return t.zindex - e.zindex
                }
                C.prototype.isEmpty = function() {
                    return !this.objects.length || !(this.objects.length > this.pending_removal.count()) && (this.flush_pending(),
                    !0)
                }
                ,
                C.prototype.insert = function(t) {
                    if (this.pending_removal.contains(t))
                        return this.pending_removal.remove(t),
                        void (this.pending_removal.isEmpty() && (this.any_pending_removal = !1));
                    this.objects.length ? (this.objects[this.objects.length - 1].get_zindex() > t.get_zindex() && (this.is_sorted = !1),
                    this.objects.push(t)) : (this.objects.push(t),
                    this.is_sorted = !0)
                }
                ,
                C.prototype.remove = function(t) {
                    this.pending_removal.add(t),
                    this.any_pending_removal = !0,
                    30 <= this.pending_removal.count() && this.flush_pending()
                }
                ,
                C.prototype.flush_pending = function() {
                    this.any_pending_removal && (this.pending_removal.count() !== this.objects.length ? (cr.arrayRemoveAllFromObjectSet(this.objects, this.pending_removal),
                    this.pending_removal.clear(),
                    this.any_pending_removal = !1) : this.reset())
                }
                ,
                C.prototype.ensure_sorted = function() {
                    this.is_sorted || (this.objects.sort(O),
                    this.is_sorted = !0)
                }
                ,
                C.prototype.reset = function() {
                    cr.clearArray(this.objects),
                    this.is_sorted = !0,
                    this.pending_removal.clear(),
                    this.any_pending_removal = !1
                }
                ,
                C.prototype.dump = function(t) {
                    this.flush_pending(),
                    this.ensure_sorted(),
                    this.objects.length && t.push(this.objects)
                }
                ,
                cr.RenderCell = C;
                var k = ["lighter", "xor", "copy", "destination-over", "source-in", "destination-in", "source-out", "destination-out", "source-atop", "destination-atop"];
                cr.effectToCompositeOp = function(t) {
                    return t <= 0 || 11 <= t ? "source-over" : k[t - 1]
                }
                ,
                cr.setGLBlend = function(t, e, i) {
                    if (i)
                        switch (t.srcBlend = i.ONE,
                        t.destBlend = i.ONE_MINUS_SRC_ALPHA,
                        e) {
                        case 1:
                            t.srcBlend = i.ONE,
                            t.destBlend = i.ONE;
                            break;
                        case 2:
                            break;
                        case 3:
                            t.srcBlend = i.ONE,
                            t.destBlend = i.ZERO;
                            break;
                        case 4:
                            t.srcBlend = i.ONE_MINUS_DST_ALPHA,
                            t.destBlend = i.ONE;
                            break;
                        case 5:
                            t.srcBlend = i.DST_ALPHA,
                            t.destBlend = i.ZERO;
                            break;
                        case 6:
                            t.srcBlend = i.ZERO,
                            t.destBlend = i.SRC_ALPHA;
                            break;
                        case 7:
                            t.srcBlend = i.ONE_MINUS_DST_ALPHA,
                            t.destBlend = i.ZERO;
                            break;
                        case 8:
                            t.srcBlend = i.ZERO,
                            t.destBlend = i.ONE_MINUS_SRC_ALPHA;
                            break;
                        case 9:
                            t.srcBlend = i.DST_ALPHA,
                            t.destBlend = i.ONE_MINUS_SRC_ALPHA;
                            break;
                        case 10:
                            t.srcBlend = i.ONE_MINUS_DST_ALPHA,
                            t.destBlend = i.SRC_ALPHA
                        }
                }
                ,
                cr.round6dp = function(t) {
                    return Math.round(1e6 * t) / 1e6
                }
                ,
                cr.equals_nocase = function(t, e) {
                    return "string" == typeof t && "string" == typeof e && (t.length === e.length && (t === e || t.toLowerCase() === e.toLowerCase()))
                }
                ,
                cr.isCanvasInputEvent = function(t) {
                    t = t.target;
                    return !t || (t === document || t === window || (!(!document || !document.body || t !== document.body) || !!cr.equals_nocase(t.tagName, "canvas")))
                }
            }();
            var MatrixArray = "undefined" != typeof Float32Array ? Float32Array : Array
              , glMatrixArrayType = MatrixArray
              , vec3 = {}
              , mat3 = {}
              , mat4 = {}
              , quat4 = {};
            vec3.create = function(t) {
                var e = new MatrixArray(3);
                return t && (e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2]),
                e
            }
            ,
            vec3.set = function(t, e) {
                return e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e
            }
            ,
            vec3.add = function(t, e, i) {
                return i && t !== i ? (i[0] = t[0] + e[0],
                i[1] = t[1] + e[1],
                i[2] = t[2] + e[2],
                i) : (t[0] += e[0],
                t[1] += e[1],
                t[2] += e[2],
                t)
            }
            ,
            vec3.subtract = function(t, e, i) {
                return i && t !== i ? (i[0] = t[0] - e[0],
                i[1] = t[1] - e[1],
                i[2] = t[2] - e[2],
                i) : (t[0] -= e[0],
                t[1] -= e[1],
                t[2] -= e[2],
                t)
            }
            ,
            vec3.negate = function(t, e) {
                return (e = e || t)[0] = -t[0],
                e[1] = -t[1],
                e[2] = -t[2],
                e
            }
            ,
            vec3.scale = function(t, e, i) {
                return i && t !== i ? (i[0] = t[0] * e,
                i[1] = t[1] * e,
                i[2] = t[2] * e,
                i) : (t[0] *= e,
                t[1] *= e,
                t[2] *= e,
                t)
            }
            ,
            vec3.normalize = function(t, e) {
                e = e || t;
                var i = t[0]
                  , s = t[1]
                  , n = t[2]
                  , t = Math.sqrt(i * i + s * s + n * n);
                return t ? 1 === t ? (e[0] = i,
                e[1] = s,
                e[2] = n) : (t = 1 / t,
                e[0] = i * t,
                e[1] = s * t,
                e[2] = n * t) : (e[0] = 0,
                e[1] = 0,
                e[2] = 0),
                e
            }
            ,
            vec3.cross = function(t, e, i) {
                i = i || t;
                var s = t[0]
                  , n = t[1]
                  , t = t[2]
                  , r = e[0]
                  , o = e[1]
                  , e = e[2];
                return i[0] = n * e - t * o,
                i[1] = t * r - s * e,
                i[2] = s * o - n * r,
                i
            }
            ,
            vec3.length = function(t) {
                var e = t[0]
                  , i = t[1]
                  , t = t[2];
                return Math.sqrt(e * e + i * i + t * t)
            }
            ,
            vec3.dot = function(t, e) {
                return t[0] * e[0] + t[1] * e[1] + t[2] * e[2]
            }
            ,
            vec3.direction = function(t, e, i) {
                i = i || t;
                var s = t[0] - e[0]
                  , n = t[1] - e[1]
                  , t = t[2] - e[2];
                return (e = Math.sqrt(s * s + n * n + t * t)) ? (e = 1 / e,
                i[0] = s * e,
                i[1] = n * e,
                i[2] = t * e) : (i[0] = 0,
                i[1] = 0,
                i[2] = 0),
                i
            }
            ,
            vec3.lerp = function(t, e, i, s) {
                return (s = s || t)[0] = t[0] + i * (e[0] - t[0]),
                s[1] = t[1] + i * (e[1] - t[1]),
                s[2] = t[2] + i * (e[2] - t[2]),
                s
            }
            ,
            vec3.str = function(t) {
                return "[" + t[0] + ", " + t[1] + ", " + t[2] + "]"
            }
            ,
            mat3.create = function(t) {
                var e = new MatrixArray(9);
                return t && (e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3],
                e[4] = t[4],
                e[5] = t[5],
                e[6] = t[6],
                e[7] = t[7],
                e[8] = t[8]),
                e
            }
            ,
            mat3.set = function(t, e) {
                return e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3],
                e[4] = t[4],
                e[5] = t[5],
                e[6] = t[6],
                e[7] = t[7],
                e[8] = t[8],
                e
            }
            ,
            mat3.identity = function(t) {
                return t[0] = 1,
                t[1] = 0,
                t[2] = 0,
                t[3] = 0,
                t[4] = 1,
                t[5] = 0,
                t[6] = 0,
                t[7] = 0,
                t[8] = 1,
                t
            }
            ,
            mat3.transpose = function(t, e) {
                if (e && t !== e)
                    return e[0] = t[0],
                    e[1] = t[3],
                    e[2] = t[6],
                    e[3] = t[1],
                    e[4] = t[4],
                    e[5] = t[7],
                    e[6] = t[2],
                    e[7] = t[5],
                    e[8] = t[8],
                    e;
                var i = t[1]
                  , s = t[2]
                  , e = t[5];
                return t[1] = t[3],
                t[2] = t[6],
                t[3] = i,
                t[5] = t[7],
                t[6] = s,
                t[7] = e,
                t
            }
            ,
            mat3.toMat4 = function(t, e) {
                return (e = e || mat4.create())[15] = 1,
                e[14] = 0,
                e[13] = 0,
                e[12] = 0,
                e[11] = 0,
                e[10] = t[8],
                e[9] = t[7],
                e[8] = t[6],
                e[7] = 0,
                e[6] = t[5],
                e[5] = t[4],
                e[4] = t[3],
                e[3] = 0,
                e[2] = t[2],
                e[1] = t[1],
                e[0] = t[0],
                e
            }
            ,
            mat3.str = function(t) {
                return "[" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ", " + t[4] + ", " + t[5] + ", " + t[6] + ", " + t[7] + ", " + t[8] + "]"
            }
            ,
            mat4.create = function(t) {
                var e = new MatrixArray(16);
                return t && (e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3],
                e[4] = t[4],
                e[5] = t[5],
                e[6] = t[6],
                e[7] = t[7],
                e[8] = t[8],
                e[9] = t[9],
                e[10] = t[10],
                e[11] = t[11],
                e[12] = t[12],
                e[13] = t[13],
                e[14] = t[14],
                e[15] = t[15]),
                e
            }
            ,
            mat4.set = function(t, e) {
                return e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3],
                e[4] = t[4],
                e[5] = t[5],
                e[6] = t[6],
                e[7] = t[7],
                e[8] = t[8],
                e[9] = t[9],
                e[10] = t[10],
                e[11] = t[11],
                e[12] = t[12],
                e[13] = t[13],
                e[14] = t[14],
                e[15] = t[15],
                e
            }
            ,
            mat4.identity = function(t) {
                return t[0] = 1,
                t[1] = 0,
                t[2] = 0,
                t[3] = 0,
                t[4] = 0,
                t[5] = 1,
                t[6] = 0,
                t[7] = 0,
                t[8] = 0,
                t[9] = 0,
                t[10] = 1,
                t[11] = 0,
                t[12] = 0,
                t[13] = 0,
                t[14] = 0,
                t[15] = 1,
                t
            }
            ,
            mat4.transpose = function(t, e) {
                if (e && t !== e)
                    return e[0] = t[0],
                    e[1] = t[4],
                    e[2] = t[8],
                    e[3] = t[12],
                    e[4] = t[1],
                    e[5] = t[5],
                    e[6] = t[9],
                    e[7] = t[13],
                    e[8] = t[2],
                    e[9] = t[6],
                    e[10] = t[10],
                    e[11] = t[14],
                    e[12] = t[3],
                    e[13] = t[7],
                    e[14] = t[11],
                    e[15] = t[15],
                    e;
                var i = t[1]
                  , s = t[2]
                  , n = t[3]
                  , r = t[6]
                  , o = t[7]
                  , e = t[11];
                return t[1] = t[4],
                t[2] = t[8],
                t[3] = t[12],
                t[4] = i,
                t[6] = t[9],
                t[7] = t[13],
                t[8] = s,
                t[9] = r,
                t[11] = t[14],
                t[12] = n,
                t[13] = o,
                t[14] = e,
                t
            }
            ,
            mat4.determinant = function(t) {
                var e = t[0]
                  , i = t[1]
                  , s = t[2]
                  , n = t[3]
                  , r = t[4]
                  , o = t[5]
                  , a = t[6]
                  , h = t[7]
                  , c = t[8]
                  , l = t[9]
                  , u = t[10]
                  , p = t[11]
                  , d = t[12]
                  , g = t[13]
                  , f = t[14];
                return d * l * a * n - c * g * a * n - d * o * u * n + r * g * u * n + c * o * f * n - r * l * f * n - d * l * s * h + c * g * s * h + d * i * u * h - e * g * u * h - c * i * f * h + e * l * f * h + d * o * s * p - r * g * s * p - d * i * a * p + e * g * a * p + r * i * f * p - e * o * f * p - c * o * s * (t = t[15]) + r * l * s * t + c * i * a * t - e * l * a * t - r * i * u * t + e * o * u * t
            }
            ,
            mat4.inverse = function(t, e) {
                e = e || t;
                var i = t[0]
                  , s = t[1]
                  , n = t[2]
                  , r = t[3]
                  , o = t[4]
                  , a = t[5]
                  , h = t[6]
                  , c = t[7]
                  , l = t[8]
                  , u = t[9]
                  , p = t[10]
                  , d = t[11]
                  , g = t[12]
                  , f = t[13]
                  , m = t[14]
                  , y = t[15]
                  , _ = i * a - s * o
                  , v = i * h - n * o
                  , b = i * c - r * o
                  , w = s * h - n * a
                  , x = s * c - r * a
                  , S = n * c - r * h
                  , T = l * f - u * g
                  , C = l * m - p * g
                  , O = l * y - d * g
                  , k = u * m - p * f
                  , A = u * y - d * f
                  , E = p * y - d * m
                  , t = 1 / (_ * E - v * A + b * k + w * O - x * C + S * T);
                return e[0] = (a * E - h * A + c * k) * t,
                e[1] = (-s * E + n * A - r * k) * t,
                e[2] = (f * S - m * x + y * w) * t,
                e[3] = (-u * S + p * x - d * w) * t,
                e[4] = (-o * E + h * O - c * C) * t,
                e[5] = (i * E - n * O + r * C) * t,
                e[6] = (-g * S + m * b - y * v) * t,
                e[7] = (l * S - p * b + d * v) * t,
                e[8] = (o * A - a * O + c * T) * t,
                e[9] = (-i * A + s * O - r * T) * t,
                e[10] = (g * x - f * b + y * _) * t,
                e[11] = (-l * x + u * b - d * _) * t,
                e[12] = (-o * k + a * C - h * T) * t,
                e[13] = (i * k - s * C + n * T) * t,
                e[14] = (-g * w + f * v - m * _) * t,
                e[15] = (l * w - u * v + p * _) * t,
                e
            }
            ,
            mat4.toRotationMat = function(t, e) {
                return (e = e || mat4.create())[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3],
                e[4] = t[4],
                e[5] = t[5],
                e[6] = t[6],
                e[7] = t[7],
                e[8] = t[8],
                e[9] = t[9],
                e[10] = t[10],
                e[11] = t[11],
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
            ,
            mat4.toMat3 = function(t, e) {
                return (e = e || mat3.create())[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[4],
                e[4] = t[5],
                e[5] = t[6],
                e[6] = t[8],
                e[7] = t[9],
                e[8] = t[10],
                e
            }
            ,
            mat4.toInverseMat3 = function(t, e) {
                var i = t[0]
                  , s = t[1]
                  , n = t[2]
                  , r = t[4]
                  , o = t[5]
                  , a = t[6]
                  , h = t[8]
                  , c = t[9]
                  , l = t[10]
                  , u = l * o - a * c
                  , p = -l * r + a * h
                  , d = c * r - o * h
                  , t = i * u + s * p + n * d;
                return t ? (t = 1 / t,
                (e = e || mat3.create())[0] = u * t,
                e[1] = (-l * s + n * c) * t,
                e[2] = (a * s - n * o) * t,
                e[3] = p * t,
                e[4] = (l * i - n * h) * t,
                e[5] = (-a * i + n * r) * t,
                e[6] = d * t,
                e[7] = (-c * i + s * h) * t,
                e[8] = (o * i - s * r) * t,
                e) : null
            }
            ,
            mat4.multiply = function(t, e, i) {
                i = i || t;
                var s = t[0]
                  , n = t[1]
                  , r = t[2]
                  , o = t[3]
                  , a = t[4]
                  , h = t[5]
                  , c = t[6]
                  , l = t[7]
                  , u = t[8]
                  , p = t[9]
                  , d = t[10]
                  , g = t[11]
                  , f = t[12]
                  , m = t[13]
                  , y = t[14]
                  , t = t[15]
                  , _ = e[0]
                  , v = e[1]
                  , b = e[2]
                  , w = e[3]
                  , x = e[4]
                  , S = e[5]
                  , T = e[6]
                  , C = e[7]
                  , O = e[8]
                  , k = e[9]
                  , A = e[10]
                  , E = e[11]
                  , I = e[12]
                  , P = e[13]
                  , M = e[14]
                  , e = e[15];
                return i[0] = _ * s + v * a + b * u + w * f,
                i[1] = _ * n + v * h + b * p + w * m,
                i[2] = _ * r + v * c + b * d + w * y,
                i[3] = _ * o + v * l + b * g + w * t,
                i[4] = x * s + S * a + T * u + C * f,
                i[5] = x * n + S * h + T * p + C * m,
                i[6] = x * r + S * c + T * d + C * y,
                i[7] = x * o + S * l + T * g + C * t,
                i[8] = O * s + k * a + A * u + E * f,
                i[9] = O * n + k * h + A * p + E * m,
                i[10] = O * r + k * c + A * d + E * y,
                i[11] = O * o + k * l + A * g + E * t,
                i[12] = I * s + P * a + M * u + e * f,
                i[13] = I * n + P * h + M * p + e * m,
                i[14] = I * r + P * c + M * d + e * y,
                i[15] = I * o + P * l + M * g + e * t,
                i
            }
            ,
            mat4.multiplyVec3 = function(t, e, i) {
                i = i || e;
                var s = e[0]
                  , n = e[1]
                  , e = e[2];
                return i[0] = t[0] * s + t[4] * n + t[8] * e + t[12],
                i[1] = t[1] * s + t[5] * n + t[9] * e + t[13],
                i[2] = t[2] * s + t[6] * n + t[10] * e + t[14],
                i
            }
            ,
            mat4.multiplyVec4 = function(t, e, i) {
                i = i || e;
                var s = e[0]
                  , n = e[1]
                  , r = e[2]
                  , e = e[3];
                return i[0] = t[0] * s + t[4] * n + t[8] * r + t[12] * e,
                i[1] = t[1] * s + t[5] * n + t[9] * r + t[13] * e,
                i[2] = t[2] * s + t[6] * n + t[10] * r + t[14] * e,
                i[3] = t[3] * s + t[7] * n + t[11] * r + t[15] * e,
                i
            }
            ,
            mat4.translate = function(t, e, i) {
                var s, n, r, o, a, h, c, l, u, p, d, g, f = e[0], m = e[1], e = e[2];
                return i && t !== i ? (s = t[0],
                n = t[1],
                r = t[2],
                o = t[3],
                a = t[4],
                h = t[5],
                c = t[6],
                l = t[7],
                u = t[8],
                p = t[9],
                d = t[10],
                g = t[11],
                i[0] = s,
                i[1] = n,
                i[2] = r,
                i[3] = o,
                i[4] = a,
                i[5] = h,
                i[6] = c,
                i[7] = l,
                i[8] = u,
                i[9] = p,
                i[10] = d,
                i[11] = g,
                i[12] = s * f + a * m + u * e + t[12],
                i[13] = n * f + h * m + p * e + t[13],
                i[14] = r * f + c * m + d * e + t[14],
                i[15] = o * f + l * m + g * e + t[15],
                i) : (t[12] = t[0] * f + t[4] * m + t[8] * e + t[12],
                t[13] = t[1] * f + t[5] * m + t[9] * e + t[13],
                t[14] = t[2] * f + t[6] * m + t[10] * e + t[14],
                t[15] = t[3] * f + t[7] * m + t[11] * e + t[15],
                t)
            }
            ,
            mat4.scale = function(t, e, i) {
                var s = e[0]
                  , n = e[1]
                  , e = e[2];
                return i && t !== i ? (i[0] = t[0] * s,
                i[1] = t[1] * s,
                i[2] = t[2] * s,
                i[3] = t[3] * s,
                i[4] = t[4] * n,
                i[5] = t[5] * n,
                i[6] = t[6] * n,
                i[7] = t[7] * n,
                i[8] = t[8] * e,
                i[9] = t[9] * e,
                i[10] = t[10] * e,
                i[11] = t[11] * e,
                i[12] = t[12],
                i[13] = t[13],
                i[14] = t[14],
                i[15] = t[15],
                i) : (t[0] *= s,
                t[1] *= s,
                t[2] *= s,
                t[3] *= s,
                t[4] *= n,
                t[5] *= n,
                t[6] *= n,
                t[7] *= n,
                t[8] *= e,
                t[9] *= e,
                t[10] *= e,
                t[11] *= e,
                t)
            }
            ,
            mat4.rotate = function(t, e, i, s) {
                var n, r, o, a, h, c, l, u, p, d, g, f, m, y, _, v, b, w, x, S, T = i[0], C = i[1], i = i[2], O = Math.sqrt(T * T + C * C + i * i);
                return O ? (1 !== O && (T *= O = 1 / O,
                C *= O,
                i *= O),
                n = Math.sin(e),
                o = 1 - (r = Math.cos(e)),
                e = t[0],
                O = t[1],
                a = t[2],
                h = t[3],
                c = t[4],
                l = t[5],
                u = t[6],
                p = t[7],
                d = t[8],
                g = t[9],
                f = t[10],
                m = t[11],
                y = T * T * o + r,
                _ = C * T * o + i * n,
                v = i * T * o - C * n,
                b = T * C * o - i * n,
                w = C * C * o + r,
                x = i * C * o + T * n,
                S = T * i * o + C * n,
                T = C * i * o - T * n,
                C = i * i * o + r,
                s ? t !== s && (s[12] = t[12],
                s[13] = t[13],
                s[14] = t[14],
                s[15] = t[15]) : s = t,
                s[0] = e * y + c * _ + d * v,
                s[1] = O * y + l * _ + g * v,
                s[2] = a * y + u * _ + f * v,
                s[3] = h * y + p * _ + m * v,
                s[4] = e * b + c * w + d * x,
                s[5] = O * b + l * w + g * x,
                s[6] = a * b + u * w + f * x,
                s[7] = h * b + p * w + m * x,
                s[8] = e * S + c * T + d * C,
                s[9] = O * S + l * T + g * C,
                s[10] = a * S + u * T + f * C,
                s[11] = h * S + p * T + m * C,
                s) : null
            }
            ,
            mat4.rotateX = function(t, e, i) {
                var s = Math.sin(e)
                  , e = Math.cos(e)
                  , n = t[4]
                  , r = t[5]
                  , o = t[6]
                  , a = t[7]
                  , h = t[8]
                  , c = t[9]
                  , l = t[10]
                  , u = t[11];
                return i ? t !== i && (i[0] = t[0],
                i[1] = t[1],
                i[2] = t[2],
                i[3] = t[3],
                i[12] = t[12],
                i[13] = t[13],
                i[14] = t[14],
                i[15] = t[15]) : i = t,
                i[4] = n * e + h * s,
                i[5] = r * e + c * s,
                i[6] = o * e + l * s,
                i[7] = a * e + u * s,
                i[8] = n * -s + h * e,
                i[9] = r * -s + c * e,
                i[10] = o * -s + l * e,
                i[11] = a * -s + u * e,
                i
            }
            ,
            mat4.rotateY = function(t, e, i) {
                var s = Math.sin(e)
                  , e = Math.cos(e)
                  , n = t[0]
                  , r = t[1]
                  , o = t[2]
                  , a = t[3]
                  , h = t[8]
                  , c = t[9]
                  , l = t[10]
                  , u = t[11];
                return i ? t !== i && (i[4] = t[4],
                i[5] = t[5],
                i[6] = t[6],
                i[7] = t[7],
                i[12] = t[12],
                i[13] = t[13],
                i[14] = t[14],
                i[15] = t[15]) : i = t,
                i[0] = n * e + h * -s,
                i[1] = r * e + c * -s,
                i[2] = o * e + l * -s,
                i[3] = a * e + u * -s,
                i[8] = n * s + h * e,
                i[9] = r * s + c * e,
                i[10] = o * s + l * e,
                i[11] = a * s + u * e,
                i
            }
            ,
            mat4.rotateZ = function(t, e, i) {
                var s = Math.sin(e)
                  , e = Math.cos(e)
                  , n = t[0]
                  , r = t[1]
                  , o = t[2]
                  , a = t[3]
                  , h = t[4]
                  , c = t[5]
                  , l = t[6]
                  , u = t[7];
                return i ? t !== i && (i[8] = t[8],
                i[9] = t[9],
                i[10] = t[10],
                i[11] = t[11],
                i[12] = t[12],
                i[13] = t[13],
                i[14] = t[14],
                i[15] = t[15]) : i = t,
                i[0] = n * e + h * s,
                i[1] = r * e + c * s,
                i[2] = o * e + l * s,
                i[3] = a * e + u * s,
                i[4] = n * -s + h * e,
                i[5] = r * -s + c * e,
                i[6] = o * -s + l * e,
                i[7] = a * -s + u * e,
                i
            }
            ,
            mat4.frustum = function(t, e, i, s, n, r, o) {
                var a = e - t
                  , h = s - i
                  , c = r - n;
                return (o = o || mat4.create())[0] = 2 * n / a,
                o[1] = 0,
                o[2] = 0,
                o[3] = 0,
                o[4] = 0,
                o[5] = 2 * n / h,
                o[6] = 0,
                o[7] = 0,
                o[8] = (e + t) / a,
                o[9] = (s + i) / h,
                o[10] = -(r + n) / c,
                o[11] = -1,
                o[12] = 0,
                o[13] = 0,
                o[14] = -r * n * 2 / c,
                o[15] = 0,
                o
            }
            ,
            mat4.perspective = function(t, e, i, s, n) {
                return e *= t = i * Math.tan(t * Math.PI / 360),
                mat4.frustum(-e, e, -t, t, i, s, n)
            }
            ,
            mat4.ortho = function(t, e, i, s, n, r, o) {
                var a = e - t
                  , h = s - i
                  , c = r - n;
                return (o = o || mat4.create())[0] = 2 / a,
                o[1] = 0,
                o[2] = 0,
                o[3] = 0,
                o[4] = 0,
                o[5] = 2 / h,
                o[6] = 0,
                o[7] = 0,
                o[8] = 0,
                o[9] = 0,
                o[10] = -2 / c,
                o[11] = 0,
                o[12] = -(t + e) / a,
                o[13] = -(s + i) / h,
                o[14] = -(r + n) / c,
                o[15] = 1,
                o
            }
            ,
            mat4.lookAt = function(t, e, i, s) {
                s = s || mat4.create();
                var n, r, o, a, h, c = t[0], l = t[1], t = t[2], u = i[0], p = i[1], d = i[2];
                return i = e[1],
                o = e[2],
                c === e[0] && l === i && t === o ? mat4.identity(s) : (i = c - e[0],
                o = l - e[1],
                a = t - e[2],
                e = p * (a *= h = 1 / Math.sqrt(i * i + o * o + a * a)) - d * (o *= h),
                d = d * (i *= h) - u * a,
                u = u * o - p * i,
                (h = Math.sqrt(e * e + d * d + u * u)) ? (e *= h = 1 / h,
                d *= h,
                u *= h) : u = d = e = 0,
                p = o * u - a * d,
                n = a * e - i * u,
                r = i * d - o * e,
                (h = Math.sqrt(p * p + n * n + r * r)) ? (p *= h = 1 / h,
                n *= h,
                r *= h) : r = n = p = 0,
                s[0] = e,
                s[1] = p,
                s[2] = i,
                s[3] = 0,
                s[4] = d,
                s[5] = n,
                s[6] = o,
                s[7] = 0,
                s[8] = u,
                s[9] = r,
                s[10] = a,
                s[11] = 0,
                s[12] = -(e * c + d * l + u * t),
                s[13] = -(p * c + n * l + r * t),
                s[14] = -(i * c + o * l + a * t),
                s[15] = 1,
                s)
            }
            ,
            mat4.fromRotationTranslation = function(t, e, i) {
                i = i || mat4.create();
                var s = t[0]
                  , n = t[1]
                  , r = t[2]
                  , o = t[3]
                  , a = s + s
                  , h = n + n
                  , c = r + r
                  , t = s * a
                  , l = s * h;
                s *= c;
                var u = n * h;
                return n *= c,
                r *= c,
                a *= o,
                h *= o,
                o *= c,
                i[0] = 1 - (u + r),
                i[1] = l + o,
                i[2] = s - h,
                i[3] = 0,
                i[4] = l - o,
                i[5] = 1 - (t + r),
                i[6] = n + a,
                i[7] = 0,
                i[8] = s + h,
                i[9] = n - a,
                i[10] = 1 - (t + u),
                i[11] = 0,
                i[12] = e[0],
                i[13] = e[1],
                i[14] = e[2],
                i[15] = 1,
                i
            }
            ,
            mat4.str = function(t) {
                return "[" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ", " + t[4] + ", " + t[5] + ", " + t[6] + ", " + t[7] + ", " + t[8] + ", " + t[9] + ", " + t[10] + ", " + t[11] + ", " + t[12] + ", " + t[13] + ", " + t[14] + ", " + t[15] + "]"
            }
            ,
            quat4.create = function(t) {
                var e = new MatrixArray(4);
                return t && (e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3]),
                e
            }
            ,
            quat4.set = function(t, e) {
                return e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3],
                e
            }
            ,
            quat4.calculateW = function(t, e) {
                var i = t[0]
                  , s = t[1]
                  , n = t[2];
                return e && t !== e ? (e[0] = i,
                e[1] = s,
                e[2] = n,
                e[3] = -Math.sqrt(Math.abs(1 - i * i - s * s - n * n)),
                e) : (t[3] = -Math.sqrt(Math.abs(1 - i * i - s * s - n * n)),
                t)
            }
            ,
            quat4.inverse = function(t, e) {
                return e && t !== e ? (e[0] = -t[0],
                e[1] = -t[1],
                e[2] = -t[2],
                e[3] = t[3],
                e) : (t[0] *= -1,
                t[1] *= -1,
                t[2] *= -1,
                t)
            }
            ,
            quat4.length = function(t) {
                var e = t[0]
                  , i = t[1]
                  , s = t[2]
                  , t = t[3];
                return Math.sqrt(e * e + i * i + s * s + t * t)
            }
            ,
            quat4.normalize = function(t, e) {
                e = e || t;
                var i = t[0]
                  , s = t[1]
                  , n = t[2]
                  , r = t[3]
                  , t = Math.sqrt(i * i + s * s + n * n + r * r);
                return 0 === t ? (e[0] = 0,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0) : (t = 1 / t,
                e[0] = i * t,
                e[1] = s * t,
                e[2] = n * t,
                e[3] = r * t),
                e
            }
            ,
            quat4.multiply = function(t, e, i) {
                i = i || t;
                var s = t[0]
                  , n = t[1]
                  , r = t[2]
                  , t = t[3]
                  , o = e[0]
                  , a = e[1]
                  , h = e[2]
                  , e = e[3];
                return i[0] = s * e + t * o + n * h - r * a,
                i[1] = n * e + t * a + r * o - s * h,
                i[2] = r * e + t * h + s * a - n * o,
                i[3] = t * e - s * o - n * a - r * h,
                i
            }
            ,
            quat4.multiplyVec3 = function(t, e, i) {
                i = i || e;
                var s = e[0]
                  , n = e[1]
                  , r = e[2]
                  , e = t[0]
                  , o = t[1]
                  , a = t[2]
                  , h = (t = t[3]) * s + o * r - a * n
                  , c = t * n + a * s - e * r
                  , l = t * r + e * n - o * s
                  , s = -e * s - o * n - a * r;
                return i[0] = h * t + s * -e + c * -a - l * -o,
                i[1] = c * t + s * -o + l * -e - h * -a,
                i[2] = l * t + s * -a + h * -o - c * -e,
                i
            }
            ,
            quat4.toMat3 = function(t, e) {
                e = e || mat3.create();
                var i = t[0]
                  , s = t[1]
                  , n = t[2]
                  , r = t[3]
                  , o = i + i
                  , a = s + s
                  , h = n + n
                  , c = i * o
                  , l = i * a;
                i *= h;
                t = s * a;
                return s *= h,
                n *= h,
                o *= r,
                a *= r,
                r *= h,
                e[0] = 1 - (t + n),
                e[1] = l + r,
                e[2] = i - a,
                e[3] = l - r,
                e[4] = 1 - (c + n),
                e[5] = s + o,
                e[6] = i + a,
                e[7] = s - o,
                e[8] = 1 - (c + t),
                e
            }
            ,
            quat4.toMat4 = function(t, e) {
                e = e || mat4.create();
                var i = t[0]
                  , s = t[1]
                  , n = t[2]
                  , r = t[3]
                  , o = i + i
                  , a = s + s
                  , h = n + n
                  , c = i * o
                  , l = i * a;
                i *= h;
                t = s * a;
                return s *= h,
                n *= h,
                o *= r,
                a *= r,
                r *= h,
                e[0] = 1 - (t + n),
                e[1] = l + r,
                e[2] = i - a,
                e[3] = 0,
                e[4] = l - r,
                e[5] = 1 - (c + n),
                e[6] = s + o,
                e[7] = 0,
                e[8] = i + a,
                e[9] = s - o,
                e[10] = 1 - (c + t),
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
            ,
            quat4.slerp = function(t, e, i, s) {
                s = s || t;
                var n, r, o = t[0] * e[0] + t[1] * e[1] + t[2] * e[2] + t[3] * e[3];
                return 1 <= Math.abs(o) ? (s !== t && (s[0] = t[0],
                s[1] = t[1],
                s[2] = t[2],
                s[3] = t[3]),
                s) : (n = Math.acos(o),
                r = Math.sqrt(1 - o * o),
                Math.abs(r) < .001 ? (s[0] = .5 * t[0] + .5 * e[0],
                s[1] = .5 * t[1] + .5 * e[1],
                s[2] = .5 * t[2] + .5 * e[2],
                s[3] = .5 * t[3] + .5 * e[3]) : (o = Math.sin((1 - i) * n) / r,
                i = Math.sin(i * n) / r,
                s[0] = t[0] * o + e[0] * i,
                s[1] = t[1] * o + e[1] * i,
                s[2] = t[2] * o + e[2] * i,
                s[3] = t[3] * o + e[3] * i),
                s)
            }
            ,
            quat4.str = function(t) {
                return "[" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + "]"
            }
            ,
            function() {
                var i = mat4.create();
                function t(t, e, i) {
                    this.isIE = /msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent),
                    this.width = 0,
                    this.height = 0,
                    this.enableFrontToBack = !!i,
                    this.isEarlyZPass = !1,
                    this.isBatchInEarlyZPass = !1,
                    this.currentZ = 0,
                    this.zNear = 1,
                    this.zFar = 1e3,
                    this.zIncrement = (this.zFar - this.zNear) / 32768,
                    this.zA = this.zFar / (this.zFar - this.zNear),
                    this.zB = this.zFar * this.zNear / (this.zNear - this.zFar),
                    this.kzA = 65536 * this.zA,
                    this.kzB = 65536 * this.zB,
                    this.cam = vec3.create([0, 0, 100]),
                    this.look = vec3.create([0, 0, 0]),
                    this.up = vec3.create([0, 1, 0]),
                    this.worldScale = vec3.create([1, 1, 1]),
                    this.enable_mipmaps = !0,
                    this.matP = mat4.create(),
                    this.matMV = mat4.create(),
                    this.lastMV = mat4.create(),
                    this.currentMV = mat4.create(),
                    this.gl = t,
                    this.version = 0 === this.gl.getParameter(this.gl.VERSION).indexOf("WebGL 2") ? 2 : 1,
                    this.initState()
                }
                function u(t, e, i) {
                    this.gl = t,
                    this.shaderProgram = e,
                    this.name = i,
                    this.locAPos = t.getAttribLocation(e, "aPos"),
                    this.locATex = t.getAttribLocation(e, "aTex"),
                    this.locMatP = t.getUniformLocation(e, "matP"),
                    this.locMatMV = t.getUniformLocation(e, "matMV"),
                    this.locOpacity = t.getUniformLocation(e, "opacity"),
                    this.locColorFill = t.getUniformLocation(e, "colorFill"),
                    this.locSamplerFront = t.getUniformLocation(e, "samplerFront"),
                    this.locSamplerBack = t.getUniformLocation(e, "samplerBack"),
                    this.locDestStart = t.getUniformLocation(e, "destStart"),
                    this.locDestEnd = t.getUniformLocation(e, "destEnd"),
                    this.locSeconds = t.getUniformLocation(e, "seconds"),
                    this.locPixelWidth = t.getUniformLocation(e, "pixelWidth"),
                    this.locPixelHeight = t.getUniformLocation(e, "pixelHeight"),
                    this.locLayerScale = t.getUniformLocation(e, "layerScale"),
                    this.locLayerAngle = t.getUniformLocation(e, "layerAngle"),
                    this.locViewOrigin = t.getUniformLocation(e, "viewOrigin"),
                    this.locScrollPos = t.getUniformLocation(e, "scrollPos"),
                    this.hasAnyOptionalUniforms = !!(this.locPixelWidth || this.locPixelHeight || this.locSeconds || this.locSamplerBack || this.locDestStart || this.locDestEnd || this.locLayerScale || this.locLayerAngle || this.locViewOrigin || this.locScrollPos),
                    this.lpPixelWidth = -999,
                    this.lpPixelHeight = -999,
                    this.lpOpacity = 1,
                    this.lpDestStartX = 0,
                    this.lpDestStartY = 0,
                    this.lpDestEndX = 1,
                    this.lpDestEndY = 1,
                    this.lpLayerScale = 1,
                    this.lpLayerAngle = 0,
                    this.lpViewOriginX = 0,
                    this.lpViewOriginY = 0,
                    this.lpScrollPosX = 0,
                    this.lpScrollPosY = 0,
                    this.lpSeconds = 0,
                    this.lastCustomParams = [],
                    this.lpMatMV = mat4.create(),
                    this.locOpacity && t.uniform1f(this.locOpacity, 1),
                    this.locColorFill && t.uniform4f(this.locColorFill, 1, 1, 1, 1),
                    this.locSamplerFront && t.uniform1i(this.locSamplerFront, 0),
                    this.locSamplerBack && t.uniform1i(this.locSamplerBack, 1),
                    this.locDestStart && t.uniform2f(this.locDestStart, 0, 0),
                    this.locDestEnd && t.uniform2f(this.locDestEnd, 1, 1),
                    this.locLayerScale && t.uniform1f(this.locLayerScale, 1),
                    this.locLayerAngle && t.uniform1f(this.locLayerAngle, 0),
                    this.locViewOrigin && t.uniform2f(this.locViewOrigin, 0, 0),
                    this.locScrollPos && t.uniform2f(this.locScrollPos, 0, 0),
                    this.locSeconds && t.uniform1f(this.locSeconds, 0),
                    this.hasCurrentMatMV = !1
                }
                function e(t, e) {
                    return t[0] === e[0] && t[1] === e[1] && t[2] === e[2] && t[3] === e[3] && t[4] === e[4] && t[5] === e[5] && t[6] === e[6] && t[7] === e[7] && t[8] === e[8] && t[9] === e[9] && t[10] === e[10] && t[11] === e[11] && t[12] === e[12] && t[13] === e[13] && t[14] === e[14] && t[15] === e[15]
                }
                function s(t, e) {
                    this.type = t,
                    this.glwrap = e,
                    this.gl = e.gl,
                    this.opacityParam = 0,
                    this.startIndex = 0,
                    this.indexCount = 0,
                    this.texParam = null,
                    this.mat4param = null,
                    this.shaderParams = [],
                    cr.seal(this)
                }
                t.prototype.initState = function() {
                    var t = this.gl;
                    for (this.lastOpacity = 1,
                    this.lastTexture0 = null,
                    this.lastTexture1 = null,
                    this.currentOpacity = 1,
                    t.clearColor(0, 0, 0, 0),
                    t.clear(t.COLOR_BUFFER_BIT),
                    t.enable(t.BLEND),
                    t.blendFunc(t.ONE, t.ONE_MINUS_SRC_ALPHA),
                    t.disable(t.CULL_FACE),
                    t.disable(t.STENCIL_TEST),
                    t.disable(t.DITHER),
                    this.enableFrontToBack ? (t.enable(t.DEPTH_TEST),
                    t.depthFunc(t.LEQUAL)) : t.disable(t.DEPTH_TEST),
                    this.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE),
                    this.lastSrcBlend = t.ONE,
                    this.lastDestBlend = t.ONE_MINUS_SRC_ALPHA,
                    this.vertexData = new Float32Array(8e3 * (this.enableFrontToBack ? 3 : 2)),
                    this.texcoordData = new Float32Array(16e3),
                    this.pointData = new Float32Array(32e3),
                    this.pointBuffer = t.createBuffer(),
                    t.bindBuffer(t.ARRAY_BUFFER, this.pointBuffer),
                    t.bufferData(t.ARRAY_BUFFER, this.pointData.byteLength, t.DYNAMIC_DRAW),
                    this.vertexBuffers = new Array(4),
                    this.texcoordBuffers = new Array(4),
                    n = 0; n < 4; n++)
                        this.vertexBuffers[n] = t.createBuffer(),
                        t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffers[n]),
                        t.bufferData(t.ARRAY_BUFFER, this.vertexData.byteLength, t.DYNAMIC_DRAW),
                        this.texcoordBuffers[n] = t.createBuffer(),
                        t.bindBuffer(t.ARRAY_BUFFER, this.texcoordBuffers[n]),
                        t.bufferData(t.ARRAY_BUFFER, this.texcoordData.byteLength, t.DYNAMIC_DRAW);
                    this.curBuffer = 0,
                    this.indexBuffer = t.createBuffer(),
                    t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                    for (var e, i, s = new Uint16Array(12e3), n = 0, r = 0; n < 12e3; )
                        s[n++] = r,
                        s[n++] = r + 1,
                        s[n++] = r + 2,
                        s[n++] = r,
                        s[n++] = r + 2,
                        s[n++] = r + 3,
                        r += 4;
                    t.bufferData(t.ELEMENT_ARRAY_BUFFER, s, t.STATIC_DRAW),
                    this.vertexPtr = 0,
                    this.texPtr = 0,
                    this.pointPtr = 0,
                    this.shaderPrograms = [],
                    e = ["varying mediump vec2 vTex;", "uniform lowp float opacity;", "uniform lowp sampler2D samplerFront;", "void main(void) {", "\tgl_FragColor = texture2D(samplerFront, vTex);", "\tgl_FragColor *= opacity;", "}"].join("\n"),
                    i = (this.enableFrontToBack ? ["attribute highp vec3 aPos;", "attribute mediump vec2 aTex;", "varying mediump vec2 vTex;", "uniform highp mat4 matP;", "uniform highp mat4 matMV;", "void main(void) {", "\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);", "\tvTex = aTex;", "}"] : ["attribute highp vec2 aPos;", "attribute mediump vec2 aTex;", "varying mediump vec2 vTex;", "uniform highp mat4 matP;", "uniform highp mat4 matMV;", "void main(void) {", "\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);", "\tvTex = aTex;", "}"]).join("\n");
                    var o = this.createShaderProgram({
                        src: e
                    }, i, "<default>");
                    this.shaderPrograms.push(o),
                    e = ["uniform mediump sampler2D samplerFront;", "varying lowp float opacity;", "void main(void) {", "\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);", "\tgl_FragColor *= opacity;", "}"].join("\n");
                    var a = ["attribute vec4 aPos;", "varying float opacity;", "uniform mat4 matP;", "uniform mat4 matMV;", "void main(void) {", "\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);", "\tgl_PointSize = aPos.z;", "\topacity = aPos.w;", "}"].join("\n");
                    o = this.createShaderProgram({
                        src: e
                    }, a, "<point>"),
                    this.shaderPrograms.push(o),
                    e = ["varying mediump vec2 vTex;", "uniform lowp sampler2D samplerFront;", "void main(void) {", "\tif (texture2D(samplerFront, vTex).a < 1.0)", "\t\tdiscard;", "}"].join("\n");
                    o = this.createShaderProgram({
                        src: e
                    }, i, "<earlyz>");
                    this.shaderPrograms.push(o),
                    e = ["uniform lowp vec4 colorFill;", "void main(void) {", "\tgl_FragColor = colorFill;", "}"].join("\n");
                    var h, o = this.createShaderProgram({
                        src: e
                    }, i, "<fill>");
                    for (h in this.shaderPrograms.push(o),
                    cr.shaders)
                        cr.shaders.hasOwnProperty(h) && this.shaderPrograms.push(this.createShaderProgram(cr.shaders[h], i, h));
                    t.activeTexture(t.TEXTURE0),
                    t.bindTexture(t.TEXTURE_2D, null),
                    this.batch = [],
                    this.batchPtr = 0,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1,
                    this.lastProgram = -1,
                    this.currentProgram = -1,
                    this.currentShader = null,
                    this.fbo = t.createFramebuffer(),
                    this.renderToTex = null,
                    this.depthBuffer = null,
                    this.attachedDepthBuffer = !1,
                    this.enableFrontToBack && (this.depthBuffer = t.createRenderbuffer()),
                    this.tmpVec3 = vec3.create([0, 0, 0]);
                    o = t.getParameter(t.ALIASED_POINT_SIZE_RANGE);
                    this.minPointSize = o[0],
                    this.maxPointSize = o[1],
                    2048 < this.maxPointSize && (this.maxPointSize = 2048),
                    this.switchProgram(0),
                    cr.seal(this)
                }
                ,
                u.prototype.updateMatMV = function(t) {
                    e(this.lpMatMV, t) || (mat4.set(t, this.lpMatMV),
                    this.gl.uniformMatrix4fv(this.locMatMV, !1, t))
                }
                ,
                t.prototype.createShaderProgram = function(t, e, i) {
                    var s = this.gl
                      , n = s.createShader(s.FRAGMENT_SHADER);
                    if (s.shaderSource(n, t.src),
                    s.compileShader(n),
                    !s.getShaderParameter(n, s.COMPILE_STATUS)) {
                        var r = s.getShaderInfoLog(n);
                        throw s.deleteShader(n),
                        new Error("error compiling fragment shader: " + r)
                    }
                    var o = s.createShader(s.VERTEX_SHADER);
                    if (s.shaderSource(o, e),
                    s.compileShader(o),
                    !s.getShaderParameter(o, s.COMPILE_STATUS)) {
                        r = s.getShaderInfoLog(o);
                        throw s.deleteShader(n),
                        s.deleteShader(o),
                        new Error("error compiling vertex shader: " + r)
                    }
                    var a = s.createProgram();
                    if (s.attachShader(a, n),
                    s.attachShader(a, o),
                    s.linkProgram(a),
                    !s.getProgramParameter(a, s.LINK_STATUS)) {
                        r = s.getProgramInfoLog(a);
                        throw s.deleteShader(n),
                        s.deleteShader(o),
                        s.deleteProgram(a),
                        new Error("error linking shader program: " + r)
                    }
                    s.useProgram(a),
                    s.deleteShader(n),
                    s.deleteShader(o);
                    var h, c, l = new u(s,a,i);
                    for (l.extendBoxHorizontal = t.extendBoxHorizontal || 0,
                    l.extendBoxVertical = t.extendBoxVertical || 0,
                    l.crossSampling = !!t.crossSampling,
                    l.preservesOpaqueness = !!t.preservesOpaqueness,
                    l.animated = !!t.animated,
                    l.parameters = t.parameters || [],
                    h = 0,
                    c = l.parameters.length; h < c; h++)
                        l.parameters[h][1] = s.getUniformLocation(a, l.parameters[h][0]),
                        l.lastCustomParams.push(0),
                        s.uniform1f(l.parameters[h][1], 0);
                    return cr.seal(l),
                    l
                }
                ,
                t.prototype.getShaderIndex = function(t) {
                    for (var e = 0, i = this.shaderPrograms.length; e < i; e++)
                        if (this.shaderPrograms[e].name === t)
                            return e;
                    return -1
                }
                ,
                t.prototype.project = function(t, e, i) {
                    var s = this.matMV
                      , n = this.matP
                      , r = [0, 0, 0, 0, 0, 0, 0, 0];
                    r[0] = s[0] * t + s[4] * e + s[12],
                    r[1] = s[1] * t + s[5] * e + s[13],
                    r[2] = s[2] * t + s[6] * e + s[14],
                    r[3] = s[3] * t + s[7] * e + s[15],
                    r[4] = n[0] * r[0] + n[4] * r[1] + n[8] * r[2] + n[12] * r[3],
                    r[5] = n[1] * r[0] + n[5] * r[1] + n[9] * r[2] + n[13] * r[3],
                    r[6] = n[2] * r[0] + n[6] * r[1] + n[10] * r[2] + n[14] * r[3],
                    r[7] = -r[2],
                    0 !== r[7] && (r[7] = 1 / r[7],
                    r[4] *= r[7],
                    r[5] *= r[7],
                    r[6] *= r[7],
                    i[0] = (.5 * r[4] + .5) * this.width,
                    i[1] = (.5 * r[5] + .5) * this.height)
                }
                ,
                t.prototype.setSize = function(t, e, i) {
                    if (this.width !== t || this.height !== e || i) {
                        this.endBatch();
                        var s, n, r, o = this.gl;
                        for (this.width = t,
                        this.height = e,
                        o.viewport(0, 0, t, e),
                        mat4.lookAt(this.cam, this.look, this.up, this.matMV),
                        this.enableFrontToBack ? (mat4.ortho(-t / 2, t / 2, e / 2, -e / 2, this.zNear, this.zFar, this.matP),
                        this.worldScale[0] = 1,
                        this.worldScale[1] = 1) : (mat4.perspective(45, t / e, this.zNear, this.zFar, this.matP),
                        t = [0, 0],
                        e = [0, 0],
                        this.project(0, 0, t),
                        this.project(1, 1, e),
                        this.worldScale[0] = 1 / (e[0] - t[0]),
                        this.worldScale[1] = -1 / (e[1] - t[1])),
                        s = 0,
                        n = this.shaderPrograms.length; s < n; s++)
                            (r = this.shaderPrograms[s]).hasCurrentMatMV = !1,
                            r.locMatP && (o.useProgram(r.shaderProgram),
                            o.uniformMatrix4fv(r.locMatP, !1, this.matP));
                        o.useProgram(this.shaderPrograms[this.lastProgram].shaderProgram),
                        o.bindTexture(o.TEXTURE_2D, null),
                        o.activeTexture(o.TEXTURE1),
                        o.bindTexture(o.TEXTURE_2D, null),
                        o.activeTexture(o.TEXTURE0),
                        this.lastTexture0 = null,
                        this.lastTexture1 = null,
                        this.depthBuffer && (o.bindFramebuffer(o.FRAMEBUFFER, this.fbo),
                        o.bindRenderbuffer(o.RENDERBUFFER, this.depthBuffer),
                        o.renderbufferStorage(o.RENDERBUFFER, o.DEPTH_COMPONENT16, this.width, this.height),
                        this.attachedDepthBuffer || (o.framebufferRenderbuffer(o.FRAMEBUFFER, o.DEPTH_ATTACHMENT, o.RENDERBUFFER, this.depthBuffer),
                        this.attachedDepthBuffer = !0),
                        o.bindRenderbuffer(o.RENDERBUFFER, null),
                        o.bindFramebuffer(o.FRAMEBUFFER, null),
                        this.renderToTex = null)
                    }
                }
                ,
                t.prototype.resetModelView = function() {
                    mat4.lookAt(this.cam, this.look, this.up, this.matMV),
                    mat4.scale(this.matMV, this.worldScale)
                }
                ,
                t.prototype.translate = function(t, e) {
                    0 === t && 0 === e || (this.tmpVec3[0] = t,
                    this.tmpVec3[1] = e,
                    this.tmpVec3[2] = 0,
                    mat4.translate(this.matMV, this.tmpVec3))
                }
                ,
                t.prototype.scale = function(t, e) {
                    1 === t && 1 === e || (this.tmpVec3[0] = t,
                    this.tmpVec3[1] = e,
                    this.tmpVec3[2] = 1,
                    mat4.scale(this.matMV, this.tmpVec3))
                }
                ,
                t.prototype.rotateZ = function(t) {
                    0 !== t && mat4.rotateZ(this.matMV, t)
                }
                ,
                t.prototype.updateModelView = function() {
                    var t;
                    e(this.lastMV, this.matMV) || ((t = this.pushBatch()).type = 5,
                    t.mat4param ? mat4.set(this.matMV, t.mat4param) : t.mat4param = mat4.create(this.matMV),
                    mat4.set(this.matMV, this.lastMV),
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1)
                }
                ,
                t.prototype.setEarlyZIndex = function(t) {
                    this.enableFrontToBack && (32760 < t && (t = 32760),
                    this.currentZ = this.cam[2] - this.zNear - t * this.zIncrement)
                }
                ,
                s.prototype.doSetEarlyZPass = function() {
                    var t = this.gl
                      , e = this.glwrap;
                    0 !== this.startIndex ? (t.depthMask(!0),
                    t.colorMask(!1, !1, !1, !1),
                    t.disable(t.BLEND),
                    t.bindFramebuffer(t.FRAMEBUFFER, e.fbo),
                    t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, null, 0),
                    t.clear(t.DEPTH_BUFFER_BIT),
                    t.bindFramebuffer(t.FRAMEBUFFER, null),
                    e.isBatchInEarlyZPass = !0) : (t.depthMask(!1),
                    t.colorMask(!0, !0, !0, !0),
                    t.enable(t.BLEND),
                    e.isBatchInEarlyZPass = !1)
                }
                ,
                s.prototype.doSetTexture = function() {
                    this.gl.bindTexture(this.gl.TEXTURE_2D, this.texParam)
                }
                ,
                s.prototype.doSetTexture1 = function() {
                    var t = this.gl;
                    t.activeTexture(t.TEXTURE1),
                    t.bindTexture(t.TEXTURE_2D, this.texParam),
                    t.activeTexture(t.TEXTURE0)
                }
                ,
                s.prototype.doSetOpacity = function() {
                    var t = this.opacityParam
                      , e = this.glwrap;
                    e.currentOpacity = t;
                    e = e.currentShader;
                    e.locOpacity && e.lpOpacity !== t && (e.lpOpacity = t,
                    this.gl.uniform1f(e.locOpacity, t))
                }
                ,
                s.prototype.doQuad = function() {
                    this.gl.drawElements(this.gl.TRIANGLES, this.indexCount, this.gl.UNSIGNED_SHORT, this.startIndex)
                }
                ,
                s.prototype.doSetBlend = function() {
                    this.gl.blendFunc(this.startIndex, this.indexCount)
                }
                ,
                s.prototype.doUpdateModelView = function() {
                    for (var t, e = this.glwrap.shaderPrograms, i = this.glwrap.currentProgram, s = 0, n = e.length; s < n; s++)
                        t = e[s],
                        s === i && t.locMatMV ? (t.updateMatMV(this.mat4param),
                        t.hasCurrentMatMV = !0) : t.hasCurrentMatMV = !1;
                    mat4.set(this.mat4param, this.glwrap.currentMV)
                }
                ,
                s.prototype.doRenderToTexture = function() {
                    var t = this.gl
                      , e = this.glwrap;
                    this.texParam ? (e.lastTexture1 === this.texParam && (t.activeTexture(t.TEXTURE1),
                    t.bindTexture(t.TEXTURE_2D, null),
                    e.lastTexture1 = null,
                    t.activeTexture(t.TEXTURE0)),
                    t.bindFramebuffer(t.FRAMEBUFFER, e.fbo),
                    e.isBatchInEarlyZPass || t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, this.texParam, 0)) : (e.enableFrontToBack || t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, null, 0),
                    t.bindFramebuffer(t.FRAMEBUFFER, null))
                }
                ,
                s.prototype.doClear = function() {
                    var t = this.gl
                      , e = this.startIndex;
                    0 === e ? (t.clearColor(this.mat4param[0], this.mat4param[1], this.mat4param[2], this.mat4param[3]),
                    t.clear(t.COLOR_BUFFER_BIT)) : 1 === e ? (t.enable(t.SCISSOR_TEST),
                    t.scissor(this.mat4param[0], this.mat4param[1], this.mat4param[2], this.mat4param[3]),
                    t.clearColor(0, 0, 0, 0),
                    t.clear(t.COLOR_BUFFER_BIT),
                    t.disable(t.SCISSOR_TEST)) : t.clear(t.DEPTH_BUFFER_BIT)
                }
                ,
                s.prototype.doSetDepthTestEnabled = function() {
                    var t = this.gl;
                    0 !== this.startIndex ? t.enable(t.DEPTH_TEST) : t.disable(t.DEPTH_TEST)
                }
                ,
                s.prototype.doPoints = function() {
                    var t = this.gl
                      , e = this.glwrap;
                    e.enableFrontToBack && t.disable(t.DEPTH_TEST);
                    var i = e.shaderPrograms[1];
                    t.useProgram(i.shaderProgram),
                    !i.hasCurrentMatMV && i.locMatMV && (i.updateMatMV(e.currentMV),
                    i.hasCurrentMatMV = !0),
                    t.enableVertexAttribArray(i.locAPos),
                    t.bindBuffer(t.ARRAY_BUFFER, e.pointBuffer),
                    t.vertexAttribPointer(i.locAPos, 4, t.FLOAT, !1, 0, 0),
                    t.drawArrays(t.POINTS, this.startIndex / 4, this.indexCount),
                    i = e.currentShader,
                    t.useProgram(i.shaderProgram),
                    0 <= i.locAPos && (t.enableVertexAttribArray(i.locAPos),
                    t.bindBuffer(t.ARRAY_BUFFER, e.vertexBuffers[e.curBuffer]),
                    t.vertexAttribPointer(i.locAPos, e.enableFrontToBack ? 3 : 2, t.FLOAT, !1, 0, 0)),
                    0 <= i.locATex && (t.enableVertexAttribArray(i.locATex),
                    t.bindBuffer(t.ARRAY_BUFFER, e.texcoordBuffers[e.curBuffer]),
                    t.vertexAttribPointer(i.locATex, 2, t.FLOAT, !1, 0, 0)),
                    e.enableFrontToBack && t.enable(t.DEPTH_TEST)
                }
                ,
                s.prototype.doSetProgram = function() {
                    var t = this.gl
                      , e = this.glwrap
                      , i = e.shaderPrograms[this.startIndex];
                    e.currentProgram = this.startIndex,
                    e.currentShader = i,
                    t.useProgram(i.shaderProgram),
                    !i.hasCurrentMatMV && i.locMatMV && (i.updateMatMV(e.currentMV),
                    i.hasCurrentMatMV = !0),
                    i.locOpacity && i.lpOpacity !== e.currentOpacity && (i.lpOpacity = e.currentOpacity,
                    t.uniform1f(i.locOpacity, e.currentOpacity)),
                    0 <= i.locAPos && (t.enableVertexAttribArray(i.locAPos),
                    t.bindBuffer(t.ARRAY_BUFFER, e.vertexBuffers[e.curBuffer]),
                    t.vertexAttribPointer(i.locAPos, e.enableFrontToBack ? 3 : 2, t.FLOAT, !1, 0, 0)),
                    0 <= i.locATex && (t.enableVertexAttribArray(i.locATex),
                    t.bindBuffer(t.ARRAY_BUFFER, e.texcoordBuffers[e.curBuffer]),
                    t.vertexAttribPointer(i.locATex, 2, t.FLOAT, !1, 0, 0))
                }
                ,
                s.prototype.doSetColor = function() {
                    var t = this.glwrap.currentShader
                      , e = this.mat4param;
                    this.gl.uniform4f(t.locColorFill, e[0], e[1], e[2], e[3])
                }
                ,
                s.prototype.doSetProgramParameters = function() {
                    var t, e, i = this.glwrap.currentShader, s = this.gl, n = this.mat4param;
                    i.locSamplerBack && this.glwrap.lastTexture1 !== this.texParam && (s.activeTexture(s.TEXTURE1),
                    s.bindTexture(s.TEXTURE_2D, this.texParam),
                    this.glwrap.lastTexture1 = this.texParam,
                    s.activeTexture(s.TEXTURE0));
                    var r, o = n[0];
                    if (i.locPixelWidth && o !== i.lpPixelWidth && (i.lpPixelWidth = o,
                    s.uniform1f(i.locPixelWidth, o)),
                    o = n[1],
                    i.locPixelHeight && o !== i.lpPixelHeight && (i.lpPixelHeight = o,
                    s.uniform1f(i.locPixelHeight, o)),
                    o = n[2],
                    r = n[3],
                    !i.locDestStart || o === i.lpDestStartX && r === i.lpDestStartY || (i.lpDestStartX = o,
                    i.lpDestStartY = r,
                    s.uniform2f(i.locDestStart, o, r)),
                    o = n[4],
                    r = n[5],
                    !i.locDestEnd || o === i.lpDestEndX && r === i.lpDestEndY || (i.lpDestEndX = o,
                    i.lpDestEndY = r,
                    s.uniform2f(i.locDestEnd, o, r)),
                    o = n[6],
                    i.locLayerScale && o !== i.lpLayerScale && (i.lpLayerScale = o,
                    s.uniform1f(i.locLayerScale, o)),
                    o = n[7],
                    i.locLayerAngle && o !== i.lpLayerAngle && (i.lpLayerAngle = o,
                    s.uniform1f(i.locLayerAngle, o)),
                    o = n[8],
                    r = n[9],
                    !i.locViewOrigin || o === i.lpViewOriginX && r === i.lpViewOriginY || (i.lpViewOriginX = o,
                    i.lpViewOriginY = r,
                    s.uniform2f(i.locViewOrigin, o, r)),
                    o = n[10],
                    r = n[11],
                    !i.locScrollPos || o === i.lpScrollPosX && r === i.lpScrollPosY || (i.lpScrollPosX = o,
                    i.lpScrollPosY = r,
                    s.uniform2f(i.locScrollPos, o, r)),
                    o = n[12],
                    i.locSeconds && o !== i.lpSeconds && (i.lpSeconds = o,
                    s.uniform1f(i.locSeconds, o)),
                    i.parameters.length)
                        for (t = 0,
                        e = i.parameters.length; t < e; t++)
                            (o = this.shaderParams[t]) !== i.lastCustomParams[t] && (i.lastCustomParams[t] = o,
                            s.uniform1f(i.parameters[t][1], o))
                }
                ,
                t.prototype.pushBatch = function() {
                    return this.batchPtr === this.batch.length && this.batch.push(new s(0,this)),
                    this.batch[this.batchPtr++]
                }
                ,
                t.prototype.endBatch = function() {
                    if (0 !== this.batchPtr && !this.gl.isContextLost()) {
                        var t, e, i, s, n = this.gl;
                        for (0 < this.pointPtr && (n.bindBuffer(n.ARRAY_BUFFER, this.pointBuffer),
                        n.bufferSubData(n.ARRAY_BUFFER, 0, this.pointData.subarray(0, this.pointPtr)),
                        t && 0 <= t.locAPos && "<point>" === t.name && n.vertexAttribPointer(t.locAPos, 4, n.FLOAT, !1, 0, 0)),
                        0 < this.vertexPtr && (t = this.currentShader,
                        n.bindBuffer(n.ARRAY_BUFFER, this.vertexBuffers[this.curBuffer]),
                        n.bufferSubData(n.ARRAY_BUFFER, 0, this.vertexData.subarray(0, this.vertexPtr)),
                        t && 0 <= t.locAPos && "<point>" !== t.name && n.vertexAttribPointer(t.locAPos, this.enableFrontToBack ? 3 : 2, n.FLOAT, !1, 0, 0),
                        n.bindBuffer(n.ARRAY_BUFFER, this.texcoordBuffers[this.curBuffer]),
                        n.bufferSubData(n.ARRAY_BUFFER, 0, this.texcoordData.subarray(0, this.texPtr)),
                        t && 0 <= t.locATex && "<point>" !== t.name && n.vertexAttribPointer(t.locATex, 2, n.FLOAT, !1, 0, 0)),
                        e = 0,
                        i = this.batchPtr; e < i; e++)
                            switch ((s = this.batch[e]).type) {
                            case 1:
                                s.doQuad();
                                break;
                            case 2:
                                s.doSetTexture();
                                break;
                            case 3:
                                s.doSetOpacity();
                                break;
                            case 4:
                                s.doSetBlend();
                                break;
                            case 5:
                                s.doUpdateModelView();
                                break;
                            case 6:
                                s.doRenderToTexture();
                                break;
                            case 7:
                                s.doClear();
                                break;
                            case 8:
                                s.doPoints();
                                break;
                            case 9:
                                s.doSetProgram();
                                break;
                            case 10:
                                s.doSetProgramParameters();
                                break;
                            case 11:
                                s.doSetTexture1();
                                break;
                            case 12:
                                s.doSetColor();
                                break;
                            case 13:
                                s.doSetDepthTestEnabled();
                                break;
                            case 14:
                                s.doSetEarlyZPass()
                            }
                        this.batchPtr = 0,
                        this.vertexPtr = 0,
                        this.texPtr = 0,
                        this.pointPtr = 0,
                        this.hasQuadBatchTop = !1,
                        this.hasPointBatchTop = !1,
                        this.isBatchInEarlyZPass = !1,
                        this.curBuffer++,
                        4 <= this.curBuffer && (this.curBuffer = 0)
                    }
                }
                ,
                t.prototype.setOpacity = function(t) {
                    var e;
                    t !== this.lastOpacity && (this.isEarlyZPass || ((e = this.pushBatch()).type = 3,
                    e.opacityParam = t,
                    this.lastOpacity = t,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1))
                }
                ,
                t.prototype.setTexture = function(t) {
                    var e;
                    t !== this.lastTexture0 && ((e = this.pushBatch()).type = 2,
                    e.texParam = t,
                    this.lastTexture0 = t,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1)
                }
                ,
                t.prototype.setBlend = function(t, e) {
                    var i;
                    t === this.lastSrcBlend && e === this.lastDestBlend || this.isEarlyZPass || ((i = this.pushBatch()).type = 4,
                    i.startIndex = t,
                    i.indexCount = e,
                    this.lastSrcBlend = t,
                    this.lastDestBlend = e,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1)
                }
                ,
                t.prototype.isPremultipliedAlphaBlend = function() {
                    return this.lastSrcBlend === this.gl.ONE && this.lastDestBlend === this.gl.ONE_MINUS_SRC_ALPHA
                }
                ,
                t.prototype.setAlphaBlend = function() {
                    this.setBlend(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA)
                }
                ,
                t.prototype.setNoPremultiplyAlphaBlend = function() {
                    this.setBlend(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA)
                }
                ,
                t.prototype.quad = function(t, e, i, s, n, r, o, a) {
                    15992 <= this.vertexPtr && this.endBatch();
                    var h, c = this.vertexPtr, l = this.texPtr, u = this.vertexData, p = this.texcoordData, d = this.currentZ;
                    this.hasQuadBatchTop ? this.batch[this.batchPtr - 1].indexCount += 6 : ((h = this.pushBatch()).type = 1,
                    h.startIndex = this.enableFrontToBack ? c : c / 2 * 3,
                    h.indexCount = 6,
                    this.hasQuadBatchTop = !0,
                    this.hasPointBatchTop = !1),
                    this.enableFrontToBack ? (u[c++] = t,
                    u[c++] = e,
                    u[c++] = d,
                    u[c++] = i,
                    u[c++] = s,
                    u[c++] = d,
                    u[c++] = n,
                    u[c++] = r,
                    u[c++] = d,
                    u[c++] = o,
                    u[c++] = a,
                    u[c++] = d) : (u[c++] = t,
                    u[c++] = e,
                    u[c++] = i,
                    u[c++] = s,
                    u[c++] = n,
                    u[c++] = r,
                    u[c++] = o,
                    u[c++] = a),
                    p[l++] = 0,
                    p[l++] = 0,
                    p[l++] = 1,
                    p[l++] = 0,
                    p[l++] = 1,
                    p[l++] = 1,
                    p[l++] = 0,
                    p[l++] = 1,
                    this.vertexPtr = c,
                    this.texPtr = l
                }
                ,
                t.prototype.quadTex = function(t, e, i, s, n, r, o, a, h) {
                    15992 <= this.vertexPtr && this.endBatch();
                    var c = this.vertexPtr
                      , l = this.texPtr
                      , u = this.vertexData
                      , p = this.texcoordData
                      , d = this.currentZ;
                    this.hasQuadBatchTop ? this.batch[this.batchPtr - 1].indexCount += 6 : ((m = this.pushBatch()).type = 1,
                    m.startIndex = this.enableFrontToBack ? c : c / 2 * 3,
                    m.indexCount = 6,
                    this.hasQuadBatchTop = !0,
                    this.hasPointBatchTop = !1);
                    var g = h.left
                      , f = h.top
                      , m = h.right
                      , h = h.bottom;
                    this.enableFrontToBack ? (u[c++] = t,
                    u[c++] = e,
                    u[c++] = d,
                    u[c++] = i,
                    u[c++] = s,
                    u[c++] = d,
                    u[c++] = n,
                    u[c++] = r,
                    u[c++] = d,
                    u[c++] = o,
                    u[c++] = a,
                    u[c++] = d) : (u[c++] = t,
                    u[c++] = e,
                    u[c++] = i,
                    u[c++] = s,
                    u[c++] = n,
                    u[c++] = r,
                    u[c++] = o,
                    u[c++] = a),
                    p[l++] = g,
                    p[l++] = f,
                    p[l++] = m,
                    p[l++] = f,
                    p[l++] = m,
                    p[l++] = h,
                    p[l++] = g,
                    p[l++] = h,
                    this.vertexPtr = c,
                    this.texPtr = l
                }
                ,
                t.prototype.quadTexUV = function(t, e, i, s, n, r, o, a, h, c, l, u, p, d, g, f) {
                    15992 <= this.vertexPtr && this.endBatch();
                    var m, y = this.vertexPtr, _ = this.texPtr, v = this.vertexData, b = this.texcoordData, w = this.currentZ;
                    this.hasQuadBatchTop ? this.batch[this.batchPtr - 1].indexCount += 6 : ((m = this.pushBatch()).type = 1,
                    m.startIndex = this.enableFrontToBack ? y : y / 2 * 3,
                    m.indexCount = 6,
                    this.hasQuadBatchTop = !0,
                    this.hasPointBatchTop = !1),
                    this.enableFrontToBack ? (v[y++] = t,
                    v[y++] = e,
                    v[y++] = w,
                    v[y++] = i,
                    v[y++] = s,
                    v[y++] = w,
                    v[y++] = n,
                    v[y++] = r,
                    v[y++] = w,
                    v[y++] = o,
                    v[y++] = a,
                    v[y++] = w) : (v[y++] = t,
                    v[y++] = e,
                    v[y++] = i,
                    v[y++] = s,
                    v[y++] = n,
                    v[y++] = r,
                    v[y++] = o,
                    v[y++] = a),
                    b[_++] = h,
                    b[_++] = c,
                    b[_++] = l,
                    b[_++] = u,
                    b[_++] = p,
                    b[_++] = d,
                    b[_++] = g,
                    b[_++] = f,
                    this.vertexPtr = y,
                    this.texPtr = _
                }
                ,
                t.prototype.convexPoly = function(t) {
                    for (var e, i, s, n, r, o, a = t.length / 2 - 2, h = a - 1, c = t[0], l = t[1], u = 0; u < a; u += 2)
                        e = t[2 + (o = 2 * u)],
                        i = t[3 + o],
                        s = t[4 + o],
                        n = t[5 + o],
                        u === h ? this.quad(c, l, e, i, s, n, s, n) : (r = t[6 + o],
                        o = t[7 + o],
                        this.quad(c, l, e, i, s, n, r, o))
                }
                ,
                t.prototype.point = function(t, e, i, s) {
                    7996 <= this.pointPtr && this.endBatch();
                    var n, r = this.pointPtr, o = this.pointData;
                    this.hasPointBatchTop ? this.batch[this.batchPtr - 1].indexCount++ : ((n = this.pushBatch()).type = 8,
                    n.startIndex = r,
                    n.indexCount = 1,
                    this.hasPointBatchTop = !0,
                    this.hasQuadBatchTop = !1),
                    o[r++] = t,
                    o[r++] = e,
                    o[r++] = i,
                    o[r++] = s,
                    this.pointPtr = r
                }
                ,
                t.prototype.switchProgram = function(t) {
                    if (this.lastProgram !== t) {
                        var e = this.shaderPrograms[t];
                        if (!e) {
                            if (0 === this.lastProgram)
                                return;
                            t = 0,
                            e = this.shaderPrograms[0]
                        }
                        e = this.pushBatch();
                        e.type = 9,
                        e.startIndex = t,
                        this.lastProgram = t,
                        this.hasQuadBatchTop = !1,
                        this.hasPointBatchTop = !1
                    }
                }
                ,
                t.prototype.programUsesDest = function(t) {
                    t = this.shaderPrograms[t];
                    return !(!t.locDestStart && !t.locDestEnd)
                }
                ,
                t.prototype.programUsesCrossSampling = function(t) {
                    t = this.shaderPrograms[t];
                    return !!(t.locDestStart || t.locDestEnd || t.crossSampling)
                }
                ,
                t.prototype.programPreservesOpaqueness = function(t) {
                    return this.shaderPrograms[t].preservesOpaqueness
                }
                ,
                t.prototype.programExtendsBox = function(t) {
                    t = this.shaderPrograms[t];
                    return 0 !== t.extendBoxHorizontal || 0 !== t.extendBoxVertical
                }
                ,
                t.prototype.getProgramBoxExtendHorizontal = function(t) {
                    return this.shaderPrograms[t].extendBoxHorizontal
                }
                ,
                t.prototype.getProgramBoxExtendVertical = function(t) {
                    return this.shaderPrograms[t].extendBoxVertical
                }
                ,
                t.prototype.getProgramParameterType = function(t, e) {
                    return this.shaderPrograms[t].parameters[e][2]
                }
                ,
                t.prototype.programIsAnimated = function(t) {
                    return this.shaderPrograms[t].animated
                }
                ,
                t.prototype.setProgramParameters = function(t, e, i, s, n, r, o, a, h, c, l, u, p, d, g) {
                    var f, m, y, _, v, b = this.shaderPrograms[this.lastProgram];
                    if (b.hasAnyOptionalUniforms || g.length) {
                        if ((y = this.pushBatch()).type = 10,
                        y.mat4param ? mat4.set(this.matMV, y.mat4param) : y.mat4param = mat4.create(),
                        (_ = y.mat4param)[0] = e,
                        _[1] = i,
                        _[2] = s,
                        _[3] = n,
                        _[4] = r,
                        _[5] = o,
                        _[6] = a,
                        _[7] = h,
                        _[8] = c,
                        _[9] = l,
                        _[10] = u,
                        _[11] = p,
                        _[12] = d,
                        b.locSamplerBack ? y.texParam = t : y.texParam = null,
                        g.length)
                            for ((v = y.shaderParams).length = g.length,
                            f = 0,
                            m = g.length; f < m; f++)
                                v[f] = g[f];
                        this.hasQuadBatchTop = !1,
                        this.hasPointBatchTop = !1
                    }
                }
                ,
                t.prototype.clear = function(t, e, i, s) {
                    var n = this.pushBatch();
                    n.type = 7,
                    n.startIndex = 0,
                    n.mat4param || (n.mat4param = mat4.create()),
                    n.mat4param[0] = t,
                    n.mat4param[1] = e,
                    n.mat4param[2] = i,
                    n.mat4param[3] = s,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1
                }
                ,
                t.prototype.clearRect = function(t, e, i, s) {
                    var n;
                    i < 0 || s < 0 || ((n = this.pushBatch()).type = 7,
                    n.startIndex = 1,
                    n.mat4param || (n.mat4param = mat4.create()),
                    n.mat4param[0] = t,
                    n.mat4param[1] = e,
                    n.mat4param[2] = i,
                    n.mat4param[3] = s,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1)
                }
                ,
                t.prototype.clearDepth = function() {
                    var t = this.pushBatch();
                    t.type = 7,
                    t.startIndex = 2,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1
                }
                ,
                t.prototype.setEarlyZPass = function(t) {
                    var e;
                    this.enableFrontToBack && (t = !!t,
                    this.isEarlyZPass !== t && ((e = this.pushBatch()).type = 14,
                    e.startIndex = t ? 1 : 0,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1,
                    this.isEarlyZPass = t,
                    this.renderToTex = null,
                    this.isEarlyZPass ? this.switchProgram(2) : this.switchProgram(0)))
                }
                ,
                t.prototype.setDepthTestEnabled = function(t) {
                    var e;
                    this.enableFrontToBack && ((e = this.pushBatch()).type = 13,
                    e.startIndex = t ? 1 : 0,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1)
                }
                ,
                t.prototype.fullscreenQuad = function() {
                    mat4.set(this.lastMV, i),
                    this.resetModelView(),
                    this.updateModelView();
                    var t = this.width / 2
                      , e = this.height / 2;
                    this.quad(-t, e, t, e, t, -e, -t, -e),
                    mat4.set(i, this.matMV),
                    this.updateModelView()
                }
                ,
                t.prototype.setColorFillMode = function(t, e, i, s) {
                    this.switchProgram(3);
                    var n = this.pushBatch();
                    n.type = 12,
                    n.mat4param || (n.mat4param = mat4.create()),
                    n.mat4param[0] = t,
                    n.mat4param[1] = e,
                    n.mat4param[2] = i,
                    n.mat4param[3] = s,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1
                }
                ,
                t.prototype.setTextureFillMode = function() {
                    this.switchProgram(0)
                }
                ,
                t.prototype.restoreEarlyZMode = function() {
                    this.switchProgram(2)
                }
                ,
                t.prototype.present = function() {
                    this.endBatch(),
                    this.gl.flush()
                }
                ;
                var g = []
                  , f = {};
                t.prototype.contextLost = function() {
                    cr.clearArray(g),
                    f = {}
                }
                ,
                t.prototype.loadTexture = function(t, e, i, s, n, r) {
                    e = !!e,
                    i = !!i;
                    var o = t.src + "," + e + "," + i + (e ? "," + n : "")
                      , a = null;
                    if (void 0 !== t.src && f.hasOwnProperty(o))
                        return (a = f[o]).c2refcount++,
                        a;
                    this.endBatch();
                    var h = this.gl
                      , c = cr.isPOT(t.width) && cr.isPOT(t.height)
                      , a = h.createTexture();
                    h.bindTexture(h.TEXTURE_2D, a),
                    h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
                    var l, u = h.RGBA, p = h.RGBA, d = h.UNSIGNED_BYTE;
                    if (s && !this.isIE)
                        switch (s) {
                        case 1:
                            u = h.RGB,
                            p = h.RGB;
                            break;
                        case 2:
                            d = h.UNSIGNED_SHORT_4_4_4_4;
                            break;
                        case 3:
                            d = h.UNSIGNED_SHORT_5_5_5_1;
                            break;
                        case 4:
                            u = h.RGB,
                            p = h.RGB,
                            d = h.UNSIGNED_SHORT_5_6_5
                        }
                    return 1 === this.version && !c && e ? ((l = document.createElement("canvas")).width = cr.nextHighestPowerOfTwo(t.width),
                    l.height = cr.nextHighestPowerOfTwo(t.height),
                    void 0 !== (s = l.getContext("2d")).imageSmoothingEnabled ? s.imageSmoothingEnabled = i : (s.webkitImageSmoothingEnabled = i,
                    s.mozImageSmoothingEnabled = i,
                    s.msImageSmoothingEnabled = i),
                    s.drawImage(t, 0, 0, t.width, t.height, 0, 0, l.width, l.height),
                    h.texImage2D(h.TEXTURE_2D, 0, u, p, d, l)) : h.texImage2D(h.TEXTURE_2D, 0, u, p, d, t),
                    e ? "repeat-x" === n ? (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.REPEAT),
                    h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_T, h.CLAMP_TO_EDGE)) : ("repeat-y" === n ? h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.CLAMP_TO_EDGE) : h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.REPEAT),
                    h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_T, h.REPEAT)) : (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.CLAMP_TO_EDGE),
                    h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_T, h.CLAMP_TO_EDGE)),
                    i ? (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, h.LINEAR),
                    (c || 2 <= this.version) && this.enable_mipmaps && !r ? (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, h.LINEAR_MIPMAP_LINEAR),
                    h.generateMipmap(h.TEXTURE_2D)) : h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, h.LINEAR)) : (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, h.NEAREST),
                    h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, h.NEAREST)),
                    h.bindTexture(h.TEXTURE_2D, null),
                    this.lastTexture0 = null,
                    a.c2width = t.width,
                    a.c2height = t.height,
                    a.c2refcount = 1,
                    a.c2texkey = o,
                    g.push(a),
                    f[o] = a
                }
                ,
                t.prototype.createEmptyTexture = function(t, e, i, s, n) {
                    this.endBatch();
                    var r = this.gl;
                    this.isIE && (s = !1);
                    var o = r.createTexture();
                    return r.bindTexture(r.TEXTURE_2D, o),
                    r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, t, e, 0, r.RGBA, s ? r.UNSIGNED_SHORT_4_4_4_4 : r.UNSIGNED_BYTE, null),
                    n ? (r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.REPEAT),
                    r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.REPEAT)) : (r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE),
                    r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE)),
                    r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, i ? r.LINEAR : r.NEAREST),
                    r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, i ? r.LINEAR : r.NEAREST),
                    r.bindTexture(r.TEXTURE_2D, null),
                    this.lastTexture0 = null,
                    o.c2width = t,
                    o.c2height = e,
                    g.push(o),
                    o
                }
                ,
                t.prototype.videoToTexture = function(t, e, i) {
                    this.endBatch();
                    var s = this.gl;
                    this.isIE && (i = !1),
                    s.bindTexture(s.TEXTURE_2D, e),
                    s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
                    try {
                        s.texImage2D(s.TEXTURE_2D, 0, s.RGBA, s.RGBA, i ? s.UNSIGNED_SHORT_4_4_4_4 : s.UNSIGNED_BYTE, t)
                    } catch (t) {
                        console && console.error && console.error("Error updating WebGL texture: ", t)
                    }
                    s.bindTexture(s.TEXTURE_2D, null),
                    this.lastTexture0 = null
                }
                ,
                t.prototype.deleteTexture = function(t) {
                    t && (void 0 !== t.c2refcount && 1 < t.c2refcount ? t.c2refcount-- : (this.endBatch(),
                    t === this.lastTexture0 && (this.gl.bindTexture(this.gl.TEXTURE_2D, null),
                    this.lastTexture0 = null),
                    t === this.lastTexture1 && (this.gl.activeTexture(this.gl.TEXTURE1),
                    this.gl.bindTexture(this.gl.TEXTURE_2D, null),
                    this.gl.activeTexture(this.gl.TEXTURE0),
                    this.lastTexture1 = null),
                    cr.arrayFindRemove(g, t),
                    void 0 !== t.c2texkey && delete f[t.c2texkey],
                    this.gl.deleteTexture(t)))
                }
                ,
                t.prototype.estimateVRAM = function() {
                    for (var t, e = this.width * this.height * 4 * 2, i = 0, s = g.length; i < s; i++)
                        e += (t = g[i]).c2width * t.c2height * 4;
                    return e
                }
                ,
                t.prototype.textureCount = function() {
                    return g.length
                }
                ,
                t.prototype.setRenderingToTexture = function(t) {
                    var e;
                    t !== this.renderToTex && ((e = this.pushBatch()).type = 6,
                    e.texParam = t,
                    this.renderToTex = t,
                    this.hasQuadBatchTop = !1,
                    this.hasPointBatchTop = !1)
                }
                ,
                cr.GLWrap = t
            }(),
            function() {
                var u = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;
                function i(t) {
                    var e;
                    t && (t.getContext || t.dc) && (t.c2runtime || ((e = t.c2runtime = this).isCrosswalk = /crosswalk/i.test(navigator.userAgent) || /xwalk/i.test(navigator.userAgent) || !(void 0 === window.c2isCrosswalk || !window.c2isCrosswalk),
                    this.isCordova = this.isCrosswalk || void 0 !== window.device && (void 0 !== window.device.cordova || void 0 !== window.device.phonegap) || void 0 !== window.c2iscordova && window.c2iscordova,
                    this.isPhoneGap = this.isCordova,
                    this.isDirectCanvas = !!t.dc,
                    this.isAppMobi = void 0 !== window.AppMobi || this.isDirectCanvas,
                    this.isCocoonJs = !!window.c2cocoonjs,
                    this.isEjecta = !!window.c2ejecta,
                    this.isCocoonJs && (CocoonJS.App.onSuspended.addEventListener(function() {
                        e.setSuspended(!0)
                    }),
                    CocoonJS.App.onActivated.addEventListener(function() {
                        e.setSuspended(!1)
                    })),
                    this.isEjecta && (document.addEventListener("pagehide", function() {
                        e.setSuspended(!0)
                    }),
                    document.addEventListener("pageshow", function() {
                        e.setSuspended(!1)
                    }),
                    document.addEventListener("resize", function() {
                        e.setSize(window.innerWidth, window.innerHeight)
                    })),
                    this.isDomFree = this.isDirectCanvas || this.isCocoonJs || this.isEjecta,
                    this.isMicrosoftEdge = /edge\//i.test(navigator.userAgent),
                    this.isIE = (/msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent) || /iemobile/i.test(navigator.userAgent)) && !this.isMicrosoftEdge,
                    this.isTizen = /tizen/i.test(navigator.userAgent),
                    this.isAndroid = /android/i.test(navigator.userAgent) && !this.isTizen && !this.isIE && !this.isMicrosoftEdge,
                    this.isiPhone = (/iphone/i.test(navigator.userAgent) || /ipod/i.test(navigator.userAgent)) && !this.isIE && !this.isMicrosoftEdge,
                    this.isiPad = /ipad/i.test(navigator.userAgent),
                    this.isiOS = this.isiPhone || this.isiPad || this.isEjecta,
                    this.isiPhoneiOS6 = this.isiPhone && /os\s6/i.test(navigator.userAgent),
                    this.isChrome = (/chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent)) && !this.isIE && !this.isMicrosoftEdge,
                    this.isAmazonWebApp = /amazonwebappplatform/i.test(navigator.userAgent),
                    this.isFirefox = /firefox/i.test(navigator.userAgent),
                    this.isSafari = /safari/i.test(navigator.userAgent) && !this.isChrome && !this.isIE && !this.isMicrosoftEdge,
                    this.isWindows = /windows/i.test(navigator.userAgent),
                    this.isNWjs = void 0 !== window.c2nodewebkit || void 0 !== window.c2nwjs || /nodewebkit/i.test(navigator.userAgent) || /nwjs/i.test(navigator.userAgent),
                    this.isNodeWebkit = this.isNWjs,
                    this.isArcade = void 0 !== window.is_scirra_arcade,
                    this.isWindows8App = !(void 0 === window.c2isWindows8 || !window.c2isWindows8),
                    this.isWindows8Capable = !(void 0 === window.c2isWindows8Capable || !window.c2isWindows8Capable),
                    this.isWindowsPhone8 = !(void 0 === window.c2isWindowsPhone8 || !window.c2isWindowsPhone8),
                    this.isWindowsPhone81 = !(void 0 === window.c2isWindowsPhone81 || !window.c2isWindowsPhone81),
                    this.isWindows10 = !!window.cr_windows10,
                    this.isWinJS = this.isWindows8App || this.isWindows8Capable || this.isWindowsPhone81 || this.isWindows10,
                    this.isBlackberry10 = !(void 0 === window.c2isBlackberry10 || !window.c2isBlackberry10),
                    this.isAndroidStockBrowser = this.isAndroid && !this.isChrome && !this.isCrosswalk && !this.isFirefox && !this.isAmazonWebApp && !this.isDomFree,
                    this.devicePixelRatio = 1,
                    this.isMobile = this.isCordova || this.isCrosswalk || this.isAppMobi || this.isCocoonJs || this.isAndroid || this.isiOS || this.isWindowsPhone8 || this.isWindowsPhone81 || this.isBlackberry10 || this.isTizen || this.isEjecta,
                    this.isMobile || (this.isMobile = /(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent)),
                    this.isWKWebView = !!(this.isiOS && this.isCordova && window.webkit),
                    "undefined" == typeof cr_is_preview || this.isNWjs || "?nw" !== window.location.search && !/nodewebkit/i.test(navigator.userAgent) && !/nwjs/i.test(navigator.userAgent) || (this.isNWjs = !0),
                    this.isDebug = "undefined" != typeof cr_is_preview && -1 < window.location.search.indexOf("debug"),
                    this.canvas = t,
                    this.canvasdiv = document.getElementById("c2canvasdiv"),
                    this.gl = null,
                    this.glwrap = null,
                    this.glUnmaskedRenderer = "(unavailable)",
                    this.enableFrontToBack = !1,
                    this.earlyz_index = 0,
                    this.ctx = null,
                    this.firstInFullscreen = !1,
                    this.oldWidth = 0,
                    this.oldHeight = 0,
                    this.canvas.oncontextmenu = function(t) {
                        return t.preventDefault && t.preventDefault(),
                        !1
                    }
                    ,
                    this.canvas.onselectstart = function(t) {
                        return t.preventDefault && t.preventDefault(),
                        !1
                    }
                    ,
                    this.canvas.ontouchstart = function(t) {
                        return t.preventDefault && t.preventDefault(),
                        !1
                    }
                    ,
                    this.isDirectCanvas && (window.c2runtime = this),
                    this.isNWjs && (window.ondragover = function(t) {
                        return t.preventDefault(),
                        !1
                    }
                    ,
                    window.ondrop = function(t) {
                        return t.preventDefault(),
                        !1
                    }
                    ,
                    window.nwgui && window.nwgui.App.clearCache && window.nwgui.App.clearCache()),
                    this.isAndroidStockBrowser && "undefined" != typeof jQuery && jQuery("canvas").parents("*").css("overflow", "visible"),
                    this.width = t.width,
                    this.height = t.height,
                    this.draw_width = this.width,
                    this.draw_height = this.height,
                    this.cssWidth = this.width,
                    this.cssHeight = this.height,
                    this.lastWindowWidth = window.innerWidth,
                    this.lastWindowHeight = window.innerHeight,
                    this.forceCanvasAlpha = !1,
                    this.redraw = !0,
                    this.isSuspended = !1,
                    Date.now || (Date.now = function() {
                        return +new Date
                    }
                    ),
                    this.plugins = [],
                    this.types = {},
                    this.types_by_index = [],
                    this.behaviors = [],
                    this.layouts = {},
                    this.layouts_by_index = [],
                    this.eventsheets = {},
                    this.eventsheets_by_index = [],
                    this.wait_for_textures = [],
                    this.triggers_to_postinit = [],
                    this.all_global_vars = [],
                    this.all_local_vars = [],
                    this.solidBehavior = null,
                    this.jumpthruBehavior = null,
                    this.shadowcasterBehavior = null,
                    this.deathRow = {},
                    this.hasPendingInstances = !1,
                    this.isInClearDeathRow = !1,
                    this.isInOnDestroy = 0,
                    this.isRunningEvents = !1,
                    this.isEndingLayout = !1,
                    this.createRow = [],
                    this.isLoadingState = !1,
                    this.saveToSlot = "",
                    this.loadFromSlot = "",
                    this.loadFromJson = null,
                    this.lastSaveJson = "",
                    this.signalledContinuousPreview = !1,
                    this.suspendDrawing = !1,
                    this.fireOnCreateAfterLoad = [],
                    this.dt = 0,
                    this.dt1 = 0,
                    this.minimumFramerate = 30,
                    this.logictime = 0,
                    this.cpuutilisation = 0,
                    this.timescale = 1,
                    this.kahanTime = new cr.KahanAdder,
                    this.wallTime = new cr.KahanAdder,
                    this.last_tick_time = 0,
                    this.fps = 0,
                    this.last_fps_time = 0,
                    this.tickcount = 0,
                    this.tickcount_nosave = 0,
                    this.execcount = 0,
                    this.framecount = 0,
                    this.objectcount = 0,
                    this.changelayout = null,
                    this.destroycallbacks = [],
                    this.event_stack = [],
                    this.event_stack_index = -1,
                    this.localvar_stack = [[]],
                    this.localvar_stack_index = 0,
                    this.trigger_depth = 0,
                    this.pushEventStack(null),
                    this.loop_stack = [],
                    this.loop_stack_index = -1,
                    this.next_uid = 0,
                    this.next_puid = 0,
                    this.layout_first_tick = !0,
                    this.family_count = 0,
                    this.suspend_events = [],
                    this.raf_id = -1,
                    this.timeout_id = -1,
                    this.isloading = !0,
                    this.loadingprogress = 0,
                    this.isNodeFullscreen = !1,
                    this.stackLocalCount = 0,
                    this.audioInstance = null,
                    this.had_a_click = !1,
                    this.isInUserInputEvent = !1,
                    this.objects_to_pretick = new cr.ObjectSet,
                    this.objects_to_tick = new cr.ObjectSet,
                    this.objects_to_tick2 = new cr.ObjectSet,
                    this.registered_collisions = [],
                    this.temp_poly = new cr.CollisionPoly([]),
                    this.temp_poly2 = new cr.CollisionPoly([]),
                    this.allGroups = [],
                    this.groups_by_name = {},
                    this.cndsBySid = {},
                    this.actsBySid = {},
                    this.varsBySid = {},
                    this.blocksBySid = {},
                    this.running_layout = null,
                    this.layer_canvas = null,
                    this.layer_ctx = null,
                    this.layer_tex = null,
                    this.layout_tex = null,
                    this.layout_canvas = null,
                    this.layout_ctx = null,
                    this.is_WebGL_context_lost = !1,
                    this.uses_background_blending = !1,
                    this.fx_tex = [null, null],
                    this.fullscreen_scaling = 0,
                    this.files_subfolder = "",
                    this.objectsByUid = {},
                    this.loaderlogos = null,
                    this.snapshotCanvas = null,
                    this.snapshotData = "",
                    this.objectRefTable = [],
                    this.requestProjectData()))
                }
                i.prototype.requestProjectData = function() {
                    var e = this;
                    if (this.isWKWebView)
                        this.fetchLocalFileViaCordovaAsText("https://427396048-642845047394716217.preview.editmysite.com/uploads/b/139890129-761103484729797659/files/data.js", function(t) {
                            e.loadProject(JSON.parse(t))
                        }, function(t) {
                            alert("Error fetching data.js")
                        });
                    else {
                        var i = this.isWindowsPhone8 ? new ActiveXObject("Microsoft.XMLHTTP") : new XMLHttpRequest
                          , s = "https://427396048-642845047394716217.preview.editmysite.com/uploads/b/139890129-761103484729797659/files/data.js";
                        (this.isWindows8App || this.isWindowsPhone8 || this.isWindowsPhone81 || this.isWindows10) && (s = "data.json"),
                        i.open("GET", s, !0);
                        var n = !1;
                        if (!this.isDomFree && "response"in i && "responseType"in i)
                            try {
                                i.responseType = "json",
                                n = "json" === i.responseType
                            } catch (t) {
                                n = !1
                            }
                        if (!n && "responseType"in i)
                            try {
                                i.responseType = "text"
                            } catch (t) {}
                        if ("overrideMimeType"in i)
                            try {
                                i.overrideMimeType("application/json; charset=utf-8")
                            } catch (t) {}
                        this.isWindowsPhone8 ? i.onreadystatechange = function() {
                            4 === i.readyState && e.loadProject(JSON.parse(i.responseText))
                        }
                        : (i.onload = function() {
                            var t;
                            n ? e.loadProject(i.response) : e.isEjecta ? (t = (t = i.responseText).substr(t.indexOf("{")),
                            e.loadProject(JSON.parse(t))) : e.loadProject(JSON.parse(i.responseText))
                        }
                        ,
                        i.onerror = function(t) {
                            cr.logerror("Error requesting " + s + ":"),
                            cr.logerror(t)
                        }
                        ),
                        i.send()
                    }
                }
                ,
                i.prototype.initRendererAndLoader = function() {
                    var t, e, i, s, n, r, o, a, h, c, l, u = this;
                    this.isRetina = (!this.isDomFree || this.isEjecta || this.isCordova) && this.useHighDpi && !this.isAndroidStockBrowser,
                    0 === this.fullscreen_mode && this.isiOS && (this.isRetina = !1),
                    this.devicePixelRatio = this.isRetina && (window.devicePixelRatio || window.webkitDevicePixelRatio || window.mozDevicePixelRatio || window.msDevicePixelRatio) || 1,
                    "object" == typeof window.StatusBar && window.StatusBar.hide(),
                    this.ClearDeathRow(),
                    0 < this.fullscreen_mode && this.setSize(window.innerWidth, window.innerHeight, !0),
                    this.canvas.addEventListener("webglcontextlost", function(t) {
                        t.preventDefault(),
                        u.onContextLost(),
                        cr.logexport("[Construct 2] WebGL context lost"),
                        window.cr_setSuspended(!0)
                    }, !1),
                    this.canvas.addEventListener("webglcontextrestored", function(t) {
                        u.glwrap.initState(),
                        u.glwrap.setSize(u.glwrap.width, u.glwrap.height, !0),
                        u.layer_tex = null,
                        u.layout_tex = null,
                        u.fx_tex[0] = null,
                        u.fx_tex[1] = null,
                        u.onContextRestored(),
                        u.redraw = !0,
                        cr.logexport("[Construct 2] WebGL context restored"),
                        window.cr_setSuspended(!1)
                    }, !1);
                    try {
                        this.enableWebGL && (this.isCocoonJs || this.isEjecta || !this.isDomFree) && (l = {
                            alpha: !0,
                            depth: !1,
                            antialias: !1,
                            powerPreference: "high-performance",
                            failIfMajorPerformanceCaveat: !0
                        },
                        this.isAndroid || (this.gl = this.canvas.getContext("webgl2", l)),
                        this.gl || (this.gl = this.canvas.getContext("webgl", l) || this.canvas.getContext("experimental-webgl", l)))
                    } catch (t) {}
                    if (this.gl) {
                        this.gl.getParameter(this.gl.VERSION).indexOf("WebGL 2");
                        var p, d = this.gl.getExtension("WEBGL_debug_renderer_info");
                        for (d && (p = this.gl.getParameter(d.UNMASKED_VENDOR_WEBGL),
                        d = this.gl.getParameter(d.UNMASKED_RENDERER_WEBGL),
                        this.glUnmaskedRenderer = d + " [" + p + "]"),
                        this.enableFrontToBack && (this.glUnmaskedRenderer += " [front-to-back enabled]"),
                        this.isDomFree || (this.overlay_canvas = document.createElement("canvas"),
                        jQuery(this.overlay_canvas).appendTo(this.canvas.parentNode),
                        this.overlay_canvas.oncontextmenu = function(t) {
                            return !1
                        }
                        ,
                        this.overlay_canvas.onselectstart = function(t) {
                            return !1
                        }
                        ,
                        this.overlay_canvas.width = Math.round(this.cssWidth * this.devicePixelRatio),
                        this.overlay_canvas.height = Math.round(this.cssHeight * this.devicePixelRatio),
                        jQuery(this.overlay_canvas).css({
                            width: this.cssWidth + "px",
                            height: this.cssHeight + "px"
                        }),
                        this.positionOverlayCanvas(),
                        this.overlay_ctx = this.overlay_canvas.getContext("2d")),
                        this.glwrap = new cr.GLWrap(this.gl,this.isMobile,this.enableFrontToBack),
                        this.glwrap.setSize(this.canvas.width, this.canvas.height),
                        this.glwrap.enable_mipmaps = 0 !== this.downscalingQuality,
                        this.ctx = null,
                        t = 0,
                        e = this.types_by_index.length; t < e; t++)
                            for (i = 0,
                            s = (o = this.types_by_index[t]).effect_types.length; i < s; i++)
                                (a = o.effect_types[i]).shaderindex = this.glwrap.getShaderIndex(a.id),
                                a.preservesOpaqueness = this.glwrap.programPreservesOpaqueness(a.shaderindex),
                                this.uses_background_blending = this.uses_background_blending || this.glwrap.programUsesDest(a.shaderindex);
                        for (t = 0,
                        e = this.layouts_by_index.length; t < e; t++) {
                            for (i = 0,
                            s = (h = this.layouts_by_index[t]).effect_types.length; i < s; i++)
                                (a = h.effect_types[i]).shaderindex = this.glwrap.getShaderIndex(a.id),
                                a.preservesOpaqueness = this.glwrap.programPreservesOpaqueness(a.shaderindex);
                            for (h.updateActiveEffects(),
                            i = 0,
                            s = h.layers.length; i < s; i++) {
                                for (n = 0,
                                r = (c = h.layers[i]).effect_types.length; n < r; n++)
                                    (a = c.effect_types[n]).shaderindex = this.glwrap.getShaderIndex(a.id),
                                    a.preservesOpaqueness = this.glwrap.programPreservesOpaqueness(a.shaderindex),
                                    this.uses_background_blending = this.uses_background_blending || this.glwrap.programUsesDest(a.shaderindex);
                                c.updateActiveEffects()
                            }
                        }
                    } else {
                        if (0 < this.fullscreen_mode && this.isDirectCanvas) {
                            this.canvas = null,
                            document.oncontextmenu = function(t) {
                                return !1
                            }
                            ,
                            document.onselectstart = function(t) {
                                return !1
                            }
                            ,
                            this.ctx = AppMobi.canvas.getContext("2d");
                            try {
                                this.ctx.samplingMode = this.linearSampling ? "smooth" : "sharp",
                                this.ctx.globalScale = 1,
                                this.ctx.HTML5CompatibilityMode = !0,
                                this.ctx.imageSmoothingEnabled = this.linearSampling
                            } catch (t) {}
                            0 !== this.width && 0 !== this.height && (this.ctx.width = this.width,
                            this.ctx.height = this.height)
                        }
                        this.ctx || (l = this.isCocoonJs ? {
                            antialias: !!this.linearSampling,
                            alpha: !0
                        } : {
                            alpha: !0
                        },
                        this.ctx = this.canvas.getContext("2d", l),
                        this.setCtxImageSmoothingEnabled(this.ctx, this.linearSampling)),
                        this.overlay_canvas = null,
                        this.overlay_ctx = null
                    }
                    this.tickFunc = function(t) {
                        u.tick(!1, t)
                    }
                    ,
                    window == window.top || this.isDomFree || this.isWinJS || this.isWindowsPhone8 || (document.addEventListener("mousedown", function() {
                        window.focus()
                    }, !0),
                    document.addEventListener("touchstart", function() {
                        window.focus()
                    }, !0)),
                    "undefined" != typeof cr_is_preview && (this.isCocoonJs && console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
                    -1 < window.location.search.indexOf("continuous") && (cr.logexport("Reloading for continuous preview"),
                    this.loadFromSlot = "__c2_continuouspreview",
                    this.suspendDrawing = !0),
                    this.pauseOnBlur && !this.isMobile && (jQuery(window).focus(function() {
                        u.setSuspended(!1)
                    }),
                    jQuery(window).blur(function() {
                        var t = window.parent;
                        t && t.document.hasFocus() || u.setSuspended(!0)
                    }))),
                    window.addEventListener("blur", function() {
                        u.onWindowBlur()
                    }),
                    this.isDomFree || (p = function(t) {
                        if (cr.isCanvasInputEvent(t) && document.activeElement && document.activeElement !== document.getElementsByTagName("body")[0] && document.activeElement.blur)
                            try {
                                document.activeElement.blur()
                            } catch (t) {}
                    }
                    ,
                    "undefined" != typeof PointerEvent ? document.addEventListener("pointerdown", p) : window.navigator.msPointerEnabled ? document.addEventListener("MSPointerDown", p) : document.addEventListener("touchstart", p),
                    document.addEventListener("mousedown", p)),
                    0 === this.fullscreen_mode && this.isRetina && 1 < this.devicePixelRatio && this.setSize(this.original_width, this.original_height, !0),
                    this.tryLockOrientation(),
                    this.getready(),
                    this.go(),
                    this.extra = {},
                    cr.seal(this)
                }
                ,
                i.prototype.setSize = function(t, e, i) {
                    var s, n, r, o, a = 0, h = 0, c = 0, l = 0, u = 0;
                    this.lastWindowWidth === t && this.lastWindowHeight === e && !i || (this.lastWindowWidth = t,
                    this.lastWindowHeight = e,
                    s = this.fullscreen_mode,
                    ((o = (document.mozFullScreen || document.webkitIsFullScreen || !!document.msFullscreenElement || document.fullScreen || this.isNodeFullscreen) && !this.isCordova) || 0 !== this.fullscreen_mode || i) && (o && (s = this.fullscreen_scaling),
                    i = this.devicePixelRatio,
                    4 <= s ? (5 === s && 1 !== i && (t += 1,
                    e += 1),
                    (n = this.original_width / this.original_height) < (r = t / e) ? (c = e * n,
                    5 === s ? (1 < (u = c * i / this.original_width) ? u = Math.floor(u) : u < 1 && (u = 1 / Math.ceil(1 / u)),
                    a = (t - (c = this.original_width * u / i)) / 2,
                    h = (e - (l = this.original_height * u / i)) / 2,
                    t = c,
                    e = l) : (a = (t - c) / 2,
                    t = c)) : (l = t / n,
                    e = (5 === s ? (1 < (u = l * i / this.original_height) ? u = Math.floor(u) : u < 1 && (u = 1 / Math.ceil(1 / u)),
                    a = (t - (c = this.original_width * u / i)) / 2,
                    h = (e - (l = this.original_height * u / i)) / 2,
                    t = c) : h = (e - l) / 2,
                    l))) : o && 0 === s && (a = Math.floor((t - this.original_width) / 2),
                    h = Math.floor((e - this.original_height) / 2),
                    t = this.original_width,
                    e = this.original_height),
                    s < 2 && (this.aspect_scale = i),
                    this.cssWidth = Math.round(t),
                    this.cssHeight = Math.round(e),
                    this.width = Math.round(t * i),
                    this.height = Math.round(e * i),
                    this.redraw = !0,
                    this.wantFullscreenScalingQuality || this.width < this.original_width && this.height < this.original_height || 1 === s ? (this.draw_width = this.width,
                    this.draw_height = this.height,
                    this.fullscreenScalingQuality = !0) : (this.draw_width = this.original_width,
                    this.draw_height = this.original_height,
                    this.fullscreenScalingQuality = !1,
                    2 === s ? (n = this.original_width / this.original_height,
                    (r = this.lastWindowWidth / this.lastWindowHeight) < n ? this.draw_width = this.draw_height * r : n < r && (this.draw_height = this.draw_width / r)) : 3 === s && ((n = this.original_width / this.original_height) < (r = this.lastWindowWidth / this.lastWindowHeight) ? this.draw_width = this.draw_height * r : r < n && (this.draw_height = this.draw_width / r))),
                    this.canvasdiv && !this.isDomFree && (jQuery(this.canvasdiv).css({
                        width: Math.round(t) + "px",
                        height: Math.round(e) + "px",
                        "margin-left": Math.floor(a) + "px",
                        "margin-top": Math.floor(h) + "px"
                    }),
                    "undefined" != typeof cr_is_preview && jQuery("#borderwrap").css({
                        width: Math.round(t) + "px",
                        height: Math.round(e) + "px"
                    })),
                    this.canvas && (this.canvas.width = Math.round(t * i),
                    this.canvas.height = Math.round(e * i),
                    this.isEjecta ? (this.canvas.style.left = Math.floor(a) + "px",
                    this.canvas.style.top = Math.floor(h) + "px",
                    this.canvas.style.width = Math.round(t) + "px",
                    this.canvas.style.height = Math.round(e) + "px") : this.isRetina && !this.isDomFree && (this.canvas.style.width = Math.round(t) + "px",
                    this.canvas.style.height = Math.round(e) + "px")),
                    this.overlay_canvas && (this.overlay_canvas.width = Math.round(t * i),
                    this.overlay_canvas.height = Math.round(e * i),
                    this.overlay_canvas.style.width = this.cssWidth + "px",
                    this.overlay_canvas.style.height = this.cssHeight + "px"),
                    this.glwrap && this.glwrap.setSize(Math.round(t * i), Math.round(e * i)),
                    this.isDirectCanvas && this.ctx && (this.ctx.width = Math.round(t),
                    this.ctx.height = Math.round(e)),
                    this.ctx && this.setCtxImageSmoothingEnabled(this.ctx, this.linearSampling),
                    this.tryLockOrientation(),
                    this.isiPhone && !this.isCordova && window.scrollTo(0, 0)))
                }
                ,
                i.prototype.tryLockOrientation = function() {
                    if (this.autoLockOrientation && 0 !== this.orientations) {
                        var t = "portrait";
                        2 === this.orientations && (t = "landscape");
                        try {
                            screen.orientation && screen.orientation.lock ? screen.orientation.lock(t).catch(function() {}) : screen.lockOrientation ? screen.lockOrientation(t) : screen.webkitLockOrientation ? screen.webkitLockOrientation(t) : screen.mozLockOrientation ? screen.mozLockOrientation(t) : screen.msLockOrientation && screen.msLockOrientation(t)
                        } catch (t) {
                            console && console.warn && console.warn("Failed to lock orientation: ", t)
                        }
                    }
                }
                ,
                i.prototype.onContextLost = function() {
                    var t, e, i;
                    for (this.glwrap.contextLost(),
                    this.is_WebGL_context_lost = !0,
                    t = 0,
                    e = this.types_by_index.length; t < e; t++)
                        (i = this.types_by_index[t]).onLostWebGLContext && i.onLostWebGLContext()
                }
                ,
                i.prototype.onContextRestored = function() {
                    var t, e, i;
                    for (this.is_WebGL_context_lost = !1,
                    t = 0,
                    e = this.types_by_index.length; t < e; t++)
                        (i = this.types_by_index[t]).onRestoreWebGLContext && i.onRestoreWebGLContext()
                }
                ,
                i.prototype.positionOverlayCanvas = function() {
                    var t;
                    this.isDomFree || ((t = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement || this.isNodeFullscreen) && !this.isCordova ? jQuery(this.canvas).offset() : jQuery(this.canvas).position()).position = "absolute",
                    jQuery(this.overlay_canvas).css(t))
                }
                ;
                var s = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame;
                i.prototype.setSuspended = function(t) {
                    var e, i;
                    if (t && !this.isSuspended)
                        for (cr.logexport("[Construct 2] Suspending"),
                        this.isSuspended = !0,
                        -1 !== this.raf_id && s && s(this.raf_id),
                        -1 !== this.timeout_id && clearTimeout(this.timeout_id),
                        e = 0,
                        i = this.suspend_events.length; e < i; e++)
                            this.suspend_events[e](!0);
                    else if (!t && this.isSuspended) {
                        for (cr.logexport("[Construct 2] Resuming"),
                        this.isSuspended = !1,
                        this.last_tick_time = cr.performance_now(),
                        this.last_fps_time = cr.performance_now(),
                        this.framecount = 0,
                        e = this.logictime = 0,
                        i = this.suspend_events.length; e < i; e++)
                            this.suspend_events[e](!1);
                        this.tick(!1)
                    }
                }
                ,
                i.prototype.addSuspendCallback = function(t) {
                    this.suspend_events.push(t)
                }
                ,
                i.prototype.GetObjectReference = function(t) {
                    return this.objectRefTable[t]
                }
                ;
                var g = !(i.prototype.loadProject = function(t) {
                    t && t.project || cr.logerror("Project model unavailable");
                    var e, i, s, n, r, o, a, h, c, l, u, p, d, g, f, m, y, _, v, b, w = t.project;
                    for (this.name = w[0],
                    this.first_layout = w[1],
                    this.fullscreen_mode = w[12],
                    this.fullscreen_mode_set = w[12],
                    this.original_width = w[10],
                    this.original_height = w[11],
                    this.parallax_x_origin = this.original_width / 2,
                    this.parallax_y_origin = this.original_height / 2,
                    this.isDomFree && !this.isEjecta && (4 <= w[12] || 0 === w[12]) && (cr.logexport("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
                    this.fullscreen_mode = 3,
                    this.fullscreen_mode_set = 3),
                    this.uses_loader_layout = w[18],
                    this.loaderstyle = w[19],
                    0 === this.loaderstyle ? ((u = new Image).crossOrigin = "anonymous",
                    this.setImageSrc(u, "https://427396048-642845047394716217.preview.editmysite.com/uploads/b/139890129-761103484729797659/files/loading-logo.png"),
                    this.loaderlogos = {
                        logo: u
                    }) : 4 === this.loaderstyle && ((e = new Image).src = "",
                    (i = new Image).src = "",
                    (s = new Image).src = "",
                    (n = new Image).src = "",
                    (r = new Image).src = "",
                    (o = new Image).src = "",
                    (a = new Image).src = "",
                    (h = new Image).src = "",
                    (c = new Image).src = "",
                    (l = new Image).src = "",
                    (t = new Image).src = "",
                    (u = new Image).src = "",
                    this.loaderlogos = {
                        logo: [e, i, s, n],
                        powered: [r, o, a, h],
                        website: [c, l, t, u]
                    }),
                    this.next_uid = w[21],
                    this.objectRefTable = cr.getObjectRefTable(),
                    this.system = new cr.system_object(this),
                    p = 0,
                    d = w[2].length; p < d; p++)
                        g = w[2][p],
                        _ = this.GetObjectReference(g[0]),
                        cr.add_common_aces(g, _.prototype),
                        (v = new _(this)).singleglobal = g[1],
                        v.is_world = g[2],
                        v.is_rotatable = g[5],
                        v.must_predraw = g[9],
                        v.onCreate && v.onCreate(),
                        cr.seal(v),
                        this.plugins.push(v);
                    for (this.objectRefTable = cr.getObjectRefTable(),
                    p = 0,
                    d = w[3].length; p < d; p++) {
                        for (g = w[3][p],
                        b = this.GetObjectReference(g[1]),
                        v = null,
                        M = 0,
                        F = this.plugins.length; M < F; M++)
                            if (this.plugins[M]instanceof b) {
                                v = this.plugins[M];
                                break
                            }
                        var x, S = new v.Type(v);
                        for (S.name = g[0],
                        S.is_family = g[2],
                        S.instvar_sids = g[3].slice(0),
                        S.vars_count = g[3].length,
                        S.behs_count = g[4],
                        S.fx_count = g[5],
                        S.sid = g[11],
                        S.is_family ? (S.members = [],
                        S.family_index = this.family_count++,
                        S.families = null) : (S.members = null,
                        S.family_index = -1,
                        S.families = []),
                        S.family_var_map = null,
                        S.family_beh_map = null,
                        S.family_fx_map = null,
                        S.is_contained = !1,
                        S.container = null,
                        g[6] ? (S.texture_file = g[6][0],
                        S.texture_filesize = g[6][1],
                        S.texture_pixelformat = g[6][2]) : (S.texture_file = null,
                        S.texture_filesize = 0,
                        S.texture_pixelformat = 0),
                        g[7] ? S.animations = g[7] : S.animations = null,
                        S.index = p,
                        S.instances = [],
                        S.deadCache = [],
                        S.solstack = [new cr.selection(S)],
                        S.cur_sol = 0,
                        S.default_instance = null,
                        S.default_layerindex = 0,
                        S.stale_iids = !0,
                        S.updateIIDs = cr.type_updateIIDs,
                        S.getFirstPicked = cr.type_getFirstPicked,
                        S.getPairedInstance = cr.type_getPairedInstance,
                        S.getCurrentSol = cr.type_getCurrentSol,
                        S.pushCleanSol = cr.type_pushCleanSol,
                        S.pushCopySol = cr.type_pushCopySol,
                        S.popSol = cr.type_popSol,
                        S.getBehaviorByName = cr.type_getBehaviorByName,
                        S.getBehaviorIndexByName = cr.type_getBehaviorIndexByName,
                        S.getEffectIndexByName = cr.type_getEffectIndexByName,
                        S.applySolToContainer = cr.type_applySolToContainer,
                        S.getInstanceByIID = cr.type_getInstanceByIID,
                        S.collision_grid = new cr.SparseGrid(this.original_width,this.original_height),
                        S.any_cell_changed = !0,
                        S.any_instance_parallaxed = !1,
                        S.extra = {},
                        S.toString = cr.type_toString,
                        S.behaviors = [],
                        M = 0,
                        F = g[8].length; M < F; M++) {
                            f = g[8][M];
                            for (var T = this.GetObjectReference(f[1]), C = null, O = 0, k = this.behaviors.length; O < k; O++)
                                if (this.behaviors[O]instanceof T) {
                                    C = this.behaviors[O];
                                    break
                                }
                            C || ((C = new T(this)).my_types = [],
                            C.my_instances = new cr.ObjectSet,
                            C.onCreate && C.onCreate(),
                            cr.seal(C),
                            this.behaviors.push(C),
                            cr.behaviors.solid && C instanceof cr.behaviors.solid && (this.solidBehavior = C),
                            cr.behaviors.jumpthru && C instanceof cr.behaviors.jumpthru && (this.jumpthruBehavior = C),
                            cr.behaviors.shadowcaster && C instanceof cr.behaviors.shadowcaster && (this.shadowcasterBehavior = C)),
                            -1 === C.my_types.indexOf(S) && C.my_types.push(S);
                            var A = new C.Type(C,S);
                            A.name = f[0],
                            A.sid = f[2],
                            A.onCreate(),
                            cr.seal(A),
                            S.behaviors.push(A)
                        }
                        for (S.global = g[9],
                        S.isOnLoaderLayout = g[10],
                        S.effect_types = [],
                        M = 0,
                        F = g[12].length; M < F; M++)
                            S.effect_types.push({
                                id: g[12][M][0],
                                name: g[12][M][1],
                                shaderindex: -1,
                                preservesOpaqueness: !1,
                                active: !0,
                                index: M
                            });
                        S.tile_poly_data = g[13],
                        this.uses_loader_layout && !S.is_family && !S.isOnLoaderLayout && v.is_world || (S.onCreate(),
                        cr.seal(S)),
                        S.name && (this.types[S.name] = S),
                        this.types_by_index.push(S),
                        v.singleglobal && ((x = new v.Instance(S)).uid = this.next_uid++,
                        x.puid = this.next_puid++,
                        x.iid = 0,
                        x.get_iid = cr.inst_get_iid,
                        x.toString = cr.inst_toString,
                        x.properties = g[14],
                        x.onCreate(),
                        cr.seal(x),
                        S.instances.push(x),
                        this.objectsByUid[x.uid.toString()] = x)
                    }
                    for (p = 0,
                    d = w[4].length; p < d; p++)
                        for (var E, I = w[4][p], P = this.types_by_index[I[0]], M = 1, F = I.length; M < F; M++)
                            (E = this.types_by_index[I[M]]).families.push(P),
                            P.members.push(E);
                    for (p = 0,
                    d = w[28].length; p < d; p++) {
                        var L = w[28][p]
                          , D = [];
                        for (M = 0,
                        F = L.length; M < F; M++)
                            D.push(this.types_by_index[L[M]]);
                        for (M = 0,
                        F = D.length; M < F; M++)
                            D[M].is_contained = !0,
                            D[M].container = D
                    }
                    if (0 < this.family_count)
                        for (p = 0,
                        d = this.types_by_index.length; p < d; p++)
                            if (!(m = this.types_by_index[p]).is_family && m.families.length) {
                                m.family_var_map = new Array(this.family_count),
                                m.family_beh_map = new Array(this.family_count),
                                m.family_fx_map = new Array(this.family_count);
                                var R = []
                                  , j = 0
                                  , B = 0
                                  , N = 0;
                                for (M = 0,
                                F = m.families.length; M < F; M++)
                                    for (y = m.families[M],
                                    m.family_var_map[y.family_index] = j,
                                    j += y.vars_count,
                                    m.family_beh_map[y.family_index] = B,
                                    B += y.behs_count,
                                    m.family_fx_map[y.family_index] = N,
                                    N += y.fx_count,
                                    O = 0,
                                    k = y.effect_types.length; O < k; O++)
                                        R.push(cr.shallowCopy({}, y.effect_types[O]));
                                for (m.effect_types = R.concat(m.effect_types),
                                M = 0,
                                F = m.effect_types.length; M < F; M++)
                                    m.effect_types[M].index = M
                            }
                    for (p = 0,
                    d = w[5].length; p < d; p++) {
                        g = w[5][p];
                        var V = new cr.layout(this,g);
                        cr.seal(V),
                        this.layouts[V.name] = V,
                        this.layouts_by_index.push(V)
                    }
                    for (p = 0,
                    d = w[6].length; p < d; p++) {
                        g = w[6][p];
                        var G = new cr.eventsheet(this,g);
                        cr.seal(G),
                        this.eventsheets[G.name] = G,
                        this.eventsheets_by_index.push(G)
                    }
                    for (p = 0,
                    d = this.eventsheets_by_index.length; p < d; p++)
                        this.eventsheets_by_index[p].postInit();
                    for (p = 0,
                    d = this.eventsheets_by_index.length; p < d; p++)
                        this.eventsheets_by_index[p].updateDeepIncludes();
                    for (p = 0,
                    d = this.triggers_to_postinit.length; p < d; p++)
                        this.triggers_to_postinit[p].postInit();
                    cr.clearArray(this.triggers_to_postinit),
                    this.audio_to_preload = w[7],
                    this.files_subfolder = w[8],
                    this.pixel_rounding = w[9],
                    this.aspect_scale = 1,
                    this.enableWebGL = w[13],
                    this.linearSampling = w[14],
                    this.clearBackground = w[15],
                    this.versionstr = w[16],
                    this.useHighDpi = w[17],
                    this.orientations = w[20],
                    this.autoLockOrientation = 0 < this.orientations,
                    this.pauseOnBlur = w[22],
                    this.wantFullscreenScalingQuality = w[23],
                    this.fullscreenScalingQuality = this.wantFullscreenScalingQuality,
                    this.downscalingQuality = w[24],
                    this.preloadSounds = w[25],
                    this.projectName = w[26],
                    this.enableFrontToBack = w[27] && !this.isIE,
                    this.start_time = Date.now(),
                    cr.clearArray(this.objectRefTable),
                    this.initRendererAndLoader()
                }
                )
                  , n = 0
                  , r = [];
                i.prototype.queueImageLoad = function(t, e) {
                    function i() {
                        n--,
                        s.maybeLoadNextImages()
                    }
                    var s = this;
                    t.addEventListener("load", i),
                    t.addEventListener("error", i),
                    r.push([t, e]),
                    this.maybeLoadNextImages()
                }
                ,
                i.prototype.maybeLoadNextImages = function() {
                    for (var t; r.length && n < 100; )
                        n++,
                        t = r.shift(),
                        this.setImageSrc(t[0], t[1])
                }
                ,
                i.prototype.waitForImageLoad = function(e, i) {
                    e.cocoonLazyLoad = !0,
                    e.onerror = function(t) {
                        e.c2error = !0,
                        g = !0,
                        console && console.error && console.error("Error loading image '" + e.src + "': ", t)
                    }
                    ,
                    this.isEjecta ? e.src = i : e.src || ("undefined" != typeof XAPKReader ? XAPKReader.get(i, function(t) {
                        e.src = t
                    }, function(t) {
                        e.c2error = !0,
                        g = !0,
                        console && console.error && console.error("Error extracting image '" + i + "' from expansion file: ", t)
                    }) : (e.crossOrigin = "anonymous",
                    this.queueImageLoad(e, i))),
                    this.wait_for_textures.push(e)
                }
                ;
                var h = 0
                  , c = !(i.prototype.findWaitingTexture = function(t) {
                    for (var e = 0, i = this.wait_for_textures.length; e < i; e++)
                        if (this.wait_for_textures[e].cr_src === t)
                            return this.wait_for_textures[e];
                    return null
                }
                );
                i.prototype.getready = function() {
                    this.audioInstance && (h = this.audioInstance.setPreloadList(this.audio_to_preload))
                }
                ;
                var f = !(i.prototype.areAllTexturesAndSoundsLoaded = function() {
                    for (var t, e, i = h, s = 0, n = !0, r = 0, o = this.wait_for_textures.length; r < o; r++) {
                        var a = (e = this.wait_for_textures[r]).cr_filesize;
                        (!a || a <= 0) && (a = 5e4),
                        i += a,
                        e.src && (e.complete || e.loaded) && !e.c2error ? s += a : n = !1
                    }
                    return n && this.preloadSounds && this.audioInstance && (c || (this.audioInstance.startPreloads(),
                    c = !0),
                    s += t = this.audioInstance.getPreloadedSize(),
                    t < h && (n = !1)),
                    this.progress = 0 == i ? 1 : s / i,
                    n
                }
                );
                i.prototype.go = function() {
                    if (this.ctx || this.glwrap) {
                        var t = this.ctx || this.overlay_ctx;
                        this.overlay_canvas && this.positionOverlayCanvas();
                        var e = window.innerWidth
                          , i = window.innerHeight;
                        this.lastWindowWidth === e && this.lastWindowHeight === i || this.setSize(e, i),
                        this.progress = 0,
                        this.last_progress = -1;
                        var s = this;
                        if (this.areAllTexturesAndSoundsLoaded() && (4 !== this.loaderstyle || f))
                            this.go_loading_finished();
                        else {
                            var n = Date.now() - this.start_time;
                            if (t) {
                                var r = this.width
                                  , o = this.height
                                  , a = this.devicePixelRatio;
                                if (this.loaderstyle < 3 && (this.isCocoonJs || 500 <= n && this.last_progress != this.progress)) {
                                    t.clearRect(0, 0, r, o);
                                    var h = r / 2
                                      , c = o / 2
                                      , l = 0 === this.loaderstyle && this.loaderlogos.logo.complete
                                      , e = 40 * a
                                      , i = 0
                                      , n = 80 * a;
                                    l && (e = (n = (r = this.loaderlogos.logo).width * a) / 2,
                                    i = (o = r.height * a) / 2,
                                    t.drawImage(r, cr.floor(h - e), cr.floor(c - i), n, o)),
                                    this.loaderstyle <= 1 ? (c += i + (l ? 12 * a : 0),
                                    h -= e,
                                    h = cr.floor(h) + .5,
                                    c = cr.floor(c) + .5,
                                    t.fillStyle = g ? "red" : "DodgerBlue",
                                    t.fillRect(h, c, Math.floor(n * this.progress), 6 * a),
                                    t.strokeStyle = "black",
                                    t.strokeRect(h, c, n, 6 * a),
                                    t.strokeStyle = "white",
                                    t.strokeRect(h - +a, c - +a, n + 2 * a, 8 * a)) : 2 === this.loaderstyle && (t.font = this.isEjecta ? "12pt ArialMT" : "12pt Arial",
                                    t.fillStyle = g ? "#f00" : "#999",
                                    t.textBaseLine = "middle",
                                    n = Math.round(100 * this.progress) + "%",
                                    a = (a = t.measureText ? t.measureText(n) : null) ? a.width : 0,
                                    t.fillText(n, h - a / 2, c)),
                                    this.last_progress = this.progress
                                } else if (4 === this.loaderstyle)
                                    return this.draw_c2_splash_loader(t),
                                    void (u ? u(function() {
                                        s.go()
                                    }) : setTimeout(function() {
                                        s.go()
                                    }, 16))
                            }
                            setTimeout(function() {
                                s.go()
                            }, this.isCocoonJs ? 10 : 100)
                        }
                    }
                }
                ;
                var m = -1
                  , y = "undefined" == typeof cr_is_preview ? 200 : 0
                  , _ = !0
                  , v = !1
                  , b = 0
                  , w = 0
                  , x = "undefined" == typeof cr_is_preview ? 3e3 : 0
                  , S = null
                  , T = null
                  , C = 0;
                function O(t, e) {
                    return e <= 128 ? t[3] : e <= 256 ? t[2] : e <= 512 ? t[1] : t[0]
                }
                i.prototype.draw_c2_splash_loader = function(t) {
                    if (!f) {
                        for (var e = Math.ceil(this.width), i = Math.ceil(this.height), s = (this.devicePixelRatio,
                        this.loaderlogos.logo), n = this.loaderlogos.powered, r = this.loaderlogos.website, o = 0; o < 4; ++o)
                            if (!s[o].complete || !n[o].complete || !r[o].complete)
                                return;
                        0 === C && (m = Date.now());
                        var a, h, c, l, u = Date.now(), p = !1, d = t;
                        _ || v ? (t.clearRect(0, 0, e, i),
                        c = e,
                        l = i,
                        S && S.width === c && S.height === l || ((S = document.createElement("canvas")).width = c,
                        S.height = l,
                        T = S.getContext("2d")),
                        d = T,
                        p = !0,
                        _ && 1 === C && (m = Date.now())) : t.globalAlpha = 1,
                        d.fillStyle = "#333333",
                        d.fillRect(0, 0, e, i),
                        256 < this.cssHeight ? (h = .25 * (a = cr.clamp(.22 * i, 105, .6 * e)),
                        d.drawImage(O(n, a), .5 * e - a / 2, .2 * i - h / 2, a, h),
                        h = a = Math.min(.395 * i, .95 * e),
                        d.drawImage(O(s, a), .5 * e - a / 2, .485 * i - h / 2, a, h),
                        h = .25 * (a = cr.clamp(.22 * i, 105, .6 * e)),
                        d.drawImage(O(r, a), .5 * e - a / 2, .868 * i - h / 2, a, h),
                        d.fillStyle = "#3C3C3C",
                        a = e,
                        h = Math.max(.005 * i, 2),
                        d.fillRect(0, .8 * i - h / 2, a, h),
                        d.fillStyle = g ? "red" : "#E0FF65",
                        a = e * this.progress,
                        d.fillRect(.5 * e - a / 2, .8 * i - h / 2, a, h)) : (h = a = .55 * i,
                        d.drawImage(O(s, a), .5 * e - a / 2, .45 * i - h / 2, a, h),
                        d.fillStyle = "#3C3C3C",
                        a = e,
                        h = Math.max(.005 * i, 2),
                        d.fillRect(0, .85 * i - h / 2, a, h),
                        d.fillStyle = g ? "red" : "#E0FF65",
                        a = e * this.progress,
                        d.fillRect(.5 * e - a / 2, .85 * i - h / 2, a, h)),
                        p && (_ ? t.globalAlpha = 0 === C ? 0 : Math.min((u - m) / 300, 1) : v && (t.globalAlpha = Math.max(1 - (u - w) / 300, 0)),
                        t.drawImage(S, 0, 0, e, i)),
                        _ && 300 <= u - m && 2 <= C && (_ = !1,
                        b = u),
                        !_ && x <= u - b && !v && 1 <= this.progress && (v = !0,
                        w = u),
                        (v && 300 + y <= u - w || "undefined" != typeof cr_is_preview && 1 <= this.progress && Date.now() - m < 500) && (v = _ = !(f = !0),
                        T = S = null,
                        this.loaderlogos = null),
                        ++C
                    }
                }
                ,
                i.prototype.go_loading_finished = function() {
                    var t, e, i, s, n;
                    if (this.overlay_canvas && (this.canvas.parentNode.removeChild(this.overlay_canvas),
                    this.overlay_ctx = null,
                    this.overlay_canvas = null),
                    this.start_time = Date.now(),
                    this.last_fps_time = cr.performance_now(),
                    this.uses_loader_layout)
                        for (t = 0,
                        e = this.types_by_index.length; t < e; t++)
                            (i = this.types_by_index[t]).is_family || i.isOnLoaderLayout || !i.plugin.is_world || (i.onCreate(),
                            cr.seal(i));
                    else
                        this.isloading = !1;
                    for (t = 0,
                    e = this.layouts_by_index.length; t < e; t++)
                        this.layouts_by_index[t].createGlobalNonWorlds();
                    for (2 <= this.fullscreen_mode && (s = this.original_width / this.original_height,
                    n = this.width / this.height,
                    2 !== this.fullscreen_mode && s < n || 2 === this.fullscreen_mode && n < s ? this.aspect_scale = this.height / this.original_height : this.aspect_scale = this.width / this.original_width),
                    (this.first_layout ? this.layouts[this.first_layout] : this.layouts_by_index[0]).startRunning(),
                    this.uses_loader_layout || (this.loadingprogress = 1,
                    this.trigger(cr.system_object.prototype.cnds.OnLoadFinished, null),
                    window.C2_RegisterSW && window.C2_RegisterSW()),
                    navigator.splashscreen && navigator.splashscreen.hide && navigator.splashscreen.hide(),
                    t = 0,
                    e = this.types_by_index.length; t < e; t++)
                        (i = this.types_by_index[t]).onAppBegin && i.onAppBegin();
                    document.hidden || document.webkitHidden || document.mozHidden || document.msHidden ? window.cr_setSuspended(!0) : this.tick(!1),
                    this.isDirectCanvas && AppMobi.webview.execute("onGameReady();")
                }
                ,
                i.prototype.tick = function(t, e, i) {
                    var s, n, r;
                    this.running_layout && (s = r = cr.performance_now(),
                    !i && this.isSuspended && !t || (t || (u ? this.raf_id = u(this.tickFunc) : this.timeout_id = setTimeout(this.tickFunc, this.isMobile ? 1 : 16)),
                    n = e || r,
                    i = this.fullscreen_mode,
                    ((e = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement) && !this.isCordova) || this.isNodeFullscreen) && 0 < this.fullscreen_scaling && (i = this.fullscreen_scaling),
                    0 < i && (r = window.innerWidth,
                    i = window.innerHeight,
                    this.lastWindowWidth === r && this.lastWindowHeight === i || this.setSize(r, i)),
                    this.isDomFree || (e ? this.firstInFullscreen || (this.firstInFullscreen = !0) : this.firstInFullscreen ? (this.firstInFullscreen = !1,
                    0 === this.fullscreen_mode && this.setSize(Math.round(this.oldWidth / this.devicePixelRatio), Math.round(this.oldHeight / this.devicePixelRatio), !0)) : (this.oldWidth = this.width,
                    this.oldHeight = this.height)),
                    this.isloading && (e = this.areAllTexturesAndSoundsLoaded(),
                    this.loadingprogress = this.progress,
                    e && (this.isloading = !1,
                    this.progress = 1,
                    this.trigger(cr.system_object.prototype.cnds.OnLoadFinished, null),
                    window.C2_RegisterSW && window.C2_RegisterSW())),
                    this.logic(n),
                    !this.redraw && !this.isCocoonJs || this.is_WebGL_context_lost || this.suspendDrawing || t || (this.redraw = !1,
                    this.glwrap ? this.drawGL() : this.draw(),
                    this.snapshotCanvas && (this.canvas && this.canvas.toDataURL && (this.snapshotData = this.canvas.toDataURL(this.snapshotCanvas[0], this.snapshotCanvas[1]),
                    window.cr_onSnapshot && window.cr_onSnapshot(this.snapshotData),
                    this.trigger(cr.system_object.prototype.cnds.OnCanvasSnapshot, null)),
                    this.snapshotCanvas = null)),
                    this.hit_breakpoint || (this.tickcount++,
                    this.tickcount_nosave++,
                    this.execcount++,
                    this.framecount++),
                    this.logictime += cr.performance_now() - s))
                }
                ,
                i.prototype.logic = function(t) {
                    var e, i, s, n;
                    1e3 <= t - this.last_fps_time && (this.last_fps_time += 1e3,
                    1e3 <= t - this.last_fps_time && (this.last_fps_time = t),
                    this.fps = this.framecount,
                    this.framecount = 0,
                    this.cpuutilisation = this.logictime,
                    this.logictime = 0);
                    var r = 0;
                    0 !== this.last_tick_time && ((o = t - this.last_tick_time) < 0 && (o = 0),
                    r = o / 1e3,
                    this.dt1 = r,
                    .5 < this.dt1 ? this.dt1 = 0 : this.dt1 > 1 / this.minimumFramerate && (this.dt1 = 1 / this.minimumFramerate)),
                    this.last_tick_time = t,
                    this.dt = this.dt1 * this.timescale,
                    this.kahanTime.add(this.dt),
                    this.wallTime.add(r);
                    var o, a = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement || this.isNodeFullscreen) && !this.isCordova;
                    2 <= this.fullscreen_mode || a && 0 < this.fullscreen_scaling ? (o = this.original_width / this.original_height,
                    t = this.width / this.height,
                    r = this.fullscreen_mode,
                    a && 0 < this.fullscreen_scaling && (r = this.fullscreen_scaling),
                    this.aspect_scale = 2 !== r && o < t || 2 === r && t < o ? this.height / this.original_height : this.width / this.original_width,
                    this.running_layout && (this.running_layout.scrollToX(this.running_layout.scrollX),
                    this.running_layout.scrollToY(this.running_layout.scrollY))) : this.aspect_scale = this.isRetina ? this.devicePixelRatio : 1,
                    this.ClearDeathRow(),
                    this.isInOnDestroy++,
                    this.system.runWaits(),
                    this.isInOnDestroy--,
                    this.ClearDeathRow(),
                    this.isInOnDestroy++;
                    for (var h = this.objects_to_pretick.valuesRef(), c = 0, l = h.length; c < l; c++)
                        h[c].pretick();
                    for (c = 0,
                    l = this.types_by_index.length; c < l; c++)
                        if (!(s = this.types_by_index[c]).is_family && (s.behaviors.length || s.families.length))
                            for (e = 0,
                            i = s.instances.length; e < i; e++)
                                for (p = 0,
                                d = (u = s.instances[e]).behavior_insts.length; p < d; p++)
                                    u.behavior_insts[p].tick();
                    for (c = 0,
                    l = this.types_by_index.length; c < l; c++)
                        if (!(s = this.types_by_index[c]).is_family && (s.behaviors.length || s.families.length))
                            for (e = 0,
                            i = s.instances.length; e < i; e++)
                                for (p = 0,
                                d = (u = s.instances[e]).behavior_insts.length; p < d; p++)
                                    (n = u.behavior_insts[p]).posttick && n.posttick();
                    for (c = 0,
                    l = (h = this.objects_to_tick.valuesRef()).length; c < l; c++)
                        h[c].tick();
                    for (this.isInOnDestroy--,
                    this.handleSaveLoad(),
                    c = 0; this.changelayout && c++ < 10; )
                        this.doChangeLayout(this.changelayout);
                    for (c = 0,
                    l = this.eventsheets_by_index.length; c < l; c++)
                        this.eventsheets_by_index[c].hasRun = !1;
                    for (this.running_layout.event_sheet && this.running_layout.event_sheet.run(),
                    cr.clearArray(this.registered_collisions),
                    this.layout_first_tick = !1,
                    this.isInOnDestroy++,
                    c = 0,
                    l = this.types_by_index.length; c < l; c++)
                        if (!(s = this.types_by_index[c]).is_family && (s.behaviors.length || s.families.length))
                            for (e = 0,
                            i = s.instances.length; e < i; e++)
                                for (var u, p = 0, d = (u = s.instances[e]).behavior_insts.length; p < d; p++)
                                    (n = u.behavior_insts[p]).tick2 && n.tick2();
                    for (c = 0,
                    l = (h = this.objects_to_tick2.valuesRef()).length; c < l; c++)
                        h[c].tick2();
                    this.isInOnDestroy--
                }
                ,
                i.prototype.onWindowBlur = function() {
                    for (var t, e, i, s, n, r, o, a = 0, h = this.types_by_index.length; a < h; a++)
                        if (!(n = this.types_by_index[a]).is_family)
                            for (t = 0,
                            e = n.instances.length; t < e; t++)
                                if ((r = n.instances[t]).onWindowBlur && r.onWindowBlur(),
                                r.behavior_insts)
                                    for (i = 0,
                                    s = r.behavior_insts.length; i < s; i++)
                                        (o = r.behavior_insts[i]).onWindowBlur && o.onWindowBlur()
                }
                ,
                i.prototype.doChangeLayout = function(t) {
                    var e, i, s, n = this.running_layout;
                    if (this.running_layout.stopRunning(),
                    this.glwrap)
                        for (e = 0,
                        i = this.types_by_index.length; e < i; e++)
                            (s = this.types_by_index[e]).is_family || !s.unloadTextures || s.global && 0 !== s.instances.length || -1 !== t.initial_types.indexOf(s) || s.unloadTextures();
                    n == t && cr.clearArray(this.system.waits),
                    cr.clearArray(this.registered_collisions),
                    this.runLayoutChangeMethods(!0),
                    t.startRunning(),
                    this.runLayoutChangeMethods(!1),
                    this.redraw = !0,
                    this.layout_first_tick = !0,
                    this.ClearDeathRow()
                }
                ,
                i.prototype.runLayoutChangeMethods = function(t) {
                    for (var e, i, s, n, r, o, a, h, c = 0, l = this.behaviors.length; c < l; c++)
                        e = this.behaviors[c],
                        t ? e.onBeforeLayoutChange && e.onBeforeLayoutChange() : e.onLayoutChange && e.onLayoutChange();
                    for (c = 0,
                    l = this.types_by_index.length; c < l; c++)
                        if ((i = this.types_by_index[c]).global || i.plugin.singleglobal)
                            for (s = 0,
                            n = i.instances.length; s < n; s++)
                                if (r = i.instances[s],
                                t ? r.onBeforeLayoutChange && r.onBeforeLayoutChange() : r.onLayoutChange && r.onLayoutChange(),
                                r.behavior_insts)
                                    for (o = 0,
                                    a = r.behavior_insts.length; o < a; o++)
                                        h = r.behavior_insts[o],
                                        t ? h.onBeforeLayoutChange && h.onBeforeLayoutChange() : h.onLayoutChange && h.onLayoutChange()
                }
                ,
                i.prototype.pretickMe = function(t) {
                    this.objects_to_pretick.add(t)
                }
                ,
                i.prototype.unpretickMe = function(t) {
                    this.objects_to_pretick.remove(t)
                }
                ,
                i.prototype.tickMe = function(t) {
                    this.objects_to_tick.add(t)
                }
                ,
                i.prototype.untickMe = function(t) {
                    this.objects_to_tick.remove(t)
                }
                ,
                i.prototype.tick2Me = function(t) {
                    this.objects_to_tick2.add(t)
                }
                ,
                i.prototype.untick2Me = function(t) {
                    this.objects_to_tick2.remove(t)
                }
                ,
                i.prototype.getDt = function(t) {
                    return t && -1 !== t.my_timescale ? this.dt1 * t.my_timescale : this.dt
                }
                ,
                i.prototype.draw = function() {
                    this.running_layout.draw(this.ctx),
                    this.isDirectCanvas && this.ctx.present()
                }
                ,
                i.prototype.drawGL = function() {
                    this.enableFrontToBack && (this.earlyz_index = 1,
                    this.running_layout.drawGL_earlyZPass(this.glwrap)),
                    this.running_layout.drawGL(this.glwrap),
                    this.glwrap.present()
                }
                ,
                i.prototype.addDestroyCallback = function(t) {
                    t && this.destroycallbacks.push(t)
                }
                ,
                i.prototype.removeDestroyCallback = function(t) {
                    cr.arrayFindRemove(this.destroycallbacks, t)
                }
                ,
                i.prototype.getObjectByUID = function(t) {
                    t = t.toString();
                    return this.objectsByUid.hasOwnProperty(t) ? this.objectsByUid[t] : null
                }
                ;
                var d = [];
                i.prototype.DestroyInstance = function(t) {
                    var e, i, s = t.type.name, n = null;
                    if (this.deathRow.hasOwnProperty(s)) {
                        if ((n = this.deathRow[s]).contains(t))
                            return
                    } else
                        n = d.length ? d.pop() : new cr.ObjectSet,
                        this.deathRow[s] = n;
                    if (n.add(t),
                    this.hasPendingInstances = !0,
                    t.is_contained)
                        for (e = 0,
                        i = t.siblings.length; e < i; e++)
                            this.DestroyInstance(t.siblings[e]);
                    this.isInClearDeathRow && n.values_cache.push(t),
                    this.isEndingLayout || (this.isInOnDestroy++,
                    this.trigger(Object.getPrototypeOf(t.type.plugin).cnds.OnDestroyed, t),
                    this.isInOnDestroy--)
                }
                ,
                i.prototype.ClearDeathRow = function() {
                    if (this.hasPendingInstances) {
                        var t, e, i, s, n, r;
                        for (this.isInClearDeathRow = !0,
                        i = 0,
                        n = this.createRow.length; i < n; ++i)
                            for ((e = (t = this.createRow[i]).type).instances.push(t),
                            s = 0,
                            r = e.families.length; s < r; ++s)
                                e.families[s].instances.push(t),
                                e.families[s].stale_iids = !0;
                        cr.clearArray(this.createRow),
                        this.IterateDeathRow(),
                        cr.wipe(this.deathRow),
                        this.isInClearDeathRow = !1,
                        this.hasPendingInstances = !1
                    }
                }
                ,
                i.prototype.IterateDeathRow = function() {
                    for (var t in this.deathRow)
                        this.deathRow.hasOwnProperty(t) && this.ClearDeathRowForType(this.deathRow[t])
                }
                ,
                i.prototype.ClearDeathRowForType = function(t) {
                    var e, i, s, n, r, o, a, h, c = t.valuesRef(), l = c[0].type;
                    for (cr.arrayRemoveAllFromObjectSet(l.instances, t),
                    l.stale_iids = !0,
                    0 === l.instances.length && (l.any_instance_parallaxed = !1),
                    e = 0,
                    i = l.families.length; e < i; ++e)
                        o = l.families[e],
                        cr.arrayRemoveAllFromObjectSet(o.instances, t),
                        o.stale_iids = !0;
                    for (e = 0,
                    i = this.system.waits.length; e < i; ++e)
                        if ((r = this.system.waits[e]).sols.hasOwnProperty(l.index) && cr.arrayRemoveAllFromObjectSet(r.sols[l.index].insts, t),
                        !l.is_family)
                            for (s = 0,
                            n = l.families.length; s < n; ++s)
                                o = l.families[s],
                                r.sols.hasOwnProperty(o.index) && cr.arrayRemoveAllFromObjectSet(r.sols[o.index].insts, t);
                    var u, p = c[0].layer;
                    if (p) {
                        if (p.useRenderCells)
                            for (e = 0,
                            i = (a = p.instances).length; e < i; ++e)
                                h = a[e],
                                t.contains(h) && (h.update_bbox(),
                                p.render_grid.update(h, h.rendercells, null),
                                h.rendercells.set(0, 0, -1, -1));
                        cr.arrayRemoveAllFromObjectSet(p.instances, t),
                        p.setZIndicesStaleFrom(0)
                    }
                    for (e = 0; e < c.length; ++e)
                        this.ClearDeathRowForSingleInstance(c[e], l);
                    (u = t).clear(),
                    d.push(u),
                    this.redraw = !0
                }
                ,
                i.prototype.ClearDeathRowForSingleInstance = function(t, e) {
                    for (var i, s = 0, n = this.destroycallbacks.length; s < n; ++s)
                        this.destroycallbacks[s](t);
                    t.collcells && e.collision_grid.update(t, t.collcells, null);
                    var r = t.layer;
                    if (r && r.removeFromInstanceList(t, !0),
                    t.behavior_insts)
                        for (s = 0,
                        n = t.behavior_insts.length; s < n; ++s)
                            (i = t.behavior_insts[s]).onDestroy && i.onDestroy(),
                            i.behavior.my_instances.remove(t);
                    this.objects_to_pretick.remove(t),
                    this.objects_to_tick.remove(t),
                    this.objects_to_tick2.remove(t),
                    t.onDestroy && t.onDestroy(),
                    this.objectsByUid.hasOwnProperty(t.uid.toString()) && delete this.objectsByUid[t.uid.toString()],
                    this.objectcount--,
                    e.deadCache.length < 100 && e.deadCache.push(t)
                }
                ,
                i.prototype.createInstance = function(t, e, i, s) {
                    if (t.is_family) {
                        var n = cr.floor(Math.random() * t.members.length);
                        return this.createInstance(t.members[n], e, i, s)
                    }
                    return t.default_instance ? this.createInstanceFromInit(t.default_instance, e, !1, i, s, !1) : null
                }
                ;
                var k = [];
                i.prototype.createInstanceFromInit = function(t, e, i, s, n, r) {
                    var o, a, h, c, l;
                    if (!t)
                        return null;
                    var u = this.types_by_index[t[1]]
                      , p = u.plugin.is_world;
                    if (this.isloading && p && !u.isOnLoaderLayout)
                        return null;
                    if (p && !this.glwrap && 11 === t[0][11])
                        return null;
                    var d, g = e;
                    for (p || (e = null),
                    u.deadCache.length ? ((d = u.deadCache.pop()).recycled = !0,
                    u.plugin.Instance.call(d, u)) : (d = new u.plugin.Instance(u)).recycled = !1,
                    !i || r || this.objectsByUid.hasOwnProperty(t[2].toString()) ? d.uid = this.next_uid++ : d.uid = t[2],
                    (this.objectsByUid[d.uid.toString()] = d).puid = this.next_puid++,
                    d.iid = u.instances.length,
                    o = 0,
                    a = this.createRow.length; o < a; ++o)
                        this.createRow[o].type === u && d.iid++;
                    d.get_iid = cr.inst_get_iid,
                    d.toString = cr.inst_toString;
                    var f, m, y = t[3];
                    if (d.recycled)
                        cr.wipe(d.extra);
                    else {
                        if (d.extra = {},
                        "undefined" != typeof cr_is_preview)
                            for (d.instance_var_names = [],
                            d.instance_var_names.length = y.length,
                            o = 0,
                            a = y.length; o < a; o++)
                                d.instance_var_names[o] = y[o][1];
                        d.instance_vars = [],
                        d.instance_vars.length = y.length
                    }
                    for (o = 0,
                    a = y.length; o < a; o++)
                        d.instance_vars[o] = y[o][0];
                    if (p) {
                        var _ = t[0];
                        if (d.x = cr.is_undefined(s) ? _[0] : s,
                        d.y = cr.is_undefined(n) ? _[1] : n,
                        d.z = _[2],
                        d.width = _[3],
                        d.height = _[4],
                        d.depth = _[5],
                        d.angle = _[6],
                        d.opacity = _[7],
                        d.hotspotX = _[8],
                        d.hotspotY = _[9],
                        d.blend_mode = _[10],
                        l = _[11],
                        !this.glwrap && u.effect_types.length && (d.blend_mode = l),
                        d.compositeOp = cr.effectToCompositeOp(d.blend_mode),
                        this.gl && cr.setGLBlend(d, d.blend_mode, this.gl),
                        d.recycled) {
                            for (o = 0,
                            a = _[12].length; o < a; o++)
                                for (h = 0,
                                c = _[12][o].length; h < c; h++)
                                    d.effect_params[o][h] = _[12][o][h];
                            d.bbox.set(0, 0, 0, 0),
                            d.collcells.set(0, 0, -1, -1),
                            d.rendercells.set(0, 0, -1, -1),
                            d.bquad.set_from_rect(d.bbox),
                            cr.clearArray(d.bbox_changed_callbacks)
                        } else {
                            for (d.effect_params = _[12].slice(0),
                            o = 0,
                            a = d.effect_params.length; o < a; o++)
                                d.effect_params[o] = _[12][o].slice(0);
                            d.active_effect_types = [],
                            d.active_effect_flags = [],
                            d.active_effect_flags.length = u.effect_types.length,
                            d.bbox = new cr.rect(0,0,0,0),
                            d.collcells = new cr.rect(0,0,-1,-1),
                            d.rendercells = new cr.rect(0,0,-1,-1),
                            d.bquad = new cr.quad,
                            d.bbox_changed_callbacks = [],
                            d.set_bbox_changed = cr.set_bbox_changed,
                            d.add_bbox_changed_callback = cr.add_bbox_changed_callback,
                            d.contains_pt = cr.inst_contains_pt,
                            d.update_bbox = cr.update_bbox,
                            d.update_render_cell = cr.update_render_cell,
                            d.update_collision_cell = cr.update_collision_cell,
                            d.get_zindex = cr.inst_get_zindex
                        }
                        for (d.tilemap_exists = !1,
                        d.tilemap_width = 0,
                        d.tilemap_height = 0,
                        d.tilemap_data = null,
                        14 === _.length && (d.tilemap_exists = !0,
                        d.tilemap_width = _[13][0],
                        d.tilemap_height = _[13][1],
                        d.tilemap_data = _[13][2]),
                        o = 0,
                        a = u.effect_types.length; o < a; o++)
                            d.active_effect_flags[o] = !0;
                        d.shaders_preserve_opaqueness = !0,
                        d.updateActiveEffects = cr.inst_updateActiveEffects,
                        d.updateActiveEffects(),
                        d.uses_shaders = !!d.active_effect_types.length,
                        d.bbox_changed = !0,
                        d.cell_changed = !0,
                        u.any_cell_changed = !0,
                        d.visible = !0,
                        d.my_timescale = -1,
                        d.layer = e,
                        d.zindex = e.instances.length,
                        void (d.earlyz_index = 0) === d.collision_poly && (d.collision_poly = null),
                        d.collisionsEnabled = !0,
                        this.redraw = !0
                    }
                    for (cr.clearArray(k),
                    o = 0,
                    a = u.families.length; o < a; o++)
                        k.push.apply(k, u.families[o].behaviors);
                    if (k.push.apply(k, u.behaviors),
                    d.recycled)
                        for (o = 0,
                        a = k.length; o < a; o++) {
                            var v = k[o];
                            for ((m = d.behavior_insts[o]).recycled = !0,
                            v.behavior.Instance.call(m, v, d),
                            h = 0,
                            c = (f = t[4][o]).length; h < c; h++)
                                m.properties[h] = f[h];
                            m.onCreate(),
                            v.behavior.my_instances.add(d)
                        }
                    else
                        for (d.behavior_insts = [],
                        o = 0,
                        a = k.length; o < a; o++)
                            (m = new (v = k[o]).behavior.Instance(v,d)).recycled = !1,
                            m.properties = t[4][o].slice(0),
                            m.onCreate(),
                            cr.seal(m),
                            d.behavior_insts.push(m),
                            v.behavior.my_instances.add(d);
                    if (f = t[5],
                    d.recycled)
                        for (o = 0,
                        a = f.length; o < a; o++)
                            d.properties[o] = f[o];
                    else
                        d.properties = f.slice(0);
                    if (this.createRow.push(d),
                    this.hasPendingInstances = !0,
                    e && (e.appendToInstanceList(d, !0),
                    1 === e.parallaxX && 1 === e.parallaxY || (u.any_instance_parallaxed = !0)),
                    this.objectcount++,
                    u.is_contained) {
                        if (d.is_contained = !0,
                        d.recycled ? cr.clearArray(d.siblings) : d.siblings = [],
                        !i && !r) {
                            for (o = 0,
                            a = u.container.length; o < a; o++)
                                if (u.container[o] !== u) {
                                    if (!u.container[o].default_instance)
                                        return null;
                                    d.siblings.push(this.createInstanceFromInit(u.container[o].default_instance, g, !1, p ? d.x : s, p ? d.y : n, !0))
                                }
                            for (o = 0,
                            a = d.siblings.length; o < a; o++)
                                for (d.siblings[o].siblings.push(d),
                                h = 0; h < a; h++)
                                    o !== h && d.siblings[o].siblings.push(d.siblings[h])
                        }
                    } else
                        d.is_contained = !1,
                        d.siblings = null;
                    for (d.onCreate(),
                    d.recycled || cr.seal(d),
                    o = 0,
                    a = d.behavior_insts.length; o < a; o++)
                        d.behavior_insts[o].postCreate && d.behavior_insts[o].postCreate();
                    return d
                }
                ,
                i.prototype.getLayerByName = function(t) {
                    for (var e = 0, i = this.running_layout.layers.length; e < i; e++) {
                        var s = this.running_layout.layers[e];
                        if (cr.equals_nocase(s.name, t))
                            return s
                    }
                    return null
                }
                ,
                i.prototype.getLayerByNumber = function(t) {
                    return (t = cr.floor(t)) < 0 && (t = 0),
                    t >= this.running_layout.layers.length && (t = this.running_layout.layers.length - 1),
                    this.running_layout.layers[t]
                }
                ,
                i.prototype.getLayer = function(t) {
                    return cr.is_number(t) ? this.getLayerByNumber(t) : this.getLayerByName(t.toString())
                }
                ,
                i.prototype.clearSol = function(t) {
                    for (var e = 0, i = t.length; e < i; e++)
                        t[e].getCurrentSol().select_all = !0
                }
                ,
                i.prototype.pushCleanSol = function(t) {
                    for (var e = 0, i = t.length; e < i; e++)
                        t[e].pushCleanSol()
                }
                ,
                i.prototype.pushCopySol = function(t) {
                    for (var e = 0, i = t.length; e < i; e++)
                        t[e].pushCopySol()
                }
                ,
                i.prototype.popSol = function(t) {
                    for (var e = 0, i = t.length; e < i; e++)
                        t[e].popSol()
                }
                ,
                i.prototype.updateAllCells = function(t) {
                    if (t.any_cell_changed) {
                        for (var e = t.instances, i = 0, s = e.length; i < s; ++i)
                            e[i].update_collision_cell();
                        var n = this.createRow;
                        for (i = 0,
                        s = n.length; i < s; ++i)
                            n[i].type === t && n[i].update_collision_cell();
                        t.any_cell_changed = !1
                    }
                }
                ,
                i.prototype.getCollisionCandidates = function(t, e, i, s) {
                    var n, r, o, a = !!t && (1 !== t.parallaxX || 1 !== t.parallaxY);
                    if (e.is_family)
                        for (n = 0,
                        r = e.members.length; n < r; ++n)
                            o = e.members[n],
                            a || o.any_instance_parallaxed ? cr.appendArray(s, o.instances) : (this.updateAllCells(o),
                            o.collision_grid.queryRange(i, s));
                    else
                        a || e.any_instance_parallaxed ? cr.appendArray(s, e.instances) : (this.updateAllCells(e),
                        e.collision_grid.queryRange(i, s))
                }
                ,
                i.prototype.getTypesCollisionCandidates = function(t, e, i, s) {
                    for (var n = 0, r = e.length; n < r; ++n)
                        this.getCollisionCandidates(t, e[n], i, s)
                }
                ,
                i.prototype.getSolidCollisionCandidates = function(t, e, i) {
                    var s = this.getSolidBehavior();
                    if (!s)
                        return null;
                    this.getTypesCollisionCandidates(t, s.my_types, e, i)
                }
                ,
                i.prototype.getJumpthruCollisionCandidates = function(t, e, i) {
                    var s = this.getJumpthruBehavior();
                    if (!s)
                        return null;
                    this.getTypesCollisionCandidates(t, s.my_types, e, i)
                }
                ,
                i.prototype.testAndSelectCanvasPointOverlap = function(t, e, i, s) {
                    var n, r, o, a, h, c, l, u = t.getCurrentSol(), p = this.getCurrentEventStack().current_event.orblock;
                    if (u.select_all)
                        for (s || (u.select_all = !1,
                        cr.clearArray(u.instances)),
                        n = 0,
                        a = t.instances.length; n < a; n++)
                            if ((o = t.instances[n]).update_bbox(),
                            h = o.layer.canvasToLayer(e, i, !0),
                            c = o.layer.canvasToLayer(e, i, !1),
                            o.contains_pt(h, c)) {
                                if (s)
                                    return !1;
                                u.instances.push(o)
                            } else
                                p && u.else_instances.push(o);
                    else {
                        for (n = r = 0,
                        a = (l = p ? u.else_instances : u.instances).length; n < a; n++)
                            if ((o = l[n]).update_bbox(),
                            h = o.layer.canvasToLayer(e, i, !0),
                            c = o.layer.canvasToLayer(e, i, !1),
                            o.contains_pt(h, c)) {
                                if (s)
                                    return !1;
                                p ? u.instances.push(o) : (u.instances[r] = u.instances[n],
                                r++)
                            }
                        s || (l.length = r)
                    }
                    return t.applySolToContainer(),
                    !!s || u.hasObjects()
                }
                ,
                i.prototype.testOverlap = function(t, e) {
                    if (!(t && e && t !== e && t.collisionsEnabled && e.collisionsEnabled))
                        return !1;
                    t.update_bbox(),
                    e.update_bbox();
                    var i, s, n, r, o, a, h, c, l, u, p = t.layer, d = e.layer;
                    if (p === d || p.parallaxX === d.parallaxX && d.parallaxY == d.parallaxY && p.scale === d.scale && p.angle === d.angle && p.zoomRate === d.zoomRate)
                        return !!t.bbox.intersects_rect(e.bbox) && (!!t.bquad.intersects_quad(e.bquad) && ((!t.tilemap_exists || !e.tilemap_exists) && (t.tilemap_exists ? this.testTilemapOverlap(t, e) : e.tilemap_exists ? this.testTilemapOverlap(e, t) : (h = t.collision_poly && !t.collision_poly.is_empty(),
                        c = e.collision_poly && !e.collision_poly.is_empty(),
                        !h && !c || (l = h ? (t.collision_poly.cache_poly(t.width, t.height, t.angle),
                        t.collision_poly) : (this.temp_poly.set_from_quad(t.bquad, t.x, t.y, t.width, t.height),
                        this.temp_poly),
                        u = c ? (e.collision_poly.cache_poly(e.width, e.height, e.angle),
                        e.collision_poly) : (this.temp_poly.set_from_quad(e.bquad, e.x, e.y, e.width, e.height),
                        this.temp_poly),
                        l.intersects_poly(u, e.x - t.x, e.y - t.y))))));
                    for (h = t.collision_poly && !t.collision_poly.is_empty(),
                    c = e.collision_poly && !e.collision_poly.is_empty(),
                    h ? (t.collision_poly.cache_poly(t.width, t.height, t.angle),
                    this.temp_poly.set_from_poly(t.collision_poly)) : this.temp_poly.set_from_quad(t.bquad, t.x, t.y, t.width, t.height),
                    l = this.temp_poly,
                    c ? (e.collision_poly.cache_poly(e.width, e.height, e.angle),
                    this.temp_poly2.set_from_poly(e.collision_poly)) : this.temp_poly2.set_from_quad(e.bquad, e.x, e.y, e.width, e.height),
                    u = this.temp_poly2,
                    i = 0,
                    s = l.pts_count; i < s; i++)
                        r = (n = 2 * i) + 1,
                        o = l.pts_cache[n],
                        a = l.pts_cache[r],
                        l.pts_cache[n] = p.layerToCanvas(o + t.x, a + t.y, !0),
                        l.pts_cache[r] = p.layerToCanvas(o + t.x, a + t.y, !1);
                    for (l.update_bbox(),
                    i = 0,
                    s = u.pts_count; i < s; i++)
                        r = (n = 2 * i) + 1,
                        o = u.pts_cache[n],
                        a = u.pts_cache[r],
                        u.pts_cache[n] = d.layerToCanvas(o + e.x, a + e.y, !0),
                        u.pts_cache[r] = d.layerToCanvas(o + e.x, a + e.y, !1);
                    return u.update_bbox(),
                    l.intersects_poly(u, 0, 0)
                }
                ;
                var p = new cr.quad
                  , A = new cr.rect(0,0,0,0)
                  , E = [];
                i.prototype.testTilemapOverlap = function(t, e) {
                    var i, s, n = e.bbox, r = t.x, o = t.y;
                    t.getCollisionRectCandidates(n, E);
                    for (var a = E, h = e.collision_poly && !e.collision_poly.is_empty(), c = 0, l = a.length; c < l; ++c)
                        if (i = a[c],
                        s = i.rc,
                        n.intersects_rect_off(s, r, o) && (p.set_from_rect(s),
                        p.offset(r, o),
                        p.intersects_quad(e.bquad)))
                            if (h) {
                                if (e.collision_poly.cache_poly(e.width, e.height, e.angle),
                                i.poly) {
                                    if (i.poly.intersects_poly(e.collision_poly, e.x - (r + s.left), e.y - (o + s.top)))
                                        return cr.clearArray(E),
                                        !0
                                } else if (this.temp_poly.set_from_quad(p, 0, 0, s.right - s.left, s.bottom - s.top),
                                this.temp_poly.intersects_poly(e.collision_poly, e.x, e.y))
                                    return cr.clearArray(E),
                                    !0
                            } else {
                                if (!i.poly)
                                    return cr.clearArray(E),
                                    !0;
                                if (this.temp_poly.set_from_quad(e.bquad, 0, 0, e.width, e.height),
                                i.poly.intersects_poly(this.temp_poly, -(r + s.left), -(o + s.top)))
                                    return cr.clearArray(E),
                                    !0
                            }
                    return cr.clearArray(E),
                    !1
                }
                ,
                i.prototype.testRectOverlap = function(t, e) {
                    if (!e || !e.collisionsEnabled)
                        return !1;
                    e.update_bbox();
                    e.layer;
                    if (!e.bbox.intersects_rect(t))
                        return !1;
                    if (e.tilemap_exists) {
                        e.getCollisionRectCandidates(t, E);
                        for (var i, s, n = E, r = e.x, o = e.y, a = 0, h = n.length; a < h; ++a)
                            if (s = (i = n[a]).rc,
                            t.intersects_rect_off(s, r, o)) {
                                if (!i.poly)
                                    return cr.clearArray(E),
                                    !0;
                                if (this.temp_poly.set_from_rect(t, 0, 0),
                                i.poly.intersects_poly(this.temp_poly, -(r + s.left), -(o + s.top)))
                                    return cr.clearArray(E),
                                    !0
                            }
                        return cr.clearArray(E),
                        !1
                    }
                    return p.set_from_rect(t),
                    !!e.bquad.intersects_quad(p) && (!(e.collision_poly && !e.collision_poly.is_empty()) || (e.collision_poly.cache_poly(e.width, e.height, e.angle),
                    p.offset(-t.left, -t.top),
                    this.temp_poly.set_from_quad(p, 0, 0, 1, 1),
                    e.collision_poly.intersects_poly(this.temp_poly, t.left - e.x, t.top - e.y)))
                }
                ,
                i.prototype.testSegmentOverlap = function(t, e, i, s, n) {
                    if (!n || !n.collisionsEnabled)
                        return !1;
                    n.update_bbox();
                    n.layer;
                    if (A.set(cr.min(t, i), cr.min(e, s), cr.max(t, i), cr.max(e, s)),
                    !n.bbox.intersects_rect(A))
                        return !1;
                    if (n.tilemap_exists) {
                        n.getCollisionRectCandidates(A, E);
                        for (var r, o, a = E, h = n.x, c = n.y, l = 0, u = a.length; l < u; ++l)
                            if (r = a[l],
                            o = r.rc,
                            A.intersects_rect_off(o, h, c) && (p.set_from_rect(o),
                            p.offset(h, c),
                            p.intersects_segment(t, e, i, s))) {
                                if (!r.poly)
                                    return cr.clearArray(E),
                                    !0;
                                if (r.poly.intersects_segment(h + o.left, c + o.top, t, e, i, s))
                                    return cr.clearArray(E),
                                    !0
                            }
                        return cr.clearArray(E),
                        !1
                    }
                    return !!n.bquad.intersects_segment(t, e, i, s) && (!(n.collision_poly && !n.collision_poly.is_empty()) || (n.collision_poly.cache_poly(n.width, n.height, n.angle),
                    n.collision_poly.intersects_segment(n.x, n.y, t, e, i, s)))
                }
                ,
                i.prototype.typeHasBehavior = function(t, e) {
                    if (!e)
                        return !1;
                    for (var i, s, n, r = 0, o = t.behaviors.length; r < o; r++)
                        if (t.behaviors[r].behavior instanceof e)
                            return !0;
                    if (!t.is_family)
                        for (r = 0,
                        o = t.families.length; r < o; r++)
                            for (i = 0,
                            s = (n = t.families[r]).behaviors.length; i < s; i++)
                                if (n.behaviors[i].behavior instanceof e)
                                    return !0;
                    return !1
                }
                ,
                i.prototype.typeHasNoSaveBehavior = function(t) {
                    return this.typeHasBehavior(t, cr.behaviors.NoSave)
                }
                ,
                i.prototype.typeHasPersistBehavior = function(t) {
                    return this.typeHasBehavior(t, cr.behaviors.Persist)
                }
                ,
                i.prototype.getSolidBehavior = function() {
                    return this.solidBehavior
                }
                ,
                i.prototype.getJumpthruBehavior = function() {
                    return this.jumpthruBehavior
                }
                ;
                var o = [];
                i.prototype.testOverlapSolid = function(t) {
                    var e, i, s;
                    for (t.update_bbox(),
                    this.getSolidCollisionCandidates(t.layer, t.bbox, o),
                    e = 0,
                    i = o.length; e < i; ++e)
                        if (s = o[e],
                        s.extra.solidEnabled && this.testOverlap(t, s))
                            return cr.clearArray(o),
                            s;
                    return cr.clearArray(o),
                    null
                }
                ,
                i.prototype.testRectOverlapSolid = function(t) {
                    var e, i, s;
                    for (this.getSolidCollisionCandidates(null, t, o),
                    e = 0,
                    i = o.length; e < i; ++e)
                        if (s = o[e],
                        s.extra.solidEnabled && this.testRectOverlap(t, s))
                            return cr.clearArray(o),
                            s;
                    return cr.clearArray(o),
                    null
                }
                ;
                var a = [];
                i.prototype.testOverlapJumpThru = function(t, e) {
                    var i, s, n, r = null;
                    for (e && (r = a,
                    cr.clearArray(r)),
                    t.update_bbox(),
                    this.getJumpthruCollisionCandidates(t.layer, t.bbox, o),
                    i = 0,
                    s = o.length; i < s; ++i)
                        if (n = o[i],
                        n.extra.jumpthruEnabled && this.testOverlap(t, n)) {
                            if (!e)
                                return cr.clearArray(o),
                                n;
                            r.push(n)
                        }
                    return cr.clearArray(o),
                    r
                }
                ,
                i.prototype.pushOutSolid = function(t, e, i, s, n, r) {
                    for (var o = s || 50, a = t.x, h = t.y, c = null, l = null, u = 0; u < o; u++)
                        if (t.x = a + e * u,
                        t.y = h + i * u,
                        t.set_bbox_changed(),
                        !this.testOverlap(t, c) && (c = this.testOverlapSolid(t),
                        c && (l = c),
                        !c && (n && (c = r ? this.testOverlap(t, r) ? r : null : this.testOverlapJumpThru(t)) && (l = c),
                        !c)))
                            return l && this.pushInFractional(t, e, i, l, 16),
                            !0;
                    return t.x = a,
                    t.y = h,
                    t.set_bbox_changed(),
                    !1
                }
                ,
                i.prototype.pushOutSolidAxis = function(t, e, i, s) {
                    s = s || 50;
                    for (var n, r, o = t.x, a = t.y, h = null, c = null, l = 0; l < s; ++l)
                        for (n = 0; n < 2; ++n)
                            if (r = 2 * n - 1,
                            t.x = o + e * l * r,
                            t.y = a + i * l * r,
                            t.set_bbox_changed(),
                            !this.testOverlap(t, h)) {
                                if (!(h = this.testOverlapSolid(t)))
                                    return c && this.pushInFractional(t, e * r, i * r, c, 16),
                                    !0;
                                c = h
                            }
                    return t.x = o,
                    t.y = a,
                    t.set_bbox_changed(),
                    !1
                }
                ,
                i.prototype.pushOut = function(t, e, i, s, n) {
                    for (var r = s || 50, o = t.x, a = t.y, h = 0; h < r; h++)
                        if (t.x = o + e * h,
                        t.y = a + i * h,
                        t.set_bbox_changed(),
                        !this.testOverlap(t, n))
                            return !0;
                    return t.x = o,
                    t.y = a,
                    t.set_bbox_changed(),
                    !1
                }
                ,
                i.prototype.pushInFractional = function(t, e, i, s, n) {
                    for (var r, o = 2, a = !1, h = !1, c = t.x, l = t.y; o <= n; )
                        r = 1 / o,
                        o *= 2,
                        t.x += e * r * (a ? 1 : -1),
                        t.y += i * r * (a ? 1 : -1),
                        t.set_bbox_changed(),
                        this.testOverlap(t, s) ? h = a = !0 : (h = a = !1,
                        c = t.x,
                        l = t.y);
                    h && (t.x = c,
                    t.y = l,
                    t.set_bbox_changed())
                }
                ,
                i.prototype.pushOutSolidNearest = function(t, e) {
                    var i = cr.is_undefined(e) ? 100 : e
                      , s = 0
                      , n = t.x
                      , r = t.y
                      , o = 0
                      , a = 0
                      , h = 0
                      , c = this.testOverlapSolid(t);
                    if (!c)
                        return !0;
                    for (; s <= i; ) {
                        switch (o) {
                        case 0:
                            a = 0,
                            h = -1,
                            s++;
                            break;
                        case 1:
                            h = -(a = 1);
                            break;
                        case 2:
                            a = 1,
                            h = 0;
                            break;
                        case 3:
                            h = a = 1;
                            break;
                        case 4:
                            a = 0,
                            h = 1;
                            break;
                        case 5:
                            a = -1,
                            h = 1;
                            break;
                        case 6:
                            a = -1,
                            h = 0;
                            break;
                        case 7:
                            h = a = -1
                        }
                        if (o = (o + 1) % 8,
                        t.x = cr.floor(n + a * s),
                        t.y = cr.floor(r + h * s),
                        t.set_bbox_changed(),
                        !this.testOverlap(t, c) && !(c = this.testOverlapSolid(t)))
                            return !0
                    }
                    return t.x = n,
                    t.y = r,
                    t.set_bbox_changed(),
                    !1
                }
                ,
                i.prototype.registerCollision = function(t, e) {
                    t.collisionsEnabled && e.collisionsEnabled && this.registered_collisions.push([t, e])
                }
                ,
                i.prototype.addRegisteredCollisionCandidates = function(t, e, i) {
                    for (var s, n, r = 0, o = this.registered_collisions.length; r < o; ++r) {
                        if ((s = this.registered_collisions[r])[0] === t)
                            n = s[1];
                        else {
                            if (s[1] !== t)
                                continue;
                            n = s[0]
                        }
                        if (e.is_family) {
                            if (-1 === e.members.indexOf(e))
                                continue
                        } else if (n.type !== e)
                            continue;
                        -1 === i.indexOf(n) && i.push(n)
                    }
                }
                ,
                i.prototype.checkRegisteredCollision = function(t, e) {
                    for (var i, s = 0, n = this.registered_collisions.length; s < n; s++)
                        if ((i = this.registered_collisions[s])[0] === t && i[1] === e || i[0] === e && i[1] === t)
                            return !0;
                    return !1
                }
                ,
                i.prototype.calculateSolidBounceAngle = function(t, e, i, s) {
                    var n = t.x
                      , r = t.y
                      , o = cr.max(10, cr.distanceTo(e, i, n, r))
                      , a = cr.angleTo(e, i, n, r)
                      , h = s || this.testOverlapSolid(t);
                    if (!h)
                        return cr.clamp_angle(a + cr.PI);
                    for (var c, l, u, p = h, d = cr.to_radians(5), g = 1; g < 36; g++)
                        if (c = a - g * d,
                        t.x = e + Math.cos(c) * o,
                        t.y = i + Math.sin(c) * o,
                        t.set_bbox_changed(),
                        !this.testOverlap(t, p) && !(p = s ? null : this.testOverlapSolid(t))) {
                            l = c;
                            break
                        }
                    36 === g && (l = cr.clamp_angle(a + cr.PI));
                    p = h;
                    for (g = 1; g < 36; g++)
                        if (c = a + g * d,
                        t.x = e + Math.cos(c) * o,
                        t.y = i + Math.sin(c) * o,
                        t.set_bbox_changed(),
                        !this.testOverlap(t, p) && !(p = s ? null : this.testOverlapSolid(t))) {
                            u = c;
                            break
                        }
                    if (36 === g && (u = cr.clamp_angle(a + cr.PI)),
                    t.x = n,
                    t.y = r,
                    t.set_bbox_changed(),
                    u === l)
                        return u;
                    var f = cr.angleDiff(u, l) / 2
                      , m = cr.angleClockwise(u, l) ? cr.clamp_angle(l + f + cr.PI) : cr.clamp_angle(u + f)
                      , h = Math.cos(a)
                      , n = Math.sin(a)
                      , r = Math.cos(m)
                      , f = Math.sin(m)
                      , m = h * r + n * f
                      , r = h - 2 * m * r
                      , f = n - 2 * m * f;
                    return cr.angleTo(0, 0, r, f)
                }
                ;
                var I = -1;
                function l() {
                    try {
                        return window.indexedDB
                    } catch (t) {
                        return
                    }
                }
                function P(t) {
                    t.target.result.createObjectStore("saves", {
                        keyPath: "slot"
                    })
                }
                function M() {
                    cr.logexport("Reloading for continuous preview"),
                    window.c2cocoonjs ? CocoonJS.App.reload() : -1 < window.location.search.indexOf("continuous") ? window.location.reload(!0) : window.location = window.location + "?continuous"
                }
                function F(t) {
                    var e, i = {};
                    for (e in t)
                        t.hasOwnProperty(e) && (t[e]instanceof cr.ObjectSet || t[e] && void 0 !== t[e].c2userdata || "spriteCreatedDestroyCallback" !== e && (i[e] = t[e]));
                    return i
                }
                i.prototype.trigger = function(t, e, i) {
                    if (!this.running_layout)
                        return !1;
                    var s = this.running_layout.event_sheet;
                    if (!s)
                        return !1;
                    var n, r = !1;
                    I++;
                    for (var o = s.deep_includes, a = 0, h = o.length; a < h; ++a)
                        n = this.triggerOnSheet(t, e, o[a], i),
                        r = r || n;
                    return n = this.triggerOnSheet(t, e, s, i),
                    I--,
                    r = r || n
                }
                ,
                i.prototype.triggerOnSheet = function(t, e, i, s) {
                    var n, r, o, a, h = !1;
                    if (e)
                        for (o = this.triggerOnSheetForTypeName(t, e, e.type.name, i, s),
                        h = h || o,
                        n = 0,
                        r = (a = e.type.families).length; n < r; ++n)
                            o = this.triggerOnSheetForTypeName(t, e, a[n].name, i, s),
                            h = h || o;
                    else
                        o = this.triggerOnSheetForTypeName(t, e, "system", i, s),
                        h = h || o;
                    return h
                }
                ,
                i.prototype.triggerOnSheetForTypeName = function(t, e, i, s, n) {
                    var r, o, a, h = !1, c = void 0 !== n, l = (c ? s.fasttriggers : s.triggers)[i];
                    if (!l)
                        return h;
                    for (var u, p = null, d = 0, g = l.length; d < g; ++d)
                        if (l[d].method == t) {
                            p = l[d].evs;
                            break
                        }
                    if (!p)
                        return h;
                    if (!(u = c ? p[n] : p))
                        return null;
                    for (d = 0,
                    g = u.length; d < g; d++)
                        o = u[d][0],
                        a = u[d][1],
                        r = this.executeSingleTrigger(e, i, o, a),
                        h = h || r;
                    return h
                }
                ,
                i.prototype.executeSingleTrigger = function(t, e, i, s) {
                    var n, r, o = !1;
                    this.trigger_depth++;
                    var a = this.getCurrentEventStack().current_event;
                    a && this.pushCleanSol(a.solModifiersIncludingParents);
                    var h = 1 < this.trigger_depth;
                    this.pushCleanSol(i.solModifiersIncludingParents),
                    h && this.pushLocalVarStack();
                    var c, l = this.pushEventStack(i);
                    l.current_event = i,
                    t && ((c = this.types[e].getCurrentSol()).select_all = !1,
                    cr.clearArray(c.instances),
                    c.instances[0] = t,
                    this.types[e].applySolToContainer());
                    var u = !0;
                    if (i.parent) {
                        for (var p = l.temp_parents_arr, d = i.parent; d; )
                            p.push(d),
                            d = d.parent;
                        for (p.reverse(),
                        n = 0,
                        r = p.length; n < r; n++)
                            if (!p[n].run_pretrigger()) {
                                u = !1;
                                break
                            }
                    }
                    return u && (this.execcount++,
                    i.orblock ? i.run_orblocktrigger(s) : i.run(),
                    o = o || l.last_event_true),
                    this.popEventStack(),
                    h && this.popLocalVarStack(),
                    this.popSol(i.solModifiersIncludingParents),
                    a && this.popSol(a.solModifiersIncludingParents),
                    this.hasPendingInstances && 0 === this.isInOnDestroy && 0 === I && !this.isRunningEvents && this.ClearDeathRow(),
                    this.trigger_depth--,
                    o
                }
                ,
                i.prototype.getCurrentCondition = function() {
                    var t = this.getCurrentEventStack();
                    return t.current_event.conditions[t.cndindex]
                }
                ,
                i.prototype.getCurrentConditionObjectType = function() {
                    return this.getCurrentCondition().type
                }
                ,
                i.prototype.isCurrentConditionFirst = function() {
                    return 0 === this.getCurrentEventStack().cndindex
                }
                ,
                i.prototype.getCurrentAction = function() {
                    var t = this.getCurrentEventStack();
                    return t.current_event.actions[t.actindex]
                }
                ,
                i.prototype.pushLocalVarStack = function() {
                    this.localvar_stack_index++,
                    this.localvar_stack_index >= this.localvar_stack.length && this.localvar_stack.push([])
                }
                ,
                i.prototype.popLocalVarStack = function() {
                    this.localvar_stack_index--
                }
                ,
                i.prototype.getCurrentLocalVarStack = function() {
                    return this.localvar_stack[this.localvar_stack_index]
                }
                ,
                i.prototype.pushEventStack = function(t) {
                    this.event_stack_index++,
                    this.event_stack_index >= this.event_stack.length && this.event_stack.push(new cr.eventStackFrame);
                    var e = this.getCurrentEventStack();
                    return e.reset(t),
                    e
                }
                ,
                i.prototype.popEventStack = function() {
                    this.event_stack_index--
                }
                ,
                i.prototype.getCurrentEventStack = function() {
                    return this.event_stack[this.event_stack_index]
                }
                ,
                i.prototype.pushLoopStack = function(t) {
                    this.loop_stack_index++,
                    this.loop_stack_index >= this.loop_stack.length && this.loop_stack.push(cr.seal({
                        name: t,
                        index: 0,
                        stopped: !1
                    }));
                    var e = this.getCurrentLoop();
                    return e.name = t,
                    e.index = 0,
                    e.stopped = !1,
                    e
                }
                ,
                i.prototype.popLoopStack = function() {
                    this.loop_stack_index--
                }
                ,
                i.prototype.getCurrentLoop = function() {
                    return this.loop_stack[this.loop_stack_index]
                }
                ,
                i.prototype.getEventVariableByName = function(t, e) {
                    for (var i, s, n, r, o, a; e; ) {
                        for (i = 0,
                        s = e.subevents.length; i < s; i++)
                            if ((a = e.subevents[i])instanceof cr.eventvariable && cr.equals_nocase(t, a.name))
                                return a;
                        e = e.parent
                    }
                    for (i = 0,
                    s = this.eventsheets_by_index.length; i < s; i++)
                        for (n = 0,
                        r = (o = this.eventsheets_by_index[i]).events.length; n < r; n++)
                            if ((a = o.events[n])instanceof cr.eventvariable && cr.equals_nocase(t, a.name))
                                return a;
                    return null
                }
                ,
                i.prototype.getLayoutBySid = function(t) {
                    for (var e = 0, i = this.layouts_by_index.length; e < i; e++)
                        if (this.layouts_by_index[e].sid === t)
                            return this.layouts_by_index[e];
                    return null
                }
                ,
                i.prototype.getObjectTypeBySid = function(t) {
                    for (var e = 0, i = this.types_by_index.length; e < i; e++)
                        if (this.types_by_index[e].sid === t)
                            return this.types_by_index[e];
                    return null
                }
                ,
                i.prototype.getGroupBySid = function(t) {
                    for (var e = 0, i = this.allGroups.length; e < i; e++)
                        if (this.allGroups[e].sid === t)
                            return this.allGroups[e];
                    return null
                }
                ,
                i.prototype.doCanvasSnapshot = function(t, e) {
                    this.snapshotCanvas = [t, e],
                    this.redraw = !0
                }
                ,
                i.prototype.signalContinuousPreview = function() {
                    this.signalledContinuousPreview = !0
                }
                ,
                i.prototype.handleSaveLoad = function() {
                    var i = this
                      , t = this.saveToSlot
                      , s = this.lastSaveJson
                      , e = this.loadFromSlot
                      , n = !1;
                    if (this.signalledContinuousPreview && (n = !0,
                    t = "__c2_continuouspreview",
                    this.signalledContinuousPreview = !1),
                    t.length) {
                        if (this.ClearDeathRow(),
                        s = this.saveToJSONString(),
                        l() && !this.isCocoonJs)
                            !function(e, i, s, n) {
                                try {
                                    var t = indexedDB.open("_C2SaveStates");
                                    t.onupgradeneeded = P,
                                    t.onerror = n,
                                    t.onsuccess = function(t) {
                                        t = t.target.result;
                                        t.onerror = n,
                                        t.transaction(["saves"], "readwrite").objectStore("saves").put({
                                            slot: e,
                                            data: i
                                        }).onsuccess = s
                                    }
                                } catch (t) {
                                    n(t)
                                }
                            }(t, s, function() {
                                cr.logexport("Saved state to IndexedDB storage (" + s.length + " bytes)"),
                                i.lastSaveJson = s,
                                i.trigger(cr.system_object.prototype.cnds.OnSaveComplete, null),
                                i.lastSaveJson = "",
                                s = "",
                                n && M()
                            }, function(e) {
                                try {
                                    localStorage.setItem("__c2save_" + t, s),
                                    cr.logexport("Saved state to WebStorage (" + s.length + " bytes)"),
                                    i.lastSaveJson = s,
                                    i.trigger(cr.system_object.prototype.cnds.OnSaveComplete, null),
                                    i.lastSaveJson = "",
                                    s = "",
                                    n && M()
                                } catch (t) {
                                    cr.logexport("Failed to save game state: " + e + "; " + t),
                                    i.trigger(cr.system_object.prototype.cnds.OnSaveFailed, null)
                                }
                            });
                        else
                            try {
                                localStorage.setItem("__c2save_" + t, s),
                                cr.logexport("Saved state to WebStorage (" + s.length + " bytes)"),
                                i.lastSaveJson = s,
                                this.trigger(cr.system_object.prototype.cnds.OnSaveComplete, null),
                                i.lastSaveJson = "",
                                s = "",
                                n && M()
                            } catch (t) {
                                cr.logexport("Error saving to WebStorage: " + t),
                                i.trigger(cr.system_object.prototype.cnds.OnSaveFailed, null)
                            }
                        this.saveToSlot = "",
                        this.loadFromSlot = "",
                        this.loadFromJson = null
                    }
                    if (e.length) {
                        if (l() && !this.isCocoonJs)
                            !function(i, s, n) {
                                try {
                                    var t = indexedDB.open("_C2SaveStates");
                                    t.onupgradeneeded = P,
                                    t.onerror = n,
                                    t.onsuccess = function(t) {
                                        t = t.target.result;
                                        t.onerror = n;
                                        var e = t.transaction(["saves"]).objectStore("saves").get(i);
                                        e.onsuccess = function(t) {
                                            e.result ? s(e.result.data) : s(null)
                                        }
                                    }
                                } catch (t) {
                                    n(t)
                                }
                            }(e, function(t) {
                                t ? (i.loadFromJson = t,
                                cr.logexport("Loaded state from IndexedDB storage (" + i.loadFromJson.length + " bytes)")) : (i.loadFromJson = localStorage.getItem("__c2save_" + e) || "",
                                cr.logexport("Loaded state from WebStorage (" + i.loadFromJson.length + " bytes)")),
                                i.suspendDrawing = !1,
                                i.loadFromJson || (i.loadFromJson = null,
                                i.trigger(cr.system_object.prototype.cnds.OnLoadFailed, null))
                            }, function(t) {
                                i.loadFromJson = localStorage.getItem("__c2save_" + e) || "",
                                cr.logexport("Loaded state from WebStorage (" + i.loadFromJson.length + " bytes)"),
                                i.suspendDrawing = !1,
                                i.loadFromJson || (i.loadFromJson = null,
                                i.trigger(cr.system_object.prototype.cnds.OnLoadFailed, null))
                            });
                        else {
                            try {
                                this.loadFromJson = localStorage.getItem("__c2save_" + e) || "",
                                cr.logexport("Loaded state from WebStorage (" + this.loadFromJson.length + " bytes)")
                            } catch (t) {
                                this.loadFromJson = null
                            }
                            this.suspendDrawing = !1,
                            i.loadFromJson || (i.loadFromJson = null,
                            i.trigger(cr.system_object.prototype.cnds.OnLoadFailed, null))
                        }
                        this.loadFromSlot = "",
                        this.saveToSlot = ""
                    }
                    null !== this.loadFromJson && (this.ClearDeathRow(),
                    this.loadFromJSONString(this.loadFromJson) ? (this.lastSaveJson = this.loadFromJson,
                    this.trigger(cr.system_object.prototype.cnds.OnLoadComplete, null),
                    this.lastSaveJson = "") : i.trigger(cr.system_object.prototype.cnds.OnLoadFailed, null),
                    this.loadFromJson = null)
                }
                ,
                i.prototype.saveToJSONString = function() {
                    for (var t, e, i, s, n, r, o, a, h, c, l = {
                        c2save: !0,
                        version: 1,
                        rt: {
                            time: this.kahanTime.sum,
                            walltime: this.wallTime.sum,
                            timescale: this.timescale,
                            tickcount: this.tickcount,
                            execcount: this.execcount,
                            next_uid: this.next_uid,
                            running_layout: this.running_layout.sid,
                            start_time_offset: Date.now() - this.start_time
                        },
                        types: {},
                        layouts: {},
                        events: {
                            groups: {},
                            cnds: {},
                            acts: {},
                            vars: {}
                        }
                    }, u = 0, p = this.types_by_index.length; u < p; u++)
                        if (!(i = this.types_by_index[u]).is_family && !this.typeHasNoSaveBehavior(i)) {
                            for (n = {
                                instances: []
                            },
                            cr.hasAnyOwnProperty(i.extra) && (n.ex = F(i.extra)),
                            t = 0,
                            e = i.instances.length; t < e; t++)
                                n.instances.push(this.saveInstanceToJSON(i.instances[t]));
                            l.types[i.sid.toString()] = n
                        }
                    for (u = 0,
                    p = this.layouts_by_index.length; u < p; u++)
                        s = this.layouts_by_index[u],
                        l.layouts[s.sid.toString()] = s.saveToJSON();
                    var d = l.events.groups;
                    for (u = 0,
                    p = this.allGroups.length; u < p; u++)
                        d[(r = this.allGroups[u]).sid.toString()] = this.groups_by_name[r.group_name].group_active;
                    var g = l.events.cnds;
                    for (c in this.cndsBySid)
                        this.cndsBySid.hasOwnProperty(c) && (o = this.cndsBySid[c],
                        cr.hasAnyOwnProperty(o.extra) && (g[c] = {
                            ex: F(o.extra)
                        }));
                    var f = l.events.acts;
                    for (c in this.actsBySid)
                        this.actsBySid.hasOwnProperty(c) && (a = this.actsBySid[c],
                        cr.hasAnyOwnProperty(a.extra) && (f[c] = {
                            ex: F(a.extra)
                        }));
                    var m = l.events.vars;
                    for (c in this.varsBySid)
                        this.varsBySid.hasOwnProperty(c) && ((h = this.varsBySid[c]).is_constant || h.parent && !h.is_static || (m[c] = h.data));
                    return l.system = this.system.saveToJSON(),
                    JSON.stringify(l)
                }
                ,
                i.prototype.refreshUidMap = function() {
                    var t, e, i, s, n, r;
                    for (this.objectsByUid = {},
                    t = 0,
                    e = this.types_by_index.length; t < e; t++)
                        if (!(i = this.types_by_index[t]).is_family)
                            for (s = 0,
                            n = i.instances.length; s < n; s++)
                                r = i.instances[s],
                                this.objectsByUid[r.uid.toString()] = r
                }
                ,
                i.prototype.loadFromJSONString = function(t) {
                    var e;
                    try {
                        e = JSON.parse(t)
                    } catch (t) {
                        return !1
                    }
                    if (!e.c2save)
                        return !1;
                    if (1 < e.version)
                        return !1;
                    this.isLoadingState = !0;
                    var i = e.rt;
                    this.kahanTime.reset(),
                    this.kahanTime.sum = i.time,
                    this.wallTime.reset(),
                    this.wallTime.sum = i.walltime || 0,
                    this.timescale = i.timescale,
                    this.tickcount = i.tickcount,
                    this.execcount = i.execcount,
                    this.start_time = Date.now() - i.start_time_offset;
                    var s, n, r, o, a, h, c, l, u, p, d, g, f, m, y, _, v, b = i.running_layout;
                    if (b !== this.running_layout.sid) {
                        b = this.getLayoutBySid(b);
                        if (!b)
                            return;
                        this.doChangeLayout(b)
                    }
                    var w = e.types;
                    for (c in w)
                        if (w.hasOwnProperty(c) && (l = this.getObjectTypeBySid(parseInt(c, 10))) && !l.is_family && !this.typeHasNoSaveBehavior(l)) {
                            for (w[c].ex ? l.extra = w[c].ex : cr.wipe(l.extra),
                            u = l.instances,
                            p = w[c].instances,
                            s = 0,
                            n = cr.min(u.length, p.length); s < n; s++)
                                this.loadInstanceFromJSON(u[s], p[s]);
                            for (s = p.length,
                            n = u.length; s < n; s++)
                                this.DestroyInstance(u[s]);
                            for (s = u.length,
                            n = p.length; s < n; s++)
                                m = null,
                                l.plugin.is_world && !(m = this.running_layout.getLayerBySid(p[s].w.l)) || (d = this.createInstanceFromInit(l.default_instance, m, !1, 0, 0, !0),
                                this.loadInstanceFromJSON(d, p[s]));
                            l.stale_iids = !0
                        }
                    this.ClearDeathRow(),
                    this.refreshUidMap();
                    var x = e.layouts;
                    for (c in x)
                        x.hasOwnProperty(c) && (f = this.getLayoutBySid(parseInt(c, 10))) && f.loadFromJSON(x[c]);
                    var S = e.events.groups;
                    for (c in S)
                        S.hasOwnProperty(c) && (y = this.getGroupBySid(parseInt(c, 10))) && this.groups_by_name[y.group_name] && this.groups_by_name[y.group_name].setGroupActive(S[c]);
                    var T = e.events.cnds;
                    for (c in this.cndsBySid)
                        this.cndsBySid.hasOwnProperty(c) && (T.hasOwnProperty(c) ? this.cndsBySid[c].extra = T[c].ex : this.cndsBySid[c].extra = {});
                    var C = e.events.acts;
                    for (c in this.actsBySid)
                        this.actsBySid.hasOwnProperty(c) && (C.hasOwnProperty(c) ? this.actsBySid[c].extra = C[c].ex : this.actsBySid[c].extra = {});
                    var O = e.events.vars;
                    for (c in O)
                        O.hasOwnProperty(c) && this.varsBySid.hasOwnProperty(c) && (this.varsBySid[c].data = O[c]);
                    for (this.next_uid = i.next_uid,
                    this.isLoadingState = !1,
                    s = 0,
                    n = this.fireOnCreateAfterLoad.length; s < n; ++s)
                        d = this.fireOnCreateAfterLoad[s],
                        this.trigger(Object.getPrototypeOf(d.type.plugin).cnds.OnCreated, d);
                    for (cr.clearArray(this.fireOnCreateAfterLoad),
                    this.system.loadFromJSON(e.system),
                    s = 0,
                    n = this.types_by_index.length; s < n; s++)
                        if (!(l = this.types_by_index[s]).is_family && !this.typeHasNoSaveBehavior(l))
                            for (r = 0,
                            o = l.instances.length; r < o; r++) {
                                if (d = l.instances[r],
                                l.is_contained)
                                    for (_ = d.get_iid(),
                                    cr.clearArray(d.siblings),
                                    a = 0,
                                    h = l.container.length; a < h; a++)
                                        l !== (v = l.container[a]) && d.siblings.push(v.instances[_]);
                                if (d.afterLoad && d.afterLoad(),
                                d.behavior_insts)
                                    for (a = 0,
                                    h = d.behavior_insts.length; a < h; a++)
                                        (g = d.behavior_insts[a]).afterLoad && g.afterLoad()
                            }
                    return this.redraw = !0
                }
                ,
                i.prototype.saveInstanceToJSON = function(t, e) {
                    var i, s, n, r, o, a = t.type, h = a.plugin, c = {};
                    if (e ? c.c2 = !0 : c.uid = t.uid,
                    cr.hasAnyOwnProperty(t.extra) && (c.ex = F(t.extra)),
                    t.instance_vars && t.instance_vars.length)
                        for (c.ivs = {},
                        i = 0,
                        s = t.instance_vars.length; i < s; i++)
                            c.ivs[t.type.instvar_sids[i].toString()] = t.instance_vars[i];
                    if (h.is_world) {
                        if (n = {
                            x: t.x,
                            y: t.y,
                            w: t.width,
                            h: t.height,
                            l: t.layer.sid,
                            zi: t.get_zindex()
                        },
                        0 !== t.angle && (n.a = t.angle),
                        1 !== t.opacity && (n.o = t.opacity),
                        .5 !== t.hotspotX && (n.hX = t.hotspotX),
                        .5 !== t.hotspotY && (n.hY = t.hotspotY),
                        0 !== t.blend_mode && (n.bm = t.blend_mode),
                        t.visible || (n.v = t.visible),
                        t.collisionsEnabled || (n.ce = t.collisionsEnabled),
                        -1 !== t.my_timescale && (n.mts = t.my_timescale),
                        a.effect_types.length)
                            for (n.fx = [],
                            i = 0,
                            s = a.effect_types.length; i < s; i++)
                                o = a.effect_types[i],
                                n.fx.push({
                                    name: o.name,
                                    active: t.active_effect_flags[o.index],
                                    params: t.effect_params[o.index]
                                });
                        c.w = n
                    }
                    if (t.behavior_insts && t.behavior_insts.length)
                        for (c.behs = {},
                        i = 0,
                        s = t.behavior_insts.length; i < s; i++)
                            (r = t.behavior_insts[i]).saveToJSON && (c.behs[r.type.sid.toString()] = r.saveToJSON());
                    return t.saveToJSON && (c.data = t.saveToJSON()),
                    c
                }
                ,
                i.prototype.getInstanceVarIndexBySid = function(t, e) {
                    for (var i = 0, s = t.instvar_sids.length; i < s; i++)
                        if (t.instvar_sids[i] === e)
                            return i;
                    return -1
                }
                ,
                i.prototype.getBehaviorIndexBySid = function(t, e) {
                    for (var i = 0, s = t.behavior_insts.length; i < s; i++)
                        if (t.behavior_insts[i].type.sid === e)
                            return i;
                    return -1
                }
                ,
                i.prototype.loadInstanceFromJSON = function(t, e, i) {
                    var s, n, r, o, a, h, c, l, u, p, d = t.type, g = d.plugin;
                    if (i) {
                        if (!e.c2)
                            return
                    } else
                        t.uid = e.uid;
                    if (e.ex ? t.extra = e.ex : cr.wipe(t.extra),
                    a = e.ivs)
                        for (s in a)
                            a.hasOwnProperty(s) && ((o = this.getInstanceVarIndexBySid(d, parseInt(s, 10))) < 0 || o >= t.instance_vars.length || (null === (p = a[s]) && (p = NaN),
                            t.instance_vars[o] = p));
                    if (g.is_world) {
                        if (h = e.w,
                        t.layer.sid !== h.l && (g = t.layer,
                        t.layer = this.running_layout.getLayerBySid(h.l),
                        t.layer ? (g.removeFromInstanceList(t, !0),
                        t.layer.appendToInstanceList(t, !0),
                        t.set_bbox_changed(),
                        t.layer.setZIndicesStaleFrom(0)) : (t.layer = g,
                        i || this.DestroyInstance(t))),
                        t.x = h.x,
                        t.y = h.y,
                        t.width = h.w,
                        t.height = h.h,
                        t.zindex = h.zi,
                        t.angle = h.hasOwnProperty("a") ? h.a : 0,
                        t.opacity = h.hasOwnProperty("o") ? h.o : 1,
                        t.hotspotX = h.hasOwnProperty("hX") ? h.hX : .5,
                        t.hotspotY = h.hasOwnProperty("hY") ? h.hY : .5,
                        t.visible = !h.hasOwnProperty("v") || h.v,
                        t.collisionsEnabled = !h.hasOwnProperty("ce") || h.ce,
                        t.my_timescale = h.hasOwnProperty("mts") ? h.mts : -1,
                        t.blend_mode = h.hasOwnProperty("bm") ? h.bm : 0,
                        t.compositeOp = cr.effectToCompositeOp(t.blend_mode),
                        this.gl && cr.setGLBlend(t, t.blend_mode, this.gl),
                        t.set_bbox_changed(),
                        h.hasOwnProperty("fx"))
                            for (n = 0,
                            r = h.fx.length; n < r; n++)
                                (c = d.getEffectIndexByName(h.fx[n].name)) < 0 || (t.active_effect_flags[c] = h.fx[n].active,
                                t.effect_params[c] = h.fx[n].params);
                        t.updateActiveEffects()
                    }
                    if (l = e.behs)
                        for (s in l)
                            l.hasOwnProperty(s) && ((u = this.getBehaviorIndexBySid(t, parseInt(s, 10))) < 0 || t.behavior_insts[u].loadFromJSON(l[s]));
                    e.data && t.loadFromJSON(e.data)
                }
                ,
                i.prototype.fetchLocalFileViaCordova = function(t, e, i) {
                    t = cordova.file.applicationDirectory + "www/" + t;
                    window.resolveLocalFileSystemURL(t, function(t) {
                        t.file(e, i)
                    }, i)
                }
                ,
                i.prototype.fetchLocalFileViaCordovaAsText = function(t, i, s) {
                    this.fetchLocalFileViaCordova(t, function(t) {
                        var e = new FileReader;
                        e.onload = function(t) {
                            i(t.target.result)
                        }
                        ,
                        e.onerror = s,
                        e.readAsText(t)
                    }, s)
                }
                ;
                var L = []
                  , D = 0;
                i.prototype.maybeStartNextArrayBufferRead = function() {
                    var t;
                    L.length && (8 <= D || (D++,
                    t = L.shift(),
                    this.doFetchLocalFileViaCordovaAsArrayBuffer(t.filename, t.successCallback, t.errorCallback)))
                }
                ,
                i.prototype.fetchLocalFileViaCordovaAsArrayBuffer = function(t, e, i) {
                    var s = this;
                    L.push({
                        filename: t,
                        successCallback: function(t) {
                            D--,
                            s.maybeStartNextArrayBufferRead(),
                            e(t)
                        },
                        errorCallback: function(t) {
                            D--,
                            s.maybeStartNextArrayBufferRead(),
                            i(t)
                        }
                    }),
                    this.maybeStartNextArrayBufferRead()
                }
                ,
                i.prototype.doFetchLocalFileViaCordovaAsArrayBuffer = function(t, i, e) {
                    this.fetchLocalFileViaCordova(t, function(t) {
                        var e = new FileReader;
                        e.onload = function(t) {
                            i(t.target.result)
                        }
                        ,
                        e.readAsArrayBuffer(t)
                    }, e)
                }
                ,
                i.prototype.fetchLocalFileViaCordovaAsURL = function(t, e, i) {
                    var s = ""
                      , n = t.toLowerCase()
                      , r = n.substr(n.length - 4)
                      , n = n.substr(n.length - 5);
                    ".mp4" === r ? s = "video/mp4" : ".webm" === n ? s = "video/webm" : ".m4a" === r ? s = "audio/mp4" : ".mp3" === r && (s = "audio/mpeg"),
                    this.fetchLocalFileViaCordovaAsArrayBuffer(t, function(t) {
                        t = new Blob([t],{
                            type: s
                        }),
                        t = URL.createObjectURL(t);
                        e(t)
                    }, i)
                }
                ,
                i.prototype.isAbsoluteUrl = function(t) {
                    return /^(?:[a-z]+:)?\/\//.test(t) || "data:" === t.substr(0, 5) || "blob:" === t.substr(0, 5)
                }
                ,
                i.prototype.setImageSrc = function(e, t) {
                    this.isWKWebView && !this.isAbsoluteUrl(t) ? this.fetchLocalFileViaCordovaAsURL(t, function(t) {
                        e.src = t
                    }, function(t) {
                        alert("Failed to load image: " + t)
                    }) : e.src = t
                }
                ,
                i.prototype.setCtxImageSmoothingEnabled = function(t, e) {
                    void 0 !== t.imageSmoothingEnabled ? t.imageSmoothingEnabled = e : (t.webkitImageSmoothingEnabled = e,
                    t.mozImageSmoothingEnabled = e,
                    t.msImageSmoothingEnabled = e)
                }
                ,
                cr.runtime = i,
                cr.createRuntime = function(t) {
                    return new i(document.getElementById(t))
                }
                ,
                cr.createDCRuntime = function(t, e) {
                    return new i({
                        dc: !0,
                        width: t,
                        height: e
                    })
                }
                ,
                window.cr_createRuntime = cr.createRuntime,
                window.cr_createDCRuntime = cr.createDCRuntime,
                window.createCocoonJSRuntime = function() {
                    window.c2cocoonjs = !0;
                    var t = document.createElement("screencanvas") || document.createElement("canvas");
                    t.screencanvas = !0,
                    document.body.appendChild(t);
                    t = new i(t);
                    return window.c2runtime = t,
                    window.addEventListener("orientationchange", function() {
                        window.c2runtime.setSize(window.innerWidth, window.innerHeight)
                    }),
                    window.c2runtime.setSize(window.innerWidth, window.innerHeight),
                    t
                }
                ,
                window.createEjectaRuntime = function() {
                    var t = new i(document.getElementById("canvas"));
                    return window.c2runtime = t,
                    window.c2runtime.setSize(window.innerWidth, window.innerHeight),
                    t
                }
            }(),
            window.cr_getC2Runtime = function() {
                var t = document.getElementById("c2canvas");
                return t ? t.c2runtime : window.c2runtime || null
            }
            ,
            window.cr_getSnapshot = function(t, e) {
                var i = window.cr_getC2Runtime();
                i && i.doCanvasSnapshot(t, e)
            }
            ,
            window.cr_sizeCanvas = function(t, e) {
                var i;
                0 === t || 0 === e || (i = window.cr_getC2Runtime()) && i.setSize(t, e)
            }
            ,
            window.cr_setSuspended = function(t) {
                var e = window.cr_getC2Runtime();
                e && e.setSuspended(t)
            }
            ,
            function() {
                function t(t, e) {
                    this.runtime = t,
                    this.event_sheet = null,
                    this.scrollX = this.runtime.original_width / 2,
                    this.scrollY = this.runtime.original_height / 2,
                    this.scale = 1,
                    this.angle = 0,
                    this.first_visit = !0,
                    this.name = e[0],
                    this.originalWidth = e[1],
                    this.originalHeight = e[2],
                    this.width = e[1],
                    this.height = e[2],
                    this.unbounded_scrolling = e[3],
                    this.sheetname = e[4],
                    this.sid = e[5];
                    var i, s, n = e[6];
                    for (this.layers = [],
                    this.initial_types = [],
                    i = 0,
                    s = n.length; i < s; i++) {
                        var r = new cr.layer(this,n[i]);
                        r.number = i,
                        cr.seal(r),
                        this.layers.push(r)
                    }
                    var o = e[7];
                    for (this.initial_nonworld = [],
                    i = 0,
                    s = o.length; i < s; i++) {
                        var a = o[i]
                          , h = this.runtime.types_by_index[a[1]];
                        h.default_instance || (h.default_instance = a),
                        this.initial_nonworld.push(a),
                        -1 === this.initial_types.indexOf(h) && this.initial_types.push(h)
                    }
                    for (this.effect_types = [],
                    this.active_effect_types = [],
                    this.shaders_preserve_opaqueness = !0,
                    this.effect_params = [],
                    i = 0,
                    s = e[8].length; i < s; i++)
                        this.effect_types.push({
                            id: e[8][i][0],
                            name: e[8][i][1],
                            shaderindex: -1,
                            preservesOpaqueness: !1,
                            active: !0,
                            index: i
                        }),
                        this.effect_params.push(e[8][i][2].slice(0));
                    this.updateActiveEffects(),
                    this.rcTex = new cr.rect(0,0,1,1),
                    this.rcTex2 = new cr.rect(0,0,1,1),
                    this.persist_data = {}
                }
                t.prototype.saveObjectToPersist = function(t) {
                    var e = t.type.sid.toString();
                    this.persist_data.hasOwnProperty(e) || (this.persist_data[e] = []),
                    this.persist_data[e].push(this.runtime.saveInstanceToJSON(t))
                }
                ,
                t.prototype.hasOpaqueBottomLayer = function() {
                    var t = this.layers[0];
                    return !t.transparent && 1 === t.opacity && !t.forceOwnTexture && t.visible
                }
                ,
                t.prototype.updateActiveEffects = function() {
                    var t, e, i;
                    for (cr.clearArray(this.active_effect_types),
                    this.shaders_preserve_opaqueness = !0,
                    t = 0,
                    e = this.effect_types.length; t < e; t++)
                        (i = this.effect_types[t]).active && (this.active_effect_types.push(i),
                        i.preservesOpaqueness || (this.shaders_preserve_opaqueness = !1))
                }
                ,
                t.prototype.getEffectByName = function(t) {
                    for (var e, i = 0, s = this.effect_types.length; i < s; i++)
                        if ((e = this.effect_types[i]).name === t)
                            return e;
                    return null
                }
                ;
                var m = [];
                function y(t, e) {
                    return t.zindex - e.zindex
                }
                var _ = !0;
                t.prototype.startRunning = function() {
                    var t, e, i, s, n, r, o, a, h, c, l, u, p, d, g;
                    for (this.sheetname && (this.event_sheet = this.runtime.eventsheets[this.sheetname],
                    this.event_sheet.updateDeepIncludes()),
                    (this.runtime.running_layout = this).width = this.originalWidth,
                    this.height = this.originalHeight,
                    this.scrollX = this.runtime.original_width / 2,
                    this.scrollY = this.runtime.original_height / 2,
                    t = 0,
                    i = this.runtime.types_by_index.length; t < i; t++)
                        if (!(n = this.runtime.types_by_index[t]).is_family)
                            for (e = 0,
                            s = (r = n.instances).length; e < s; e++)
                                (d = r[e]).layer && ((p = d.layer.number) >= this.layers.length && (p = this.layers.length - 1),
                                d.layer = this.layers[p],
                                -1 === d.layer.instances.indexOf(d) && d.layer.instances.push(d),
                                d.layer.zindices_stale = !0);
                    if (!_)
                        for (t = 0,
                        i = this.layers.length; t < i; ++t)
                            this.layers[t].instances.sort(y);
                    for (cr.clearArray(m),
                    this.boundScrolling(),
                    t = 0,
                    i = this.layers.length; t < i; t++)
                        (g = this.layers[t]).createInitialInstances(),
                        g.updateViewport(null);
                    var f = !1;
                    if (!this.first_visit) {
                        for (l in this.persist_data)
                            if (this.persist_data.hasOwnProperty(l) && (n = this.runtime.getObjectTypeBySid(parseInt(l, 10))) && !n.is_family && this.runtime.typeHasPersistBehavior(n)) {
                                for (t = 0,
                                i = (u = this.persist_data[l]).length; t < i; t++)
                                    g = null,
                                    n.plugin.is_world && !(g = this.getLayerBySid(u[t].w.l)) || (d = this.runtime.createInstanceFromInit(n.default_instance, g, !1, 0, 0, !0),
                                    this.runtime.loadInstanceFromJSON(d, u[t]),
                                    f = !0,
                                    m.push(d));
                                cr.clearArray(u)
                            }
                        for (t = 0,
                        i = this.layers.length; t < i; t++)
                            this.layers[t].instances.sort(y),
                            this.layers[t].zindices_stale = !0
                    }
                    for (f && (this.runtime.ClearDeathRow(),
                    this.runtime.refreshUidMap()),
                    t = 0; t < m.length; t++)
                        if ((d = m[t]).type.is_contained)
                            for (a = d.get_iid(),
                            e = 0,
                            s = d.type.container.length; e < s; e++)
                                h = d.type.container[e],
                                d.type !== h && (h.instances.length > a ? d.siblings.push(h.instances[a]) : h.default_instance && (c = this.runtime.createInstanceFromInit(h.default_instance, d.layer, !0, d.x, d.y, !0),
                                this.runtime.ClearDeathRow(),
                                h.updateIIDs(),
                                d.siblings.push(c),
                                m.push(c)));
                    for (t = 0,
                    i = this.initial_nonworld.length; t < i; t++)
                        o = this.initial_nonworld[t],
                        (n = this.runtime.types_by_index[o[1]]).is_contained || (d = this.runtime.createInstanceFromInit(this.initial_nonworld[t], null, !0));
                    if (this.runtime.changelayout = null,
                    this.runtime.ClearDeathRow(),
                    this.runtime.ctx && !this.runtime.isDomFree)
                        for (t = 0,
                        i = this.runtime.types_by_index.length; t < i; t++)
                            !(h = this.runtime.types_by_index[t]).is_family && h.instances.length && h.preloadCanvas2D && h.preloadCanvas2D(this.runtime.ctx);
                    if (this.runtime.isLoadingState)
                        cr.shallowAssignArray(this.runtime.fireOnCreateAfterLoad, m);
                    else
                        for (t = 0,
                        i = m.length; t < i; t++)
                            d = m[t],
                            this.runtime.trigger(Object.getPrototypeOf(d.type.plugin).cnds.OnCreated, d);
                    cr.clearArray(m),
                    this.runtime.isLoadingState || this.runtime.trigger(cr.system_object.prototype.cnds.OnLayoutStart, null),
                    this.first_visit = !1
                }
                ,
                t.prototype.createGlobalNonWorlds = function() {
                    for (var t, e, i = 0, s = 0, n = this.initial_nonworld.length; i < n; i++)
                        t = this.initial_nonworld[i],
                        (e = this.runtime.types_by_index[t[1]]).global ? e.is_contained || this.runtime.createInstanceFromInit(t, null, !0) : (this.initial_nonworld[s] = t,
                        s++);
                    cr.truncateArray(this.initial_nonworld, s)
                }
                ,
                t.prototype.stopRunning = function() {
                    var t, e, i, s, n, r, o;
                    if (this.runtime.isLoadingState || this.runtime.trigger(cr.system_object.prototype.cnds.OnLayoutEnd, null),
                    this.runtime.isEndingLayout = !0,
                    cr.clearArray(this.runtime.system.waits),
                    !this.first_visit)
                        for (t = 0,
                        e = this.layers.length; t < e; t++)
                            for (this.layers[t].updateZIndices(),
                            i = 0,
                            s = (n = this.layers[t].instances).length; i < s; i++)
                                (r = n[i]).type.global || this.runtime.typeHasPersistBehavior(r.type) && this.saveObjectToPersist(r);
                    for (t = 0,
                    e = this.layers.length; t < e; t++) {
                        for (i = 0,
                        s = (n = this.layers[t].instances).length; i < s; i++)
                            (r = n[i]).type.global || this.runtime.DestroyInstance(r);
                        this.runtime.ClearDeathRow(),
                        cr.clearArray(n),
                        this.layers[t].zindices_stale = !0
                    }
                    for (t = 0,
                    e = this.runtime.types_by_index.length; t < e; t++)
                        if (!((o = this.runtime.types_by_index[t]).global || o.plugin.is_world || o.plugin.singleglobal || o.is_family)) {
                            for (i = 0,
                            s = o.instances.length; i < s; i++)
                                this.runtime.DestroyInstance(o.instances[i]);
                            this.runtime.ClearDeathRow()
                        }
                    _ = !1,
                    this.runtime.isEndingLayout = !1
                }
                ;
                var a = new cr.rect(0,0,0,0);
                function e(t, e) {
                    this.layout = t,
                    this.runtime = t.runtime,
                    this.instances = [],
                    this.scale = 1,
                    this.angle = 0,
                    this.disableAngle = !1,
                    this.tmprect = new cr.rect(0,0,0,0),
                    this.tmpquad = new cr.quad,
                    this.viewLeft = 0,
                    this.viewRight = 0,
                    this.viewTop = 0,
                    this.viewBottom = 0,
                    this.zindices_stale = !1,
                    this.zindices_stale_from = -1,
                    this.clear_earlyz_index = 0,
                    this.name = e[0],
                    this.index = e[1],
                    this.sid = e[2],
                    this.visible = e[3],
                    this.background_color = e[4],
                    this.transparent = e[5],
                    this.parallaxX = e[6],
                    this.parallaxY = e[7],
                    this.opacity = e[8],
                    this.forceOwnTexture = e[9],
                    this.useRenderCells = e[10],
                    this.zoomRate = e[11],
                    this.blend_mode = e[12],
                    this.effect_fallback = e[13],
                    this.compositeOp = "source-over",
                    this.srcBlend = 0,
                    this.destBlend = 0,
                    this.render_grid = null,
                    this.last_render_list = h(),
                    this.render_list_stale = !0,
                    this.last_render_cells = new cr.rect(0,0,-1,-1),
                    this.cur_render_cells = new cr.rect(0,0,-1,-1),
                    this.useRenderCells && (this.render_grid = new cr.RenderGrid(this.runtime.original_width,this.runtime.original_height)),
                    this.render_offscreen = !1;
                    var i, s, n = e[14];
                    for (this.startup_initial_instances = [],
                    this.initial_instances = [],
                    this.created_globals = [],
                    i = 0,
                    s = n.length; i < s; i++) {
                        var r = n[i]
                          , o = this.runtime.types_by_index[r[1]];
                        o.default_instance || (o.default_instance = r,
                        o.default_layerindex = this.index),
                        this.initial_instances.push(r),
                        -1 === this.layout.initial_types.indexOf(o) && this.layout.initial_types.push(o)
                    }
                    for (cr.shallowAssignArray(this.startup_initial_instances, this.initial_instances),
                    this.effect_types = [],
                    this.active_effect_types = [],
                    this.shaders_preserve_opaqueness = !0,
                    this.effect_params = [],
                    i = 0,
                    s = e[15].length; i < s; i++)
                        this.effect_types.push({
                            id: e[15][i][0],
                            name: e[15][i][1],
                            shaderindex: -1,
                            preservesOpaqueness: !1,
                            active: !0,
                            index: i
                        }),
                        this.effect_params.push(e[15][i][2].slice(0));
                    this.updateActiveEffects(),
                    this.rcTex = new cr.rect(0,0,1,1),
                    this.rcTex2 = new cr.rect(0,0,1,1)
                }
                t.prototype.recreateInitialObjects = function(t, e, i, s, n) {
                    var r, o;
                    for (a.set(e, i, s, n),
                    r = 0,
                    o = this.layers.length; r < o; r++)
                        this.layers[r].recreateInitialObjects(t, a)
                }
                ,
                t.prototype.draw = function(t) {
                    var e, i, s, n, r = t, o = !1, a = !this.runtime.fullscreenScalingQuality;
                    for (a && (this.runtime.layout_canvas || (this.runtime.layout_canvas = document.createElement("canvas"),
                    (e = this.runtime.layout_canvas).width = this.runtime.draw_width,
                    e.height = this.runtime.draw_height,
                    this.runtime.layout_ctx = e.getContext("2d"),
                    o = !0),
                    e = this.runtime.layout_canvas,
                    r = this.runtime.layout_ctx,
                    e.width !== this.runtime.draw_width && (e.width = this.runtime.draw_width,
                    o = !0),
                    e.height !== this.runtime.draw_height && (e.height = this.runtime.draw_height,
                    o = !0),
                    o && this.runtime.setCtxImageSmoothingEnabled(r, this.runtime.linearSampling)),
                    r.globalAlpha = 1,
                    r.globalCompositeOperation = "source-over",
                    this.runtime.clearBackground && !this.hasOpaqueBottomLayer() && r.clearRect(0, 0, this.runtime.draw_width, this.runtime.draw_height),
                    i = 0,
                    s = this.layers.length; i < s; i++)
                        (n = this.layers[i]).visible && 0 < n.opacity && 11 !== n.blend_mode && (n.instances.length || !n.transparent) ? n.draw(r) : n.updateViewport(null);
                    a && t.drawImage(e, 0, 0, this.runtime.width, this.runtime.height)
                }
                ,
                t.prototype.drawGL_earlyZPass = function(t) {
                    var e, i;
                    for (t.setEarlyZPass(!0),
                    this.runtime.layout_tex || (this.runtime.layout_tex = t.createEmptyTexture(this.runtime.draw_width, this.runtime.draw_height, this.runtime.linearSampling)),
                    this.runtime.layout_tex.c2width === this.runtime.draw_width && this.runtime.layout_tex.c2height === this.runtime.draw_height || (t.deleteTexture(this.runtime.layout_tex),
                    this.runtime.layout_tex = t.createEmptyTexture(this.runtime.draw_width, this.runtime.draw_height, this.runtime.linearSampling)),
                    t.setRenderingToTexture(this.runtime.layout_tex),
                    this.runtime.fullscreenScalingQuality || t.setSize(this.runtime.draw_width, this.runtime.draw_height),
                    e = this.layers.length - 1; 0 <= e; --e)
                        (i = this.layers[e]).visible && 1 === i.opacity && i.shaders_preserve_opaqueness && 0 === i.blend_mode && (i.instances.length || !i.transparent) ? i.drawGL_earlyZPass(t) : i.updateViewport(null);
                    t.setEarlyZPass(!1)
                }
                ,
                t.prototype.drawGL = function(t) {
                    var e, i, s, n, r = 0 < this.active_effect_types.length || this.runtime.uses_background_blending || !this.runtime.fullscreenScalingQuality || this.runtime.enableFrontToBack;
                    for (r ? (this.runtime.layout_tex || (this.runtime.layout_tex = t.createEmptyTexture(this.runtime.draw_width, this.runtime.draw_height, this.runtime.linearSampling)),
                    this.runtime.layout_tex.c2width === this.runtime.draw_width && this.runtime.layout_tex.c2height === this.runtime.draw_height || (t.deleteTexture(this.runtime.layout_tex),
                    this.runtime.layout_tex = t.createEmptyTexture(this.runtime.draw_width, this.runtime.draw_height, this.runtime.linearSampling)),
                    t.setRenderingToTexture(this.runtime.layout_tex),
                    this.runtime.fullscreenScalingQuality || t.setSize(this.runtime.draw_width, this.runtime.draw_height)) : this.runtime.layout_tex && (t.setRenderingToTexture(null),
                    t.deleteTexture(this.runtime.layout_tex),
                    this.runtime.layout_tex = null),
                    this.runtime.clearBackground && !this.hasOpaqueBottomLayer() && t.clear(0, 0, 0, 0),
                    e = 0,
                    i = this.layers.length; e < i; e++)
                        (s = this.layers[e]).visible && 0 < s.opacity && (s.instances.length || !s.transparent) ? s.drawGL(t) : s.updateViewport(null);
                    r && (0 === this.active_effect_types.length || 1 === this.active_effect_types.length && this.runtime.fullscreenScalingQuality ? (1 === this.active_effect_types.length ? (n = this.active_effect_types[0].index,
                    t.switchProgram(this.active_effect_types[0].shaderindex),
                    t.setProgramParameters(null, 1 / this.runtime.draw_width, 1 / this.runtime.draw_height, 0, 0, 1, 1, this.scale, this.angle, 0, 0, this.runtime.draw_width / 2, this.runtime.draw_height / 2, this.runtime.kahanTime.sum, this.effect_params[n]),
                    t.programIsAnimated(this.active_effect_types[0].shaderindex) && (this.runtime.redraw = !0)) : t.switchProgram(0),
                    this.runtime.fullscreenScalingQuality || t.setSize(this.runtime.width, this.runtime.height),
                    t.setRenderingToTexture(null),
                    t.setDepthTestEnabled(!1),
                    t.setOpacity(1),
                    t.setTexture(this.runtime.layout_tex),
                    t.setAlphaBlend(),
                    t.resetModelView(),
                    t.updateModelView(),
                    r = this.runtime.width / 2,
                    n = this.runtime.height / 2,
                    t.quad(-r, n, r, n, r, -n, -r, -n),
                    t.setTexture(null),
                    t.setDepthTestEnabled(!0)) : this.renderEffectChain(t, null, null, null))
                }
                ,
                t.prototype.getRenderTarget = function() {
                    return 0 < this.active_effect_types.length || this.runtime.uses_background_blending || !this.runtime.fullscreenScalingQuality || this.runtime.enableFrontToBack ? this.runtime.layout_tex : null
                }
                ,
                t.prototype.getMinLayerScale = function() {
                    for (var t, e = this.layers[0].getScale(), i = 1, s = this.layers.length; i < s; i++)
                        0 === (t = this.layers[i]).parallaxX && 0 === t.parallaxY || t.getScale() < e && (e = t.getScale());
                    return e
                }
                ,
                t.prototype.scrollToX = function(t) {
                    var e;
                    this.unbounded_scrolling || (e = this.runtime.draw_width * (1 / this.getMinLayerScale()) / 2,
                    t > this.width - e && (t = this.width - e),
                    t < e && (t = e)),
                    this.scrollX !== t && (this.scrollX = t,
                    this.runtime.redraw = !0)
                }
                ,
                t.prototype.scrollToY = function(t) {
                    var e;
                    this.unbounded_scrolling || (e = this.runtime.draw_height * (1 / this.getMinLayerScale()) / 2,
                    t > this.height - e && (t = this.height - e),
                    t < e && (t = e)),
                    this.scrollY !== t && (this.scrollY = t,
                    this.runtime.redraw = !0)
                }
                ,
                t.prototype.boundScrolling = function() {
                    this.scrollToX(this.scrollX),
                    this.scrollToY(this.scrollY)
                }
                ,
                t.prototype.renderEffectChain = function(t, e, i, s) {
                    var n = (i || e || this).active_effect_types
                      , r = 1
                      , o = 0
                      , a = 0
                      , h = 0
                      , c = this.runtime.draw_width
                      , l = this.runtime.draw_height;
                    i ? (r = i.layer.getScale(),
                    o = i.layer.getAngle(),
                    a = i.layer.viewLeft,
                    h = i.layer.viewTop,
                    c = i.layer.viewRight,
                    l = i.layer.viewBottom) : e && (r = e.getScale(),
                    o = e.getAngle(),
                    a = e.viewLeft,
                    h = e.viewTop,
                    c = e.viewRight,
                    l = e.viewBottom);
                    var u, p, d = this.runtime.fx_tex, g = 0, f = 1, m = this.runtime.draw_width, y = this.runtime.draw_height, _ = m / 2, v = y / 2, b = (e || this).rcTex, w = (e || this).rcTex2, x = 0, S = 0, T = 0, C = 0, O = m, k = m, A = y, E = y, I = 0, P = 0, M = i ? i.layer.getAngle() : 0;
                    if (i) {
                        for (W = 0,
                        z = n.length; W < z; W++)
                            I += t.getProgramBoxExtendHorizontal(n[W].shaderindex),
                            P += t.getProgramBoxExtendVertical(n[W].shaderindex);
                        var F, L, D, R = i.bbox;
                        x = e.layerToCanvas(R.left, R.top, !0, !0),
                        T = e.layerToCanvas(R.left, R.top, !1, !0),
                        O = e.layerToCanvas(R.right, R.bottom, !0, !0),
                        A = e.layerToCanvas(R.right, R.bottom, !1, !0),
                        0 !== M && (F = e.layerToCanvas(R.right, R.top, !0, !0),
                        L = e.layerToCanvas(R.right, R.top, !1, !0),
                        M = e.layerToCanvas(R.left, R.bottom, !0, !0),
                        R = e.layerToCanvas(R.left, R.bottom, !1, !0),
                        D = Math.min(x, O, F, M),
                        O = Math.max(x, O, F, M),
                        x = D,
                        D = Math.min(T, A, L, R),
                        A = Math.max(T, A, L, R),
                        T = D),
                        x -= I,
                        T -= P,
                        O += I,
                        A += P,
                        w.left = x / m,
                        w.top = 1 - T / y,
                        w.right = O / m,
                        w.bottom = 1 - A / y,
                        S = x = cr.floor(x),
                        C = T = cr.floor(T),
                        k = O = cr.ceil(O),
                        E = A = cr.ceil(A),
                        x < 0 && (x = 0),
                        T < 0 && (T = 0),
                        m < O && (O = m),
                        y < A && (A = y),
                        (S -= I) < 0 && (S = 0),
                        (C -= P) < 0 && (C = 0),
                        m < (k += I) && (k = m),
                        y < (E += P) && (E = y),
                        b.left = x / m,
                        b.top = 1 - T / y,
                        b.right = O / m,
                        b.bottom = 1 - A / y
                    } else
                        b.left = w.left = 0,
                        b.top = w.top = 0,
                        b.right = w.right = 1,
                        b.bottom = w.bottom = 1;
                    var j = i && (t.programUsesDest(n[0].shaderindex) || 0 !== I || 0 !== P || 1 !== i.opacity || i.type.plugin.must_predraw) || e && !i && 1 !== e.opacity;
                    t.setAlphaBlend(),
                    j && (d[g] || (d[g] = t.createEmptyTexture(m, y, this.runtime.linearSampling)),
                    d[g].c2width === m && d[g].c2height === y || (t.deleteTexture(d[g]),
                    d[g] = t.createEmptyTexture(m, y, this.runtime.linearSampling)),
                    t.switchProgram(0),
                    t.setRenderingToTexture(d[g]),
                    u = y - C - (p = E - C),
                    t.clearRect(S, u, k - S, p),
                    i ? i.drawGL(t) : (t.setTexture(this.runtime.layer_tex),
                    t.setOpacity(e.opacity),
                    t.resetModelView(),
                    t.translate(-_, -v),
                    t.updateModelView(),
                    t.quadTex(x, A, O, A, O, T, x, T, b)),
                    w.left = w.top = 0,
                    w.right = w.bottom = 1,
                    i && (D = b.top,
                    b.top = b.bottom,
                    b.bottom = D),
                    g = 1,
                    f = 0),
                    t.setOpacity(1);
                    for (var B, N, V, G = n.length - 1, X = t.programUsesCrossSampling(n[G].shaderindex) || !e && !i && !this.runtime.fullscreenScalingQuality, W = 0, z = n.length; W < z; W++)
                        d[g] || (d[g] = t.createEmptyTexture(m, y, this.runtime.linearSampling)),
                        d[g].c2width === m && d[g].c2height === y || (t.deleteTexture(d[g]),
                        d[g] = t.createEmptyTexture(m, y, this.runtime.linearSampling)),
                        t.switchProgram(n[W].shaderindex),
                        B = n[W].index,
                        t.programIsAnimated(n[W].shaderindex) && (this.runtime.redraw = !0),
                        0 != W || j ? (t.setProgramParameters(s, 1 / m, 1 / y, w.left, w.top, w.right, w.bottom, r, o, a, h, (a + c) / 2, (h + l) / 2, this.runtime.kahanTime.sum, (i || e || this).effect_params[B]),
                        t.setTexture(null),
                        W !== G || X ? (t.setRenderingToTexture(d[g]),
                        u = y - C - (p = E - C),
                        t.clearRect(S, u, k - S, p)) : (i ? t.setBlend(i.srcBlend, i.destBlend) : e && t.setBlend(e.srcBlend, e.destBlend),
                        t.setRenderingToTexture(s)),
                        t.setTexture(d[f]),
                        t.resetModelView(),
                        t.translate(-_, -v),
                        t.updateModelView(),
                        t.quadTex(x, A, O, A, O, T, x, T, b),
                        W !== G || X || t.setTexture(null)) : (t.setRenderingToTexture(d[g]),
                        u = y - C - (p = E - C),
                        t.clearRect(S, u, k - S, p),
                        i ? (V = i.curFrame && i.curFrame.texture_img ? (N = 1 / (V = i.curFrame.texture_img).width,
                        1 / V.height) : (N = 1 / i.width,
                        1 / i.height),
                        t.setProgramParameters(s, N, V, w.left, w.top, w.right, w.bottom, r, o, a, h, (a + c) / 2, (h + l) / 2, this.runtime.kahanTime.sum, i.effect_params[B]),
                        i.drawGL(t)) : (t.setProgramParameters(s, 1 / m, 1 / y, 0, 0, 1, 1, r, o, a, h, (a + c) / 2, (h + l) / 2, this.runtime.kahanTime.sum, (e || this).effect_params[B]),
                        t.setTexture(e ? this.runtime.layer_tex : this.runtime.layout_tex),
                        t.resetModelView(),
                        t.translate(-_, -v),
                        t.updateModelView(),
                        t.quadTex(x, A, O, A, O, T, x, T, b)),
                        w.left = w.top = 0,
                        w.right = w.bottom = 1,
                        i && !X && (D = A,
                        A = T,
                        T = D)),
                        f = 0 === (g = 0 === g ? 1 : 0) ? 1 : 0;
                    X && (t.switchProgram(0),
                    i ? t.setBlend(i.srcBlend, i.destBlend) : e ? t.setBlend(e.srcBlend, e.destBlend) : this.runtime.fullscreenScalingQuality || (t.setSize(this.runtime.width, this.runtime.height),
                    _ = this.runtime.width / 2,
                    v = this.runtime.height / 2,
                    T = x = 0,
                    O = this.runtime.width,
                    A = this.runtime.height),
                    t.setRenderingToTexture(s),
                    t.setTexture(d[f]),
                    t.resetModelView(),
                    t.translate(-_, -v),
                    t.updateModelView(),
                    i && 1 === n.length && !j ? t.quadTex(x, T, O, T, O, A, x, A, b) : t.quadTex(x, A, O, A, O, T, x, T, b),
                    t.setTexture(null))
                }
                ,
                t.prototype.getLayerBySid = function(t) {
                    for (var e = 0, i = this.layers.length; e < i; e++)
                        if (this.layers[e].sid === t)
                            return this.layers[e];
                    return null
                }
                ,
                t.prototype.saveToJSON = function() {
                    for (var t, e, i = {
                        sx: this.scrollX,
                        sy: this.scrollY,
                        s: this.scale,
                        a: this.angle,
                        w: this.width,
                        h: this.height,
                        fv: this.first_visit,
                        persist: this.persist_data,
                        fx: [],
                        layers: {}
                    }, s = 0, n = this.effect_types.length; s < n; s++)
                        e = this.effect_types[s],
                        i.fx.push({
                            name: e.name,
                            active: e.active,
                            params: this.effect_params[e.index]
                        });
                    for (s = 0,
                    n = this.layers.length; s < n; s++)
                        t = this.layers[s],
                        i.layers[t.sid.toString()] = t.saveToJSON();
                    return i
                }
                ,
                t.prototype.loadFromJSON = function(t) {
                    var e, i, s;
                    this.scrollX = t.sx,
                    this.scrollY = t.sy,
                    this.scale = t.s,
                    this.angle = t.a,
                    this.width = t.w,
                    this.height = t.h,
                    this.persist_data = t.persist,
                    void 0 !== t.fv && (this.first_visit = t.fv);
                    for (var n = t.fx, r = 0, o = n.length; r < o; r++)
                        (e = this.getEffectByName(n[r].name)) && (e.active = n[r].active,
                        this.effect_params[e.index] = n[r].params);
                    this.updateActiveEffects();
                    var a = t.layers;
                    for (i in a)
                        a.hasOwnProperty(i) && (s = this.getLayerBySid(parseInt(i, 10))) && s.loadFromJSON(a[i])
                }
                ,
                cr.layout = t,
                e.prototype.updateActiveEffects = function() {
                    var t, e, i;
                    for (cr.clearArray(this.active_effect_types),
                    this.shaders_preserve_opaqueness = !0,
                    t = 0,
                    e = this.effect_types.length; t < e; t++)
                        (i = this.effect_types[t]).active && (this.active_effect_types.push(i),
                        i.preservesOpaqueness || (this.shaders_preserve_opaqueness = !1))
                }
                ,
                e.prototype.getEffectByName = function(t) {
                    for (var e, i = 0, s = this.effect_types.length; i < s; i++)
                        if ((e = this.effect_types[i]).name === t)
                            return e;
                    return null
                }
                ,
                e.prototype.createInitialInstances = function() {
                    for (var t, e, i, s = 0, n = 0, r = this.initial_instances.length; s < r; s++) {
                        if (t = this.initial_instances[s],
                        e = this.runtime.types_by_index[t[1]],
                        i = !0,
                        !this.runtime.typeHasPersistBehavior(e) || this.layout.first_visit) {
                            if (!(t = this.runtime.createInstanceFromInit(t, this, !0)))
                                continue;
                            m.push(t),
                            t.type.global && (i = !1,
                            this.created_globals.push(t.uid))
                        }
                        i && (this.initial_instances[n] = this.initial_instances[s],
                        n++)
                    }
                    this.initial_instances.length = n,
                    this.runtime.ClearDeathRow(),
                    !this.runtime.glwrap && this.effect_types.length && (this.blend_mode = this.effect_fallback),
                    this.compositeOp = cr.effectToCompositeOp(this.blend_mode),
                    this.runtime.gl && cr.setGLBlend(this, this.blend_mode, this.runtime.gl),
                    this.render_list_stale = !0
                }
                ,
                e.prototype.recreateInitialObjects = function(t, e) {
                    for (var i, s, n, r, o, a, h, c = this.runtime.types_by_index, l = t.is_family, u = t.members, p = 0, d = this.initial_instances.length; p < d; ++p)
                        if (s = (n = (i = this.initial_instances[p])[0])[0],
                        n = n[1],
                        e.contains_pt(s, n)) {
                            if ((n = c[i[1]]) !== t) {
                                if (!l)
                                    continue;
                                if (u.indexOf(n) < 0)
                                    continue
                            }
                            if (r = this.runtime.createInstanceFromInit(i, this, !1),
                            this.runtime.isInOnDestroy++,
                            this.runtime.trigger(Object.getPrototypeOf(n.plugin).cnds.OnCreated, r),
                            r.is_contained)
                                for (o = 0,
                                a = r.siblings.length; o < a; o++)
                                    h = r.siblings[p],
                                    this.runtime.trigger(Object.getPrototypeOf(h.type.plugin).cnds.OnCreated, h);
                            this.runtime.isInOnDestroy--
                        }
                }
                ,
                e.prototype.removeFromInstanceList = function(t, e) {
                    var i = cr.fastIndexOf(this.instances, t);
                    i < 0 || (e && this.useRenderCells && t.rendercells && t.rendercells.right >= t.rendercells.left && (t.update_bbox(),
                    this.render_grid.update(t, t.rendercells, null),
                    t.rendercells.set(0, 0, -1, -1)),
                    i === this.instances.length - 1 ? this.instances.pop() : (cr.arrayRemove(this.instances, i),
                    this.setZIndicesStaleFrom(i)),
                    this.render_list_stale = !0)
                }
                ,
                e.prototype.appendToInstanceList = function(t, e) {
                    t.zindex = this.instances.length,
                    this.instances.push(t),
                    e && this.useRenderCells && t.rendercells && t.set_bbox_changed(),
                    this.render_list_stale = !0
                }
                ,
                e.prototype.prependToInstanceList = function(t, e) {
                    this.instances.unshift(t),
                    this.setZIndicesStaleFrom(0),
                    e && this.useRenderCells && t.rendercells && t.set_bbox_changed()
                }
                ,
                e.prototype.moveInstanceAdjacent = function(t, e, i) {
                    var s = t.get_zindex()
                      , e = e.get_zindex();
                    cr.arrayRemove(this.instances, s),
                    s < e && e--,
                    i && e++,
                    e === this.instances.length ? this.instances.push(t) : this.instances.splice(e, 0, t),
                    this.setZIndicesStaleFrom(s < e ? s : e)
                }
                ,
                e.prototype.setZIndicesStaleFrom = function(t) {
                    (-1 === this.zindices_stale_from || t < this.zindices_stale_from) && (this.zindices_stale_from = t),
                    this.zindices_stale = !0,
                    this.render_list_stale = !0
                }
                ,
                e.prototype.updateZIndices = function() {
                    if (this.zindices_stale) {
                        var t, e, i;
                        if (-1 === this.zindices_stale_from && (this.zindices_stale_from = 0),
                        this.useRenderCells)
                            for (t = this.zindices_stale_from,
                            e = this.instances.length; t < e; ++t)
                                (i = this.instances[t]).zindex = t,
                                this.render_grid.markRangeChanged(i.rendercells);
                        else
                            for (t = this.zindices_stale_from,
                            e = this.instances.length; t < e; ++t)
                                this.instances[t].zindex = t;
                        this.zindices_stale = !1,
                        this.zindices_stale_from = -1
                    }
                }
                ,
                e.prototype.getScale = function(t) {
                    return this.getNormalScale() * (this.runtime.fullscreenScalingQuality || t ? this.runtime.aspect_scale : 1)
                }
                ,
                e.prototype.getNormalScale = function() {
                    return (this.scale * this.layout.scale - 1) * this.zoomRate + 1
                }
                ,
                e.prototype.getAngle = function() {
                    return this.disableAngle ? 0 : cr.clamp_angle(this.layout.angle + this.angle)
                }
                ;
                var i = [];
                function h() {
                    return i.length ? i.pop() : []
                }
                function u(t) {
                    cr.clearArray(t),
                    i.push(t)
                }
                var c = [];
                function s(t, e) {
                    for (var i, s, n, r = 0, o = t.length; r < o - 1; r += 2)
                        (function(t, e, i) {
                            var s, n, r = 0, o = 0, a = 0, h = t.length, c = e.length;
                            for (i.length = h + c; r < h && o < c; ++a)
                                s = t[r],
                                n = e[o],
                                s.zindex < n.zindex ? (i[a] = s,
                                ++r) : (i[a] = n,
                                ++o);
                            for (; r < h; ++r,
                            ++a)
                                i[a] = t[r];
                            for (; o < c; ++o,
                            ++a)
                                i[a] = e[o]
                        }
                        )(i = t[r], s = t[r + 1], n = h()),
                        e || (u(i),
                        u(s)),
                        c.push(n);
                    o % 2 == 1 && (e ? (i = h(),
                    cr.shallowAssignArray(i, t[o - 1]),
                    c.push(i)) : c.push(t[o - 1])),
                    cr.shallowAssignArray(t, c),
                    cr.clearArray(c)
                }
                var n = [];
                e.prototype.getRenderCellInstancesToDraw = function() {
                    if (this.updateZIndices(),
                    this.render_grid.queryRange(this.viewLeft, this.viewTop, this.viewRight, this.viewBottom, n),
                    !n.length)
                        return h();
                    if (1 === n.length) {
                        var t = h();
                        return cr.shallowAssignArray(t, n[0]),
                        cr.clearArray(n),
                        t
                    }
                    t = function(t) {
                        for (var e = !0; 1 < t.length; )
                            s(t, e),
                            e = !1;
                        return t[0]
                    }(n);
                    return cr.clearArray(n),
                    t
                }
                ,
                e.prototype.draw = function(t) {
                    this.render_offscreen = this.forceOwnTexture || 1 !== this.opacity || 0 !== this.blend_mode;
                    var e = this.runtime.canvas
                      , i = t
                      , s = !1;
                    this.render_offscreen && (this.runtime.layer_canvas || (this.runtime.layer_canvas = document.createElement("canvas"),
                    (e = this.runtime.layer_canvas).width = this.runtime.draw_width,
                    e.height = this.runtime.draw_height,
                    this.runtime.layer_ctx = e.getContext("2d"),
                    s = !0),
                    e = this.runtime.layer_canvas,
                    i = this.runtime.layer_ctx,
                    e.width !== this.runtime.draw_width && (e.width = this.runtime.draw_width,
                    s = !0),
                    e.height !== this.runtime.draw_height && (e.height = this.runtime.draw_height,
                    s = !0),
                    s && this.runtime.setCtxImageSmoothingEnabled(i, this.runtime.linearSampling),
                    this.transparent && i.clearRect(0, 0, this.runtime.draw_width, this.runtime.draw_height)),
                    i.globalAlpha = 1,
                    i.globalCompositeOperation = "source-over",
                    this.transparent || (i.fillStyle = "rgb(" + this.background_color[0] + "," + this.background_color[1] + "," + this.background_color[2] + ")",
                    i.fillRect(0, 0, this.runtime.draw_width, this.runtime.draw_height)),
                    i.save(),
                    this.disableAngle = !0;
                    var n = this.canvasToLayer(0, 0, !0, !0)
                      , r = this.canvasToLayer(0, 0, !1, !0);
                    this.disableAngle = !1,
                    this.runtime.pixel_rounding && (n = Math.round(n),
                    r = Math.round(r)),
                    this.rotateViewport(n, r, i);
                    var o, s = this.getScale();
                    i.scale(s, s),
                    i.translate(-n, -r),
                    this.useRenderCells ? (this.cur_render_cells.left = this.render_grid.XToCell(this.viewLeft),
                    this.cur_render_cells.top = this.render_grid.YToCell(this.viewTop),
                    this.cur_render_cells.right = this.render_grid.XToCell(this.viewRight),
                    this.cur_render_cells.bottom = this.render_grid.YToCell(this.viewBottom),
                    this.render_list_stale || !this.cur_render_cells.equals(this.last_render_cells) ? (u(this.last_render_list),
                    o = this.getRenderCellInstancesToDraw(),
                    this.render_list_stale = !1,
                    this.last_render_cells.copy(this.cur_render_cells)) : o = this.last_render_list) : o = this.instances;
                    for (var a, h = null, c = 0, l = o.length; c < l; ++c)
                        (a = o[c]) !== h && (this.drawInstance(a, i),
                        h = a);
                    this.useRenderCells && (this.last_render_list = o),
                    i.restore(),
                    this.render_offscreen && (t.globalCompositeOperation = this.compositeOp,
                    t.globalAlpha = this.opacity,
                    t.drawImage(e, 0, 0))
                }
                ,
                e.prototype.drawInstance = function(t, e) {
                    var i;
                    t.visible && 0 !== t.width && 0 !== t.height && (t.update_bbox(),
                    (i = t.bbox).right < this.viewLeft || i.bottom < this.viewTop || i.left > this.viewRight || i.top > this.viewBottom || (e.globalCompositeOperation = t.compositeOp,
                    t.draw(e)))
                }
                ,
                e.prototype.updateViewport = function(t) {
                    this.disableAngle = !0;
                    var e = this.canvasToLayer(0, 0, !0, !0)
                      , i = this.canvasToLayer(0, 0, !1, !0);
                    this.disableAngle = !1,
                    this.runtime.pixel_rounding && (e = Math.round(e),
                    i = Math.round(i)),
                    this.rotateViewport(e, i, t)
                }
                ,
                e.prototype.rotateViewport = function(t, e, i) {
                    var s = this.getScale();
                    this.viewLeft = t,
                    this.viewTop = e,
                    this.viewRight = t + this.runtime.draw_width * (1 / s),
                    this.viewBottom = e + this.runtime.draw_height * (1 / s),
                    this.viewLeft > this.viewRight && (n = this.viewLeft,
                    this.viewLeft = this.viewRight,
                    this.viewRight = n),
                    this.viewTop > this.viewBottom && (n = this.viewTop,
                    this.viewTop = this.viewBottom,
                    this.viewBottom = n);
                    var n = this.getAngle();
                    0 !== n && (i && (i.translate(this.runtime.draw_width / 2, this.runtime.draw_height / 2),
                    i.rotate(-n),
                    i.translate(this.runtime.draw_width / -2, this.runtime.draw_height / -2)),
                    this.tmprect.set(this.viewLeft, this.viewTop, this.viewRight, this.viewBottom),
                    this.tmprect.offset((this.viewLeft + this.viewRight) / -2, (this.viewTop + this.viewBottom) / -2),
                    this.tmpquad.set_from_rotated_rect(this.tmprect, n),
                    this.tmpquad.bounding_box(this.tmprect),
                    this.tmprect.offset((this.viewLeft + this.viewRight) / 2, (this.viewTop + this.viewBottom) / 2),
                    this.viewLeft = this.tmprect.left,
                    this.viewTop = this.tmprect.top,
                    this.viewRight = this.tmprect.right,
                    this.viewBottom = this.tmprect.bottom)
                }
                ,
                e.prototype.drawGL_earlyZPass = function(t) {
                    this.runtime.draw_width,
                    this.runtime.draw_height;
                    this.render_offscreen = this.forceOwnTexture,
                    this.render_offscreen && (this.runtime.layer_tex || (this.runtime.layer_tex = t.createEmptyTexture(this.runtime.draw_width, this.runtime.draw_height, this.runtime.linearSampling)),
                    this.runtime.layer_tex.c2width === this.runtime.draw_width && this.runtime.layer_tex.c2height === this.runtime.draw_height || (t.deleteTexture(this.runtime.layer_tex),
                    this.runtime.layer_tex = t.createEmptyTexture(this.runtime.draw_width, this.runtime.draw_height, this.runtime.linearSampling)),
                    t.setRenderingToTexture(this.runtime.layer_tex)),
                    this.disableAngle = !0;
                    var e = this.canvasToLayer(0, 0, !0, !0)
                      , i = this.canvasToLayer(0, 0, !1, !0);
                    this.disableAngle = !1,
                    this.runtime.pixel_rounding && (e = Math.round(e),
                    i = Math.round(i)),
                    this.rotateViewport(e, i, null);
                    var s, i = this.getScale();
                    t.resetModelView(),
                    t.scale(i, i),
                    t.rotateZ(-this.getAngle()),
                    t.translate((this.viewLeft + this.viewRight) / -2, (this.viewTop + this.viewBottom) / -2),
                    t.updateModelView(),
                    this.useRenderCells ? (this.cur_render_cells.left = this.render_grid.XToCell(this.viewLeft),
                    this.cur_render_cells.top = this.render_grid.YToCell(this.viewTop),
                    this.cur_render_cells.right = this.render_grid.XToCell(this.viewRight),
                    this.cur_render_cells.bottom = this.render_grid.YToCell(this.viewBottom),
                    this.render_list_stale || !this.cur_render_cells.equals(this.last_render_cells) ? (u(this.last_render_list),
                    s = this.getRenderCellInstancesToDraw(),
                    this.render_list_stale = !1,
                    this.last_render_cells.copy(this.cur_render_cells)) : s = this.last_render_list) : s = this.instances;
                    for (var n, r = null, o = s.length - 1; 0 <= o; --o)
                        (n = s[o]) !== r && (this.drawInstanceGL_earlyZPass(s[o], t),
                        r = n);
                    this.useRenderCells && (this.last_render_list = s),
                    this.transparent || (this.clear_earlyz_index = this.runtime.earlyz_index++,
                    t.setEarlyZIndex(this.clear_earlyz_index),
                    t.setColorFillMode(1, 1, 1, 1),
                    t.fullscreenQuad(),
                    t.restoreEarlyZMode())
                }
                ,
                e.prototype.drawGL = function(t) {
                    this.runtime.draw_width,
                    this.runtime.draw_height;
                    var e = 0
                      , i = 0;
                    this.render_offscreen = this.forceOwnTexture || 1 !== this.opacity || 0 < this.active_effect_types.length || 0 !== this.blend_mode,
                    this.render_offscreen && (this.runtime.layer_tex || (this.runtime.layer_tex = t.createEmptyTexture(this.runtime.draw_width, this.runtime.draw_height, this.runtime.linearSampling)),
                    this.runtime.layer_tex.c2width === this.runtime.draw_width && this.runtime.layer_tex.c2height === this.runtime.draw_height || (t.deleteTexture(this.runtime.layer_tex),
                    this.runtime.layer_tex = t.createEmptyTexture(this.runtime.draw_width, this.runtime.draw_height, this.runtime.linearSampling)),
                    t.setRenderingToTexture(this.runtime.layer_tex),
                    this.transparent && t.clear(0, 0, 0, 0)),
                    this.transparent || (this.runtime.enableFrontToBack ? (t.setEarlyZIndex(this.clear_earlyz_index),
                    t.setColorFillMode(this.background_color[0] / 255, this.background_color[1] / 255, this.background_color[2] / 255, 1),
                    t.fullscreenQuad(),
                    t.setTextureFillMode()) : t.clear(this.background_color[0] / 255, this.background_color[1] / 255, this.background_color[2] / 255, 1)),
                    this.disableAngle = !0;
                    var s = this.canvasToLayer(0, 0, !0, !0)
                      , n = this.canvasToLayer(0, 0, !1, !0);
                    this.disableAngle = !1,
                    this.runtime.pixel_rounding && (s = Math.round(s),
                    n = Math.round(n)),
                    this.rotateViewport(s, n, null);
                    var r, n = this.getScale();
                    t.resetModelView(),
                    t.scale(n, n),
                    t.rotateZ(-this.getAngle()),
                    t.translate((this.viewLeft + this.viewRight) / -2, (this.viewTop + this.viewBottom) / -2),
                    t.updateModelView(),
                    this.useRenderCells ? (this.cur_render_cells.left = this.render_grid.XToCell(this.viewLeft),
                    this.cur_render_cells.top = this.render_grid.YToCell(this.viewTop),
                    this.cur_render_cells.right = this.render_grid.XToCell(this.viewRight),
                    this.cur_render_cells.bottom = this.render_grid.YToCell(this.viewBottom),
                    this.render_list_stale || !this.cur_render_cells.equals(this.last_render_cells) ? (u(this.last_render_list),
                    r = this.getRenderCellInstancesToDraw(),
                    this.render_list_stale = !1,
                    this.last_render_cells.copy(this.cur_render_cells)) : r = this.last_render_list) : r = this.instances;
                    for (var o, a = null, h = 0, c = r.length; h < c; ++h)
                        (o = r[h]) !== a && (this.drawInstanceGL(r[h], t),
                        a = o);
                    this.useRenderCells && (this.last_render_list = r),
                    this.render_offscreen && (e = this.active_effect_types.length ? this.active_effect_types[0].shaderindex : 0,
                    i = this.active_effect_types.length ? this.active_effect_types[0].index : 0,
                    0 === this.active_effect_types.length || 1 === this.active_effect_types.length && !t.programUsesCrossSampling(e) && 1 === this.opacity ? (1 === this.active_effect_types.length ? (t.switchProgram(e),
                    t.setProgramParameters(this.layout.getRenderTarget(), 1 / this.runtime.draw_width, 1 / this.runtime.draw_height, 0, 0, 1, 1, n, this.getAngle(), this.viewLeft, this.viewTop, (this.viewLeft + this.viewRight) / 2, (this.viewTop + this.viewBottom) / 2, this.runtime.kahanTime.sum, this.effect_params[i]),
                    t.programIsAnimated(e) && (this.runtime.redraw = !0)) : t.switchProgram(0),
                    t.setRenderingToTexture(this.layout.getRenderTarget()),
                    t.setOpacity(this.opacity),
                    t.setTexture(this.runtime.layer_tex),
                    t.setBlend(this.srcBlend, this.destBlend),
                    t.resetModelView(),
                    t.updateModelView(),
                    i = this.runtime.draw_width / 2,
                    e = this.runtime.draw_height / 2,
                    t.quad(-i, e, i, e, i, -e, -i, -e),
                    t.setTexture(null)) : this.layout.renderEffectChain(t, this, null, this.layout.getRenderTarget()))
                }
                ,
                e.prototype.drawInstanceGL = function(t, e) {
                    var i;
                    t.visible && 0 !== t.width && 0 !== t.height && (t.update_bbox(),
                    (i = t.bbox).right < this.viewLeft || i.bottom < this.viewTop || i.left > this.viewRight || i.top > this.viewBottom || (e.setEarlyZIndex(t.earlyz_index),
                    t.uses_shaders ? this.drawInstanceWithShadersGL(t, e) : (e.switchProgram(0),
                    e.setBlend(t.srcBlend, t.destBlend),
                    t.drawGL(e))))
                }
                ,
                e.prototype.drawInstanceGL_earlyZPass = function(t, e) {
                    var i;
                    t.visible && 0 !== t.width && 0 !== t.height && (t.update_bbox(),
                    (i = t.bbox).right < this.viewLeft || i.bottom < this.viewTop || i.left > this.viewRight || i.top > this.viewBottom || (t.earlyz_index = this.runtime.earlyz_index++,
                    0 === t.blend_mode && 1 === t.opacity && t.shaders_preserve_opaqueness && t.drawGL_earlyZPass && (e.setEarlyZIndex(t.earlyz_index),
                    t.drawGL_earlyZPass(e))))
                }
                ,
                e.prototype.drawInstanceWithShadersGL = function(t, e) {
                    var i, s, n, r, o, a, h, c, l, u = t.active_effect_types[0].shaderindex, p = t.active_effect_types[0].index, d = this.getScale();
                    1 !== t.active_effect_types.length || e.programUsesCrossSampling(u) || e.programExtendsBox(u) || (t.angle || t.layer.getAngle()) && e.programUsesDest(u) || 1 !== t.opacity || t.type.plugin.must_predraw ? (this.layout.renderEffectChain(e, this, t, this.render_offscreen ? this.runtime.layer_tex : this.layout.getRenderTarget()),
                    e.resetModelView(),
                    e.scale(d, d),
                    e.rotateZ(-this.getAngle()),
                    e.translate((this.viewLeft + this.viewRight) / -2, (this.viewTop + this.viewBottom) / -2),
                    e.updateModelView()) : (e.switchProgram(u),
                    e.setBlend(t.srcBlend, t.destBlend),
                    e.programIsAnimated(u) && (this.runtime.redraw = !0),
                    h = a = o = r = 0,
                    e.programUsesDest(u) && (n = t.bbox,
                    i = this.layerToCanvas(n.left, n.top, !0, !0),
                    s = this.layerToCanvas(n.left, n.top, !1, !0),
                    u = this.layerToCanvas(n.right, n.bottom, !0, !0),
                    n = this.layerToCanvas(n.right, n.bottom, !1, !0),
                    r = i / windowWidth,
                    o = 1 - s / windowHeight,
                    a = u / windowWidth,
                    h = 1 - n / windowHeight),
                    l = t.curFrame && t.curFrame.texture_img ? (c = 1 / (l = t.curFrame.texture_img).width,
                    1 / l.height) : (c = 1 / t.width,
                    1 / t.height),
                    e.setProgramParameters(this.render_offscreen ? this.runtime.layer_tex : this.layout.getRenderTarget(), c, l, r, o, a, h, d, this.getAngle(), this.viewLeft, this.viewTop, (this.viewLeft + this.viewRight) / 2, (this.viewTop + this.viewBottom) / 2, this.runtime.kahanTime.sum, t.effect_params[p]),
                    t.drawGL(e))
                }
                ,
                e.prototype.canvasToLayer = function(t, e, i, s) {
                    var n = this.runtime.devicePixelRatio;
                    this.runtime.isRetina && (t *= n,
                    e *= n);
                    var r = this.runtime.parallax_x_origin
                      , o = this.runtime.parallax_y_origin
                      , a = (this.layout.scrollX - r) * this.parallaxX + r
                      , h = (this.layout.scrollY - o) * this.parallaxY + o
                      , n = a
                      , r = h
                      , o = 1 / this.getScale(!s);
                    s ? (n -= this.runtime.draw_width * o / 2,
                    r -= this.runtime.draw_height * o / 2) : (n -= this.runtime.width * o / 2,
                    r -= this.runtime.height * o / 2),
                    n += t * o,
                    r += e * o;
                    t = this.getAngle();
                    return 0 !== t && (r -= h,
                    t = (n -= a) * (e = Math.cos(t)) - r * (o = Math.sin(t)),
                    r = r * e + n * o,
                    n = t,
                    n += a,
                    r += h),
                    i ? n : r
                }
                ,
                e.prototype.layerToCanvas = function(t, e, i, s) {
                    var n = this.runtime.parallax_x_origin
                      , r = this.runtime.parallax_y_origin
                      , o = (this.layout.scrollX - n) * this.parallaxX + n
                      , a = (this.layout.scrollY - r) * this.parallaxY + r
                      , h = o
                      , c = a
                      , l = this.getAngle();
                    0 !== l && (e -= a,
                    l = (t -= o) * (n = Math.cos(-l)) - e * (r = Math.sin(-l)),
                    e = e * n + t * r,
                    t = l,
                    t += o,
                    e += a);
                    a = 1 / this.getScale(!s);
                    s ? (h -= this.runtime.draw_width * a / 2,
                    c -= this.runtime.draw_height * a / 2) : (h -= this.runtime.width * a / 2,
                    c -= this.runtime.height * a / 2),
                    h = (t - h) / a,
                    c = (e - c) / a;
                    a = this.runtime.devicePixelRatio;
                    return this.runtime.isRetina && !s && (h /= a,
                    c /= a),
                    i ? h : c
                }
                ,
                e.prototype.rotatePt = function(t, e, i) {
                    if (0 === this.getAngle())
                        return i ? t : e;
                    var s = this.layerToCanvas(t, e, !0)
                      , t = this.layerToCanvas(t, e, !1);
                    this.disableAngle = !0;
                    e = this.canvasToLayer(s, t, !0),
                    t = this.canvasToLayer(s, t, !0);
                    return this.disableAngle = !1,
                    i ? e : t
                }
                ,
                e.prototype.saveToJSON = function() {
                    for (var t, e = {
                        s: this.scale,
                        a: this.angle,
                        vl: this.viewLeft,
                        vt: this.viewTop,
                        vr: this.viewRight,
                        vb: this.viewBottom,
                        v: this.visible,
                        bc: this.background_color,
                        t: this.transparent,
                        px: this.parallaxX,
                        py: this.parallaxY,
                        o: this.opacity,
                        zr: this.zoomRate,
                        fx: [],
                        cg: this.created_globals,
                        instances: []
                    }, i = 0, s = this.effect_types.length; i < s; i++)
                        t = this.effect_types[i],
                        e.fx.push({
                            name: t.name,
                            active: t.active,
                            params: this.effect_params[t.index]
                        });
                    return e
                }
                ,
                e.prototype.loadFromJSON = function(t) {
                    var e, i;
                    this.scale = t.s,
                    this.angle = t.a,
                    this.viewLeft = t.vl,
                    this.viewTop = t.vt,
                    this.viewRight = t.vr,
                    this.viewBottom = t.vb,
                    this.visible = t.v,
                    this.background_color = t.bc,
                    this.transparent = t.t,
                    this.parallaxX = t.px,
                    this.parallaxY = t.py,
                    this.opacity = t.o,
                    this.zoomRate = t.zr,
                    this.created_globals = t.cg || [],
                    cr.shallowAssignArray(this.initial_instances, this.startup_initial_instances);
                    for (var s = new cr.ObjectSet, n = 0, r = this.created_globals.length; n < r; ++n)
                        s.add(this.created_globals[n]);
                    for (e = n = 0,
                    r = this.initial_instances.length; n < r; ++n)
                        s.contains(this.initial_instances[n][2]) || (this.initial_instances[e] = this.initial_instances[n],
                        ++e);
                    cr.truncateArray(this.initial_instances, e);
                    var o = t.fx;
                    for (n = 0,
                    r = o.length; n < r; n++)
                        (i = this.getEffectByName(o[n].name)) && (i.active = o[n].active,
                        this.effect_params[i.index] = o[n].params);
                    this.updateActiveEffects(),
                    this.instances.sort(y),
                    this.zindices_stale = !0
                }
                ,
                cr.layer = e
            }(),
            function() {
                var o = [];
                function a(t, e) {
                    return t.index - e.index
                }
                function n(t) {
                    var e, i, s, n, r;
                    for (2 === t.length ? t[0].index > t[1].index && (n = t[0],
                    t[0] = t[1],
                    t[1] = n) : 2 < t.length && t.sort(a),
                    t.length >= o.length && (o.length = t.length + 1),
                    o[t.length] || (o[t.length] = []),
                    e = 0,
                    i = (r = o[t.length]).length; e < i; e++)
                        if (function(t, e) {
                            var i, s = t.length;
                            switch (s) {
                            case 0:
                                return 1;
                            case 1:
                                return t[0] === e[0];
                            case 2:
                                return t[0] === e[0] && t[1] === e[1];
                            default:
                                for (i = 0; i < s; i++)
                                    if (t[i] !== e[i])
                                        return;
                                return 1
                            }
                        }(t, s = r[e]))
                            return s;
                    return r.push(t),
                    t
                }
                function t(t, e) {
                    this.runtime = t,
                    this.triggers = {},
                    this.fasttriggers = {},
                    this.hasRun = !1,
                    this.includes = new cr.ObjectSet,
                    this.deep_includes = [],
                    this.already_included_sheets = [],
                    this.name = e[0];
                    var i, s, n = e[1];
                    for (this.events = [],
                    i = 0,
                    s = n.length; i < s; i++)
                        this.init_event(n[i], null, this.events)
                }
                function e(t) {
                    this.type = t,
                    this.instances = [],
                    this.else_instances = [],
                    this.select_all = !0
                }
                function i(t, e, i) {
                    this.sheet = t,
                    this.parent = e,
                    this.runtime = t.runtime,
                    this.solModifiers = [],
                    this.solModifiersIncludingParents = [],
                    this.solWriterAfterCnds = !1,
                    this.group = !1,
                    this.initially_activated = !1,
                    this.toplevelevent = !1,
                    this.toplevelgroup = !1,
                    this.has_else_block = !1,
                    this.conditions = [],
                    this.actions = [],
                    this.subevents = [],
                    this.group_name = "",
                    this.group = !1,
                    this.initially_activated = !1,
                    this.group_active = !1,
                    this.contained_includes = null,
                    i[1] && (this.group_name = i[1][1].toLowerCase(),
                    this.group = !0,
                    this.initially_activated = !!i[1][0],
                    this.contained_includes = [],
                    this.group_active = this.initially_activated,
                    this.runtime.allGroups.push(this),
                    this.runtime.groups_by_name[this.group_name] = this),
                    this.orblock = i[2],
                    this.sid = i[4],
                    this.group || (this.runtime.blocksBySid[this.sid.toString()] = this);
                    var s = i[5];
                    for (h = 0,
                    c = s.length; h < c; h++) {
                        var n = new cr.condition(this,s[h]);
                        n.index = h,
                        cr.seal(n),
                        this.conditions.push(n),
                        this.addSolModifier(n.type)
                    }
                    var r = i[6];
                    for (h = 0,
                    c = r.length; h < c; h++) {
                        var o = new cr.action(this,r[h]);
                        o.index = h,
                        cr.seal(o),
                        this.actions.push(o)
                    }
                    if (8 === i.length)
                        for (var a = i[7], h = 0, c = a.length; h < c; h++)
                            this.sheet.init_event(a[h], this, this.subevents);
                    this.is_else_block = !1,
                    this.conditions.length && (this.is_else_block = null == this.conditions[0].type && this.conditions[0].func == cr.system_object.prototype.cnds.Else)
                }
                function s(t, e) {
                    var i, s, n;
                    if (t && (-1 === e.indexOf(t) && e.push(t),
                    t.is_contained))
                        for (i = 0,
                        s = t.container.length; i < s; i++)
                            t !== (n = t.container[i]) && -1 === e.indexOf(n) && e.push(n)
                }
                function r(t, e) {
                    if (this.block = t,
                    this.sheet = t.sheet,
                    this.runtime = t.runtime,
                    this.parameters = [],
                    this.results = [],
                    this.extra = {},
                    this.index = -1,
                    this.anyParamVariesPerInstance = !1,
                    this.func = this.runtime.GetObjectReference(e[1]),
                    this.trigger = 0 < e[3],
                    this.fasttrigger = 2 === e[3],
                    this.looping = e[4],
                    this.inverted = e[5],
                    this.isstatic = e[6],
                    this.sid = e[7],
                    this.runtime.cndsBySid[this.sid.toString()] = this,
                    -1 === e[0] ? (this.type = null,
                    this.run = this.run_system,
                    this.behaviortype = null,
                    this.beh_index = -1) : (this.type = this.runtime.types_by_index[e[0]],
                    this.isstatic ? this.run = this.run_static : this.run = this.run_object,
                    e[2] ? (this.behaviortype = this.type.getBehaviorByName(e[2]),
                    this.beh_index = this.type.getBehaviorIndexByName(e[2])) : (this.behaviortype = null,
                    this.beh_index = -1),
                    this.block.parent && this.block.parent.setSolWriterAfterCnds()),
                    this.fasttrigger && (this.run = this.run_true),
                    10 === e.length) {
                        for (var i = e[9], s = 0, n = i.length; s < n; s++) {
                            var r = new cr.parameter(this,i[s]);
                            cr.seal(r),
                            this.parameters.push(r)
                        }
                        this.results.length = i.length
                    }
                }
                function h(t, e) {
                    if (this.block = t,
                    this.sheet = t.sheet,
                    this.runtime = t.runtime,
                    this.parameters = [],
                    this.results = [],
                    this.extra = {},
                    this.index = -1,
                    this.anyParamVariesPerInstance = !1,
                    this.func = this.runtime.GetObjectReference(e[1]),
                    -1 === e[0] ? (this.type = null,
                    this.run = this.run_system,
                    this.behaviortype = null,
                    this.beh_index = -1) : (this.type = this.runtime.types_by_index[e[0]],
                    this.run = this.run_object,
                    e[2] ? (this.behaviortype = this.type.getBehaviorByName(e[2]),
                    this.beh_index = this.type.getBehaviorIndexByName(e[2])) : (this.behaviortype = null,
                    this.beh_index = -1)),
                    this.sid = e[3],
                    this.runtime.actsBySid[this.sid.toString()] = this,
                    6 === e.length) {
                        for (var i = e[5], s = 0, n = i.length; s < n; s++) {
                            var r = new cr.parameter(this,i[s]);
                            cr.seal(r),
                            this.parameters.push(r)
                        }
                        this.results.length = i.length
                    }
                }
                t.prototype.toString = function() {
                    return this.name
                }
                ,
                t.prototype.init_event = function(t, e, i) {
                    switch (t[0]) {
                    case 0:
                        var s, n, r = new cr.eventblock(this,e,t);
                        if (cr.seal(r),
                        r.orblock)
                            for (i.push(r),
                            s = 0,
                            n = r.conditions.length; s < n; s++)
                                r.conditions[s].trigger && this.init_trigger(r, s);
                        else
                            r.is_trigger() ? this.init_trigger(r, 0) : i.push(r);
                        break;
                    case 1:
                        var o = new cr.eventvariable(this,e,t);
                        cr.seal(o),
                        i.push(o);
                        break;
                    case 2:
                        o = new cr.eventinclude(this,e,t);
                        cr.seal(o),
                        i.push(o)
                    }
                }
                ,
                t.prototype.postInit = function() {
                    for (var t = 0, e = this.events.length; t < e; t++)
                        this.events[t].postInit(t < e - 1 && this.events[t + 1].is_else_block)
                }
                ,
                t.prototype.updateDeepIncludes = function() {
                    cr.clearArray(this.deep_includes),
                    cr.clearArray(this.already_included_sheets),
                    this.addDeepIncludes(this),
                    cr.clearArray(this.already_included_sheets)
                }
                ,
                t.prototype.addDeepIncludes = function(t) {
                    for (var e, i, s = t.deep_includes, n = t.already_included_sheets, r = this.includes.valuesRef(), o = 0, a = r.length; o < a; ++o)
                        i = (e = r[o]).include_sheet,
                        !e.isActive() || t === i || -1 < n.indexOf(i) || (n.push(i),
                        i.addDeepIncludes(t),
                        s.push(i))
                }
                ,
                t.prototype.run = function(t) {
                    var e, i;
                    for (this.runtime.resuming_breakpoint || (this.hasRun = !0,
                    t || (this.runtime.isRunningEvents = !0)),
                    e = 0,
                    i = this.events.length; e < i; e++) {
                        var s = this.events[e];
                        s.run(),
                        this.runtime.clearSol(s.solModifiers),
                        this.runtime.hasPendingInstances && this.runtime.ClearDeathRow()
                    }
                    t || (this.runtime.isRunningEvents = !1)
                }
                ,
                t.prototype.init_trigger = function(t, e) {
                    t.orblock || this.runtime.triggers_to_postinit.push(t);
                    var i = t.conditions[e]
                      , s = i.type ? i.type.name : "system"
                      , n = i.fasttrigger
                      , r = n ? this.fasttriggers : this.triggers;
                    r[s] || (r[s] = []);
                    var o = r[s]
                      , a = i.func;
                    if (n) {
                        if (i.parameters.length) {
                            var h = i.parameters[0];
                            if (1 === h.type && 2 === h.expression.type) {
                                var c, l, u, p = h.expression.value.toLowerCase();
                                for (l = 0,
                                u = o.length; l < u; l++)
                                    if (o[l].method == a)
                                        return void ((c = o[l].evs)[p] ? c[p].push([t, e]) : c[p] = [[t, e]]);
                                (c = {})[p] = [[t, e]],
                                o.push({
                                    method: a,
                                    evs: c
                                })
                            }
                        }
                    } else {
                        for (l = 0,
                        u = o.length; l < u; l++)
                            if (o[l].method == a)
                                return void o[l].evs.push([t, e]);
                        h = a,
                        cr.plugins_.Sprite && h === cr.plugins_.Sprite.prototype.cnds.OnFrameChanged ? o.unshift({
                            method: a,
                            evs: [[t, e]]
                        }) : o.push({
                            method: a,
                            evs: [[t, e]]
                        })
                    }
                }
                ,
                cr.eventsheet = t,
                e.prototype.hasObjects = function() {
                    return (this.select_all ? this.type : this).instances.length
                }
                ,
                e.prototype.getObjects = function() {
                    return (this.select_all ? this.type : this).instances
                }
                ,
                e.prototype.pick_one = function(t) {
                    var e;
                    t && (t.runtime.getCurrentEventStack().current_event.orblock ? (this.select_all && (cr.clearArray(this.instances),
                    cr.shallowAssignArray(this.else_instances, t.type.instances),
                    this.select_all = !1),
                    -1 !== (e = this.else_instances.indexOf(t)) && (this.instances.push(this.else_instances[e]),
                    this.else_instances.splice(e, 1))) : (this.select_all = !1,
                    cr.clearArray(this.instances),
                    this.instances[0] = t))
                }
                ,
                cr.selection = e,
                window._c2hh_ = "6A19FFAE7F62FE8813F3700E41734FD8D2C6DB17",
                i.prototype.postInit = function(t) {
                    var e, i, s = this.parent;
                    if (this.group)
                        for (this.toplevelgroup = !0; s; ) {
                            if (!s.group) {
                                this.toplevelgroup = !1;
                                break
                            }
                            s = s.parent
                        }
                    for (this.toplevelevent = !this.is_trigger() && (!this.parent || this.parent.group && this.parent.toplevelgroup),
                    this.has_else_block = !!t,
                    this.solModifiersIncludingParents = this.solModifiers.slice(0),
                    s = this.parent; s; ) {
                        for (e = 0,
                        i = s.solModifiers.length; e < i; e++)
                            this.addParentSolModifier(s.solModifiers[e]);
                        s = s.parent
                    }
                    for (this.solModifiers = n(this.solModifiers),
                    this.solModifiersIncludingParents = n(this.solModifiersIncludingParents),
                    e = 0,
                    i = this.conditions.length; e < i; e++)
                        this.conditions[e].postInit();
                    for (e = 0,
                    i = this.actions.length; e < i; e++)
                        this.actions[e].postInit();
                    for (e = 0,
                    i = this.subevents.length; e < i; e++)
                        this.subevents[e].postInit(e < i - 1 && this.subevents[e + 1].is_else_block)
                }
                ,
                i.prototype.setGroupActive = function(t) {
                    if (this.group_active !== !!t) {
                        var e, i;
                        for (this.group_active = !!t,
                        e = 0,
                        i = this.contained_includes.length; e < i; ++e)
                            this.contained_includes[e].updateActive();
                        0 < i && this.runtime.running_layout.event_sheet && this.runtime.running_layout.event_sheet.updateDeepIncludes()
                    }
                }
                ,
                i.prototype.addSolModifier = function(t) {
                    s(t, this.solModifiers)
                }
                ,
                i.prototype.addParentSolModifier = function(t) {
                    s(t, this.solModifiersIncludingParents)
                }
                ,
                i.prototype.setSolWriterAfterCnds = function() {
                    this.solWriterAfterCnds = !0,
                    this.parent && this.parent.setSolWriterAfterCnds()
                }
                ,
                i.prototype.is_trigger = function() {
                    return !!this.conditions.length && this.conditions[0].trigger
                }
                ,
                i.prototype.run = function() {
                    var t, e, i = !1, s = this.runtime, n = this.runtime.getCurrentEventStack(), r = (n.current_event = this).conditions;
                    if (this.is_else_block || (n.else_branch_ran = !1),
                    this.orblock) {
                        for (0 === r.length && (i = !0),
                        n.cndindex = 0,
                        t = r.length; n.cndindex < t; n.cndindex++)
                            (e = r[n.cndindex]).trigger || e.run() && (i = !0);
                        (n.last_event_true = i) && this.run_actions_and_subevents()
                    } else {
                        for (n.cndindex = 0,
                        t = r.length; n.cndindex < t; n.cndindex++)
                            if (!r[n.cndindex].run())
                                return n.last_event_true = !1,
                                void (this.toplevelevent && s.hasPendingInstances && s.ClearDeathRow());
                        n.last_event_true = !0,
                        this.run_actions_and_subevents()
                    }
                    this.end_run(n)
                }
                ,
                i.prototype.end_run = function(t) {
                    t.last_event_true && this.has_else_block && (t.else_branch_ran = !0),
                    this.toplevelevent && this.runtime.hasPendingInstances && this.runtime.ClearDeathRow()
                }
                ,
                i.prototype.run_orblocktrigger = function(t) {
                    (this.runtime.getCurrentEventStack().current_event = this).conditions[t].run() && (this.run_actions_and_subevents(),
                    this.runtime.getCurrentEventStack().last_event_true = !0)
                }
                ,
                i.prototype.run_actions_and_subevents = function() {
                    var t, e = this.runtime.getCurrentEventStack();
                    for (e.actindex = 0,
                    t = this.actions.length; e.actindex < t; e.actindex++)
                        if (this.actions[e.actindex].run())
                            return;
                    this.run_subevents()
                }
                ,
                i.prototype.resume_actions_and_subevents = function() {
                    for (var t = this.runtime.getCurrentEventStack(), e = this.actions.length; t.actindex < e; t.actindex++)
                        if (this.actions[t.actindex].run())
                            return;
                    this.run_subevents()
                }
                ,
                i.prototype.run_subevents = function() {
                    if (this.subevents.length) {
                        var t, e, i, s, n = this.subevents.length - 1;
                        if (this.runtime.pushEventStack(this),
                        this.solWriterAfterCnds)
                            for (t = 0,
                            e = this.subevents.length; t < e; t++)
                                i = this.subevents[t],
                                (s = !this.toplevelgroup || !this.group && t < n) && this.runtime.pushCopySol(i.solModifiers),
                                i.run(),
                                s ? this.runtime.popSol(i.solModifiers) : this.runtime.clearSol(i.solModifiers);
                        else
                            for (t = 0,
                            e = this.subevents.length; t < e; t++)
                                this.subevents[t].run();
                        this.runtime.popEventStack()
                    }
                }
                ,
                i.prototype.run_pretrigger = function() {
                    var t = this.runtime.getCurrentEventStack();
                    t.current_event = this;
                    var e, i = !1;
                    for (t.cndindex = 0,
                    e = this.conditions.length; t.cndindex < e; t.cndindex++)
                        if (this.conditions[t.cndindex].run())
                            i = !0;
                        else if (!this.orblock)
                            return !1;
                    return !this.orblock || i
                }
                ,
                i.prototype.retrigger = function() {
                    this.runtime.execcount++;
                    var t, e = this.runtime.getCurrentEventStack().cndindex, i = this.runtime.pushEventStack(this);
                    if (!this.orblock)
                        for (i.cndindex = e + 1,
                        t = this.conditions.length; i.cndindex < t; i.cndindex++)
                            if (!this.conditions[i.cndindex].run())
                                return this.runtime.popEventStack(),
                                !1;
                    return this.run_actions_and_subevents(),
                    this.runtime.popEventStack(),
                    !0
                }
                ,
                i.prototype.isFirstConditionOfType = function(t) {
                    var e = t.index;
                    if (0 === e)
                        return !0;
                    for (--e; 0 <= e; --e)
                        if (this.conditions[e].type === t.type)
                            return !1;
                    return !0
                }
                ,
                cr.eventblock = i,
                r.prototype.postInit = function() {
                    for (var t, e = 0, i = this.parameters.length; e < i; e++)
                        (t = this.parameters[e]).postInit(),
                        t.variesPerInstance && (this.anyParamVariesPerInstance = !0)
                }
                ,
                r.prototype.run_true = function() {
                    return !0
                }
                ,
                r.prototype.run_system = function() {
                    for (var t = 0, e = this.parameters.length; t < e; t++)
                        this.results[t] = this.parameters[t].get();
                    return cr.xor(this.func.apply(this.runtime.system, this.results), this.inverted)
                }
                ,
                r.prototype.run_static = function() {
                    for (var t = 0, e = this.parameters.length; t < e; t++)
                        this.results[t] = this.parameters[t].get();
                    var i = this.func.apply(this.behaviortype || this.type, this.results);
                    return this.type.applySolToContainer(),
                    i
                }
                ,
                r.prototype.run_object = function() {
                    var t, e, i, s, n, r, o, a, h, c = this.type, l = c.getCurrentSol(), u = this.block.orblock && !this.trigger, p = 0, d = c.is_contained, g = c.is_family, f = c.family_index, m = this.beh_index, y = -1 < m, _ = this.anyParamVariesPerInstance, v = this.parameters, b = this.results, w = this.inverted, x = this.func;
                    if (_)
                        for (t = 0,
                        i = v.length; t < i; ++t)
                            (s = v[t]).variesPerInstance || (b[t] = s.get(0));
                    else
                        for (t = 0,
                        i = v.length; t < i; ++t)
                            b[t] = v[t].get(0);
                    if (l.select_all) {
                        for (cr.clearArray(l.instances),
                        cr.clearArray(l.else_instances),
                        O = 0,
                        k = (S = c.instances).length; O < k; ++O) {
                            if (r = S[O],
                            _)
                                for (t = 0,
                                i = v.length; t < i; ++t)
                                    (s = v[t]).variesPerInstance && (b[t] = s.get(O));
                            n = y ? (p = 0,
                            g && (p = r.type.family_beh_map[f]),
                            x.apply(r.behavior_insts[m + p], b)) : x.apply(r, b),
                            cr.xor(n, w) ? l.instances.push(r) : u && l.else_instances.push(r)
                        }
                        return c.finish && c.finish(!0),
                        l.select_all = !1,
                        c.applySolToContainer(),
                        l.hasObjects()
                    }
                    e = 0;
                    for (var S, T = u && !this.block.isFirstConditionOfType(this), C = !1, O = 0, k = (S = T ? l.else_instances : l.instances).length; O < k; ++O) {
                        if (r = S[O],
                        _)
                            for (t = 0,
                            i = v.length; t < i; ++t)
                                (s = v[t]).variesPerInstance && (b[t] = s.get(O));
                        if (n = y ? (p = 0,
                        g && (p = r.type.family_beh_map[f]),
                        x.apply(r.behavior_insts[m + p], b)) : x.apply(r, b),
                        cr.xor(n, w))
                            if (C = !0,
                            T) {
                                if (l.instances.push(r),
                                d)
                                    for (t = 0,
                                    i = r.siblings.length; t < i; t++)
                                        (o = r.siblings[t]).type.getCurrentSol().instances.push(o)
                            } else {
                                if (S[e] = r,
                                d)
                                    for (t = 0,
                                    i = r.siblings.length; t < i; t++)
                                        (o = r.siblings[t]).type.getCurrentSol().instances[e] = o;
                                e++
                            }
                        else if (T) {
                            if (S[e] = r,
                            d)
                                for (t = 0,
                                i = r.siblings.length; t < i; t++)
                                    (o = r.siblings[t]).type.getCurrentSol().else_instances[e] = o;
                            e++
                        } else if (u && (l.else_instances.push(r),
                        d))
                            for (t = 0,
                            i = r.siblings.length; t < i; t++)
                                (o = r.siblings[t]).type.getCurrentSol().else_instances.push(o)
                    }
                    if (cr.truncateArray(S, e),
                    d)
                        for (O = 0,
                        k = (h = c.container).length; O < k; O++)
                            a = h[O].getCurrentSol(),
                            T ? cr.truncateArray(a.else_instances, e) : cr.truncateArray(a.instances, e);
                    var A = C;
                    if (T && !C)
                        for (O = 0,
                        k = l.instances.length; O < k; O++) {
                            if (r = l.instances[O],
                            _)
                                for (t = 0,
                                i = v.length; t < i; t++)
                                    (s = v[t]).variesPerInstance && (b[t] = s.get(O));
                            if (n = y ? x.apply(r.behavior_insts[m], b) : x.apply(r, b),
                            cr.xor(n, w)) {
                                C = !0;
                                break
                            }
                        }
                    return c.finish && c.finish(A || u),
                    u ? C : l.hasObjects()
                }
                ,
                cr.condition = r,
                h.prototype.postInit = function() {
                    for (var t, e = 0, i = this.parameters.length; e < i; e++)
                        (t = this.parameters[e]).postInit(),
                        t.variesPerInstance && (this.anyParamVariesPerInstance = !0)
                }
                ,
                h.prototype.run_system = function() {
                    for (var t = this.runtime, e = this.parameters, i = this.results, s = 0, n = e.length; s < n; ++s)
                        i[s] = e[s].get();
                    return this.func.apply(t.system, i)
                }
                ,
                h.prototype.run_object = function() {
                    var t, e, i, s, n, r, o, a = this.type, h = this.beh_index, c = a.family_index, l = this.anyParamVariesPerInstance, u = this.parameters, p = this.results, d = this.func, g = a.getCurrentSol().getObjects(), f = a.is_family, m = -1 < h;
                    if (l)
                        for (e = 0,
                        s = u.length; e < s; ++e)
                            (n = u[e]).variesPerInstance || (p[e] = n.get(0));
                    else
                        for (e = 0,
                        s = u.length; e < s; ++e)
                            p[e] = u[e].get(0);
                    for (t = 0,
                    i = g.length; t < i; ++t) {
                        if (r = g[t],
                        l)
                            for (e = 0,
                            s = u.length; e < s; ++e)
                                (n = u[e]).variesPerInstance && (p[e] = n.get(t));
                        m ? (o = 0,
                        f && (o = r.type.family_beh_map[c]),
                        d.apply(r.behavior_insts[h + o], p)) : d.apply(r, p)
                    }
                    return !1
                }
                ,
                cr.action = h;
                var c = []
                  , l = -1;
                function u() {
                    return l++,
                    c.length === l && c.push(new cr.expvalue),
                    c[l]
                }
                function p() {
                    l--
                }
                function d(t, e) {
                    var i, s, n;
                    switch (this.owner = t,
                    this.block = t.block,
                    this.sheet = t.sheet,
                    this.runtime = t.runtime,
                    this.type = e[0],
                    this.expression = null,
                    this.solindex = 0,
                    this.get = null,
                    this.combosel = 0,
                    this.layout = null,
                    this.key = 0,
                    this.object = null,
                    this.index = 0,
                    this.varname = null,
                    this.eventvar = null,
                    this.fileinfo = null,
                    this.subparams = null,
                    this.variadicret = null,
                    this.subparams = null,
                    this.variadicret = null,
                    this.variesPerInstance = !1,
                    e[0]) {
                    case 0:
                    case 7:
                        this.expression = new cr.expNode(this,e[1]),
                        this.solindex = 0,
                        this.get = this.get_exp;
                        break;
                    case 1:
                        this.expression = new cr.expNode(this,e[1]),
                        this.solindex = 0,
                        this.get = this.get_exp_str;
                        break;
                    case 5:
                        this.expression = new cr.expNode(this,e[1]),
                        this.solindex = 0,
                        this.get = this.get_layer;
                        break;
                    case 3:
                    case 8:
                        this.combosel = e[1],
                        this.get = this.get_combosel;
                        break;
                    case 6:
                        this.layout = this.runtime.layouts[e[1]],
                        this.get = this.get_layout;
                        break;
                    case 9:
                        this.key = e[1],
                        this.get = this.get_key;
                        break;
                    case 4:
                        this.object = this.runtime.types_by_index[e[1]],
                        this.get = this.get_object,
                        this.block.addSolModifier(this.object),
                        this.owner instanceof cr.action ? this.block.setSolWriterAfterCnds() : this.block.parent && this.block.parent.setSolWriterAfterCnds();
                        break;
                    case 10:
                        this.index = e[1],
                        t.type && t.type.is_family ? (this.get = this.get_familyvar,
                        this.variesPerInstance = !0) : this.get = this.get_instvar;
                        break;
                    case 11:
                        this.varname = e[1],
                        this.eventvar = null,
                        this.get = this.get_eventvar;
                        break;
                    case 2:
                    case 12:
                        this.fileinfo = e[1],
                        this.get = this.get_audiofile;
                        break;
                    case 13:
                        for (this.get = this.get_variadic,
                        this.subparams = [],
                        this.variadicret = [],
                        i = 1,
                        s = e.length; i < s; i++)
                            n = new cr.parameter(this.owner,e[i]),
                            cr.seal(n),
                            this.subparams.push(n),
                            this.variadicret.push(0)
                    }
                }
                function g(t, e, i) {
                    this.sheet = t,
                    this.parent = e,
                    this.runtime = t.runtime,
                    this.solModifiers = [],
                    this.name = i[1],
                    this.vartype = i[2],
                    this.initial = i[3],
                    this.is_static = !!i[4],
                    this.is_constant = !!i[5],
                    this.sid = i[6],
                    (this.runtime.varsBySid[this.sid.toString()] = this).data = this.initial,
                    this.parent ? (this.is_static || this.is_constant ? this.localIndex = -1 : this.localIndex = this.runtime.stackLocalCount++,
                    this.runtime.all_local_vars.push(this)) : (this.localIndex = -1,
                    this.runtime.all_global_vars.push(this))
                }
                function f(t, e, i) {
                    this.sheet = t,
                    this.parent = e,
                    this.runtime = t.runtime,
                    this.solModifiers = [],
                    this.include_sheet = null,
                    this.include_sheet_name = i[1],
                    this.active = !0
                }
                function m() {
                    this.temp_parents_arr = [],
                    this.reset(null),
                    cr.seal(this)
                }
                d.prototype.postInit = function() {
                    var t, e;
                    if (11 === this.type)
                        this.eventvar = this.runtime.getEventVariableByName(this.varname, this.block.parent);
                    else if (13 === this.type)
                        for (t = 0,
                        e = this.subparams.length; t < e; t++)
                            this.subparams[t].postInit();
                    this.expression && this.expression.postInit()
                }
                ,
                d.prototype.maybeVaryForType = function(t) {
                    this.variesPerInstance || t && (t.plugin.singleglobal || (this.variesPerInstance = !0))
                }
                ,
                d.prototype.setVaries = function() {
                    this.variesPerInstance = !0
                }
                ,
                d.prototype.get_exp = function(t) {
                    this.solindex = t || 0;
                    t = u();
                    return this.expression.get(t),
                    p(),
                    t.data
                }
                ,
                d.prototype.get_exp_str = function(t) {
                    this.solindex = t || 0;
                    t = u();
                    return this.expression.get(t),
                    p(),
                    cr.is_string(t.data) ? t.data : ""
                }
                ,
                d.prototype.get_object = function() {
                    return this.object
                }
                ,
                d.prototype.get_combosel = function() {
                    return this.combosel
                }
                ,
                d.prototype.get_layer = function(t) {
                    this.solindex = t || 0;
                    t = u();
                    return this.expression.get(t),
                    p(),
                    t.is_number() ? this.runtime.getLayerByNumber(t.data) : this.runtime.getLayerByName(t.data)
                }
                ,
                d.prototype.get_layout = function() {
                    return this.layout
                }
                ,
                d.prototype.get_key = function() {
                    return this.key
                }
                ,
                d.prototype.get_instvar = function() {
                    return this.index
                }
                ,
                d.prototype.get_familyvar = function(t) {
                    var e = t || 0
                      , i = this.owner.type
                      , s = null
                      , n = i.getCurrentSol()
                      , t = n.getObjects();
                    if (t.length)
                        s = t[e % t.length].type;
                    else if (n.else_instances.length)
                        s = n.else_instances[e % n.else_instances.length].type;
                    else {
                        if (!i.instances.length)
                            return 0;
                        s = i.instances[e % i.instances.length].type
                    }
                    return this.index + s.family_var_map[i.family_index]
                }
                ,
                d.prototype.get_eventvar = function() {
                    return this.eventvar
                }
                ,
                d.prototype.get_audiofile = function() {
                    return this.fileinfo
                }
                ,
                d.prototype.get_variadic = function() {
                    for (var t = 0, e = this.subparams.length; t < e; t++)
                        this.variadicret[t] = this.subparams[t].get();
                    return this.variadicret
                }
                ,
                cr.parameter = d,
                g.prototype.postInit = function() {
                    this.solModifiers = n(this.solModifiers)
                }
                ,
                g.prototype.setValue = function(t) {
                    var e = this.runtime.getCurrentLocalVarStack();
                    this.parent && !this.is_static && e ? (this.localIndex >= e.length && (e.length = this.localIndex + 1),
                    e[this.localIndex] = t) : this.data = t
                }
                ,
                g.prototype.getValue = function() {
                    var t = this.runtime.getCurrentLocalVarStack();
                    return !this.parent || this.is_static || !t || this.is_constant ? this.data : this.localIndex >= t.length || void 0 === t[this.localIndex] ? this.initial : t[this.localIndex]
                }
                ,
                g.prototype.run = function() {
                    !this.parent || this.is_static || this.is_constant || this.setValue(this.initial)
                }
                ,
                cr.eventvariable = g,
                f.prototype.toString = function() {
                    return "include:" + this.include_sheet.toString()
                }
                ,
                f.prototype.postInit = function() {
                    this.include_sheet = this.runtime.eventsheets[this.include_sheet_name],
                    this.sheet.includes.add(this),
                    this.solModifiers = n(this.solModifiers);
                    for (var t = this.parent; t; )
                        t.group && t.contained_includes.push(this),
                        t = t.parent;
                    this.updateActive()
                }
                ,
                f.prototype.run = function() {
                    this.parent && this.runtime.pushCleanSol(this.runtime.types_by_index),
                    this.include_sheet.hasRun || this.include_sheet.run(!0),
                    this.parent && this.runtime.popSol(this.runtime.types_by_index)
                }
                ,
                f.prototype.updateActive = function() {
                    for (var t = this.parent; t; ) {
                        if (t.group && !t.group_active)
                            return void (this.active = !1);
                        t = t.parent
                    }
                    this.active = !0
                }
                ,
                f.prototype.isActive = function() {
                    return this.active
                }
                ,
                cr.eventinclude = f,
                m.prototype.reset = function(t) {
                    this.current_event = t,
                    this.cndindex = 0,
                    this.actindex = 0,
                    cr.clearArray(this.temp_parents_arr),
                    this.last_event_true = !1,
                    this.else_branch_ran = !1,
                    this.any_true_state = !1
                }
                ,
                m.prototype.isModifierAfterCnds = function() {
                    return !!this.current_event.solWriterAfterCnds || this.cndindex < this.current_event.conditions.length - 1 && !!this.current_event.solModifiers.length
                }
                ,
                cr.eventStackFrame = m
            }(),
            function() {
                function t(t, e) {
                    this.owner = t,
                    this.runtime = t.runtime,
                    this.type = e[0],
                    this.get = [this.eval_int, this.eval_float, this.eval_string, this.eval_unaryminus, this.eval_add, this.eval_subtract, this.eval_multiply, this.eval_divide, this.eval_mod, this.eval_power, this.eval_and, this.eval_or, this.eval_equal, this.eval_notequal, this.eval_less, this.eval_lessequal, this.eval_greater, this.eval_greaterequal, this.eval_conditional, this.eval_system_exp, this.eval_object_exp, this.eval_instvar_exp, this.eval_behavior_exp, this.eval_eventvar_exp][this.type];
                    var i = null;
                    switch (this.value = null,
                    this.first = null,
                    this.second = null,
                    this.third = null,
                    this.func = null,
                    this.results = null,
                    this.parameters = null,
                    this.object_type = null,
                    this.beh_index = -1,
                    this.instance_expr = null,
                    this.varindex = -1,
                    this.behavior_type = null,
                    this.varname = null,
                    this.eventvar = null,
                    this.return_string = !1,
                    this.type) {
                    case 0:
                    case 1:
                    case 2:
                        this.value = e[1];
                        break;
                    case 3:
                        this.first = new cr.expNode(t,e[1]);
                        break;
                    case 18:
                        this.first = new cr.expNode(t,e[1]),
                        this.second = new cr.expNode(t,e[2]),
                        this.third = new cr.expNode(t,e[3]);
                        break;
                    case 19:
                        this.func = this.runtime.GetObjectReference(e[1]),
                        this.func !== cr.system_object.prototype.exps.random && this.func !== cr.system_object.prototype.exps.choose || this.owner.setVaries(),
                        this.results = [],
                        this.parameters = [],
                        3 === e.length ? (i = e[2],
                        this.results.length = i.length + 1) : this.results.length = 1;
                        break;
                    case 20:
                        this.object_type = this.runtime.types_by_index[e[1]],
                        this.beh_index = -1,
                        this.func = this.runtime.GetObjectReference(e[2]),
                        this.return_string = e[3],
                        cr.plugins_.Function && this.func === cr.plugins_.Function.prototype.exps.Call && this.owner.setVaries(),
                        e[4] ? this.instance_expr = new cr.expNode(t,e[4]) : this.instance_expr = null,
                        this.results = [],
                        this.parameters = [],
                        6 === e.length ? (i = e[5],
                        this.results.length = i.length + 1) : this.results.length = 1;
                        break;
                    case 21:
                        this.object_type = this.runtime.types_by_index[e[1]],
                        this.return_string = e[2],
                        e[3] ? this.instance_expr = new cr.expNode(t,e[3]) : this.instance_expr = null,
                        this.varindex = e[4];
                        break;
                    case 22:
                        this.object_type = this.runtime.types_by_index[e[1]],
                        this.behavior_type = this.object_type.getBehaviorByName(e[2]),
                        this.beh_index = this.object_type.getBehaviorIndexByName(e[2]),
                        this.func = this.runtime.GetObjectReference(e[3]),
                        this.return_string = e[4],
                        e[5] ? this.instance_expr = new cr.expNode(t,e[5]) : this.instance_expr = null,
                        this.results = [],
                        this.parameters = [],
                        7 === e.length ? (i = e[6],
                        this.results.length = i.length + 1) : this.results.length = 1;
                        break;
                    case 23:
                        this.varname = e[1],
                        this.eventvar = null
                    }
                    if (this.owner.maybeVaryForType(this.object_type),
                    4 <= this.type && this.type <= 17 && (this.first = new cr.expNode(t,e[1]),
                    this.second = new cr.expNode(t,e[2])),
                    i)
                        for (var s = 0, n = i.length; s < n; s++)
                            this.parameters.push(new cr.expNode(t,i[s]));
                    cr.seal(this)
                }
                t.prototype.postInit = function() {
                    if (23 === this.type && (this.eventvar = this.owner.runtime.getEventVariableByName(this.varname, this.owner.block.parent)),
                    this.first && this.first.postInit(),
                    this.second && this.second.postInit(),
                    this.third && this.third.postInit(),
                    this.instance_expr && this.instance_expr.postInit(),
                    this.parameters)
                        for (var t = 0, e = this.parameters.length; t < e; t++)
                            this.parameters[t].postInit()
                }
                ;
                var e = []
                  , i = -1;
                function l() {
                    return ++i,
                    e.length === i && e.push(new cr.expvalue),
                    e[i]
                }
                function u() {
                    --i
                }
                function p(t, e, i) {
                    for (var s = 0, n = t.length; s < n; ++s)
                        t[s].get(i),
                        e[s + 1] = i.data
                }
                function s(t, e) {
                    this.type = t || cr.exptype.Integer,
                    this.data = e || 0,
                    this.object_class = null,
                    this.type == cr.exptype.Integer && (this.data = Math.floor(this.data)),
                    cr.seal(this)
                }
                t.prototype.eval_system_exp = function(t) {
                    var e = this.parameters
                      , i = this.results;
                    i[0] = t,
                    p(e, i, l()),
                    u(),
                    this.func.apply(this.runtime.system, i)
                }
                ,
                t.prototype.eval_object_exp = function(t) {
                    var e = this.object_type
                      , i = this.results
                      , s = this.parameters
                      , n = this.instance_expr
                      , r = this.func
                      , o = this.owner.solindex
                      , a = e.getCurrentSol()
                      , h = a.getObjects();
                    if (!h.length) {
                        if (!a.else_instances.length)
                            return void (this.return_string ? t.set_string("") : t.set_int(0));
                        h = a.else_instances
                    }
                    (i[0] = t).object_class = e;
                    t = l();
                    p(s, i, t),
                    n && (n.get(t),
                    t.is_number() && (o = t.data,
                    h = e.instances)),
                    u();
                    e = h.length;
                    (e <= o || o <= -e) && (o %= e),
                    o < 0 && (o += e);
                    r.apply(h[o], i)
                }
                ,
                t.prototype.eval_behavior_exp = function(t) {
                    var e = this.object_type
                      , i = this.results
                      , s = this.parameters
                      , n = this.instance_expr
                      , r = this.beh_index
                      , o = this.func
                      , a = this.owner.solindex
                      , h = e.getCurrentSol()
                      , c = h.getObjects();
                    if (!c.length) {
                        if (!h.else_instances.length)
                            return void (this.return_string ? t.set_string("") : t.set_int(0));
                        c = h.else_instances
                    }
                    (i[0] = t).object_class = e;
                    t = l();
                    p(s, i, t),
                    n && (n.get(t),
                    t.is_number() && (a = t.data,
                    c = e.instances)),
                    u();
                    t = c.length;
                    (t <= a || a <= -t) && (a %= t),
                    a < 0 && (a += t);
                    c = c[a],
                    a = 0;
                    e.is_family && (a = c.type.family_beh_map[e.family_index]);
                    o.apply(c.behavior_insts[r + a], i)
                }
                ,
                t.prototype.eval_instvar_exp = function(t) {
                    var e, i = this.instance_expr, s = this.object_type, n = this.varindex, r = this.owner.solindex, o = s.getCurrentSol(), a = o.getObjects();
                    if (!a.length) {
                        if (!o.else_instances.length)
                            return void (this.return_string ? t.set_string("") : t.set_int(0));
                        a = o.else_instances
                    }
                    if (i) {
                        o = l();
                        if (i.get(o),
                        o.is_number()) {
                            r = o.data;
                            var h = s.instances;
                            0 !== h.length && (r %= h.length) < 0 && (r += h.length);
                            var c = (e = s.getInstanceByIID(r)).instance_vars[n];
                            return cr.is_string(c) ? t.set_string(c) : t.set_float(c),
                            void u()
                        }
                        u()
                    }
                    h = a.length;
                    (h <= r || r <= -h) && (r %= h),
                    r < 0 && (r += h),
                    e = a[r];
                    r = 0;
                    s.is_family && (r = e.type.family_var_map[s.family_index]);
                    c = e.instance_vars[n + r];
                    cr.is_string(c) ? t.set_string(c) : t.set_float(c)
                }
                ,
                t.prototype.eval_int = function(t) {
                    t.type = cr.exptype.Integer,
                    t.data = this.value
                }
                ,
                t.prototype.eval_float = function(t) {
                    t.type = cr.exptype.Float,
                    t.data = this.value
                }
                ,
                t.prototype.eval_string = function(t) {
                    t.type = cr.exptype.String,
                    t.data = this.value
                }
                ,
                t.prototype.eval_unaryminus = function(t) {
                    this.first.get(t),
                    t.is_number() && (t.data = -t.data)
                }
                ,
                t.prototype.eval_add = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.is_number() && e.is_number() && (t.data += e.data,
                    e.is_float() && t.make_float()),
                    u()
                }
                ,
                t.prototype.eval_subtract = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.is_number() && e.is_number() && (t.data -= e.data,
                    e.is_float() && t.make_float()),
                    u()
                }
                ,
                t.prototype.eval_multiply = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.is_number() && e.is_number() && (t.data *= e.data,
                    e.is_float() && t.make_float()),
                    u()
                }
                ,
                t.prototype.eval_divide = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.is_number() && e.is_number() && (t.data /= e.data,
                    t.make_float()),
                    u()
                }
                ,
                t.prototype.eval_mod = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.is_number() && e.is_number() && (t.data %= e.data,
                    e.is_float() && t.make_float()),
                    u()
                }
                ,
                t.prototype.eval_power = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.is_number() && e.is_number() && (t.data = Math.pow(t.data, e.data),
                    e.is_float() && t.make_float()),
                    u()
                }
                ,
                t.prototype.eval_and = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    e.is_string() || t.is_string() ? this.eval_and_stringconcat(t, e) : this.eval_and_logical(t, e),
                    u()
                }
                ,
                t.prototype.eval_and_stringconcat = function(t, e) {
                    t.is_string() && e.is_string() ? this.eval_and_stringconcat_str_str(t, e) : this.eval_and_stringconcat_num(t, e)
                }
                ,
                t.prototype.eval_and_stringconcat_str_str = function(t, e) {
                    t.data += e.data
                }
                ,
                t.prototype.eval_and_stringconcat_num = function(t, e) {
                    t.is_string() ? t.data += (Math.round(1e10 * e.data) / 1e10).toString() : t.set_string(t.data.toString() + e.data)
                }
                ,
                t.prototype.eval_and_logical = function(t, e) {
                    t.set_int(t.data && e.data ? 1 : 0)
                }
                ,
                t.prototype.eval_or = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.is_number() && e.is_number() && (t.data || e.data ? t.set_int(1) : t.set_int(0)),
                    u()
                }
                ,
                t.prototype.eval_conditional = function(t) {
                    this.first.get(t),
                    (t.data ? this.second : this.third).get(t)
                }
                ,
                t.prototype.eval_equal = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.set_int(t.data === e.data ? 1 : 0),
                    u()
                }
                ,
                t.prototype.eval_notequal = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.set_int(t.data !== e.data ? 1 : 0),
                    u()
                }
                ,
                t.prototype.eval_less = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.set_int(t.data < e.data ? 1 : 0),
                    u()
                }
                ,
                t.prototype.eval_lessequal = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.set_int(t.data <= e.data ? 1 : 0),
                    u()
                }
                ,
                t.prototype.eval_greater = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.set_int(t.data > e.data ? 1 : 0),
                    u()
                }
                ,
                t.prototype.eval_greaterequal = function(t) {
                    this.first.get(t);
                    var e = l();
                    this.second.get(e),
                    t.set_int(t.data >= e.data ? 1 : 0),
                    u()
                }
                ,
                t.prototype.eval_eventvar_exp = function(t) {
                    var e = this.eventvar.getValue();
                    cr.is_number(e) ? t.set_float(e) : t.set_string(e)
                }
                ,
                cr.expNode = t,
                s.prototype.is_int = function() {
                    return this.type === cr.exptype.Integer
                }
                ,
                s.prototype.is_float = function() {
                    return this.type === cr.exptype.Float
                }
                ,
                s.prototype.is_number = function() {
                    return this.type === cr.exptype.Integer || this.type === cr.exptype.Float
                }
                ,
                s.prototype.is_string = function() {
                    return this.type === cr.exptype.String
                }
                ,
                s.prototype.make_int = function() {
                    this.is_int() || (this.is_float() ? this.data = Math.floor(this.data) : this.is_string() && (this.data = parseInt(this.data, 10)),
                    this.type = cr.exptype.Integer)
                }
                ,
                s.prototype.make_float = function() {
                    this.is_float() || (this.is_string() && (this.data = parseFloat(this.data)),
                    this.type = cr.exptype.Float)
                }
                ,
                s.prototype.make_string = function() {
                    this.is_string() || (this.data = this.data.toString(),
                    this.type = cr.exptype.String)
                }
                ,
                s.prototype.set_int = function(t) {
                    this.type = cr.exptype.Integer,
                    this.data = Math.floor(t)
                }
                ,
                s.prototype.set_float = function(t) {
                    this.type = cr.exptype.Float,
                    this.data = t
                }
                ,
                s.prototype.set_string = function(t) {
                    this.type = cr.exptype.String,
                    this.data = t
                }
                ,
                s.prototype.set_any = function(t) {
                    cr.is_number(t) ? (this.type = cr.exptype.Float,
                    this.data = t) : cr.is_string(t) ? (this.type = cr.exptype.String,
                    this.data = t.toString()) : (this.type = cr.exptype.Integer,
                    this.data = 0)
                }
                ,
                cr.expvalue = s,
                cr.exptype = {
                    Integer: 0,
                    Float: 1,
                    String: 2
                }
            }(),
            cr.system_object = function(t) {
                this.runtime = t,
                this.waits = []
            }
            ,
            cr.system_object.prototype.saveToJSON = function() {
                for (var t, e, i, s, n, r, o, a = {
                    waits: []
                }, h = a.waits, c = 0, l = this.waits.length; c < l; c++) {
                    for (o = {
                        t: (s = this.waits[c]).time,
                        st: s.signaltag,
                        s: s.signalled,
                        ev: s.ev.sid,
                        sm: [],
                        sols: {}
                    },
                    s.ev.actions[s.actindex] && (o.act = s.ev.actions[s.actindex].sid),
                    t = 0,
                    e = s.solModifiers.length; t < e; t++)
                        o.sm.push(s.solModifiers[t].sid);
                    for (i in s.sols)
                        if (s.sols.hasOwnProperty(i)) {
                            for (n = this.runtime.types_by_index[parseInt(i, 10)],
                            r = {
                                sa: s.sols[i].sa,
                                insts: []
                            },
                            t = 0,
                            e = s.sols[i].insts.length; t < e; t++)
                                r.insts.push(s.sols[i].insts[t].uid);
                            o.sols[n.sid.toString()] = r
                        }
                    h.push(o)
                }
                return a
            }
            ,
            cr.system_object.prototype.loadFromJSON = function(t) {
                var e, i, s, n, r, o, a, h, c, l, u, p, d, g = t.waits;
                for (cr.clearArray(this.waits),
                e = 0,
                i = g.length; e < i; e++)
                    if (o = g[e],
                    h = this.runtime.blocksBySid[o.ev.toString()]) {
                        for (c = -1,
                        s = 0,
                        n = h.actions.length; s < n; s++)
                            if (h.actions[s].sid === o.act) {
                                c = s;
                                break
                            }
                        if (-1 !== c) {
                            for ((a = {
                                sols: {},
                                solModifiers: [],
                                deleteme: !1
                            }).time = o.t,
                            a.signaltag = o.st || "",
                            a.signalled = !!o.s,
                            a.ev = h,
                            a.actindex = c,
                            s = 0,
                            n = o.sm.length; s < n; s++)
                                (l = this.runtime.getObjectTypeBySid(o.sm[s])) && a.solModifiers.push(l);
                            for (r in o.sols)
                                if (o.sols.hasOwnProperty(r) && (l = this.runtime.getObjectTypeBySid(parseInt(r, 10)))) {
                                    for (p = {
                                        sa: (u = o.sols[r]).sa,
                                        insts: []
                                    },
                                    s = 0,
                                    n = u.insts.length; s < n; s++)
                                        (d = this.runtime.getObjectByUID(u.insts[s])) && p.insts.push(d);
                                    a.sols[l.index.toString()] = p
                                }
                            this.waits.push(a)
                        }
                    }
            }
            ,
            function() {
                var t = cr.system_object.prototype;
                function e() {}
                e.prototype.EveryTick = function() {
                    return !0
                }
                ,
                e.prototype.OnLayoutStart = function() {
                    return !0
                }
                ,
                e.prototype.OnLayoutEnd = function() {
                    return !0
                }
                ,
                e.prototype.Compare = function(t, e, i) {
                    return cr.do_cmp(t, e, i)
                }
                ,
                e.prototype.CompareTime = function(t, e) {
                    var i = this.runtime.kahanTime.sum;
                    if (0 !== t)
                        return cr.do_cmp(i, t, e);
                    t = this.runtime.getCurrentCondition();
                    return !t.extra.CompareTime_executed && e <= i && (t.extra.CompareTime_executed = !0)
                }
                ,
                e.prototype.LayerVisible = function(t) {
                    return !!t && t.visible
                }
                ,
                e.prototype.LayerEmpty = function(t) {
                    return !!t && !t.instances.length
                }
                ,
                e.prototype.LayerCmpOpacity = function(t, e, i) {
                    return !!t && cr.do_cmp(100 * t.opacity, e, i)
                }
                ,
                e.prototype.Repeat = function(t) {
                    var e, i = this.runtime.getCurrentEventStack(), s = i.current_event, i = i.isModifierAfterCnds(), n = this.runtime.pushLoopStack();
                    if (i)
                        for (e = 0; e < t && !n.stopped; e++)
                            this.runtime.pushCopySol(s.solModifiers),
                            n.index = e,
                            s.retrigger(),
                            this.runtime.popSol(s.solModifiers);
                    else
                        for (e = 0; e < t && !n.stopped; e++)
                            n.index = e,
                            s.retrigger();
                    return this.runtime.popLoopStack(),
                    !1
                }
                ,
                e.prototype.While = function(t) {
                    var e, i = this.runtime.getCurrentEventStack(), s = i.current_event, i = i.isModifierAfterCnds(), n = this.runtime.pushLoopStack();
                    if (i)
                        for (e = 0; !n.stopped; e++)
                            this.runtime.pushCopySol(s.solModifiers),
                            n.index = e,
                            s.retrigger() || (n.stopped = !0),
                            this.runtime.popSol(s.solModifiers);
                    else
                        for (e = 0; !n.stopped; e++)
                            n.index = e,
                            s.retrigger() || (n.stopped = !0);
                    return this.runtime.popLoopStack(),
                    !1
                }
                ,
                e.prototype.For = function(t, e, i) {
                    var s, n = this.runtime.getCurrentEventStack(), r = n.current_event, n = n.isModifierAfterCnds(), o = this.runtime.pushLoopStack(t);
                    if (i < e)
                        if (n)
                            for (s = e; i <= s && !o.stopped; --s)
                                this.runtime.pushCopySol(r.solModifiers),
                                o.index = s,
                                r.retrigger(),
                                this.runtime.popSol(r.solModifiers);
                        else
                            for (s = e; i <= s && !o.stopped; --s)
                                o.index = s,
                                r.retrigger();
                    else if (n)
                        for (s = e; s <= i && !o.stopped; ++s)
                            this.runtime.pushCopySol(r.solModifiers),
                            o.index = s,
                            r.retrigger(),
                            this.runtime.popSol(r.solModifiers);
                    else
                        for (s = e; s <= i && !o.stopped; ++s)
                            o.index = s,
                            r.retrigger();
                    return this.runtime.popLoopStack(),
                    !1
                }
                ;
                var y = []
                  , _ = -1;
                function v(t, e) {
                    t = t.extra.c2_feo_val,
                    e = e.extra.c2_feo_val;
                    return cr.is_number(t) && cr.is_number(e) ? t - e : (t = "" + t) < (e = "" + e) ? -1 : e < t ? 1 : 0
                }
                e.prototype.ForEach = function(t) {
                    var e = t.getCurrentSol();
                    _++,
                    y.length === _ && y.push([]);
                    var i = y[_];
                    cr.shallowAssignArray(i, e.getObjects());
                    var s, n, r, o, a, h, c, l = this.runtime.getCurrentEventStack(), u = l.current_event, l = l.isModifierAfterCnds(), p = this.runtime.pushLoopStack(), d = t.is_contained;
                    if (l)
                        for (s = 0,
                        n = i.length; s < n && !p.stopped; s++) {
                            if (this.runtime.pushCopySol(u.solModifiers),
                            a = i[s],
                            (e = t.getCurrentSol()).select_all = !1,
                            cr.clearArray(e.instances),
                            e.instances[0] = a,
                            d)
                                for (r = 0,
                                o = a.siblings.length; r < o; r++)
                                    (c = (h = a.siblings[r]).type.getCurrentSol()).select_all = !1,
                                    cr.clearArray(c.instances),
                                    c.instances[0] = h;
                            p.index = s,
                            u.retrigger(),
                            this.runtime.popSol(u.solModifiers)
                        }
                    else
                        for (e.select_all = !1,
                        cr.clearArray(e.instances),
                        s = 0,
                        n = i.length; s < n && !p.stopped; s++) {
                            if (a = i[s],
                            e.instances[0] = a,
                            d)
                                for (r = 0,
                                o = a.siblings.length; r < o; r++)
                                    (c = (h = a.siblings[r]).type.getCurrentSol()).select_all = !1,
                                    cr.clearArray(c.instances),
                                    c.instances[0] = h;
                            p.index = s,
                            u.retrigger()
                        }
                    return cr.clearArray(i),
                    this.runtime.popLoopStack(),
                    _--,
                    !1
                }
                ,
                e.prototype.ForEachOrdered = function(t, e, i) {
                    var s = t.getCurrentSol();
                    _++,
                    y.length === _ && y.push([]);
                    var n = y[_];
                    cr.shallowAssignArray(n, s.getObjects());
                    for (var r, o, a, h, c, l = this.runtime.getCurrentEventStack(), u = l.current_event, p = this.runtime.getCurrentCondition(), l = l.isModifierAfterCnds(), d = this.runtime.pushLoopStack(), g = 0, f = n.length; g < f; g++)
                        n[g].extra.c2_feo_val = p.parameters[1].get(g);
                    n.sort(v),
                    1 === i && n.reverse();
                    var m = t.is_contained;
                    if (l)
                        for (g = 0,
                        f = n.length; g < f && !d.stopped; g++) {
                            if (this.runtime.pushCopySol(u.solModifiers),
                            a = n[g],
                            (s = t.getCurrentSol()).select_all = !1,
                            cr.clearArray(s.instances),
                            s.instances[0] = a,
                            m)
                                for (r = 0,
                                o = a.siblings.length; r < o; r++)
                                    (c = (h = a.siblings[r]).type.getCurrentSol()).select_all = !1,
                                    cr.clearArray(c.instances),
                                    c.instances[0] = h;
                            d.index = g,
                            u.retrigger(),
                            this.runtime.popSol(u.solModifiers)
                        }
                    else
                        for (s.select_all = !1,
                        cr.clearArray(s.instances),
                        g = 0,
                        f = n.length; g < f && !d.stopped; g++) {
                            if (a = n[g],
                            s.instances[0] = a,
                            m)
                                for (r = 0,
                                o = a.siblings.length; r < o; r++)
                                    (c = (h = a.siblings[r]).type.getCurrentSol()).select_all = !1,
                                    cr.clearArray(c.instances),
                                    c.instances[0] = h;
                            d.index = g,
                            u.retrigger()
                        }
                    return cr.clearArray(n),
                    this.runtime.popLoopStack(),
                    _--,
                    !1
                }
                ,
                e.prototype.PickByComparison = function(t, e, i, s) {
                    var n;
                    if (t) {
                        _++,
                        y.length === _ && y.push([]);
                        var r = y[_]
                          , o = t.getCurrentSol();
                        cr.shallowAssignArray(r, o.getObjects()),
                        o.select_all && cr.clearArray(o.else_instances);
                        for (var a = this.runtime.getCurrentCondition(), h = 0, c = 0, l = r.length; h < l; h++)
                            n = r[h],
                            r[c] = n,
                            e = a.parameters[1].get(h),
                            s = a.parameters[3].get(h),
                            cr.do_cmp(e, i, s) ? c++ : o.else_instances.push(n);
                        return cr.truncateArray(r, c),
                        o.select_all = !1,
                        cr.shallowAssignArray(o.instances, r),
                        cr.clearArray(r),
                        _--,
                        t.applySolToContainer(),
                        !!o.instances.length
                    }
                }
                ,
                e.prototype.PickByEvaluate = function(t, e) {
                    var i;
                    if (t) {
                        _++,
                        y.length === _ && y.push([]);
                        var s = y[_]
                          , n = t.getCurrentSol();
                        cr.shallowAssignArray(s, n.getObjects()),
                        n.select_all && cr.clearArray(n.else_instances);
                        for (var r = this.runtime.getCurrentCondition(), o = 0, a = 0, h = s.length; o < h; o++)
                            i = s[o],
                            s[a] = i,
                            r.parameters[1].get(o) ? a++ : n.else_instances.push(i);
                        return cr.truncateArray(s, a),
                        n.select_all = !1,
                        cr.shallowAssignArray(n.instances, s),
                        cr.clearArray(s),
                        _--,
                        t.applySolToContainer(),
                        !!n.instances.length
                    }
                }
                ,
                e.prototype.TriggerOnce = function() {
                    var t = this.runtime.getCurrentCondition().extra;
                    void 0 === t.TriggerOnce_lastTick && (t.TriggerOnce_lastTick = -1);
                    var e = t.TriggerOnce_lastTick
                      , i = this.runtime.tickcount;
                    return t.TriggerOnce_lastTick = i,
                    this.runtime.layout_first_tick || e !== i - 1
                }
                ,
                e.prototype.Every = function(t) {
                    var e = this.runtime.getCurrentCondition()
                      , i = e.extra.Every_lastTime || 0
                      , s = this.runtime.kahanTime.sum;
                    void 0 === e.extra.Every_seconds && (e.extra.Every_seconds = t);
                    var n = e.extra.Every_seconds;
                    return i + n <= s ? (e.extra.Every_lastTime = i + n,
                    s >= e.extra.Every_lastTime + .04 && (e.extra.Every_lastTime = s),
                    e.extra.Every_seconds = t,
                    !0) : (s < i - .1 && (e.extra.Every_lastTime = s),
                    !1)
                }
                ,
                e.prototype.PickNth = function(t, e) {
                    if (!t)
                        return !1;
                    var i = t.getCurrentSol()
                      , s = i.getObjects();
                    if ((e = cr.floor(e)) < 0 || e >= s.length)
                        return !1;
                    e = s[e];
                    return i.pick_one(e),
                    t.applySolToContainer(),
                    !0
                }
                ,
                e.prototype.PickRandom = function(t) {
                    if (!t)
                        return !1;
                    var e = t.getCurrentSol()
                      , i = e.getObjects()
                      , s = cr.floor(Math.random() * i.length);
                    if (s >= i.length)
                        return !1;
                    s = i[s];
                    return e.pick_one(s),
                    t.applySolToContainer(),
                    !0
                }
                ,
                e.prototype.CompareVar = function(t, e, i) {
                    return cr.do_cmp(t.getValue(), e, i)
                }
                ,
                e.prototype.IsGroupActive = function(t) {
                    t = this.runtime.groups_by_name[t.toLowerCase()];
                    return t && t.group_active
                }
                ,
                e.prototype.IsPreview = function() {
                    return "undefined" != typeof cr_is_preview
                }
                ,
                e.prototype.PickAll = function(t) {
                    return !!t && (!!t.instances.length && (t.getCurrentSol().select_all = !0,
                    t.applySolToContainer(),
                    !0))
                }
                ,
                e.prototype.IsMobile = function() {
                    return this.runtime.isMobile
                }
                ,
                e.prototype.CompareBetween = function(t, e, i) {
                    return e <= t && t <= i
                }
                ,
                e.prototype.Else = function() {
                    var t = this.runtime.getCurrentEventStack();
                    return !t.else_branch_ran && !t.last_event_true
                }
                ,
                e.prototype.OnLoadFinished = function() {
                    return !0
                }
                ,
                e.prototype.OnCanvasSnapshot = function() {
                    return !0
                }
                ,
                e.prototype.EffectsSupported = function() {
                    return !!this.runtime.glwrap
                }
                ,
                e.prototype.OnSaveComplete = function() {
                    return !0
                }
                ,
                e.prototype.OnSaveFailed = function() {
                    return !0
                }
                ,
                e.prototype.OnLoadComplete = function() {
                    return !0
                }
                ,
                e.prototype.OnLoadFailed = function() {
                    return !0
                }
                ,
                e.prototype.ObjectUIDExists = function(t) {
                    return !!this.runtime.getObjectByUID(t)
                }
                ,
                e.prototype.IsOnPlatform = function(t) {
                    var e = this.runtime;
                    switch (t) {
                    case 0:
                        return !(e.isDomFree || e.isNodeWebkit || e.isCordova || e.isWinJS || e.isWindowsPhone8 || e.isBlackberry10 || e.isAmazonWebApp);
                    case 1:
                        return e.isiOS;
                    case 2:
                        return e.isAndroid;
                    case 3:
                        return e.isWindows8App;
                    case 4:
                        return e.isWindowsPhone8;
                    case 5:
                        return e.isBlackberry10;
                    case 6:
                        return e.isTizen;
                    case 7:
                        return e.isCocoonJs;
                    case 8:
                        return e.isCordova;
                    case 9:
                        return e.isArcade;
                    case 10:
                        return e.isNodeWebkit;
                    case 11:
                        return e.isCrosswalk;
                    case 12:
                        return e.isAmazonWebApp;
                    case 13:
                        return e.isWindows10;
                    default:
                        return !1
                    }
                }
                ;
                var i = null
                  , s = ""
                  , n = "";
                function r(t, e) {
                    return i && t === s && e === n || (i = new RegExp(t,e),
                    s = t,
                    n = e),
                    i.lastIndex = 0,
                    i
                }
                e.prototype.RegexTest = function(t, e, i) {
                    return r(e, i).test(t)
                }
                ;
                var l = [];
                function o() {}
                e.prototype.PickOverlappingPoint = function(t, e, i) {
                    if (!t)
                        return !1;
                    var s, n, r, o = t.getCurrentSol(), a = o.getObjects(), h = this.runtime.getCurrentEventStack().current_event.orblock, c = this.runtime.getCurrentCondition();
                    for (o.select_all ? (cr.shallowAssignArray(l, a),
                    cr.clearArray(o.else_instances),
                    o.select_all = !1,
                    cr.clearArray(o.instances)) : h ? (cr.shallowAssignArray(l, o.else_instances),
                    cr.clearArray(o.else_instances)) : (cr.shallowAssignArray(l, a),
                    cr.clearArray(o.instances)),
                    s = 0,
                    n = l.length; s < n; ++s)
                        (r = l[s]).update_bbox(),
                        (cr.xor(r.contains_pt(e, i), c.inverted) ? o.instances : o.else_instances).push(r);
                    return t.applySolToContainer(),
                    cr.xor(!!o.instances.length, c.inverted)
                }
                ,
                e.prototype.IsNaN = function(t) {
                    return !!isNaN(t)
                }
                ,
                e.prototype.AngleWithin = function(t, e, i) {
                    return cr.angleDiff(cr.to_radians(t), cr.to_radians(i)) <= cr.to_radians(e)
                }
                ,
                e.prototype.IsClockwiseFrom = function(t, e) {
                    return cr.angleClockwise(cr.to_radians(t), cr.to_radians(e))
                }
                ,
                e.prototype.IsBetweenAngles = function(t, e, i) {
                    t = cr.to_clamped_radians(t),
                    e = cr.to_clamped_radians(e),
                    i = cr.to_clamped_radians(i);
                    return !cr.angleClockwise(i, e) ? !(!cr.angleClockwise(t, e) && cr.angleClockwise(t, i)) : cr.angleClockwise(t, e) && !cr.angleClockwise(t, i)
                }
                ,
                e.prototype.IsValueType = function(t, e) {
                    return "number" == typeof t ? 0 === e : 1 === e
                }
                ,
                t.cnds = new e,
                o.prototype.GoToLayout = function(t) {
                    this.runtime.isloading || this.runtime.changelayout || (this.runtime.changelayout = t)
                }
                ,
                o.prototype.NextPrevLayout = function(t) {
                    var e;
                    this.runtime.isloading || this.runtime.changelayout || (e = this.runtime.layouts_by_index.indexOf(this.runtime.running_layout),
                    t && 0 === e || !t && e === this.runtime.layouts_by_index.length - 1 || (t = this.runtime.layouts_by_index[e + (t ? -1 : 1)],
                    this.runtime.changelayout = t))
                }
                ,
                o.prototype.CreateObject = function(t, e, i, s) {
                    if (e && t) {
                        var n, r, o, a = this.runtime.createInstance(t, e, i, s);
                        if (a) {
                            if (this.runtime.isInOnDestroy++,
                            this.runtime.trigger(Object.getPrototypeOf(t.plugin).cnds.OnCreated, a),
                            a.is_contained)
                                for (n = 0,
                                r = a.siblings.length; n < r; n++)
                                    o = a.siblings[n],
                                    this.runtime.trigger(Object.getPrototypeOf(o.type.plugin).cnds.OnCreated, o);
                            this.runtime.isInOnDestroy--;
                            var h = t.getCurrentSol();
                            if (h.select_all = !1,
                            cr.clearArray(h.instances),
                            (h.instances[0] = a).is_contained)
                                for (n = 0,
                                r = a.siblings.length; n < r; n++)
                                    (h = (o = a.siblings[n]).type.getCurrentSol()).select_all = !1,
                                    cr.clearArray(h.instances),
                                    h.instances[0] = o
                        }
                    }
                }
                ,
                o.prototype.SetLayerVisible = function(t, e) {
                    t && t.visible !== e && (t.visible = e,
                    this.runtime.redraw = !0)
                }
                ,
                o.prototype.SetLayerOpacity = function(t, e) {
                    t && (e = cr.clamp(e / 100, 0, 1),
                    t.opacity !== e && (t.opacity = e,
                    this.runtime.redraw = !0))
                }
                ,
                o.prototype.SetLayerScaleRate = function(t, e) {
                    t && t.zoomRate !== e && (t.zoomRate = e,
                    this.runtime.redraw = !0)
                }
                ,
                o.prototype.SetLayerForceOwnTexture = function(t, e) {
                    t && (e = !!e,
                    t.forceOwnTexture !== e && (t.forceOwnTexture = e,
                    this.runtime.redraw = !0))
                }
                ,
                o.prototype.SetLayoutScale = function(t) {
                    this.runtime.running_layout && this.runtime.running_layout.scale !== t && (this.runtime.running_layout.scale = t,
                    this.runtime.running_layout.boundScrolling(),
                    this.runtime.redraw = !0)
                }
                ,
                o.prototype.ScrollX = function(t) {
                    this.runtime.running_layout.scrollToX(t)
                }
                ,
                o.prototype.ScrollY = function(t) {
                    this.runtime.running_layout.scrollToY(t)
                }
                ,
                o.prototype.Scroll = function(t, e) {
                    this.runtime.running_layout.scrollToX(t),
                    this.runtime.running_layout.scrollToY(e)
                }
                ,
                o.prototype.ScrollToObject = function(t) {
                    t = t.getFirstPicked();
                    t && (this.runtime.running_layout.scrollToX(t.x),
                    this.runtime.running_layout.scrollToY(t.y))
                }
                ,
                o.prototype.SetVar = function(t, e) {
                    0 === t.vartype ? cr.is_number(e) ? t.setValue(e) : t.setValue(parseFloat(e)) : 1 === t.vartype && t.setValue(e.toString())
                }
                ,
                o.prototype.AddVar = function(t, e) {
                    0 === t.vartype ? cr.is_number(e) ? t.setValue(t.getValue() + e) : t.setValue(t.getValue() + parseFloat(e)) : 1 === t.vartype && t.setValue(t.getValue() + e.toString())
                }
                ,
                o.prototype.SubVar = function(t, e) {
                    0 === t.vartype && (cr.is_number(e) ? t.setValue(t.getValue() - e) : t.setValue(t.getValue() - parseFloat(e)))
                }
                ,
                o.prototype.SetGroupActive = function(t, e) {
                    var i = this.runtime.groups_by_name[t.toLowerCase()];
                    if (i)
                        switch (e) {
                        case 0:
                            i.setGroupActive(!1);
                            break;
                        case 1:
                            i.setGroupActive(!0);
                            break;
                        case 2:
                            i.setGroupActive(!i.group_active)
                        }
                }
                ,
                o.prototype.SetTimescale = function(t) {
                    t < 0 && (t = 0),
                    this.runtime.timescale = t
                }
                ,
                o.prototype.SetObjectTimescale = function(t, e) {
                    var i = e;
                    if (i < 0 && (i = 0),
                    t)
                        for (var s = t.getCurrentSol().getObjects(), n = 0, r = s.length; n < r; n++)
                            s[n].my_timescale = i
                }
                ,
                o.prototype.RestoreObjectTimescale = function(t) {
                    if (!t)
                        return !1;
                    for (var e = t.getCurrentSol().getObjects(), i = 0, s = e.length; i < s; i++)
                        e[i].my_timescale = -1
                }
                ;
                var c = [];
                function a() {
                    var t = c.length ? c.pop() : {
                        sols: {},
                        solModifiers: []
                    };
                    return t.deleteme = !1,
                    t
                }
                var u = [];
                function h() {
                    var t = u.length ? u.pop() : {
                        insts: []
                    };
                    return t.sa = !1,
                    t
                }
                function g(t, e) {
                    var i = t[0] - e[0];
                    return 0 != i ? i : t[1] - e[1]
                }
                function f(t, e) {
                    return t[1] - e[1]
                }
                function p() {}
                o.prototype.Wait = function(t) {
                    if (!(t < 0)) {
                        var e, i, s, n, r = this.runtime.getCurrentEventStack(), o = a();
                        for (o.time = this.runtime.kahanTime.sum + t,
                        o.signaltag = "",
                        o.signalled = !1,
                        o.ev = r.current_event,
                        o.actindex = r.actindex + 1,
                        e = 0,
                        i = this.runtime.types_by_index.length; e < i; e++)
                            (s = (n = this.runtime.types_by_index[e]).getCurrentSol()).select_all && -1 === r.current_event.solModifiers.indexOf(n) || (o.solModifiers.push(n),
                            (n = h()).sa = s.select_all,
                            cr.shallowAssignArray(n.insts, s.instances),
                            o.sols[e.toString()] = n);
                        return this.waits.push(o),
                        !0
                    }
                }
                ,
                o.prototype.WaitForSignal = function(t) {
                    var e, i, s, n, r = this.runtime.getCurrentEventStack(), o = a();
                    for (o.time = -1,
                    o.signaltag = t.toLowerCase(),
                    o.signalled = !1,
                    o.ev = r.current_event,
                    o.actindex = r.actindex + 1,
                    e = 0,
                    i = this.runtime.types_by_index.length; e < i; e++)
                        (s = (n = this.runtime.types_by_index[e]).getCurrentSol()).select_all && -1 === r.current_event.solModifiers.indexOf(n) || (o.solModifiers.push(n),
                        (n = h()).sa = s.select_all,
                        cr.shallowAssignArray(n.insts, s.instances),
                        o.sols[e.toString()] = n);
                    return this.waits.push(o),
                    !0
                }
                ,
                o.prototype.Signal = function(t) {
                    for (var e, i = t.toLowerCase(), s = 0, n = this.waits.length; s < n; ++s)
                        -1 === (e = this.waits[s]).time && e.signaltag === i && (e.signalled = !0)
                }
                ,
                o.prototype.SetLayerScale = function(t, e) {
                    t && t.scale !== e && (t.scale = e,
                    this.runtime.redraw = !0)
                }
                ,
                o.prototype.ResetGlobals = function() {
                    for (var t, e = 0, i = this.runtime.all_global_vars.length; e < i; e++)
                        (t = this.runtime.all_global_vars[e]).data = t.initial
                }
                ,
                o.prototype.SetLayoutAngle = function(t) {
                    t = cr.to_radians(t),
                    t = cr.clamp_angle(t),
                    this.runtime.running_layout && this.runtime.running_layout.angle !== t && (this.runtime.running_layout.angle = t,
                    this.runtime.redraw = !0)
                }
                ,
                o.prototype.SetLayerAngle = function(t, e) {
                    t && (e = cr.to_radians(e),
                    e = cr.clamp_angle(e),
                    t.angle !== e && (t.angle = e,
                    this.runtime.redraw = !0))
                }
                ,
                o.prototype.SetLayerParallax = function(t, e, i) {
                    if (t && (t.parallaxX !== e / 100 || t.parallaxY !== i / 100)) {
                        if (t.parallaxX = e / 100,
                        t.parallaxY = i / 100,
                        1 !== t.parallaxX || 1 !== t.parallaxY)
                            for (var s = t.instances, n = 0, r = s.length; n < r; ++n)
                                s[n].type.any_instance_parallaxed = !0;
                        this.runtime.redraw = !0
                    }
                }
                ,
                o.prototype.SetLayerBackground = function(t, e) {
                    var i, s;
                    t && (i = cr.GetRValue(e),
                    s = cr.GetGValue(e),
                    e = cr.GetBValue(e),
                    t.background_color[0] === i && t.background_color[1] === s && t.background_color[2] === e || (t.background_color[0] = i,
                    t.background_color[1] = s,
                    t.background_color[2] = e,
                    this.runtime.redraw = !0))
                }
                ,
                o.prototype.SetLayerTransparent = function(t, e) {
                    t && !!e != !!t.transparent && (t.transparent = !!e,
                    this.runtime.redraw = !0)
                }
                ,
                o.prototype.SetLayerBlendMode = function(t, e) {
                    t && t.blend_mode !== e && (t.blend_mode = e,
                    t.compositeOp = cr.effectToCompositeOp(t.blend_mode),
                    this.runtime.gl && cr.setGLBlend(t, t.blend_mode, this.runtime.gl),
                    this.runtime.redraw = !0)
                }
                ,
                o.prototype.StopLoop = function() {
                    this.runtime.loop_stack_index < 0 || (this.runtime.getCurrentLoop().stopped = !0)
                }
                ,
                o.prototype.GoToLayoutByName = function(t) {
                    if (!this.runtime.isloading && !this.runtime.changelayout)
                        for (var e in this.runtime.layouts)
                            if (this.runtime.layouts.hasOwnProperty(e) && cr.equals_nocase(e, t))
                                return void (this.runtime.changelayout = this.runtime.layouts[e])
                }
                ,
                o.prototype.RestartLayout = function(t) {
                    var e, i, s;
                    if (!this.runtime.isloading && (!this.runtime.changelayout && this.runtime.running_layout))
                        for (this.runtime.changelayout = this.runtime.running_layout,
                        e = 0,
                        i = this.runtime.allGroups.length; e < i; e++)
                            (s = this.runtime.allGroups[e]).setGroupActive(s.initially_activated)
                }
                ,
                o.prototype.SnapshotCanvas = function(t, e) {
                    this.runtime.doCanvasSnapshot(0 === t ? "image/png" : "image/jpeg", e / 100)
                }
                ,
                o.prototype.SetCanvasSize = function(t, e) {
                    var i;
                    t <= 0 || e <= 0 || (i = this.runtime.fullscreen_mode,
                    (document.mozFullScreen || document.webkitIsFullScreen || !!document.msFullscreenElement || document.fullScreen || this.runtime.isNodeFullscreen) && 0 < this.runtime.fullscreen_scaling && (i = this.runtime.fullscreen_scaling),
                    0 === i ? this.runtime.setSize(t, e, !0) : (this.runtime.original_width = t,
                    this.runtime.original_height = e,
                    this.runtime.setSize(this.runtime.lastWindowWidth, this.runtime.lastWindowHeight, !0)))
                }
                ,
                o.prototype.SetLayoutEffectEnabled = function(t, e) {
                    this.runtime.running_layout && this.runtime.glwrap && ((e = this.runtime.running_layout.getEffectByName(e)) && (t = 1 === t,
                    e.active != t && (e.active = t,
                    this.runtime.running_layout.updateActiveEffects(),
                    this.runtime.redraw = !0)))
                }
                ,
                o.prototype.SetLayerEffectEnabled = function(t, e, i) {
                    t && this.runtime.glwrap && ((i = t.getEffectByName(i)) && (e = 1 === e,
                    i.active != e && (i.active = e,
                    t.updateActiveEffects(),
                    this.runtime.redraw = !0)))
                }
                ,
                o.prototype.SetLayoutEffectParam = function(t, e, i) {
                    var s;
                    this.runtime.running_layout && this.runtime.glwrap && ((s = this.runtime.running_layout.getEffectByName(t)) && (t = this.runtime.running_layout.effect_params[s.index],
                    (e = Math.floor(e)) < 0 || e >= t.length || (1 === this.runtime.glwrap.getProgramParameterType(s.shaderindex, e) && (i /= 100),
                    t[e] !== i && (t[e] = i,
                    s.active && (this.runtime.redraw = !0)))))
                }
                ,
                o.prototype.SetLayerEffectParam = function(t, e, i, s) {
                    t && this.runtime.glwrap && ((e = t.getEffectByName(e)) && (t = t.effect_params[e.index],
                    (i = Math.floor(i)) < 0 || i >= t.length || (1 === this.runtime.glwrap.getProgramParameterType(e.shaderindex, i) && (s /= 100),
                    t[i] !== s && (t[i] = s,
                    e.active && (this.runtime.redraw = !0)))))
                }
                ,
                o.prototype.SaveState = function(t) {
                    this.runtime.saveToSlot = t
                }
                ,
                o.prototype.LoadState = function(t) {
                    this.runtime.loadFromSlot = t
                }
                ,
                o.prototype.LoadStateJSON = function(t) {
                    this.runtime.loadFromJson = t
                }
                ,
                o.prototype.SetHalfFramerateMode = function(t) {
                    this.runtime.halfFramerateMode = 0 !== t
                }
                ,
                o.prototype.SetFullscreenQuality = function(t) {
                    (document.mozFullScreen || document.webkitIsFullScreen || !!document.msFullscreenElement || document.fullScreen || this.isNodeFullscreen || 0 !== this.runtime.fullscreen_mode) && (this.runtime.wantFullscreenScalingQuality = 0 !== t,
                    this.runtime.setSize(this.runtime.lastWindowWidth, this.runtime.lastWindowHeight, !0))
                }
                ,
                o.prototype.ResetPersisted = function() {
                    for (var t = 0, e = this.runtime.layouts_by_index.length; t < e; ++t)
                        this.runtime.layouts_by_index[t].persist_data = {},
                        this.runtime.layouts_by_index[t].first_visit = !0
                }
                ,
                o.prototype.RecreateInitialObjects = function(t, e, i, s, n) {
                    t && this.runtime.running_layout.recreateInitialObjects(t, e, i, s, n)
                }
                ,
                o.prototype.SetPixelRounding = function(t) {
                    this.runtime.pixel_rounding = 0 !== t,
                    this.runtime.redraw = !0
                }
                ,
                o.prototype.SetMinimumFramerate = function(t) {
                    t < 1 && (t = 1),
                    120 < t && (t = 120),
                    this.runtime.minimumFramerate = t
                }
                ,
                o.prototype.SortZOrderByInstVar = function(t, e) {
                    if (t) {
                        for (var i, s, n, r, o = t.getCurrentSol().getObjects(), a = [], h = [], c = this.runtime.running_layout, l = t.is_family, u = t.family_index, p = 0, d = o.length; p < d; ++p)
                            (i = o[p]).layer && (s = l ? i.instance_vars[e + i.type.family_var_map[u]] : i.instance_vars[e],
                            a.push([i.layer.index, i.get_zindex()]),
                            h.push([i, s]));
                        if (a.length)
                            for (a.sort(g),
                            h.sort(f),
                            p = 0,
                            d = a.length; p < d; ++p)
                                i = h[p][0],
                                n = c.layers[a[p][0]],
                                r = a[p][1],
                                n.instances[r] !== i && ((n.instances[r] = i).layer = n).setZIndicesStaleFrom(r)
                    }
                }
                ,
                t.acts = new o,
                p.prototype.int = function(t, e) {
                    cr.is_string(e) ? (t.set_int(parseInt(e, 10)),
                    isNaN(t.data) && (t.data = 0)) : t.set_int(e)
                }
                ,
                p.prototype.float = function(t, e) {
                    cr.is_string(e) ? (t.set_float(parseFloat(e)),
                    isNaN(t.data) && (t.data = 0)) : t.set_float(e)
                }
                ,
                p.prototype.str = function(t, e) {
                    cr.is_string(e) ? t.set_string(e) : t.set_string(e.toString())
                }
                ,
                p.prototype.len = function(t, e) {
                    t.set_int(e.length || 0)
                }
                ,
                p.prototype.random = function(t, e, i) {
                    void 0 === i ? t.set_float(Math.random() * e) : t.set_float(Math.random() * (i - e) + e)
                }
                ,
                p.prototype.sqrt = function(t, e) {
                    t.set_float(Math.sqrt(e))
                }
                ,
                p.prototype.abs = function(t, e) {
                    t.set_float(Math.abs(e))
                }
                ,
                p.prototype.round = function(t, e) {
                    t.set_int(Math.round(e))
                }
                ,
                p.prototype.floor = function(t, e) {
                    t.set_int(Math.floor(e))
                }
                ,
                p.prototype.ceil = function(t, e) {
                    t.set_int(Math.ceil(e))
                }
                ,
                p.prototype.sin = function(t, e) {
                    t.set_float(Math.sin(cr.to_radians(e)))
                }
                ,
                p.prototype.cos = function(t, e) {
                    t.set_float(Math.cos(cr.to_radians(e)))
                }
                ,
                p.prototype.tan = function(t, e) {
                    t.set_float(Math.tan(cr.to_radians(e)))
                }
                ,
                p.prototype.asin = function(t, e) {
                    t.set_float(cr.to_degrees(Math.asin(e)))
                }
                ,
                p.prototype.acos = function(t, e) {
                    t.set_float(cr.to_degrees(Math.acos(e)))
                }
                ,
                p.prototype.atan = function(t, e) {
                    t.set_float(cr.to_degrees(Math.atan(e)))
                }
                ,
                p.prototype.exp = function(t, e) {
                    t.set_float(Math.exp(e))
                }
                ,
                p.prototype.ln = function(t, e) {
                    t.set_float(Math.log(e))
                }
                ,
                p.prototype.log10 = function(t, e) {
                    t.set_float(Math.log(e) / Math.LN10)
                }
                ,
                p.prototype.max = function(t) {
                    var e, i, s, n = arguments[1];
                    for ("number" != typeof n && (n = 0),
                    e = 2,
                    i = arguments.length; e < i; e++)
                        "number" == typeof (s = arguments[e]) && n < s && (n = s);
                    t.set_float(n)
                }
                ,
                p.prototype.min = function(t) {
                    var e, i, s, n = arguments[1];
                    for ("number" != typeof n && (n = 0),
                    e = 2,
                    i = arguments.length; e < i; e++)
                        "number" == typeof (s = arguments[e]) && s < n && (n = s);
                    t.set_float(n)
                }
                ,
                p.prototype.dt = function(t) {
                    t.set_float(this.runtime.dt)
                }
                ,
                p.prototype.timescale = function(t) {
                    t.set_float(this.runtime.timescale)
                }
                ,
                p.prototype.wallclocktime = function(t) {
                    t.set_float((Date.now() - this.runtime.start_time) / 1e3)
                }
                ,
                p.prototype.time = function(t) {
                    t.set_float(this.runtime.kahanTime.sum)
                }
                ,
                p.prototype.tickcount = function(t) {
                    t.set_int(this.runtime.tickcount)
                }
                ,
                p.prototype.objectcount = function(t) {
                    t.set_int(this.runtime.objectcount)
                }
                ,
                p.prototype.fps = function(t) {
                    t.set_int(this.runtime.fps)
                }
                ,
                p.prototype.loopindex = function(t, e) {
                    var i, s;
                    if (this.runtime.loop_stack.length)
                        if (e) {
                            for (s = this.runtime.loop_stack_index; 0 <= s; --s)
                                if ((i = this.runtime.loop_stack[s]).name === e)
                                    return void t.set_int(i.index);
                            t.set_int(0)
                        } else
                            i = this.runtime.getCurrentLoop(),
                            t.set_int(i ? i.index : -1);
                    else
                        t.set_int(0)
                }
                ,
                p.prototype.distance = function(t, e, i, s, n) {
                    t.set_float(cr.distanceTo(e, i, s, n))
                }
                ,
                p.prototype.angle = function(t, e, i, s, n) {
                    t.set_float(cr.to_degrees(cr.angleTo(e, i, s, n)))
                }
                ,
                p.prototype.scrollx = function(t) {
                    t.set_float(this.runtime.running_layout.scrollX)
                }
                ,
                p.prototype.scrolly = function(t) {
                    t.set_float(this.runtime.running_layout.scrollY)
                }
                ,
                p.prototype.newline = function(t) {
                    t.set_string("\n")
                }
                ,
                p.prototype.lerp = function(t, e, i, s) {
                    t.set_float(cr.lerp(e, i, s))
                }
                ,
                p.prototype.qarp = function(t, e, i, s, n) {
                    t.set_float(cr.qarp(e, i, s, n))
                }
                ,
                p.prototype.cubic = function(t, e, i, s, n, r) {
                    t.set_float(cr.cubic(e, i, s, n, r))
                }
                ,
                p.prototype.cosp = function(t, e, i, s) {
                    t.set_float(cr.cosp(e, i, s))
                }
                ,
                p.prototype.windowwidth = function(t) {
                    t.set_int(this.runtime.width)
                }
                ,
                p.prototype.windowheight = function(t) {
                    t.set_int(this.runtime.height)
                }
                ,
                p.prototype.uppercase = function(t, e) {
                    t.set_string(cr.is_string(e) ? e.toUpperCase() : "")
                }
                ,
                p.prototype.lowercase = function(t, e) {
                    t.set_string(cr.is_string(e) ? e.toLowerCase() : "")
                }
                ,
                p.prototype.clamp = function(t, e, i, s) {
                    e < i ? t.set_float(i) : s < e ? t.set_float(s) : t.set_float(e)
                }
                ,
                p.prototype.layerscale = function(t, e) {
                    e = this.runtime.getLayer(e);
                    e ? t.set_float(e.scale) : t.set_float(0)
                }
                ,
                p.prototype.layeropacity = function(t, e) {
                    e = this.runtime.getLayer(e);
                    e ? t.set_float(100 * e.opacity) : t.set_float(0)
                }
                ,
                p.prototype.layerscalerate = function(t, e) {
                    e = this.runtime.getLayer(e);
                    e ? t.set_float(e.zoomRate) : t.set_float(0)
                }
                ,
                p.prototype.layerparallaxx = function(t, e) {
                    e = this.runtime.getLayer(e);
                    e ? t.set_float(100 * e.parallaxX) : t.set_float(0)
                }
                ,
                p.prototype.layerparallaxy = function(t, e) {
                    e = this.runtime.getLayer(e);
                    e ? t.set_float(100 * e.parallaxY) : t.set_float(0)
                }
                ,
                p.prototype.layerindex = function(t, e) {
                    e = this.runtime.getLayer(e);
                    e ? t.set_int(e.index) : t.set_int(-1)
                }
                ,
                p.prototype.layoutscale = function(t) {
                    this.runtime.running_layout ? t.set_float(this.runtime.running_layout.scale) : t.set_float(0)
                }
                ,
                p.prototype.layoutangle = function(t) {
                    t.set_float(cr.to_degrees(this.runtime.running_layout.angle))
                }
                ,
                p.prototype.layerangle = function(t, e) {
                    e = this.runtime.getLayer(e);
                    e ? t.set_float(cr.to_degrees(e.angle)) : t.set_float(0)
                }
                ,
                p.prototype.layoutwidth = function(t) {
                    t.set_int(this.runtime.running_layout.width)
                }
                ,
                p.prototype.layoutheight = function(t) {
                    t.set_int(this.runtime.running_layout.height)
                }
                ,
                p.prototype.find = function(t, e, i) {
                    cr.is_string(e) && cr.is_string(i) ? t.set_int(e.search(new RegExp(cr.regexp_escape(i),"i"))) : t.set_int(-1)
                }
                ,
                p.prototype.findcase = function(t, e, i) {
                    cr.is_string(e) && cr.is_string(i) ? t.set_int(e.search(new RegExp(cr.regexp_escape(i),""))) : t.set_int(-1)
                }
                ,
                p.prototype.left = function(t, e, i) {
                    t.set_string(cr.is_string(e) ? e.substr(0, i) : "")
                }
                ,
                p.prototype.right = function(t, e, i) {
                    t.set_string(cr.is_string(e) ? e.substr(e.length - i) : "")
                }
                ,
                p.prototype.mid = function(t, e, i, s) {
                    t.set_string(cr.is_string(e) ? e.substr(i, s) : "")
                }
                ,
                p.prototype.tokenat = function(t, e, i, s) {
                    cr.is_string(e) && cr.is_string(s) ? (s = e.split(s),
                    (i = cr.floor(i)) < 0 || i >= s.length ? t.set_string("") : t.set_string(s[i])) : t.set_string("")
                }
                ,
                p.prototype.tokencount = function(t, e, i) {
                    cr.is_string(e) && e.length ? t.set_int(e.split(i).length) : t.set_int(0)
                }
                ,
                p.prototype.replace = function(t, e, i, s) {
                    cr.is_string(e) && cr.is_string(i) && cr.is_string(s) ? t.set_string(e.replace(new RegExp(cr.regexp_escape(i),"gi"), s)) : t.set_string(cr.is_string(e) ? e : "")
                }
                ,
                p.prototype.trim = function(t, e) {
                    t.set_string(cr.is_string(e) ? e.trim() : "")
                }
                ,
                p.prototype.pi = function(t) {
                    t.set_float(cr.PI)
                }
                ,
                p.prototype.layoutname = function(t) {
                    this.runtime.running_layout ? t.set_string(this.runtime.running_layout.name) : t.set_string("")
                }
                ,
                p.prototype.renderer = function(t) {
                    t.set_string(this.runtime.gl ? "webgl" : "canvas2d")
                }
                ,
                p.prototype.rendererdetail = function(t) {
                    t.set_string(this.runtime.glUnmaskedRenderer)
                }
                ,
                p.prototype.anglediff = function(t, e, i) {
                    t.set_float(cr.to_degrees(cr.angleDiff(cr.to_radians(e), cr.to_radians(i))))
                }
                ,
                p.prototype.choose = function(t) {
                    var e = cr.floor(Math.random() * (arguments.length - 1));
                    t.set_any(arguments[e + 1])
                }
                ,
                p.prototype.rgb = function(t, e, i, s) {
                    t.set_int(cr.RGB(e, i, s))
                }
                ,
                p.prototype.projectversion = function(t) {
                    t.set_string(this.runtime.versionstr)
                }
                ,
                p.prototype.projectname = function(t) {
                    t.set_string(this.runtime.projectName)
                }
                ,
                p.prototype.anglelerp = function(t, e, i, s) {
                    e = cr.to_radians(e),
                    i = cr.to_radians(i);
                    var n = cr.angleDiff(e, i);
                    cr.angleClockwise(i, e) ? t.set_float(cr.to_clamped_degrees(e + n * s)) : t.set_float(cr.to_clamped_degrees(e - n * s))
                }
                ,
                p.prototype.anglerotate = function(t, e, i, s) {
                    e = cr.to_radians(e),
                    i = cr.to_radians(i),
                    s = cr.to_radians(s),
                    t.set_float(cr.to_clamped_degrees(cr.angleRotate(e, i, s)))
                }
                ,
                p.prototype.zeropad = function(t, e, i) {
                    var s = e < 0 ? "-" : "";
                    e < 0 && (e = -e);
                    for (var n = i - e.toString().length, r = 0; r < n; r++)
                        s += "0";
                    t.set_string(s + e.toString())
                }
                ,
                p.prototype.cpuutilisation = function(t) {
                    t.set_float(this.runtime.cpuutilisation / 1e3)
                }
                ,
                p.prototype.viewportleft = function(t, e) {
                    e = this.runtime.getLayer(e);
                    t.set_float(e ? e.viewLeft : 0)
                }
                ,
                p.prototype.viewporttop = function(t, e) {
                    e = this.runtime.getLayer(e);
                    t.set_float(e ? e.viewTop : 0)
                }
                ,
                p.prototype.viewportright = function(t, e) {
                    e = this.runtime.getLayer(e);
                    t.set_float(e ? e.viewRight : 0)
                }
                ,
                p.prototype.viewportbottom = function(t, e) {
                    e = this.runtime.getLayer(e);
                    t.set_float(e ? e.viewBottom : 0)
                }
                ,
                p.prototype.loadingprogress = function(t) {
                    t.set_float(this.runtime.loadingprogress)
                }
                ,
                p.prototype.unlerp = function(t, e, i, s) {
                    t.set_float(cr.unlerp(e, i, s))
                }
                ,
                p.prototype.canvassnapshot = function(t) {
                    t.set_string(this.runtime.snapshotData)
                }
                ,
                p.prototype.urlencode = function(t, e) {
                    t.set_string(encodeURIComponent(e))
                }
                ,
                p.prototype.urldecode = function(t, e) {
                    t.set_string(decodeURIComponent(e))
                }
                ,
                p.prototype.canvastolayerx = function(t, e, i, s) {
                    e = this.runtime.getLayer(e);
                    t.set_float(e ? e.canvasToLayer(i, s, !0) : 0)
                }
                ,
                p.prototype.canvastolayery = function(t, e, i, s) {
                    e = this.runtime.getLayer(e);
                    t.set_float(e ? e.canvasToLayer(i, s, !1) : 0)
                }
                ,
                p.prototype.layertocanvasx = function(t, e, i, s) {
                    e = this.runtime.getLayer(e);
                    t.set_float(e ? e.layerToCanvas(i, s, !0) : 0)
                }
                ,
                p.prototype.layertocanvasy = function(t, e, i, s) {
                    e = this.runtime.getLayer(e);
                    t.set_float(e ? e.layerToCanvas(i, s, !1) : 0)
                }
                ,
                p.prototype.savestatejson = function(t) {
                    t.set_string(this.runtime.lastSaveJson)
                }
                ,
                p.prototype.imagememoryusage = function(t) {
                    this.runtime.glwrap ? t.set_float(Math.round(100 * this.runtime.glwrap.estimateVRAM() / 1048576) / 100) : t.set_float(0)
                }
                ,
                p.prototype.regexsearch = function(t, e, i, s) {
                    s = r(i, s);
                    t.set_int(e ? e.search(s) : -1)
                }
                ,
                p.prototype.regexreplace = function(t, e, i, s, n) {
                    s = r(i, s);
                    t.set_string(e ? e.replace(s, n) : "")
                }
                ;
                var d = []
                  , m = ""
                  , b = ""
                  , w = "";
                function x(t, e, i) {
                    var s;
                    t === m && e === b && i === w || (s = r(e, i),
                    d = t.match(s),
                    m = t,
                    b = e,
                    w = i)
                }
                p.prototype.regexmatchcount = function(t, e, i, s) {
                    r(i, s);
                    x(e.toString(), i, s),
                    t.set_int(d ? d.length : 0)
                }
                ,
                p.prototype.regexmatchat = function(t, e, i, s, n) {
                    n = Math.floor(n);
                    r(i, s);
                    x(e.toString(), i, s),
                    !d || n < 0 || n >= d.length ? t.set_string("") : t.set_string(d[n])
                }
                ,
                p.prototype.infinity = function(t) {
                    t.set_float(1 / 0)
                }
                ,
                p.prototype.setbit = function(t, e, i, s) {
                    e |= 0,
                    i |= 0,
                    s = 0 !== s ? 1 : 0,
                    t.set_int(e & ~(1 << i) | s << i)
                }
                ,
                p.prototype.togglebit = function(t, e, i) {
                    e |= 0,
                    i |= 0,
                    t.set_int(e ^ 1 << i)
                }
                ,
                p.prototype.getbit = function(t, e, i) {
                    e |= 0,
                    i |= 0,
                    t.set_int(e & 1 << i ? 1 : 0)
                }
                ,
                p.prototype.originalwindowwidth = function(t) {
                    t.set_int(this.runtime.original_width)
                }
                ,
                p.prototype.originalwindowheight = function(t) {
                    t.set_int(this.runtime.original_height)
                }
                ,
                t.exps = new p,
                t.runWaits = function() {
                    for (var t, e, i, s, n, r, o = this.runtime.getCurrentEventStack(), a = 0, h = this.waits.length; a < h; a++) {
                        if (-1 === (e = this.waits[a]).time) {
                            if (!e.signalled)
                                continue
                        } else if (e.time > this.runtime.kahanTime.sum)
                            continue;
                        for (i in o.current_event = e.ev,
                        o.actindex = e.actindex,
                        o.cndindex = 0,
                        e.sols)
                            e.sols.hasOwnProperty(i) && (s = this.runtime.types_by_index[parseInt(i, 10)].getCurrentSol(),
                            n = e.sols[i],
                            s.select_all = n.sa,
                            cr.shallowAssignArray(s.instances, n.insts),
                            n = n,
                            cr.clearArray(n.insts),
                            u.push(n));
                        e.ev.resume_actions_and_subevents(),
                        this.runtime.clearSol(e.solModifiers),
                        e.deleteme = !0
                    }
                    for (t = a = 0,
                    h = this.waits.length; a < h; a++)
                        e = this.waits[a],
                        (this.waits[t] = e).deleteme ? (r = e,
                        cr.wipe(r.sols),
                        cr.clearArray(r.solModifiers),
                        c.push(r)) : t++;
                    cr.truncateArray(this.waits, t)
                }
            }(),
            function() {
                cr.add_common_aces = function(t, e) {
                    var i = t[1]
                      , s = t[3]
                      , n = t[4]
                      , r = t[5]
                      , o = t[6]
                      , a = t[7]
                      , h = t[8];
                    e.cnds || (e.cnds = {}),
                    e.acts || (e.acts = {}),
                    e.exps || (e.exps = {});
                    var c = e.cnds
                      , t = e.acts
                      , e = e.exps;
                    s && (c.CompareX = function(t, e) {
                        return cr.do_cmp(this.x, t, e)
                    }
                    ,
                    c.CompareY = function(t, e) {
                        return cr.do_cmp(this.y, t, e)
                    }
                    ,
                    c.IsOnScreen = function() {
                        var t = this.layer;
                        this.update_bbox();
                        var e = this.bbox;
                        return !(e.right < t.viewLeft || e.bottom < t.viewTop || e.left > t.viewRight || e.top > t.viewBottom)
                    }
                    ,
                    c.IsOutsideLayout = function() {
                        this.update_bbox();
                        var t = this.bbox
                          , e = this.runtime.running_layout;
                        return t.right < 0 || t.bottom < 0 || t.left > e.width || t.top > e.height
                    }
                    ,
                    c.PickDistance = function(t, e, i) {
                        var s = this.getCurrentSol()
                          , n = s.getObjects();
                        if (!n.length)
                            return !1;
                        for (var r, o = n[0], a = o, h = cr.distanceTo(o.x, o.y, e, i), c = 1, l = n.length; c < l; c++)
                            o = n[c],
                            r = cr.distanceTo(o.x, o.y, e, i),
                            (0 === t && r < h || 1 === t && h < r) && (h = r,
                            a = o);
                        return s.pick_one(a),
                        !0
                    }
                    ,
                    t.SetX = function(t) {
                        this.x !== t && (this.x = t,
                        this.set_bbox_changed())
                    }
                    ,
                    t.SetY = function(t) {
                        this.y !== t && (this.y = t,
                        this.set_bbox_changed())
                    }
                    ,
                    t.SetPos = function(t, e) {
                        this.x === t && this.y === e || (this.x = t,
                        this.y = e,
                        this.set_bbox_changed())
                    }
                    ,
                    t.SetPosToObject = function(t, e) {
                        var i, t = t.getPairedInstance(this);
                        t && (t = t.getImagePoint ? (i = t.getImagePoint(e, !0),
                        t.getImagePoint(e, !1)) : (i = t.x,
                        t.y),
                        this.x === i && this.y === t || (this.x = i,
                        this.y = t,
                        this.set_bbox_changed()))
                    }
                    ,
                    t.MoveForward = function(t) {
                        0 !== t && (this.x += Math.cos(this.angle) * t,
                        this.y += Math.sin(this.angle) * t,
                        this.set_bbox_changed())
                    }
                    ,
                    t.MoveAtAngle = function(t, e) {
                        0 !== e && (this.x += Math.cos(cr.to_radians(t)) * e,
                        this.y += Math.sin(cr.to_radians(t)) * e,
                        this.set_bbox_changed())
                    }
                    ,
                    e.X = function(t) {
                        t.set_float(this.x)
                    }
                    ,
                    e.Y = function(t) {
                        t.set_float(this.y)
                    }
                    ,
                    e.dt = function(t) {
                        t.set_float(this.runtime.getDt(this))
                    }
                    ),
                    n && (c.CompareWidth = function(t, e) {
                        return cr.do_cmp(this.width, t, e)
                    }
                    ,
                    c.CompareHeight = function(t, e) {
                        return cr.do_cmp(this.height, t, e)
                    }
                    ,
                    t.SetWidth = function(t) {
                        this.width !== t && (this.width = t,
                        this.set_bbox_changed())
                    }
                    ,
                    t.SetHeight = function(t) {
                        this.height !== t && (this.height = t,
                        this.set_bbox_changed())
                    }
                    ,
                    t.SetSize = function(t, e) {
                        this.width === t && this.height === e || (this.width = t,
                        this.height = e,
                        this.set_bbox_changed())
                    }
                    ,
                    e.Width = function(t) {
                        t.set_float(this.width)
                    }
                    ,
                    e.Height = function(t) {
                        t.set_float(this.height)
                    }
                    ,
                    e.BBoxLeft = function(t) {
                        this.update_bbox(),
                        t.set_float(this.bbox.left)
                    }
                    ,
                    e.BBoxTop = function(t) {
                        this.update_bbox(),
                        t.set_float(this.bbox.top)
                    }
                    ,
                    e.BBoxRight = function(t) {
                        this.update_bbox(),
                        t.set_float(this.bbox.right)
                    }
                    ,
                    e.BBoxBottom = function(t) {
                        this.update_bbox(),
                        t.set_float(this.bbox.bottom)
                    }
                    ),
                    r && (c.AngleWithin = function(t, e) {
                        return cr.angleDiff(this.angle, cr.to_radians(e)) <= cr.to_radians(t)
                    }
                    ,
                    c.IsClockwiseFrom = function(t) {
                        return cr.angleClockwise(this.angle, cr.to_radians(t))
                    }
                    ,
                    c.IsBetweenAngles = function(t, e) {
                        var i = cr.to_clamped_radians(t)
                          , t = cr.to_clamped_radians(e)
                          , e = cr.clamp_angle(this.angle);
                        return !cr.angleClockwise(t, i) ? !(!cr.angleClockwise(e, i) && cr.angleClockwise(e, t)) : cr.angleClockwise(e, i) && !cr.angleClockwise(e, t)
                    }
                    ,
                    t.SetAngle = function(t) {
                        t = cr.to_radians(cr.clamp_angle_degrees(t));
                        isNaN(t) || this.angle !== t && (this.angle = t,
                        this.set_bbox_changed())
                    }
                    ,
                    t.RotateClockwise = function(t) {
                        0 === t || isNaN(t) || (this.angle += cr.to_radians(t),
                        this.angle = cr.clamp_angle(this.angle),
                        this.set_bbox_changed())
                    }
                    ,
                    t.RotateCounterclockwise = function(t) {
                        0 === t || isNaN(t) || (this.angle -= cr.to_radians(t),
                        this.angle = cr.clamp_angle(this.angle),
                        this.set_bbox_changed())
                    }
                    ,
                    t.RotateTowardAngle = function(t, e) {
                        t = cr.angleRotate(this.angle, cr.to_radians(e), cr.to_radians(t));
                        isNaN(t) || this.angle !== t && (this.angle = t,
                        this.set_bbox_changed())
                    }
                    ,
                    t.RotateTowardPosition = function(t, e, i) {
                        e -= this.x,
                        i -= this.y,
                        e = Math.atan2(i, e),
                        t = cr.angleRotate(this.angle, e, cr.to_radians(t));
                        isNaN(t) || this.angle !== t && (this.angle = t,
                        this.set_bbox_changed())
                    }
                    ,
                    t.SetTowardPosition = function(t, e) {
                        t -= this.x,
                        e -= this.y,
                        t = Math.atan2(e, t);
                        isNaN(t) || this.angle !== t && (this.angle = t,
                        this.set_bbox_changed())
                    }
                    ,
                    e.Angle = function(t) {
                        t.set_float(cr.to_clamped_degrees(this.angle))
                    }
                    ),
                    i || (c.CompareInstanceVar = function(t, e, i) {
                        return cr.do_cmp(this.instance_vars[t], e, i)
                    }
                    ,
                    c.IsBoolInstanceVarSet = function(t) {
                        return this.instance_vars[t]
                    }
                    ,
                    c.PickInstVarHiLow = function(t, e) {
                        var i = this.getCurrentSol()
                          , s = i.getObjects();
                        if (!s.length)
                            return !1;
                        for (var n, r = s[0], o = r, a = r.instance_vars[e], h = 1, c = s.length; h < c; h++)
                            n = (r = s[h]).instance_vars[e],
                            (0 === t && n < a || 1 === t && a < n) && (a = n,
                            o = r);
                        return i.pick_one(o),
                        !0
                    }
                    ,
                    c.PickByUID = function(t) {
                        var e, i, s, n, r, o, a;
                        if (this.runtime.getCurrentCondition().inverted) {
                            if ((a = this.getCurrentSol()).select_all) {
                                for (a.select_all = !1,
                                cr.clearArray(a.instances),
                                cr.clearArray(a.else_instances),
                                e = 0,
                                i = (o = this.instances).length; e < i; e++)
                                    ((n = o[e]).uid === t ? a.else_instances : a.instances).push(n);
                                return this.applySolToContainer(),
                                !!a.instances.length
                            }
                            for (s = e = 0,
                            i = a.instances.length; e < i; e++)
                                n = a.instances[e],
                                (a.instances[s] = n).uid === t ? a.else_instances.push(n) : s++;
                            return cr.truncateArray(a.instances, s),
                            this.applySolToContainer(),
                            !!a.instances.length
                        }
                        if (!(n = this.runtime.getObjectByUID(t)))
                            return !1;
                        if (!(a = this.getCurrentSol()).select_all && -1 === a.instances.indexOf(n))
                            return !1;
                        if (this.is_family) {
                            for (e = 0,
                            i = (r = n.type.families).length; e < i; e++)
                                if (r[e] === this)
                                    return a.pick_one(n),
                                    this.applySolToContainer(),
                                    !0
                        } else if (n.type === this)
                            return a.pick_one(n),
                            this.applySolToContainer(),
                            !0;
                        return !1
                    }
                    ,
                    c.OnCreated = function() {
                        return !0
                    }
                    ,
                    c.OnDestroyed = function() {
                        return !0
                    }
                    ,
                    t.SetInstanceVar = function(t, e) {
                        var i = this.instance_vars;
                        cr.is_number(i[t]) ? cr.is_number(e) ? i[t] = e : i[t] = parseFloat(e) : cr.is_string(i[t]) && (cr.is_string(e) ? i[t] = e : i[t] = e.toString())
                    }
                    ,
                    t.AddInstanceVar = function(t, e) {
                        var i = this.instance_vars;
                        cr.is_number(i[t]) ? cr.is_number(e) ? i[t] += e : i[t] += parseFloat(e) : cr.is_string(i[t]) && (cr.is_string(e) ? i[t] += e : i[t] += e.toString())
                    }
                    ,
                    t.SubInstanceVar = function(t, e) {
                        var i = this.instance_vars;
                        cr.is_number(i[t]) && (cr.is_number(e) ? i[t] -= e : i[t] -= parseFloat(e))
                    }
                    ,
                    t.SetBoolInstanceVar = function(t, e) {
                        this.instance_vars[t] = e ? 1 : 0
                    }
                    ,
                    t.ToggleBoolInstanceVar = function(t) {
                        this.instance_vars[t] = 1 - this.instance_vars[t]
                    }
                    ,
                    t.Destroy = function() {
                        this.runtime.DestroyInstance(this)
                    }
                    ,
                    t.LoadFromJsonString || (t.LoadFromJsonString = function(t) {
                        var e, i, s, n;
                        try {
                            e = JSON.parse(t)
                        } catch (t) {
                            return
                        }
                        if (this.runtime.loadInstanceFromJSON(this, e, !0),
                        this.afterLoad && this.afterLoad(),
                        this.behavior_insts)
                            for (i = 0,
                            s = this.behavior_insts.length; i < s; ++i)
                                (n = this.behavior_insts[i]).afterLoad && n.afterLoad()
                    }
                    ),
                    e.Count = function(t) {
                        for (var e, i = t.object_class.instances.length, s = 0, n = this.runtime.createRow.length; s < n; s++)
                            e = this.runtime.createRow[s],
                            t.object_class.is_family ? 0 <= e.type.families.indexOf(t.object_class) && i++ : e.type === t.object_class && i++;
                        t.set_int(i)
                    }
                    ,
                    e.PickedCount = function(t) {
                        t.set_int(t.object_class.getCurrentSol().getObjects().length)
                    }
                    ,
                    e.UID = function(t) {
                        t.set_int(this.uid)
                    }
                    ,
                    e.IID = function(t) {
                        t.set_int(this.get_iid())
                    }
                    ,
                    e.AsJSON || (e.AsJSON = function(t) {
                        t.set_string(JSON.stringify(this.runtime.saveInstanceToJSON(this, !0)))
                    }
                    )),
                    o && (c.IsVisible = function() {
                        return this.visible
                    }
                    ,
                    t.SetVisible = function(t) {
                        !t != !this.visible && (this.visible = !!t,
                        this.runtime.redraw = !0)
                    }
                    ,
                    c.CompareOpacity = function(t, e) {
                        return cr.do_cmp(cr.round6dp(100 * this.opacity), t, e)
                    }
                    ,
                    t.SetOpacity = function(t) {
                        t /= 100;
                        t < 0 ? t = 0 : 1 < t && (t = 1),
                        t !== this.opacity && (this.opacity = t,
                        this.runtime.redraw = !0)
                    }
                    ,
                    e.Opacity = function(t) {
                        t.set_float(cr.round6dp(100 * this.opacity))
                    }
                    ),
                    a && (c.IsOnLayer = function(t) {
                        return !!t && this.layer === t
                    }
                    ,
                    c.PickTopBottom = function(t) {
                        var e = this.getCurrentSol()
                          , i = e.getObjects();
                        if (!i.length)
                            return !1;
                        for (var s = i[0], n = s, r = 1, o = i.length; r < o; r++)
                            s = i[r],
                            0 === t ? (s.layer.index > n.layer.index || s.layer.index === n.layer.index && s.get_zindex() > n.get_zindex()) && (n = s) : (s.layer.index < n.layer.index || s.layer.index === n.layer.index && s.get_zindex() < n.get_zindex()) && (n = s);
                        return e.pick_one(n),
                        !0
                    }
                    ,
                    t.MoveToTop = function() {
                        var t = this.layer
                          , e = t.instances;
                        e.length && e[e.length - 1] === this || (t.removeFromInstanceList(this, !1),
                        t.appendToInstanceList(this, !1),
                        this.runtime.redraw = !0)
                    }
                    ,
                    t.MoveToBottom = function() {
                        var t = this.layer
                          , e = t.instances;
                        e.length && e[0] === this || (t.removeFromInstanceList(this, !1),
                        t.prependToInstanceList(this, !1),
                        this.runtime.redraw = !0)
                    }
                    ,
                    t.MoveToLayer = function(t) {
                        t && t != this.layer && (this.layer.removeFromInstanceList(this, !0),
                        (this.layer = t).appendToInstanceList(this, !0),
                        this.runtime.redraw = !0)
                    }
                    ,
                    t.ZMoveToObject = function(t, e) {
                        t = 0 === t;
                        !e || (e = e.getFirstPicked(this)) && e.uid !== this.uid && (this.layer.index !== e.layer.index && (this.layer.removeFromInstanceList(this, !0),
                        this.layer = e.layer,
                        e.layer.appendToInstanceList(this, !0)),
                        this.layer.moveInstanceAdjacent(this, e, t),
                        this.runtime.redraw = !0)
                    }
                    ,
                    e.LayerNumber = function(t) {
                        t.set_int(this.layer.number)
                    }
                    ,
                    e.LayerName = function(t) {
                        t.set_string(this.layer.name)
                    }
                    ,
                    e.ZIndex = function(t) {
                        t.set_int(this.get_zindex())
                    }
                    ),
                    h && (t.SetEffectEnabled = function(t, e) {
                        this.runtime.glwrap && ((e = this.type.getEffectIndexByName(e)) < 0 || (t = 1 === t,
                        this.active_effect_flags[e] !== t && (this.active_effect_flags[e] = t,
                        this.updateActiveEffects(),
                        this.runtime.redraw = !0)))
                    }
                    ,
                    t.SetEffectParam = function(t, e, i) {
                        var s;
                        this.runtime.glwrap && ((s = this.type.getEffectIndexByName(t)) < 0 || (t = this.type.effect_types[s],
                        s = this.effect_params[s],
                        (e = Math.floor(e)) < 0 || e >= s.length || (1 === this.runtime.glwrap.getProgramParameterType(t.shaderindex, e) && (i /= 100),
                        s[e] !== i && (s[e] = i,
                        t.active && (this.runtime.redraw = !0)))))
                    }
                    )
                }
                ,
                cr.set_bbox_changed = function() {
                    this.bbox_changed = !0,
                    this.cell_changed = !0,
                    this.type.any_cell_changed = !0,
                    this.runtime.redraw = !0;
                    for (var t = this.bbox_changed_callbacks, e = 0, i = t.length; e < i; ++e)
                        t[e](this);
                    this.layer.useRenderCells && this.update_bbox()
                }
                ,
                cr.add_bbox_changed_callback = function(t) {
                    t && this.bbox_changed_callbacks.push(t)
                }
                ,
                cr.update_bbox = function() {
                    var t, e;
                    this.bbox_changed && (t = this.bbox,
                    e = this.bquad,
                    t.set(this.x, this.y, this.x + this.width, this.y + this.height),
                    t.offset(-this.hotspotX * this.width, -this.hotspotY * this.height),
                    this.angle ? (t.offset(-this.x, -this.y),
                    e.set_from_rotated_rect(t, this.angle),
                    e.offset(this.x, this.y),
                    e.bounding_box(t)) : e.set_from_rect(t),
                    t.normalize(),
                    this.bbox_changed = !1,
                    this.update_render_cell())
                }
                ;
                var i = new cr.rect(0,0,0,0);
                cr.update_render_cell = function() {
                    var t, e;
                    this.layer.useRenderCells && (t = this.layer.render_grid,
                    e = this.bbox,
                    i.set(t.XToCell(e.left), t.YToCell(e.top), t.XToCell(e.right), t.YToCell(e.bottom)),
                    this.rendercells.equals(i) || (this.rendercells.right < this.rendercells.left ? t.update(this, null, i) : t.update(this, this.rendercells, i),
                    this.rendercells.copy(i),
                    this.layer.render_list_stale = !0))
                }
                ,
                cr.update_collision_cell = function() {
                    var t, e;
                    this.cell_changed && this.collisionsEnabled && (this.update_bbox(),
                    t = this.type.collision_grid,
                    e = this.bbox,
                    i.set(t.XToCell(e.left), t.YToCell(e.top), t.XToCell(e.right), t.YToCell(e.bottom)),
                    this.collcells.equals(i) || (this.collcells.right < this.collcells.left ? t.update(this, null, i) : t.update(this, this.collcells, i),
                    this.collcells.copy(i),
                    this.cell_changed = !1))
                }
                ,
                cr.inst_contains_pt = function(t, e) {
                    return !!this.bbox.contains_pt(t, e) && (!!this.bquad.contains_pt(t, e) && (this.tilemap_exists ? this.testPointOverlapTile(t, e) : !(this.collision_poly && !this.collision_poly.is_empty()) || (this.collision_poly.cache_poly(this.width, this.height, this.angle),
                    this.collision_poly.contains_pt(t - this.x, e - this.y))))
                }
                ,
                cr.inst_get_iid = function() {
                    return this.type.updateIIDs(),
                    this.iid
                }
                ,
                cr.inst_get_zindex = function() {
                    return this.layer.updateZIndices(),
                    this.zindex
                }
                ,
                cr.inst_updateActiveEffects = function() {
                    var t;
                    cr.clearArray(this.active_effect_types);
                    for (var e = !0, i = 0, s = this.active_effect_flags.length; i < s; i++)
                        this.active_effect_flags[i] && (t = this.type.effect_types[i],
                        this.active_effect_types.push(t),
                        t.preservesOpaqueness || (e = !1));
                    this.uses_shaders = !!this.active_effect_types.length,
                    this.shaders_preserve_opaqueness = e
                }
                ,
                cr.inst_toString = function() {
                    return "Inst" + this.puid
                }
                ,
                cr.type_getFirstPicked = function(t) {
                    if (t && t.is_contained && t.type != this)
                        for (var e, i = 0, s = t.siblings.length; i < s; i++)
                            if ((e = t.siblings[i]).type == this)
                                return e;
                    var n = this.getCurrentSol().getObjects();
                    return n.length ? n[0] : null
                }
                ,
                cr.type_getPairedInstance = function(t) {
                    var e = this.getCurrentSol().getObjects();
                    return e.length ? e[t.get_iid() % e.length] : null
                }
                ,
                cr.type_updateIIDs = function() {
                    if (this.stale_iids && !this.is_family) {
                        for (var t = 0, e = this.instances.length; t < e; t++)
                            this.instances[t].iid = t;
                        var i = t
                          , s = this.runtime.createRow;
                        for (t = 0,
                        e = s.length; t < e; ++t)
                            s[t].type === this && (s[t].iid = i++);
                        this.stale_iids = !1
                    }
                }
                ,
                cr.type_getInstanceByIID = function(t) {
                    if (t < this.instances.length)
                        return this.instances[t];
                    t -= this.instances.length;
                    for (var e = this.runtime.createRow, i = 0, s = e.length; i < s; ++i)
                        if (e[i].type === this) {
                            if (0 === t)
                                return e[i];
                            --t
                        }
                    return null
                }
                ,
                cr.type_getCurrentSol = function() {
                    return this.solstack[this.cur_sol]
                }
                ,
                cr.type_pushCleanSol = function() {
                    this.cur_sol++,
                    this.cur_sol === this.solstack.length ? this.solstack.push(new cr.selection(this)) : (this.solstack[this.cur_sol].select_all = !0,
                    cr.clearArray(this.solstack[this.cur_sol].else_instances))
                }
                ,
                cr.type_pushCopySol = function() {
                    this.cur_sol++,
                    this.cur_sol === this.solstack.length && this.solstack.push(new cr.selection(this));
                    var t = this.solstack[this.cur_sol]
                      , e = this.solstack[this.cur_sol - 1];
                    e.select_all ? t.select_all = !0 : (t.select_all = !1,
                    cr.shallowAssignArray(t.instances, e.instances)),
                    cr.clearArray(t.else_instances)
                }
                ,
                cr.type_popSol = function() {
                    this.cur_sol--
                }
                ,
                cr.type_getBehaviorByName = function(t) {
                    var e, i, s, n, r, o = 0;
                    if (!this.is_family)
                        for (e = 0,
                        i = this.families.length; e < i; e++)
                            for (s = 0,
                            n = (r = this.families[e]).behaviors.length; s < n; s++) {
                                if (t === r.behaviors[s].name)
                                    return this.extra.lastBehIndex = o,
                                    r.behaviors[s];
                                o++
                            }
                    for (e = 0,
                    i = this.behaviors.length; e < i; e++) {
                        if (t === this.behaviors[e].name)
                            return this.extra.lastBehIndex = o,
                            this.behaviors[e];
                        o++
                    }
                    return null
                }
                ,
                cr.type_getBehaviorIndexByName = function(t) {
                    return this.getBehaviorByName(t) ? this.extra.lastBehIndex : -1
                }
                ,
                cr.type_getEffectIndexByName = function(t) {
                    for (var e = 0, i = this.effect_types.length; e < i; e++)
                        if (this.effect_types[e].name === t)
                            return e;
                    return -1
                }
                ,
                cr.type_applySolToContainer = function() {
                    if (this.is_contained && !this.is_family) {
                        var t, e, i, s, n;
                        this.updateIIDs();
                        for (var r = (s = this.getCurrentSol()).select_all, o = this.runtime.getCurrentEventStack(), a = o && o.current_event && o.current_event.orblock, h = 0, c = this.container.length; h < c; h++)
                            if (i = this.container[h],
                            i !== this && (i.updateIIDs(),
                            !((n = i.getCurrentSol()).select_all = r))) {
                                for (cr.clearArray(n.instances),
                                t = 0,
                                e = s.instances.length; t < e; ++t)
                                    n.instances[t] = i.getInstanceByIID(s.instances[t].iid);
                                if (a)
                                    for (cr.clearArray(n.else_instances),
                                    t = 0,
                                    e = s.else_instances.length; t < e; ++t)
                                        n.else_instances[t] = i.getInstanceByIID(s.else_instances[t].iid)
                            }
                    }
                }
                ,
                cr.type_toString = function() {
                    return "Type" + this.sid
                }
                ,
                cr.do_cmp = function(t, e, i) {
                    if (void 0 === t || void 0 === i)
                        return !1;
                    switch (e) {
                    case 0:
                        return t === i;
                    case 1:
                        return t !== i;
                    case 2:
                        return t < i;
                    case 3:
                        return t <= i;
                    case 4:
                        return i < t;
                    case 5:
                        return i <= t;
                    default:
                        return !1
                    }
                }
            }(),
            cr.shaders = {},
            cr.shaders.difference = {
                src: ["varying mediump vec2 vTex;", "uniform lowp sampler2D samplerFront;", "uniform lowp sampler2D samplerBack;", "uniform mediump vec2 destStart;", "uniform mediump vec2 destEnd;", "void main(void)", "{", "lowp vec4 front = texture2D(samplerFront, vTex);", "front.rgb /= front.a;", "lowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));", "back.rgb /= back.a;", "front.rgb = (max(front.rgb, back.rgb) - min(front.rgb, back.rgb)) * front.a;", "gl_FragColor = front;", "}"].join("\n"),
                extendBoxHorizontal: 0,
                extendBoxVertical: 0,
                crossSampling: !0,
                preservesOpaqueness: !1,
                animated: !1,
                parameters: []
            },
            cr.shaders.replacecolor = {
                src: ["varying mediump vec2 vTex;", "uniform lowp sampler2D samplerFront;", "uniform mediump float rsource;", "uniform mediump float gsource;", "uniform mediump float bsource;", "uniform mediump float rdest;", "uniform mediump float gdest;", "uniform mediump float bdest;", "uniform lowp float tolerance;", "void main(void)", "{", "lowp vec4 front = texture2D(samplerFront, vTex);", "lowp float a = front.a;", "if (a != 0.0)", "front.rgb /= a;", "lowp float diff = length(front.rgb - vec3(rsource, gsource, bsource) / 255.0);", "if (diff <= tolerance)", "{", "front.rgb = mix(front.rgb, vec3(rdest, gdest, bdest) / 255.0, 1.0 - diff / tolerance);", "}", "front.rgb *= a;", "gl_FragColor = front;", "}"].join("\n"),
                extendBoxHorizontal: 0,
                extendBoxVertical: 0,
                crossSampling: !1,
                preservesOpaqueness: !0,
                animated: !1,
                parameters: [["rsource", 0, 0], ["gsource", 0, 0], ["bsource", 0, 0], ["rdest", 0, 0], ["gdest", 0, 0], ["bdest", 0, 0], ["tolerance", 0, 1]]
            },
            cr.plugins_.AJAX = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var c = !1
                  , e = null
                  , l = null
                  , u = ""
                  , t = cr.plugins_.AJAX.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.lastData = "",
                    this.curTag = "",
                    this.progress = 0,
                    this.timeout = -1,
                    (c = this.runtime.isNWjs) && (e = require("path"),
                    l = require("fs"),
                    t = window.process || nw.process,
                    u = e.dirname(t.execPath) + "\\")
                }
                ;
                var i = t.Instance.prototype
                  , s = null;
                window.C2_AJAX_DCSide = function(t, e, i) {
                    s && ("success" === t ? (s.curTag = e,
                    s.lastData = i,
                    s.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyComplete, s),
                    s.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnComplete, s)) : "error" === t ? (s.curTag = e,
                    s.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyError, s),
                    s.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnError, s)) : "progress" === t && (s.progress = i,
                    s.curTag = e,
                    s.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnProgress, s)))
                }
                ,
                i.onCreate = function() {
                    s = this
                }
                ,
                i.saveToJSON = function() {
                    return {
                        lastData: this.lastData
                    }
                }
                ,
                i.loadFromJSON = function(t) {
                    this.lastData = t.lastData,
                    this.curTag = "",
                    this.progress = 0
                }
                ;
                var p = {}
                  , d = "";
                function n() {}
                function r() {}
                function o() {}
                i.doRequest = function(i, e, t, s) {
                    if (this.runtime.isDirectCanvas)
                        AppMobi.webview.execute('C2_AJAX_WebSide("' + i + '", "' + e + '", "' + t + '", ' + (s ? '"' + s + '"' : "null") + ");");
                    else {
                        function n() {
                            a.curTag = i,
                            a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyError, a),
                            a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnError, a)
                        }
                        function r() {
                            var t;
                            c ? (t = u + e,
                            l.existsSync(t) ? l.readFile(t, {
                                encoding: "utf8"
                            }, function(t, e) {
                                t ? n() : (a.curTag = i,
                                a.lastData = e.replace(/\r\n/g, "\n"),
                                a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyComplete, a),
                                a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnComplete, a))
                            }) : n()) : n()
                        }
                        var o, a = this, h = null;
                        try {
                            (h = this.runtime.isWindowsPhone8 ? new ActiveXObject("Microsoft.XMLHTTP") : new XMLHttpRequest).onreadystatechange = function() {
                                4 === h.readyState && (a.curTag = i,
                                h.responseText ? a.lastData = h.responseText.replace(/\r\n/g, "\n") : a.lastData = "",
                                400 <= h.status ? (a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyError, a),
                                a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnError, a)) : c && !a.lastData.length || !c && 0 === h.status && !a.lastData.length || (a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyComplete, a),
                                a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnComplete, a)))
                            }
                            ,
                            this.runtime.isWindowsPhone8 || (h.onerror = r,
                            h.ontimeout = r,
                            h.onabort = r,
                            h.onprogress = function(t) {
                                t.lengthComputable && (a.progress = t.loaded / t.total,
                                a.curTag = i,
                                a.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnProgress, a))
                            }
                            ),
                            h.open(t, e),
                            this.runtime.isWindowsPhone8 || 0 <= this.timeout && void 0 !== h.timeout && (h.timeout = this.timeout);
                            try {
                                h.responseType = "text"
                            } catch (t) {}
                            if (s && h.setRequestHeader && !p.hasOwnProperty("Content-Type") && h.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
                            h.setRequestHeader) {
                                for (o in p)
                                    if (p.hasOwnProperty(o))
                                        try {
                                            h.setRequestHeader(o, p[o])
                                        } catch (t) {}
                                p = {}
                            }
                            if (d && h.overrideMimeType) {
                                try {
                                    h.overrideMimeType(d)
                                } catch (t) {}
                                d = ""
                            }
                            s ? h.send(s) : h.send()
                        } catch (t) {
                            r()
                        }
                    }
                }
                ,
                n.prototype.OnComplete = function(t) {
                    return cr.equals_nocase(t, this.curTag)
                }
                ,
                n.prototype.OnAnyComplete = function(t) {
                    return !0
                }
                ,
                n.prototype.OnError = function(t) {
                    return cr.equals_nocase(t, this.curTag)
                }
                ,
                n.prototype.OnAnyError = function(t) {
                    return !0
                }
                ,
                n.prototype.OnProgress = function(t) {
                    return cr.equals_nocase(t, this.curTag)
                }
                ,
                t.cnds = new n,
                r.prototype.Request = function(e, t) {
                    var i = this;
                    this.runtime.isWKWebView && !this.runtime.isAbsoluteUrl(t) ? this.runtime.fetchLocalFileViaCordovaAsText(t, function(t) {
                        i.curTag = e,
                        i.lastData = t.replace(/\r\n/g, "\n"),
                        i.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyComplete, i),
                        i.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnComplete, i)
                    }, function(t) {
                        i.curTag = e,
                        i.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyError, i),
                        i.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnError, i)
                    }) : this.doRequest(e, t, "GET")
                }
                ,
                r.prototype.RequestFile = function(e, t) {
                    var i = this;
                    this.runtime.isWKWebView ? this.runtime.fetchLocalFileViaCordovaAsText(t, function(t) {
                        i.curTag = e,
                        i.lastData = t.replace(/\r\n/g, "\n"),
                        i.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyComplete, i),
                        i.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnComplete, i)
                    }, function(t) {
                        i.curTag = e,
                        i.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnAnyError, i),
                        i.runtime.trigger(cr.plugins_.AJAX.prototype.cnds.OnError, i)
                    }) : this.doRequest(e, t, "GET")
                }
                ,
                r.prototype.Post = function(t, e, i, s) {
                    this.doRequest(t, e, s, i)
                }
                ,
                r.prototype.SetTimeout = function(t) {
                    this.timeout = 1e3 * t
                }
                ,
                r.prototype.SetHeader = function(t, e) {
                    p[t] = e
                }
                ,
                r.prototype.OverrideMIMEType = function(t) {
                    d = t
                }
                ,
                t.acts = new r,
                o.prototype.LastData = function(t) {
                    t.set_string(this.lastData)
                }
                ,
                o.prototype.Progress = function(t) {
                    t.set_float(this.progress)
                }
                ,
                o.prototype.Tag = function(t) {
                    t.set_string(this.curTag)
                }
                ,
                t.exps = new o
            }(),
            cr.plugins_.Arr = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Arr.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype
                  , s = [];
                function a() {
                    return s.length ? s.pop() : []
                }
                function r(t) {
                    for (var e = 0, i = t.length; e < i; e++)
                        Array.isArray(t[e]) && r(t[e]);
                    cr.clearArray(t),
                    s.push(t)
                }
                function i() {}
                function n() {}
                function o(t, e) {
                    if (cr.is_number(t) && cr.is_number(e))
                        return t - e;
                    t = "" + t,
                    e = "" + e;
                    return t < e ? -1 : e < t ? 1 : 0
                }
                function h() {}
                Array.isArray || (Array.isArray = function(t) {
                    return "[object Array]" === Object.prototype.toString.call(t)
                }
                ),
                e.onCreate = function() {
                    this.cx = this.properties[0],
                    this.cy = this.properties[1],
                    this.cz = this.properties[2],
                    this.recycled || (this.arr = a());
                    var t, e, i, s = this.arr;
                    for (s.length = this.cx,
                    t = 0; t < this.cx; t++)
                        for (s[t] || (s[t] = a()),
                        s[t].length = this.cy,
                        e = 0; e < this.cy; e++)
                            for (s[t][e] || (s[t][e] = a()),
                            s[t][e].length = this.cz,
                            i = 0; i < this.cz; i++)
                                s[t][e][i] = 0;
                    this.forX = [],
                    this.forY = [],
                    this.forZ = [],
                    this.forDepth = -1
                }
                ,
                e.onDestroy = function() {
                    for (var t = 0; t < this.cx; t++)
                        r(this.arr[t]);
                    cr.clearArray(this.arr)
                }
                ,
                e.at = function(t, e, i) {
                    return t = Math.floor(t),
                    e = Math.floor(e),
                    i = Math.floor(i),
                    isNaN(t) || t < 0 || t > this.cx - 1 || isNaN(e) || e < 0 || e > this.cy - 1 || isNaN(i) || i < 0 || i > this.cz - 1 ? 0 : this.arr[t][e][i]
                }
                ,
                e.set = function(t, e, i, s) {
                    t = Math.floor(t),
                    e = Math.floor(e),
                    i = Math.floor(i),
                    isNaN(t) || t < 0 || t > this.cx - 1 || isNaN(e) || e < 0 || e > this.cy - 1 || isNaN(i) || i < 0 || i > this.cz - 1 || (this.arr[t][e][i] = s)
                }
                ,
                e.getAsJSON = function() {
                    return JSON.stringify({
                        c2array: !0,
                        size: [this.cx, this.cy, this.cz],
                        data: this.arr
                    })
                }
                ,
                e.saveToJSON = function() {
                    return {
                        size: [this.cx, this.cy, this.cz],
                        data: this.arr
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    var e = t.size;
                    this.cx = e[0],
                    this.cy = e[1],
                    this.cz = e[2],
                    this.arr = t.data
                }
                ,
                e.setSize = function(t, e, i) {
                    if (t < 0 && (t = 0),
                    e < 0 && (e = 0),
                    i < 0 && (i = 0),
                    this.cx !== t || this.cy !== e || this.cz !== i) {
                        var s, n, r;
                        this.cx = t,
                        this.cy = e,
                        this.cz = i;
                        var o = this.arr;
                        for (o.length = t,
                        s = 0; s < this.cx; s++)
                            for (cr.is_undefined(o[s]) && (o[s] = a()),
                            o[s].length = e,
                            n = 0; n < this.cy; n++)
                                for (cr.is_undefined(o[s][n]) && (o[s][n] = a()),
                                o[s][n].length = i,
                                r = 0; r < this.cz; r++)
                                    cr.is_undefined(o[s][n][r]) && (o[s][n][r] = 0)
                    }
                }
                ,
                e.getForX = function() {
                    return 0 <= this.forDepth && this.forDepth < this.forX.length ? this.forX[this.forDepth] : 0
                }
                ,
                e.getForY = function() {
                    return 0 <= this.forDepth && this.forDepth < this.forY.length ? this.forY[this.forDepth] : 0
                }
                ,
                e.getForZ = function() {
                    return 0 <= this.forDepth && this.forDepth < this.forZ.length ? this.forZ[this.forDepth] : 0
                }
                ,
                i.prototype.CompareX = function(t, e, i) {
                    return cr.do_cmp(this.at(t, 0, 0), e, i)
                }
                ,
                i.prototype.CompareXY = function(t, e, i, s) {
                    return cr.do_cmp(this.at(t, e, 0), i, s)
                }
                ,
                i.prototype.CompareXYZ = function(t, e, i, s, n) {
                    return cr.do_cmp(this.at(t, e, i), s, n)
                }
                ,
                e.doForEachTrigger = function(t) {
                    this.runtime.pushCopySol(t.solModifiers),
                    t.retrigger(),
                    this.runtime.popSol(t.solModifiers)
                }
                ,
                i.prototype.ArrForEach = function(t) {
                    var e = this.runtime.getCurrentEventStack().current_event;
                    this.forDepth++;
                    var i = this.forDepth;
                    switch (i === this.forX.length ? (this.forX.push(0),
                    this.forY.push(0),
                    this.forZ.push(0)) : (this.forX[i] = 0,
                    this.forY[i] = 0,
                    this.forZ[i] = 0),
                    t) {
                    case 0:
                        for (this.forX[i] = 0; this.forX[i] < this.cx; this.forX[i]++)
                            for (this.forY[i] = 0; this.forY[i] < this.cy; this.forY[i]++)
                                for (this.forZ[i] = 0; this.forZ[i] < this.cz; this.forZ[i]++)
                                    this.doForEachTrigger(e);
                        break;
                    case 1:
                        for (this.forX[i] = 0; this.forX[i] < this.cx; this.forX[i]++)
                            for (this.forY[i] = 0; this.forY[i] < this.cy; this.forY[i]++)
                                this.doForEachTrigger(e);
                        break;
                    case 2:
                        for (this.forX[i] = 0; this.forX[i] < this.cx; this.forX[i]++)
                            this.doForEachTrigger(e)
                    }
                    return this.forDepth--,
                    !1
                }
                ,
                i.prototype.CompareCurrent = function(t, e) {
                    return cr.do_cmp(this.at(this.getForX(), this.getForY(), this.getForZ()), t, e)
                }
                ,
                i.prototype.Contains = function(t) {
                    for (var e, i, s = 0; s < this.cx; s++)
                        for (e = 0; e < this.cy; e++)
                            for (i = 0; i < this.cz; i++)
                                if (this.arr[s][e][i] === t)
                                    return !0;
                    return !1
                }
                ,
                i.prototype.IsEmpty = function() {
                    return 0 === this.cx || 0 === this.cy || 0 === this.cz
                }
                ,
                i.prototype.CompareSize = function(t, e, i) {
                    var s = 0;
                    switch (t) {
                    case 0:
                        s = this.cx;
                        break;
                    case 1:
                        s = this.cy;
                        break;
                    case 2:
                        s = this.cz
                    }
                    return cr.do_cmp(s, e, i)
                }
                ,
                t.cnds = new i,
                n.prototype.Clear = function() {
                    for (var t, e, i = 0; i < this.cx; i++)
                        for (t = 0; t < this.cy; t++)
                            for (e = 0; e < this.cz; e++)
                                this.arr[i][t][e] = 0
                }
                ,
                n.prototype.SetSize = function(t, e, i) {
                    this.setSize(t, e, i)
                }
                ,
                n.prototype.SetX = function(t, e) {
                    this.set(t, 0, 0, e)
                }
                ,
                n.prototype.SetXY = function(t, e, i) {
                    this.set(t, e, 0, i)
                }
                ,
                n.prototype.SetXYZ = function(t, e, i, s) {
                    this.set(t, e, i, s)
                }
                ,
                n.prototype.Push = function(t, e, i) {
                    var s = 0
                      , n = 0
                      , r = 0
                      , o = this.arr;
                    switch (i) {
                    case 0:
                        for (0 === t ? (s = o.length,
                        o.push(a())) : (s = 0,
                        o.unshift(a())),
                        o[s].length = this.cy; n < this.cy; n++)
                            for (o[s][n] = a(),
                            o[s][n].length = this.cz,
                            r = 0; r < this.cz; r++)
                                o[s][n][r] = e;
                        this.cx++;
                        break;
                    case 1:
                        for (; s < this.cx; s++)
                            for (0 === t ? (n = o[s].length,
                            o[s].push(a())) : (n = 0,
                            o[s].unshift(a())),
                            o[s][n].length = this.cz,
                            r = 0; r < this.cz; r++)
                                o[s][n][r] = e;
                        this.cy++;
                        break;
                    case 2:
                        for (; s < this.cx; s++)
                            for (n = 0; n < this.cy; n++)
                                0 === t ? o[s][n].push(e) : o[s][n].unshift(e);
                        this.cz++
                    }
                }
                ,
                n.prototype.Pop = function(t, e) {
                    var i = 0
                      , s = 0
                      , n = this.arr;
                    switch (e) {
                    case 0:
                        if (0 === this.cx)
                            break;
                        r(0 === t ? n.pop() : n.shift()),
                        this.cx--;
                        break;
                    case 1:
                        if (0 === this.cy)
                            break;
                        for (; i < this.cx; i++)
                            r(0 === t ? n[i].pop() : n[i].shift());
                        this.cy--;
                        break;
                    case 2:
                        if (0 === this.cz)
                            break;
                        for (; i < this.cx; i++)
                            for (s = 0; s < this.cy; s++)
                                0 === t ? n[i][s].pop() : n[i][s].shift();
                        this.cz--
                    }
                }
                ,
                n.prototype.Reverse = function(t) {
                    var e = 0
                      , i = 0
                      , s = this.arr;
                    if (0 !== this.cx && 0 !== this.cy && 0 !== this.cz)
                        switch (t) {
                        case 0:
                            s.reverse();
                            break;
                        case 1:
                            for (; e < this.cx; e++)
                                s[e].reverse();
                            break;
                        case 2:
                            for (; e < this.cx; e++)
                                for (i = 0; i < this.cy; i++)
                                    s[e][i].reverse()
                        }
                }
                ,
                n.prototype.Sort = function(t) {
                    var e = 0
                      , i = 0
                      , s = this.arr;
                    if (0 !== this.cx && 0 !== this.cy && 0 !== this.cz)
                        switch (t) {
                        case 0:
                            s.sort(function(t, e) {
                                return o(t[0][0], e[0][0])
                            });
                            break;
                        case 1:
                            for (; e < this.cx; e++)
                                s[e].sort(function(t, e) {
                                    return o(t[0], e[0])
                                });
                            break;
                        case 2:
                            for (; e < this.cx; e++)
                                for (i = 0; i < this.cy; i++)
                                    s[e][i].sort(o)
                        }
                }
                ,
                n.prototype.Delete = function(t, e) {
                    var i = 0
                      , s = 0;
                    t = Math.floor(t);
                    var n = this.arr;
                    if (!(t < 0))
                        switch (e) {
                        case 0:
                            if (t >= this.cx)
                                break;
                            r(n[t]),
                            n.splice(t, 1),
                            this.cx--;
                            break;
                        case 1:
                            if (t >= this.cy)
                                break;
                            for (; i < this.cx; i++)
                                r(n[i][t]),
                                n[i].splice(t, 1);
                            this.cy--;
                            break;
                        case 2:
                            if (t >= this.cz)
                                break;
                            for (; i < this.cx; i++)
                                for (s = 0; s < this.cy; s++)
                                    n[i][s].splice(t, 1);
                            this.cz--
                        }
                }
                ,
                n.prototype.Insert = function(t, e, i) {
                    var s = 0
                      , n = 0
                      , r = 0;
                    e = Math.floor(e);
                    var o = this.arr;
                    if (!(e < 0))
                        switch (i) {
                        case 0:
                            if (e > this.cx)
                                return;
                            for (s = e,
                            o.splice(s, 0, a()),
                            o[s].length = this.cy; n < this.cy; n++)
                                for (o[s][n] = a(),
                                o[s][n].length = this.cz,
                                r = 0; r < this.cz; r++)
                                    o[s][n][r] = t;
                            this.cx++;
                            break;
                        case 1:
                            if (e > this.cy)
                                return;
                            for (; s < this.cx; s++)
                                for (n = e,
                                o[s].splice(n, 0, a()),
                                o[s][n].length = this.cz,
                                r = 0; r < this.cz; r++)
                                    o[s][n][r] = t;
                            this.cy++;
                            break;
                        case 2:
                            if (e > this.cz)
                                return;
                            for (; s < this.cx; s++)
                                for (n = 0; n < this.cy; n++)
                                    o[s][n].splice(e, 0, t);
                            this.cz++
                        }
                }
                ,
                n.prototype.JSONLoad = function(t) {
                    var e, i;
                    try {
                        e = JSON.parse(t)
                    } catch (t) {
                        return
                    }
                    e.c2array && (i = e.size,
                    this.cx = i[0],
                    this.cy = i[1],
                    this.cz = i[2],
                    this.arr = e.data)
                }
                ,
                n.prototype.JSONDownload = function(t) {
                    var e, i = document.createElement("a");
                    void 0 === i.download ? (e = "data:text/html," + encodeURIComponent("<p><a download='" + t + "' href=\"data:application/json," + encodeURIComponent(this.getAsJSON()) + '">Download link</a></p>'),
                    window.open(e)) : (e = document.getElementsByTagName("body")[0],
                    i.textContent = t,
                    i.href = "data:application/json," + encodeURIComponent(this.getAsJSON()),
                    i.download = t,
                    e.appendChild(i),
                    (t = document.createEvent("MouseEvent")).initMouseEvent("click", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null),
                    i.dispatchEvent(t),
                    e.removeChild(i))
                }
                ,
                t.acts = new n,
                h.prototype.At = function(t, e, i, s) {
                    i = i || 0,
                    s = s || 0;
                    t.set_any(this.at(e, i, s))
                }
                ,
                h.prototype.Width = function(t) {
                    t.set_int(this.cx)
                }
                ,
                h.prototype.Height = function(t) {
                    t.set_int(this.cy)
                }
                ,
                h.prototype.Depth = function(t) {
                    t.set_int(this.cz)
                }
                ,
                h.prototype.CurX = function(t) {
                    t.set_int(this.getForX())
                }
                ,
                h.prototype.CurY = function(t) {
                    t.set_int(this.getForY())
                }
                ,
                h.prototype.CurZ = function(t) {
                    t.set_int(this.getForZ())
                }
                ,
                h.prototype.CurValue = function(t) {
                    t.set_any(this.at(this.getForX(), this.getForY(), this.getForZ()))
                }
                ,
                h.prototype.Front = function(t) {
                    t.set_any(this.at(0, 0, 0))
                }
                ,
                h.prototype.Back = function(t) {
                    t.set_any(this.at(this.cx - 1, 0, 0))
                }
                ,
                h.prototype.IndexOf = function(t, e) {
                    for (var i = 0; i < this.cx; i++)
                        if (this.arr[i][0][0] === e)
                            return void t.set_int(i);
                    t.set_int(-1)
                }
                ,
                h.prototype.LastIndexOf = function(t, e) {
                    for (var i = this.cx - 1; 0 <= i; i--)
                        if (this.arr[i][0][0] === e)
                            return void t.set_int(i);
                    t.set_int(-1)
                }
                ,
                h.prototype.AsJSON = function(t) {
                    t.set_string(this.getAsJSON())
                }
                ,
                t.exps = new h
            }(),
            cr.plugins_.Audio = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Audio.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ;
                var c = null
                  , n = null
                  , r = ""
                  , o = ""
                  , a = 0
                  , h = 1
                  , l = 2
                  , u = 3
                  , p = a
                  , d = null
                  , g = []
                  , x = []
                  , f = null
                  , m = !1
                  , y = 0
                  , S = !1
                  , T = 1
                  , _ = 0
                  , v = 0
                  , b = !1
                  , s = 1
                  , w = 1
                  , C = 10
                  , O = 1e4
                  , k = 1
                  , A = null
                  , E = ""
                  , I = !1
                  , P = []
                  , M = !1
                  , F = !1;
                function L(t) {
                    -1 === P.indexOf(t) && P.push(t)
                }
                function D(e) {
                    var t, i = e.instanceObject;
                    try {
                        t = i.play()
                    } catch (t) {
                        return void L(e)
                    }
                    t ? t.catch(function(t) {
                        L(e)
                    }) : I && !c.isInUserInputEvent && L(e)
                }
                function e() {
                    var t, e, i, s, n, r;
                    F || b || !d || ("suspended" === d.state && d.resume && d.resume(),
                    d.createBuffer && (n = d.createBuffer(1, 220, 22050),
                    (r = d.createBufferSource()).buffer = n,
                    r.connect(d.destination),
                    W(r)),
                    "running" === d.state && (F = !0));
                    var o = P.slice(0);
                    if (cr.clearArray(P),
                    !S)
                        for (t = 0,
                        e = o.length; t < e; ++t)
                            (i = o[t]).stopped || i.is_paused || (s = i.instanceObject.play()) && s.catch(function(t) {
                                L(i)
                            })
                }
                function R(t) {
                    t = B(t);
                    return isFinite(t) || (t = 0),
                    t < 0 && (t = 0),
                    1 < t && (t = 1),
                    t
                }
                function j(t) {
                    return t < 0 && (t = 0),
                    1 < t && (t = 1),
                    t = t,
                    Math.log(t) / Math.log(10) * 20
                }
                function B(t) {
                    return Math.pow(10, t / 20)
                }
                document.addEventListener("pointerup", e, !0),
                document.addEventListener("touchend", e, !0),
                document.addEventListener("click", e, !0),
                document.addEventListener("keydown", e, !0),
                document.addEventListener("gamepadconnected", e, !0);
                var N = {};
                function V(t) {
                    return t = t.toLowerCase(),
                    N.hasOwnProperty(t) && N[t].length ? N[t][0].getInputNode() : d.destination
                }
                function G() {
                    return d.createGain ? d.createGain() : d.createGainNode()
                }
                function X(t) {
                    return d.createDelay ? d.createDelay(t) : d.createDelayNode(t)
                }
                function W(t, e) {
                    t.start ? t.start(e || 0) : t.noteOn(e || 0)
                }
                function z(t, e, i, s) {
                    t.start ? t.start(s || 0, e) : t.noteGrainOn(s || 0, e, i - e)
                }
                function i(t) {
                    try {
                        t.stop ? t.stop(0) : t.noteOff(0)
                    } catch (t) {}
                }
                function U(t, e, i, s) {
                    if (t)
                        if (t.cancelScheduledValues(0),
                        0 !== s) {
                            var n = d.currentTime;
                            switch (s += n,
                            i) {
                            case 0:
                                t.setValueAtTime(e, s);
                                break;
                            case 1:
                                t.setValueAtTime(t.value, n),
                                t.linearRampToValueAtTime(e, s);
                                break;
                            case 2:
                                t.setValueAtTime(t.value, n),
                                t.exponentialRampToValueAtTime(e, s)
                            }
                        } else
                            t.value = e
                }
                var Y = ["lowpass", "highpass", "bandpass", "lowshelf", "highshelf", "peaking", "notch", "allpass"];
                function J(t, e, i, s, n, r) {
                    this.type = "filter",
                    this.params = [t, e, i, s, n, r],
                    this.inputNode = G(),
                    this.wetNode = G(),
                    this.wetNode.gain.value = r,
                    this.dryNode = G(),
                    this.dryNode.gain.value = 1 - r,
                    this.filterNode = d.createBiquadFilter(),
                    "number" == typeof this.filterNode.type ? this.filterNode.type = t : this.filterNode.type = Y[t],
                    this.filterNode.frequency.value = e,
                    this.filterNode.detune && (this.filterNode.detune.value = i),
                    this.filterNode.Q.value = s,
                    this.filterNode.gain.value = n,
                    this.inputNode.connect(this.filterNode),
                    this.inputNode.connect(this.dryNode),
                    this.filterNode.connect(this.wetNode)
                }
                function H(t, e, i) {
                    this.type = "delay",
                    this.params = [t, e, i],
                    this.inputNode = G(),
                    this.wetNode = G(),
                    this.wetNode.gain.value = i,
                    this.dryNode = G(),
                    this.dryNode.gain.value = 1 - i,
                    this.mainNode = G(),
                    this.delayNode = X(t),
                    this.delayNode.delayTime.value = t,
                    this.delayGainNode = G(),
                    this.delayGainNode.gain.value = e,
                    this.inputNode.connect(this.mainNode),
                    this.inputNode.connect(this.dryNode),
                    this.mainNode.connect(this.wetNode),
                    this.mainNode.connect(this.delayNode),
                    this.delayNode.connect(this.delayGainNode),
                    this.delayGainNode.connect(this.mainNode)
                }
                function q(t, e, i, s) {
                    this.type = "convolve",
                    this.params = [e, i, s],
                    this.inputNode = G(),
                    this.wetNode = G(),
                    this.wetNode.gain.value = i,
                    this.dryNode = G(),
                    this.dryNode.gain.value = 1 - i,
                    this.convolveNode = d.createConvolver(),
                    t && (this.convolveNode.normalize = e,
                    this.convolveNode.buffer = t),
                    this.inputNode.connect(this.convolveNode),
                    this.inputNode.connect(this.dryNode),
                    this.convolveNode.connect(this.wetNode)
                }
                function K(t, e, i, s, n) {
                    this.type = "flanger",
                    this.params = [t, e, i, s, n],
                    this.inputNode = G(),
                    this.dryNode = G(),
                    this.dryNode.gain.value = 1 - n / 2,
                    this.wetNode = G(),
                    this.wetNode.gain.value = n / 2,
                    this.feedbackNode = G(),
                    this.feedbackNode.gain.value = s,
                    this.delayNode = X(t + e),
                    this.delayNode.delayTime.value = t,
                    this.oscNode = d.createOscillator(),
                    this.oscNode.frequency.value = i,
                    this.oscGainNode = G(),
                    this.oscGainNode.gain.value = e,
                    this.inputNode.connect(this.delayNode),
                    this.inputNode.connect(this.dryNode),
                    this.delayNode.connect(this.wetNode),
                    this.delayNode.connect(this.feedbackNode),
                    this.feedbackNode.connect(this.delayNode),
                    this.oscNode.connect(this.oscGainNode),
                    this.oscGainNode.connect(this.delayNode.delayTime),
                    W(this.oscNode)
                }
                function Q(t, e, i, s, n, r) {
                    this.type = "phaser",
                    this.params = [t, e, i, s, n, r],
                    this.inputNode = G(),
                    this.dryNode = G(),
                    this.dryNode.gain.value = 1 - r / 2,
                    this.wetNode = G(),
                    this.wetNode.gain.value = r / 2,
                    this.filterNode = d.createBiquadFilter(),
                    "number" == typeof this.filterNode.type ? this.filterNode.type = 7 : this.filterNode.type = "allpass",
                    this.filterNode.frequency.value = t,
                    this.filterNode.detune && (this.filterNode.detune.value = e),
                    this.filterNode.Q.value = i,
                    this.oscNode = d.createOscillator(),
                    this.oscNode.frequency.value = n,
                    this.oscGainNode = G(),
                    this.oscGainNode.gain.value = s,
                    this.inputNode.connect(this.filterNode),
                    this.inputNode.connect(this.dryNode),
                    this.filterNode.connect(this.wetNode),
                    this.oscNode.connect(this.oscGainNode),
                    this.oscGainNode.connect(this.filterNode.frequency),
                    W(this.oscNode)
                }
                function Z(t) {
                    this.type = "gain",
                    this.params = [t],
                    this.node = G(),
                    this.node.gain.value = t
                }
                function $(t, e) {
                    this.type = "tremolo",
                    this.params = [t, e],
                    this.node = G(),
                    this.node.gain.value = 1 - e / 2,
                    this.oscNode = d.createOscillator(),
                    this.oscNode.frequency.value = t,
                    this.oscGainNode = G(),
                    this.oscGainNode.gain.value = e / 2,
                    this.oscNode.connect(this.oscGainNode),
                    this.oscGainNode.connect(this.node.gain),
                    W(this.oscNode)
                }
                function tt(t, e) {
                    this.type = "ringmod",
                    this.params = [t, e],
                    this.inputNode = G(),
                    this.wetNode = G(),
                    this.wetNode.gain.value = e,
                    this.dryNode = G(),
                    this.dryNode.gain.value = 1 - e,
                    this.ringNode = G(),
                    this.ringNode.gain.value = 0,
                    this.oscNode = d.createOscillator(),
                    this.oscNode.frequency.value = t,
                    this.oscNode.connect(this.ringNode.gain),
                    W(this.oscNode),
                    this.inputNode.connect(this.ringNode),
                    this.inputNode.connect(this.dryNode),
                    this.ringNode.connect(this.wetNode)
                }
                function et(t, e, i, s, n) {
                    this.type = "distortion",
                    this.params = [t, e, i, s, n],
                    this.inputNode = G(),
                    this.preGain = G(),
                    this.postGain = G(),
                    this.setDrive(i, B(s)),
                    this.wetNode = G(),
                    this.wetNode.gain.value = n,
                    this.dryNode = G(),
                    this.dryNode.gain.value = 1 - n,
                    this.waveShaper = d.createWaveShaper(),
                    this.curve = new Float32Array(65536),
                    this.generateColortouchCurve(t, e),
                    this.waveShaper.curve = this.curve,
                    this.inputNode.connect(this.preGain),
                    this.inputNode.connect(this.dryNode),
                    this.preGain.connect(this.waveShaper),
                    this.waveShaper.connect(this.postGain),
                    this.postGain.connect(this.wetNode)
                }
                function it(t, e, i, s, n) {
                    this.type = "compressor",
                    this.params = [t, e, i, s, n],
                    this.node = d.createDynamicsCompressor();
                    try {
                        this.node.threshold.value = t,
                        this.node.knee.value = e,
                        this.node.ratio.value = i,
                        this.node.attack.value = s,
                        this.node.release.value = n
                    } catch (t) {}
                }
                function st(t, e) {
                    this.type = "analyser",
                    this.params = [t, e],
                    this.node = d.createAnalyser(),
                    this.node.fftSize = t,
                    this.node.smoothingTimeConstant = e,
                    this.freqBins = new Float32Array(this.node.frequencyBinCount),
                    this.signal = new Uint8Array(t),
                    this.peak = 0,
                    this.rms = 0
                }
                function nt() {
                    this.obj = null,
                    this.loadUid = 0
                }
                function rt(t, e) {
                    this.src = t,
                    this.myapi = p,
                    this.is_music = e,
                    this.added_end_listener = !1;
                    var i, s = this;
                    switch (this.outNode = null,
                    this.mediaSourceNode = null,
                    this.panWhenReady = [],
                    this.seekWhenReady = 0,
                    this.pauseWhenReady = !1,
                    this.supportWebAudioAPI = !1,
                    this.failedToLoad = !1,
                    this.wasEverReady = !1,
                    p === h && e && !M && (this.myapi = a,
                    this.outNode = G()),
                    this.bufferObject = null,
                    this.audioData = null,
                    this.myapi) {
                    case a:
                        this.bufferObject = new Audio,
                        this.bufferObject.crossOrigin = "anonymous",
                        this.bufferObject.addEventListener("canplaythrough", function() {
                            s.wasEverReady = !0
                        }),
                        p === h && d.createMediaElementSource && !/wiiu/i.test(navigator.userAgent) && (this.supportWebAudioAPI = !0,
                        this.bufferObject.addEventListener("canplay", function() {
                            !s.mediaSourceNode && s.bufferObject && (s.mediaSourceNode = d.createMediaElementSource(s.bufferObject),
                            s.mediaSourceNode.connect(s.outNode))
                        })),
                        this.bufferObject.autoplay = !1,
                        this.bufferObject.preload = "auto",
                        this.bufferObject.src = t;
                        break;
                    case h:
                        c.isWKWebView ? c.fetchLocalFileViaCordovaAsArrayBuffer(t, function(t) {
                            s.audioData = t,
                            s.decodeAudioBuffer()
                        }, function(t) {
                            s.failedToLoad = !0
                        }) : ((i = new XMLHttpRequest).open("GET", t, !0),
                        i.responseType = "arraybuffer",
                        i.onload = function() {
                            s.audioData = i.response,
                            s.decodeAudioBuffer()
                        }
                        ,
                        i.onerror = function() {
                            s.failedToLoad = !0
                        }
                        ,
                        i.send());
                        break;
                    case l:
                    case u:
                        this.bufferObject = !0
                    }
                }
                function ot(t, e) {
                    var i = this;
                    this.tag = e,
                    this.fresh = !0,
                    this.stopped = !0,
                    this.src = t.src,
                    this.buffer = t,
                    this.myapi = p,
                    this.is_music = t.is_music,
                    this.playbackRate = 1,
                    this.hasPlaybackEnded = !0,
                    this.resume_me = !1,
                    this.is_paused = !1,
                    this.resume_position = 0,
                    this.looping = !1,
                    this.is_muted = !1,
                    this.is_silent = !1,
                    this.volume = 1,
                    this.onended_handler = function(t) {
                        i.is_paused || i.resume_me || (this || t.target) === i.active_buffer && (i.hasPlaybackEnded = !0,
                        i.stopped = !0,
                        r = i.tag,
                        c.trigger(cr.plugins_.Audio.prototype.cnds.OnEnded, n))
                    }
                    ,
                    this.active_buffer = null,
                    this.isTimescaled = 1 === y && !this.is_music || 2 === y,
                    this.mutevol = 1,
                    this.startTime = (this.isTimescaled ? c.kahanTime : c.wallTime).sum,
                    this.gainNode = null,
                    this.pannerNode = null,
                    this.pannerEnabled = !1,
                    this.objectTracker = null,
                    this.panX = 0,
                    this.panY = 0,
                    this.panAngle = 0,
                    this.panConeInner = 0,
                    this.panConeOuter = 0,
                    this.panConeOuterGain = 0,
                    this.instanceObject = null;
                    var s = !1;
                    switch (this.myapi !== h || this.buffer.myapi !== a || this.buffer.supportWebAudioAPI || (this.myapi = a),
                    this.myapi) {
                    case a:
                        this.is_music ? (this.instanceObject = t.bufferObject,
                        s = !t.added_end_listener,
                        t.added_end_listener = !0) : (this.instanceObject = new Audio,
                        this.instanceObject.crossOrigin = "anonymous",
                        this.instanceObject.autoplay = !1,
                        this.instanceObject.src = t.bufferObject.src,
                        s = !0),
                        s && this.instanceObject.addEventListener("ended", function() {
                            r = i.tag,
                            i.stopped = !0,
                            c.trigger(cr.plugins_.Audio.prototype.cnds.OnEnded, n)
                        });
                        break;
                    case h:
                        this.gainNode = G(),
                        this.gainNode.connect(V(e)),
                        this.buffer.myapi === h ? t.bufferObject && (this.instanceObject = d.createBufferSource(),
                        this.instanceObject.buffer = t.bufferObject,
                        this.instanceObject.connect(this.gainNode)) : (this.instanceObject = this.buffer.bufferObject,
                        this.buffer.outNode.connect(this.gainNode),
                        this.buffer.added_end_listener || (this.buffer.added_end_listener = !0,
                        this.buffer.bufferObject.addEventListener("ended", function() {
                            r = i.tag,
                            i.stopped = !0,
                            c.trigger(cr.plugins_.Audio.prototype.cnds.OnEnded, n)
                        })));
                        break;
                    case l:
                        this.instanceObject = new window.Media(o + this.src,null,null,function(t) {
                            t === window.Media.MEDIA_STOPPED && (i.hasPlaybackEnded = !0,
                            i.stopped = !0,
                            r = i.tag,
                            c.trigger(cr.plugins_.Audio.prototype.cnds.OnEnded, n))
                        }
                        );
                        break;
                    case u:
                        this.instanceObject = !0
                    }
                }
                J.prototype.connectTo = function(t) {
                    this.wetNode.disconnect(),
                    this.wetNode.connect(t),
                    this.dryNode.disconnect(),
                    this.dryNode.connect(t)
                }
                ,
                J.prototype.remove = function() {
                    this.inputNode.disconnect(),
                    this.filterNode.disconnect(),
                    this.wetNode.disconnect(),
                    this.dryNode.disconnect()
                }
                ,
                J.prototype.getInputNode = function() {
                    return this.inputNode
                }
                ,
                J.prototype.setParam = function(t, e, i, s) {
                    switch (t) {
                    case 0:
                        (e /= 100) < 0 && (e = 0),
                        1 < e && (e = 1),
                        this.params[5] = e,
                        U(this.wetNode.gain, e, i, s),
                        U(this.dryNode.gain, 1 - e, i, s);
                        break;
                    case 1:
                        this.params[1] = e,
                        U(this.filterNode.frequency, e, i, s);
                        break;
                    case 2:
                        this.params[2] = e,
                        U(this.filterNode.detune, e, i, s);
                        break;
                    case 3:
                        this.params[3] = e,
                        U(this.filterNode.Q, e, i, s);
                        break;
                    case 4:
                        this.params[4] = e,
                        U(this.filterNode.gain, e, i, s)
                    }
                }
                ,
                H.prototype.connectTo = function(t) {
                    this.wetNode.disconnect(),
                    this.wetNode.connect(t),
                    this.dryNode.disconnect(),
                    this.dryNode.connect(t)
                }
                ,
                H.prototype.remove = function() {
                    this.inputNode.disconnect(),
                    this.mainNode.disconnect(),
                    this.delayNode.disconnect(),
                    this.delayGainNode.disconnect(),
                    this.wetNode.disconnect(),
                    this.dryNode.disconnect()
                }
                ,
                H.prototype.getInputNode = function() {
                    return this.inputNode
                }
                ,
                H.prototype.setParam = function(t, e, i, s) {
                    switch (t) {
                    case 0:
                        (e /= 100) < 0 && (e = 0),
                        1 < e && (e = 1),
                        this.params[2] = e,
                        U(this.wetNode.gain, e, i, s),
                        U(this.dryNode.gain, 1 - e, i, s);
                        break;
                    case 4:
                        this.params[1] = R(e),
                        U(this.delayGainNode.gain, R(e), i, s);
                        break;
                    case 5:
                        this.params[0] = e,
                        U(this.delayNode.delayTime, e, i, s)
                    }
                }
                ,
                q.prototype.connectTo = function(t) {
                    this.wetNode.disconnect(),
                    this.wetNode.connect(t),
                    this.dryNode.disconnect(),
                    this.dryNode.connect(t)
                }
                ,
                q.prototype.remove = function() {
                    this.inputNode.disconnect(),
                    this.convolveNode.disconnect(),
                    this.wetNode.disconnect(),
                    this.dryNode.disconnect()
                }
                ,
                q.prototype.getInputNode = function() {
                    return this.inputNode
                }
                ,
                q.prototype.setParam = function(t, e, i, s) {
                    0 === t && ((e /= 100) < 0 && (e = 0),
                    1 < e && (e = 1),
                    this.params[1] = e,
                    U(this.wetNode.gain, e, i, s),
                    U(this.dryNode.gain, 1 - e, i, s))
                }
                ,
                K.prototype.connectTo = function(t) {
                    this.dryNode.disconnect(),
                    this.dryNode.connect(t),
                    this.wetNode.disconnect(),
                    this.wetNode.connect(t)
                }
                ,
                K.prototype.remove = function() {
                    this.inputNode.disconnect(),
                    this.delayNode.disconnect(),
                    this.oscNode.disconnect(),
                    this.oscGainNode.disconnect(),
                    this.dryNode.disconnect(),
                    this.wetNode.disconnect(),
                    this.feedbackNode.disconnect()
                }
                ,
                K.prototype.getInputNode = function() {
                    return this.inputNode
                }
                ,
                K.prototype.setParam = function(t, e, i, s) {
                    switch (t) {
                    case 0:
                        (e /= 100) < 0 && (e = 0),
                        1 < e && (e = 1),
                        this.params[4] = e,
                        U(this.wetNode.gain, e / 2, i, s),
                        U(this.dryNode.gain, 1 - e / 2, i, s);
                        break;
                    case 6:
                        this.params[1] = e / 1e3,
                        U(this.oscGainNode.gain, e / 1e3, i, s);
                        break;
                    case 7:
                        this.params[2] = e,
                        U(this.oscNode.frequency, e, i, s);
                        break;
                    case 8:
                        this.params[3] = e / 100,
                        U(this.feedbackNode.gain, e / 100, i, s)
                    }
                }
                ,
                Q.prototype.connectTo = function(t) {
                    this.dryNode.disconnect(),
                    this.dryNode.connect(t),
                    this.wetNode.disconnect(),
                    this.wetNode.connect(t)
                }
                ,
                Q.prototype.remove = function() {
                    this.inputNode.disconnect(),
                    this.filterNode.disconnect(),
                    this.oscNode.disconnect(),
                    this.oscGainNode.disconnect(),
                    this.dryNode.disconnect(),
                    this.wetNode.disconnect()
                }
                ,
                Q.prototype.getInputNode = function() {
                    return this.inputNode
                }
                ,
                Q.prototype.setParam = function(t, e, i, s) {
                    switch (t) {
                    case 0:
                        (e /= 100) < 0 && (e = 0),
                        1 < e && (e = 1),
                        this.params[5] = e,
                        U(this.wetNode.gain, e / 2, i, s),
                        U(this.dryNode.gain, 1 - e / 2, i, s);
                        break;
                    case 1:
                        this.params[0] = e,
                        U(this.filterNode.frequency, e, i, s);
                        break;
                    case 2:
                        this.params[1] = e,
                        U(this.filterNode.detune, e, i, s);
                        break;
                    case 3:
                        this.params[2] = e,
                        U(this.filterNode.Q, e, i, s);
                        break;
                    case 6:
                        this.params[3] = e,
                        U(this.oscGainNode.gain, e, i, s);
                        break;
                    case 7:
                        this.params[4] = e,
                        U(this.oscNode.frequency, e, i, s)
                    }
                }
                ,
                Z.prototype.connectTo = function(t) {
                    this.node.disconnect(),
                    this.node.connect(t)
                }
                ,
                Z.prototype.remove = function() {
                    this.node.disconnect()
                }
                ,
                Z.prototype.getInputNode = function() {
                    return this.node
                }
                ,
                Z.prototype.setParam = function(t, e, i, s) {
                    4 === t && (this.params[0] = R(e),
                    U(this.node.gain, R(e), i, s))
                }
                ,
                $.prototype.connectTo = function(t) {
                    this.node.disconnect(),
                    this.node.connect(t)
                }
                ,
                $.prototype.remove = function() {
                    this.oscNode.disconnect(),
                    this.oscGainNode.disconnect(),
                    this.node.disconnect()
                }
                ,
                $.prototype.getInputNode = function() {
                    return this.node
                }
                ,
                $.prototype.setParam = function(t, e, i, s) {
                    switch (t) {
                    case 0:
                        (e /= 100) < 0 && (e = 0),
                        1 < e && (e = 1),
                        this.params[1] = e,
                        U(this.node.gain.value, 1 - e / 2, i, s),
                        U(this.oscGainNode.gain.value, e / 2, i, s);
                        break;
                    case 7:
                        this.params[0] = e,
                        U(this.oscNode.frequency, e, i, s)
                    }
                }
                ,
                tt.prototype.connectTo = function(t) {
                    this.wetNode.disconnect(),
                    this.wetNode.connect(t),
                    this.dryNode.disconnect(),
                    this.dryNode.connect(t)
                }
                ,
                tt.prototype.remove = function() {
                    this.oscNode.disconnect(),
                    this.ringNode.disconnect(),
                    this.inputNode.disconnect(),
                    this.wetNode.disconnect(),
                    this.dryNode.disconnect()
                }
                ,
                tt.prototype.getInputNode = function() {
                    return this.inputNode
                }
                ,
                tt.prototype.setParam = function(t, e, i, s) {
                    switch (t) {
                    case 0:
                        (e /= 100) < 0 && (e = 0),
                        1 < e && (e = 1),
                        this.params[1] = e,
                        U(this.wetNode.gain, e, i, s),
                        U(this.dryNode.gain, 1 - e, i, s);
                        break;
                    case 7:
                        this.params[0] = e,
                        U(this.oscNode.frequency, e, i, s)
                    }
                }
                ,
                et.prototype.setDrive = function(t, e) {
                    t < .01 && (t = .01),
                    this.preGain.gain.value = t,
                    this.postGain.gain.value = Math.pow(1 / t, .6) * e
                }
                ,
                et.prototype.shape = function(t, e, i) {
                    var s, n = 1.05 * i * e - e, i = t < 0 ? -1 : 1, t = t < 0 ? -t : t, s = t < e ? t : e + n * (s = t - e,
                    n = 1 / n,
                    1 - Math.exp(-n * s));
                    return s *= i
                }
                ,
                et.prototype.generateColortouchCurve = function(t, e) {
                    for (var i, s = B(t), n = B(e), r = 0; r < 32768; ++r)
                        i = r / 32768,
                        i = this.shape(i, s, n),
                        this.curve[32768 + r] = i,
                        this.curve[32768 - r - 1] = -i
                }
                ,
                et.prototype.connectTo = function(t) {
                    this.wetNode.disconnect(),
                    this.wetNode.connect(t),
                    this.dryNode.disconnect(),
                    this.dryNode.connect(t)
                }
                ,
                et.prototype.remove = function() {
                    this.inputNode.disconnect(),
                    this.preGain.disconnect(),
                    this.waveShaper.disconnect(),
                    this.postGain.disconnect(),
                    this.wetNode.disconnect(),
                    this.dryNode.disconnect()
                }
                ,
                et.prototype.getInputNode = function() {
                    return this.inputNode
                }
                ,
                et.prototype.setParam = function(t, e, i, s) {
                    0 === t && ((e /= 100) < 0 && (e = 0),
                    1 < e && (e = 1),
                    this.params[4] = e,
                    U(this.wetNode.gain, e, i, s),
                    U(this.dryNode.gain, 1 - e, i, s))
                }
                ,
                it.prototype.connectTo = function(t) {
                    this.node.disconnect(),
                    this.node.connect(t)
                }
                ,
                it.prototype.remove = function() {
                    this.node.disconnect()
                }
                ,
                it.prototype.getInputNode = function() {
                    return this.node
                }
                ,
                it.prototype.setParam = function(t, e, i, s) {}
                ,
                st.prototype.tick = function() {
                    this.node.getFloatFrequencyData(this.freqBins),
                    this.node.getByteTimeDomainData(this.signal);
                    for (var t = this.node.fftSize, e = 0, i = this.peak = 0, s = 0; e < t; e++)
                        (s = (this.signal[e] - 128) / 128) < 0 && (s = -s),
                        this.peak < s && (this.peak = s),
                        i += s * s;
                    this.peak = j(this.peak),
                    this.rms = j(Math.sqrt(i / t))
                }
                ,
                st.prototype.connectTo = function(t) {
                    this.node.disconnect(),
                    this.node.connect(t)
                }
                ,
                st.prototype.remove = function() {
                    this.node.disconnect()
                }
                ,
                st.prototype.getInputNode = function() {
                    return this.node
                }
                ,
                st.prototype.setParam = function(t, e, i, s) {}
                ,
                nt.prototype.setObject = function(t) {
                    this.obj = t
                }
                ,
                nt.prototype.hasObject = function() {
                    return !!this.obj
                }
                ,
                nt.prototype.tick = function(t) {}
                ,
                rt.prototype.release = function() {
                    for (var t, e = 0, i = 0, s = x.length; e < s; ++e)
                        t = x[e],
                        (x[i] = t).buffer === this ? t.stop() : ++i;
                    x.length = i,
                    this.mediaSourceNode && (this.mediaSourceNode.disconnect(),
                    this.mediaSourceNode = null),
                    this.outNode && (this.outNode.disconnect(),
                    this.outNode = null),
                    this.bufferObject = null,
                    this.audioData = null
                }
                ,
                rt.prototype.decodeAudioBuffer = function() {
                    var h, t;
                    !this.bufferObject && this.audioData && (h = this,
                    d.decodeAudioData ? d.decodeAudioData(this.audioData, function(t) {
                        var e, i, s, n;
                        if (h.bufferObject = t,
                        h.audioData = null,
                        cr.is_undefined(h.playTagWhenReady) || S)
                            cr.is_undefined(h.convolveWhenReady) || ((n = h.convolveWhenReady.convolveNode).normalize = h.normalizeWhenReady,
                            n.buffer = t);
                        else if (h.panWhenReady.length) {
                            for (e = 0,
                            i = h.panWhenReady.length; e < i; e++) {
                                var r, o, a = h.panWhenReady[e];
                                (s = new ot(h,a.thistag)).setPannerEnabled(!0),
                                void 0 !== a.objUid && (a.obj = c.getObjectByUID(a.objUid),
                                !a.obj) || (a.obj ? (r = cr.rotatePtAround(a.obj.x, a.obj.y, -a.obj.layer.getAngle(), _, v, !0),
                                o = cr.rotatePtAround(a.obj.x, a.obj.y, -a.obj.layer.getAngle(), _, v, !1),
                                s.setPan(r, o, cr.to_degrees(a.obj.angle - a.obj.layer.getAngle()), a.ia, a.oa, a.og),
                                s.setObject(a.obj)) : s.setPan(a.x, a.y, a.a, a.ia, a.oa, a.og),
                                s.play(h.loopWhenReady, h.volumeWhenReady, h.seekWhenReady),
                                h.pauseWhenReady && s.pause(),
                                x.push(s))
                            }
                            cr.clearArray(h.panWhenReady)
                        } else
                            (s = new ot(h,h.playTagWhenReady || "")).play(h.loopWhenReady, h.volumeWhenReady, h.seekWhenReady),
                            h.pauseWhenReady && s.pause(),
                            x.push(s)
                    }, function(t) {
                        h.failedToLoad = !0
                    }) : (this.bufferObject = d.createBuffer(this.audioData, !1),
                    this.audioData = null,
                    cr.is_undefined(this.playTagWhenReady) || S ? cr.is_undefined(this.convolveWhenReady) || ((t = this.convolveWhenReady.convolveNode).normalize = this.normalizeWhenReady,
                    t.buffer = this.bufferObject) : ((t = new ot(this,this.playTagWhenReady)).play(this.loopWhenReady, this.volumeWhenReady, this.seekWhenReady),
                    this.pauseWhenReady && t.pause(),
                    x.push(t))))
                }
                ,
                rt.prototype.isLoaded = function() {
                    switch (this.myapi) {
                    case a:
                        var t = 4 <= this.bufferObject.readyState;
                        return t && (this.wasEverReady = !0),
                        t || this.wasEverReady;
                    case h:
                        return !!this.audioData || !!this.bufferObject;
                    case l:
                    case u:
                        return !0
                    }
                    return !1
                }
                ,
                rt.prototype.isLoadedAndDecoded = function() {
                    switch (this.myapi) {
                    case a:
                        return this.isLoaded();
                    case h:
                        return !!this.bufferObject;
                    case l:
                    case u:
                        return !0
                    }
                    return !1
                }
                ,
                rt.prototype.hasFailedToLoad = function() {
                    switch (this.myapi) {
                    case a:
                        return !!this.bufferObject.error;
                    case h:
                        return this.failedToLoad
                    }
                    return !1
                }
                ,
                ot.prototype.hasEnded = function() {
                    switch (this.myapi) {
                    case a:
                        return this.instanceObject.ended;
                    case h:
                        return this.buffer.myapi === h ? !(!this.fresh && !this.stopped && this.instanceObject.loop) && (!this.is_paused && this.hasPlaybackEnded) : this.instanceObject.ended;
                    case l:
                        return this.hasPlaybackEnded
                    }
                    return !0
                }
                ,
                ot.prototype.canBeRecycled = function() {
                    return !(!this.fresh && !this.stopped) || this.hasEnded()
                }
                ,
                ot.prototype.setPannerEnabled = function(t) {
                    p === h && (!this.pannerEnabled && t ? this.gainNode && (this.pannerNode || (this.pannerNode = d.createPanner(),
                    "number" == typeof this.pannerNode.panningModel ? this.pannerNode.panningModel = s : this.pannerNode.panningModel = ["equalpower", "HRTF", "soundfield"][s],
                    "number" == typeof this.pannerNode.distanceModel ? this.pannerNode.distanceModel = w : this.pannerNode.distanceModel = ["linear", "inverse", "exponential"][w],
                    this.pannerNode.refDistance = C,
                    this.pannerNode.maxDistance = O,
                    this.pannerNode.rolloffFactor = k),
                    this.gainNode.disconnect(),
                    this.gainNode.connect(this.pannerNode),
                    this.pannerNode.connect(V(this.tag)),
                    this.pannerEnabled = !0) : this.pannerEnabled && !t && this.gainNode && (this.pannerNode.disconnect(),
                    this.gainNode.disconnect(),
                    this.gainNode.connect(V(this.tag)),
                    this.pannerEnabled = !1))
                }
                ,
                ot.prototype.setPan = function(t, e, i, s, n, r) {
                    this.pannerEnabled && p === h && (this.pannerNode.setPosition(t, e, 0),
                    this.pannerNode.setOrientation(Math.cos(cr.to_radians(i)), Math.sin(cr.to_radians(i)), 0),
                    this.pannerNode.coneInnerAngle = s,
                    this.pannerNode.coneOuterAngle = n,
                    this.pannerNode.coneOuterGain = r,
                    this.panX = t,
                    this.panY = e,
                    this.panAngle = i,
                    this.panConeInner = s,
                    this.panConeOuter = n,
                    this.panConeOuterGain = r)
                }
                ,
                ot.prototype.setObject = function(t) {
                    this.pannerEnabled && p === h && (this.objectTracker || (this.objectTracker = new nt),
                    this.objectTracker.setObject(t))
                }
                ,
                ot.prototype.tick = function(t) {
                    var e, i;
                    this.pannerEnabled && p === h && this.objectTracker && this.objectTracker.hasObject() && this.isPlaying() && (this.objectTracker.tick(t),
                    e = this.objectTracker.obj,
                    i = cr.rotatePtAround(e.x, e.y, -e.layer.getAngle(), _, v, !0),
                    t = cr.rotatePtAround(e.x, e.y, -e.layer.getAngle(), _, v, !1),
                    this.pannerNode.setPosition(i, t, 0),
                    void (t = 0) !== this.objectTracker.obj.angle && (t = e.angle - e.layer.getAngle(),
                    this.pannerNode.setOrientation(Math.cos(t), Math.sin(t), 0)))
                }
                ,
                ot.prototype.play = function(t, e, i, s) {
                    var n = this.instanceObject;
                    this.looping = t,
                    this.volume = e;
                    var r = i || 0;
                    switch (s = s || 0,
                    this.myapi) {
                    case a:
                        if (1 !== n.playbackRate && (n.playbackRate = 1),
                        n.volume !== e * T && (n.volume = e * T),
                        n.loop !== t && (n.loop = t),
                        n.muted && (n.muted = !1),
                        n.currentTime !== r)
                            try {
                                n.currentTime = r
                            } catch (t) {}
                        D(this);
                        break;
                    case h:
                        if (this.muted = !1,
                        this.mutevol = 1,
                        this.buffer.myapi === h)
                            this.gainNode.gain.value = e * T,
                            this.fresh || (this.instanceObject = d.createBufferSource(),
                            this.instanceObject.buffer = this.buffer.bufferObject,
                            this.instanceObject.connect(this.gainNode)),
                            this.instanceObject.onended = this.onended_handler,
                            this.active_buffer = this.instanceObject,
                            this.instanceObject.loop = t,
                            this.hasPlaybackEnded = !1,
                            0 === r ? W(this.instanceObject, s) : z(this.instanceObject, r, this.getDuration(), s);
                        else {
                            if (1 !== n.playbackRate && (n.playbackRate = 1),
                            n.loop !== t && (n.loop = t),
                            n.volume = e * T,
                            n.currentTime !== r)
                                try {
                                    n.currentTime = r
                                } catch (t) {}
                            D(this)
                        }
                        break;
                    case l:
                        (!this.fresh && this.stopped || 0 !== r) && n.seekTo(r),
                        n.play(),
                        this.hasPlaybackEnded = !1;
                        break;
                    case u:
                        (c.isDirectCanvas ? AppMobi.context : AppMobi.player).playSound(this.src, t)
                    }
                    this.playbackRate = 1,
                    this.startTime = (this.isTimescaled ? c.kahanTime : c.wallTime).sum - r,
                    this.fresh = !1,
                    this.stopped = !1,
                    this.is_paused = !1
                }
                ,
                ot.prototype.stop = function() {
                    switch (this.myapi) {
                    case a:
                        this.instanceObject.paused || this.instanceObject.pause();
                        break;
                    case h:
                        this.buffer.myapi === h ? i(this.instanceObject) : this.instanceObject.paused || this.instanceObject.pause();
                        break;
                    case l:
                        this.instanceObject.stop();
                        break;
                    case u:
                        c.isDirectCanvas && AppMobi.context.stopSound(this.src)
                    }
                    this.stopped = !0,
                    this.is_paused = !1
                }
                ,
                ot.prototype.pause = function() {
                    if (!(this.fresh || this.stopped || this.hasEnded() || this.is_paused)) {
                        switch (this.myapi) {
                        case a:
                            this.instanceObject.paused || this.instanceObject.pause();
                            break;
                        case h:
                            this.buffer.myapi === h ? (this.resume_position = this.getPlaybackTime(!0),
                            this.looping && (this.resume_position = this.resume_position % this.getDuration()),
                            this.is_paused = !0,
                            i(this.instanceObject)) : this.instanceObject.paused || this.instanceObject.pause();
                            break;
                        case l:
                            this.instanceObject.pause();
                            break;
                        case u:
                            c.isDirectCanvas && AppMobi.context.stopSound(this.src)
                        }
                        this.is_paused = !0
                    }
                }
                ,
                ot.prototype.resume = function() {
                    if (!(this.fresh || this.stopped || this.hasEnded()) && this.is_paused) {
                        switch (this.myapi) {
                        case a:
                            D(this);
                            break;
                        case h:
                            this.buffer.myapi === h ? (this.instanceObject = d.createBufferSource(),
                            this.instanceObject.buffer = this.buffer.bufferObject,
                            this.instanceObject.connect(this.gainNode),
                            this.instanceObject.onended = this.onended_handler,
                            this.active_buffer = this.instanceObject,
                            this.instanceObject.loop = this.looping,
                            this.gainNode.gain.value = T * this.volume * this.mutevol,
                            this.updatePlaybackRate(),
                            this.startTime = (this.isTimescaled ? c.kahanTime : c.wallTime).sum - this.resume_position / (this.playbackRate || .001),
                            z(this.instanceObject, this.resume_position, this.getDuration())) : D(this);
                            break;
                        case l:
                            this.instanceObject.play();
                            break;
                        case u:
                            c.isDirectCanvas && AppMobi.context.resumeSound(this.src)
                        }
                        this.is_paused = !1
                    }
                }
                ,
                ot.prototype.seek = function(t) {
                    if (!(this.fresh || this.stopped || this.hasEnded()))
                        switch (this.myapi) {
                        case a:
                            try {
                                this.instanceObject.currentTime = t
                            } catch (t) {}
                            break;
                        case h:
                            if (this.buffer.myapi === h)
                                this.is_paused ? this.resume_position = t : (this.pause(),
                                this.resume_position = t,
                                this.resume());
                            else
                                try {
                                    this.instanceObject.currentTime = t
                                } catch (t) {}
                            break;
                        case l:
                            break;
                        case u:
                            c.isDirectCanvas && AppMobi.context.seekSound(this.src, t)
                        }
                }
                ,
                ot.prototype.reconnect = function(t) {
                    this.myapi === h && (this.pannerEnabled ? (this.pannerNode.disconnect(),
                    this.pannerNode.connect(t)) : (this.gainNode.disconnect(),
                    this.gainNode.connect(t)))
                }
                ,
                ot.prototype.getDuration = function(t) {
                    var e = 0;
                    switch (this.myapi) {
                    case a:
                        void 0 !== this.instanceObject.duration && (e = this.instanceObject.duration);
                        break;
                    case h:
                        e = this.buffer.bufferObject.duration;
                        break;
                    case l:
                        e = this.instanceObject.getDuration();
                        break;
                    case u:
                        c.isDirectCanvas && (e = AppMobi.context.getDurationSound(this.src))
                    }
                    return t && (e /= this.playbackRate || .001),
                    e
                }
                ,
                ot.prototype.getPlaybackTime = function(t) {
                    var e = this.getDuration()
                      , i = 0;
                    switch (this.myapi) {
                    case a:
                        void 0 !== this.instanceObject.currentTime && (i = this.instanceObject.currentTime);
                        break;
                    case h:
                        if (this.buffer.myapi === h) {
                            if (this.is_paused)
                                return this.resume_position;
                            i = (this.isTimescaled ? c.kahanTime : c.wallTime).sum - this.startTime
                        } else
                            void 0 !== this.instanceObject.currentTime && (i = this.instanceObject.currentTime);
                        break;
                    case l:
                        break;
                    case u:
                        c.isDirectCanvas && (i = AppMobi.context.getPlaybackTimeSound(this.src))
                    }
                    return t && (i *= this.playbackRate),
                    !this.looping && e < i && (i = e),
                    i
                }
                ,
                ot.prototype.isPlaying = function() {
                    return !(this.is_paused || this.fresh || this.stopped || this.hasEnded())
                }
                ,
                ot.prototype.shouldSave = function() {
                    return !this.fresh && !this.stopped && !this.hasEnded()
                }
                ,
                ot.prototype.setVolume = function(t) {
                    this.volume = t,
                    this.updateVolume()
                }
                ,
                ot.prototype.updateVolume = function() {
                    var t = this.volume * T;
                    switch (isFinite(t) || (t = 0),
                    this.myapi) {
                    case a:
                        void 0 !== this.instanceObject.volume && this.instanceObject.volume !== t && (this.instanceObject.volume = t);
                        break;
                    case h:
                        this.buffer.myapi === h ? this.gainNode.gain.value = t * this.mutevol : void 0 !== this.instanceObject.volume && this.instanceObject.volume !== t && (this.instanceObject.volume = t)
                    }
                }
                ,
                ot.prototype.getVolume = function() {
                    return this.volume
                }
                ,
                ot.prototype.doSetMuted = function(t) {
                    switch (this.myapi) {
                    case a:
                        this.instanceObject.muted !== !!t && (this.instanceObject.muted = !!t);
                        break;
                    case h:
                        this.buffer.myapi === h ? (this.mutevol = t ? 0 : 1,
                        this.gainNode.gain.value = T * this.volume * this.mutevol) : this.instanceObject.muted !== !!t && (this.instanceObject.muted = !!t)
                    }
                }
                ,
                ot.prototype.setMuted = function(t) {
                    this.is_muted = !!t,
                    this.doSetMuted(this.is_muted || this.is_silent)
                }
                ,
                ot.prototype.setSilent = function(t) {
                    this.is_silent = !!t,
                    this.doSetMuted(this.is_muted || this.is_silent)
                }
                ,
                ot.prototype.setLooping = function(t) {
                    switch (this.looping = t,
                    this.myapi) {
                    case a:
                    case h:
                        this.instanceObject.loop !== !!t && (this.instanceObject.loop = !!t);
                        break;
                    case l:
                        break;
                    case u:
                        c.isDirectCanvas && AppMobi.context.setLoopingSound(this.src, t)
                    }
                }
                ,
                ot.prototype.setPlaybackRate = function(t) {
                    this.playbackRate = t,
                    this.updatePlaybackRate()
                }
                ,
                ot.prototype.updatePlaybackRate = function() {
                    var t = this.playbackRate;
                    switch (this.isTimescaled && (t *= c.timescale),
                    this.myapi) {
                    case a:
                        this.instanceObject.playbackRate !== t && (this.instanceObject.playbackRate = t);
                        break;
                    case h:
                        this.buffer.myapi === h ? this.instanceObject.playbackRate.value !== t && (this.instanceObject.playbackRate.value = t) : this.instanceObject.playbackRate !== t && (this.instanceObject.playbackRate = t)
                    }
                }
                ,
                ot.prototype.setSuspended = function(t) {
                    switch (this.myapi) {
                    case a:
                        t ? this.isPlaying() ? (this.resume_me = !0,
                        this.instanceObject.pause()) : this.resume_me = !1 : this.resume_me && (this.instanceObject.play(),
                        this.resume_me = !1);
                        break;
                    case h:
                        t ? this.isPlaying() ? (this.resume_me = !0,
                        this.buffer.myapi === h ? (this.resume_position = this.getPlaybackTime(!0),
                        this.looping && (this.resume_position = this.resume_position % this.getDuration()),
                        i(this.instanceObject)) : this.instanceObject.pause()) : this.resume_me = !1 : this.resume_me && (this.buffer.myapi === h ? (this.instanceObject = d.createBufferSource(),
                        this.instanceObject.buffer = this.buffer.bufferObject,
                        this.instanceObject.connect(this.gainNode),
                        this.instanceObject.onended = this.onended_handler,
                        this.active_buffer = this.instanceObject,
                        this.instanceObject.loop = this.looping,
                        this.gainNode.gain.value = T * this.volume * this.mutevol,
                        this.updatePlaybackRate(),
                        this.startTime = (this.isTimescaled ? c.kahanTime : c.wallTime).sum - this.resume_position / (this.playbackRate || .001),
                        z(this.instanceObject, this.resume_position, this.getDuration())) : this.instanceObject.play(),
                        this.resume_me = !1);
                        break;
                    case l:
                        t ? this.isPlaying() ? (this.instanceObject.pause(),
                        this.resume_me = !0) : this.resume_me = !1 : this.resume_me && (this.resume_me = !1,
                        this.instanceObject.play())
                    }
                }
                ,
                t.Instance = function(t) {
                    if (this.type = t,
                    this.runtime = t.runtime,
                    c = this.runtime,
                    (n = this).listenerTracker = null,
                    this.listenerZ = -600,
                    this.runtime.isWKWebView && (M = !0),
                    !(this.runtime.isiOS || this.runtime.isAndroid && (this.runtime.isChrome || this.runtime.isAndroidStockBrowser)) || this.runtime.isCrosswalk || this.runtime.isDomFree || this.runtime.isAmazonWebApp || M || (I = !0),
                    d = null,
                    "undefined" != typeof AudioContext ? (p = h,
                    d = new AudioContext) : "undefined" != typeof webkitAudioContext && (p = h,
                    d = new webkitAudioContext),
                    this.runtime.isiOS && d && (d.close && d.close(),
                    "undefined" != typeof AudioContext ? d = new AudioContext : "undefined" != typeof webkitAudioContext && (d = new webkitAudioContext)),
                    p !== h && (this.runtime.isCordova && void 0 !== window.Media ? p = l : this.runtime.isAppMobi && (p = u)),
                    p === l && (-1 < (t = (o = location.href).lastIndexOf("/")) && (o = o.substr(0, t + 1)),
                    o = o.replace("file://", "")),
                    this.runtime.isSafari && this.runtime.isWindows && "undefined" == typeof Audio)
                        alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
                        this.runtime.DestroyInstance(this);
                    else {
                        if (this.runtime.isDirectCanvas)
                            m = this.runtime.isAndroid;
                        else
                            try {
                                m = !!(new Audio).canPlayType('audio/ogg; codecs="vorbis"') && !this.runtime.isWindows10
                            } catch (t) {
                                m = !1
                            }
                        p,
                        this.runtime.tickMe(this)
                    }
                }
                ;
                var at = t.Instance.prototype;
                at.onCreate = function() {
                    this.runtime.audioInstance = this,
                    y = this.properties[0],
                    this.saveload = this.properties[1],
                    this.playinbackground = 0 !== this.properties[2],
                    this.nextPlayTime = 0,
                    s = this.properties[3],
                    w = this.properties[4],
                    this.listenerZ = -this.properties[5],
                    C = this.properties[6],
                    O = this.properties[7],
                    k = this.properties[8],
                    this.listenerTracker = new nt;
                    var t = this.runtime.draw_width || this.runtime.width
                      , e = this.runtime.draw_height || this.runtime.height;
                    p === h && (d.listener.setPosition(t / 2, e / 2, this.listenerZ),
                    d.listener.setOrientation(0, 0, 1, 0, -1, 0),
                    window.c2OnAudioMicStream = function(t, e) {
                        A && A.disconnect(),
                        E = e.toLowerCase(),
                        (A = d.createMediaStreamSource(t)).connect(V(E))
                    }
                    ),
                    this.runtime.addSuspendCallback(function(t) {
                        n.onSuspend(t)
                    });
                    var i = this;
                    this.runtime.addDestroyCallback(function(t) {
                        i.onInstanceDestroyed(t)
                    })
                }
                ,
                at.onInstanceDestroyed = function(t) {
                    for (var e, i = 0, s = x.length; i < s; i++)
                        (e = x[i]).objectTracker && e.objectTracker.obj === t && (e.objectTracker.obj = null,
                        e.pannerEnabled && e.isPlaying() && e.looping && e.stop());
                    this.listenerTracker.obj === t && (this.listenerTracker.obj = null)
                }
                ,
                at.saveToJSON = function() {
                    for (var t, e, i, s, n = {
                        silent: S,
                        masterVolume: T,
                        listenerZ: this.listenerZ,
                        listenerUid: this.listenerTracker.hasObject() ? this.listenerTracker.obj.uid : -1,
                        playing: [],
                        effects: {}
                    }, r = n.playing, o = 0, a = x.length; o < a; o++)
                        (t = x[o]).shouldSave() && 3 !== this.saveload && (t.is_music && 1 === this.saveload || !t.is_music && 2 === this.saveload || (s = t.getPlaybackTime(),
                        t.looping && (s %= t.getDuration()),
                        e = {
                            tag: t.tag,
                            buffersrc: t.buffer.src,
                            is_music: t.is_music,
                            playbackTime: s,
                            volume: t.volume,
                            looping: t.looping,
                            muted: t.is_muted,
                            playbackRate: t.playbackRate,
                            paused: t.is_paused,
                            resume_position: t.resume_position
                        },
                        t.pannerEnabled && (e.pan = {},
                        s = e.pan,
                        t.objectTracker && t.objectTracker.hasObject() ? s.objUid = t.objectTracker.obj.uid : (s.x = t.panX,
                        s.y = t.panY,
                        s.a = t.panAngle),
                        s.ia = t.panConeInner,
                        s.oa = t.panConeOuter,
                        s.og = t.panConeOuterGain),
                        r.push(e)));
                    var h, c = n.effects;
                    for (i in N)
                        if (N.hasOwnProperty(i)) {
                            for (h = [],
                            o = 0,
                            a = N[i].length; o < a; o++)
                                h.push({
                                    type: N[i][o].type,
                                    params: N[i][o].params
                                });
                            c[i] = h
                        }
                    return n
                }
                ;
                var ht = [];
                at.loadFromJSON = function(t) {
                    var e = t.silent;
                    T = t.masterVolume,
                    this.listenerZ = t.listenerZ,
                    this.listenerTracker.setObject(null);
                    var i = t.listenerUid;
                    -1 !== i && (this.listenerTracker.loadUid = i,
                    ht.push(this.listenerTracker));
                    var s, n, r, o, a, h, c, l, u, p, d, g, f, m, y, _, v, b, w = t.playing;
                    if (3 !== this.saveload)
                        for (s = 0,
                        n = x.length; s < n; s++)
                            (d = x[s]).is_music && 1 === this.saveload || !d.is_music && 2 === this.saveload || d.stop();
                    for (g in N)
                        if (N.hasOwnProperty(g))
                            for (s = 0,
                            n = N[g].length; s < n; s++)
                                N[g][s].remove();
                    for (g in cr.wipe(N),
                    t.effects)
                        if (t.effects.hasOwnProperty(g))
                            for (s = 0,
                            n = (y = t.effects[g]).length; s < n; s++)
                                switch (_ = y[s].type,
                                v = y[s].params,
                                _) {
                                case "filter":
                                    gt(g, new J(v[0],v[1],v[2],v[3],v[4],v[5]));
                                    break;
                                case "delay":
                                    gt(g, new H(v[0],v[1],v[2]));
                                    break;
                                case "convolve":
                                    o = v[2],
                                    (p = this.getAudioBuffer(o, !1)).bufferObject ? b = new q(p.bufferObject,v[0],v[1],o) : (b = new q(null,v[0],v[1],o),
                                    p.normalizeWhenReady = v[0],
                                    p.convolveWhenReady = b),
                                    gt(g, b);
                                    break;
                                case "flanger":
                                    gt(g, new K(v[0],v[1],v[2],v[3],v[4]));
                                    break;
                                case "phaser":
                                    gt(g, new Q(v[0],v[1],v[2],v[3],v[4],v[5]));
                                    break;
                                case "gain":
                                    gt(g, new Z(v[0]));
                                    break;
                                case "tremolo":
                                    gt(g, new $(v[0],v[1]));
                                    break;
                                case "ringmod":
                                    gt(g, new tt(v[0],v[1]));
                                    break;
                                case "distortion":
                                    gt(g, new et(v[0],v[1],v[2],v[3],v[4]));
                                    break;
                                case "compressor":
                                    gt(g, new it(v[0],v[1],v[2],v[3],v[4]));
                                    break;
                                case "analyser":
                                    gt(g, new st(v[0],v[1]))
                                }
                    for (s = 0,
                    n = w.length; s < n; s++)
                        3 !== this.saveload && (o = (r = w[s]).buffersrc,
                        a = r.is_music,
                        h = r.tag,
                        c = r.playbackTime,
                        l = r.looping,
                        u = r.volume,
                        m = (f = r.pan) && f.hasOwnProperty("objUid") ? f.objUid : -1,
                        a && 1 === this.saveload || !a && 2 === this.saveload || ((d = this.getAudioInstance(o, h, a, l, u)) ? (d.resume_position = r.resume_position,
                        d.setPannerEnabled(!!f),
                        d.play(l, u, c),
                        d.updatePlaybackRate(),
                        d.updateVolume(),
                        d.doSetMuted(d.is_muted || d.is_silent),
                        r.paused && d.pause(),
                        r.muted && d.setMuted(!0),
                        d.doSetMuted(d.is_muted || d.is_silent),
                        f && (-1 !== m ? (d.objectTracker = d.objectTracker || new nt,
                        d.objectTracker.loadUid = m,
                        ht.push(d.objectTracker)) : d.setPan(f.x, f.y, f.a, f.ia, f.oa, f.og))) : ((p = this.getAudioBuffer(o, a)).seekWhenReady = c,
                        p.pauseWhenReady = r.paused,
                        f && (-1 !== m ? p.panWhenReady.push({
                            objUid: m,
                            ia: f.ia,
                            oa: f.oa,
                            og: f.og,
                            thistag: h
                        }) : p.panWhenReady.push({
                            x: f.x,
                            y: f.y,
                            a: f.a,
                            ia: f.ia,
                            oa: f.oa,
                            og: f.og,
                            thistag: h
                        })))));
                    if (e && !S) {
                        for (s = 0,
                        n = x.length; s < n; s++)
                            x[s].setSilent(!0);
                        S = !0
                    } else if (!e && S) {
                        for (s = 0,
                        n = x.length; s < n; s++)
                            x[s].setSilent(!1);
                        S = !1
                    }
                }
                ,
                at.afterLoad = function() {
                    for (var t, e, i = 0, s = ht.length; i < s; i++)
                        t = ht[i],
                        e = this.runtime.getObjectByUID(t.loadUid),
                        t.setObject(e),
                        t.loadUid = -1,
                        e && (_ = e.x,
                        v = e.y);
                    cr.clearArray(ht)
                }
                ,
                at.onSuspend = function(t) {
                    if (!this.playinbackground) {
                        var e, i;
                        for (!t && d && d.resume && (d.resume(),
                        b = !1),
                        e = 0,
                        i = x.length; e < i; e++)
                            x[e].setSuspended(t);
                        t && d && d.suspend && (d.suspend(),
                        b = !0)
                    }
                }
                ,
                at.tick = function() {
                    for (var t, e, i, s, n = this.runtime.dt, r = 0, o = x.length; r < o; r++)
                        (t = x[r]).tick(n),
                        0 !== y && t.updatePlaybackRate();
                    for (e in N)
                        if (N.hasOwnProperty(e))
                            for (r = 0,
                            o = (i = N[e]).length; r < o; r++)
                                (s = i[r]).tick && s.tick();
                    p === h && this.listenerTracker.hasObject() && (this.listenerTracker.tick(n),
                    _ = this.listenerTracker.obj.x,
                    v = this.listenerTracker.obj.y,
                    d.listener.setPosition(this.listenerTracker.obj.x, this.listenerTracker.obj.y, this.listenerZ))
                }
                ;
                var ct = [];
                at.setPreloadList = function(t) {
                    for (var e, i, s, n = 0, r = 0, o = t.length; r < o; ++r)
                        e = (s = t[r])[0],
                        i = 2 * s[1],
                        ((s = 4 < e.length && ".ogg" === e.substr(e.length - 4)) && m || !s && !m) && (ct.push({
                            filename: e,
                            size: i,
                            obj: null
                        }),
                        n += i);
                    return n
                }
                ,
                at.startPreloads = function() {
                    for (var t, e, i = 0, s = ct.length; i < s; ++i)
                        t = ct[i],
                        e = this.runtime.files_subfolder + t.filename,
                        t.obj = this.getAudioBuffer(e, !1)
                }
                ,
                at.getPreloadedSize = function() {
                    for (var t, e = 0, i = 0, s = ct.length; i < s; ++i)
                        (t = ct[i]).obj.isLoadedAndDecoded() || t.obj.hasFailedToLoad() || this.runtime.isDomFree || this.runtime.isAndroidStockBrowser ? e += t.size : t.obj.isLoaded() && (e += Math.floor(t.size / 2));
                    return e
                }
                ,
                at.releaseAllMusicBuffers = function() {
                    for (var t, e = 0, i = 0, s = g.length; e < s; ++e)
                        t = g[e],
                        (g[i] = t).is_music ? t.release() : ++i;
                    g.length = i
                }
                ,
                at.getAudioBuffer = function(t, e, i) {
                    for (var s, n = null, r = 0, o = g.length; r < o; r++)
                        if ((s = g[r]).src === t) {
                            n = s;
                            break
                        }
                    return n || i || (M && e && this.releaseAllMusicBuffers(),
                    n = new rt(t,e),
                    g.push(n)),
                    n
                }
                ,
                at.getAudioInstance = function(t, e, i, s, n) {
                    for (var r, o = 0, a = x.length; o < a; o++)
                        if ((r = x[o]).src === t && (r.canBeRecycled() || i))
                            return r.tag = e,
                            r;
                    var h = this.getAudioBuffer(t, i);
                    return h.bufferObject ? (r = new ot(h,e),
                    x.push(r),
                    r) : ("<preload>" !== e && (h.playTagWhenReady = e,
                    h.loopWhenReady = s,
                    h.volumeWhenReady = n),
                    null)
                }
                ;
                var lt = [];
                function ut(t, e) {
                    t = t.isPlaying() ? 1 : 0,
                    e = e.isPlaying() ? 1 : 0;
                    return t == e ? 0 : t < e ? 1 : -1
                }
                function pt(t, e) {
                    if (cr.clearArray(lt),
                    !t.length)
                        return f && !f.hasEnded() && (cr.clearArray(lt),
                        void (lt[0] = f));
                    for (var i, s = 0, n = x.length; s < n; s++)
                        i = x[s],
                        cr.equals_nocase(t, i.tag) && lt.push(i);
                    e && lt.sort(ut)
                }
                function dt(t) {
                    var e, i, s, n, r = d.destination;
                    if (N.hasOwnProperty(t) && (s = N[t]).length)
                        for (r = s[0].getInputNode(),
                        e = 0,
                        i = s.length; e < i; e++)
                            n = s[e],
                            e + 1 === i ? n.connectTo(d.destination) : n.connectTo(s[e + 1].getInputNode());
                    for (pt(t),
                    e = 0,
                    i = lt.length; e < i; e++)
                        lt[e].reconnect(r);
                    A && E === t && (A.disconnect(),
                    A.connect(r))
                }
                function gt(t, e) {
                    N.hasOwnProperty(t) ? N[t].push(e) : N[t] = [e],
                    dt(t)
                }
                function ft() {}
                function mt() {}
                function yt() {}
                function _t(t, e) {
                    var i = null;
                    return N.hasOwnProperty(t) && (i = N[t]),
                    i && 0 <= e && e < i.length && i[e].freqBins ? i[e] : null
                }
                ft.prototype.OnEnded = function(t) {
                    return cr.equals_nocase(r, t)
                }
                ,
                ft.prototype.PreloadsComplete = function() {
                    for (var t = 0, e = g.length; t < e; t++)
                        if (!g[t].isLoadedAndDecoded() && !g[t].hasFailedToLoad())
                            return !1;
                    return !0
                }
                ,
                ft.prototype.AdvancedAudioSupported = function() {
                    return p === h
                }
                ,
                ft.prototype.IsSilent = function() {
                    return S
                }
                ,
                ft.prototype.IsAnyPlaying = function() {
                    for (var t = 0, e = x.length; t < e; t++)
                        if (x[t].isPlaying())
                            return !0;
                    return !1
                }
                ,
                ft.prototype.IsTagPlaying = function(t) {
                    var e, i;
                    for (pt(t),
                    e = 0,
                    i = lt.length; e < i; e++)
                        if (lt[e].isPlaying())
                            return !0;
                    return !1
                }
                ,
                t.cnds = new ft,
                mt.prototype.Play = function(t, e, i, s) {
                    var n;
                    S || (n = R(i),
                    i = t[1],
                    t = this.runtime.files_subfolder + t[0] + (m ? ".ogg" : ".m4a"),
                    (f = this.getAudioInstance(t, s, i, 0 !== e, n)) && (f.setPannerEnabled(!1),
                    f.play(0 !== e, n, 0, this.nextPlayTime),
                    this.nextPlayTime = 0))
                }
                ,
                mt.prototype.PlayAtPosition = function(t, e, i, s, n, r, o, a, h, c) {
                    var l;
                    S || (l = R(i),
                    i = t[1],
                    t = this.runtime.files_subfolder + t[0] + (m ? ".ogg" : ".m4a"),
                    (f = this.getAudioInstance(t, c, i, 0 !== e, l)) ? (f.setPannerEnabled(!0),
                    f.setPan(s, n, r, o, a, R(h)),
                    f.play(0 !== e, l, 0, this.nextPlayTime),
                    this.nextPlayTime = 0) : this.getAudioBuffer(t, i).panWhenReady.push({
                        x: s,
                        y: n,
                        a: r,
                        ia: o,
                        oa: a,
                        og: R(h),
                        thistag: c
                    }))
                }
                ,
                mt.prototype.PlayAtObject = function(t, e, i, s, n, r, o, a) {
                    var h, c, l;
                    S || !s || (h = s.getFirstPicked()) && (c = R(i),
                    l = t[1],
                    s = this.runtime.files_subfolder + t[0] + (m ? ".ogg" : ".m4a"),
                    (f = this.getAudioInstance(s, a, l, 0 !== e, c)) ? (f.setPannerEnabled(!0),
                    i = cr.rotatePtAround(h.x, h.y, -h.layer.getAngle(), _, v, !0),
                    t = cr.rotatePtAround(h.x, h.y, -h.layer.getAngle(), _, v, !1),
                    f.setPan(i, t, cr.to_degrees(h.angle - h.layer.getAngle()), n, r, R(o)),
                    f.setObject(h),
                    f.play(0 !== e, c, 0, this.nextPlayTime),
                    this.nextPlayTime = 0) : this.getAudioBuffer(s, l).panWhenReady.push({
                        obj: h,
                        ia: n,
                        oa: r,
                        og: R(o),
                        thistag: a
                    }))
                }
                ,
                mt.prototype.PlayByName = function(t, e, i, s, n) {
                    S || (s = R(s),
                    t = 1 === t,
                    e = this.runtime.files_subfolder + e.toLowerCase() + (m ? ".ogg" : ".m4a"),
                    (f = this.getAudioInstance(e, n, t, 0 !== i, s)) && (f.setPannerEnabled(!1),
                    f.play(0 !== i, s, 0, this.nextPlayTime),
                    this.nextPlayTime = 0))
                }
                ,
                mt.prototype.PlayAtPositionByName = function(t, e, i, s, n, r, o, a, h, c, l) {
                    S || (s = R(s),
                    t = 1 === t,
                    e = this.runtime.files_subfolder + e.toLowerCase() + (m ? ".ogg" : ".m4a"),
                    (f = this.getAudioInstance(e, l, t, 0 !== i, s)) ? (f.setPannerEnabled(!0),
                    f.setPan(n, r, o, a, h, R(c)),
                    f.play(0 !== i, s, 0, this.nextPlayTime),
                    this.nextPlayTime = 0) : this.getAudioBuffer(e, t).panWhenReady.push({
                        x: n,
                        y: r,
                        a: o,
                        ia: a,
                        oa: h,
                        og: R(c),
                        thistag: l
                    }))
                }
                ,
                mt.prototype.PlayAtObjectByName = function(t, e, i, s, n, r, o, a, h) {
                    var c, l;
                    S || !n || (c = n.getFirstPicked()) && (l = R(s),
                    n = 1 === t,
                    s = this.runtime.files_subfolder + e.toLowerCase() + (m ? ".ogg" : ".m4a"),
                    (f = this.getAudioInstance(s, h, n, 0 !== i, l)) ? (f.setPannerEnabled(!0),
                    t = cr.rotatePtAround(c.x, c.y, -c.layer.getAngle(), _, v, !0),
                    e = cr.rotatePtAround(c.x, c.y, -c.layer.getAngle(), _, v, !1),
                    f.setPan(t, e, cr.to_degrees(c.angle - c.layer.getAngle()), r, o, R(a)),
                    f.setObject(c),
                    f.play(0 !== i, l, 0, this.nextPlayTime),
                    this.nextPlayTime = 0) : this.getAudioBuffer(s, n).panWhenReady.push({
                        obj: c,
                        ia: r,
                        oa: o,
                        og: R(a),
                        thistag: h
                    }))
                }
                ,
                mt.prototype.SetLooping = function(t, e) {
                    var i, s;
                    for (pt(t),
                    i = 0,
                    s = lt.length; i < s; i++)
                        lt[i].setLooping(0 === e)
                }
                ,
                mt.prototype.SetMuted = function(t, e) {
                    var i, s;
                    for (pt(t),
                    i = 0,
                    s = lt.length; i < s; i++)
                        lt[i].setMuted(0 === e)
                }
                ,
                mt.prototype.SetVolume = function(t, e) {
                    pt(t);
                    for (var i = R(e), s = 0, n = lt.length; s < n; s++)
                        lt[s].setVolume(i)
                }
                ,
                mt.prototype.Preload = function(t) {
                    var e;
                    S || (e = t[1],
                    t = this.runtime.files_subfolder + t[0] + (m ? ".ogg" : ".m4a"),
                    p !== u ? p !== l && this.getAudioInstance(t, "<preload>", e, !1) : (this.runtime.isDirectCanvas ? AppMobi.context : AppMobi.player).loadSound(t))
                }
                ,
                mt.prototype.PreloadByName = function(t, e) {
                    S || (t = 1 === t,
                    e = this.runtime.files_subfolder + e.toLowerCase() + (m ? ".ogg" : ".m4a"),
                    p !== u ? p !== l && this.getAudioInstance(e, "<preload>", t, !1) : (this.runtime.isDirectCanvas ? AppMobi.context : AppMobi.player).loadSound(e))
                }
                ,
                mt.prototype.SetPlaybackRate = function(t, e) {
                    var i, s;
                    for (pt(t),
                    e < 0 && (e = 0),
                    i = 0,
                    s = lt.length; i < s; i++)
                        lt[i].setPlaybackRate(e)
                }
                ,
                mt.prototype.Stop = function(t) {
                    var e, i;
                    for (pt(t),
                    e = 0,
                    i = lt.length; e < i; e++)
                        lt[e].stop()
                }
                ,
                mt.prototype.StopAll = function() {
                    for (var t = 0, e = x.length; t < e; t++)
                        x[t].stop()
                }
                ,
                mt.prototype.SetPaused = function(t, e) {
                    var i, s;
                    for (pt(t),
                    i = 0,
                    s = lt.length; i < s; i++)
                        0 === e ? lt[i].pause() : lt[i].resume()
                }
                ,
                mt.prototype.Seek = function(t, e) {
                    var i, s;
                    for (pt(t),
                    i = 0,
                    s = lt.length; i < s; i++)
                        lt[i].seek(e)
                }
                ,
                mt.prototype.SetSilent = function(t) {
                    var e, i;
                    if (2 === t && (t = S ? 1 : 0),
                    0 !== t || S) {
                        if (1 === t && S) {
                            for (e = 0,
                            i = x.length; e < i; e++)
                                x[e].setSilent(!1);
                            S = !1
                        }
                    } else {
                        for (e = 0,
                        i = x.length; e < i; e++)
                            x[e].setSilent(!0);
                        S = !0
                    }
                }
                ,
                mt.prototype.SetMasterVolume = function(t) {
                    var e, i;
                    for (T = R(t),
                    e = 0,
                    i = x.length; e < i; e++)
                        x[e].updateVolume()
                }
                ,
                mt.prototype.AddFilterEffect = function(t, e, i, s, n, r, o) {
                    p !== h || e < 0 || Y.length <= e || !d.createBiquadFilter || ((o /= 100) < 0 && (o = 0),
                    1 < o && (o = 1),
                    gt(t = t.toLowerCase(), new J(e,i,s,n,r,o)))
                }
                ,
                mt.prototype.AddDelayEffect = function(t, e, i, s) {
                    p === h && ((s /= 100) < 0 && (s = 0),
                    1 < s && (s = 1),
                    gt(t = t.toLowerCase(), new H(e,R(i),s)))
                }
                ,
                mt.prototype.AddFlangerEffect = function(t, e, i, s, n, r) {
                    p === h && d.createOscillator && ((r /= 100) < 0 && (r = 0),
                    1 < r && (r = 1),
                    gt(t = t.toLowerCase(), new K(e / 1e3,i / 1e3,s,n / 100,r)))
                }
                ,
                mt.prototype.AddPhaserEffect = function(t, e, i, s, n, r, o) {
                    p === h && d.createOscillator && ((o /= 100) < 0 && (o = 0),
                    1 < o && (o = 1),
                    gt(t = t.toLowerCase(), new Q(e,i,s,n,r,o)))
                }
                ,
                mt.prototype.AddConvolutionEffect = function(t, e, i, s) {
                    var n, r;
                    p === h && d.createConvolver && (n = 0 === i,
                    i = this.runtime.files_subfolder + e[0] + (m ? ".ogg" : ".m4a"),
                    e = this.getAudioBuffer(i, !1),
                    t = t.toLowerCase(),
                    (s /= 100) < 0 && (s = 0),
                    1 < s && (s = 1),
                    e.bufferObject ? r = new q(e.bufferObject,n,s,i) : (r = new q(null,n,s,i),
                    e.normalizeWhenReady = n,
                    e.convolveWhenReady = r),
                    gt(t, r))
                }
                ,
                mt.prototype.AddGainEffect = function(t, e) {
                    p === h && gt(t = t.toLowerCase(), new Z(R(e)))
                }
                ,
                mt.prototype.AddMuteEffect = function(t) {
                    p === h && gt(t = t.toLowerCase(), new Z(0))
                }
                ,
                mt.prototype.AddTremoloEffect = function(t, e, i) {
                    p === h && d.createOscillator && ((i /= 100) < 0 && (i = 0),
                    1 < i && (i = 1),
                    gt(t = t.toLowerCase(), new $(e,i)))
                }
                ,
                mt.prototype.AddRingModEffect = function(t, e, i) {
                    p === h && d.createOscillator && ((i /= 100) < 0 && (i = 0),
                    1 < i && (i = 1),
                    gt(t = t.toLowerCase(), new tt(e,i)))
                }
                ,
                mt.prototype.AddDistortionEffect = function(t, e, i, s, n, r) {
                    p === h && d.createWaveShaper && ((r /= 100) < 0 && (r = 0),
                    1 < r && (r = 1),
                    gt(t = t.toLowerCase(), new et(e,i,s,n,r)))
                }
                ,
                mt.prototype.AddCompressorEffect = function(t, e, i, s, n, r) {
                    p === h && d.createDynamicsCompressor && gt(t = t.toLowerCase(), new it(e,i,s,n / 1e3,r / 1e3))
                }
                ,
                mt.prototype.AddAnalyserEffect = function(t, e, i) {
                    p === h && gt(t = t.toLowerCase(), new st(e,i))
                }
                ,
                mt.prototype.RemoveEffects = function(t) {
                    var e, i, s;
                    if (p === h && (t = t.toLowerCase(),
                    N.hasOwnProperty(t) && (s = N[t]).length)) {
                        for (e = 0,
                        i = s.length; e < i; e++)
                            s[e].remove();
                        cr.clearArray(s),
                        dt(t)
                    }
                }
                ,
                mt.prototype.SetEffectParameter = function(t, e, i, s, n, r) {
                    p === h && (t = t.toLowerCase(),
                    e = Math.floor(e),
                    N.hasOwnProperty(t) && (t = N[t],
                    e < 0 || e >= t.length || t[e].setParam(i, s, n, r)))
                }
                ,
                mt.prototype.SetListenerObject = function(t) {
                    !t || p !== h || (t = t.getFirstPicked()) && (this.listenerTracker.setObject(t),
                    _ = t.x,
                    v = t.y)
                }
                ,
                mt.prototype.SetListenerZ = function(t) {
                    this.listenerZ = t
                }
                ,
                mt.prototype.ScheduleNextPlay = function(t) {
                    d && (this.nextPlayTime = t)
                }
                ,
                mt.prototype.UnloadAudio = function(t) {
                    var e = t[1]
                      , t = this.runtime.files_subfolder + t[0] + (m ? ".ogg" : ".m4a")
                      , e = this.getAudioBuffer(t, e, !0);
                    e && (e.release(),
                    cr.arrayFindRemove(g, e))
                }
                ,
                mt.prototype.UnloadAudioByName = function(t, e) {
                    t = 1 === t,
                    e = this.runtime.files_subfolder + e.toLowerCase() + (m ? ".ogg" : ".m4a"),
                    t = this.getAudioBuffer(e, t, !0);
                    t && (t.release(),
                    cr.arrayFindRemove(g, t))
                }
                ,
                mt.prototype.UnloadAll = function() {
                    for (var t = 0, e = g.length; t < e; ++t)
                        g[t].release();
                    cr.clearArray(g)
                }
                ,
                t.acts = new mt,
                yt.prototype.Duration = function(t, e) {
                    pt(e, !0),
                    lt.length ? t.set_float(lt[0].getDuration()) : t.set_float(0)
                }
                ,
                yt.prototype.PlaybackTime = function(t, e) {
                    pt(e, !0),
                    lt.length ? t.set_float(lt[0].getPlaybackTime(!0)) : t.set_float(0)
                }
                ,
                yt.prototype.Volume = function(t, e) {
                    pt(e, !0),
                    lt.length ? (e = lt[0].getVolume(),
                    t.set_float(j(e))) : t.set_float(0)
                }
                ,
                yt.prototype.MasterVolume = function(t) {
                    t.set_float(j(T))
                }
                ,
                yt.prototype.EffectCount = function(t, e) {
                    e = e.toLowerCase();
                    var i = null;
                    N.hasOwnProperty(e) && (i = N[e]),
                    t.set_int(i ? i.length : 0)
                }
                ,
                yt.prototype.AnalyserFreqBinCount = function(t, e, i) {
                    i = _t(e = e.toLowerCase(), i = Math.floor(i));
                    t.set_int(i ? i.node.frequencyBinCount : 0)
                }
                ,
                yt.prototype.AnalyserFreqBinAt = function(t, e, i, s) {
                    e = e.toLowerCase(),
                    i = Math.floor(i),
                    s = Math.floor(s);
                    i = _t(e, i);
                    !i || s < 0 || s >= i.node.frequencyBinCount ? t.set_float(0) : t.set_float(i.freqBins[s])
                }
                ,
                yt.prototype.AnalyserPeakLevel = function(t, e, i) {
                    i = _t(e = e.toLowerCase(), i = Math.floor(i));
                    i ? t.set_float(i.peak) : t.set_float(0)
                }
                ,
                yt.prototype.AnalyserRMSLevel = function(t, e, i) {
                    i = _t(e = e.toLowerCase(), i = Math.floor(i));
                    i ? t.set_float(i.rms) : t.set_float(0)
                }
                ,
                yt.prototype.SampleRate = function(t) {
                    t.set_int(d ? d.sampleRate : 0)
                }
                ,
                yt.prototype.CurrentTime = function(t) {
                    t.set_float(d ? d.currentTime : cr.performance_now())
                }
                ,
                t.exps = new yt
            }(),
            cr.plugins_.Browser = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var pluginProto = cr.plugins_.Browser.prototype;
                pluginProto.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ;
                var typeProto = pluginProto.Type.prototype;
                typeProto.onCreate = function() {}
                ;
                var offlineScriptReady = !1
                  , browserPluginReady = !1;
                document.addEventListener("DOMContentLoaded", function() {
                    var t;
                    window.C2_RegisterSW && navigator.serviceWorker && ((t = document.createElement("script")).onload = function() {
                        offlineScriptReady = !0,
                        checkReady()
                    }
                    ,
                    t.src = "https://427396048-642845047394716217.preview.editmysite.com/uploads/b/139890129-761103484729797659/files/offlineClient.js",
                    document.head.appendChild(t))
                });
                var browserInstance = null;
                function checkReady() {
                    offlineScriptReady && browserPluginReady && window.OfflineClientInfo && window.OfflineClientInfo.SetMessageCallback(function(t) {
                        browserInstance.onSWMessage(t)
                    })
                }
                typeProto.onAppBegin = function() {
                    browserPluginReady = !0,
                    checkReady()
                }
                ,
                pluginProto.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var instanceProto = pluginProto.Instance.prototype;
                instanceProto.onCreate = function() {
                    var e = this;
                    window.addEventListener("resize", function() {
                        e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnResize, e)
                    }),
                    browserInstance = this,
                    void 0 !== navigator.onLine && (window.addEventListener("online", function() {
                        e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnOnline, e)
                    }),
                    window.addEventListener("offline", function() {
                        e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnOffline, e)
                    })),
                    this.runtime.isDirectCanvas || (document.addEventListener("appMobi.device.update.available", function() {
                        e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnUpdateReady, e)
                    }),
                    document.addEventListener("backbutton", function() {
                        e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnBackButton, e)
                    }),
                    document.addEventListener("menubutton", function() {
                        e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnMenuButton, e)
                    }),
                    document.addEventListener("searchbutton", function() {
                        e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnSearchButton, e)
                    }),
                    document.addEventListener("tizenhwkey", function(t) {
                        switch (t.keyName) {
                        case "back":
                            e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnBackButton, e) || window.tizen && window.tizen.application.getCurrentApplication().exit();
                            break;
                        case "menu":
                            e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnMenuButton, e) || t.preventDefault()
                        }
                    })),
                    this.runtime.isWindows10 && "undefined" != typeof Windows ? Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested", function(t) {
                        e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnBackButton, e) && (t.handled = !0)
                    }) : this.runtime.isWinJS && WinJS.Application && (WinJS.Application.onbackclick = function(t) {
                        return !!e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnBackButton, e)
                    }
                    ),
                    this.runtime.addSuspendCallback(function(t) {
                        t ? e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnPageHidden, e) : e.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnPageVisible, e)
                    }),
                    this.is_arcade = void 0 !== window.is_scirra_arcade
                }
                ,
                instanceProto.onSWMessage = function(t) {
                    t = t.data.type;
                    "downloading-update" === t ? this.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnUpdateFound, this) : "update-ready" === t || "update-pending" === t ? this.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnUpdateReady, this) : "offline-ready" === t && this.runtime.trigger(cr.plugins_.Browser.prototype.cnds.OnOfflineReady, this)
                }
                ;
                var batteryManager = null
                  , loadedBatteryManager = !1;
                function maybeLoadBatteryManager() {
                    var t;
                    loadedBatteryManager || navigator.getBattery && (t = navigator.getBattery(),
                    loadedBatteryManager = !0,
                    t && t.then(function(t) {
                        batteryManager = t
                    }))
                }
                function Cnds() {}
                function Acts() {}
                Cnds.prototype.CookiesEnabled = function() {
                    return !!navigator && navigator.cookieEnabled
                }
                ,
                Cnds.prototype.IsOnline = function() {
                    return !!navigator && navigator.onLine
                }
                ,
                Cnds.prototype.HasJava = function() {
                    return !!navigator && navigator.javaEnabled()
                }
                ,
                Cnds.prototype.OnOnline = function() {
                    return !0
                }
                ,
                Cnds.prototype.OnOffline = function() {
                    return !0
                }
                ,
                Cnds.prototype.IsDownloadingUpdate = function() {
                    return !1
                }
                ,
                Cnds.prototype.OnUpdateReady = function() {
                    return !0
                }
                ,
                Cnds.prototype.PageVisible = function() {
                    return !this.runtime.isSuspended
                }
                ,
                Cnds.prototype.OnPageVisible = function() {
                    return !0
                }
                ,
                Cnds.prototype.OnPageHidden = function() {
                    return !0
                }
                ,
                Cnds.prototype.OnResize = function() {
                    return !0
                }
                ,
                Cnds.prototype.IsFullscreen = function() {
                    return !!(document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || this.runtime.isNodeFullscreen)
                }
                ,
                Cnds.prototype.OnBackButton = function() {
                    return !0
                }
                ,
                Cnds.prototype.OnMenuButton = function() {
                    return !0
                }
                ,
                Cnds.prototype.OnSearchButton = function() {
                    return !0
                }
                ,
                Cnds.prototype.IsMetered = function() {
                    var t = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
                    return !!t && !!t.metered
                }
                ,
                Cnds.prototype.IsCharging = function() {
                    var t = navigator.battery || navigator.mozBattery || navigator.webkitBattery;
                    return t ? !!t.charging : (maybeLoadBatteryManager(),
                    !batteryManager || !!batteryManager.charging)
                }
                ,
                Cnds.prototype.IsPortraitLandscape = function(t) {
                    return (window.innerWidth <= window.innerHeight ? 0 : 1) === t
                }
                ,
                Cnds.prototype.SupportsFullscreen = function() {
                    if (this.runtime.isNodeWebkit)
                        return !0;
                    var t = this.runtime.canvasdiv || this.runtime.canvas;
                    return !!(t.requestFullscreen || t.mozRequestFullScreen || t.msRequestFullscreen || t.webkitRequestFullScreen)
                }
                ,
                Cnds.prototype.OnUpdateFound = function() {
                    return !0
                }
                ,
                Cnds.prototype.OnUpdateReady = function() {
                    return !0
                }
                ,
                Cnds.prototype.OnOfflineReady = function() {
                    return !0
                }
                ,
                pluginProto.cnds = new Cnds,
                Acts.prototype.Alert = function(t) {
                    this.runtime.isDomFree || alert(t.toString())
                }
                ,
                Acts.prototype.Close = function() {
                    this.runtime.isCocoonJs ? CocoonJS.App.forceToFinish() : window.tizen ? window.tizen.application.getCurrentApplication().exit() : navigator.app && navigator.app.exitApp ? navigator.app.exitApp() : navigator.device && navigator.device.exitApp ? navigator.device.exitApp() : this.is_arcade || this.runtime.isDomFree || window.close()
                }
                ,
                Acts.prototype.Focus = function() {
                    this.runtime.isNodeWebkit ? window.nwgui.Window.get().focus() : this.is_arcade || this.runtime.isDomFree || window.focus()
                }
                ,
                Acts.prototype.Blur = function() {
                    this.runtime.isNodeWebkit ? window.nwgui.Window.get().blur() : this.is_arcade || this.runtime.isDomFree || window.blur()
                }
                ,
                Acts.prototype.GoBack = function() {
                    navigator.app && navigator.app.backHistory ? navigator.app.backHistory() : this.is_arcade || this.runtime.isDomFree || !window.back || window.back()
                }
                ,
                Acts.prototype.GoForward = function() {
                    this.is_arcade || this.runtime.isDomFree || !window.forward || window.forward()
                }
                ,
                Acts.prototype.GoHome = function() {
                    this.is_arcade || this.runtime.isDomFree || !window.home || window.home()
                }
                ,
                Acts.prototype.GoToURL = function(t, e) {
                    this.runtime.isCocoonJs ? CocoonJS.App.openURL(t) : this.runtime.isEjecta ? ejecta.openURL(t) : this.runtime.isWinJS ? Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(t)) : navigator.app && navigator.app.loadUrl ? navigator.app.loadUrl(t, {
                        openExternal: !0
                    }) : self.cordova && self.cordova.InAppBrowser ? self.cordova.InAppBrowser.open(t, "_system") : this.is_arcade || this.runtime.isDomFree || (2 !== e || this.is_arcade ? 1 !== e || this.is_arcade ? window.location = t : window.parent.location = t : window.top.location = t)
                }
                ,
                Acts.prototype.GoToURLWindow = function(t, e) {
                    this.runtime.isCocoonJs ? CocoonJS.App.openURL(t) : this.runtime.isEjecta ? ejecta.openURL(t) : this.runtime.isWinJS ? Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(t)) : navigator.app && navigator.app.loadUrl ? navigator.app.loadUrl(t, {
                        openExternal: !0
                    }) : self.cordova && self.cordova.InAppBrowser ? self.cordova.InAppBrowser.open(t, "_system") : this.is_arcade || this.runtime.isDomFree || window.open(t, e)
                }
                ,
                Acts.prototype.Reload = function() {
                    this.is_arcade || this.runtime.isDomFree || window.location.reload()
                }
                ;
                var firstRequestFullscreen = !0
                  , crruntime = null;
                function onFullscreenError(t) {
                    console && console.warn && console.warn("Fullscreen request failed: ", t),
                    crruntime.setSize(window.innerWidth, window.innerHeight)
                }
                Acts.prototype.RequestFullScreen = function(t) {
                    this.runtime.isDomFree ? cr.logexport("[Construct 2] Requesting fullscreen is not supported on this platform - the request has been ignored") : (2 <= t && (t += 1),
                    6 === t && (t = 2),
                    this.runtime.isNodeWebkit ? this.runtime.isDebug ? debuggerFullscreen(!0) : !this.runtime.isNodeFullscreen && window.nwgui && (window.nwgui.Window.get().enterFullscreen(),
                    this.runtime.isNodeFullscreen = !0,
                    this.runtime.fullscreen_scaling = 2 <= t ? t : 0) : document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement || document.fullScreen || document.fullScreenElement || (this.runtime.fullscreen_scaling = 2 <= t ? t : 0,
                    t = document.documentElement,
                    firstRequestFullscreen && (firstRequestFullscreen = !1,
                    crruntime = this.runtime,
                    t.addEventListener("mozfullscreenerror", onFullscreenError),
                    t.addEventListener("webkitfullscreenerror", onFullscreenError),
                    t.addEventListener("MSFullscreenError", onFullscreenError),
                    t.addEventListener("fullscreenerror", onFullscreenError)),
                    t.requestFullscreen ? t.requestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.msRequestFullscreen ? t.msRequestFullscreen() : t.webkitRequestFullScreen && ("undefined" != typeof Element && void 0 !== Element.ALLOW_KEYBOARD_INPUT ? t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT) : t.webkitRequestFullScreen())))
                }
                ,
                Acts.prototype.CancelFullScreen = function() {
                    this.runtime.isDomFree ? cr.logexport("[Construct 2] Exiting fullscreen is not supported on this platform - the request has been ignored") : this.runtime.isNodeWebkit ? this.runtime.isDebug ? debuggerFullscreen(!1) : this.runtime.isNodeFullscreen && window.nwgui && (window.nwgui.Window.get().leaveFullscreen(),
                    this.runtime.isNodeFullscreen = !1) : document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.webkitCancelFullScreen && document.webkitCancelFullScreen()
                }
                ,
                Acts.prototype.Vibrate = function(t) {
                    try {
                        for (var e = t.split(","), i = 0, s = e.length; i < s; i++)
                            e[i] = parseInt(e[i], 10);
                        navigator.vibrate ? navigator.vibrate(e) : navigator.mozVibrate ? navigator.mozVibrate(e) : navigator.webkitVibrate ? navigator.webkitVibrate(e) : navigator.msVibrate && navigator.msVibrate(e)
                    } catch (t) {}
                }
                ,
                Acts.prototype.InvokeDownload = function(t, e) {
                    var i, s = document.createElement("a");
                    void 0 === s.download ? window.open(t) : (i = document.getElementsByTagName("body")[0],
                    s.textContent = e,
                    s.href = t,
                    s.download = e,
                    i.appendChild(s),
                    e = new MouseEvent("click"),
                    s.dispatchEvent(e),
                    i.removeChild(s))
                }
                ,
                Acts.prototype.InvokeDownloadString = function(t, e, i) {
                    var s = "data:" + e + "," + encodeURIComponent(t)
                      , e = document.createElement("a");
                    void 0 === e.download ? window.open(s) : (t = document.getElementsByTagName("body")[0],
                    e.textContent = i,
                    e.href = s,
                    e.download = i,
                    t.appendChild(e),
                    i = new MouseEvent("click"),
                    e.dispatchEvent(i),
                    t.removeChild(e))
                }
                ,
                Acts.prototype.ConsoleLog = function(t, e) {
                    "undefined" != typeof console && (0 === t && console.log && console.log(e.toString()),
                    1 === t && console.warn && console.warn(e.toString()),
                    2 === t && console.error && console.error(e.toString()))
                }
                ,
                Acts.prototype.ConsoleGroup = function(t) {
                    console && console.group && console.group(t)
                }
                ,
                Acts.prototype.ConsoleGroupEnd = function() {
                    console && console.groupEnd && console.groupEnd()
                }
                ,
                Acts.prototype.ExecJs = function(js_) {
                    try {
                        eval && eval(js_)
                    } catch (e) {
                        console && console.error && console.error("Error executing Javascript: ", e)
                    }
                }
                ;
                var orientations = ["portrait", "landscape", "portrait-primary", "portrait-secondary", "landscape-primary", "landscape-secondary"];
                function Exps() {}
                Acts.prototype.LockOrientation = function(t) {
                    (t = Math.floor(t)) < 0 || t >= orientations.length || (this.runtime.autoLockOrientation = !1,
                    t = orientations[t],
                    screen.orientation && screen.orientation.lock ? screen.orientation.lock(t) : screen.lockOrientation ? screen.lockOrientation(t) : screen.webkitLockOrientation ? screen.webkitLockOrientation(t) : screen.mozLockOrientation ? screen.mozLockOrientation(t) : screen.msLockOrientation && screen.msLockOrientation(t))
                }
                ,
                Acts.prototype.UnlockOrientation = function() {
                    this.runtime.autoLockOrientation = !1,
                    screen.orientation && screen.orientation.unlock ? screen.orientation.unlock() : screen.unlockOrientation ? screen.unlockOrientation() : screen.webkitUnlockOrientation ? screen.webkitUnlockOrientation() : screen.mozUnlockOrientation ? screen.mozUnlockOrientation() : screen.msUnlockOrientation && screen.msUnlockOrientation()
                }
                ,
                pluginProto.acts = new Acts,
                Exps.prototype.URL = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : window.location.toString())
                }
                ,
                Exps.prototype.Protocol = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : window.location.protocol)
                }
                ,
                Exps.prototype.Domain = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : window.location.hostname)
                }
                ,
                Exps.prototype.PathName = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : window.location.pathname)
                }
                ,
                Exps.prototype.Hash = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : window.location.hash)
                }
                ,
                Exps.prototype.Referrer = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : document.referrer)
                }
                ,
                Exps.prototype.Title = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : document.title)
                }
                ,
                Exps.prototype.Name = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : navigator.appName)
                }
                ,
                Exps.prototype.Version = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : navigator.appVersion)
                }
                ,
                Exps.prototype.Language = function(t) {
                    navigator && navigator.language ? t.set_string(navigator.language) : t.set_string("")
                }
                ,
                Exps.prototype.Platform = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : navigator.platform)
                }
                ,
                Exps.prototype.Product = function(t) {
                    navigator && navigator.product ? t.set_string(navigator.product) : t.set_string("")
                }
                ,
                Exps.prototype.Vendor = function(t) {
                    navigator && navigator.vendor ? t.set_string(navigator.vendor) : t.set_string("")
                }
                ,
                Exps.prototype.UserAgent = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : navigator.userAgent)
                }
                ,
                Exps.prototype.QueryString = function(t) {
                    t.set_string(this.runtime.isDomFree ? "" : window.location.search)
                }
                ,
                Exps.prototype.QueryParam = function(t, e) {
                    !this.runtime.isDomFree && (e = RegExp("[?&]" + e + "=([^&]*)").exec(window.location.search)) ? t.set_string(decodeURIComponent(e[1].replace(/\+/g, " "))) : t.set_string("")
                }
                ,
                Exps.prototype.Bandwidth = function(t) {
                    var e = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
                    e ? void 0 !== e.bandwidth ? t.set_float(e.bandwidth) : void 0 !== e.downlinkMax ? t.set_float(e.downlinkMax) : t.set_float(Number.POSITIVE_INFINITY) : t.set_float(Number.POSITIVE_INFINITY)
                }
                ,
                Exps.prototype.ConnectionType = function(t) {
                    var e = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
                    e ? t.set_string(e.type || "unknown") : t.set_string("unknown")
                }
                ,
                Exps.prototype.BatteryLevel = function(t) {
                    var e = navigator.battery || navigator.mozBattery || navigator.webkitBattery;
                    e ? t.set_float(e.level) : (maybeLoadBatteryManager(),
                    batteryManager ? t.set_float(batteryManager.level) : t.set_float(1))
                }
                ,
                Exps.prototype.BatteryTimeLeft = function(t) {
                    var e = navigator.battery || navigator.mozBattery || navigator.webkitBattery;
                    e ? t.set_float(e.dischargingTime) : (maybeLoadBatteryManager(),
                    batteryManager ? t.set_float(batteryManager.dischargingTime) : t.set_float(Number.POSITIVE_INFINITY))
                }
                ,
                Exps.prototype.ExecJS = function(ret, js_) {
                    if (eval) {
                        var result = 0;
                        try {
                            result = eval(js_)
                        } catch (e) {
                            console && console.error && console.error("Error executing Javascript: ", e)
                        }
                        "number" == typeof result || "string" == typeof result ? ret.set_any(result) : "boolean" == typeof result ? ret.set_any(result ? 1 : 0) : ret.set_any(0)
                    } else
                        ret.set_any(0)
                }
                ,
                Exps.prototype.ScreenWidth = function(t) {
                    t.set_int(screen.width)
                }
                ,
                Exps.prototype.ScreenHeight = function(t) {
                    t.set_int(screen.height)
                }
                ,
                Exps.prototype.DevicePixelRatio = function(t) {
                    t.set_float(this.runtime.devicePixelRatio)
                }
                ,
                Exps.prototype.WindowInnerWidth = function(t) {
                    t.set_int(window.innerWidth)
                }
                ,
                Exps.prototype.WindowInnerHeight = function(t) {
                    t.set_int(window.innerHeight)
                }
                ,
                Exps.prototype.WindowOuterWidth = function(t) {
                    t.set_int(window.outerWidth)
                }
                ,
                Exps.prototype.WindowOuterHeight = function(t) {
                    t.set_int(window.outerHeight)
                }
                ,
                pluginProto.exps = new Exps
            }(),
            cr.plugins_.Button = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Button.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    var e;
                    this.runtime.isDomFree ? cr.logexport("[Construct 2] Button plugin not supported on this platform - the object will not be created") : (this.isCheckbox = 1 === this.properties[0],
                    this.inputElem = document.createElement("input"),
                    this.isCheckbox ? this.elem = document.createElement("label") : this.elem = this.inputElem,
                    this.labelText = null,
                    this.inputElem.type = this.isCheckbox ? "checkbox" : "button",
                    this.inputElem.id = this.properties[6],
                    jQuery(this.elem).appendTo(this.runtime.canvasdiv || "body"),
                    this.isCheckbox ? (jQuery(this.inputElem).appendTo(this.elem),
                    this.labelText = document.createTextNode(this.properties[1]),
                    jQuery(this.elem).append(this.labelText),
                    this.inputElem.checked = 0 !== this.properties[7],
                    jQuery(this.elem).css("font-family", "sans-serif"),
                    jQuery(this.elem).css("display", "inline-block"),
                    jQuery(this.elem).css("color", "black")) : this.inputElem.value = this.properties[1],
                    this.elem.title = this.properties[2],
                    this.inputElem.disabled = 0 === this.properties[4],
                    this.autoFontSize = 0 !== this.properties[5],
                    this.element_hidden = !1,
                    0 === this.properties[3] && (jQuery(this.elem).hide(),
                    this.visible = !1,
                    this.element_hidden = !0),
                    this.inputElem.onclick = (e = this,
                    function(t) {
                        t.stopPropagation(),
                        e.runtime.isInUserInputEvent = !0,
                        e.runtime.trigger(cr.plugins_.Button.prototype.cnds.OnClicked, e),
                        e.runtime.isInUserInputEvent = !1
                    }
                    ),
                    this.elem.addEventListener("touchstart", function(t) {
                        t.stopPropagation()
                    }, !1),
                    this.elem.addEventListener("touchmove", function(t) {
                        t.stopPropagation()
                    }, !1),
                    this.elem.addEventListener("touchend", function(t) {
                        t.stopPropagation()
                    }, !1),
                    jQuery(this.elem).mousedown(function(t) {
                        t.stopPropagation()
                    }),
                    jQuery(this.elem).mouseup(function(t) {
                        t.stopPropagation()
                    }),
                    jQuery(this.elem).keydown(function(t) {
                        t.stopPropagation()
                    }),
                    jQuery(this.elem).keyup(function(t) {
                        t.stopPropagation()
                    }),
                    this.lastLeft = 0,
                    this.lastTop = 0,
                    this.lastRight = 0,
                    this.lastBottom = 0,
                    this.lastWinWidth = 0,
                    this.lastWinHeight = 0,
                    this.updatePosition(!0),
                    this.runtime.tickMe(this))
                }
                ,
                e.saveToJSON = function() {
                    var t = {
                        tooltip: this.elem.title,
                        disabled: !!this.inputElem.disabled
                    };
                    return this.isCheckbox ? (t.checked = !!this.inputElem.checked,
                    t.text = this.labelText.nodeValue) : t.text = this.elem.value,
                    t
                }
                ,
                e.loadFromJSON = function(t) {
                    this.elem.title = t.tooltip,
                    this.inputElem.disabled = t.disabled,
                    this.isCheckbox ? (this.inputElem.checked = t.checked,
                    this.labelText.nodeValue = t.text) : this.elem.value = t.text
                }
                ,
                e.onDestroy = function() {
                    this.runtime.isDomFree || (jQuery(this.elem).remove(),
                    this.elem = null)
                }
                ,
                e.tick = function() {
                    this.updatePosition()
                }
                ,
                e.updatePosition = function(t) {
                    if (!this.runtime.isDomFree) {
                        var e = this.layer.layerToCanvas(this.x, this.y, !0)
                          , i = this.layer.layerToCanvas(this.x, this.y, !1)
                          , s = this.layer.layerToCanvas(this.x + this.width, this.y + this.height, !0)
                          , n = this.layer.layerToCanvas(this.x + this.width, this.y + this.height, !1)
                          , r = this.runtime.width / this.runtime.devicePixelRatio
                          , o = this.runtime.height / this.runtime.devicePixelRatio;
                        if (!this.visible || !this.layer.visible || s <= 0 || n <= 0 || r <= e || o <= i)
                            return this.element_hidden || jQuery(this.elem).hide(),
                            void (this.element_hidden = !0);
                        e < 1 && (e = 1),
                        i < 1 && (i = 1),
                        r <= s && (s = r - 1),
                        o <= n && (n = o - 1);
                        r = window.innerWidth,
                        o = window.innerHeight;
                        t || this.lastLeft !== e || this.lastTop !== i || this.lastRight !== s || this.lastBottom !== n || this.lastWinWidth !== r || this.lastWinHeight !== o ? (this.lastLeft = e,
                        this.lastTop = i,
                        this.lastRight = s,
                        this.lastBottom = n,
                        this.lastWinWidth = r,
                        this.lastWinHeight = o,
                        this.element_hidden && (jQuery(this.elem).show(),
                        this.element_hidden = !1),
                        r = Math.round(e) + jQuery(this.runtime.canvas).offset().left,
                        o = Math.round(i) + jQuery(this.runtime.canvas).offset().top,
                        jQuery(this.elem).css("position", "absolute"),
                        jQuery(this.elem).offset({
                            left: r,
                            top: o
                        }),
                        jQuery(this.elem).width(Math.round(s - e)),
                        jQuery(this.elem).height(Math.round(n - i)),
                        this.autoFontSize && jQuery(this.elem).css("font-size", this.layer.getScale(!0) / this.runtime.devicePixelRatio - .2 + "em")) : this.element_hidden && (jQuery(this.elem).show(),
                        this.element_hidden = !1)
                    }
                }
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                i.prototype.OnClicked = function() {
                    return !0
                }
                ,
                i.prototype.IsChecked = function() {
                    return this.isCheckbox && this.inputElem.checked
                }
                ,
                t.cnds = new i,
                s.prototype.SetText = function(t) {
                    this.runtime.isDomFree || (this.isCheckbox ? this.labelText.nodeValue = t : this.elem.value = t)
                }
                ,
                s.prototype.SetTooltip = function(t) {
                    this.runtime.isDomFree || (this.elem.title = t)
                }
                ,
                s.prototype.SetVisible = function(t) {
                    this.runtime.isDomFree || (this.visible = 0 !== t)
                }
                ,
                s.prototype.SetEnabled = function(t) {
                    this.runtime.isDomFree || (this.inputElem.disabled = 0 === t)
                }
                ,
                s.prototype.SetFocus = function() {
                    this.runtime.isDomFree || this.inputElem.focus()
                }
                ,
                s.prototype.SetBlur = function() {
                    this.runtime.isDomFree || this.inputElem.blur()
                }
                ,
                s.prototype.SetCSSStyle = function(t, e) {
                    this.runtime.isDomFree || jQuery(this.elem).css(t, e)
                }
                ,
                s.prototype.SetChecked = function(t) {
                    !this.runtime.isDomFree && this.isCheckbox && (this.inputElem.checked = 1 === t)
                }
                ,
                s.prototype.ToggleChecked = function() {
                    !this.runtime.isDomFree && this.isCheckbox && (this.inputElem.checked = !this.inputElem.checked)
                }
                ,
                t.acts = new s,
                t.exps = new function() {}
            }();
            var lastCSS = ""
              , importList = [];
            function importcssfile(t) {
                var e;
                -1 == importList.indexOf(t) && ((e = document.createElement("link")).setAttribute("rel", "stylesheet"),
                e.setAttribute("type", "text/css"),
                e.setAttribute("href", t),
                document.getElementsByTagName("head")[0].appendChild(e),
                importList.push(t))
            }
            function removecssfile(t) {
                for (var e = document.getElementsByTagName("link"), i = e.length; 0 <= i; i--)
                    e[i] && null != e[i].getAttribute("href") && -1 != e[i].getAttribute("href").indexOf(t) && e[i].parentNode.removeChild(e[i]);
                importList.splice(importList.indexOf(t), 1)
            }
            Array.prototype.indexOf || (Array.prototype.indexOf = function(t, e) {
                e = e || 0;
                for (var i = this.length; e < i; ) {
                    if (this[e] === t)
                        return e;
                    ++e
                }
                return -1
            }
            ),
            cr.plugins_.CSS_import = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.CSS_import.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    "" != this.properties[0] && (importcssfile(this.properties[0]),
                    lastCSS = this.properties[0])
                }
                ,
                e.onDestroy = function() {}
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                t.cnds = {},
                t.cnds.CompareCSS = function(t, e) {
                    return this.properties[0] === t
                }
                ,
                t.acts = {},
                (e = t.acts).SetCSS = function(t) {
                    importcssfile(t),
                    lastCSS = t
                }
                ,
                e.RemCSS = function(t) {
                    removecssfile(t)
                }
                ,
                t.exps = {},
                t.exps.GetCSS = function(t) {
                    "" != lastCSS ? t.set_string(lastCSS) : "" != this.properties[0] ? t.set_string(this.properties[0]) : t.set_string("")
                }
            }(),
            cr.plugins_.Function = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Function.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype
                  , i = []
                  , s = -1;
                function n() {
                    this.name = "",
                    this.retVal = 0,
                    this.params = []
                }
                function a() {
                    return ++s === i.length && i.push(new n),
                    i[s]
                }
                function r() {
                    return s < 0 ? null : i[s]
                }
                function h() {
                    s--
                }
                function o() {}
                function c() {}
                function l() {}
                e.onCreate = function() {
                    0;
                    var o = this;
                    window.c2_callFunction = function(t, e) {
                        var i, s, n, r = a();
                        if (r.name = t.toLowerCase(),
                        r.retVal = 0,
                        e)
                            for (r.params.length = e.length,
                            i = 0,
                            s = e.length; i < s; ++i)
                                n = e[i],
                                r.params[i] = "number" == typeof n || "string" == typeof n ? n : "boolean" == typeof n && n ? 1 : 0;
                        else
                            cr.clearArray(r.params);
                        return o.runtime.trigger(cr.plugins_.Function.prototype.cnds.OnFunction, o, r.name),
                        h(),
                        r.retVal
                    }
                }
                ,
                o.prototype.OnFunction = function(t) {
                    var e = r();
                    return !!e && cr.equals_nocase(t, e.name)
                }
                ,
                o.prototype.CompareParam = function(t, e, i) {
                    var s = r();
                    return !!s && (!((t = cr.floor(t)) < 0 || t >= s.params.length) && cr.do_cmp(s.params[t], e, i))
                }
                ,
                t.cnds = new o,
                c.prototype.CallFunction = function(t, e) {
                    var i = a();
                    i.name = t.toLowerCase(),
                    i.retVal = 0,
                    cr.shallowAssignArray(i.params, e);
                    this.runtime.trigger(cr.plugins_.Function.prototype.cnds.OnFunction, this, i.name);
                    h()
                }
                ,
                c.prototype.SetReturnValue = function(t) {
                    var e = r();
                    e && (e.retVal = t)
                }
                ,
                c.prototype.CallExpression = function(t) {}
                ,
                t.acts = new c,
                l.prototype.ReturnValue = function(t) {
                    var e = function() {
                        if (!i.length)
                            return null;
                        var t = s + 1;
                        return t >= i.length && (t = i.length - 1),
                        i[t]
                    }();
                    e ? t.set_any(e.retVal) : t.set_int(0)
                }
                ,
                l.prototype.ParamCount = function(t) {
                    var e = r();
                    e ? t.set_int(e.params.length) : t.set_int(0)
                }
                ,
                l.prototype.Param = function(t, e) {
                    e = cr.floor(e);
                    var i = r();
                    i && 0 <= e && e < i.params.length ? t.set_any(i.params[e]) : t.set_int(0)
                }
                ,
                l.prototype.Call = function(t, e) {
                    var i, s, n = a();
                    for (n.name = e.toLowerCase(),
                    n.retVal = 0,
                    cr.clearArray(n.params),
                    i = 2,
                    s = arguments.length; i < s; i++)
                        n.params.push(arguments[i]);
                    this.runtime.trigger(cr.plugins_.Function.prototype.cnds.OnFunction, this, n.name);
                    h(),
                    t.set_any(n.retVal)
                }
                ,
                t.exps = new l
            }(),
            cr.plugins_.GameAnalytics = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.GameAnalytics.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                e.onCreate = function() {
                    this.build = this.properties[0],
                    this.customUserId = this.properties[1],
                    this.enableManualSessionHandling = this.properties[2],
                    this.enableInfoLog = this.properties[3],
                    this.enableVerboseLog = this.properties[4],
                    this.gameKeyBrowser = this.properties[5],
                    this.secretKeyBrowser = this.properties[6],
                    this.gameKeyAndroid = this.properties[7],
                    this.secretKeyAndroid = this.properties[8],
                    this.gameKeyIOS = this.properties[9],
                    this.secretKeyIOS = this.properties[10],
                    this.customDimensions01 = [],
                    this.customDimensions02 = [],
                    this.customDimensions03 = [],
                    this.resourceCurrencies = [],
                    this.resourceItemTypes = []
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                t.cnds = new function() {}
                ,
                i.prototype.addAvailableCustomDimension01 = function(t) {
                    this.customDimensions01.push(t)
                }
                ,
                i.prototype.addAvailableCustomDimension02 = function(t) {
                    this.customDimensions02.push(t)
                }
                ,
                i.prototype.addAvailableCustomDimension03 = function(t) {
                    this.customDimensions03.push(t)
                }
                ,
                i.prototype.addAvailableResourceCurrency = function(t) {
                    this.resourceCurrencies.push(t)
                }
                ,
                i.prototype.addAvailableResourceItemType = function(t) {
                    this.resourceItemTypes.push(t)
                }
                ,
                i.prototype.initialize = function() {
                    var t, e;
                    "function" == typeof window.GameAnalytics.initialize ? (this.enableInfoLog && GameAnalytics.setEnabledInfoLog(!0),
                    this.enableVerboseLog && GameAnalytics.setEnabledVerboseLog(!0),
                    this.enableManualSessionHandling && GameAnalytics.setEnabledManualSessionHandling(!0),
                    0 < this.customDimensions01.length && GameAnalytics.configureAvailableCustomDimensions01(this.customDimensions01),
                    0 < this.customDimensions02.length && GameAnalytics.configureAvailableCustomDimensions02(this.customDimensions02),
                    0 < this.customDimensions03.length && GameAnalytics.configureAvailableCustomDimensions03(this.customDimensions03),
                    0 < this.resourceCurrencies.length && GameAnalytics.configureAvailableResourceCurrencies(this.resourceCurrencies),
                    0 < this.resourceItemTypes.length && GameAnalytics.configureAvailableResourceItemTypes(this.resourceItemTypes),
                    GameAnalytics.configureBuild(this.build),
                    t = "Android" === device.platform ? this.gameKeyAndroid : this.gameKeyIOS,
                    e = "Android" === device.platform ? this.secretKeyAndroid : this.secretKeyIOS,
                    GameAnalytics.initialize({
                        gameKey: t,
                        secretKey: e,
                        sdkVersion: "construct 1.1.1"
                    })) : void 0 !== window.gameanalytics.GameAnalytics ? (e = window.gameanalytics.GameAnalytics,
                    this.enableInfoLog && e.setEnabledInfoLog(!0),
                    this.enableVerboseLog && e.setEnabledVerboseLog(!0),
                    this.enableManualSessionHandling && e.setEnabledManualSessionHandling(!0),
                    0 < this.customDimensions01.length && e.configureAvailableCustomDimensions01(this.customDimensions01),
                    0 < this.customDimensions02.length && e.configureAvailableCustomDimensions02(this.customDimensions02),
                    0 < this.customDimensions03.length && e.configureAvailableCustomDimensions03(this.customDimensions03),
                    0 < this.resourceCurrencies.length && e.configureAvailableResourceCurrencies(this.resourceCurrencies),
                    0 < this.resourceItemTypes.length && e.configureAvailableResourceItemTypes(this.resourceItemTypes),
                    e.configureBuild(this.build),
                    e.configureSdkGameEngineVersion("construct 1.1.1"),
                    e.initialize(this.gameKeyBrowser, this.secretKeyBrowser)) : console.log("initialize: GameAnalytics object not found")
                }
                ,
                i.prototype.addBusinessEvent = function(t, e, i, s, n) {
                    "function" == typeof window.GameAnalytics.addBusinessEvent ? GameAnalytics.addBusinessEvent({
                        currency: t,
                        amount: e,
                        itemType: i,
                        itemId: s,
                        cartType: n
                    }) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.addBusinessEvent(t, e, i, s, n) : console.log("addBusinessEvent: GameAnalytics object not found")
                }
                ,
                i.prototype.addResourceEvent = function(t, e, i, s, n) {
                    "function" == typeof window.GameAnalytics.addResourceEvent ? GameAnalytics.addResourceEvent({
                        flowType: t,
                        currency: e,
                        amount: i,
                        itemType: s,
                        itemId: n
                    }) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.addResourceEvent(t, e, i, s, n) : console.log("addResourceEvent: GameAnalytics object not found")
                }
                ,
                i.prototype.addProgressionEvent = function(t, e, i, s) {
                    "function" == typeof window.GameAnalytics.addProgressionEvent ? GameAnalytics.addProgressionEvent({
                        progressionStatus: t,
                        progression01: e,
                        progression02: i,
                        progression03: s
                    }) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.addProgressionEvent(t, e, i, s) : console.log("addProgressionEvent: GameAnalytics object not found")
                }
                ,
                i.prototype.addProgressionEventWithScore = function(t, e, i, s, n) {
                    "function" == typeof window.GameAnalytics.addProgressionEvent ? GameAnalytics.addProgressionEvent({
                        progressionStatus: t,
                        progression01: e,
                        progression02: i,
                        progression03: s,
                        score: n
                    }) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.addProgressionEvent(t, e, i, s, n) : console.log("addProgressionEventWithScore: GameAnalytics object not found")
                }
                ,
                i.prototype.addDesignEvent = function(t) {
                    "function" == typeof window.GameAnalytics.addDesignEvent ? GameAnalytics.addDesignEvent({
                        eventId: t
                    }) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.addDesignEvent(t) : console.log("addDesignEvent: GameAnalytics object not found")
                }
                ,
                i.prototype.addDesignEventWithValue = function(t, e) {
                    "function" == typeof window.GameAnalytics.addDesignEvent ? GameAnalytics.addDesignEvent({
                        eventId: t,
                        value: e
                    }) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.addDesignEvent(t, e) : console.log("addDesignEventWithValue: GameAnalytics object not found")
                }
                ,
                i.prototype.addErrorEvent = function(t, e) {
                    "function" == typeof window.GameAnalytics.addErrorEvent ? GameAnalytics.addErrorEvent({
                        severity: t,
                        message: e
                    }) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.addErrorEvent(t, e) : console.log("addErrorEvent: GameAnalytics object not found")
                }
                ,
                i.prototype.setEnabledManualSessionHandling = function(t) {
                    "function" == typeof window.GameAnalytics.setEnabledManualSessionHandling ? GameAnalytics.setEnabledManualSessionHandling(!!t) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.setEnabledManualSessionHandling(!!t) : console.log("setEnabledManualSessionHandling: GameAnalytics object not found")
                }
                ,
                i.prototype.setCustomDimension01 = function(t) {
                    "function" == typeof window.GameAnalytics.setCustomDimension01 ? GameAnalytics.setCustomDimension01(t) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.setCustomDimension01(t) : console.log("setCustomDimension01: GameAnalytics object not found")
                }
                ,
                i.prototype.setCustomDimension02 = function(t) {
                    "function" == typeof window.GameAnalytics.setCustomDimension02 ? GameAnalytics.setCustomDimension02(t) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.setCustomDimension02(t) : console.log("setCustomDimension02: GameAnalytics object not found")
                }
                ,
                i.prototype.setCustomDimension03 = function(t) {
                    "function" == typeof window.GameAnalytics.setCustomDimension03 ? GameAnalytics.setCustomDimension03(t) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.setCustomDimension03(t) : console.log("setCustomDimension03: GameAnalytics object not found")
                }
                ,
                i.prototype.setFacebookId = function(t) {
                    "function" == typeof window.GameAnalytics.setFacebookId ? GameAnalytics.setFacebookId(t) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.setFacebookId(t) : console.log("setFacebookId: GameAnalytics object not found")
                }
                ,
                i.prototype.setGender = function(t) {
                    "function" == typeof window.GameAnalytics.setGender ? GameAnalytics.setGender(t) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.setGender(t) : console.log("setGender: GameAnalytics object not found")
                }
                ,
                i.prototype.setBirthYear = function(t) {
                    "function" == typeof window.GameAnalytics.setBirthYear ? GameAnalytics.setBirthYear(t) : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.setBirthYear(t) : console.log("setBirthYear: GameAnalytics object not found")
                }
                ,
                i.prototype.startSession = function() {
                    "function" == typeof window.GameAnalytics.startSession ? GameAnalytics.startSession() : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.startSession() : console.log("startSession: GameAnalytics object not found")
                }
                ,
                i.prototype.endSession = function() {
                    "function" == typeof window.GameAnalytics.endSession ? GameAnalytics.endSession() : void 0 !== window.gameanalytics.GameAnalytics ? window.gameanalytics.GameAnalytics.endSession() : console.log("endSession: GameAnalytics object not found")
                }
                ,
                t.acts = new i,
                t.exps = new function() {}
            }(),
            cr.plugins_.Globals = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Globals.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    this.defaultVarsValues = JSON.stringify(this.instance_vars)
                }
                ,
                e.saveToJSON = function() {
                    return {
                        v: JSON.stringify(this.instance_vars)
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.instance_vars = JSON.parse(t.v)
                }
                ,
                t.cnds = new function() {}
                ,
                i.prototype.ResetVariables = function() {
                    this.instance_vars = JSON.parse(this.defaultVarsValues)
                }
                ,
                i.prototype.LoadVariables = function(t) {
                    this.instance_vars = JSON.parse(t)
                }
                ,
                t.acts = new i,
                s.prototype.GetVariablesAsJSON = function(t) {
                    t.set_string(JSON.stringify(this.instance_vars))
                }
                ,
                t.exps = new s
            }(),
            cr.plugins_.HTML_Div_Pode = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.HTML_Div_Pode.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.divloaded = 0
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    this.elem = document.createElement("div"),
                    this.elem.innerHTML = this.properties[1],
                    this.elem.style.cssText = this.properties[2],
                    this.CSSstyle = this.properties[2];
                    var t = 0 < this.width ? 1 : -1
                      , e = 0 < this.height ? 1 : -1;
                    this.elem.setAttribute("id", this.properties[3]),
                    this.angle2D = this.angle,
                    this.rotation2D = "-webkit-transform:rotate(" + this.angle * t * e * 180 / 3.1416 + "deg);-moz-transform:rotate(" + this.angle * t * e * 180 / 3.1416 + "deg);-o-transform:rotate(" + this.angle * t * e * 180 / 3.1416 + "deg);",
                    this.elem.style.cssText += ";" + this.rotation2D,
                    this.elem.width = Math.round(this.elem.width),
                    this.elem.height = Math.round(this.elem.height),
                    this.elem.x = Math.round(this.elem.x),
                    this.elem.y = Math.round(this.elem.y),
                    jQuery(this.elem).appendTo("body"),
                    0 === this.properties[0] && (jQuery(this.elem).hide(),
                    this.visible = !1),
                    this.updatePosition(),
                    this.runtime.tickMe(this)
                }
                ,
                e.onDestroy = function() {
                    jQuery(this.elem).remove(),
                    this.elem = null
                }
                ,
                e.tick = function() {
                    this.updatePosition()
                }
                ,
                e.updatePosition = function() {
                    var t, e, i = this.layer.layerToCanvas(this.x, this.y, !0), s = this.layer.layerToCanvas(this.x, this.y, !1), n = this.layer.layerToCanvas(this.x + this.width, this.y + this.height, !0), r = this.layer.layerToCanvas(this.x + this.width, this.y + this.height, !1);
                    !this.visible || !this.layer.visible || n <= 0 || r <= 0 || i >= this.runtime.width || s >= this.runtime.height ? jQuery(this.elem).hide() : (i < 1 && (i = 1),
                    s < 1 && (s = 1),
                    n >= this.runtime.width && (n = this.runtime.width - 1),
                    r >= this.runtime.height && (r = this.runtime.height - 1),
                    jQuery(this.elem).show(),
                    t = i + jQuery(this.runtime.canvas).offset().left,
                    e = s + jQuery(this.runtime.canvas).offset().top,
                    jQuery(this.elem).offset({
                        left: t,
                        top: e
                    }),
                    jQuery(this.elem).width(n - i),
                    jQuery(this.elem).height(r - s),
                    this.elem.width = Math.round(this.elem.width),
                    this.elem.height = Math.round(this.elem.height),
                    this.elem.x = Math.round(this.elem.x),
                    this.elem.y = Math.round(this.elem.y))
                }
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                t.cnds = {},
                (e = t.cnds).CompareinnerHTML = function(t, e) {
                    return this.elem.innerHTML === t
                }
                ,
                e.CompareStyle = function(t, e) {
                    return this.elem.style.cssText === t
                }
                ,
                e.OnComplete = function(t) {
                    return !0
                }
                ,
                e.OnError = function() {
                    return !0
                }
                ,
                e.isFocused = function() {
                    return this.elem == document.activeElement
                }
                ,
                t.acts = {},
                (e = t.acts).SetInnerHTML = function(t) {
                    this.elem.innerHTML = t
                }
                ,
                e.rotate3d = function(t, e, i, s) {
                    var n = "";
                    1 == t && (this.angle3DX = this.angle3DX + s,
                    n = "-webkit-transform:rotateX(" + this.angle3DX + "deg);-moz-transform:rotateX(" + this.angle3DX + "deg);-o-transform:rotateX(" + this.angle3DX + "deg);-ms-transform:rotateX(" + this.angle3DX + "deg);transform:rotateX(" + this.angle3DX + "deg);"),
                    1 == e && (this.angle3DY = this.angle3DY + s,
                    n = n + "-webkit-transform:rotateY(" + this.angle3DY + "deg);-moz-transform:rotateY(" + this.angle3DY + "deg);-o-transform:rotateY(" + this.angle3DY + "deg);-ms-transform:rotateY(" + this.angle3DY + "deg);transform:rotateY(" + this.angle3DY + "deg);"),
                    1 == i && (this.angle3DZ = this.angle3DZ + s,
                    n = n + "-webkit-transform:rotateZ(" + this.angle3DZ + "deg);-moz-transform:rotateZ(" + this.angle3DZ + "deg);-o-transform:rotateZ(" + this.angle3DZ + "deg);-ms-transform:rotateZ(" + this.angle3DZ + "deg);transform:rotateZ(" + this.angle3DZ + "deg);"),
                    this.rotation3D = n,
                    this.elem.style.cssText = this.CSSstyle + this.rotation2D + this.perspectiveValue + this.rotation3D,
                    this.updatePosition()
                }
                ,
                e.rotate2d = function(t) {
                    var e = 0 < this.width ? 1 : -1
                      , i = 0 < this.height ? 1 : -1;
                    this.rotation2D = "-webkit-transform:rotate(" + t * e * i * 180 / 3.1416 + "deg);-moz-transform:rotate(" + t * e * i * 180 / 3.1416 + "deg);-o-transform:rotate(" + t * e * i * 180 / 3.1416 + "deg);",
                    this.elem.style.cssText = this.CSSstyle + this.rotation2D + this.perspectiveValue + this.rotation3D,
                    this.angle = this.angle2D + 180 * t / 3.1416
                }
                ,
                e.setPerspective = function(t) {
                    this.perspectiveValue = "-webkit-perspective:" + t + ";-moz-perspective:" + t + ";-o-perspective:" + t + ";-ms-perspective:" + t + ";perspective:" + t + ";",
                    this.elem.style.cssText = this.CSSstyle + this.rotation2D + this.perspectiveValue + this.rotation3D
                }
                ,
                e.LoadDiv = function(t, e) {
                    e.length ? jQuery.ajax({
                        context: this,
                        dataType: "text",
                        type: "POST",
                        url: t,
                        data: e,
                        success: function(t) {
                            this.elem.innerHTML = t,
                            this.runtime.trigger(cr.plugins_.HTML_Div.prototype.cnds.OnComplete, this)
                        },
                        error: function() {
                            this.runtime.trigger(cr.plugins_.HTML_Div.prototype.cnds.OnError, this)
                        }
                    }) : jQuery.ajax({
                        context: this,
                        dataType: "text",
                        type: "GET",
                        url: t,
                        success: function(t) {
                            this.elem.innerHTML = t,
                            this.runtime.trigger(cr.plugins_.HTML_Div.prototype.cnds.OnComplete, this)
                        },
                        error: function() {
                            this.runtime.trigger(cr.plugins_.HTML_Div.prototype.cnds.OnError, this)
                        }
                    })
                }
                ,
                e.SetStyle = function(t) {
                    this.CSSstyle = t,
                    this.elem.style.cssText = this.CSSstyle + this.rotation2D + this.perspectiveValue + this.rotation3D
                }
                ,
                e.SetVisible = function(t) {
                    this.visible = 0 !== t
                }
                ,
                e.setFocus = function() {
                    this.elem.focus()
                }
                ,
                t.exps = {},
                (t = t.exps).GetInnerHTML = function(t) {
                    t.set_string(this.elem.innerHTML)
                }
                ,
                t.GetStyle = function(t) {
                    t.set_string(this.elem.style.cssText)
                }
            }(),
            cr.plugins_.JSON = function(t) {
                this.runtime = t,
                this.references = {}
            }
            ,
            function() {
                var d, g, f, m, y, n, r, _, o, s = (d = JSON,
                e = RegExp,
                f = "\\x" + ("0" + (g = "~").charCodeAt(0).toString(16)).slice(-2),
                m = "\\" + f,
                y = new e(f,"g"),
                n = new e(m,"g"),
                r = new e("(?:^|([^\\\\]))" + m),
                _ = [].indexOf || function(t) {
                    for (var e = this.length; e-- && this[e] !== t; )
                        ;
                    return e
                }
                ,
                o = String,
                {
                    stringify: function(t, e, i, s) {
                        return d.stringify(t, (n = e,
                        a = [],
                        h = [t = t],
                        c = [t],
                        l = [(r = !s) ? g : "[Circular]"],
                        u = t,
                        p = 1,
                        function(t, e) {
                            return n && (e = n.call(this, t, e)),
                            "" !== t && (u !== this && (o = p - _.call(h, this) - 1,
                            p -= o,
                            h.splice(p, h.length),
                            a.splice(p - 1, a.length),
                            u = this),
                            "object" == typeof e && e ? (_.call(h, e) < 0 && h.push(u = e),
                            p = h.length,
                            (o = _.call(c, e)) < 0 ? (o = c.push(e) - 1,
                            r ? (a.push(("" + t).replace(y, f)),
                            l[o] = g + a.join(g)) : l[o] = l[0]) : e = l[o]) : "string" == typeof e && r && (e = e.replace(f, m).replace(g, f))),
                            e
                        }
                        ), i);
                        var n, r, o, a, h, c, l, u, p
                    },
                    parse: function(t, e) {
                        return d.parse(t, (s = e,
                        function(t, e) {
                            var i = "string" == typeof e;
                            return i && e.charAt(0) === g ? new o(e.slice(1)) : ("" === t && (e = a(e, e, {})),
                            i && (e = e.replace(r, "$1" + g).replace(m, f)),
                            s ? s.call(this, t, e) : e)
                        }
                        ));
                        var s
                    }
                });
                function a(t, e, i) {
                    return e instanceof Array ? function(t, e, i) {
                        for (var s = 0, n = e.length; s < n; s++)
                            e[s] = a(t, e[s], i);
                        return e
                    }(t, e, i) : e instanceof o ? e.length ? i.hasOwnProperty(e) ? i[e] : i[e] = function(t, e) {
                        for (var i = 0, s = e.length; i < s; t = t[e[i++].replace(n, g)])
                            ;
                        return t
                    }(t, e.split(g)) : t : e instanceof Object ? function(t, e, i) {
                        for (var s in e)
                            e.hasOwnProperty(s) && (e[s] = a(t, e[s], i));
                        return e
                    }(t, e, i) : e
                }
                var t = cr.plugins_.JSON.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype
                  , h = "root";
                function c(t) {
                    return void 0 === t ? "undefined" : null === t ? "null" : t === !!t ? "boolean" : "[object Number]" === Object.prototype.toString.call(t) ? "number" : "[object String]" === Object.prototype.toString.call(t) ? "string" : "[object Array]" === Object.prototype.toString.call(t) ? "array" : "[object Object]" === Object.prototype.toString.call(t) ? "object" : void 0
                }
                function i() {}
                function l() {}
                function u() {}
                e.onCreate = function() {
                    this.data = {},
                    this.curKey = "",
                    this.curValue = void 0,
                    this.curPath = []
                }
                ,
                e.onDestroy = function() {
                    this.data = null,
                    this.curKey = null,
                    this.curPath = null,
                    this.curValue = null;
                    var t, e = this.type.plugin.references;
                    for (t in e)
                        Object.prototype.hasOwnProperty.call(e, t) && e[t].origin === this && delete e[t]
                }
                ,
                e.saveToJSON = function() {
                    return this.data[h]
                }
                ,
                e.loadFromJSON = function(t) {
                    this.data[h] = t
                }
                ,
                e.getValueFromPath = function(t, e) {
                    if (t)
                        return this.getValueFromPath(!1, this.curPath.concat(e));
                    for (var i = [h].concat(e), s = this.data, n = 0; n < i.length; n++) {
                        if (void 0 === s) {
                            logInvalidPath(e);
                            break
                        }
                        if (null === s) {
                            n < i.length - 1 && (logInvalidPath(e),
                            s = void 0);
                            break
                        }
                        s = s[i[n]]
                    }
                    return s
                }
                ,
                e.setValueFromPath = function(t, e, i) {
                    if (t)
                        i = this.setValueFromPath(!1, this.curPath.concat(e), i);
                    else
                        for (var s = [h].concat(e), n = this.data, r = 0; r < s.length; r++) {
                            if ("array" !== c(o = n) && "object" !== c(o))
                                return void logInvalidPath(e);
                            r < s.length - 1 ? n = n[s[r]] : n[s[r]] = i
                        }
                    var o
                }
                ,
                i.prototype.OnJSONParseError = function() {
                    return !0
                }
                ,
                i.prototype.IsObject = function(t, e) {
                    return "object" === c(this.getValueFromPath(1 === t, e))
                }
                ,
                i.prototype.IsArray = function(t, e) {
                    return "array" === c(this.getValueFromPath(1 === t, e))
                }
                ,
                i.prototype.IsBoolean = function(t, e) {
                    return "boolean" === c(this.getValueFromPath(1 === t, e))
                }
                ,
                i.prototype.IsNumber = function(t, e) {
                    return "number" === c(this.getValueFromPath(1 === t, e))
                }
                ,
                i.prototype.IsString = function(t, e) {
                    return "string" === c(this.getValueFromPath(1 === t, e))
                }
                ,
                i.prototype.IsNull = function(t, e) {
                    return "null" === c(this.getValueFromPath(1 === t, e))
                }
                ,
                i.prototype.IsUndefined = function(t, e) {
                    return void 0 === this.getValueFromPath(1 === t, e)
                }
                ,
                i.prototype.IsEmpty = function(t, e) {
                    var i, s = this.getValueFromPath(1 === t, e), e = c(s);
                    if ("array" === e)
                        return 0 === s.length;
                    if ("object" !== e)
                        return void 0 === s;
                    for (i in s)
                        if (Object.prototype.hasOwnProperty.call(s, i))
                            return !1;
                    return !0
                }
                ,
                i.prototype.ForEachProperty = function(t, e) {
                    var i, s = this.runtime.getCurrentEventStack(), n = s.current_event, r = s.isModifierAfterCnds(), o = this.runtime.pushLoopStack(), s = this.curPath, a = 1 === t ? this.curPath.concat(e) : e, h = this.getValueFromPath(!1, a);
                    if (r) {
                        for (i in h)
                            if (Object.prototype.hasOwnProperty.call(h, i) && (this.curPath = a.concat(i),
                            this.curKey = i,
                            this.curValue = h[i],
                            this.runtime.pushCopySol(n.solModifiers),
                            n.retrigger(),
                            this.runtime.popSol(n.solModifiers),
                            o.stopped))
                                break
                    } else
                        for (i in h)
                            if (Object.prototype.hasOwnProperty.call(h, i) && (this.curPath = a.concat(i),
                            this.curKey = i,
                            this.curValue = h[i],
                            n.retrigger(),
                            o.stopped))
                                break;
                    return this.curPath = s,
                    this.curKey = "",
                    this.curValue = void 0,
                    this.runtime.popLoopStack(),
                    !1
                }
                ,
                i.prototype.ReferenceExists = function(t) {
                    return t in this.type.plugin.references
                }
                ,
                t.cnds = new i,
                l.prototype.NewObject = function(t, e) {
                    this.setValueFromPath(t, e, {})
                }
                ,
                l.prototype.NewArray = function(t, e) {
                    this.setValueFromPath(t, e, [])
                }
                ,
                l.prototype.SetValue = function(t, e, i) {
                    this.setValueFromPath(e, i, t)
                }
                ,
                l.prototype.SetBoolean = function(t, e, i) {
                    this.setValueFromPath(e, i, 0 === t)
                }
                ,
                l.prototype.SetNull = function(t, e) {
                    this.setValueFromPath(t, e, null)
                }
                ,
                l.prototype.Delete = function(t, e) {
                    var i;
                    function s(t, e) {
                        null != t ? "object" === c(t) && void 0 !== t[e] ? delete t[e] : "array" === c(t) && "number" === c(e) && t.splice(Math.floor(e), 1) : logInvalidPath(i)
                    }
                    0 === (i = t ? this.curPath.concat(e) : e).length ? s(this.data, h) : s(this.getValueFromPath(!1, i.slice(0, i.length - 1)), i[i.length - 1])
                }
                ,
                l.prototype.Clear = function(t, e) {
                    var n;
                    function i(t, e) {
                        if (null != t && "object" == typeof t) {
                            var i = c(t[e]);
                            if ("array" === i)
                                t[e].length = 0;
                            else if ("object" === i)
                                for (var s in t[e])
                                    Object.prototype.hasOwnProperty.call(t[e], s) && delete t[e][s];
                            else
                                delete t[e]
                        } else
                            logInvalidPath(n)
                    }
                    0 === (n = t ? this.curPath.concat(e) : e).length ? i(this.data, h) : i(this.getValueFromPath(!1, n.slice(0, n.length - 1)), n[n.length - 1])
                }
                ,
                e.LoadJSON = function(t, e, i) {
                    try {
                        this.setValueFromPath(e, i, s.parse(t))
                    } catch (t) {
                        console.warn("LoadJSON error:", t),
                        this.runtime.trigger(cr.plugins_.JSON.prototype.cnds.OnJSONParseError, this)
                    }
                }
                ,
                l.prototype.LoadJSON = function(t, e, i) {
                    this.LoadJSON(t, e, i)
                }
                ,
                l.prototype.LogData = function() {
                    var t = void 0 !== console.groupCollapsed && void 0 !== console.groupEnd;
                    t ? (console.groupCollapsed(h + ":"),
                    console.log(s.stringify(this.data[h], null, 2)),
                    console.groupEnd()) : console.log(h + ":", s.stringify(this.data[h], null, 2)),
                    console.log("Current Path:", s.stringify(this.curPath)),
                    t ? console.group("References:") : console.log("References:");
                    var e, i = this.type.plugin.references;
                    for (e in i)
                        Object.prototype.hasOwnProperty.call(i, e) && (t ? (console.groupCollapsed(e),
                        console.log(s.stringify(i[e].value, null, 2)),
                        console.groupEnd()) : console.log("[" + e + "]", s.stringify(i[e].value, null, 2)));
                    t && console.groupEnd(),
                    console.log("")
                }
                ,
                l.prototype.SetCurrentPath = function(t, e) {
                    this.curPath = t ? this.curPath.concat(e) : e.slice()
                }
                ,
                l.prototype.PushPathNode = function(t) {
                    this.curPath.push(t)
                }
                ,
                l.prototype.PopPathNode = function() {
                    this.curPath.pop()
                }
                ,
                l.prototype.SaveReference = function(t, e, i) {
                    this.type.plugin.references[t] = {
                        value: this.getValueFromPath(1 === e, i),
                        origin: this
                    }
                }
                ,
                l.prototype.LoadReference = function(t, e, i) {
                    this.setValueFromPath(1 === e, i, this.type.plugin.references[t].value)
                }
                ,
                l.prototype.DeleteReference = function(t) {
                    delete this.type.plugin.references[t]
                }
                ,
                l.prototype.DeleteAllReferences = function(t) {
                    this.type.plugin.references = {}
                }
                ,
                t.acts = new l,
                u.prototype.Size = function(t) {
                    var e = Array.prototype.slice.call(arguments);
                    e.shift();
                    var i = e.shift()
                      , s = this.getValueFromPath(1 === i, e)
                      , e = c(s);
                    if ("array" === e)
                        t.set_int(s.length);
                    else if ("object" === e) {
                        var n, r = 0;
                        for (n in s)
                            Object.prototype.hasOwnProperty.call(s, n) && r++;
                        t.set_int(r)
                    } else
                        t.set_int(-1)
                }
                ,
                u.prototype.Value = function(t) {
                    var e = Array.prototype.slice.call(arguments);
                    e.shift();
                    var i = e.shift()
                      , i = this.getValueFromPath(1 === i, e)
                      , e = c(i);
                    "number" === e || "string" === e ? t.set_any(i) : "boolean" === e ? t.set_any(i ? 1 : 0) : t.set_any(e)
                }
                ,
                u.prototype.AsJson = function(t) {
                    var e = Array.prototype.slice.call(arguments);
                    e.shift();
                    var i = e.shift()
                      , i = this.getValueFromPath(1 === i, e)
                      , e = c(i);
                    "undefined" === e ? t.set_string(e) : t.set_string(s.stringify(i))
                }
                ,
                u.prototype.TypeOf = function(t) {
                    var e = Array.prototype.slice.call(arguments);
                    e.shift();
                    var i = e.shift()
                      , e = this.getValueFromPath(1 === i, e);
                    t.set_string(c(e))
                }
                ,
                u.prototype.CurrentKey = function(t) {
                    t.set_string(this.curKey)
                }
                ,
                u.prototype.CurrentValue = function(t) {
                    var e = this.curValue
                      , i = c(e);
                    "number" === i || "string" === i ? t.set_any(e) : "boolean" === i ? t.set_any(e ? 1 : 0) : t.set_any(i)
                }
                ,
                t.exps = new u
            }(),
            cr.plugins_.Keyboard = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Keyboard.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.keyMap = new Array(256),
                    this.usedKeys = new Array(256),
                    this.triggerKey = 0
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    var e = this;
                    this.runtime.isDomFree || (jQuery(document).keydown(function(t) {
                        e.onKeyDown(t)
                    }),
                    jQuery(document).keyup(function(t) {
                        e.onKeyUp(t)
                    }))
                }
                ;
                var n = [32, 33, 34, 35, 36, 37, 38, 39, 40, 44];
                function i() {}
                function s() {}
                e.onKeyDown = function(t) {
                    var e, i, s = !1;
                    window != window.top && -1 < n.indexOf(t.which) && (t.preventDefault(),
                    s = !0,
                    t.stopPropagation()),
                    this.keyMap[t.which] ? this.usedKeys[t.which] && !s && t.preventDefault() : (this.keyMap[t.which] = !0,
                    this.triggerKey = t.which,
                    this.runtime.isInUserInputEvent = !0,
                    this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnAnyKey, this),
                    e = this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnKey, this),
                    i = this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnKeyCode, this),
                    this.runtime.isInUserInputEvent = !1,
                    (e || i) && (this.usedKeys[t.which] = !0,
                    s || t.preventDefault()))
                }
                ,
                e.onKeyUp = function(t) {
                    this.keyMap[t.which] = !1,
                    this.triggerKey = t.which,
                    this.runtime.isInUserInputEvent = !0,
                    this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnAnyKeyReleased, this);
                    var e = this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnKeyReleased, this)
                      , i = this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnKeyCodeReleased, this);
                    this.runtime.isInUserInputEvent = !1,
                    (e || i || this.usedKeys[t.which]) && (this.usedKeys[t.which] = !0,
                    t.preventDefault())
                }
                ,
                e.onWindowBlur = function() {
                    for (var t, e, i = 0; i < 256; ++i)
                        this.keyMap[i] && (this.keyMap[i] = !1,
                        this.triggerKey = i,
                        this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnAnyKeyReleased, this),
                        t = this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnKeyReleased, this),
                        e = this.runtime.trigger(cr.plugins_.Keyboard.prototype.cnds.OnKeyCodeReleased, this),
                        (t || e) && (this.usedKeys[i] = !0))
                }
                ,
                e.saveToJSON = function() {
                    return {
                        triggerKey: this.triggerKey
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.triggerKey = t.triggerKey
                }
                ,
                i.prototype.IsKeyDown = function(t) {
                    return this.keyMap[t]
                }
                ,
                i.prototype.OnKey = function(t) {
                    return t === this.triggerKey
                }
                ,
                i.prototype.OnAnyKey = function(t) {
                    return !0
                }
                ,
                i.prototype.OnAnyKeyReleased = function(t) {
                    return !0
                }
                ,
                i.prototype.OnKeyReleased = function(t) {
                    return t === this.triggerKey
                }
                ,
                i.prototype.IsKeyCodeDown = function(t) {
                    return !((t = Math.floor(t)) < 0 || t >= this.keyMap.length) && this.keyMap[t]
                }
                ,
                i.prototype.OnKeyCode = function(t) {
                    return t === this.triggerKey
                }
                ,
                i.prototype.OnKeyCodeReleased = function(t) {
                    return t === this.triggerKey
                }
                ,
                t.cnds = new i,
                t.acts = new function() {}
                ,
                s.prototype.LastKeyCode = function(t) {
                    t.set_int(this.triggerKey)
                }
                ,
                s.prototype.StringFromKeyCode = function(t, e) {
                    t.set_string(function(t) {
                        switch (t = Math.floor(t)) {
                        case 8:
                            return "backspace";
                        case 9:
                            return "tab";
                        case 13:
                            return "enter";
                        case 16:
                            return "shift";
                        case 17:
                            return "control";
                        case 18:
                            return "alt";
                        case 19:
                            return "pause";
                        case 20:
                            return "capslock";
                        case 27:
                            return "esc";
                        case 33:
                            return "pageup";
                        case 34:
                            return "pagedown";
                        case 35:
                            return "end";
                        case 36:
                            return "home";
                        case 37:
                            return "";
                        case 38:
                            return "";
                        case 39:
                            return "";
                        case 40:
                            return "";
                        case 45:
                            return "insert";
                        case 46:
                            return "del";
                        case 91:
                            return "left window key";
                        case 92:
                            return "right window key";
                        case 93:
                            return "select";
                        case 96:
                            return "numpad 0";
                        case 97:
                            return "numpad 1";
                        case 98:
                            return "numpad 2";
                        case 99:
                            return "numpad 3";
                        case 100:
                            return "numpad 4";
                        case 101:
                            return "numpad 5";
                        case 102:
                            return "numpad 6";
                        case 103:
                            return "numpad 7";
                        case 104:
                            return "numpad 8";
                        case 105:
                            return "numpad 9";
                        case 106:
                            return "numpad *";
                        case 107:
                            return "numpad +";
                        case 109:
                            return "numpad -";
                        case 110:
                            return "numpad .";
                        case 111:
                            return "numpad /";
                        case 112:
                            return "F1";
                        case 113:
                            return "F2";
                        case 114:
                            return "F3";
                        case 115:
                            return "F4";
                        case 116:
                            return "F5";
                        case 117:
                            return "F6";
                        case 118:
                            return "F7";
                        case 119:
                            return "F8";
                        case 120:
                            return "F9";
                        case 121:
                            return "F10";
                        case 122:
                            return "F11";
                        case 123:
                            return "F12";
                        case 144:
                            return "numlock";
                        case 145:
                            return "scroll lock";
                        case 186:
                            return ";";
                        case 187:
                            return "=";
                        case 188:
                            return ",";
                        case 189:
                            return "-";
                        case 190:
                            return ".";
                        case 191:
                            return "/";
                        case 192:
                            return "'";
                        case 219:
                            return "[";
                        case 220:
                            return "\\";
                        case 221:
                            return "]";
                        case 222:
                            return "#";
                        case 223:
                            return "`";
                        default:
                            return String.fromCharCode(t)
                        }
                    }(e))
                }
                ,
                t.exps = new s
            }();
            var localForageInitFailed = !1;
            try {
                !function() {
                    var t, a, h, c, l;
                    c = {},
                    l = {},
                    h = a = function(o) {
                        if (h._eak_seen = c,
                        l[o])
                            return l[o];
                        if (l[o] = {},
                        !c[o])
                            throw new Error("Could not find module " + o);
                        for (var t, e = c[o], i = e.deps, e = e.callback, s = [], n = 0, r = i.length; n < r; n++)
                            "exports" === i[n] ? s.push(t = {}) : s.push(a(function(t) {
                                if ("." !== t.charAt(0))
                                    return t;
                                for (var e = t.split("/"), i = o.split("/").slice(0, -1), s = 0, n = e.length; s < n; s++) {
                                    var r = e[s];
                                    ".." === r ? i.pop() : "." !== r && i.push(r)
                                }
                                return i.join("/")
                            }(i[n])));
                        e = e.apply(this, s);
                        return l[o] = t || e
                    }
                    ,
                    (t = function(t, e, i) {
                        c[t] = {
                            deps: e,
                            callback: i
                        }
                    }
                    )("promise/all", ["./utils", "exports"], function(t, e) {
                        "use strict";
                        var i = t.isArray
                          , h = t.isFunction;
                        e.all = function(a) {
                            if (!i(a))
                                throw new TypeError("You must pass an array to all.");
                            return new this(function(i, t) {
                                function s(t, e) {
                                    n[t] = e,
                                    0 == --r && i(n)
                                }
                                var e, n = [], r = a.length;
                                0 === r && i([]);
                                for (var o = 0; o < a.length; o++)
                                    (e = a[o]) && h(e.then) ? e.then(function(e) {
                                        return function(t) {
                                            s(e, t)
                                        }
                                    }(o), t) : s(o, e)
                            }
                            )
                        }
                    }),
                    t("promise/asap", ["exports"], function(t) {
                        "use strict";
                        function e() {
                            for (var t = 0; t < h.length; t++) {
                                var e = h[t];
                                (0,
                                e[0])(e[1])
                            }
                            h = []
                        }
                        var i, s, n, r = void 0 !== window ? window : {}, o = r.MutationObserver || r.WebKitMutationObserver, a = "undefined" != typeof global ? global : void 0 === this ? window : this, h = [], c = "undefined" != typeof process && "[object process]" === {}.toString.call(process) ? function() {
                            process.nextTick(e)
                        }
                        : o ? (i = 0,
                        s = new o(e),
                        n = document.createTextNode(""),
                        s.observe(n, {
                            characterData: !0
                        }),
                        function() {
                            n.data = i = ++i % 2
                        }
                        ) : function() {
                            a.setTimeout(e, 1)
                        }
                        ;
                        t.asap = function(t, e) {
                            1 === h.push([t, e]) && c()
                        }
                    }),
                    t("promise/config", ["exports"], function(t) {
                        "use strict";
                        var i = {
                            instrument: !1
                        };
                        t.config = i,
                        t.configure = function(t, e) {
                            return 2 !== arguments.length ? i[t] : void (i[t] = e)
                        }
                    }),
                    t("promise/polyfill", ["./promise", "./utils", "exports"], function(t, e, i) {
                        "use strict";
                        var s = t.Promise
                          , n = e.isFunction;
                        i.polyfill = function() {
                            var e, t = "undefined" != typeof global ? global : void 0 !== window && window.document ? window : self;
                            "Promise"in t && "resolve"in t.Promise && "reject"in t.Promise && "all"in t.Promise && "race"in t.Promise && (new t.Promise(function(t) {
                                e = t
                            }
                            ),
                            n(e)) || (t.Promise = s)
                        }
                    }),
                    t("promise/promise", ["./config", "./utils", "./all", "./race", "./resolve", "./reject", "./asap", "exports"], function(t, e, i, s, n, r, o, a) {
                        "use strict";
                        function h(t) {
                            if (!v(t))
                                throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
                            if (!(this instanceof h))
                                throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
                            this._subscribers = [],
                            function(t, e) {
                                function i(t) {
                                    g(e, t)
                                }
                                try {
                                    t(function(t) {
                                        p(e, t)
                                    }, i)
                                } catch (t) {
                                    i(t)
                                }
                            }(t, this)
                        }
                        function c(t, e, i, s) {
                            var n, r, o, a, h = v(i);
                            if (h)
                                try {
                                    n = i(s),
                                    o = !0
                                } catch (t) {
                                    a = !0,
                                    r = t
                                }
                            else
                                n = s,
                                o = !0;
                            u(e, n) || (h && o ? p(e, n) : a ? g(e, r) : t === x ? p(e, n) : t === S && g(e, n))
                        }
                        function l(t, e) {
                            for (var i = t._subscribers, s = t._detail, n = 0; n < i.length; n += 3)
                                c(e, i[n], i[n + e], s);
                            t._subscribers = null
                        }
                        function u(e, i) {
                            var s, t = null;
                            try {
                                if (e === i)
                                    throw new TypeError("A promises callback cannot return that same promise.");
                                if (_(i) && (t = i.then,
                                v(t)))
                                    return t.call(i, function(t) {
                                        return !!s || (s = !0,
                                        void (i !== t ? p : d)(e, t))
                                    }, function(t) {
                                        return !!s || (s = !0,
                                        void g(e, t))
                                    }),
                                    1
                            } catch (t) {
                                return s || g(e, t),
                                1
                            }
                        }
                        function p(t, e) {
                            t !== e && u(t, e) || d(t, e)
                        }
                        function d(t, e) {
                            t._state === b && (t._state = w,
                            t._detail = e,
                            y.async(f, t))
                        }
                        function g(t, e) {
                            t._state === b && (t._state = w,
                            t._detail = e,
                            y.async(m, t))
                        }
                        function f(t) {
                            l(t, t._state = x)
                        }
                        function m(t) {
                            l(t, t._state = S)
                        }
                        var y = t.config
                          , _ = (t.configure,
                        e.objectOrFunction)
                          , v = e.isFunction
                          , i = (e.now,
                        i.all)
                          , s = s.race
                          , n = n.resolve
                          , r = r.reject
                          , o = o.asap;
                        y.async = o;
                        var b = void 0
                          , w = 0
                          , x = 1
                          , S = 2;
                        h.prototype = {
                            constructor: h,
                            _state: void 0,
                            _detail: void 0,
                            _subscribers: void 0,
                            then: function(t, e) {
                                var i, s, n, r, o = this, a = new this.constructor(function() {}
                                );
                                return this._state ? (i = arguments,
                                y.async(function() {
                                    c(o._state, a, i[o._state - 1], o._detail)
                                })) : (s = a,
                                n = t,
                                r = e,
                                t = (e = (t = this)._subscribers).length,
                                e[t] = s,
                                e[t + x] = n,
                                e[t + S] = r),
                                a
                            },
                            catch: function(t) {
                                return this.then(null, t)
                            }
                        },
                        h.all = i,
                        h.race = s,
                        h.resolve = n,
                        h.reject = r,
                        a.Promise = h
                    }),
                    t("promise/race", ["./utils", "exports"], function(t, e) {
                        "use strict";
                        var i = t.isArray;
                        e.race = function(n) {
                            if (!i(n))
                                throw new TypeError("You must pass an array to race.");
                            return new this(function(t, e) {
                                for (var i, s = 0; s < n.length; s++)
                                    (i = n[s]) && "function" == typeof i.then ? i.then(t, e) : t(i)
                            }
                            )
                        }
                    }),
                    t("promise/reject", ["exports"], function(t) {
                        "use strict";
                        t.reject = function(i) {
                            return new this(function(t, e) {
                                e(i)
                            }
                            )
                        }
                    }),
                    t("promise/resolve", ["exports"], function(t) {
                        "use strict";
                        t.resolve = function(e) {
                            return e && "object" == typeof e && e.constructor === this ? e : new this(function(t) {
                                t(e)
                            }
                            )
                        }
                    }),
                    t("promise/utils", ["exports"], function(t) {
                        "use strict";
                        function e(t) {
                            return "function" == typeof t
                        }
                        var i = Date.now || function() {
                            return (new Date).getTime()
                        }
                        ;
                        t.objectOrFunction = function(t) {
                            return e(t) || "object" == typeof t && null !== t
                        }
                        ,
                        t.isFunction = e,
                        t.isArray = function(t) {
                            return "[object Array]" === Object.prototype.toString.call(t)
                        }
                        ,
                        t.now = i
                    }),
                    a("promise/polyfill").polyfill()
                }(),
                function(t, e) {
                    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.localforage = e() : t.localforage = e()
                }(this, function() {
                    return n = {},
                    i.m = s = [function(t, e, r) {
                        "use strict";
                        e.__esModule = !0;
                        var i, s, c, n, o, l, a, u, h, i = (i = void 0 !== window ? window : self,
                        c = {},
                        o = [(n = {
                            INDEXEDDB: "asyncStorage",
                            LOCALSTORAGE: "localStorageWrapper",
                            WEBSQL: "webSQLStorage"
                        }).INDEXEDDB, n.WEBSQL, n.LOCALSTORAGE],
                        l = ["clear", "getItem", "iterate", "key", "keys", "length", "removeItem", "setItem"],
                        a = {
                            description: "",
                            driver: o.slice(),
                            name: "localforage",
                            size: 4980736,
                            storeName: "keyvaluepairs",
                            version: 1
                        },
                        s = i,
                        (i = {})[n.INDEXEDDB] = !!function() {
                            try {
                                var t = s.indexedDB || s.webkitIndexedDB || s.mozIndexedDB || s.OIndexedDB || s.msIndexedDB;
                                return (!(void 0 !== s.openDatabase && s.navigator && s.navigator.userAgent && /Safari/.test(s.navigator.userAgent)) || /Chrome/.test(s.navigator.userAgent)) && (t && "function" == typeof t.open && void 0 !== s.IDBKeyRange)
                            } catch (t) {
                                return
                            }
                        }(),
                        i[n.WEBSQL] = !!function() {
                            try {
                                return s.openDatabase
                            } catch (t) {
                                return
                            }
                        }(),
                        i[n.LOCALSTORAGE] = !!function() {
                            try {
                                return s.localStorage && "setItem"in s.localStorage && s.localStorage.setItem
                            } catch (t) {
                                return
                            }
                        }(),
                        u = i,
                        h = Array.isArray || function(t) {
                            return "[object Array]" === Object.prototype.toString.call(t)
                        }
                        ,
                        new (g.prototype.config = function(t) {
                            if ("object" != typeof t)
                                return "string" == typeof t ? this._config[t] : this._config;
                            if (this._ready)
                                return new Error("Can't call config() after localforage has been used.");
                            for (var e in t)
                                "storeName" === e && (t[e] = t[e].replace(/\W/g, "_")),
                                this._config[e] = t[e];
                            return "driver"in t && t.driver && this.setDriver(this._config.driver),
                            !0
                        }
                        ,
                        g.prototype.defineDriver = function(h, t, e) {
                            var i = new Promise(function(e, i) {
                                try {
                                    var s = h._driver
                                      , t = new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver")
                                      , n = new Error("Custom driver name already in use: " + h._driver);
                                    if (!h._driver)
                                        return void i(t);
                                    if (d(h._driver))
                                        return void i(n);
                                    for (var r = l.concat("_initStorage"), o = 0; o < r.length; o++) {
                                        var a = r[o];
                                        if (!a || !h[a] || "function" != typeof h[a])
                                            return void i(t)
                                    }
                                    n = Promise.resolve(!0);
                                    "_support"in h && (n = h._support && "function" == typeof h._support ? h._support() : Promise.resolve(!!h._support)),
                                    n.then(function(t) {
                                        u[s] = t,
                                        c[s] = h,
                                        e()
                                    }, i)
                                } catch (t) {
                                    i(t)
                                }
                            }
                            );
                            return i.then(t, e),
                            i
                        }
                        ,
                        g.prototype.driver = function() {
                            return this._driver || null
                        }
                        ,
                        g.prototype.getDriver = function(t, e, i) {
                            var s = this
                              , n = function() {
                                if (d(t))
                                    switch (t) {
                                    case s.INDEXEDDB:
                                        return new Promise(function(t, e) {
                                            t(r(1))
                                        }
                                        );
                                    case s.LOCALSTORAGE:
                                        return new Promise(function(t, e) {
                                            t(r(2))
                                        }
                                        );
                                    case s.WEBSQL:
                                        return new Promise(function(t, e) {
                                            t(r(4))
                                        }
                                        )
                                    }
                                else if (c[t])
                                    return Promise.resolve(c[t]);
                                return Promise.reject(new Error("Driver not found."))
                            }();
                            return n.then(e, i),
                            n
                        }
                        ,
                        g.prototype.getSerializer = function(e) {
                            var t = new Promise(function(t, e) {
                                t(r(3))
                            }
                            );
                            return e && "function" == typeof e && t.then(function(t) {
                                e(t)
                            }),
                            t
                        }
                        ,
                        g.prototype.ready = function(t) {
                            var e = this
                              , i = e._driverSet.then(function() {
                                return null === e._ready && (e._ready = e._initDriver()),
                                e._ready
                            });
                            return i.then(t, t),
                            i
                        }
                        ,
                        g.prototype.setDriver = function(t, e, i) {
                            function r() {
                                o._config.driver = o.driver()
                            }
                            function s(n) {
                                return function() {
                                    var s = 0;
                                    return function t() {
                                        for (; s < n.length; ) {
                                            var e = n[s];
                                            return s++,
                                            o._dbInfo = null,
                                            o._ready = null,
                                            o.getDriver(e).then(function(t) {
                                                return o._extend(t),
                                                r(),
                                                o._ready = o._initStorage(o._config),
                                                o._ready
                                            }).catch(t)
                                        }
                                        r();
                                        var i = new Error("No available storage method found.");
                                        return o._driverSet = Promise.reject(i),
                                        o._driverSet
                                    }()
                                }
                            }
                            var o = this;
                            h(t) || (t = [t]);
                            var n = this._getSupportedDrivers(t)
                              , t = null !== this._driverSet ? this._driverSet.catch(function() {
                                return Promise.resolve()
                            }) : Promise.resolve();
                            return this._driverSet = t.then(function() {
                                var t = n[0];
                                return o._dbInfo = null,
                                o._ready = null,
                                o.getDriver(t).then(function(t) {
                                    o._driver = t._driver,
                                    r(),
                                    o._wrapLibraryMethodsWithReady(),
                                    o._initDriver = s(n)
                                })
                            }).catch(function() {
                                r();
                                var t = new Error("No available storage method found.");
                                return o._driverSet = Promise.reject(t),
                                o._driverSet
                            }),
                            this._driverSet.then(e, i),
                            this._driverSet
                        }
                        ,
                        g.prototype.supports = function(t) {
                            return !!u[t]
                        }
                        ,
                        g.prototype._extend = function(t) {
                            p(this, t)
                        }
                        ,
                        g.prototype._getSupportedDrivers = function(t) {
                            for (var e = [], i = 0, s = t.length; i < s; i++) {
                                var n = t[i];
                                this.supports(n) && e.push(n)
                            }
                            return e
                        }
                        ,
                        g.prototype._wrapLibraryMethodsWithReady = function() {
                            for (var t = 0; t < l.length; t++)
                                !function(e, i) {
                                    e[i] = function() {
                                        var t = arguments;
                                        return e.ready().then(function() {
                                            return e[i].apply(e, t)
                                        })
                                    }
                                }(this, l[t])
                        }
                        ,
                        g.prototype.createInstance = function(t) {
                            return new g(t)
                        }
                        ,
                        g));
                        function p(t) {
                            for (var e = 1; e < arguments.length; e++) {
                                var i = arguments[e];
                                if (i)
                                    for (var s in i)
                                        i.hasOwnProperty(s) && (h(i[s]) ? t[s] = i[s].slice() : t[s] = i[s])
                            }
                            return t
                        }
                        function d(t) {
                            for (var e in n)
                                if (n.hasOwnProperty(e) && n[e] === t)
                                    return 1
                        }
                        function g(t) {
                            (function(t) {
                                if (!(t instanceof g))
                                    throw new TypeError("Cannot call a class as a function")
                            }
                            )(this),
                            this.INDEXEDDB = n.INDEXEDDB,
                            this.LOCALSTORAGE = n.LOCALSTORAGE,
                            this.WEBSQL = n.WEBSQL,
                            this._defaultConfig = p({}, a),
                            this._config = p({}, this._defaultConfig, t),
                            this._driverSet = null,
                            this._initDriver = null,
                            this._ready = !1,
                            this._dbInfo = null,
                            this._wrapLibraryMethodsWithReady(),
                            this.setDriver(this._config.driver)
                        }
                        e.default = i,
                        t.exports = e.default
                    }
                    , function(t, e) {
                        "use strict";
                        e.__esModule = !0;
                        var i = function(l) {
                            function r(e, i) {
                                e = e || [],
                                i = i || {};
                                try {
                                    return new Blob(e,i)
                                } catch (t) {
                                    if ("TypeError" !== t.name)
                                        throw t;
                                    for (var s = new (l.BlobBuilder || l.MSBlobBuilder || l.MozBlobBuilder || l.WebKitBlobBuilder), n = 0; n < e.length; n += 1)
                                        s.append(e[n]);
                                    return s.getBlob(i.type)
                                }
                            }
                            function h(n) {
                                return new Promise(function(i, e) {
                                    var t = r([""], {
                                        type: "image/png"
                                    })
                                      , s = n.transaction([y], "readwrite");
                                    s.objectStore(y).put(t, "key"),
                                    s.oncomplete = function() {
                                        var t = n.transaction([y], "readwrite").objectStore(y).get("key");
                                        t.onerror = e,
                                        t.onsuccess = function(t) {
                                            var s, t = t.target.result, e = URL.createObjectURL(t);
                                            s = e,
                                            new Promise(function(t, e) {
                                                var i = new XMLHttpRequest;
                                                i.open("GET", s),
                                                i.withCredentials = !0,
                                                i.responseType = "arraybuffer",
                                                i.onreadystatechange = function() {
                                                    return 4 === i.readyState ? 200 === i.status ? t({
                                                        response: i.response,
                                                        type: i.getResponseHeader("Content-Type")
                                                    }) : void e({
                                                        status: i.status,
                                                        response: i.response
                                                    }) : void 0
                                                }
                                                ,
                                                i.send()
                                            }
                                            ).then(function(t) {
                                                i(!(!t || "image/png" !== t.type))
                                            }, function() {
                                                i(!1)
                                            }).then(function() {
                                                URL.revokeObjectURL(e)
                                            })
                                        }
                                    }
                                    ,
                                    s.onerror = s.onabort = e
                                }
                                ).catch(function() {
                                    return !1
                                })
                            }
                            function a(t) {
                                return r([function(t) {
                                    for (var e = t.length, i = new ArrayBuffer(e), s = new Uint8Array(i), n = 0; n < e; n++)
                                        s[n] = t.charCodeAt(n);
                                    return i
                                }(atob(t.data))], {
                                    type: t.type
                                })
                            }
                            function c(t) {
                                return t && t.__local_forage_encoded_blob
                            }
                            function u(t) {
                                var e = this
                                  , i = e._initReady().then(function() {
                                    var t = m[e._dbInfo.name];
                                    return t && t.dbReady ? t.dbReady : void 0
                                });
                                return i.then(t, t),
                                i
                            }
                            function p(r, o) {
                                return new Promise(function(e, t) {
                                    if (r.db) {
                                        if (!o)
                                            return e(r.db);
                                        s = m[(s = r).name],
                                        (i = {}).promise = new Promise(function(t) {
                                            i.resolve = t
                                        }
                                        ),
                                        s.deferredOperations.push(i),
                                        s.dbReady ? s.dbReady = s.dbReady.then(function() {
                                            return i.promise
                                        }) : s.dbReady = i.promise,
                                        r.db.close()
                                    }
                                    var i, s = [r.name];
                                    o && s.push(r.version);
                                    var n = g.open.apply(g, s);
                                    o && (n.onupgradeneeded = function(e) {
                                        var t = n.result;
                                        try {
                                            t.createObjectStore(r.storeName),
                                            e.oldVersion <= 1 && t.createObjectStore(y)
                                        } catch (t) {
                                            if ("ConstraintError" !== t.name)
                                                throw t;
                                            l.console.warn('The database "' + r.name + '" has been upgraded from version ' + e.oldVersion + " to version " + e.newVersion + ', but the storage "' + r.storeName + '" already exists.')
                                        }
                                    }
                                    ),
                                    n.onerror = function() {
                                        t(n.error)
                                    }
                                    ,
                                    n.onsuccess = function() {
                                        var t;
                                        e(n.result),
                                        (t = m[(t = r).name].deferredOperations.pop()) && t.resolve()
                                    }
                                }
                                )
                            }
                            function d(t, e) {
                                e && t.then(function(t) {
                                    e(null, t)
                                }, function(t) {
                                    e(t)
                                })
                            }
                            var g = g || l.indexedDB || l.webkitIndexedDB || l.mozIndexedDB || l.OIndexedDB || l.msIndexedDB;
                            if (g) {
                                var f, m, y = "local-forage-detect-blob-support";
                                return {
                                    _driver: "asyncStorage",
                                    _initStorage: function(t) {
                                        function e() {
                                            return Promise.resolve()
                                        }
                                        var s = this
                                          , n = {
                                            db: null
                                        };
                                        if (t)
                                            for (var i in t)
                                                n[i] = t[i];
                                        var r = (m = m || {})[n.name];
                                        r || (r = {
                                            forages: [],
                                            db: null,
                                            dbReady: null,
                                            deferredOperations: []
                                        },
                                        m[n.name] = r),
                                        r.forages.push(s),
                                        s._initReady || (s._initReady = s.ready,
                                        s.ready = u);
                                        for (var o = [], a = 0; a < r.forages.length; a++) {
                                            var h = r.forages[a];
                                            h !== s && o.push(h._initReady().catch(e))
                                        }
                                        var c = r.forages.slice(0);
                                        return Promise.all(o).then(function() {
                                            return n.db = r.db,
                                            p(n, !1)
                                        }).then(function(t) {
                                            return n.db = t,
                                            function(t, e) {
                                                if (!t.db)
                                                    return !0;
                                                var i = !t.db.objectStoreNames.contains(t.storeName)
                                                  , s = t.version < t.db.version
                                                  , n = t.version > t.db.version;
                                                if (s && (t.version !== e && l.console.warn('The database "' + t.name + "\" can't be downgraded from version " + t.db.version + " to version " + t.version + "."),
                                                t.version = t.db.version),
                                                n || i)
                                                    return !i || (i = t.db.version + 1) > t.version && (t.version = i),
                                                    !0;
                                                return !1
                                            }(n, s._defaultConfig.version) ? p(n, !0) : t
                                        }).then(function(t) {
                                            n.db = r.db = t,
                                            s._dbInfo = n;
                                            for (var e = 0; e < c.length; e++) {
                                                var i = c[e];
                                                i !== s && (i._dbInfo.db = n.db,
                                                i._dbInfo.version = n.version)
                                            }
                                        })
                                    },
                                    iterate: function(r, t) {
                                        var o = this
                                          , e = new Promise(function(n, e) {
                                            o.ready().then(function() {
                                                var t = o._dbInfo
                                                  , i = t.db.transaction(t.storeName, "readonly").objectStore(t.storeName).openCursor()
                                                  , s = 1;
                                                i.onsuccess = function() {
                                                    var t, e = i.result;
                                                    e ? (c(t = e.value) && (t = a(t)),
                                                    void 0 !== (t = r(t, e.key, s++)) ? n(t) : e.continue()) : n()
                                                }
                                                ,
                                                i.onerror = function() {
                                                    e(i.error)
                                                }
                                            }).catch(e)
                                        }
                                        );
                                        return d(e, t),
                                        e
                                    },
                                    getItem: function(n, t) {
                                        var r = this;
                                        "string" != typeof n && (l.console.warn(n + " used as a key, but it is not a string."),
                                        n = String(n));
                                        var e = new Promise(function(i, s) {
                                            r.ready().then(function() {
                                                var t = r._dbInfo
                                                  , e = t.db.transaction(t.storeName, "readonly").objectStore(t.storeName).get(n);
                                                e.onsuccess = function() {
                                                    var t = e.result;
                                                    void 0 === t && (t = null),
                                                    c(t) && (t = a(t)),
                                                    i(t)
                                                }
                                                ,
                                                e.onerror = function() {
                                                    s(e.error)
                                                }
                                            }).catch(s)
                                        }
                                        );
                                        return d(e, t),
                                        e
                                    },
                                    setItem: function(a, e, t) {
                                        var i = this;
                                        "string" != typeof a && (l.console.warn(a + " used as a key, but it is not a string."),
                                        a = String(a));
                                        var s = new Promise(function(n, r) {
                                            var o;
                                            i.ready().then(function() {
                                                return o = i._dbInfo,
                                                e instanceof Blob ? (t = o.db,
                                                ("boolean" == typeof f ? Promise.resolve(f) : h(t).then(function(t) {
                                                    return f = t
                                                })).then(function(t) {
                                                    return t ? e : (s = e,
                                                    new Promise(function(e, t) {
                                                        var i = new FileReader;
                                                        i.onerror = t,
                                                        i.onloadend = function(t) {
                                                            t = btoa(t.target.result || "");
                                                            e({
                                                                __local_forage_encoded_blob: !0,
                                                                data: t,
                                                                type: s.type
                                                            })
                                                        }
                                                        ,
                                                        i.readAsBinaryString(s)
                                                    }
                                                    ));
                                                    var s
                                                })) : e;
                                                var t
                                            }).then(function(t) {
                                                var e = o.db.transaction(o.storeName, "readwrite")
                                                  , i = e.objectStore(o.storeName);
                                                null === t && (t = void 0),
                                                e.oncomplete = function() {
                                                    void 0 === t && (t = null),
                                                    n(t)
                                                }
                                                ,
                                                e.onabort = e.onerror = function() {
                                                    var t = s.error || s.transaction.error;
                                                    r(t)
                                                }
                                                ;
                                                var s = i.put(t, a)
                                            }).catch(r)
                                        }
                                        );
                                        return d(s, t),
                                        s
                                    },
                                    removeItem: function(r, t) {
                                        var o = this;
                                        "string" != typeof r && (l.console.warn(r + " used as a key, but it is not a string."),
                                        r = String(r));
                                        var e = new Promise(function(s, n) {
                                            o.ready().then(function() {
                                                var t = o._dbInfo
                                                  , e = t.db.transaction(t.storeName, "readwrite")
                                                  , i = e.objectStore(t.storeName).delete(r);
                                                e.oncomplete = function() {
                                                    s()
                                                }
                                                ,
                                                e.onerror = function() {
                                                    n(i.error)
                                                }
                                                ,
                                                e.onabort = function() {
                                                    var t = i.error || i.transaction.error;
                                                    n(t)
                                                }
                                            }).catch(n)
                                        }
                                        );
                                        return d(e, t),
                                        e
                                    },
                                    clear: function(t) {
                                        var r = this
                                          , e = new Promise(function(s, n) {
                                            r.ready().then(function() {
                                                var t = r._dbInfo
                                                  , e = t.db.transaction(t.storeName, "readwrite")
                                                  , i = e.objectStore(t.storeName).clear();
                                                e.oncomplete = function() {
                                                    s()
                                                }
                                                ,
                                                e.onabort = e.onerror = function() {
                                                    var t = i.error || i.transaction.error;
                                                    n(t)
                                                }
                                            }).catch(n)
                                        }
                                        );
                                        return d(e, t),
                                        e
                                    },
                                    length: function(t) {
                                        var n = this
                                          , e = new Promise(function(i, s) {
                                            n.ready().then(function() {
                                                var t = n._dbInfo
                                                  , e = t.db.transaction(t.storeName, "readonly").objectStore(t.storeName).count();
                                                e.onsuccess = function() {
                                                    i(e.result)
                                                }
                                                ,
                                                e.onerror = function() {
                                                    s(e.error)
                                                }
                                            }).catch(s)
                                        }
                                        );
                                        return d(e, t),
                                        e
                                    },
                                    key: function(r, t) {
                                        var o = this
                                          , e = new Promise(function(s, n) {
                                            return r < 0 ? void s(null) : void o.ready().then(function() {
                                                var t = o._dbInfo
                                                  , t = t.db.transaction(t.storeName, "readonly").objectStore(t.storeName)
                                                  , e = !1
                                                  , i = t.openCursor();
                                                i.onsuccess = function() {
                                                    var t = i.result;
                                                    return t ? void (0 === r || e ? s(t.key) : (e = !0,
                                                    t.advance(r))) : void s(null)
                                                }
                                                ,
                                                i.onerror = function() {
                                                    n(i.error)
                                                }
                                            }).catch(n)
                                        }
                                        );
                                        return d(e, t),
                                        e
                                    },
                                    keys: function(t) {
                                        var r = this
                                          , e = new Promise(function(s, n) {
                                            r.ready().then(function() {
                                                var t = r._dbInfo
                                                  , e = t.db.transaction(t.storeName, "readonly").objectStore(t.storeName).openCursor()
                                                  , i = [];
                                                e.onsuccess = function() {
                                                    var t = e.result;
                                                    return t ? (i.push(t.key),
                                                    void t.continue()) : void s(i)
                                                }
                                                ,
                                                e.onerror = function() {
                                                    n(e.error)
                                                }
                                            }).catch(n)
                                        }
                                        );
                                        return d(e, t),
                                        e
                                    }
                                }
                            }
                        }(void 0 !== window ? window : self);
                        e.default = i,
                        t.exports = e.default
                    }
                    , function(t, e, s) {
                        "use strict";
                        e.__esModule = !0;
                        var i = function(n) {
                            function r(t, e) {
                                e && t.then(function(t) {
                                    e(null, t)
                                }, function(t) {
                                    e(t)
                                })
                            }
                            var l = null;
                            try {
                                if (!(n.localStorage && "setItem"in n.localStorage))
                                    return;
                                l = n.localStorage
                            } catch (t) {
                                return
                            }
                            return {
                                _driver: "localStorageWrapper",
                                _initStorage: function(t) {
                                    var e = {};
                                    if (t)
                                        for (var i in t)
                                            e[i] = t[i];
                                    return e.keyPrefix = e.name + "/",
                                    e.storeName !== this._defaultConfig.storeName && (e.keyPrefix += e.storeName + "/"),
                                    this._dbInfo = e,
                                    new Promise(function(t, e) {
                                        t(s(3))
                                    }
                                    ).then(function(t) {
                                        return e.serializer = t,
                                        Promise.resolve()
                                    })
                                },
                                iterate: function(h, t) {
                                    var c = this
                                      , e = c.ready().then(function() {
                                        for (var t = c._dbInfo, e = t.keyPrefix, i = e.length, s = l.length, n = 1, r = 0; r < s; r++) {
                                            var o = l.key(r);
                                            if (0 === o.indexOf(e)) {
                                                var a = (a = l.getItem(o)) && t.serializer.deserialize(a);
                                                if (void 0 !== (a = h(a, o.substring(i), n++)))
                                                    return a
                                            }
                                        }
                                    });
                                    return r(e, t),
                                    e
                                },
                                getItem: function(i, t) {
                                    var s = this;
                                    "string" != typeof i && (n.console.warn(i + " used as a key, but it is not a string."),
                                    i = String(i));
                                    var e = s.ready().then(function() {
                                        var t = s._dbInfo
                                          , e = l.getItem(t.keyPrefix + i);
                                        return e = e && t.serializer.deserialize(e)
                                    });
                                    return r(e, t),
                                    e
                                },
                                setItem: function(o, t, e) {
                                    var a = this;
                                    "string" != typeof o && (n.console.warn(o + " used as a key, but it is not a string."),
                                    o = String(o));
                                    var i = a.ready().then(function() {
                                        void 0 === t && (t = null);
                                        var r = t;
                                        return new Promise(function(i, s) {
                                            var n = a._dbInfo;
                                            n.serializer.serialize(t, function(t, e) {
                                                if (e)
                                                    s(e);
                                                else
                                                    try {
                                                        l.setItem(n.keyPrefix + o, t),
                                                        i(r)
                                                    } catch (t) {
                                                        "QuotaExceededError" !== t.name && "NS_ERROR_DOM_QUOTA_REACHED" !== t.name || s(t),
                                                        s(t)
                                                    }
                                            })
                                        }
                                        )
                                    });
                                    return r(i, e),
                                    i
                                },
                                removeItem: function(e, t) {
                                    var i = this;
                                    "string" != typeof e && (n.console.warn(e + " used as a key, but it is not a string."),
                                    e = String(e));
                                    var s = i.ready().then(function() {
                                        var t = i._dbInfo;
                                        l.removeItem(t.keyPrefix + e)
                                    });
                                    return r(s, t),
                                    s
                                },
                                clear: function(t) {
                                    var s = this
                                      , e = s.ready().then(function() {
                                        for (var t = s._dbInfo.keyPrefix, e = l.length - 1; 0 <= e; e--) {
                                            var i = l.key(e);
                                            0 === i.indexOf(t) && l.removeItem(i)
                                        }
                                    });
                                    return r(e, t),
                                    e
                                },
                                length: function(t) {
                                    var e = this.keys().then(function(t) {
                                        return t.length
                                    });
                                    return r(e, t),
                                    e
                                },
                                key: function(i, t) {
                                    var s = this
                                      , e = s.ready().then(function() {
                                        var e, t = s._dbInfo;
                                        try {
                                            e = l.key(i)
                                        } catch (t) {
                                            e = null
                                        }
                                        return e = e && e.substring(t.keyPrefix.length)
                                    });
                                    return r(e, t),
                                    e
                                },
                                keys: function(t) {
                                    var n = this
                                      , e = n.ready().then(function() {
                                        for (var t = n._dbInfo, e = l.length, i = [], s = 0; s < e; s++)
                                            0 === l.key(s).indexOf(t.keyPrefix) && i.push(l.key(s).substring(t.keyPrefix.length));
                                        return i
                                    });
                                    return r(e, t),
                                    e
                                }
                            }
                        }(void 0 !== window ? window : self);
                        e.default = i,
                        t.exports = e.default
                    }
                    , function(t, e) {
                        "use strict";
                        e.__esModule = !0;
                        var r, l, o, a, h, c, i = (r = void 0 !== window ? window : self,
                        l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                        o = /^~~local_forage_type~([^~]+)~/,
                        c = (h = (a = "__lfsc__:").length) + "arbf".length,
                        {
                            serialize: function(e, i) {
                                var t = "";
                                if (e && (t = e.toString()),
                                e && ("[object ArrayBuffer]" === e.toString() || e.buffer && "[object ArrayBuffer]" === e.buffer.toString())) {
                                    var s, n = a;
                                    e instanceof ArrayBuffer ? (s = e,
                                    n += "arbf") : (s = e.buffer,
                                    "[object Int8Array]" === t ? n += "si08" : "[object Uint8Array]" === t ? n += "ui08" : "[object Uint8ClampedArray]" === t ? n += "uic8" : "[object Int16Array]" === t ? n += "si16" : "[object Uint16Array]" === t ? n += "ur16" : "[object Int32Array]" === t ? n += "si32" : "[object Uint32Array]" === t ? n += "ui32" : "[object Float32Array]" === t ? n += "fl32" : "[object Float64Array]" === t ? n += "fl64" : i(new Error("Failed to get type for BinaryArray"))),
                                    i(n + p(s))
                                } else if ("[object Blob]" === t) {
                                    t = new FileReader;
                                    t.onload = function() {
                                        var t = "~~local_forage_type~" + e.type + "~" + p(this.result);
                                        i(a + "blob" + t)
                                    }
                                    ,
                                    t.readAsArrayBuffer(e)
                                } else
                                    try {
                                        i(JSON.stringify(e))
                                    } catch (t) {
                                        console.error("Couldn't convert value into a JSON string: ", e),
                                        i(null, t)
                                    }
                            },
                            deserialize: function(t) {
                                if (t.substring(0, h) !== a)
                                    return JSON.parse(t);
                                var e, i = t.substring(c), s = t.substring(h, c);
                                "blob" === s && o.test(i) && (e = (t = i.match(o))[1],
                                i = i.substring(t[0].length));
                                var n = u(i);
                                switch (s) {
                                case "arbf":
                                    return n;
                                case "blob":
                                    return function(e, i) {
                                        e = e || [],
                                        i = i || {};
                                        try {
                                            return new Blob(e,i)
                                        } catch (t) {
                                            if ("TypeError" !== t.name)
                                                throw t;
                                            for (var s = new (r.BlobBuilder || r.MSBlobBuilder || r.MozBlobBuilder || r.WebKitBlobBuilder), n = 0; n < e.length; n += 1)
                                                s.append(e[n]);
                                            return s.getBlob(i.type)
                                        }
                                    }([n], {
                                        type: e
                                    });
                                case "si08":
                                    return new Int8Array(n);
                                case "ui08":
                                    return new Uint8Array(n);
                                case "uic8":
                                    return new Uint8ClampedArray(n);
                                case "si16":
                                    return new Int16Array(n);
                                case "ur16":
                                    return new Uint16Array(n);
                                case "si32":
                                    return new Int32Array(n);
                                case "ui32":
                                    return new Uint32Array(n);
                                case "fl32":
                                    return new Float32Array(n);
                                case "fl64":
                                    return new Float64Array(n);
                                default:
                                    throw new Error("Unkown type: " + s)
                                }
                            },
                            stringToBuffer: u,
                            bufferToString: p
                        });
                        function u(t) {
                            var e, i, s, n, r = .75 * t.length, o = t.length, a = 0;
                            "=" === t[t.length - 1] && (r--,
                            "=" === t[t.length - 2] && r--);
                            for (var r = new ArrayBuffer(r), h = new Uint8Array(r), c = 0; c < o; c += 4)
                                e = l.indexOf(t[c]),
                                i = l.indexOf(t[c + 1]),
                                s = l.indexOf(t[c + 2]),
                                n = l.indexOf(t[c + 3]),
                                h[a++] = e << 2 | i >> 4,
                                h[a++] = (15 & i) << 4 | s >> 2,
                                h[a++] = (3 & s) << 6 | 63 & n;
                            return r
                        }
                        function p(t) {
                            for (var e = new Uint8Array(t), i = "", s = 0; s < e.length; s += 3)
                                i += l[e[s] >> 2],
                                i += l[(3 & e[s]) << 4 | e[s + 1] >> 4],
                                i += l[(15 & e[s + 1]) << 2 | e[s + 2] >> 6],
                                i += l[63 & e[s + 2]];
                            return e.length % 3 == 2 ? i = i.substring(0, i.length - 1) + "=" : e.length % 3 == 1 && (i = i.substring(0, i.length - 2) + "=="),
                            i
                        }
                        e.default = i,
                        t.exports = e.default
                    }
                    , function(t, e, o) {
                        "use strict";
                        e.__esModule = !0;
                        var i = function(s) {
                            function h(t, e) {
                                e && t.then(function(t) {
                                    e(null, t)
                                }, function(t) {
                                    e(t)
                                })
                            }
                            var r = s.openDatabase;
                            if (r)
                                return {
                                    _driver: "webSQLStorage",
                                    _initStorage: function(t) {
                                        var s = this
                                          , n = {
                                            db: null
                                        };
                                        if (t)
                                            for (var e in t)
                                                n[e] = "string" != typeof t[e] ? t[e].toString() : t[e];
                                        var i = new Promise(function(e, i) {
                                            try {
                                                n.db = r(n.name, String(n.version), n.description, n.size)
                                            } catch (t) {
                                                return i(t)
                                            }
                                            n.db.transaction(function(t) {
                                                t.executeSql("CREATE TABLE IF NOT EXISTS " + n.storeName + " (id INTEGER PRIMARY KEY, key unique, value)", [], function() {
                                                    s._dbInfo = n,
                                                    e()
                                                }, function(t, e) {
                                                    i(e)
                                                })
                                            })
                                        }
                                        );
                                        return new Promise(function(t, e) {
                                            t(o(3))
                                        }
                                        ).then(function(t) {
                                            return n.serializer = t,
                                            i
                                        })
                                    },
                                    iterate: function(c, t) {
                                        var e = this
                                          , i = new Promise(function(h, i) {
                                            e.ready().then(function() {
                                                var a = e._dbInfo;
                                                a.db.transaction(function(t) {
                                                    t.executeSql("SELECT * FROM " + a.storeName, [], function(t, e) {
                                                        for (var i = e.rows, s = i.length, n = 0; n < s; n++) {
                                                            var r = i.item(n)
                                                              , o = (o = r.value) && a.serializer.deserialize(o);
                                                            if (void 0 !== (o = c(o, r.key, n + 1)))
                                                                return void h(o)
                                                        }
                                                        h()
                                                    }, function(t, e) {
                                                        i(e)
                                                    })
                                                })
                                            }).catch(i)
                                        }
                                        );
                                        return h(i, t),
                                        i
                                    },
                                    getItem: function(e, t) {
                                        var r = this;
                                        "string" != typeof e && (s.console.warn(e + " used as a key, but it is not a string."),
                                        e = String(e));
                                        var i = new Promise(function(s, n) {
                                            r.ready().then(function() {
                                                var i = r._dbInfo;
                                                i.db.transaction(function(t) {
                                                    t.executeSql("SELECT * FROM " + i.storeName + " WHERE key = ? LIMIT 1", [e], function(t, e) {
                                                        e = (e = e.rows.length ? e.rows.item(0).value : null) && i.serializer.deserialize(e);
                                                        s(e)
                                                    }, function(t, e) {
                                                        n(e)
                                                    })
                                                })
                                            }).catch(n)
                                        }
                                        );
                                        return h(i, t),
                                        i
                                    },
                                    setItem: function(o, t, e) {
                                        var a = this;
                                        "string" != typeof o && (s.console.warn(o + " used as a key, but it is not a string."),
                                        o = String(o));
                                        var i = new Promise(function(n, r) {
                                            a.ready().then(function() {
                                                void 0 === t && (t = null);
                                                var i = t
                                                  , s = a._dbInfo;
                                                s.serializer.serialize(t, function(e, t) {
                                                    t ? r(t) : s.db.transaction(function(t) {
                                                        t.executeSql("INSERT OR REPLACE INTO " + s.storeName + " (key, value) VALUES (?, ?)", [o, e], function() {
                                                            n(i)
                                                        }, function(t, e) {
                                                            r(e)
                                                        })
                                                    }, function(t) {
                                                        t.code === t.QUOTA_ERR && r(t)
                                                    })
                                                })
                                            }).catch(r)
                                        }
                                        );
                                        return h(i, e),
                                        i
                                    },
                                    removeItem: function(n, t) {
                                        var r = this;
                                        "string" != typeof n && (s.console.warn(n + " used as a key, but it is not a string."),
                                        n = String(n));
                                        var e = new Promise(function(i, s) {
                                            r.ready().then(function() {
                                                var e = r._dbInfo;
                                                e.db.transaction(function(t) {
                                                    t.executeSql("DELETE FROM " + e.storeName + " WHERE key = ?", [n], function() {
                                                        i()
                                                    }, function(t, e) {
                                                        s(e)
                                                    })
                                                })
                                            }).catch(s)
                                        }
                                        );
                                        return h(e, t),
                                        e
                                    },
                                    clear: function(t) {
                                        var n = this
                                          , e = new Promise(function(i, s) {
                                            n.ready().then(function() {
                                                var e = n._dbInfo;
                                                e.db.transaction(function(t) {
                                                    t.executeSql("DELETE FROM " + e.storeName, [], function() {
                                                        i()
                                                    }, function(t, e) {
                                                        s(e)
                                                    })
                                                })
                                            }).catch(s)
                                        }
                                        );
                                        return h(e, t),
                                        e
                                    },
                                    length: function(t) {
                                        var n = this
                                          , e = new Promise(function(i, s) {
                                            n.ready().then(function() {
                                                var e = n._dbInfo;
                                                e.db.transaction(function(t) {
                                                    t.executeSql("SELECT COUNT(key) as c FROM " + e.storeName, [], function(t, e) {
                                                        e = e.rows.item(0).c;
                                                        i(e)
                                                    }, function(t, e) {
                                                        s(e)
                                                    })
                                                })
                                            }).catch(s)
                                        }
                                        );
                                        return h(e, t),
                                        e
                                    },
                                    key: function(n, t) {
                                        var r = this
                                          , e = new Promise(function(i, s) {
                                            r.ready().then(function() {
                                                var e = r._dbInfo;
                                                e.db.transaction(function(t) {
                                                    t.executeSql("SELECT key FROM " + e.storeName + " WHERE id = ? LIMIT 1", [n + 1], function(t, e) {
                                                        e = e.rows.length ? e.rows.item(0).key : null;
                                                        i(e)
                                                    }, function(t, e) {
                                                        s(e)
                                                    })
                                                })
                                            }).catch(s)
                                        }
                                        );
                                        return h(e, t),
                                        e
                                    },
                                    keys: function(t) {
                                        var s = this
                                          , e = new Promise(function(n, i) {
                                            s.ready().then(function() {
                                                var e = s._dbInfo;
                                                e.db.transaction(function(t) {
                                                    t.executeSql("SELECT key FROM " + e.storeName, [], function(t, e) {
                                                        for (var i = [], s = 0; s < e.rows.length; s++)
                                                            i.push(e.rows.item(s).key);
                                                        n(i)
                                                    }, function(t, e) {
                                                        i(e)
                                                    })
                                                })
                                            }).catch(i)
                                        }
                                        );
                                        return h(e, t),
                                        e
                                    }
                                }
                        }(void 0 !== window ? window : self);
                        e.default = i,
                        t.exports = e.default
                    }
                    ],
                    i.c = n,
                    i.p = "",
                    i(0);
                    function i(t) {
                        if (n[t])
                            return n[t].exports;
                        var e = n[t] = {
                            exports: {},
                            id: t,
                            loaded: !1
                        };
                        return s[t].call(e.exports, e, e.exports, i),
                        e.loaded = !0,
                        e.exports
                    }
                    var s, n
                })
            } catch (e) {
                localForageInitFailed = !0
            }
            function c3JSONtoC2JSON(t) {
                try {
                    t = JSON.parse(t)
                } catch (t) {
                    return ""
                }
                var e = '{""c2array"": true,""size"": [2,' + t.length + ', 1],""data"":';
                data0 = "",
                data1 = "";
                for (var i = 0; i < t.length; i++) {
                    var s = t[i];
                    data0 += "[" + s[0] + "],",
                    data1 += '[""' + s[1] + '""],'
                }
                return data0 = data0.substring(0, data0.length - 1),
                data1 = data1.substring(0, data1.length - 1),
                e += "[[" + data0 + "],[" + data1 + "]]}"
            }
            cr.plugins_.LocalStorage = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var n = ""
                  , r = ""
                  , o = []
                  , a = "";
                function h(t) {
                    return t ? "string" == typeof t ? t : "string" == typeof t.message ? t.message : "string" == typeof t.name ? t.name : "string" == typeof t.data ? t.data : "unknown error" : "unknown error"
                }
                function c(t, e) {
                    a = e,
                    t.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnError, t)
                }
                var l = ""
                  , t = void 0 !== window.is_scirra_arcade;
                function u(t) {
                    return !l || t.substr(0, l.length) === l
                }
                t && (l = "sa" + window.scirra_arcade_id + "_");
                var e = cr.plugins_.LocalStorage.prototype;
                e.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                e.Type.prototype.onCreate = function() {}
                ,
                e.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var i = e.Instance.prototype;
                function s() {}
                function p() {}
                function d() {}
                i.onCreate = function() {
                    this.pendingSets = 0,
                    this.pendingGets = 0
                }
                ,
                i.onDestroy = function() {}
                ,
                i.saveToJSON = function() {
                    return {}
                }
                ,
                i.loadFromJSON = function(t) {}
                ,
                s.prototype.OnItemSet = function(t) {
                    return n === t
                }
                ,
                s.prototype.OnAnyItemSet = function() {
                    return !0
                }
                ,
                s.prototype.OnItemGet = function(t) {
                    return n === t
                }
                ,
                s.prototype.OnAnyItemGet = function() {
                    return !0
                }
                ,
                s.prototype.OnItemRemoved = function(t) {
                    return n === t
                }
                ,
                s.prototype.OnAnyItemRemoved = function() {
                    return !0
                }
                ,
                s.prototype.OnCleared = function() {
                    return !0
                }
                ,
                s.prototype.OnAllKeyNamesLoaded = function() {
                    return !0
                }
                ,
                s.prototype.OnError = function() {
                    return !0
                }
                ,
                s.prototype.OnItemExists = function(t) {
                    return n === t
                }
                ,
                s.prototype.OnItemMissing = function(t) {
                    return n === t
                }
                ,
                s.prototype.CompareKey = function(t, e) {
                    return cr.do_cmp(n, t, e)
                }
                ,
                s.prototype.CompareValue = function(t, e) {
                    return cr.do_cmp(r, t, e)
                }
                ,
                s.prototype.IsProcessingSets = function() {
                    return 0 < this.pendingSets
                }
                ,
                s.prototype.IsProcessingGets = function() {
                    return 0 < this.pendingGets
                }
                ,
                s.prototype.OnAllSetsComplete = function() {
                    return !0
                }
                ,
                s.prototype.OnAllGetsComplete = function() {
                    return !0
                }
                ,
                e.cnds = new s,
                p.prototype.SetItem = function(i, t) {
                    var e, s;
                    localForageInitFailed ? c(this, "storage failed to initialise - may be disabled in browser settings") : (e = l + i,
                    this.pendingSets++,
                    s = this,
                    localforage.setItem(e, t, function(t, e) {
                        s.pendingSets--,
                        t ? (a = h(t),
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnError, s)) : (n = i,
                        r = e,
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnAnyItemSet, s),
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnItemSet, s),
                        r = n = ""),
                        0 === s.pendingSets && s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnAllSetsComplete, s)
                    }))
                }
                ,
                p.prototype.GetItem = function(i) {
                    var t, s;
                    localForageInitFailed ? c(this, "storage failed to initialise - may be disabled in browser settings") : (t = l + i,
                    this.pendingGets++,
                    s = this,
                    localforage.getItem(t, function(t, e) {
                        s.pendingGets--,
                        t ? (a = h(t),
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnError, s)) : (n = i,
                        null == (r = e) && (r = ""),
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnAnyItemGet, s),
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnItemGet, s),
                        r = n = ""),
                        0 === s.pendingGets && s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnAllGetsComplete, s)
                    }))
                }
                ,
                p.prototype.CheckItemExists = function(i) {
                    var t, s;
                    localForageInitFailed ? c(this, "storage failed to initialise - may be disabled in browser settings") : (t = l + i,
                    s = this,
                    localforage.getItem(t, function(t, e) {
                        t ? (a = h(t),
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnError, s)) : (n = i,
                        null === e ? (r = "",
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnItemMissing, s)) : (r = e,
                        s.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnItemExists, s)),
                        r = n = "")
                    }))
                }
                ,
                p.prototype.RemoveItem = function(e) {
                    var t, i;
                    localForageInitFailed ? c(this, "storage failed to initialise - may be disabled in browser settings") : (t = l + e,
                    i = this,
                    localforage.removeItem(t, function(t) {
                        t ? (a = h(t),
                        i.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnError, i)) : (n = e,
                        r = "",
                        i.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnAnyItemRemoved, i),
                        i.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnItemRemoved, i),
                        n = "")
                    }))
                }
                ,
                p.prototype.ClearStorage = function() {
                    var e;
                    localForageInitFailed ? c(this, "storage failed to initialise - may be disabled in browser settings") : t || (e = this,
                    localforage.clear(function(t) {
                        t ? (a = h(t),
                        e.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnError, e)) : (r = n = "",
                        cr.clearArray(o),
                        e.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnCleared, e))
                    }))
                }
                ,
                p.prototype.GetAllKeyNames = function() {
                    var r;
                    localForageInitFailed ? c(this, "storage failed to initialise - may be disabled in browser settings") : (r = this,
                    localforage.keys(function(t, e) {
                        var i, s, n;
                        if (t)
                            a = h(t),
                            r.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnError, r);
                        else {
                            for (cr.clearArray(o),
                            i = 0,
                            s = e.length; i < s; ++i)
                                u(n = e[i]) && o.push((n = n,
                                l ? u(n) ? n.substr(l.length) : void 0 : n));
                            r.runtime.trigger(cr.plugins_.LocalStorage.prototype.cnds.OnAllKeyNamesLoaded, r)
                        }
                    }))
                }
                ,
                e.acts = new p,
                d.prototype.ItemValue = function(t) {
                    t.set_any(r)
                }
                ,
                d.prototype.Key = function(t) {
                    t.set_string(n)
                }
                ,
                d.prototype.KeyCount = function(t) {
                    t.set_int(o.length)
                }
                ,
                d.prototype.KeyAt = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= o.length ? t.set_string("") : t.set_string(o[e])
                }
                ,
                d.prototype.ErrorMessage = function(t) {
                    t.set_string(a)
                }
                ,
                e.exps = new d
            }(),
            cr.plugins_.MagiCam = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var T = {};
                function d(t, e, i, s, n, r) {
                    this.type = t,
                    this.duration = e,
                    this.param1 = i,
                    this.param2 = s,
                    this.param3 = n,
                    this.param4 = r,
                    this.progress = 0
                }
                function g(t, e, i, s, n) {
                    this.global = n,
                    this.name = t,
                    this.x = e,
                    this.y = i,
                    this.scale = s,
                    this.following = !1,
                    this.followedObjects = [],
                    this.followedObjectUIDs = [],
                    this.objectWeights = [],
                    this.followedObjectIPs = [],
                    this.followLag = 1,
                    this.zoomToContain = !1,
                    this.zoomMarginH = 0,
                    this.zoomMarginV = 0,
                    this.zoomBoundU = -1,
                    this.zoomBoundL = -1,
                    this.transitions = [],
                    this.moveTransFinished = !1,
                    this.zoomTransFinished = !1,
                    this.isShaking = !1,
                    this.shakeX = 0,
                    this.shakeY = 0,
                    this.shakeZoom = 0,
                    this.shakeTimer = 0,
                    this.shakeStrength = 0,
                    this.shakeMaxDeviation = 0,
                    this.shakeMaxZoomDeviation = 0,
                    this.shakeLength = 0,
                    this.shakeBuildTime = 0,
                    this.shakeDropTime = 0
                }
                T.lerp = function(t, e, i) {
                    return t + (e - t) * i
                }
                ,
                T.cubic = function(t, e, i, s, n) {
                    return this.lerp(this.lerp(this.lerp(t, e, n), this.lerp(e, i, n), n), this.lerp(this.lerp(e, i, n), this.lerp(i, s, n), n), n)
                }
                ,
                T.clamp = function(t, e, i) {
                    return t < e ? e : i < t ? i : t
                }
                ,
                g.prototype.GetName = function() {
                    return this.name
                }
                ,
                g.prototype.GetX = function() {
                    return this.x
                }
                ,
                g.prototype.SetX = function(t) {
                    this.x = t
                }
                ,
                g.prototype.GetY = function() {
                    return this.y
                }
                ,
                g.prototype.SetY = function(t) {
                    this.y = t
                }
                ,
                g.prototype.GetShakeX = function() {
                    return this.shakeX
                }
                ,
                g.prototype.GetShakeY = function() {
                    return this.shakeY
                }
                ,
                g.prototype.SetFollowedObject = function(t) {
                    this.followedObject = t
                }
                ,
                g.prototype.ShakeCamera = function(t) {
                    var e, i, s;
                    this.isShaking && (this.shakeTimer += t,
                    this.shakeTimer < this.shakeLength ? (e = 0,
                    e = this.shakeTimer < this.shakeBuildTime ? T.lerp(0, this.shakeStrength, this.shakeTimer / this.shakeBuildTime) : this.shakeStrength,
                    this.shakeTimer > this.shakeDropTime && (e = T.lerp(this.shakeStrength, 0, (this.shakeTimer - this.shakeDropTime) / (this.shakeLength - this.shakeDropTime))),
                    s = Math.floor(361 * Math.random()) / 57.2958,
                    i = T.lerp(0, Math.cos(s) * this.shakeMaxDeviation, e),
                    t = T.lerp(0, Math.sin(s) * this.shakeMaxDeviation, e),
                    s = T.lerp(0, Math.floor(201 * Math.random() - 100) / 100 * this.shakeMaxZoomDeviation, e),
                    this.shakeX = T.lerp(this.shakeX, i, e),
                    this.shakeY = T.lerp(this.shakeY, t, e),
                    this.shakeZoom = T.lerp(this.shakeZoom, s, e)) : (this.isShaking = !1,
                    this.shakeX = 0,
                    this.shakeY = 0,
                    this.shakeZoom = 0))
                }
                ,
                g.prototype.ProcessTransitions = function(t) {
                    var e;
                    this.moveTransFinished = !1,
                    this.zoomTransFinished = !1;
                    for (var i = 0; i < this.transitions.length; )
                        (e = this.transitions[i]).progress = T.clamp(e.progress + 1 / e.duration * t, 0, 1),
                        "MOVE" == e.type ? (this.x = T.cubic(e.param3, e.param3, e.param1, e.param1, e.progress),
                        this.y = T.cubic(e.param4, e.param4, e.param2, e.param2, e.progress)) : "SCALE" == e.type && (this.scale = T.cubic(e.param2, e.param2, e.param1, e.param1, e.progress)),
                        1 == e.progress ? ("MOVE" == e.type ? this.moveTransFinished = !0 : "SCALE" == e.type && (this.zoomTransFinished = !0),
                        this.transitions.splice(i, 1)) : i++
                }
                ,
                g.prototype.UpdateCameraTarget = function(t, e) {
                    for (var i = 0; i < this.transitions.length; i++) {
                        var s = this.transitions[i];
                        "MOVE" == s.type ? (s.param1 = e.GetX(),
                        s.param2 = e.GetY()) : "SCALE" == s.type && (s.param1 = e.scale)
                    }
                }
                ,
                g.prototype.ProcessFollowing = function(t, e, i, s) {
                    var n = this.followedObjects
                      , r = this.followedObjectIPs;
                    if (this.following && 0 < n.length) {
                        var o = 0
                          , a = 0
                          , h = 0;
                        if (this.zoomToContain) {
                            for (var c = 0, l = 0, u = 0, p = 0, d = !1, g = !1, f = !1, m = !1, y = 0; y < n.length; y++) {
                                var _ = n[y];
                                _.update_bbox(),
                                d ? c = Math.min(c, _.bbox.left) : (c = _.bbox.left,
                                d = !0),
                                g ? l = Math.max(l, _.bbox.right) : (l = _.bbox.right,
                                g = !0),
                                f ? u = Math.min(u, _.bbox.top) : (u = _.bbox.top,
                                f = !0),
                                m ? p = Math.max(p, _.bbox.bottom) : (p = _.bbox.bottom,
                                m = !0)
                            }
                            var v = (e - 2 * this.zoomMarginH) / (l - c)
                              , b = (i - 2 * this.zoomMarginV) / (p - u)
                              , o = T.lerp(c, l, .5)
                              , a = T.lerp(u, p, .5);
                            this.x < e / 2 / v && (o = e / (v = (e - this.zoomMarginH) / l) / 2),
                            this.x > s.width - e / 2 / v && (v = (e - this.zoomMarginH) / (s.width - c),
                            o = s.width - e / v / 2),
                            this.y < i / 2 / b && (a = i / (b = (i - this.zoomMarginV) / p) / 2),
                            this.y > s.height - i / 2 / b && (b = (i - this.zoomMarginV) / (s.height - u),
                            a = s.height - i / b / 2),
                            h = Math.min(v, b),
                            -1 != this.zoomBoundL && h < this.zoomBoundL && (h = this.zoomBoundL),
                            -1 != this.zoomBoundU && h > this.zoomBoundU && (h = this.zoomBoundU)
                        } else {
                            for (var w = 0, x = 0, S = 0, y = 0; y < n.length; y++)
                                w += n[y].getImagePoint(r[y], !0) * this.objectWeights[y],
                                x += n[y].getImagePoint(r[y], !1) * this.objectWeights[y],
                                S += this.objectWeights[y];
                            o = w / S,
                            a = x / S
                        }
                        1 == this.followLag ? (this.x = o,
                        this.y = a,
                        this.zoomToContain && (this.scale = h)) : (t = 4 * this.followLag * t * Math.sqrt(1 / t),
                        this.x = T.lerp(this.x, o, t),
                        this.y = T.lerp(this.y, a, t),
                        this.zoomToContain && (this.scale = T.lerp(this.scale, h, t)))
                    }
                }
                ;
                var t = cr.plugins_.MagiCam.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.localCameras = [],
                    this.localCameraCount = 0,
                    this.localCameraCountOld = 0,
                    this.transCamera = null,
                    this.transTarget = null,
                    this.isSwitchingCameras = !1,
                    this.globalCameras = [],
                    this.activeCamera = null
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.runtime.tickMe(this),
                    this.my_timescale = -1
                }
                ,
                e.saveToJSON = function() {
                    null != this.transCamera && this.localCameras.push(this.transCamera);
                    for (var t = {
                        lcc: this.localCameraCount,
                        olcc: this.localCameraCountOld,
                        alcc: this.localCameras.length,
                        agcc: this.globalCameras.length,
                        tcnn: null != this.transCamera
                    }, e = 0; e < this.localCameras.length; e++) {
                        t["lc" + e + "g"] = this.localCameras[e].global,
                        t["lc" + e + "n"] = this.localCameras[e].name,
                        t["lc" + e + "x"] = this.localCameras[e].x,
                        t["lc" + e + "y"] = this.localCameras[e].y,
                        t["lc" + e + "s"] = this.localCameras[e].scale,
                        t["lc" + e + "f"] = this.localCameras[e].following,
                        t["lc" + e + "foc"] = this.localCameras[e].followedObjects.length;
                        for (var i = 0; i < this.localCameras[e].followedObjects.length; i++)
                            t["lc" + e + "fo" + i] = this.localCameras[e].followedObjects[i].uid;
                        for (var s = 0; s < this.localCameras[e].objectWeights.length; s++)
                            t["lc" + e + "fow" + s] = this.localCameras[e].objectWeights[s];
                        for (var n = 0; n < this.localCameras[e].followedObjectIPs.length; n++)
                            t["lc" + e + "foip" + n] = this.localCameras[e].followedObjectIPs[n];
                        t["lc" + e + "fl"] = this.localCameras[e].followLag,
                        t["lc" + e + "ztc"] = this.localCameras[e].zoomToContain,
                        t["lc" + e + "zmh"] = this.localCameras[e].zoomMarginH,
                        t["lc" + e + "zmv"] = this.localCameras[e].zoomMarginV,
                        t["lc" + e + "zbu"] = this.localCameras[e].zoomBoundU,
                        t["lc" + e + "zbl"] = this.localCameras[e].zoomBoundL,
                        t["lc" + e + "tc"] = this.localCameras[e].transitions.length;
                        for (var r = 0; r < this.localCameras[e].transitions.length; r++)
                            t["lc" + e + "t" + r + "tp"] = this.localCameras[e].transitions[r].type,
                            t["lc" + e + "t" + r + "d"] = this.localCameras[e].transitions[r].duration,
                            t["lc" + e + "t" + r + "p1"] = this.localCameras[e].transitions[r].param1,
                            t["lc" + e + "t" + r + "p2"] = this.localCameras[e].transitions[r].param2,
                            t["lc" + e + "t" + r + "p3"] = this.localCameras[e].transitions[r].param3,
                            t["lc" + e + "t" + r + "p4"] = this.localCameras[e].transitions[r].param4,
                            t["lc" + e + "t" + r + "pr"] = this.localCameras[e].transitions[r].progress;
                        t["lc" + e + "mtf"] = this.localCameras[e].moveTransFinished,
                        t["lc" + e + "ztf"] = this.localCameras[e].zoomTransFinished,
                        t["lc" + e + "csis"] = this.localCameras[e].isShaking,
                        t["lc" + e + "cssx"] = this.localCameras[e].shakeX,
                        t["lc" + e + "cssy"] = this.localCameras[e].shakeY,
                        t["lc" + e + "cssz"] = this.localCameras[e].shakeZoom,
                        t["lc" + e + "csst"] = this.localCameras[e].shakeTimer,
                        t["lc" + e + "csss"] = this.localCameras[e].shakeStrength,
                        t["lc" + e + "cssmd"] = this.localCameras[e].shakeMaxDeviation,
                        t["lc" + e + "cssmzd"] = this.localCameras[e].shakeMaxZoomDeviation,
                        t["lc" + e + "cssl"] = this.localCameras[e].shakeLength,
                        t["lc" + e + "cssbt"] = this.localCameras[e].shakeBuildTime,
                        t["lc" + e + "cssdt"] = this.localCameras[e].shakeDropTime
                    }
                    for (e = 0; e < this.globalCameras.length; e++) {
                        t["gc" + e + "g"] = this.globalCameras[e].global,
                        t["gc" + e + "n"] = this.globalCameras[e].name,
                        t["gc" + e + "x"] = this.globalCameras[e].x,
                        t["gc" + e + "y"] = this.globalCameras[e].y,
                        t["gc" + e + "s"] = this.globalCameras[e].scale,
                        t["gc" + e + "f"] = this.globalCameras[e].following,
                        t["gc" + e + "foc"] = this.globalCameras[e].followedObjects.length;
                        for (i = 0; i < this.globalCameras[e].followedObjects.length; i++)
                            t["gc" + e + "fo" + i] = this.globalCameras[e].followedObjects[i].uid;
                        for (s = 0; s < this.globalCameras[e].objectWeights.length; s++)
                            t["gc" + e + "fow" + s] = this.globalCameras[e].objectWeights[s];
                        for (n = 0; n < this.globalCameras[e].followedObjectIPs.length; n++)
                            t["gc" + e + "foip" + n] = this.globalCameras[e].followedObjectIPs[n];
                        t["gc" + e + "fl"] = this.globalCameras[e].followLag,
                        t["gc" + e + "ztc"] = this.globalCameras[e].zoomToContain,
                        t["gc" + e + "zmh"] = this.globalCameras[e].zoomMarginH,
                        t["gc" + e + "zmv"] = this.globalCameras[e].zoomMarginV,
                        t["gc" + e + "zbu"] = this.globalCameras[e].zoomBoundU,
                        t["gc" + e + "zbl"] = this.globalCameras[e].zoomBoundL,
                        t["gc" + e + "tc"] = this.globalCameras[e].transitions.length;
                        for (r = 0; r < this.globalCameras[e].transitions.length; r++)
                            t["gc" + e + "t" + r + "tp"] = this.globalCameras[e].transitions[r].type,
                            t["gc" + e + "t" + r + "d"] = this.globalCameras[e].transitions[r].duration,
                            t["gc" + e + "t" + r + "p1"] = this.globalCameras[e].transitions[r].param1,
                            t["gc" + e + "t" + r + "p2"] = this.globalCameras[e].transitions[r].param2,
                            t["gc" + e + "t" + r + "p3"] = this.globalCameras[e].transitions[r].param3,
                            t["gc" + e + "t" + r + "p4"] = this.globalCameras[e].transitions[r].param4;
                        t["gc" + e + "mtf"] = this.globalCameras[e].moveTransFinished,
                        t["gc" + e + "ztf"] = this.globalCameras[e].zoomTransFinished,
                        t["gc" + e + "csis"] = this.globalCameras[e].isShaking,
                        t["gc" + e + "cssx"] = this.globalCameras[e].shakeX,
                        t["gc" + e + "cssy"] = this.globalCameras[e].shakeY,
                        t["gc" + e + "cssz"] = this.globalCameras[e].shakeZoom,
                        t["gc" + e + "csst"] = this.globalCameras[e].shakeTimer,
                        t["gc" + e + "csss"] = this.globalCameras[e].shakeStrength,
                        t["gc" + e + "cssmd"] = this.globalCameras[e].shakeMaxDeviation,
                        t["gc" + e + "cssmzd"] = this.globalCameras[e].shakeMaxZoomDeviation,
                        t["gc" + e + "cssl"] = this.globalCameras[e].shakeLength,
                        t["gc" + e + "cssbt"] = this.globalCameras[e].shakeBuildTime,
                        t["gc" + e + "cssdt"] = this.globalCameras[e].shakeDropTime
                    }
                    return null != this.activeCamera ? t.ac = this.activeCamera.name : t.ac = "null",
                    null != this.transTarget && (t.tt = this.transTarget.name),
                    t
                }
                ,
                e.loadFromJSON = function(t) {
                    this.localCameras = [],
                    this.globalCameras = [],
                    this.localCameraCount = t.lcc,
                    this.localCameraCountOld = t.olcc;
                    for (var e = t.alcc, i = 0; i < e; i++) {
                        (c = new g("",0,0,0,!1)).global = t["lc" + i + "g"],
                        c.name = t["lc" + i + "n"],
                        c.x = t["lc" + i + "x"],
                        c.y = t["lc" + i + "y"],
                        c.scale = t["lc" + i + "s"],
                        c.following = t["lc" + i + "f"];
                        for (var s = t["lc" + i + "foc"], n = 0; n < s; n++)
                            c.followedObjectUIDs.push(t["lc" + i + "fo" + n]);
                        for (var r = 0; r < s; r++)
                            c.objectWeights.push(t["lc" + i + "fow" + r]);
                        for (var o = 0; o < s; o++)
                            c.followedObjectIPs.push(t["lc" + i + "foip" + o]);
                        c.followLag = t["lc" + i + "fl"],
                        c.zoomToContain = t["lc" + i + "ztc"],
                        c.zoomMarginH = t["lc" + i + "zmh"],
                        c.zoomMarginV = t["lc" + i + "zmv"],
                        c.zoomBoundU = t["lc" + i + "zbu"],
                        c.zoomBoundL = t["lc" + i + "zbl"];
                        for (var a = t["lc" + i + "tc"], h = 0; h < a; h++)
                            (u = new d("",0,0,0,0)).type = t["lc" + i + "t" + h + "tp"],
                            u.duration = t["lc" + i + "t" + h + "d"],
                            u.param1 = t["lc" + i + "t" + h + "p1"],
                            u.param2 = t["lc" + i + "t" + h + "p2"],
                            u.param3 = t["lc" + i + "t" + h + "p3"],
                            u.param4 = t["lc" + i + "t" + h + "p4"],
                            u.progress = t["lc" + i + "t" + h + "pr"],
                            c.transitions.push(u);
                        c.moveTransFinished = t["lc" + i + "mtf"],
                        c.zoomTransFinished = t["lc" + i + "ztf"],
                        c.isShaking = t["lc" + i + "csis"],
                        c.shakeX = t["lc" + i + "cssx"],
                        c.shakeY = t["lc" + i + "cssy"],
                        c.shakeZoom = t["lc" + i + "cssz"],
                        c.shakeTimer = t["lc" + i + "csst"],
                        c.shakeStrength = t["lc" + i + "csss"],
                        c.shakeMaxDeviation = t["lc" + i + "cssmd"],
                        c.shakeMaxZoomDeviation = t["lc" + i + "cssmzd"],
                        c.shakeLength = t["lc" + i + "cssl"],
                        c.shakeBuildTime = t["lc" + i + "cssbt"],
                        c.shakeDropTime = t["lc" + i + "cssdt"],
                        this.localCameras.push(c)
                    }
                    for (var c, l = t.agcc, i = 0; i < l; i++) {
                        (c = new g("",0,0,0,!1)).global = t["gc" + i + "g"],
                        c.name = t["gc" + i + "n"],
                        c.x = t["gc" + i + "x"],
                        c.y = t["gc" + i + "y"],
                        c.scale = t["gc" + i + "s"],
                        c.following = t["gc" + i + "f"];
                        for (s = t["gc" + i + "foc"],
                        n = 0; n < s; n++)
                            c.followedObjectUIDs.push(t["gc" + i + "fo" + n]);
                        for (r = 0; r < s; r++)
                            c.objectWeights.push(t["gc" + i + "fow" + r]);
                        for (o = 0; o < s; o++)
                            c.followedObjectIPs.push(t["gc" + i + "foip" + o]);
                        c.followLag = t["gc" + i + "fl"],
                        c.zoomToContain = t["gc" + i + "ztc"],
                        c.zoomMarginH = t["gc" + i + "zmh"],
                        c.zoomMarginV = t["gc" + i + "zmv"],
                        c.zoomBoundU = t["gc" + i + "zbu"],
                        c.zoomBoundL = t["gc" + i + "zbl"];
                        for (var u, a = t["gc" + i + "tc"], h = 0; h < a; h++)
                            (u = new d("",0,0,0,0)).type = t["gc" + i + "t" + h + "tp"],
                            u.duration = t["gc" + i + "t" + h + "d"],
                            u.param1 = t["gc" + i + "t" + h + "p1"],
                            u.param2 = t["gc" + i + "t" + h + "p2"],
                            u.param3 = t["gc" + i + "t" + h + "p3"],
                            u.param4 = t["gc" + i + "t" + h + "p4"],
                            c.transitions.push(u);
                        c.moveTransFinished = t["gc" + i + "mtf"],
                        c.zoomTransFinished = t["gc" + i + "ztf"],
                        c.isShaking = t["gc" + i + "csis"],
                        c.shakeX = t["gc" + i + "cssx"],
                        c.shakeY = t["gc" + i + "cssy"],
                        c.shakeZoom = t["gc" + i + "cssz"],
                        c.shakeTimer = t["gc" + i + "csst"],
                        c.shakeStrength = t["gc" + i + "csss"],
                        c.shakeMaxDeviation = t["gc" + i + "cssmd"],
                        c.shakeMaxZoomDeviation = t["gc" + i + "cssmzd"],
                        c.shakeLength = t["gc" + i + "cssl"],
                        c.shakeBuildTime = t["gc" + i + "cssbt"],
                        c.shakeDropTime = t["gc" + i + "cssdt"],
                        this.globalCameras.push(c)
                    }
                    var p = t.ac;
                    this.activeCamera = "null" == p ? null : this.GetCamera(p),
                    t.tcnn && (this.transCamera = this.localCameras.pop(),
                    this.transTarget = this.GetCamera(t.tt))
                }
                ,
                e.afterLoad = function() {
                    for (var t = 0; t < this.localCameras.length; t++)
                        for (var e = 0; e < this.localCameras[t].followedObjectUIDs.length; e++)
                            this.localCameras[t].followedObjects.push(this.runtime.getObjectByUID(this.localCameras[t].followedObjectUIDs[e]));
                    for (t = 0; t < this.globalCameras.length; t++)
                        for (e = 0; e < this.globalCameras[t].followedObjectUIDs.length; e++)
                            this.globalCameras[t].followedObjects.push(this.runtime.getObjectByUID(this.globalCameras[t].followedObjectUIDs[e]))
                }
                ,
                e.onLayoutChange = function() {
                    for (var t = 0; t < this.localCameraCountOld; t++)
                        this.localCameras.shift();
                    this.localCameraCount -= this.localCameraCountOld
                }
                ,
                e.tick = function() {
                    this.localCameraCountOld = this.localCameraCount;
                    var t = this.runtime.getDt(this);
                    0 == t && (t = .1);
                    for (var e = 0; e < this.globalCameras.length; e++)
                        this.globalCameras[e].ProcessTransitions(t),
                        this.globalCameras[e].ProcessFollowing(t, this.runtime.original_width, this.runtime.original_height, this.runtime.running_layout),
                        this.globalCameras[e].ShakeCamera(t);
                    for (e = 0; e < this.localCameras.length; e++)
                        this.localCameras[e].ProcessTransitions(t),
                        this.localCameras[e].ProcessFollowing(t, this.runtime.original_width, this.runtime.original_height, this.runtime.running_layout),
                        this.localCameras[e].ShakeCamera(t);
                    null != this.transCamera && (this.transCamera.UpdateCameraTarget(t, this.transTarget),
                    this.transCamera.ProcessTransitions(t),
                    this.transCamera.moveTransFinished && (this.activeCamera = this.transTarget,
                    this.transCamera = null)),
                    null != this.activeCamera && (this.runtime.running_layout.scrollToX(this.activeCamera.GetX() + this.activeCamera.GetShakeX()),
                    this.runtime.running_layout.scrollToY(this.activeCamera.GetY() + this.activeCamera.GetShakeY()),
                    this.runtime.running_layout.scale = this.activeCamera.scale + this.activeCamera.shakeZoom,
                    this.runtime.redraw = !0)
                }
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                e.GetCamera = function(t) {
                    if ("" == t)
                        return this.activeCamera;
                    for (var e = this.globalCameras.length - 1; 0 <= e; e--)
                        if (this.globalCameras[e].GetName() == t)
                            return this.globalCameras[e];
                    for (e = this.localCameras.length - 1; 0 <= e; e--)
                        if (this.localCameras[e].GetName() == t)
                            return this.localCameras[e];
                    return null
                }
                ,
                i.prototype.TransitionFinished = function(t, e) {
                    t = this.GetCamera(t);
                    if (null != t) {
                        if (0 == e)
                            return t.moveTransFinished;
                        if (1 == e)
                            return t.zoomTransFinished
                    }
                    return !1
                }
                ,
                i.prototype.TransitionIsInProgress = function(t, e) {
                    var i = this.GetCamera(t);
                    if (null != i)
                        for (var s = 0; s < i.transitions.length; s++) {
                            if ("MOVE" == i.transitions[s].type && 0 == e)
                                return !0;
                            if ("SCALE" == i.transitions[s].type && 1 == e)
                                return !0
                        }
                    return !1
                }
                ,
                t.cnds = new i,
                s.prototype.FollowObject = function(t, e, i, s) {
                    var n;
                    !e || null != (n = this.GetCamera(t)) && (t = e.getFirstPicked(),
                    !n.global || e.global ? (n.followedObjects.push(t),
                    n.objectWeights.push(i),
                    n.followedObjectIPs.push(s)) : alert("MagiCam:\n\nObject not global - global cameras must follow global objects."))
                }
                ,
                s.prototype.SetFollowLag = function(t, e) {
                    t = this.GetCamera(t);
                    null != t && (t.followLag = 1 - e / 100)
                }
                ,
                s.prototype.ZoomToContain = function(t, e, i, s, n, r) {
                    t = this.GetCamera(t);
                    null != t && (0 == e ? (t.zoomToContain = !0,
                    t.zoomMarginH = i,
                    t.zoomMarginV = s,
                    t.zoomBoundU = n,
                    t.zoomBoundL = r) : t.zoomToContain = !1)
                }
                ,
                s.prototype.EnableFollowing = function(t, e) {
                    t = this.GetCamera(t);
                    null != t && (t.following = 0 == e)
                }
                ,
                s.prototype.UnfollowObject = function(t, e) {
                    if (e) {
                        var i = this.GetCamera(t);
                        if (null != i)
                            for (var s = e.getFirstPicked(), n = 0; n < i.followedObjects.length; n++)
                                if (i.followedObjects[n] == s) {
                                    i.followedObjects.splice(n, 1);
                                    break
                                }
                    }
                }
                ,
                s.prototype.CreateLocalCamera = function(t, e, i, s, n) {
                    "" != t ? (this.localCameras.push(new g(t,e,i,s,!1)),
                    this.localCameraCount++,
                    1 == n && (this.activeCamera = this.localCameras[this.localCameras.length - 1],
                    this.runtime.running_layout.scale = this.activeCamera.scale)) : alert("Camera name must not be blank.")
                }
                ,
                s.prototype.CreateGlobalCamera = function(t, e, i, s, n) {
                    "" != t ? null == this.GetCamera(t) && (this.globalCameras.push(new g(t,e,i,s,!0)),
                    1 == n && (this.activeCamera = this.globalCameras[this.globalCameras.length - 1],
                    this.runtime.running_layout.scrollToX(this.activeCamera.GetX()),
                    this.runtime.running_layout.scrollToY(this.activeCamera.GetY()),
                    this.runtime.running_layout.scale = this.activeCamera.scale)) : alert("Camera name must not be blank.")
                }
                ,
                s.prototype.SetActiveCamera = function(t) {
                    t = this.GetCamera(t);
                    null != t && (this.activeCamera = t,
                    this.runtime.running_layout.scrollToX(t.GetX()),
                    this.runtime.running_layout.scrollToY(t.GetY()),
                    this.runtime.running_layout.scale = t.scale)
                }
                ,
                s.prototype.SetScrollSmoothing = function(t) {}
                ,
                s.prototype.SetXPosition = function(t, e) {
                    t = this.GetCamera(t);
                    null != t && t.SetX(e)
                }
                ,
                s.prototype.SetYPosition = function(t, e) {
                    t = this.GetCamera(t);
                    null != t && t.SetY(e)
                }
                ,
                s.prototype.SetPosition = function(t, e, i) {
                    t = this.GetCamera(t);
                    null != t && (t.SetX(e),
                    t.SetY(i))
                }
                ,
                s.prototype.SetZoom = function(t, e) {
                    t = this.GetCamera(t);
                    null != t && (t.scale = e)
                }
                ,
                s.prototype.TransitionToPoint = function(t, e, i, s) {
                    var n = this.GetCamera(t);
                    if (null != n) {
                        for (var r = 0; r < n.transitions.length; r++)
                            if ("MOVE" == n.transitions[r].type) {
                                n.transitions.splice(r, 1);
                                break
                            }
                        n.transitions.push(new d("MOVE",s,e,i,n.GetX(),n.GetY())),
                        n.following = !1,
                        n.zoomToContain = !1
                    }
                }
                ,
                s.prototype.TransitionToZoom = function(t, e, i) {
                    var s = this.GetCamera(t);
                    if (null != s) {
                        for (var n = 0; n < s.transitions.length; n++)
                            if ("SCALE" == s.transitions[n].type) {
                                s.transitions.splice(n, 1);
                                break
                            }
                        s.transitions.push(new d("SCALE",i,e,s.scale,null,null)),
                        s.zoomToContain = !1
                    }
                }
                ,
                s.prototype.TransitionToCamera = function(t, e) {
                    t = this.GetCamera(t);
                    null != t && (this.transTarget = t,
                    this.transCamera = new g("transCamera",this.activeCamera.GetX(),this.activeCamera.GetY(),this.activeCamera.scale,!1),
                    this.transCamera.transitions.push(new d("MOVE",e,this.transTarget.GetX(),this.transTarget.GetY(),this.transCamera.GetX(),this.transCamera.GetY())),
                    this.transCamera.transitions.push(new d("SCALE",e,this.transTarget.scale,this.transCamera.scale,null,null)),
                    this.activeCamera = this.transCamera,
                    this.isSwitchingCameras = !0)
                }
                ,
                s.prototype.ShakeCamera = function(t, e, i, s, n, r, o) {
                    t = this.GetCamera(t);
                    null != t && (t.isShaking = !0,
                    t.shakeStrength = e / 100,
                    t.shakeMaxDeviation = i,
                    t.shakeMaxZoomDeviation = s,
                    t.shakeBuildTime = n,
                    t.shakeDropTime = r,
                    t.shakeLength = o,
                    t.shakeTimer = 0)
                }
                ,
                t.acts = new s,
                n.prototype.MovementTransitionProgress = function(t, e) {
                    var i = this.GetCamera(e);
                    if (null != i)
                        for (var s = 0; s < i.transitions.length; s++)
                            if ("MOVE" == i.transitions[s].type)
                                return void t.set_float(i.transitions[s].progress);
                    t.set_float(0)
                }
                ,
                n.prototype.ZoomTransitionProgress = function(t, e) {
                    var i = this.GetCamera(e);
                    if (null != i)
                        for (var s = 0; s < i.transitions.length; s++)
                            if ("SCALE" == i.transitions[s].type)
                                return void t.set_float(i.transitions[s].progress);
                    t.set_float(0)
                }
                ,
                n.prototype.GetX = function(t, e) {
                    e = this.GetCamera(e);
                    null == e ? t.set_float(0) : t.set_float(e.x)
                }
                ,
                n.prototype.GetY = function(t, e) {
                    e = this.GetCamera(e);
                    null == e ? t.set_float(0) : t.set_float(e.y)
                }
                ,
                n.prototype.GetZoom = function(t, e) {
                    e = this.GetCamera(e);
                    null == e ? t.set_float(0) : t.set_float(e.scale)
                }
                ,
                n.prototype.GetActiveCamera = function(t) {
                    null == this.activeCamera ? t.set_string("null") : t.set_string(this.activeCamera.name)
                }
                ,
                t.exps = new n
            }(),
            cr.plugins_.Mouse = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Mouse.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.buttonMap = new Array(4),
                    this.mouseXcanvas = 0,
                    this.mouseYcanvas = 0,
                    this.triggerButton = 0,
                    this.triggerType = 0,
                    this.triggerDir = 0,
                    this.handled = !1
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    var t, e = this;
                    this.runtime.isDomFree || (jQuery(document).mousemove(function(t) {
                        e.onMouseMove(t)
                    }),
                    jQuery(document).mousedown(function(t) {
                        e.onMouseDown(t)
                    }),
                    jQuery(document).mouseup(function(t) {
                        e.onMouseUp(t)
                    }),
                    jQuery(document).dblclick(function(t) {
                        e.onDoubleClick(t)
                    }),
                    t = function(t) {
                        e.onWheel(t)
                    }
                    ,
                    document.addEventListener("mousewheel", t, !1),
                    document.addEventListener("DOMMouseScroll", t, !1))
                }
                ;
                var i = {
                    left: 0,
                    top: 0
                };
                function s() {}
                function n() {}
                e.onMouseMove = function(t) {
                    var e = this.runtime.isDomFree ? i : jQuery(this.runtime.canvas).offset();
                    this.mouseXcanvas = t.pageX - e.left,
                    this.mouseYcanvas = t.pageY - e.top
                }
                ,
                e.mouseInGame = function() {
                    return 0 < this.runtime.fullscreen_mode || 0 <= this.mouseXcanvas && 0 <= this.mouseYcanvas && this.mouseXcanvas < this.runtime.width && this.mouseYcanvas < this.runtime.height
                }
                ,
                e.onMouseDown = function(t) {
                    this.mouseInGame() && (this.buttonMap[t.which] = !0,
                    this.runtime.isInUserInputEvent = !0,
                    this.runtime.trigger(cr.plugins_.Mouse.prototype.cnds.OnAnyClick, this),
                    this.triggerButton = t.which - 1,
                    this.triggerType = 0,
                    this.runtime.trigger(cr.plugins_.Mouse.prototype.cnds.OnClick, this),
                    this.runtime.trigger(cr.plugins_.Mouse.prototype.cnds.OnObjectClicked, this),
                    this.runtime.isInUserInputEvent = !1)
                }
                ,
                e.onMouseUp = function(t) {
                    this.buttonMap[t.which] && (this.runtime.had_a_click && !this.runtime.isMobile && t.preventDefault(),
                    this.runtime.had_a_click = !0,
                    this.buttonMap[t.which] = !1,
                    this.runtime.isInUserInputEvent = !0,
                    this.triggerButton = t.which - 1,
                    this.runtime.trigger(cr.plugins_.Mouse.prototype.cnds.OnRelease, this),
                    this.runtime.isInUserInputEvent = !1)
                }
                ,
                e.onDoubleClick = function(t) {
                    this.mouseInGame() && (t.preventDefault(),
                    this.runtime.isInUserInputEvent = !0,
                    this.triggerButton = t.which - 1,
                    this.triggerType = 1,
                    this.runtime.trigger(cr.plugins_.Mouse.prototype.cnds.OnClick, this),
                    this.runtime.trigger(cr.plugins_.Mouse.prototype.cnds.OnObjectClicked, this),
                    this.runtime.isInUserInputEvent = !1)
                }
                ,
                e.onWheel = function(t) {
                    var e = t.wheelDelta || (t.detail ? -t.detail : 0);
                    this.triggerDir = e < 0 ? 0 : 1,
                    this.handled = !1,
                    this.runtime.isInUserInputEvent = !0,
                    this.runtime.trigger(cr.plugins_.Mouse.prototype.cnds.OnWheel, this),
                    this.runtime.isInUserInputEvent = !1,
                    this.handled && cr.isCanvasInputEvent(t) && t.preventDefault()
                }
                ,
                e.onWindowBlur = function() {
                    for (var t = 0, e = this.buttonMap.length; t < e; ++t)
                        this.buttonMap[t] && (this.buttonMap[t] = !1,
                        this.triggerButton = t - 1,
                        this.runtime.trigger(cr.plugins_.Mouse.prototype.cnds.OnRelease, this))
                }
                ,
                s.prototype.OnClick = function(t, e) {
                    return t === this.triggerButton && e === this.triggerType
                }
                ,
                s.prototype.OnAnyClick = function() {
                    return !0
                }
                ,
                s.prototype.IsButtonDown = function(t) {
                    return this.buttonMap[t + 1]
                }
                ,
                s.prototype.OnRelease = function(t) {
                    return t === this.triggerButton
                }
                ,
                s.prototype.IsOverObject = function(t) {
                    var e = this.runtime.getCurrentCondition()
                      , i = this.mouseXcanvas
                      , s = this.mouseYcanvas;
                    return cr.xor(this.runtime.testAndSelectCanvasPointOverlap(t, i, s, e.inverted), e.inverted)
                }
                ,
                s.prototype.OnObjectClicked = function(t, e, i) {
                    return t === this.triggerButton && e === this.triggerType && this.runtime.testAndSelectCanvasPointOverlap(i, this.mouseXcanvas, this.mouseYcanvas, !1)
                }
                ,
                s.prototype.OnWheel = function(t) {
                    return this.handled = !0,
                    t === this.triggerDir
                }
                ,
                t.cnds = new s;
                var r = null;
                function o() {}
                n.prototype.SetCursor = function(t) {
                    this.runtime.isDomFree || r !== (t = ["auto", "pointer", "text", "crosshair", "move", "help", "wait", "none"][t]) && (r = t,
                    document.body.style.cursor = t)
                }
                ,
                n.prototype.SetCursorSprite = function(t) {
                    this.runtime.isDomFree || this.runtime.isMobile || !t || (t = t.getFirstPicked()) && t.curFrame && (t = t.curFrame,
                    r !== t && (t = "url(" + (r = t).getDataUri() + ") " + Math.round(t.hotspotX * t.width) + " " + Math.round(t.hotspotY * t.height) + ", auto",
                    document.body.style.cursor = "",
                    document.body.style.cursor = t))
                }
                ,
                t.acts = new n,
                o.prototype.X = function(t, e) {
                    var i, s, n, r, o;
                    cr.is_undefined(e) ? (s = (i = this.runtime.getLayerByNumber(0)).scale,
                    n = i.zoomRate,
                    r = i.parallaxX,
                    o = i.angle,
                    i.scale = 1,
                    i.zoomRate = 1,
                    i.parallaxX = 1,
                    i.angle = 0,
                    t.set_float(i.canvasToLayer(this.mouseXcanvas, this.mouseYcanvas, !0)),
                    i.scale = s,
                    i.zoomRate = n,
                    i.parallaxX = r,
                    i.angle = o) : (i = cr.is_number(e) ? this.runtime.getLayerByNumber(e) : this.runtime.getLayerByName(e)) ? t.set_float(i.canvasToLayer(this.mouseXcanvas, this.mouseYcanvas, !0)) : t.set_float(0)
                }
                ,
                o.prototype.Y = function(t, e) {
                    var i, s, n, r, o;
                    cr.is_undefined(e) ? (s = (i = this.runtime.getLayerByNumber(0)).scale,
                    n = i.zoomRate,
                    r = i.parallaxY,
                    o = i.angle,
                    i.scale = 1,
                    i.zoomRate = 1,
                    i.parallaxY = 1,
                    i.angle = 0,
                    t.set_float(i.canvasToLayer(this.mouseXcanvas, this.mouseYcanvas, !1)),
                    i.scale = s,
                    i.zoomRate = n,
                    i.parallaxY = r,
                    i.angle = o) : (i = cr.is_number(e) ? this.runtime.getLayerByNumber(e) : this.runtime.getLayerByName(e)) ? t.set_float(i.canvasToLayer(this.mouseXcanvas, this.mouseYcanvas, !1)) : t.set_float(0)
                }
                ,
                o.prototype.AbsoluteX = function(t) {
                    t.set_float(this.mouseXcanvas)
                }
                ,
                o.prototype.AbsoluteY = function(t) {
                    t.set_float(this.mouseYcanvas)
                }
                ,
                t.exps = new o
            }(),
            cr.plugins_.NinePatch = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.NinePatch.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Type.prototype;
                function _(t, e, i, s, n, r, o, a, h, c) {
                    t.save(),
                    t.fillStyle = e;
                    var l = n % i
                      , e = r % s;
                    l < 0 && (l += i),
                    e < 0 && (e += s),
                    t.translate(l + h, e + c),
                    t.fillRect(n - l - h, r - e - c, o, a),
                    t.restore()
                }
                function i() {}
                function s() {}
                e.onCreate = function() {
                    this.is_family || (this.texture_img = new Image,
                    this.texture_img.crossOrigin = "anonymous",
                    this.texture_img.cr_filesize = this.texture_filesize,
                    this.runtime.waitForImageLoad(this.texture_img, this.texture_file),
                    this.fillPattern = null,
                    this.leftPattern = null,
                    this.rightPattern = null,
                    this.topPattern = null,
                    this.bottomPattern = null,
                    this.webGL_texture = null,
                    this.webGL_fillTexture = null,
                    this.webGL_leftTexture = null,
                    this.webGL_rightTexture = null,
                    this.webGL_topTexture = null,
                    this.webGL_bottomTexture = null)
                }
                ,
                e.onLostWebGLContext = function() {
                    this.is_family || (this.webGL_texture = null,
                    this.webGL_fillTexture = null,
                    this.webGL_leftTexture = null,
                    this.webGL_rightTexture = null,
                    this.webGL_topTexture = null,
                    this.webGL_bottomTexture = null)
                }
                ,
                e.onRestoreWebGLContext = function() {
                    !this.is_family && this.instances.length && (this.webGL_texture || (this.webGL_texture = this.runtime.glwrap.loadTexture(this.texture_img, !0, this.runtime.linearSampling, this.texture_pixelformat)))
                }
                ,
                e.unloadTextures = function() {
                    this.is_family || this.instances.length || this.runtime.glwrap && (this.runtime.glwrap.deleteTexture(this.webGL_texture),
                    this.runtime.glwrap.deleteTexture(this.webGL_fillTexture),
                    this.runtime.glwrap.deleteTexture(this.webGL_leftTexture),
                    this.runtime.glwrap.deleteTexture(this.webGL_rightTexture),
                    this.runtime.glwrap.deleteTexture(this.webGL_topTexture),
                    this.runtime.glwrap.deleteTexture(this.webGL_bottomTexture),
                    this.webGL_texture = null,
                    this.webGL_fillTexture = null,
                    this.webGL_leftTexture = null,
                    this.webGL_rightTexture = null,
                    this.webGL_topTexture = null,
                    this.webGL_bottomTexture = null)
                }
                ,
                e.slicePatch = function(t, e, i, s) {
                    var n = document.createElement("canvas")
                      , i = i - t
                      , s = s - e;
                    return n.width = i,
                    n.height = s,
                    n.getContext("2d").drawImage(this.texture_img, t, e, i, s, 0, 0, i, s),
                    n
                }
                ,
                e.createPatch = function(t, e, i, s) {
                    var n, r, o, a = this.texture_img.width, h = this.texture_img.height, c = a - e, l = h - s;
                    this.runtime.glwrap ? this.webGL_fillTexture || (n = this.runtime.glwrap,
                    r = this.runtime.linearSampling,
                    o = this.texture_pixelformat,
                    t < c && i < l && (this.webGL_fillTexture = n.loadTexture(this.slicePatch(t, i, c, l), !0, r, o)),
                    0 < t && i < l && (this.webGL_leftTexture = n.loadTexture(this.slicePatch(0, i, t, l), !0, r, o, "repeat-y")),
                    0 < e && i < l && (this.webGL_rightTexture = n.loadTexture(this.slicePatch(c, i, a, l), !0, r, o, "repeat-y")),
                    0 < i && t < c && (this.webGL_topTexture = n.loadTexture(this.slicePatch(t, 0, c, i), !0, r, o, "repeat-x")),
                    0 < s && t < c && (this.webGL_bottomTexture = n.loadTexture(this.slicePatch(t, l, c, h), !0, r, o, "repeat-x"))) : this.fillPattern || (o = this.runtime.ctx,
                    t < c && i < l && (this.fillPattern = o.createPattern(this.slicePatch(t, i, c, l), "repeat")),
                    0 < t && i < l && (this.leftPattern = o.createPattern(this.slicePatch(0, i, t, l), "repeat")),
                    0 < e && i < l && (this.rightPattern = o.createPattern(this.slicePatch(c, i, a, l), "repeat")),
                    0 < i && t < c && (this.topPattern = o.createPattern(this.slicePatch(t, 0, c, i), "repeat")),
                    0 < s && t < c && (this.bottomPattern = o.createPattern(this.slicePatch(t, l, c, h), "repeat")))
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ,
                (e = t.Instance.prototype).onCreate = function() {
                    this.leftMargin = this.properties[0],
                    this.rightMargin = this.properties[1],
                    this.topMargin = this.properties[2],
                    this.bottomMargin = this.properties[3],
                    this.edges = this.properties[4],
                    this.fill = this.properties[5],
                    this.visible = 0 === this.properties[6],
                    this.seamless = 0 !== this.properties[8],
                    this.recycled ? this.rcTex.set(0, 0, 0, 0) : this.rcTex = new cr.rect(0,0,0,0),
                    this.runtime.glwrap && (this.type.webGL_texture || (this.type.webGL_texture = this.runtime.glwrap.loadTexture(this.type.texture_img, !1, this.runtime.linearSampling, this.type.texture_pixelformat))),
                    this.type.createPatch(this.leftMargin, this.rightMargin, this.topMargin, this.bottomMargin)
                }
                ,
                e.draw = function(t) {
                    var e = this.type.texture_img
                      , i = this.leftMargin
                      , s = this.rightMargin
                      , n = this.topMargin
                      , r = this.bottomMargin
                      , o = e.width
                      , a = e.height
                      , h = o - s
                      , c = a - r;
                    t.globalAlpha = this.opacity,
                    t.save();
                    var l = this.x
                      , u = this.y
                      , p = this.width
                      , d = this.height;
                    this.runtime.pixel_rounding && (l = Math.round(l),
                    u = Math.round(u));
                    var g = -(this.hotspotX * this.width)
                      , f = -(this.hotspotY * this.height)
                      , m = g % o
                      , y = f % a;
                    m < 0 && (m += o),
                    y < 0 && (y += a),
                    t.translate(l + m, u + y);
                    m = g - m,
                    f -= y,
                    y = this.seamless ? 1 : 0;
                    0 < i && 0 < n && t.drawImage(e, 0, 0, i + y, n + y, m, f, i + y, n + y),
                    0 < s && 0 < n && t.drawImage(e, h - y, 0, s + y, n + y, m + p - s - y, f, s + y, n + y),
                    0 < s && 0 < r && t.drawImage(e, h - y, c - y, s + y, r + y, m + p - s - y, f + d - r - y, s + y, r + y),
                    0 < i && 0 < r && t.drawImage(e, 0, c - y, i + y, r + y, m, f + d - r - y, i + y, r + y),
                    0 === this.edges ? (y = 2 === this.fill ? 0 : y,
                    0 < i && n < c && _(t, this.type.leftPattern, i, c - n, m, f + n, i + y, d - n - r, 0, 0),
                    0 < s && n < c && _(t, this.type.rightPattern, s, c - n, m + p - s - y, f + n, s + y, d - n - r, y, 0),
                    0 < n && i < h && _(t, this.type.topPattern, h - i, n, m + i, f, p - i - s, n + y, 0, 0),
                    0 < r && i < h && _(t, this.type.bottomPattern, h - i, r, m + i, f + d - r - y, p - i - s, r + y, 0, y)) : 1 === this.edges && (0 < i && n < c && 0 < d - n - r && t.drawImage(e, 0, n, i, c - n, m, f + n, i, d - n - r),
                    0 < s && n < c && 0 < d - n - r && t.drawImage(e, h, n, s, c - n, m + p - s, f + n, s, d - n - r),
                    0 < n && i < h && 0 < p - i - s && t.drawImage(e, i, 0, h - i, n, m + i, f, p - i - s, n),
                    0 < r && i < h && 0 < p - i - s && t.drawImage(e, i, c, h - i, r, m + i, f + d - r, p - i - s, r)),
                    n < c && i < h && (0 === this.fill ? _(t, this.type.fillPattern, h - i, c - n, m + i, f + n, p - i - s, d - n - r, 0, 0) : 1 === this.fill && 0 < p - i - s && 0 < d - n - r && t.drawImage(e, i, n, h - i, c - n, m + i, f + n, p - i - s, d - n - r)),
                    t.restore()
                }
                ,
                e.drawPatch = function(t, e, i, s, n, r, o, a, h, c) {
                    t.setTexture(e);
                    var l = this.rcTex;
                    l.left = i / e.c2width,
                    l.top = s / e.c2height,
                    l.right = (i + n) / e.c2width,
                    l.bottom = (s + r) / e.c2height,
                    t.quadTex(o, a, o + h, a, o + h, a + c, o, a + c, l)
                }
                ,
                e.tilePatch = function(t, e, i, s, n, r, o, a) {
                    t.setTexture(e);
                    var h = this.rcTex;
                    h.left = -o / e.c2width,
                    h.top = -a / e.c2height,
                    h.right = (n - o) / e.c2width,
                    h.bottom = (r - a) / e.c2height,
                    t.quadTex(i, s, i + n, s, i + n, s + r, i, s + r, h)
                }
                ,
                e.drawGL_earlyZPass = function(t) {
                    this.drawGL(t)
                }
                ,
                e.drawGL = function(t) {
                    var e = this.leftMargin
                      , i = this.rightMargin
                      , s = this.topMargin
                      , n = this.bottomMargin
                      , r = this.type.texture_img.width - i
                      , o = this.type.texture_img.height - n;
                    t.setOpacity(this.opacity);
                    this.rcTex;
                    var a = this.bquad
                      , h = a.tlx
                      , c = a.tly
                      , l = this.width
                      , u = this.height;
                    this.runtime.pixel_rounding && (h = Math.round(h),
                    c = Math.round(c));
                    a = this.seamless ? 1 : 0;
                    0 < e && 0 < s && this.drawPatch(t, this.type.webGL_texture, 0, 0, e + a, s + a, h, c, e + a, s + a),
                    0 < i && 0 < s && this.drawPatch(t, this.type.webGL_texture, r - a, 0, i + a, s + a, h + l - i - a, c, i + a, s + a),
                    0 < i && 0 < n && this.drawPatch(t, this.type.webGL_texture, r - a, o - a, i + a, n + a, h + l - i - a, c + u - n - a, i + a, n + a),
                    0 < e && 0 < n && this.drawPatch(t, this.type.webGL_texture, 0, o - a, e + a, n + a, h, c + u - n - a, e + a, n + a),
                    0 === this.edges ? (a = 2 === this.fill ? 0 : a,
                    0 < e && s < o && this.tilePatch(t, this.type.webGL_leftTexture, h, c + s, e + a, u - s - n, 0, 0),
                    0 < i && s < o && this.tilePatch(t, this.type.webGL_rightTexture, h + l - i - a, c + s, i + a, u - s - n, a, 0),
                    0 < s && e < r && this.tilePatch(t, this.type.webGL_topTexture, h + e, c, l - e - i, s + a, 0, 0),
                    0 < n && e < r && this.tilePatch(t, this.type.webGL_bottomTexture, h + e, c + u - n - a, l - e - i, n + a, 0, a)) : 1 === this.edges && (0 < e && s < o && this.drawPatch(t, this.type.webGL_texture, 0, s, e, o - s, h, c + s, e, u - s - n),
                    0 < i && s < o && this.drawPatch(t, this.type.webGL_texture, r, s, i, o - s, h + l - i, c + s, i, u - s - n),
                    0 < s && e < r && this.drawPatch(t, this.type.webGL_texture, e, 0, r - e, s, h + e, c, l - e - i, s),
                    0 < n && e < r && this.drawPatch(t, this.type.webGL_texture, e, o, r - e, n, h + e, c + u - n, l - e - i, n)),
                    s < o && e < r && (0 === this.fill ? this.tilePatch(t, this.type.webGL_fillTexture, h + e, c + s, l - e - i, u - s - n, 0, 0) : 1 === this.fill && this.drawPatch(t, this.type.webGL_texture, e, s, r - e, o - s, h + e, c + s, l - e - i, u - s - n))
                }
                ,
                i.prototype.OnURLLoaded = function() {
                    return !0
                }
                ,
                t.cnds = new i,
                s.prototype.SetEffect = function(t) {
                    this.blend_mode = t,
                    this.compositeOp = cr.effectToCompositeOp(t),
                    cr.setGLBlend(this, t, this.runtime.gl),
                    this.runtime.redraw = !0
                }
                ,
                t.acts = new s,
                t.exps = new function() {}
            }(),
            cr.plugins_.NodeWebkit = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var r = !1
                  , o = null
                  , a = null
                  , h = null
                  , c = null
                  , l = null
                  , u = null
                  , p = ""
                  , d = ""
                  , g = ""
                  , f = "\\"
                  , i = []
                  , m = ""
                  , y = ""
                  , t = cr.plugins_.NodeWebkit.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function s() {}
                function n() {}
                function _() {}
                e.onCreate = function() {
                    r = this.runtime.isNWjs;
                    var t, e, i, s, n = this;
                    r && (o = require("path"),
                    a = require("fs"),
                    h = require("os"),
                    l = require("child_process"),
                    "win32" !== (u = window.process || nw.process).platform && (f = "/"),
                    p = o.dirname(u.execPath) + f,
                    d = h.homedir() + f,
                    c = window.nwgui,
                    g = u.mainModule.filename,
                    -1 !== (t = Math.max(g.lastIndexOf("/"), g.lastIndexOf("\\"))) && (g = g.substr(0, t + 1)),
                    window.ondrop = function(t) {
                        t.preventDefault();
                        for (var e = 0; e < t.dataTransfer.files.length; ++e)
                            m = t.dataTransfer.files[e].path,
                            n.runtime.trigger(cr.plugins_.NodeWebkit.prototype.cnds.OnFileDrop, n);
                        return !1
                    }
                    ,
                    (e = document.getElementById("c2nwOpenFileDialog")).onchange = function(t) {
                        y = e.value,
                        n.runtime.trigger(cr.plugins_.NodeWebkit.prototype.cnds.OnOpenDlg, n);
                        try {
                            e.value = null
                        } catch (t) {}
                    }
                    ,
                    e.oncancel = function() {
                        n.runtime.trigger(cr.plugins_.NodeWebkit.prototype.cnds.OnOpenDlgCancel, n)
                    }
                    ,
                    (i = document.getElementById("c2nwChooseFolderDialog")).onchange = function(t) {
                        y = i.value,
                        n.runtime.trigger(cr.plugins_.NodeWebkit.prototype.cnds.OnFolderDlg, n);
                        try {
                            i.value = null
                        } catch (t) {}
                    }
                    ,
                    i.oncancel = function() {
                        n.runtime.trigger(cr.plugins_.NodeWebkit.prototype.cnds.OnFolderDlgCancel, n)
                    }
                    ,
                    (s = document.getElementById("c2nwSaveDialog")).onchange = function(t) {
                        y = s.value,
                        n.runtime.trigger(cr.plugins_.NodeWebkit.prototype.cnds.OnSaveDlg, n);
                        try {
                            s.value = null
                        } catch (t) {}
                    }
                    ,
                    s.oncancel = function() {
                        n.runtime.trigger(cr.plugins_.NodeWebkit.prototype.cnds.OnSaveDlgCancel, n)
                    }
                    )
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                s.prototype.PathExists = function(t) {
                    return !!r && a.existsSync(t)
                }
                ,
                s.prototype.OnFileDrop = function() {
                    return !0
                }
                ,
                s.prototype.OnOpenDlg = function() {
                    return !0
                }
                ,
                s.prototype.OnFolderDlg = function() {
                    return !0
                }
                ,
                s.prototype.OnSaveDlg = function() {
                    return !0
                }
                ,
                s.prototype.OnOpenDlgCancel = function() {
                    return !0
                }
                ,
                s.prototype.OnFolderDlgCancel = function() {
                    return !0
                }
                ,
                s.prototype.OnSaveDlgCancel = function() {
                    return !0
                }
                ,
                t.cnds = new s,
                n.prototype.WriteFile = function(t, e) {
                    if (r)
                        try {
                            a.writeFileSync(t, e, {
                                encoding: "utf8"
                            })
                        } catch (t) {}
                }
                ,
                n.prototype.RenameFile = function(t, e) {
                    if (r)
                        try {
                            a.renameSync(t, e)
                        } catch (t) {}
                }
                ,
                n.prototype.DeleteFile = function(t) {
                    if (r)
                        try {
                            a.unlinkSync(t)
                        } catch (t) {}
                }
                ,
                n.prototype.CopyFile = function(t, e) {
                    if (r && t !== e)
                        try {
                            var i = a.readFileSync(t, {
                                flags: "rb"
                            });
                            a.writeFileSync(e, i, {
                                flags: "wb"
                            })
                        } catch (t) {}
                }
                ,
                n.prototype.MoveFile = function(t, e) {
                    if (r && t !== e)
                        try {
                            var i = a.readFileSync(t, {
                                flags: "rb"
                            });
                            a.writeFileSync(e, i, {
                                flags: "wb"
                            }),
                            a.existsSync(e) && a.unlinkSync(t)
                        } catch (t) {}
                }
                ,
                n.prototype.RunFile = function(t) {
                    r && l.exec(t, function() {})
                }
                ,
                n.prototype.ShellOpen = function(t) {
                    r && nw.Shell.openItem(t)
                }
                ,
                n.prototype.OpenBrowser = function(t) {
                    if (r) {
                        var e;
                        switch (u.platform) {
                        case "win32":
                            e = 'start ""';
                            break;
                        case "darwin":
                            e = "open";
                            break;
                        default:
                            e = o.join(__dirname, "../vendor/xdg-open")
                        }
                        l.exec(e + ' "' + t.replace(/"/, '\\"') + '"')
                    }
                }
                ,
                n.prototype.CreateFolder = function(t) {
                    if (r)
                        try {
                            a.mkdirSync(t)
                        } catch (t) {}
                }
                ,
                n.prototype.AppendFile = function(t, e) {
                    if (r)
                        try {
                            a.appendFileSync(t, e, {
                                encoding: "utf8"
                            })
                        } catch (t) {}
                }
                ,
                n.prototype.ListFiles = function(e) {
                    if (r) {
                        try {
                            i = a.readdirSync(e)
                        } catch (t) {
                            i = [],
                            console.warn("Error listing files at '" + e + "': ", t)
                        }
                        i = i || []
                    }
                }
                ,
                n.prototype.ShowOpenDlg = function(t) {
                    var e;
                    r && ((e = jQuery("#c2nwOpenFileDialog")).attr("accept", t),
                    e.trigger("click"))
                }
                ,
                n.prototype.ShowFolderDlg = function(t) {
                    r && jQuery("#c2nwChooseFolderDialog").trigger("click")
                }
                ,
                n.prototype.ShowSaveDlg = function(t) {
                    var e;
                    r && ((e = jQuery("#c2nwSaveDialog")).attr("accept", t),
                    e.trigger("click"))
                }
                ,
                n.prototype.SetWindowX = function(t) {
                    r && c && (c.Window.get().x = t)
                }
                ,
                n.prototype.SetWindowY = function(t) {
                    r && c && (c.Window.get().y = t)
                }
                ,
                n.prototype.SetWindowWidth = function(t) {
                    r && c && (c.Window.get().width = t)
                }
                ,
                n.prototype.SetWindowHeight = function(t) {
                    r && c && (c.Window.get().height = t)
                }
                ,
                n.prototype.SetWindowTitle = function(t) {
                    r && c && (c.Window.get().title = t,
                    document.title = t)
                }
                ,
                n.prototype.WindowMinimize = function() {
                    var t;
                    r && c && (t = c.Window.get(),
                    setTimeout(function() {
                        t.minimize()
                    }, 100))
                }
                ,
                n.prototype.WindowMaximize = function() {
                    var t;
                    r && c && (t = c.Window.get(),
                    setTimeout(function() {
                        t.maximize()
                    }, 100))
                }
                ,
                n.prototype.WindowUnmaximize = function() {
                    var t;
                    r && c && (t = c.Window.get(),
                    setTimeout(function() {
                        t.unmaximize()
                    }, 100))
                }
                ,
                n.prototype.WindowRestore = function() {
                    var t;
                    r && c && (t = c.Window.get(),
                    setTimeout(function() {
                        t.restore()
                    }, 100))
                }
                ,
                n.prototype.WindowRequestAttention = function(t) {
                    r && c && c.Window.get().requestAttention(t ? 3 : 0)
                }
                ,
                n.prototype.WindowSetMaxSize = function(t, e) {
                    r && c && c.Window.get().setMaximumSize(t, e)
                }
                ,
                n.prototype.WindowSetMinSize = function(t, e) {
                    r && c && c.Window.get().setMinimumSize(t, e)
                }
                ,
                n.prototype.WindowSetResizable = function(t) {
                    r && c && c.Window.get().setResizable(0 !== t)
                }
                ,
                n.prototype.WindowSetAlwaysOnTop = function(t) {
                    r && c && c.Window.get().setAlwaysOnTop(0 !== t)
                }
                ,
                n.prototype.ShowDevTools = function() {
                    r && c && c.Window.get().showDevTools()
                }
                ,
                n.prototype.SetClipboardText = function(t) {
                    r && c && c.Clipboard.get().set(t)
                }
                ,
                n.prototype.ClearClipboard = function() {
                    r && c && c.Clipboard.get().clear()
                }
                ,
                t.acts = new n,
                _.prototype.AppFolder = function(t) {
                    t.set_string(p)
                }
                ,
                _.prototype.AppFolderURL = function(t) {
                    t.set_string("file://" + p)
                }
                ,
                _.prototype.ProjectFilesFolder = function(t) {
                    t.set_string(g)
                }
                ,
                _.prototype.ProjectFilesFolderURL = function(t) {
                    t.set_string("file://" + g)
                }
                ,
                _.prototype.UserFolder = function(t) {
                    t.set_string(d)
                }
                ,
                _.prototype.ReadFile = function(t, e) {
                    if (r) {
                        var i = "";
                        try {
                            i = a.readFileSync(e, {
                                encoding: "utf8"
                            })
                        } catch (t) {}
                        t.set_string(i)
                    } else
                        t.set_string("")
                }
                ,
                _.prototype.FileSize = function(t, e) {
                    if (r) {
                        var i = 0;
                        try {
                            var s = a.statSync(e);
                            s && (i = s.size || 0)
                        } catch (t) {}
                        t.set_int(i)
                    } else
                        t.set_int(0)
                }
                ,
                _.prototype.ListCount = function(t) {
                    t.set_int(i.length)
                }
                ,
                _.prototype.ListAt = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= i.length ? t.set_string("") : t.set_string(i[e])
                }
                ,
                _.prototype.DroppedFile = function(t) {
                    t.set_string(m)
                }
                ,
                _.prototype.ChosenPath = function(t) {
                    t.set_string(y)
                }
                ,
                _.prototype.WindowX = function(t) {
                    t.set_int(r && c ? c.Window.get().x : 0)
                }
                ,
                _.prototype.WindowY = function(t) {
                    t.set_int(r && c ? c.Window.get().y : 0)
                }
                ,
                _.prototype.WindowWidth = function(t) {
                    t.set_int(r && c ? c.Window.get().width : 0)
                }
                ,
                _.prototype.WindowHeight = function(t) {
                    t.set_int(r && c ? c.Window.get().height : 0)
                }
                ,
                _.prototype.WindowTitle = function(t) {
                    t.set_string(r && c ? c.Window.get().title || "" : 0)
                }
                ,
                _.prototype.ClipboardText = function(t) {
                    t.set_string(r && c ? c.Clipboard.get().get() || "" : 0)
                }
                ,
                t.exps = new _
            }(),
            cr.plugins_.Particles = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Particles.prototype;
                function e(t) {
                    this.owner = t,
                    this.active = !1,
                    this.x = 0,
                    this.y = 0,
                    this.speed = 0,
                    this.angle = 0,
                    this.opacity = 1,
                    this.grow = 0,
                    this.size = 0,
                    this.gs = 0,
                    this.age = 0,
                    cr.seal(this)
                }
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                (i = t.Type.prototype).onCreate = function() {
                    this.is_family || (this.texture_img = new Image,
                    this.texture_img.crossOrigin = "anonymous",
                    this.texture_img.cr_filesize = this.texture_filesize,
                    this.webGL_texture = null,
                    this.runtime.waitForImageLoad(this.texture_img, this.texture_file))
                }
                ,
                i.onLostWebGLContext = function() {
                    this.is_family || (this.webGL_texture = null)
                }
                ,
                i.onRestoreWebGLContext = function() {
                    !this.is_family && this.instances.length && (this.webGL_texture || (this.webGL_texture = this.runtime.glwrap.loadTexture(this.texture_img, !0, this.runtime.linearSampling, this.texture_pixelformat)))
                }
                ,
                i.loadTextures = function() {
                    this.is_family || this.webGL_texture || !this.runtime.glwrap || (this.webGL_texture = this.runtime.glwrap.loadTexture(this.texture_img, !0, this.runtime.linearSampling, this.texture_pixelformat))
                }
                ,
                i.unloadTextures = function() {
                    this.is_family || this.instances.length || !this.webGL_texture || (this.runtime.glwrap.deleteTexture(this.webGL_texture),
                    this.webGL_texture = null)
                }
                ,
                i.preloadCanvas2D = function(t) {
                    t.drawImage(this.texture_img, 0, 0)
                }
                ,
                e.prototype.init = function() {
                    var t = this.owner;
                    this.x = t.x - t.xrandom / 2 + Math.random() * t.xrandom,
                    this.y = t.y - t.yrandom / 2 + Math.random() * t.yrandom,
                    this.speed = t.initspeed - t.speedrandom / 2 + Math.random() * t.speedrandom,
                    this.angle = t.angle - t.spraycone / 2 + Math.random() * t.spraycone,
                    this.opacity = t.initopacity,
                    this.size = t.initsize - t.sizerandom / 2 + Math.random() * t.sizerandom,
                    this.grow = t.growrate - t.growrandom / 2 + Math.random() * t.growrandom,
                    this.gs = 0,
                    this.age = 0
                }
                ,
                e.prototype.tick = function(t) {
                    var e = this.owner;
                    this.x += Math.cos(this.angle) * this.speed * t,
                    this.y += Math.sin(this.angle) * this.speed * t,
                    this.y += this.gs * t,
                    this.speed += e.acc * t,
                    this.size += this.grow * t,
                    this.gs += e.g * t,
                    this.age += t,
                    this.size < 1 ? this.active = !1 : (0 !== e.lifeanglerandom && (this.angle += Math.random() * e.lifeanglerandom * t - e.lifeanglerandom * t / 2),
                    0 !== e.lifespeedrandom && (this.speed += Math.random() * e.lifespeedrandom * t - e.lifespeedrandom * t / 2),
                    0 !== e.lifeopacityrandom && (this.opacity += Math.random() * e.lifeopacityrandom * t - e.lifeopacityrandom * t / 2,
                    this.opacity < 0 ? this.opacity = 0 : 1 < this.opacity && (this.opacity = 1)),
                    e.destroymode <= 1 && this.age >= e.timeout && (this.active = !1),
                    2 === e.destroymode && this.speed <= 0 && (this.active = !1))
                }
                ,
                e.prototype.draw = function(t) {
                    var e, i = this.owner.opacity * this.opacity;
                    0 !== i && (0 === this.owner.destroymode && (i *= 1 - this.age / this.owner.timeout),
                    t.globalAlpha = i,
                    e = this.x - this.size / 2,
                    i = this.y - this.size / 2,
                    this.owner.runtime.pixel_rounding && (e = e + .5 | 0,
                    i = i + .5 | 0),
                    t.drawImage(this.owner.type.texture_img, e, i, this.size, this.size))
                }
                ,
                e.prototype.drawGL = function(t) {
                    var e = this.owner.opacity * this.opacity;
                    0 === this.owner.destroymode && (e *= 1 - this.age / this.owner.timeout);
                    var i = this.size
                      , s = i * this.owner.particlescale
                      , n = this.x - i / 2
                      , r = this.y - i / 2;
                    this.owner.runtime.pixel_rounding && (n = n + .5 | 0,
                    r = r + .5 | 0),
                    s < 1 || 0 === e || (s < t.minPointSize || s > t.maxPointSize ? (t.setOpacity(e),
                    t.quad(n, r, n + i, r, n + i, r + i, n, r + i)) : t.point(this.x, this.y, s, e))
                }
                ,
                e.prototype.left = function() {
                    return this.x - this.size / 2
                }
                ,
                e.prototype.right = function() {
                    return this.x + this.size / 2
                }
                ,
                e.prototype.top = function() {
                    return this.y - this.size / 2
                }
                ,
                e.prototype.bottom = function() {
                    return this.y + this.size / 2
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var i = t.Instance.prototype
                  , o = [];
                function s() {}
                function n() {}
                function r() {}
                i.onCreate = function() {
                    var t = this.properties;
                    if (this.rate = t[0],
                    this.spraycone = cr.to_radians(t[1]),
                    this.spraytype = t[2],
                    this.spraying = !0,
                    this.initspeed = t[3],
                    this.initsize = t[4],
                    this.initopacity = t[5] / 100,
                    this.growrate = t[6],
                    this.xrandom = t[7],
                    this.yrandom = t[8],
                    this.speedrandom = t[9],
                    this.sizerandom = t[10],
                    this.growrandom = t[11],
                    this.acc = t[12],
                    this.g = t[13],
                    this.lifeanglerandom = t[14],
                    this.lifespeedrandom = t[15],
                    this.lifeopacityrandom = t[16],
                    this.destroymode = t[17],
                    this.timeout = t[18],
                    this.particleCreateCounter = 0,
                    this.particlescale = 1,
                    this.particleBoxLeft = this.x,
                    this.particleBoxTop = this.y,
                    this.particleBoxRight = this.x,
                    this.particleBoxBottom = this.y,
                    this.add_bbox_changed_callback(function(t) {
                        t.bbox.set(t.particleBoxLeft, t.particleBoxTop, t.particleBoxRight, t.particleBoxBottom),
                        t.bquad.set_from_rect(t.bbox),
                        t.bbox_changed = !1,
                        t.update_collision_cell(),
                        t.update_render_cell()
                    }),
                    this.recycled || (this.particles = []),
                    this.runtime.tickMe(this),
                    this.type.loadTextures(),
                    1 === this.spraytype)
                        for (var e = 0; e < this.rate; e++)
                            this.allocateParticle().opacity = 0;
                    this.first_tick = !0
                }
                ,
                i.saveToJSON = function() {
                    for (var t, e = {
                        r: this.rate,
                        sc: this.spraycone,
                        st: this.spraytype,
                        s: this.spraying,
                        isp: this.initspeed,
                        isz: this.initsize,
                        io: this.initopacity,
                        gr: this.growrate,
                        xr: this.xrandom,
                        yr: this.yrandom,
                        spr: this.speedrandom,
                        szr: this.sizerandom,
                        grnd: this.growrandom,
                        acc: this.acc,
                        g: this.g,
                        lar: this.lifeanglerandom,
                        lsr: this.lifespeedrandom,
                        lor: this.lifeopacityrandom,
                        dm: this.destroymode,
                        to: this.timeout,
                        pcc: this.particleCreateCounter,
                        ft: this.first_tick,
                        p: []
                    }, i = e.p, s = 0, n = this.particles.length; s < n; s++)
                        t = this.particles[s],
                        i.push([t.x, t.y, t.speed, t.angle, t.opacity, t.grow, t.size, t.gs, t.age]);
                    return e
                }
                ,
                i.loadFromJSON = function(t) {
                    var e, i;
                    this.rate = t.r,
                    this.spraycone = t.sc,
                    this.spraytype = t.st,
                    this.spraying = t.s,
                    this.initspeed = t.isp,
                    this.initsize = t.isz,
                    this.initopacity = t.io,
                    this.growrate = t.gr,
                    this.xrandom = t.xr,
                    this.yrandom = t.yr,
                    this.speedrandom = t.spr,
                    this.sizerandom = t.szr,
                    this.growrandom = t.grnd,
                    this.acc = t.acc,
                    this.g = t.g,
                    this.lifeanglerandom = t.lar,
                    this.lifespeedrandom = t.lsr,
                    this.lifeopacityrandom = t.lor,
                    this.destroymode = t.dm,
                    this.timeout = t.to,
                    this.particleCreateCounter = t.pcc,
                    this.first_tick = t.ft,
                    o.push.apply(o, this.particles),
                    cr.clearArray(this.particles);
                    for (var s = t.p, n = 0, r = s.length; n < r; n++)
                        e = this.allocateParticle(),
                        i = s[n],
                        e.x = i[0],
                        e.y = i[1],
                        e.speed = i[2],
                        e.angle = i[3],
                        e.opacity = i[4],
                        e.grow = i[5],
                        e.size = i[6],
                        e.gs = i[7],
                        e.age = i[8]
                }
                ,
                i.onDestroy = function() {
                    o.push.apply(o, this.particles),
                    cr.clearArray(this.particles)
                }
                ,
                i.allocateParticle = function() {
                    var t;
                    return o.length ? (t = o.pop()).owner = this : t = new e(this),
                    this.particles.push(t),
                    t.active = !0,
                    t
                }
                ,
                i.tick = function() {
                    var t, e, i, s, n, r = this.runtime.getDt(this);
                    if (0 === this.spraytype && this.spraying)
                        for (this.particleCreateCounter += r * this.rate,
                        s = cr.floor(this.particleCreateCounter),
                        this.particleCreateCounter -= s,
                        t = 0; t < s; t++)
                            (i = this.allocateParticle()).init();
                    for (this.particleBoxLeft = this.x,
                    this.particleBoxTop = this.y,
                    this.particleBoxRight = this.x,
                    this.particleBoxBottom = this.y,
                    n = t = 0,
                    e = this.particles.length; t < e; t++)
                        i = this.particles[t],
                        this.particles[n] = i,
                        this.runtime.redraw = !0,
                        1 === this.spraytype && this.first_tick && i.init(),
                        i.tick(r),
                        i.active ? (i.left() < this.particleBoxLeft && (this.particleBoxLeft = i.left()),
                        i.right() > this.particleBoxRight && (this.particleBoxRight = i.right()),
                        i.top() < this.particleBoxTop && (this.particleBoxTop = i.top()),
                        i.bottom() > this.particleBoxBottom && (this.particleBoxBottom = i.bottom()),
                        n++) : o.push(i);
                    cr.truncateArray(this.particles, n),
                    this.set_bbox_changed(),
                    this.first_tick = !1,
                    1 === this.spraytype && 0 === this.particles.length && this.runtime.DestroyInstance(this)
                }
                ,
                i.draw = function(t) {
                    for (var e, i = this.layer, s = 0, n = this.particles.length; s < n; s++)
                        (e = this.particles[s]).right() >= i.viewLeft && e.bottom() >= i.viewTop && e.left() <= i.viewRight && e.top() <= i.viewBottom && e.draw(t)
                }
                ,
                i.drawGL = function(t) {
                    this.particlescale = this.layer.getScale(),
                    t.setTexture(this.type.webGL_texture);
                    for (var e, i = this.layer, s = 0, n = this.particles.length; s < n; s++)
                        (e = this.particles[s]).right() >= i.viewLeft && e.bottom() >= i.viewTop && e.left() <= i.viewRight && e.top() <= i.viewBottom && e.drawGL(t)
                }
                ,
                s.prototype.IsSpraying = function() {
                    return this.spraying
                }
                ,
                t.cnds = new s,
                n.prototype.SetSpraying = function(t) {
                    this.spraying = 0 !== t
                }
                ,
                n.prototype.SetEffect = function(t) {
                    this.blend_mode = t,
                    this.compositeOp = cr.effectToCompositeOp(t),
                    cr.setGLBlend(this, t, this.runtime.gl),
                    this.runtime.redraw = !0
                }
                ,
                n.prototype.SetRate = function(t) {
                    var e, i;
                    if (this.rate = t,
                    1 === this.spraytype && this.first_tick)
                        if (t < this.particles.length)
                            for (e = this.particles.length - t,
                            i = 0; i < e; i++)
                                o.push(this.particles.pop());
                        else if (t > this.particles.length)
                            for (e = t - this.particles.length,
                            i = 0; i < e; i++)
                                this.allocateParticle().opacity = 0
                }
                ,
                n.prototype.SetSprayCone = function(t) {
                    this.spraycone = cr.to_radians(t)
                }
                ,
                n.prototype.SetInitSpeed = function(t) {
                    this.initspeed = t
                }
                ,
                n.prototype.SetInitSize = function(t) {
                    this.initsize = t
                }
                ,
                n.prototype.SetInitOpacity = function(t) {
                    this.initopacity = t / 100
                }
                ,
                n.prototype.SetGrowRate = function(t) {
                    this.growrate = t
                }
                ,
                n.prototype.SetXRandomiser = function(t) {
                    this.xrandom = t
                }
                ,
                n.prototype.SetYRandomiser = function(t) {
                    this.yrandom = t
                }
                ,
                n.prototype.SetSpeedRandomiser = function(t) {
                    this.speedrandom = t
                }
                ,
                n.prototype.SetSizeRandomiser = function(t) {
                    this.sizerandom = t
                }
                ,
                n.prototype.SetGrowRateRandomiser = function(t) {
                    this.growrandom = t
                }
                ,
                n.prototype.SetParticleAcc = function(t) {
                    this.acc = t
                }
                ,
                n.prototype.SetGravity = function(t) {
                    this.g = t
                }
                ,
                n.prototype.SetAngleRandomiser = function(t) {
                    this.lifeanglerandom = t
                }
                ,
                n.prototype.SetLifeSpeedRandomiser = function(t) {
                    this.lifespeedrandom = t
                }
                ,
                n.prototype.SetOpacityRandomiser = function(t) {
                    this.lifeopacityrandom = t
                }
                ,
                n.prototype.SetTimeout = function(t) {
                    this.timeout = t
                }
                ,
                t.acts = new n,
                r.prototype.ParticleCount = function(t) {
                    t.set_int(this.particles.length)
                }
                ,
                r.prototype.Rate = function(t) {
                    t.set_float(this.rate)
                }
                ,
                r.prototype.SprayCone = function(t) {
                    t.set_float(cr.to_degrees(this.spraycone))
                }
                ,
                r.prototype.InitSpeed = function(t) {
                    t.set_float(this.initspeed)
                }
                ,
                r.prototype.InitSize = function(t) {
                    t.set_float(this.initsize)
                }
                ,
                r.prototype.InitOpacity = function(t) {
                    t.set_float(100 * this.initopacity)
                }
                ,
                r.prototype.InitGrowRate = function(t) {
                    t.set_float(this.growrate)
                }
                ,
                r.prototype.XRandom = function(t) {
                    t.set_float(this.xrandom)
                }
                ,
                r.prototype.YRandom = function(t) {
                    t.set_float(this.yrandom)
                }
                ,
                r.prototype.InitSpeedRandom = function(t) {
                    t.set_float(this.speedrandom)
                }
                ,
                r.prototype.InitSizeRandom = function(t) {
                    t.set_float(this.sizerandom)
                }
                ,
                r.prototype.InitGrowRandom = function(t) {
                    t.set_float(this.growrandom)
                }
                ,
                r.prototype.ParticleAcceleration = function(t) {
                    t.set_float(this.acc)
                }
                ,
                r.prototype.Gravity = function(t) {
                    t.set_float(this.g)
                }
                ,
                r.prototype.ParticleAngleRandom = function(t) {
                    t.set_float(this.lifeanglerandom)
                }
                ,
                r.prototype.ParticleSpeedRandom = function(t) {
                    t.set_float(this.lifespeedrandom)
                }
                ,
                r.prototype.ParticleOpacityRandom = function(t) {
                    t.set_float(this.lifeopacityrandom)
                }
                ,
                r.prototype.Timeout = function(t) {
                    t.set_float(this.timeout)
                }
                ,
                t.exps = new r
            }();
            var jText = "", window;
            cr.plugins_.SkymenSFPlusPLus = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.SkymenSFPlusPLus.prototype;
                t.onCreate = function() {}
                ,
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Type.prototype;
                function f(t) {
                    return t.replace(/\s\s*$/, "")
                }
                e.onCreate = function() {
                    this.is_family || (this.texture_img = new Image,
                    this.texture_img.crossOrigin = "anonymous",
                    this.texture_img.idtkLoadDisposed = !0,
                    this.texture_img.src = this.texture_file,
                    this.runtime.wait_for_textures.push(this.texture_img),
                    this.webGL_texture = null)
                }
                ,
                e.onLostWebGLContext = function() {
                    this.is_family || (this.webGL_texture = null)
                }
                ,
                e.onRestoreWebGLContext = function() {
                    var t, e;
                    if (!this.is_family && this.instances.length)
                        for (this.webGL_texture || (this.webGL_texture = this.runtime.glwrap.loadTexture(this.texture_img, !1, this.runtime.linearSampling, this.texture_pixelformat)),
                        t = 0,
                        e = this.instances.length; t < e; t++)
                            this.instances[t].webGL_texture = this.webGL_texture
                }
                ,
                e.unloadTextures = function() {
                    this.is_family || this.instances.length || !this.webGL_texture || (this.runtime.glwrap.deleteTexture(this.webGL_texture),
                    this.webGL_texture = null)
                }
                ,
                e.preloadCanvas2D = function(e) {
                    try {
                        e.drawImage(this.texture_img, 0, 0)
                    } catch (t) {
                        this.texture_img.onload = function() {
                            e.drawImage(this.texture_img, 0, 0)
                        }
                    }
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ,
                (e = t.Instance.prototype).onDestroy = function() {
                    var t;
                    h(this.lines),
                    t = this.clipList,
                    s(b, t, !1),
                    t = this.clipUV,
                    s(w, t, !1),
                    cr.wipe(this.characterWidthList)
                }
                ,
                e.onCreate = function() {
                    this.texture_img = this.type.texture_img,
                    this.characterWidth = this.properties[0],
                    this.characterHeight = this.properties[1],
                    this.characterSet = this.properties[2],
                    this.text = this.properties[3],
                    this.characterScale = this.properties[4],
                    this.visible = 0 === this.properties[5],
                    this.clamp = 0 === this.properties[14],
                    this.halign = this.clamp ? cr.clamp(this.properties[6], 0, 100) / 100 : this.properties[6] / 100,
                    this.valign = this.clamp ? cr.clamp(this.properties[7], 0, 100) / 100 : this.properties[7] / 100,
                    this.wrapbyword = 0 === this.properties[9],
                    this.nowrap = 2 === this.properties[9],
                    this.characterSpacing = this.properties[10],
                    this.lineHeight = this.properties[11],
                    this.textWidth = 0,
                    this.textHeight = 0,
                    this.charWidthJSON = this.properties[12],
                    this.spaceWidth = this.properties[13],
                    this.charPos = {
                        data: [0]
                    },
                    this.charPosProcessed = [[[0]]],
                    this.lastValue = 0,
                    jText = this.charWidthJSON,
                    this.recycled ? (this.lines.length = 0,
                    cr.wipe(this.clipList),
                    cr.wipe(this.clipUV),
                    cr.wipe(this.characterWidthList)) : (this.lines = [],
                    this.clipList = {},
                    this.clipUV = {},
                    this.characterWidthList = {});
                    try {
                        if (this.charWidthJSON)
                            if (-1 !== this.charWidthJSON.indexOf('""c2array""'))
                                for (var t = (r = jQuery.parseJSON(this.charWidthJSON.replace(/""/g, '"'))).size[1], e = 0; e < t; e++)
                                    for (var i = r.data[1][e][0], s = r.data[0][e][0], n = 0; n < i.length; n++)
                                        this.characterWidthList[i.charAt(n)] = s;
                            else
                                for (var r, t = (r = jQuery.parseJSON(this.charWidthJSON)).length, e = 0; e < t; e++)
                                    for (i = r[e][1],
                                    s = r[e][0],
                                    n = 0; n < i.length; n++)
                                        this.characterWidthList[i.charAt(n)] = s;
                        -1 !== this.spaceWidth && (this.characterWidthList[" "] = this.spaceWidth)
                    } catch (t) {
                        window.console && window.console.log && window.console.log("SpriteFont+ Failure: " + t)
                    }
                    this.text_changed = !0,
                    this.lastwrapwidth = this.width,
                    this.runtime.glwrap && (this.type.webGL_texture || (this.type.webGL_texture = this.runtime.glwrap.loadTexture(this.type.texture_img, !1, this.runtime.linearSampling, this.type.texture_pixelformat)),
                    this.webGL_texture = this.type.webGL_texture),
                    this.SplitSheet()
                }
                ,
                e.saveToJSON = function() {
                    var t, e = {
                        t: this.text,
                        csc: this.characterScale,
                        csp: this.characterSpacing,
                        lh: this.lineHeight,
                        tw: this.textWidth,
                        th: this.textHeight,
                        lrt: this.last_render_tick,
                        ha: this.halign,
                        va: this.valign,
                        clamp: this.clamp,
                        wbw: this.wrapbyword,
                        nw: this.nowrap,
                        charpos: this.charPos,
                        charpospro: this.charPosProcessed,
                        lastvalue: this.lastValue,
                        cw: {}
                    };
                    for (t in this.characterWidthList)
                        e.cw[t] = this.characterWidthList[t];
                    return e
                }
                ,
                e.loadFromJSON = function(t) {
                    for (var e in this.text = t.t,
                    this.characterScale = t.csc,
                    this.characterSpacing = t.csp,
                    this.lineHeight = t.lh,
                    this.textWidth = t.tw,
                    this.textHeight = t.th,
                    this.halign = t.ha,
                    this.valign = t.va,
                    this.clamp = t.clamp,
                    this.nowrap = t.nw,
                    this.wrapbyword = t.wbw,
                    this.charPos = t.charpos,
                    this.charPosProcessed = t.charpospro,
                    this.lastValue = t.lastvalue,
                    t.cw)
                        this.characterWidthList[e] = t.cw[e];
                    this.text_changed = !0,
                    this.lastwrapwidth = this.width
                }
                ;
                var i = 1e3;
                function v(t, e) {
                    return t.length ? t.pop() : new e
                }
                function m(t, e) {
                    t.length < i && t.push(e)
                }
                function s(t, e, i) {
                    if (i) {
                        for (var s = 0, n = e.length; s < n; s++)
                            m(t, e[s]);
                        e.length = 0
                    } else
                        for (var r in e)
                            Object.prototype.hasOwnProperty.call(e, r) && (m(t, e[r]),
                            delete e[r])
                }
                function y(t, e, i) {
                    var s = t.lines;
                    i = f(i),
                    e >= s.length && s.push(a()),
                    (e = s[e]).text = i,
                    e.width = t.measureWidth(i),
                    t.textWidth = cr.max(t.textWidth, e.width)
                }
                var _ = [];
                function a() {
                    return v(_, Object)
                }
                function h(t) {
                    s(_, t, !0)
                }
                var b = []
                  , w = [];
                e.SplitSheet = function() {
                    for (var t, e, i, s, n, r, o = this.texture_img, a = o.width, o = o.height, h = this.characterWidth, c = this.characterHeight, l = h / a, u = c / o, p = this.characterSet, d = Math.floor(a / h), g = Math.floor(o / c), f = 0; f < p.length && !(d * g <= f); f++) {
                        var m = f % d
                          , y = Math.floor(f / d)
                          , _ = p.charAt(f);
                        this.runtime.glwrap ? (t = this.clipUV,
                        i = m * l,
                        s = y * u,
                        n = (1 + m) * l,
                        r = (y + 1) * u,
                        void 0 === t[e = _] && (t[e] = v(w, cr.rect)),
                        t[e].left = i,
                        t[e].top = s,
                        t[e].right = n,
                        t[e].bottom = r) : (t = this.clipList,
                        e = m * h,
                        r = y * c,
                        m = h,
                        y = c,
                        void 0 === t[_ = _] && (t[_] = v(b, Object)),
                        t[_].x = e,
                        t[_].y = r,
                        t[_].w = m,
                        t[_].h = y)
                    }
                }
                ;
                var x = [];
                t.TokeniseWords = function(t) {
                    for (var e, i = "", s = x.length = 0; s < t.length; )
                        if ("\n" === (e = t.charAt(s)))
                            i.length && (x.push(i),
                            i = ""),
                            x.push("\n"),
                            ++s;
                        else if (" " === e || "\t" === e || "-" === e) {
                            for (; i += t.charAt(s),
                            s++,
                            s < t.length && (" " === t.charAt(s) || "\t" === t.charAt(s)); )
                                ;
                            x.push(i),
                            i = ""
                        } else
                            s < t.length && (i += e,
                            s++);
                    i.length && x.push(i)
                }
                ,
                t.WordWrap = function(t) {
                    var e = t.text
                      , i = t.lines;
                    if (e && e.length) {
                        var s = t.width;
                        if (s <= 2)
                            h(i);
                        else {
                            var n = t.characterWidth
                              , r = t.characterScale
                              , o = t.characterSpacing;
                            if (e.length * (n * r + o) - o <= s && -1 === e.indexOf("\n")) {
                                o = t.measureWidth(e);
                                if (o <= s)
                                    return h(i),
                                    i.push(a()),
                                    i[0].text = e,
                                    i[0].width = o,
                                    t.textWidth = o,
                                    void (t.textHeight = t.characterHeight * r + t.lineHeight)
                            }
                            t.wrapbyword;
                            this.WrapText(t),
                            t.textHeight = i.length * (t.characterHeight * r + t.lineHeight)
                        }
                    } else
                        h(i)
                }
                ,
                t.WrapText = function(t) {
                    for (var e, i, s = t.wrapbyword, n = t.nowrap, r = t.text, o = t.lines, a = t.width, h = s ? (this.TokeniseWords(r),
                    x) : n ? [r] : r, c = "", l = 0, u = !1, p = 0; p < h.length; p++)
                        if ("\n" !== h[p]) {
                            if (u = !1,
                            e = c,
                            c += h[p],
                            a < t.measureWidth(f(c))) {
                                if ("" === e)
                                    if (s) {
                                        for (; t.measureWidth(f(c)) > a; ) {
                                            for (var d = c, g = ""; t.measureWidth(f(d)) >= a; )
                                                g = d[d.length - 1] + g,
                                                d = d.slice(0, -1);
                                            y(t, l, d),
                                            c = g,
                                            l++
                                        }
                                        l--
                                    } else
                                        y(t, l, c),
                                        u = !(c = "");
                                else
                                    for (y(t, l, e),
                                    c = h[p],
                                    e = ""; t.measureWidth(f(c)) > a; ) {
                                        l++;
                                        for (d = c,
                                        g = ""; t.measureWidth(f(d)) >= a; )
                                            g = d[d.length - 1] + g,
                                            d = d.slice(0, -1);
                                        y(t, l, d),
                                        c = g
                                    }
                                l++
                            }
                        } else
                            !0 === u ? u = !1 : (y(t, l, c),
                            l++),
                            c = "";
                    for (f(c).length && (y(t, l, c),
                    l++),
                    p = l; p < o.length; p++)
                        i = o[p],
                        m(_, i);
                    o.length = l
                }
                ,
                e.measureWidth = function(t) {
                    for (var e = this.characterSpacing, i = t.length, s = 0, n = 0; n < i; n++)
                        s += this.getCharacterWidth(t.charAt(n)) * this.characterScale + e;
                    return s -= 0 < s ? e : 0
                }
                ,
                e.getCharacterWidth = function(t) {
                    var e = this.characterWidthList;
                    return void 0 !== e[t] ? e[t] : this.characterWidth
                }
                ,
                e.rebuildText = function() {
                    !this.text_changed && this.width === this.lastwrapwidth || (this.textWidth = 0,
                    this.textHeight = 0,
                    this.type.plugin.WordWrap(this),
                    this.text_changed = !1,
                    this.lastwrapwidth = this.width)
                }
                ,
                e.draw = function(t, e) {
                    var i = this.texture_img;
                    if ("" !== this.text && null != i && (this.rebuildText(),
                    !(this.height < this.characterHeight * this.characterScale + this.lineHeight))) {
                        t.globalAlpha = this.opacity;
                        var s = this.x
                          , i = this.y;
                        this.runtime.pixel_rounding && (s = s + .5 | 0,
                        i = i + .5 | 0),
                        t.save(),
                        t.translate(s, i),
                        t.rotate(this.angle);
                        var n = this.angle
                          , r = this.halign
                          , s = this.valign
                          , o = this.characterScale
                          , a = this.characterHeight * o
                          , h = this.lineHeight
                          , c = this.characterSpacing
                          , l = this.lines
                          , i = this.textHeight
                          , u = this.charPosProcessed
                          , p = !1;
                        u && void 0 !== u[0][2] && (p = !0),
                        0 !== n && (Math.cos(n),
                        Math.sin(n));
                        for (var d, s = s * cr.max(0, this.height - i), g = -(this.hotspotX * this.width), i = -(this.hotspotY * this.height), f = i += s, n = this.angle, m = 0, y = 0, _ = 0, v = 1, b = 0; b < l.length; b++) {
                            var w = l[b].text
                              , x = l[b].width
                              , S = g + r * cr.max(0, this.width - x);
                            f += h;
                            for (var T = 0; T < w.length; T++) {
                                var C, O, k, A, E, I, P, M = w.charAt(T), F = this.clipList[M];
                                if (S + this.getCharacterWidth(M) * o > this.width + 1e-5)
                                    break;
                                void 0 !== F && (p && (void 0 === u[m] ? (_ = y = 0,
                                d = n) : (y = u[m][0] * Math.cos(n) - u[m][1] * Math.sin(n) || 0,
                                _ = u[m][1] * Math.cos(n) - u[m][0] * Math.sin(n) || 0,
                                d = cr.to_radians(u[m][2]) || 0,
                                v = u[m][3] / 100 || 1)),
                                P = I = 0,
                                t.globalAlpha = this.opacity * v,
                                C = V(this, this.texture_img, void 0 === u[m] ? "None" : u[m][4], F, o, M),
                                p && 0 !== d ? (O = S + this.getCharacterWidth(M) * o / 2,
                                k = f + a,
                                A = Math.atan2(k, O) + Math.PI - d,
                                E = Math.sqrt(Math.pow(-O, 2) + Math.pow(-k, 2)),
                                I = -O - Math.cos(A) * E,
                                P = -k - Math.sin(A) * E,
                                t.save(),
                                t.rotate(d),
                                t.translate(Math.round(S + y + I), Math.round(f + _ + P)),
                                C === this.texture_img ? t.drawImage(this.texture_img, F.x, F.y, F.w, F.h, 0, 0, F.w * o, F.h * o) : t.drawImage(C, 0, 0),
                                t.restore()) : C === this.texture_img ? t.drawImage(this.texture_img, F.x, F.y, F.w, F.h, Math.round(S + y + I), Math.round(f + _ + P), F.w * o, F.h * o) : t.drawImage(C, Math.round(S + y + I), Math.round(f + _ + P))),
                                S += this.getCharacterWidth(M) * o + c,
                                p && m++,
                                0
                            }
                            if ((f += a) + a + h > this.height)
                                break
                        }
                        t.restore()
                    }
                }
                ;
                var N = new cr.quad;
                function V(t, e, i, s, n, r) {
                    if (!i || "None" === i)
                        return e;
                    if (void 0 !== t.cachedImages && void 0 !== t.cachedImages[r] && void 0 !== t.cachedImages[r][i])
                        return t.cachedImages[r][i];
                    var o, a, a = (o = s.w * n,
                    a = s.h * n,
                    (h = document.createElement("canvas")).width = o,
                    h.height = a,
                    h), h = a.getContext("2d");
                    return h.fillStyle = "black",
                    h.fillRect(0, 0, a.width, a.height),
                    h.drawImage(e, s.x, s.y, s.w, s.h, 0, 0, s.w * n, s.h * n),
                    h.globalCompositeOperation = "multiply",
                    h.fillStyle = i,
                    h.fillRect(0, 0, s.w * n, s.h * n),
                    h.globalCompositeOperation = "destination-in",
                    h.drawImage(e, s.x, s.y, s.w, s.h, 0, 0, s.w * n, s.h * n),
                    h.globalCompositeOperation = "source-over",
                    void 0 === t.cachedImages && (t.cachedImages = {}),
                    void 0 === t.cachedImages[r] && (t.cachedImages[r] = {}),
                    t.cachedImages[r][i] = a
                }
                function G(t, e, i) {
                    var s = t.tlx * e - t.tly * i;
                    t.tly = t.tly * e + t.tlx * i,
                    t.tlx = s,
                    s = t.trx * e - t.try_ * i,
                    t.try_ = t.try_ * e + t.trx * i,
                    t.trx = s,
                    s = t.blx * e - t.bly * i,
                    t.bly = t.bly * e + t.blx * i,
                    t.blx = s,
                    s = t.brx * e - t.bry * i,
                    t.bry = t.bry * e + t.brx * i,
                    t.brx = s
                }
                function n() {}
                function r() {}
                function o() {}
                e.drawGL = function(t) {
                    if ("" !== this.text && (this.rebuildText(),
                    !(this.height < this.characterHeight * this.characterScale + this.lineHeight))) {
                        this.update_bbox();
                        var e = this.bquad
                          , i = 0
                          , s = 0;
                        this.runtime.pixel_rounding && (i = (this.x + .5 | 0) - this.x,
                        s = (this.y + .5 | 0) - this.y);
                        var n, r, o = this.angle, a = this.halign, h = this.valign, c = this.characterScale, l = this.characterHeight * c, u = this.lineHeight, p = this.characterSpacing, d = this.lines, g = this.textHeight, f = this.charPosProcessed, m = !1;
                        f && void 0 !== f[0][2] && (m = !0),
                        0 !== o && (n = Math.cos(o),
                        r = Math.sin(o));
                        for (var y, g = h * cr.max(0, this.height - g), _ = e.tlx + i, v = e.tly + s, b = g, w = 0, x = 0, S = 0, T = 0, C = 0, O = 1, k = 0; k < d.length; k++) {
                            var A = d[k].text
                              , E = d[k].width
                              , I = a * cr.max(0, this.width - E);
                            b += u;
                            for (var P = 0; P < A.length; P++) {
                                var M, F, L, D, R, j = A.charAt(P), B = this.clipUV[j];
                                if (void 0 !== B && (R = {
                                    x: B.left * this.texture_img.width,
                                    y: B.top * this.texture_img.height,
                                    w: B.right * this.texture_img.width - B.left * this.texture_img.width,
                                    h: B.bottom * this.texture_img.height - B.top * this.texture_img.height
                                },
                                "None" !== (D = void 0 === f[w] ? "None" : f[w][4]) && void 0 !== this.cachedTextures && void 0 !== this.cachedTextures[j] && void 0 !== this.cachedTextures[j][D] ? (t.setTexture(this.cachedTextures[j][D]),
                                B = {
                                    top: 0,
                                    left: 0,
                                    right: 1,
                                    bottom: 1
                                }) : "None" !== D && (M = V(this, this.texture_img, D, R, 1, j)) != this.texture_img ? (F = this.runtime.glwrap.loadTexture(M, !1, this.runtime.linearSampling, this.type.texture_pixelformat),
                                void 0 === this.cachedTextures && (this.cachedTextures = {}),
                                void 0 === this.cachedTextures[j] && (this.cachedTextures[j] = {}),
                                this.cachedTextures[j][D] = F,
                                t.setTexture(F),
                                B = {
                                    top: 0,
                                    left: 0,
                                    right: 1,
                                    bottom: 1
                                }) : t.setTexture(this.webGL_texture)),
                                I + this.getCharacterWidth(j) * c > this.width + 1e-5)
                                    break;
                                m && (void 0 === f[w] ? (S = x = 0,
                                y = o) : (x = f[w][0] * Math.cos(o) - f[w][1] * Math.sin(o) || 0,
                                S = f[w][1] * Math.cos(o) - f[w][0] * Math.sin(o) || 0,
                                y = cr.to_radians(f[w][2]) || 0,
                                O = void 0 !== f[w][3] && null !== f[w][3] ? f[w][3] / 100 : 1),
                                0 !== y && (T = Math.cos(y),
                                C = Math.sin(y))),
                                void 0 !== B && (L = this.characterWidth * c,
                                R = this.characterHeight * c,
                                N.tlx = I,
                                N.tly = b,
                                N.trx = I + L,
                                N.try_ = b,
                                N.blx = I,
                                N.bly = b + R,
                                N.brx = I + L,
                                N.bry = b + R,
                                m && 0 !== y && (D = I + this.getCharacterWidth(j) * c / 2,
                                F = b + l,
                                L = Math.atan2(F, D) + Math.PI - y,
                                R = Math.sqrt(Math.pow(-D, 2) + Math.pow(-F, 2)),
                                D = -D - Math.cos(L) * R,
                                R = -F - Math.sin(L) * R,
                                N.offset(D, R),
                                G(N, T, C)),
                                0 !== o && G(N, n, r),
                                N.offset(_, v),
                                m && N.offset(x, S),
                                t.setOpacity(this.opacity * O),
                                t.quadTex(N.tlx, N.tly, N.trx, N.try_, N.brx, N.bry, N.blx, N.bly, B)),
                                I += this.getCharacterWidth(j) * c + p,
                                m && w++,
                                0
                            }
                            if ((b += l) + l + u > this.height)
                                break
                        }
                    }
                }
                ,
                e.update = function() {
                    this.runtime.redraw = !0,
                    this.lastValue += Math.abs(60 * this.runtime.getDt(this)),
                    this.charPosProcessed = this.computeWholeArray(this.charPos.data)
                }
                ,
                e.computeWholeArray = function(t) {
                    var e = [];
                    if (void 0 !== this.typewriterParams && this.typewriterActive && !this.firstFrame)
                        for (var i = 0; i < t.length; i++) {
                            var s = t[i]
                              , n = this.typeProgress[i][0]
                              , r = null === this.typewriterParams.value.x ? this.compute(s[0], i) : cr.lerp(this.typewriterParams.value.x, this.compute(s[0], i), n)
                              , o = null === this.typewriterParams.value.y ? this.compute(s[1], i) : cr.lerp(this.typewriterParams.value.y, this.compute(s[1], i), n)
                              , a = null === this.typewriterParams.value.a ? this.compute(s[2], i) : cr.lerp(this.typewriterParams.value.a, this.compute(s[2], i), n)
                              , n = null === this.typewriterParams.value.o ? this.compute(s[3], i, !0) : cr.lerp(this.typewriterParams.value.o, this.compute(s[3], i, !0), n);
                            e.push([r, o, a, n, s[4]])
                        }
                    else
                        for (i = 0; i < t.length; i++) {
                            s = t[i];
                            e.push([this.compute(s[0], i), this.compute(s[1], i), this.compute(s[2], i), this.compute(s[3], i, !0), s[4]])
                        }
                    return e
                }
                ,
                e.compute = function(t, e, i) {
                    if (i = void 0 !== i && i,
                    this.hasBehavior() || void 0 !== this.animOffset || (this.animOffset = 1,
                    this.defaultMagnitude = 0,
                    this.defaultSpeed = 100),
                    "number" == typeof t)
                        return t;
                    if ("object" == typeof t && 1 == t.length)
                        return this.compute(t[0], e);
                    if ("string" != typeof t)
                        return 0;
                    var t = t.split(" ")
                      , s = t[0].trim().toLowerCase()
                      , n = 0
                      , r = this.defaultSpeed
                      , o = 0
                      , n = void 0 === t[1] || "" == t[1].trim() || isNaN(parseInt(t[1].trim())) ? i ? 100 : (0 === this.defaultMagnitude ? this.characterHeight : this.defaultMagnitude) / (s.startsWith("angle") ? 1 : 4) : parseInt(t[1].trim())
                      , r = void 0 === t[2] || "" == t[2].trim() || isNaN(parseInt(t[2].trim())) ? this.defaultSpeed : this.defaultSpeed * parseInt(t[2].trim()) / 100
                      , o = void 0 === t[3] || "" == t[3].trim() || isNaN(parseInt(t[3].trim())) ? 0 : parseInt(t[3].trim());
                    switch (s) {
                    case "wave":
                        return Math.sin(10 * cr.to_radians(this.lastValue * r / 100) + e * this.animOffset) * n + o;
                    case "swing":
                        return Math.cos(10 * cr.to_radians(this.lastValue * r / 100) + e * this.animOffset * (i ? -1 : 1)) * n + o;
                    case "angle":
                        return Math.sin(10 * cr.to_radians(this.lastValue * r / 100) + e * this.animOffset) * n + o;
                    case "angle2":
                        return Math.cos(10 * cr.to_radians(this.lastValue * r / 100) + e * this.animOffset) * n + o;
                    case "shake":
                        return (Math.random() - .5) * n + o;
                    default:
                        var a = parseInt(s);
                        return isNaN(a) ? i ? 100 : 0 : a
                    }
                }
                ,
                e.hasBehavior = function() {
                    if (void 0 !== this.sfdxbehavior)
                        return this.sfdxbehavior;
                    this.sfdxbehavior = !1;
                    var e = this;
                    return this.behavior_insts.forEach(function(t) {
                        cr.behaviors.SkymenSFPPP && t.behavior instanceof cr.behaviors.SkymenSFPPP && (e.sfdxbehavior = !0)
                    }),
                    this.sfdxbehavior
                }
                ,
                n.prototype.CompareText = function(t, e) {
                    return e ? this.text == t : cr.equals_nocase(this.text, t)
                }
                ,
                t.cnds = new n,
                r.prototype.SetText = function(t) {
                    cr.is_number(t) && t < 1e9 && (t = Math.round(1e10 * t) / 1e10);
                    t = t.toString();
                    this.text !== t && (this.text = t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                r.prototype.AppendText = function(t) {
                    cr.is_number(t) && (t = Math.round(1e10 * t) / 1e10);
                    t = t.toString();
                    t && (this.text += t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                r.prototype.SetScale = function(t) {
                    t !== this.characterScale && (this.characterScale = t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                r.prototype.SetCharacterSpacing = function(t) {
                    t !== this.CharacterSpacing && (this.characterSpacing = t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                r.prototype.SetLineHeight = function(t) {
                    t !== this.lineHeight && (this.lineHeight = t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                e.SetCharWidth = function(t, e) {
                    e = parseInt(e, 10);
                    this.characterWidthList[t] !== e && (this.characterWidthList[t] = e,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                r.prototype.SetCharacterWidth = function(t, e) {
                    if ("" !== t)
                        for (var i = 0; i < t.length; i++)
                            this.SetCharWidth(t.charAt(i), e)
                }
                ,
                r.prototype.SetEffect = function(t) {
                    this.compositeOp = cr.effectToCompositeOp(t),
                    cr.setGLBlend(this, t, this.runtime.gl),
                    this.runtime.redraw = !0
                }
                ,
                r.prototype.SetVerAl = function(t) {
                    this.clamp ? this.valign = cr.clamp(t, 0, 100) / 100 : this.valign = t / 100,
                    this.text_changed = !0,
                    this.runtime.redraw = !0
                }
                ,
                r.prototype.SetHorAl = function(t) {
                    this.clamp ? this.halign = cr.clamp(t, 0, 100) / 100 : this.halign = t / 100,
                    this.text_changed = !0,
                    this.runtime.redraw = !0
                }
                ,
                r.prototype.SetAl = function(t, e) {
                    this.clamp ? (this.halign = cr.clamp(t, 0, 100) / 100,
                    this.valign = cr.clamp(e, 0, 100) / 100) : (this.halign = t / 100,
                    this.valign = e / 100),
                    this.text_changed = !0,
                    this.runtime.redraw = !0
                }
                ,
                r.prototype.SetWrap = function(t) {
                    this.wrapbyword = 0 === t,
                    this.nowrap = 2 === t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0
                }
                ,
                r.prototype.SetClamp = function(t) {
                    this.clamp = 0 === t,
                    this.clamp ? (this.halign = cr.clamp(this.halign, 0, 1),
                    this.valign = cr.clamp(this.valign, 0, 1)) : (this.halign = this.halign,
                    this.valign = this.valign),
                    this.text_changed = !0,
                    this.runtime.redraw = !0
                }
                ,
                r.prototype.SetCharPos = function(t) {
                    this.charPos !== JSON.parse(t) && (this.charPos = JSON.parse(t),
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                r.prototype.Redraw = function() {
                    this.update()
                }
                ,
                r.prototype.LoadURL = function(t, e, i, s) {
                    var n = new Image
                      , r = this;
                    this.characterWidth = 0 < i ? i : this.characterWidth,
                    this.characterHeight = 0 < s ? s : this.characterHeight,
                    n.onload = function() {
                        r.texture_img = n,
                        r.runtime.glwrap ? (r.has_own_texture && r.webGL_texture && r.runtime.glwrap.deleteTexture(r.webGL_texture),
                        r.webGL_texture = r.runtime.glwrap.loadTexture(n, !0, r.runtime.linearSampling)) : r.pattern = r.runtime.ctx.createPattern(n, "repeat"),
                        r.has_own_texture = !0,
                        r.runtime.redraw = !0,
                        r.runtime.trigger(cr.plugins_.SkymenSFPlusPLus.prototype.cnds.OnURLLoaded, r)
                    }
                    ,
                    "data:" !== t.substr(0, 5) && 0 === e && (n.crossOrigin = "anonymous"),
                    this.runtime.setImageSrc(n, t)
                }
                ,
                t.acts = new r,
                o.prototype.CharacterWidth = function(t, e) {
                    t.set_int(this.getCharacterWidth(e))
                }
                ,
                o.prototype.CharacterHeight = function(t) {
                    t.set_int(this.characterHeight)
                }
                ,
                o.prototype.CharacterScale = function(t) {
                    t.set_float(this.characterScale)
                }
                ,
                o.prototype.CharacterSpacing = function(t) {
                    t.set_int(this.characterSpacing)
                }
                ,
                o.prototype.LineHeight = function(t) {
                    t.set_int(this.lineHeight)
                }
                ,
                o.prototype.Text = function(t) {
                    t.set_string(this.text)
                }
                ,
                o.prototype.TextWidth = function(t) {
                    this.rebuildText(),
                    t.set_float(this.textWidth)
                }
                ,
                o.prototype.TextHeight = function(t) {
                    this.rebuildText(),
                    t.set_float(this.textHeight)
                }
                ,
                o.prototype.FullTextWidth = function(t) {
                    t.set_float(this.measureWidth(this.text))
                }
                ,
                o.prototype.HAlign = function(t) {
                    t.set_float(this.halign)
                }
                ,
                o.prototype.VAlign = function(t) {
                    t.set_float(this.valign)
                }
                ,
                o.prototype.CharPos = function(t) {
                    t.set_string(this.charPos)
                }
                ,
                t.exps = new o
            }(),
            cr.plugins_.Sprite = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Sprite.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Type.prototype;
                function c() {
                    var t, e;
                    return 0 === this.datauri.length && ((t = document.createElement("canvas")).width = this.width,
                    t.height = this.height,
                    e = t.getContext("2d"),
                    this.spritesheeted ? e.drawImage(this.texture_img, this.offx, this.offy, this.width, this.height, 0, 0, this.width, this.height) : e.drawImage(this.texture_img, 0, 0, this.width, this.height),
                    this.datauri = t.toDataURL("image/png")),
                    this.datauri
                }
                e.onCreate = function() {
                    var t, e, i, s, n, r, o, a, h;
                    if (!this.is_family)
                        for (this.all_frames = [],
                        this.has_loaded_textures = !1,
                        t = 0,
                        e = this.animations.length; t < e; t++) {
                            for (n = this.animations[t],
                            (o = {}).name = n[0],
                            o.speed = n[1],
                            o.loop = n[2],
                            o.repeatcount = n[3],
                            o.repeatto = n[4],
                            o.pingpong = n[5],
                            o.sid = n[6],
                            o.frames = [],
                            i = 0,
                            s = n[7].length; i < s; i++)
                                r = n[7][i],
                                (a = {}).texture_file = r[0],
                                a.texture_filesize = r[1],
                                a.offx = r[2],
                                a.offy = r[3],
                                a.width = r[4],
                                a.height = r[5],
                                a.duration = r[6],
                                a.hotspotX = r[7],
                                a.hotspotY = r[8],
                                a.image_points = r[9],
                                a.poly_pts = r[10],
                                a.pixelformat = r[11],
                                a.spritesheeted = 0 !== a.width,
                                a.datauri = "",
                                a.getDataUri = c,
                                h = {
                                    left: 0,
                                    top: 0,
                                    right: 1,
                                    bottom: 1
                                },
                                a.sheetTex = h,
                                a.webGL_texture = null,
                                (h = this.runtime.findWaitingTexture(r[0])) ? a.texture_img = h : (a.texture_img = new Image,
                                a.texture_img.cr_src = r[0],
                                a.texture_img.cr_filesize = r[1],
                                a.texture_img.c2webGL_texture = null,
                                this.runtime.waitForImageLoad(a.texture_img, r[0])),
                                cr.seal(a),
                                o.frames.push(a),
                                this.all_frames.push(a);
                            cr.seal(o),
                            this.animations[t] = o
                        }
                }
                ,
                e.updateAllCurrentTexture = function() {
                    for (var t, e = 0, i = this.instances.length; e < i; e++)
                        (t = this.instances[e]).curWebGLTexture = t.curFrame.webGL_texture
                }
                ,
                e.onLostWebGLContext = function() {
                    if (!this.is_family) {
                        for (var t, e = 0, i = this.all_frames.length; e < i; ++e)
                            (t = this.all_frames[e]).texture_img.c2webGL_texture = null,
                            t.webGL_texture = null;
                        this.has_loaded_textures = !1,
                        this.updateAllCurrentTexture()
                    }
                }
                ,
                e.onRestoreWebGLContext = function() {
                    if (!this.is_family && this.instances.length) {
                        for (var t, e = 0, i = this.all_frames.length; e < i; ++e)
                            (t = this.all_frames[e]).webGL_texture = this.runtime.glwrap.loadTexture(t.texture_img, !1, this.runtime.linearSampling, t.pixelformat);
                        this.updateAllCurrentTexture()
                    }
                }
                ,
                e.loadTextures = function() {
                    if (!this.is_family && !this.has_loaded_textures && this.runtime.glwrap) {
                        for (var t, e = 0, i = this.all_frames.length; e < i; ++e)
                            (t = this.all_frames[e]).webGL_texture = this.runtime.glwrap.loadTexture(t.texture_img, !1, this.runtime.linearSampling, t.pixelformat);
                        this.has_loaded_textures = !0
                    }
                }
                ,
                e.unloadTextures = function() {
                    if (!this.is_family && !this.instances.length && this.has_loaded_textures) {
                        for (var t, e = 0, i = this.all_frames.length; e < i; ++e)
                            t = this.all_frames[e],
                            this.runtime.glwrap.deleteTexture(t.webGL_texture),
                            t.webGL_texture = null;
                        this.has_loaded_textures = !1
                    }
                }
                ;
                var n = [];
                e.preloadCanvas2D = function(t) {
                    var e, i, s;
                    for (cr.clearArray(n),
                    e = 0,
                    i = this.all_frames.length; e < i; ++e)
                        s = this.all_frames[e].texture_img,
                        -1 === n.indexOf(s) && (t.drawImage(s, 0, 0),
                        n.push(s))
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime;
                    t = this.type.animations[0].frames[0].poly_pts;
                    this.recycled ? this.collision_poly.set_pts(t) : this.collision_poly = new cr.CollisionPoly(t)
                }
                ;
                var i = t.Instance.prototype;
                function s() {}
                i.onCreate = function() {
                    this.visible = 0 === this.properties[0],
                    this.isTicking = !1,
                    this.inAnimTrigger = !1,
                    this.collisionsEnabled = 0 !== this.properties[3],
                    this.cur_animation = this.getAnimationByName(this.properties[1]) || this.type.animations[0],
                    this.cur_frame = this.properties[2],
                    this.cur_frame < 0 && (this.cur_frame = 0),
                    this.cur_frame >= this.cur_animation.frames.length && (this.cur_frame = this.cur_animation.frames.length - 1);
                    var t, e, i, s, n, r, o, a, h = this.cur_animation.frames[this.cur_frame];
                    for (this.collision_poly.set_pts(h.poly_pts),
                    this.hotspotX = h.hotspotX,
                    this.hotspotY = h.hotspotY,
                    this.cur_anim_speed = this.cur_animation.speed,
                    this.cur_anim_repeatto = this.cur_animation.repeatto,
                    1 === this.type.animations.length && 1 === this.type.animations[0].frames.length || 0 === this.cur_anim_speed || (this.runtime.tickMe(this),
                    this.isTicking = !0),
                    this.recycled ? this.animTimer.reset() : this.animTimer = new cr.KahanAdder,
                    this.frameStart = this.getNowTime(),
                    this.animPlaying = !0,
                    this.animRepeats = 0,
                    this.animForwards = !0,
                    this.animTriggerName = "",
                    this.changeAnimName = "",
                    this.changeAnimFrom = 0,
                    this.changeAnimFrame = -1,
                    this.type.loadTextures(),
                    t = 0,
                    e = this.type.animations.length; t < e; t++)
                        for (i = 0,
                        s = (n = this.type.animations[t]).frames.length; i < s; i++)
                            0 === (r = n.frames[i]).width && (r.width = r.texture_img.width,
                            r.height = r.texture_img.height),
                            r.spritesheeted && (a = r.texture_img,
                            (o = r.sheetTex).left = r.offx / a.width,
                            o.top = r.offy / a.height,
                            o.right = (r.offx + r.width) / a.width,
                            o.bottom = (r.offy + r.height) / a.height,
                            0 === r.offx && 0 === r.offy && r.width === a.width && r.height === a.height && (r.spritesheeted = !1));
                    this.curFrame = this.cur_animation.frames[this.cur_frame],
                    this.curWebGLTexture = this.curFrame.webGL_texture
                }
                ,
                i.saveToJSON = function() {
                    var t = {
                        a: this.cur_animation.sid,
                        f: this.cur_frame,
                        cas: this.cur_anim_speed,
                        fs: this.frameStart,
                        ar: this.animRepeats,
                        at: this.animTimer.sum,
                        rt: this.cur_anim_repeatto
                    };
                    return this.animPlaying || (t.ap = this.animPlaying),
                    this.animForwards || (t.af = this.animForwards),
                    t
                }
                ,
                i.loadFromJSON = function(t) {
                    var e = this.getAnimationBySid(t.a);
                    e && (this.cur_animation = e),
                    this.cur_frame = t.f,
                    this.cur_frame < 0 && (this.cur_frame = 0),
                    this.cur_frame >= this.cur_animation.frames.length && (this.cur_frame = this.cur_animation.frames.length - 1),
                    this.cur_anim_speed = t.cas,
                    this.frameStart = t.fs,
                    this.animRepeats = t.ar,
                    this.animTimer.reset(),
                    this.animTimer.sum = t.at,
                    this.animPlaying = !t.hasOwnProperty("ap") || t.ap,
                    this.animForwards = !t.hasOwnProperty("af") || t.af,
                    t.hasOwnProperty("rt") ? this.cur_anim_repeatto = t.rt : this.cur_anim_repeatto = this.cur_animation.repeatto,
                    this.curFrame = this.cur_animation.frames[this.cur_frame],
                    this.curWebGLTexture = this.curFrame.webGL_texture,
                    this.collision_poly.set_pts(this.curFrame.poly_pts),
                    this.hotspotX = this.curFrame.hotspotX,
                    this.hotspotY = this.curFrame.hotspotY
                }
                ,
                i.animationFinish = function(t) {
                    this.cur_frame = t ? 0 : this.cur_animation.frames.length - 1,
                    this.animPlaying = !1,
                    this.animTriggerName = this.cur_animation.name,
                    this.inAnimTrigger = !0,
                    this.runtime.trigger(cr.plugins_.Sprite.prototype.cnds.OnAnyAnimFinished, this),
                    this.runtime.trigger(cr.plugins_.Sprite.prototype.cnds.OnAnimFinished, this),
                    this.inAnimTrigger = !1,
                    this.animRepeats = 0
                }
                ,
                i.getNowTime = function() {
                    return this.animTimer.sum
                }
                ,
                i.tick = function() {
                    this.animTimer.add(this.runtime.getDt(this)),
                    this.changeAnimName.length && this.doChangeAnim(),
                    0 <= this.changeAnimFrame && this.doChangeAnimFrame();
                    var t = this.getNowTime()
                      , e = this.cur_animation
                      , i = e.frames[this.cur_frame]
                      , s = i.duration / this.cur_anim_speed;
                    this.animPlaying && t >= this.frameStart + s && (this.animForwards ? this.cur_frame++ : this.cur_frame--,
                    this.frameStart += s,
                    this.cur_frame >= e.frames.length && (e.pingpong ? (this.animForwards = !1,
                    this.cur_frame = e.frames.length - 2) : e.loop ? this.cur_frame = this.cur_anim_repeatto : (this.animRepeats++,
                    this.animRepeats >= e.repeatcount ? this.animationFinish(!1) : this.cur_frame = this.cur_anim_repeatto)),
                    this.cur_frame < 0 && (e.pingpong ? (this.cur_frame = 1,
                    this.animForwards = !0,
                    e.loop || (this.animRepeats++,
                    this.animRepeats >= e.repeatcount && this.animationFinish(!0))) : e.loop ? this.cur_frame = this.cur_anim_repeatto : (this.animRepeats++,
                    this.animRepeats >= e.repeatcount ? this.animationFinish(!0) : this.cur_frame = this.cur_anim_repeatto)),
                    this.cur_frame < 0 ? this.cur_frame = 0 : this.cur_frame >= e.frames.length && (this.cur_frame = e.frames.length - 1),
                    t > this.frameStart + e.frames[this.cur_frame].duration / this.cur_anim_speed && (this.frameStart = t),
                    e = e.frames[this.cur_frame],
                    this.OnFrameChanged(i, e),
                    this.runtime.redraw = !0)
                }
                ,
                i.getAnimationByName = function(t) {
                    for (var e, i = 0, s = this.type.animations.length; i < s; i++)
                        if (e = this.type.animations[i],
                        cr.equals_nocase(e.name, t))
                            return e;
                    return null
                }
                ,
                i.getAnimationBySid = function(t) {
                    for (var e, i = 0, s = this.type.animations.length; i < s; i++)
                        if ((e = this.type.animations[i]).sid === t)
                            return e;
                    return null
                }
                ,
                i.doChangeAnim = function() {
                    var t = this.cur_animation.frames[this.cur_frame]
                      , e = this.getAnimationByName(this.changeAnimName);
                    this.changeAnimName = "",
                    e && (cr.equals_nocase(e.name, this.cur_animation.name) && this.animPlaying || (this.cur_animation = e,
                    this.cur_anim_speed = e.speed,
                    this.cur_anim_repeatto = e.repeatto,
                    this.cur_frame < 0 && (this.cur_frame = 0),
                    this.cur_frame >= this.cur_animation.frames.length && (this.cur_frame = this.cur_animation.frames.length - 1),
                    1 === this.changeAnimFrom && (this.cur_frame = 0),
                    this.animPlaying = !0,
                    this.frameStart = this.getNowTime(),
                    this.animForwards = !0,
                    this.OnFrameChanged(t, this.cur_animation.frames[this.cur_frame]),
                    this.runtime.redraw = !0))
                }
                ,
                i.doChangeAnimFrame = function() {
                    var t = this.cur_animation.frames[this.cur_frame]
                      , e = this.cur_frame;
                    this.cur_frame = cr.floor(this.changeAnimFrame),
                    this.cur_frame < 0 && (this.cur_frame = 0),
                    this.cur_frame >= this.cur_animation.frames.length && (this.cur_frame = this.cur_animation.frames.length - 1),
                    e !== this.cur_frame && (this.OnFrameChanged(t, this.cur_animation.frames[this.cur_frame]),
                    this.frameStart = this.getNowTime(),
                    this.runtime.redraw = !0),
                    this.changeAnimFrame = -1
                }
                ,
                i.OnFrameChanged = function(t, e) {
                    var i, s, n, r = t.width, o = t.height, a = e.width, h = e.height;
                    for (r != a && (this.width *= a / r),
                    o != h && (this.height *= h / o),
                    this.hotspotX = e.hotspotX,
                    this.hotspotY = e.hotspotY,
                    this.collision_poly.set_pts(e.poly_pts),
                    this.set_bbox_changed(),
                    this.curFrame = e,
                    this.curWebGLTexture = e.webGL_texture,
                    i = 0,
                    s = this.behavior_insts.length; i < s; i++)
                        (n = this.behavior_insts[i]).onSpriteFrameChanged && n.onSpriteFrameChanged(t, e);
                    this.runtime.trigger(cr.plugins_.Sprite.prototype.cnds.OnFrameChanged, this)
                }
                ,
                i.draw = function(t) {
                    t.globalAlpha = this.opacity;
                    var e, i, s = this.curFrame, n = s.spritesheeted, r = s.texture_img, o = this.x, a = this.y, h = this.width, c = this.height;
                    0 === this.angle && 0 <= h && 0 <= c ? (o -= this.hotspotX * h,
                    a -= this.hotspotY * c,
                    this.runtime.pixel_rounding && (o = Math.round(o),
                    a = Math.round(a)),
                    n ? t.drawImage(r, s.offx, s.offy, s.width, s.height, o, a, h, c) : t.drawImage(r, o, a, h, c)) : (this.runtime.pixel_rounding && (o = Math.round(o),
                    a = Math.round(a)),
                    t.save(),
                    e = 0 < h ? 1 : -1,
                    i = 0 < c ? 1 : -1,
                    t.translate(o, a),
                    1 == e && 1 == i || t.scale(e, i),
                    t.rotate(this.angle * e * i),
                    e = 0 - this.hotspotX * cr.abs(h),
                    i = 0 - this.hotspotY * cr.abs(c),
                    n ? t.drawImage(r, s.offx, s.offy, s.width, s.height, e, i, cr.abs(h), cr.abs(c)) : t.drawImage(r, e, i, cr.abs(h), cr.abs(c)),
                    t.restore())
                }
                ,
                i.drawGL_earlyZPass = function(t) {
                    this.drawGL(t)
                }
                ,
                i.drawGL = function(t) {
                    t.setTexture(this.curWebGLTexture),
                    t.setOpacity(this.opacity);
                    var e, i, s = this.curFrame, n = this.bquad;
                    this.runtime.pixel_rounding ? (e = Math.round(this.x) - this.x,
                    i = Math.round(this.y) - this.y,
                    s.spritesheeted ? t.quadTex(n.tlx + e, n.tly + i, n.trx + e, n.try_ + i, n.brx + e, n.bry + i, n.blx + e, n.bly + i, s.sheetTex) : t.quad(n.tlx + e, n.tly + i, n.trx + e, n.try_ + i, n.brx + e, n.bry + i, n.blx + e, n.bly + i)) : s.spritesheeted ? t.quadTex(n.tlx, n.tly, n.trx, n.try_, n.brx, n.bry, n.blx, n.bly, s.sheetTex) : t.quad(n.tlx, n.tly, n.trx, n.try_, n.brx, n.bry, n.blx, n.bly)
                }
                ,
                i.getImagePointIndexByName = function(t) {
                    for (var e = this.curFrame, i = 0, s = e.image_points.length; i < s; i++)
                        if (cr.equals_nocase(t, e.image_points[i][0]))
                            return i;
                    return -1
                }
                ,
                i.getImagePoint = function(t, e) {
                    var i = this.curFrame
                      , s = i.image_points
                      , n = cr.is_string(t) ? this.getImagePointIndexByName(t) : t - 1;
                    if ((n = cr.floor(n)) < 0 || n >= s.length)
                        return e ? this.x : this.y;
                    var r = (s[n][1] - i.hotspotX) * this.width
                      , t = ((t = s[n][2]) - i.hotspotY) * this.height
                      , s = Math.cos(this.angle)
                      , n = Math.sin(this.angle)
                      , i = r * s - t * n;
                    return t = t * s + r * n,
                    r = i,
                    r += this.x,
                    t += this.y,
                    e ? r : t
                }
                ;
                var o = [];
                function v(t) {
                    t[0] = 0,
                    t[1] = 0,
                    t[2] = 0,
                    o.push(t)
                }
                function b(t, e) {
                    return t < e ? t + "," + e : e + "," + t
                }
                function w(t, e, i, s) {
                    var n = e.uid
                      , r = i.uid
                      , e = b(n, r);
                    t.hasOwnProperty(e) ? t[e][2] = s : ((i = o.length ? o.pop() : [0, 0, 0])[0] = n,
                    i[1] = r,
                    i[2] = s,
                    t[e] = i)
                }
                var x = -2
                  , S = [];
                s.prototype.OnCollision = function(t) {
                    if (!t)
                        return !1;
                    var e = this.runtime
                      , i = e.getCurrentCondition()
                      , s = i.type
                      , n = null;
                    i.extra.collmemory ? n = i.extra.collmemory : (n = {},
                    i.extra.collmemory = n),
                    i.extra.spriteCreatedDestroyCallback || (i.extra.spriteCreatedDestroyCallback = !0,
                    e.addDestroyCallback(function(n) {
                        !function(t) {
                            var e, i, s = n.uid;
                            for (e in t)
                                t.hasOwnProperty(e) && ((i = t[e])[0] !== s && i[1] !== s || (v(t[e]),
                                delete t[e]))
                        }(i.extra.collmemory)
                    }));
                    for (var r, o, a, h, c, l, u, p = s.getCurrentSol(), d = t.getCurrentSol(), g = p.getObjects(), f = this.runtime.tickcount, m = f - 1, y = e.getCurrentEventStack().current_event, _ = (y.orblock,
                    0); _ < g.length; _++) {
                        for (o = g[_],
                        d.select_all ? (o.update_bbox(),
                        this.runtime.getCollisionCandidates(o.layer, t, o.bbox, S),
                        r = S,
                        this.runtime.addRegisteredCollisionCandidates(o, t, r)) : r = d.getObjects(),
                        a = 0; a < r.length; a++)
                            c = r[a],
                            e.testOverlap(o, c) || e.checkRegisteredCollision(o, c) ? (l = n,
                            u = c,
                            u = b(o.uid, u.uid),
                            u = !(l.hasOwnProperty(u) ? (x = l[u][2],
                            !0) : !(x = -2)) || x < m,
                            w(n, o, c, f),
                            u && (e.pushCopySol(y.solModifiers),
                            u = s.getCurrentSol(),
                            h = t.getCurrentSol(),
                            u.select_all = !1,
                            h.select_all = !1,
                            s === t ? (u.instances.length = 2,
                            u.instances[0] = o,
                            u.instances[1] = c,
                            s.applySolToContainer()) : (u.instances.length = 1,
                            h.instances.length = 1,
                            u.instances[0] = o,
                            h.instances[0] = c,
                            s.applySolToContainer(),
                            t.applySolToContainer()),
                            y.retrigger(),
                            e.popSol(y.solModifiers))) : (h = n,
                            c = c,
                            c = b(o.uid, c.uid),
                            h.hasOwnProperty(c) && (v(h[c]),
                            delete h[c]));
                        cr.clearArray(S)
                    }
                    return !1
                }
                ;
                var f = null
                  , m = new cr.ObjectSet
                  , y = !1
                  , _ = []
                  , T = new cr.rect(0,0,0,0);
                function r(t, e, i) {
                    if (!t)
                        return !1;
                    var s, n, r, o, a, h = 0 !== e || 0 !== i, c = !1, l = this.runtime.getCurrentCondition(), u = l.type, p = l.inverted, d = t.getCurrentSol(), l = this.runtime.getCurrentEventStack().current_event.orblock, g = d.select_all ? (this.update_bbox(),
                    T.copy(this.bbox),
                    T.offset(e, i),
                    this.runtime.getCollisionCandidates(this.layer, t, T, _),
                    _) : !l || this.runtime.isCurrentConditionFirst() && !d.else_instances.length && d.instances.length ? d.instances : d.else_instances;
                    for (y = u !== (f = t) && !p,
                    h && (s = this.x,
                    n = this.y,
                    this.x += e,
                    this.y += i,
                    this.set_bbox_changed()),
                    r = 0,
                    o = g.length; r < o; r++)
                        if (a = g[r],
                        this.runtime.testOverlap(this, a)) {
                            if (c = !0,
                            p)
                                break;
                            u !== t && m.add(a)
                        }
                    return h && (this.x = s,
                    this.y = n,
                    this.set_bbox_changed()),
                    cr.clearArray(_),
                    c
                }
                function a() {}
                function h() {}
                e.finish = function(t) {
                    if (y) {
                        if (t) {
                            var e, t = this.runtime.getCurrentEventStack().current_event.orblock, i = f.getCurrentSol(), s = m.valuesRef();
                            if (i.select_all) {
                                for (i.select_all = !1,
                                cr.clearArray(i.instances),
                                r = 0,
                                o = s.length; r < o; ++r)
                                    i.instances[r] = s[r];
                                if (t)
                                    for (cr.clearArray(i.else_instances),
                                    r = 0,
                                    o = f.instances.length; r < o; ++r)
                                        e = f.instances[r],
                                        m.contains(e) || i.else_instances.push(e)
                            } else if (t)
                                for (var n = i.instances.length, r = 0, o = s.length; r < o; ++r)
                                    i.instances[n + r] = s[r],
                                    cr.arrayFindRemove(i.else_instances, s[r]);
                            else
                                cr.shallowAssignArray(i.instances, s);
                            f.applySolToContainer()
                        }
                        m.clear(),
                        y = !1
                    }
                }
                ,
                s.prototype.IsOverlapping = function(t) {
                    return r.call(this, t, 0, 0)
                }
                ,
                s.prototype.IsOverlappingOffset = function(t, e, i) {
                    return r.call(this, t, e, i)
                }
                ,
                s.prototype.IsAnimPlaying = function(t) {
                    return this.changeAnimName.length ? cr.equals_nocase(this.changeAnimName, t) : cr.equals_nocase(this.cur_animation.name, t)
                }
                ,
                s.prototype.CompareFrame = function(t, e) {
                    return cr.do_cmp(this.cur_frame, t, e)
                }
                ,
                s.prototype.CompareAnimSpeed = function(t, e) {
                    var i = this.animForwards ? this.cur_anim_speed : -this.cur_anim_speed;
                    return cr.do_cmp(i, t, e)
                }
                ,
                s.prototype.OnAnimFinished = function(t) {
                    return cr.equals_nocase(this.animTriggerName, t)
                }
                ,
                s.prototype.OnAnyAnimFinished = function() {
                    return !0
                }
                ,
                s.prototype.OnFrameChanged = function() {
                    return !0
                }
                ,
                s.prototype.IsMirrored = function() {
                    return this.width < 0
                }
                ,
                s.prototype.IsFlipped = function() {
                    return this.height < 0
                }
                ,
                s.prototype.OnURLLoaded = function() {
                    return !0
                }
                ,
                s.prototype.IsCollisionEnabled = function() {
                    return this.collisionsEnabled
                }
                ,
                t.cnds = new s,
                a.prototype.Spawn = function(t, e, i) {
                    if (t && e) {
                        var s, n, r, o = this.runtime.createInstance(t, e, this.getImagePoint(i, !0), this.getImagePoint(i, !1));
                        if (o) {
                            if (void 0 !== o.angle && (o.angle = this.angle,
                            o.set_bbox_changed()),
                            this.runtime.isInOnDestroy++,
                            this.runtime.trigger(Object.getPrototypeOf(t.plugin).cnds.OnCreated, o),
                            o.is_contained)
                                for (s = 0,
                                n = o.siblings.length; s < n; s++)
                                    r = o.siblings[s],
                                    this.runtime.trigger(Object.getPrototypeOf(r.type.plugin).cnds.OnCreated, r);
                            this.runtime.isInOnDestroy--;
                            var a, i = this.runtime.getCurrentAction(), h = !1;
                            if ((cr.is_undefined(i.extra.Spawn_LastExec) || i.extra.Spawn_LastExec < this.runtime.execcount) && (h = !0,
                            i.extra.Spawn_LastExec = this.runtime.execcount),
                            t != this.type && ((a = t.getCurrentSol()).select_all = !1,
                            h ? (cr.clearArray(a.instances),
                            a.instances[0] = o) : a.instances.push(o),
                            o.is_contained))
                                for (s = 0,
                                n = o.siblings.length; s < n; s++)
                                    (a = (r = o.siblings[s]).type.getCurrentSol()).select_all = !1,
                                    h ? (cr.clearArray(a.instances),
                                    a.instances[0] = r) : a.instances.push(r)
                        }
                    }
                }
                ,
                a.prototype.SetEffect = function(t) {
                    this.blend_mode = t,
                    this.compositeOp = cr.effectToCompositeOp(t),
                    cr.setGLBlend(this, t, this.runtime.gl),
                    this.runtime.redraw = !0
                }
                ,
                a.prototype.StopAnim = function() {
                    this.animPlaying = !1
                }
                ,
                a.prototype.StartAnim = function(t) {
                    this.animPlaying = !0,
                    this.frameStart = this.getNowTime(),
                    1 === t && 0 !== this.cur_frame && (this.changeAnimFrame = 0,
                    this.inAnimTrigger || this.doChangeAnimFrame()),
                    this.isTicking || (this.runtime.tickMe(this),
                    this.isTicking = !0)
                }
                ,
                a.prototype.SetAnim = function(t, e) {
                    this.changeAnimName = t,
                    this.changeAnimFrom = e,
                    this.isTicking || (this.runtime.tickMe(this),
                    this.isTicking = !0),
                    this.inAnimTrigger || this.doChangeAnim()
                }
                ,
                a.prototype.SetAnimFrame = function(t) {
                    this.changeAnimFrame = t,
                    this.isTicking || (this.runtime.tickMe(this),
                    this.isTicking = !0),
                    this.inAnimTrigger || this.doChangeAnimFrame()
                }
                ,
                a.prototype.SetAnimSpeed = function(t) {
                    this.cur_anim_speed = cr.abs(t),
                    this.animForwards = 0 <= t,
                    this.isTicking || (this.runtime.tickMe(this),
                    this.isTicking = !0)
                }
                ,
                a.prototype.SetAnimRepeatToFrame = function(t) {
                    (t = Math.floor(t)) < 0 && (t = 0),
                    t >= this.cur_animation.frames.length && (t = this.cur_animation.frames.length - 1),
                    this.cur_anim_repeatto = t
                }
                ,
                a.prototype.SetMirrored = function(t) {
                    t = cr.abs(this.width) * (0 === t ? -1 : 1);
                    this.width !== t && (this.width = t,
                    this.set_bbox_changed())
                }
                ,
                a.prototype.SetFlipped = function(t) {
                    t = cr.abs(this.height) * (0 === t ? -1 : 1);
                    this.height !== t && (this.height = t,
                    this.set_bbox_changed())
                }
                ,
                a.prototype.SetScale = function(t) {
                    var e = this.curFrame
                      , i = this.width < 0 ? -1 : 1
                      , s = this.height < 0 ? -1 : 1
                      , i = e.width * t * i
                      , s = e.height * t * s;
                    this.width === i && this.height === s || (this.width = i,
                    this.height = s,
                    this.set_bbox_changed())
                }
                ,
                a.prototype.LoadURL = function(t, e, i) {
                    var s = new Image
                      , n = this
                      , r = this.curFrame;
                    s.onload = function() {
                        if (r.texture_img.src === s.src)
                            return n.runtime.glwrap && n.curFrame === r && (n.curWebGLTexture = r.webGL_texture),
                            0 === e && (n.width = s.width,
                            n.height = s.height,
                            n.set_bbox_changed()),
                            n.runtime.redraw = !0,
                            void n.runtime.trigger(cr.plugins_.Sprite.prototype.cnds.OnURLLoaded, n);
                        r.texture_img = s,
                        r.offx = 0,
                        r.offy = 0,
                        r.width = s.width,
                        r.height = s.height,
                        r.spritesheeted = !1,
                        r.datauri = "",
                        r.pixelformat = 0,
                        n.runtime.glwrap && (r.webGL_texture && n.runtime.glwrap.deleteTexture(r.webGL_texture),
                        r.webGL_texture = n.runtime.glwrap.loadTexture(s, !1, n.runtime.linearSampling),
                        n.curFrame === r && (n.curWebGLTexture = r.webGL_texture),
                        n.type.updateAllCurrentTexture()),
                        0 === e && (n.width = s.width,
                        n.height = s.height,
                        n.set_bbox_changed()),
                        n.runtime.redraw = !0,
                        n.runtime.trigger(cr.plugins_.Sprite.prototype.cnds.OnURLLoaded, n)
                    }
                    ,
                    "data:" !== t.substr(0, 5) && 0 === i && (s.crossOrigin = "anonymous"),
                    this.runtime.setImageSrc(s, t)
                }
                ,
                a.prototype.SetCollisions = function(t) {
                    this.collisionsEnabled !== (0 !== t) && (this.collisionsEnabled = 0 !== t,
                    this.collisionsEnabled ? this.set_bbox_changed() : (this.collcells.right >= this.collcells.left && this.type.collision_grid.update(this, this.collcells, null),
                    this.collcells.set(0, 0, -1, -1)))
                }
                ,
                t.acts = new a,
                h.prototype.AnimationFrame = function(t) {
                    t.set_int(this.cur_frame)
                }
                ,
                h.prototype.AnimationFrameCount = function(t) {
                    t.set_int(this.cur_animation.frames.length)
                }
                ,
                h.prototype.AnimationName = function(t) {
                    t.set_string(this.cur_animation.name)
                }
                ,
                h.prototype.AnimationSpeed = function(t) {
                    t.set_float(this.animForwards ? this.cur_anim_speed : -this.cur_anim_speed)
                }
                ,
                h.prototype.ImagePointX = function(t, e) {
                    t.set_float(this.getImagePoint(e, !0))
                }
                ,
                h.prototype.ImagePointY = function(t, e) {
                    t.set_float(this.getImagePoint(e, !1))
                }
                ,
                h.prototype.ImagePointCount = function(t) {
                    t.set_int(this.curFrame.image_points.length)
                }
                ,
                h.prototype.ImageWidth = function(t) {
                    t.set_float(this.curFrame.width)
                }
                ,
                h.prototype.ImageHeight = function(t) {
                    t.set_float(this.curFrame.height)
                }
                ,
                t.exps = new h
            }(),
            cr.plugins_.SyncStorage = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.SyncStorage.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.data = {},
                    this.isStorageLoaded = !1,
                    this.storageIndex = this.properties[1],
                    this.isEncodingEnabled = !this.properties[3],
                    this.headSalt = this.properties[4],
                    this.tailSalt = this.properties[5],
                    this.isLocalStorageLoaded = null,
                    this.LS_Instance = null,
                    this.LS_ProtoActions = null,
                    this.lastErrorMsg = null
                }
                ,
                e.onDestroy = function() {}
                ,
                e.isLocalStorageReady = function() {
                    if (this.isLocalStorageLoaded)
                        return !0;
                    if (!this.storageIndex)
                        return !1;
                    if (cr.plugins_.LocalStorage) {
                        var t, e;
                        for (t in this.runtime.types)
                            this.runtime.types.hasOwnProperty(t) && this.runtime.types[t].plugin instanceof cr.plugins_.LocalStorage && (e = this.runtime.types[t]);
                        if (e)
                            return this.LS_Instance = e.instances[0],
                            this.LS_ProtoActions = cr.plugins_.LocalStorage.prototype.acts,
                            this.isLocalStorageLoaded = !0
                    }
                    return console.log("\n*\n*\n*\nERROR: LocalStorage plugin not found. You must add LocalStorage plugin to the project. It's a JS library for SyncStorage plugin.\n*\n*\n*\n"),
                    !1
                }
                ,
                i.prototype.OnLoaded = function() {
                    return !0
                }
                ,
                i.prototype.OnLoadError = function() {
                    return !0
                }
                ,
                i.prototype.IsLoaded = function() {
                    return this.isStorageLoaded
                }
                ,
                i.prototype.HasData = function(t) {
                    return this.hasData(t)
                }
                ,
                i.prototype.CompareData = function(t, e, i) {
                    return cr.do_cmp(this.data[t], e, i)
                }
                ,
                i.prototype.OnSave = function() {
                    return !0
                }
                ,
                i.prototype.OnDataMissing = function() {
                    return !0
                }
                ,
                t.cnds = new i,
                s.prototype.SetData = function(t, e) {
                    this.data[t] = e
                }
                ,
                s.prototype.SaveData = function() {
                    this.isLocalStorageReady() && this.LS_ProtoActions.SetItem.call(this.LS_Instance, this.storageIndex, this.isEncodingEnabled ? this.encode(JSON.stringify(this.data)) : JSON.stringify(this.data)),
                    this.runtime.trigger(cr.plugins_.SyncStorage.prototype.cnds.OnSave, this)
                }
                ,
                s.prototype.LoadData = function() {
                    if (!this.isLocalStorageReady())
                        return this.lastErrorMsg = 'Could not load data from LocalStorage. Possible reasons: "LocalStorage IDX" property not set or LocalStorage plugin is not added to the project.',
                        this.runtime.trigger(cr.plugins_.SyncStorage.prototype.cnds.OnLoadError, this),
                        void (this.lastErrorMsg = "");
                    var i = this;
                    localforage.getItem(this.storageIndex, function(t, e) {
                        t ? (t ? "string" == typeof t.message ? t = t.message : "string" == typeof t.name ? t = t.name : "string" == typeof t.data ? t = t.data : "string" != typeof t && (t = "unknown error") : t = "unknown error",
                        i.isStorageLoaded = !1,
                        i.lastErrorMsg = t,
                        i.runtime.trigger(cr.plugins_.SyncStorage.prototype.cnds.OnLoadError, i),
                        i.lastErrorMsg = null) : (null == e || "" === e ? (i.data = {},
                        i.runtime.trigger(cr.plugins_.SyncStorage.prototype.cnds.OnDataMissing, i)) : i.data = i.isEncodingEnabled ? JSON.parse(i.decode(e)) : JSON.parse(e),
                        i.isStorageLoaded = !0,
                        i.runtime.trigger(cr.plugins_.SyncStorage.prototype.cnds.OnLoaded, i))
                    })
                }
                ,
                s.prototype.ClearData = function() {
                    this.data = {}
                }
                ,
                s.prototype.RemoveData = function(t) {
                    void 0 !== this.data[t] && delete this.data[t]
                }
                ,
                s.prototype.LoadString = function(t) {
                    try {
                        "" == t ? (this.data = {},
                        this.runtime.trigger(cr.plugins_.SyncStorage.prototype.cnds.OnDataMissing, this)) : "{" === t.charAt(0) ? this.data = JSON.parse(t) : this.data = JSON.parse(this.decode(t)),
                        this.runtime.trigger(cr.plugins_.SyncStorage.prototype.cnds.OnLoaded, this)
                    } catch (t) {
                        this.lastErrorMsg = t.message,
                        this.runtime.trigger(cr.plugins_.SyncStorage.prototype.cnds.OnLoadError, this),
                        this.lastErrorMsg = ""
                    }
                }
                ,
                s.prototype.AddValue = function(t, e) {
                    this.hasData(t) || (this.data[t] = 0),
                    !isNaN(parseFloat(e)) && isFinite(e) && (this.data[t] += e)
                }
                ,
                s.prototype.SubtractValue = function(t, e) {
                    this.hasData(t) || (this.data[t] = 0),
                    !isNaN(parseFloat(e)) && isFinite(e) && (this.data[t] -= e)
                }
                ,
                s.prototype.AppendValue = function(t, e) {
                    this.hasData(t) || (this.data[t] = ""),
                    "string" == typeof e && (this.data[t] += e)
                }
                ,
                s.prototype.PrependValue = function(t, e) {
                    this.hasData(t) || (this.data[t] = ""),
                    "string" == typeof e && (this.data[t] = e + this.data[t])
                }
                ,
                t.acts = new s,
                n.prototype.GetData = function(t, e) {
                    t.set_any(this.data[e])
                }
                ,
                n.prototype.StorageIndex = function(t) {
                    t.set_string(this.storageIndex)
                }
                ,
                n.prototype.HasData = function(t, e) {
                    t.set_int(+this.hasData(e))
                }
                ,
                n.prototype.AsJSON = function(t) {
                    t.set_string(JSON.stringify(this.data))
                }
                ,
                n.prototype.AsString = function(t) {
                    t.set_string(this.isEncodingEnabled ? this.encode(JSON.stringify(this.data)) : JSON.stringify(this.data))
                }
                ,
                n.prototype.ErrorMsg = function(t) {
                    t.set_string(this.lastErrorMsg)
                }
                ,
                n.prototype.Get = function(t, e) {
                    t.set_any(this.data[e])
                }
                ,
                n.prototype.Has = function(t, e) {
                    t.set_int(+this.hasData(e))
                }
                ,
                e.encode = function(t) {
                    for (var e = c.encode(t), i = 0; i < this.headSalt; i++)
                        e = e.charAt(Math.floor(Math.random() * (e.length - 1))) + e;
                    for (i = 0; i < this.tailSalt; i++)
                        e += e.charAt(Math.floor(Math.random() * (e.length - 1)));
                    return e
                }
                ,
                e.decode = function(t) {
                    t = (t = t.substring(this.headSalt)).substring(0, t.length - this.tailSalt);
                    return t = c.decode(t)
                }
                ,
                e.hasData = function(t) {
                    return !!this.data[t]
                }
                ,
                t.exps = new n;
                var c = {
                    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                    encode: function(t) {
                        var e, i, s, n, r, o, a = "", h = 0;
                        for (t = c._utf8_encode(t); h < t.length; )
                            s = (o = t.charCodeAt(h++)) >> 2,
                            n = (3 & o) << 4 | (e = t.charCodeAt(h++)) >> 4,
                            r = (15 & e) << 2 | (i = t.charCodeAt(h++)) >> 6,
                            o = 63 & i,
                            isNaN(e) ? r = o = 64 : isNaN(i) && (o = 64),
                            a = a + this._keyStr.charAt(s) + this._keyStr.charAt(n) + this._keyStr.charAt(r) + this._keyStr.charAt(o);
                        return a
                    },
                    decode: function(t) {
                        var e, i, s, n, r, o = "", a = 0;
                        for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); a < t.length; )
                            e = this._keyStr.indexOf(t.charAt(a++)) << 2 | (s = this._keyStr.indexOf(t.charAt(a++))) >> 4,
                            i = (15 & s) << 4 | (n = this._keyStr.indexOf(t.charAt(a++))) >> 2,
                            s = (3 & n) << 6 | (r = this._keyStr.indexOf(t.charAt(a++))),
                            o += String.fromCharCode(e),
                            64 != n && (o += String.fromCharCode(i)),
                            64 != r && (o += String.fromCharCode(s));
                        return c._utf8_decode(o)
                    },
                    _utf8_encode: function(t) {
                        t = t.replace(/\r\n/g, "\n");
                        for (var e = "", i = 0; i < t.length; i++) {
                            var s = t.charCodeAt(i);
                            s < 128 ? e += String.fromCharCode(s) : (127 < s && s < 2048 ? e += String.fromCharCode(s >> 6 | 192) : (e += String.fromCharCode(s >> 12 | 224),
                            e += String.fromCharCode(s >> 6 & 63 | 128)),
                            e += String.fromCharCode(63 & s | 128))
                        }
                        return e
                    },
                    _utf8_decode: function(t) {
                        for (var e, i, s = "", n = 0, r = 0; n < t.length; )
                            (e = t.charCodeAt(n)) < 128 ? (s += String.fromCharCode(e),
                            n++) : 191 < e && e < 224 ? (r = t.charCodeAt(n + 1),
                            s += String.fromCharCode((31 & e) << 6 | 63 & r),
                            n += 2) : (r = t.charCodeAt(n + 1),
                            i = t.charCodeAt(n + 2),
                            s += String.fromCharCode((15 & e) << 12 | (63 & r) << 6 | 63 & i),
                            n += 3);
                        return s
                    }
                }
            }(),
            cr.plugins_.TR_AdBlockDetector = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.TR_AdBlockDetector.prototype;
                function e() {}
                function i() {}
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ,
                t.Instance.prototype.onCreate = function() {
                    this.adblock = !1;
                    var t = this
                      , e = new XMLHttpRequest;
                    e.onreadystatechange = function() {
                        4 === this.readyState && 0 === this.status && (t.adblock = !0)
                    }
                    ,
                    e.open("GET", "https://api.adinplay.com/libs/aiptag/assets/adsbygoogle.js", !0),
                    e.send()
                }
                ,
                e.prototype.IsBlocking = function() {
                    return this.adblock
                }
                ,
                e.prototype.IsReady = function() {
                    return !0
                }
                ,
                t.cnds = new e,
                t.acts = new function() {}
                ,
                i.prototype.IsBlocking = function(t) {
                    t.set_int(+this.adblock)
                }
                ,
                t.exps = new i
            }(),
            cr.plugins_.TR_ClockParser = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.TR_ClockParser.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                e.onCreate = function() {}
                ,
                e.onDestroy = function() {}
                ,
                t.cnds = new function() {}
                ,
                t.acts = new function() {}
                ,
                i.prototype.Minimal = function(t, e) {
                    e = parseInt(e, 10);
                    var i = Math.floor(e / 3600)
                      , s = Math.floor((e - 3600 * i) / 60)
                      , n = e - 3600 * i - 60 * s
                      , e = "";
                    0 < i && (e += (i < 10 ? "0" + i : i) + ":"),
                    (0 < i || 0 < s) && (e += (s < 10 ? "0" + s : s) + ":"),
                    e += n < 10 ? "0" + n : n,
                    t.set_string(e)
                }
                ,
                i.prototype.MMSS = function(t, e) {
                    e = parseInt(e, 10);
                    var i = Math.floor(e / 60)
                      , e = e - 60 * i;
                    i < 10 && (i = "0" + i),
                    e < 10 && (e = "0" + e),
                    t.set_string(i + ":" + e)
                }
                ,
                i.prototype.HHMMSS = function(t, e) {
                    e = parseInt(e, 10);
                    var i = Math.floor(e / 3600)
                      , s = Math.floor((e - 3600 * i) / 60)
                      , e = e - 3600 * i - 60 * s;
                    i < 10 && (i = "0" + i),
                    s < 10 && (s = "0" + s),
                    e < 10 && (e = "0" + e),
                    t.set_string(i + ":" + s + ":" + e)
                }
                ,
                t.exps = new i
            }(),
            cr.plugins_.Text = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Text.prototype;
                t.onCreate = function() {
                    t.acts.SetWidth = function(t) {
                        this.width !== t && (this.width = t,
                        this.text_changed = !0,
                        this.set_bbox_changed())
                    }
                }
                ,
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                (e = t.Type.prototype).onCreate = function() {}
                ,
                e.onLostWebGLContext = function() {
                    if (!this.is_family)
                        for (var t, e = 0, i = this.instances.length; e < i; e++)
                            (t = this.instances[e]).mycanvas = null,
                            t.myctx = null,
                            t.mytex = null
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.recycled ? cr.clearArray(this.lines) : this.lines = [],
                    this.text_changed = !0
                }
                ;
                var e = t.Instance.prototype
                  , o = {};
                e.onCreate = function() {
                    this.text = this.properties[0],
                    this.visible = 0 === this.properties[1],
                    this.font = this.properties[2],
                    this.color = this.properties[3],
                    this.halign = this.properties[4],
                    this.valign = this.properties[5],
                    this.wrapbyword = 0 === this.properties[7],
                    this.lastwidth = this.width,
                    this.lastwrapwidth = this.width,
                    this.lastheight = this.height,
                    this.line_height_offset = this.properties[8],
                    this.facename = "",
                    this.fontstyle = "",
                    this.ptSize = 0,
                    this.textWidth = 0,
                    this.textHeight = 0,
                    this.parseFont(),
                    this.mycanvas = null,
                    this.myctx = null,
                    this.mytex = null,
                    this.need_text_redraw = !1,
                    this.last_render_tick = this.runtime.tickcount,
                    this.recycled ? this.rcTex.set(0, 0, 1, 1) : this.rcTex = new cr.rect(0,0,1,1),
                    this.runtime.glwrap && this.runtime.tickMe(this)
                }
                ,
                e.parseFont = function() {
                    for (var t = this.font.split(" "), e = 0; e < t.length; e++)
                        if ("pt" === t[e].substr(t[e].length - 2, 2)) {
                            for (this.ptSize = parseInt(t[e].substr(0, t[e].length - 2)),
                            this.pxHeight = Math.ceil(this.ptSize / 72 * 96) + 4,
                            0 < e && (this.fontstyle = t[e - 1]),
                            this.facename = t[e + 1],
                            e += 2; e < t.length; e++)
                                this.facename += " " + t[e];
                            break
                        }
                }
                ,
                e.saveToJSON = function() {
                    return {
                        t: this.text,
                        f: this.font,
                        c: this.color,
                        ha: this.halign,
                        va: this.valign,
                        wr: this.wrapbyword,
                        lho: this.line_height_offset,
                        fn: this.facename,
                        fs: this.fontstyle,
                        ps: this.ptSize,
                        pxh: this.pxHeight,
                        tw: this.textWidth,
                        th: this.textHeight,
                        lrt: this.last_render_tick
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.text = t.t,
                    this.font = t.f,
                    this.color = t.c,
                    this.halign = t.ha,
                    this.valign = t.va,
                    this.wrapbyword = t.wr,
                    this.line_height_offset = t.lho,
                    this.facename = t.fn,
                    this.fontstyle = t.fs,
                    this.ptSize = t.ps,
                    this.pxHeight = t.pxh,
                    this.textWidth = t.tw,
                    this.textHeight = t.th,
                    this.last_render_tick = t.lrt,
                    this.text_changed = !0,
                    this.lastwidth = this.width,
                    this.lastwrapwidth = this.width,
                    this.lastheight = this.height
                }
                ,
                e.tick = function() {
                    var t, e;
                    this.runtime.glwrap && this.mytex && 300 <= this.runtime.tickcount - this.last_render_tick && (t = this.layer,
                    this.update_bbox(),
                    ((e = this.bbox).right < t.viewLeft || e.bottom < t.viewTop || e.left > t.viewRight || e.top > t.viewBottom) && (this.runtime.glwrap.deleteTexture(this.mytex),
                    this.mytex = null,
                    this.myctx = null,
                    this.mycanvas = null))
                }
                ,
                e.onDestroy = function() {
                    this.myctx = null,
                    this.mycanvas = null,
                    this.runtime.glwrap && this.mytex && this.runtime.glwrap.deleteTexture(this.mytex),
                    this.mytex = null
                }
                ,
                e.updateFont = function() {
                    this.font = this.fontstyle + " " + this.ptSize.toString() + "pt " + this.facename,
                    this.text_changed = !0,
                    this.runtime.redraw = !0
                }
                ,
                e.draw = function(t, e) {
                    t.font = this.font,
                    t.textBaseline = "top",
                    t.fillStyle = this.color,
                    t.globalAlpha = e ? 1 : this.opacity;
                    var i;
                    e && (i = Math.abs(this.layer.getScale()),
                    t.save(),
                    t.scale(i, i)),
                    !this.text_changed && this.width === this.lastwrapwidth || (this.type.plugin.WordWrap(this.text, this.lines, t, this.width, this.wrapbyword),
                    this.text_changed = !1,
                    this.lastwrapwidth = this.width),
                    this.update_bbox();
                    var s = e ? 0 : this.bquad.tlx
                      , n = e ? 0 : this.bquad.tly;
                    this.runtime.pixel_rounding && (s = s + .5 | 0,
                    n = n + .5 | 0),
                    0 === this.angle || e || (t.save(),
                    t.translate(s, n),
                    t.rotate(this.angle),
                    n = s = 0);
                    var r, o, a = n + this.height, h = this.pxHeight;
                    for (h += this.line_height_offset,
                    1 === this.valign ? n += Math.max(this.height / 2 - this.lines.length * h / 2, 0) : 2 === this.valign && (n += Math.max(this.height - this.lines.length * h - 2, 0)),
                    o = 0; o < this.lines.length && (r = s,
                    1 === this.halign ? r = s + (this.width - this.lines[o].width) / 2 : 2 === this.halign && (r = s + (this.width - this.lines[o].width)),
                    t.fillText(this.lines[o].text, r, n),
                    !(a - h <= (n += h))); o++)
                        ;
                    0 === this.angle && !e || t.restore(),
                    this.last_render_tick = this.runtime.tickcount
                }
                ,
                e.drawGL = function(t) {
                    var e, i, s, n, r, o, a, h, c, l, u, p, d, g, f, m, y;
                    this.width < 1 || this.height < 1 || (p = this.text_changed || this.need_text_redraw,
                    this.need_text_redraw = !1,
                    e = this.layer.getScale(),
                    i = this.layer.getAngle(),
                    s = this.rcTex,
                    n = e * this.width,
                    r = e * this.height,
                    o = Math.ceil(n),
                    a = Math.ceil(r),
                    d = Math.abs(o),
                    g = Math.abs(a),
                    f = this.runtime.draw_width / 2,
                    m = this.runtime.draw_height / 2,
                    this.myctx || (this.mycanvas = document.createElement("canvas"),
                    this.mycanvas.width = d,
                    this.mycanvas.height = g,
                    this.lastwidth = d,
                    this.lastheight = g,
                    p = !0,
                    this.myctx = this.mycanvas.getContext("2d")),
                    d === this.lastwidth && g === this.lastheight || (this.mycanvas.width = d,
                    this.mycanvas.height = g,
                    this.mytex && (t.deleteTexture(this.mytex),
                    this.mytex = null),
                    p = !0),
                    p && (this.myctx.clearRect(0, 0, d, g),
                    this.draw(this.myctx, !0),
                    this.mytex || (this.mytex = t.createEmptyTexture(d, g, this.runtime.linearSampling, this.runtime.isMobile)),
                    t.videoToTexture(this.mycanvas, this.mytex, this.runtime.isMobile)),
                    this.lastwidth = d,
                    this.lastheight = g,
                    t.setTexture(this.mytex),
                    t.setOpacity(this.opacity),
                    t.resetModelView(),
                    t.translate(-f, -m),
                    t.updateModelView(),
                    y = this.bquad,
                    h = this.layer.layerToCanvas(y.tlx, y.tly, !0, !0),
                    c = this.layer.layerToCanvas(y.tlx, y.tly, !1, !0),
                    l = this.layer.layerToCanvas(y.trx, y.try_, !0, !0),
                    u = this.layer.layerToCanvas(y.trx, y.try_, !1, !0),
                    p = this.layer.layerToCanvas(y.brx, y.bry, !0, !0),
                    d = this.layer.layerToCanvas(y.brx, y.bry, !1, !0),
                    g = this.layer.layerToCanvas(y.blx, y.bly, !0, !0),
                    f = this.layer.layerToCanvas(y.blx, y.bly, !1, !0),
                    (this.runtime.pixel_rounding || 0 === this.angle && 0 === i) && (h += m = (h + .5 | 0) - h,
                    c += y = (c + .5 | 0) - c,
                    l += m,
                    u += y,
                    p += m,
                    d += y,
                    g += m,
                    f += y),
                    0 === this.angle && 0 === i ? (p = l = h + o,
                    g = h,
                    f = d = (u = c) + a,
                    s.right = 1,
                    s.bottom = 1) : (s.right = n / o,
                    s.bottom = r / a),
                    t.quadTex(h, c, l, u, p, d, g, f, s),
                    t.resetModelView(),
                    t.scale(e, e),
                    t.rotateZ(-this.layer.getAngle()),
                    t.translate((this.layer.viewLeft + this.layer.viewRight) / -2, (this.layer.viewTop + this.layer.viewBottom) / -2),
                    t.updateModelView(),
                    this.last_render_tick = this.runtime.tickcount)
                }
                ;
                var u = [];
                t.TokeniseWords = function(t) {
                    cr.clearArray(u);
                    for (var e, i = "", s = 0; s < t.length; )
                        if ("\n" === (e = t.charAt(s)))
                            i.length && (u.push(i),
                            i = ""),
                            u.push("\n"),
                            ++s;
                        else if (" " === e || "\t" === e || "-" === e) {
                            for (; i += t.charAt(s),
                            s++,
                            s < t.length && (" " === t.charAt(s) || "\t" === t.charAt(s)); )
                                ;
                            u.push(i),
                            i = ""
                        } else
                            s < t.length && (i += e,
                            s++);
                    i.length && u.push(i)
                }
                ;
                var i = [];
                function p() {
                    return i.length ? i.pop() : {}
                }
                function d(t) {
                    i.push(t)
                }
                function a(t) {
                    for (var e = 0, i = t.length; e < i; e++)
                        d(t[e]);
                    cr.clearArray(t)
                }
                function g(t) {
                    return t.length && " " === t.charAt(t.length - 1) ? t.substring(0, t.length - 1) : t
                }
                function s() {}
                function n() {}
                function r() {}
                t.WordWrap = function(t, e, i, s, n) {
                    if (t && t.length)
                        if (s <= 2)
                            a(e);
                        else {
                            if (t.length <= 100 && -1 === t.indexOf("\n")) {
                                var r = i.measureText(t).width;
                                if (r <= s)
                                    return a(e),
                                    e.push(p()),
                                    e[0].text = t,
                                    void (e[0].width = r)
                            }
                            this.WrapText(t, e, i, s, n)
                        }
                    else
                        a(e)
                }
                ,
                t.WrapText = function(t, e, i, s, n) {
                    for (var r, o, a = n ? (this.TokeniseWords(t),
                    u) : t, h = "", c = 0, l = 0; l < a.length; l++)
                        "\n" !== a[l] ? (r = h,
                        h += a[l],
                        s <= i.measureText(h).width && (c >= e.length && e.push(p()),
                        r = g(r),
                        (o = e[c]).text = r,
                        o.width = i.measureText(r).width,
                        c++,
                        h = a[l],
                        n || " " !== h || (h = ""))) : (c >= e.length && e.push(p()),
                        h = g(h),
                        (o = e[c]).text = h,
                        o.width = i.measureText(h).width,
                        c++,
                        h = "");
                    for (h.length && (c >= e.length && e.push(p()),
                    h = g(h),
                    (o = e[c]).text = h,
                    o.width = i.measureText(h).width,
                    c++),
                    l = c; l < e.length; l++)
                        d(e[l]);
                    e.length = c
                }
                ,
                s.prototype.CompareText = function(t, e) {
                    return e ? this.text == t : cr.equals_nocase(this.text, t)
                }
                ,
                t.cnds = new s,
                n.prototype.SetText = function(t) {
                    cr.is_number(t) && t < 1e9 && (t = Math.round(1e10 * t) / 1e10);
                    t = t.toString();
                    this.text !== t && (this.text = t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                n.prototype.AppendText = function(t) {
                    cr.is_number(t) && (t = Math.round(1e10 * t) / 1e10);
                    t = t.toString();
                    t && (this.text += t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                n.prototype.SetFontFace = function(t, e) {
                    var i = "";
                    switch (e) {
                    case 1:
                        i = "bold";
                        break;
                    case 2:
                        i = "italic";
                        break;
                    case 3:
                        i = "bold italic"
                    }
                    t === this.facename && i === this.fontstyle || (this.facename = t,
                    this.fontstyle = i,
                    this.updateFont())
                }
                ,
                n.prototype.SetFontSize = function(t) {
                    this.ptSize !== t && (this.ptSize = t,
                    this.pxHeight = Math.ceil(this.ptSize / 72 * 96) + 4,
                    this.updateFont())
                }
                ,
                n.prototype.SetFontColor = function(t) {
                    t = "rgb(" + cr.GetRValue(t).toString() + "," + cr.GetGValue(t).toString() + "," + cr.GetBValue(t).toString() + ")";
                    t !== this.color && (this.color = t,
                    this.need_text_redraw = !0,
                    this.runtime.redraw = !0)
                }
                ,
                n.prototype.SetWebFont = function(t, e) {
                    if (this.runtime.isDomFree)
                        cr.logexport("[Construct 2] Text plugin: 'Set web font' not supported on this platform - the action has been ignored");
                    else {
                        function i() {
                            s.runtime.redraw = !0,
                            s.text_changed = !0
                        }
                        var s = this;
                        if (o.hasOwnProperty(e)) {
                            var n = "'" + t + "'";
                            if (this.facename !== n) {
                                this.facename = n,
                                this.updateFont();
                                for (var r = 1; r < 10; r++)
                                    setTimeout(i, 100 * r),
                                    setTimeout(i, 1e3 * r)
                            }
                        } else {
                            n = document.createElement("link");
                            n.href = e,
                            n.rel = "stylesheet",
                            n.type = "text/css",
                            n.onload = i,
                            document.getElementsByTagName("head")[0].appendChild(n),
                            o[e] = !0,
                            this.facename = "'" + t + "'",
                            this.updateFont();
                            for (r = 1; r < 10; r++)
                                setTimeout(i, 100 * r),
                                setTimeout(i, 1e3 * r)
                        }
                    }
                }
                ,
                n.prototype.SetEffect = function(t) {
                    this.blend_mode = t,
                    this.compositeOp = cr.effectToCompositeOp(t),
                    cr.setGLBlend(this, t, this.runtime.gl),
                    this.runtime.redraw = !0
                }
                ,
                t.acts = new n,
                r.prototype.Text = function(t) {
                    t.set_string(this.text)
                }
                ,
                r.prototype.FaceName = function(t) {
                    t.set_string(this.facename)
                }
                ,
                r.prototype.FaceSize = function(t) {
                    t.set_int(this.ptSize)
                }
                ,
                r.prototype.TextWidth = function(t) {
                    for (var e, i = 0, s = 0, n = this.lines.length; s < n; s++)
                        i < (e = this.lines[s].width) && (i = e);
                    t.set_int(i)
                }
                ,
                r.prototype.TextHeight = function(t) {
                    t.set_int(this.lines.length * (this.pxHeight + this.line_height_offset) - this.line_height_offset)
                }
                ,
                t.exps = new r
            }(),
            cr.plugins_.TextBox = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.TextBox.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype
                  , n = ["text", "password", "email", "number", "tel", "url"];
                function i() {}
                function s() {}
                function r() {}
                -1 < navigator.userAgent.indexOf("MSIE 9") && (n[2] = "text",
                n[3] = "text",
                n[4] = "text",
                n[5] = "text"),
                e.onCreate = function() {
                    var t, e, i, s;
                    this.runtime.isDomFree ? cr.logexport("[Construct 2] Textbox plugin not supported on this platform - the object will not be created") : (6 === this.properties[7] ? (this.elem = document.createElement("textarea"),
                    jQuery(this.elem).css("resize", "none")) : (this.elem = document.createElement("input"),
                    this.elem.type = n[this.properties[7]]),
                    this.elem.id = this.properties[9],
                    jQuery(this.elem).appendTo(this.runtime.canvasdiv || "body"),
                    this.elem.autocomplete = "off",
                    this.elem.value = this.properties[0],
                    this.elem.placeholder = this.properties[1],
                    this.elem.title = this.properties[2],
                    this.elem.disabled = 0 === this.properties[4],
                    this.elem.readOnly = 1 === this.properties[5],
                    this.elem.spellcheck = 1 === this.properties[6],
                    this.autoFontSize = 0 !== this.properties[8],
                    this.element_hidden = !1,
                    0 === this.properties[3] && (jQuery(this.elem).hide(),
                    this.visible = !1,
                    this.element_hidden = !0),
                    t = function() {
                        e.runtime.trigger(cr.plugins_.TextBox.prototype.cnds.OnTextChanged, e)
                    }
                    ,
                    (e = this).elem.oninput = t,
                    -1 !== navigator.userAgent.indexOf("MSIE") && (this.elem.oncut = t),
                    this.elem.onclick = (i = this,
                    function(t) {
                        t.stopPropagation(),
                        i.runtime.isInUserInputEvent = !0,
                        i.runtime.trigger(cr.plugins_.TextBox.prototype.cnds.OnClicked, i),
                        i.runtime.isInUserInputEvent = !1
                    }
                    ),
                    this.elem.ondblclick = (s = this,
                    function(t) {
                        t.stopPropagation(),
                        s.runtime.isInUserInputEvent = !0,
                        s.runtime.trigger(cr.plugins_.TextBox.prototype.cnds.OnDoubleClicked, s),
                        s.runtime.isInUserInputEvent = !1
                    }
                    ),
                    this.elem.addEventListener("touchstart", function(t) {
                        t.stopPropagation()
                    }, !1),
                    this.elem.addEventListener("touchmove", function(t) {
                        t.stopPropagation()
                    }, !1),
                    this.elem.addEventListener("touchend", function(t) {
                        t.stopPropagation()
                    }, !1),
                    jQuery(this.elem).mousedown(function(t) {
                        t.stopPropagation()
                    }),
                    jQuery(this.elem).mouseup(function(t) {
                        t.stopPropagation()
                    }),
                    jQuery(this.elem).keydown(function(t) {
                        13 !== t.which && 27 != t.which && t.stopPropagation()
                    }),
                    jQuery(this.elem).keyup(function(t) {
                        13 !== t.which && 27 != t.which && t.stopPropagation()
                    }),
                    this.lastLeft = 0,
                    this.lastTop = 0,
                    this.lastRight = 0,
                    this.lastBottom = 0,
                    this.lastWinWidth = 0,
                    this.lastWinHeight = 0,
                    this.updatePosition(!0),
                    this.runtime.tickMe(this))
                }
                ,
                e.saveToJSON = function() {
                    return {
                        text: this.elem.value,
                        placeholder: this.elem.placeholder,
                        tooltip: this.elem.title,
                        disabled: !!this.elem.disabled,
                        readonly: !!this.elem.readOnly,
                        spellcheck: !!this.elem.spellcheck
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.elem.value = t.text,
                    this.elem.placeholder = t.placeholder,
                    this.elem.title = t.tooltip,
                    this.elem.disabled = t.disabled,
                    this.elem.readOnly = t.readonly,
                    this.elem.spellcheck = t.spellcheck
                }
                ,
                e.onDestroy = function() {
                    this.runtime.isDomFree || (jQuery(this.elem).remove(),
                    this.elem = null)
                }
                ,
                e.tick = function() {
                    this.updatePosition()
                }
                ,
                e.updatePosition = function(t) {
                    if (!this.runtime.isDomFree) {
                        var e = this.layer.layerToCanvas(this.x, this.y, !0)
                          , i = this.layer.layerToCanvas(this.x, this.y, !1)
                          , s = this.layer.layerToCanvas(this.x + this.width, this.y + this.height, !0)
                          , n = this.layer.layerToCanvas(this.x + this.width, this.y + this.height, !1)
                          , r = this.runtime.width / this.runtime.devicePixelRatio
                          , o = this.runtime.height / this.runtime.devicePixelRatio;
                        if (!this.visible || !this.layer.visible || s <= 0 || n <= 0 || r <= e || o <= i)
                            return this.element_hidden || jQuery(this.elem).hide(),
                            void (this.element_hidden = !0);
                        e < 1 && (e = 1),
                        i < 1 && (i = 1),
                        r <= s && (s = r - 1),
                        o <= n && (n = o - 1);
                        r = window.innerWidth,
                        o = window.innerHeight;
                        t || this.lastLeft !== e || this.lastTop !== i || this.lastRight !== s || this.lastBottom !== n || this.lastWinWidth !== r || this.lastWinHeight !== o ? (this.lastLeft = e,
                        this.lastTop = i,
                        this.lastRight = s,
                        this.lastBottom = n,
                        this.lastWinWidth = r,
                        this.lastWinHeight = o,
                        this.element_hidden && (jQuery(this.elem).show(),
                        this.element_hidden = !1),
                        r = Math.round(e) + jQuery(this.runtime.canvas).offset().left,
                        o = Math.round(i) + jQuery(this.runtime.canvas).offset().top,
                        jQuery(this.elem).css("position", "absolute"),
                        jQuery(this.elem).offset({
                            left: r,
                            top: o
                        }),
                        jQuery(this.elem).width(Math.round(s - e)),
                        jQuery(this.elem).height(Math.round(n - i)),
                        this.autoFontSize && jQuery(this.elem).css("font-size", this.layer.getScale(!0) / this.runtime.devicePixelRatio - .2 + "em")) : this.element_hidden && (jQuery(this.elem).show(),
                        this.element_hidden = !1)
                    }
                }
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                i.prototype.CompareText = function(t, e) {
                    return !this.runtime.isDomFree && (0 === e ? cr.equals_nocase(this.elem.value, t) : this.elem.value === t)
                }
                ,
                i.prototype.OnTextChanged = function() {
                    return !0
                }
                ,
                i.prototype.OnClicked = function() {
                    return !0
                }
                ,
                i.prototype.OnDoubleClicked = function() {
                    return !0
                }
                ,
                t.cnds = new i,
                s.prototype.SetText = function(t) {
                    this.runtime.isDomFree || (this.elem.value = t)
                }
                ,
                s.prototype.SetPlaceholder = function(t) {
                    this.runtime.isDomFree || (this.elem.placeholder = t)
                }
                ,
                s.prototype.SetTooltip = function(t) {
                    this.runtime.isDomFree || (this.elem.title = t)
                }
                ,
                s.prototype.SetVisible = function(t) {
                    this.runtime.isDomFree || (this.visible = 0 !== t)
                }
                ,
                s.prototype.SetEnabled = function(t) {
                    this.runtime.isDomFree || (this.elem.disabled = 0 === t)
                }
                ,
                s.prototype.SetReadOnly = function(t) {
                    this.runtime.isDomFree || (this.elem.readOnly = 0 === t)
                }
                ,
                s.prototype.SetFocus = function() {
                    this.runtime.isDomFree || this.elem.focus()
                }
                ,
                s.prototype.SetBlur = function() {
                    this.runtime.isDomFree || this.elem.blur()
                }
                ,
                s.prototype.SetCSSStyle = function(t, e) {
                    this.runtime.isDomFree || jQuery(this.elem).css(t, e)
                }
                ,
                s.prototype.ScrollToBottom = function() {
                    this.runtime.isDomFree || (this.elem.scrollTop = this.elem.scrollHeight)
                }
                ,
                t.acts = new s,
                r.prototype.Text = function(t) {
                    this.runtime.isDomFree ? t.set_string("") : t.set_string(this.elem.value)
                }
                ,
                t.exps = new r
            }(),
            cr.plugins_.TextModded = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.TextModded.prototype;
                t.onCreate = function() {
                    t.acts.SetWidth = function(t) {
                        this.width !== t && (this.width = t,
                        this.text_changed = !0,
                        this.set_bbox_changed())
                    }
                }
                ,
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                (e = t.Type.prototype).onCreate = function() {}
                ,
                e.onLostWebGLContext = function() {
                    if (!this.is_family)
                        for (var t, e = 0, i = this.instances.length; e < i; e++)
                            (t = this.instances[e]).mycanvas = null,
                            t.myctx = null,
                            t.mytex = null
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.recycled ? cr.clearArray(this.lines) : this.lines = [],
                    this.text_changed = !0
                }
                ;
                var e = t.Instance.prototype
                  , o = {};
                e.onCreate = function() {
                    this.text = this.properties[0],
                    this.visible = 0 === this.properties[1],
                    this.font = this.properties[2],
                    this.color = this.properties[3],
                    this.clamp = 0 === this.properties[4],
                    this.clamp ? (this.halign = cr.clamp(this.properties[5], 0, 100),
                    this.valign = cr.clamp(this.properties[6], 0, 100)) : (this.halign = this.properties[5],
                    this.valign = this.properties[6]),
                    this.wrapbyword = 0 === this.properties[8],
                    this.nowrap = 2 === this.properties[8],
                    this.wrap = this.properties[8],
                    this.lastwidth = this.width,
                    this.lastwrapwidth = this.width,
                    this.lastheight = this.height,
                    this.line_height_offset = this.properties[9],
                    this.facename = "",
                    this.fontstyle = "",
                    this.ptSize = 0,
                    this.textWidth = 0,
                    this.textHeight = 0,
                    this.parseFont(),
                    this.mycanvas = null,
                    this.myctx = null,
                    this.mytex = null,
                    this.need_text_redraw = !1,
                    this.last_render_tick = this.runtime.tickcount,
                    this.recycled ? this.rcTex.set(0, 0, 1, 1) : this.rcTex = new cr.rect(0,0,1,1),
                    this.runtime.glwrap && this.runtime.tickMe(this)
                }
                ,
                e.parseFont = function() {
                    for (var t = this.font.split(" "), e = 0; e < t.length; e++)
                        if ("pt" === t[e].substr(t[e].length - 2, 2)) {
                            for (this.ptSize = parseInt(t[e].substr(0, t[e].length - 2)),
                            this.pxHeight = Math.ceil(this.ptSize / 72 * 96) + 4,
                            0 < e && (this.fontstyle = t[e - 1]),
                            this.facename = t[e + 1],
                            e += 2; e < t.length; e++)
                                this.facename += " " + t[e];
                            break
                        }
                }
                ,
                e.saveToJSON = function() {
                    return {
                        t: this.text,
                        f: this.font,
                        c: this.color,
                        ha: this.halign,
                        va: this.valign,
                        clamp: this.clamp,
                        wr: this.wrapbyword,
                        nw: this.nowrap,
                        wrap: this.wrap,
                        lho: this.line_height_offset,
                        fn: this.facename,
                        fs: this.fontstyle,
                        ps: this.ptSize,
                        pxh: this.pxHeight,
                        tw: this.textWidth,
                        th: this.textHeight,
                        lrt: this.last_render_tick
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.text = t.t,
                    this.font = t.f,
                    this.color = t.c,
                    this.halign = t.ha,
                    this.valign = t.va,
                    this.clamp = t.clamp,
                    this.wrapbyword = t.wr,
                    this.nowrap = t.nw,
                    this.wrap = t.wrap,
                    this.line_height_offset = t.lho,
                    this.facename = t.fn,
                    this.fontstyle = t.fs,
                    this.ptSize = t.ps,
                    this.pxHeight = t.pxh,
                    this.textWidth = t.tw,
                    this.textHeight = t.th,
                    this.last_render_tick = t.lrt,
                    this.text_changed = !0,
                    this.lastwidth = this.width,
                    this.lastwrapwidth = this.width,
                    this.lastheight = this.height
                }
                ,
                e.tick = function() {
                    var t, e;
                    this.runtime.glwrap && this.mytex && 300 <= this.runtime.tickcount - this.last_render_tick && (t = this.layer,
                    this.update_bbox(),
                    ((e = this.bbox).right < t.viewLeft || e.bottom < t.viewTop || e.left > t.viewRight || e.top > t.viewBottom) && (this.runtime.glwrap.deleteTexture(this.mytex),
                    this.mytex = null,
                    this.myctx = null,
                    this.mycanvas = null))
                }
                ,
                e.onDestroy = function() {
                    this.myctx = null,
                    this.mycanvas = null,
                    this.runtime.glwrap && this.mytex && this.runtime.glwrap.deleteTexture(this.mytex),
                    this.mytex = null
                }
                ,
                e.updateFont = function() {
                    this.font = this.fontstyle + " " + this.ptSize.toString() + "pt " + this.facename,
                    this.text_changed = !0,
                    this.runtime.redraw = !0
                }
                ,
                e.draw = function(t, e) {
                    t.font = this.font,
                    t.textBaseline = "top",
                    t.fillStyle = this.color,
                    t.globalAlpha = e ? 1 : this.opacity;
                    var i = 1;
                    e && (i = Math.abs(this.layer.getScale()),
                    t.save(),
                    t.scale(i, i)),
                    !this.text_changed && this.width === this.lastwrapwidth || (this.type.plugin.WordWrap(this.text, this.lines, t, this.width, this.wrapbyword, this.nowrap),
                    this.text_changed = !1,
                    this.lastwrapwidth = this.width),
                    this.update_bbox();
                    var s = e ? 0 : this.bquad.tlx
                      , n = e ? 0 : this.bquad.tly;
                    this.runtime.pixel_rounding && (s = s + .5 | 0,
                    n = n + .5 | 0),
                    0 === this.angle || e || (t.save(),
                    t.translate(s, n),
                    t.rotate(this.angle),
                    n = s = 0);
                    var r, o, a = n + this.height, h = this.pxHeight;
                    h += this.line_height_offset;
                    i = 0;
                    for (50 < this.valign && (i = 2 * (this.valign - 50) / 50),
                    n += Math.max(this.height * this.valign / 100 - this.lines.length * h * this.valign / 100 - i, 0),
                    o = 0; o < this.lines.length && (r = s + (this.width - this.lines[o].width) * this.halign / 100,
                    t.fillText(this.lines[o].text, r, n),
                    !(a - h <= (n += h))); o++)
                        ;
                    0 === this.angle && !e || t.restore(),
                    this.last_render_tick = this.runtime.tickcount
                }
                ,
                e.drawGL = function(t) {
                    var e, i, s, n, r, o, a, h, c, l, u, p, d, g, f, m, y;
                    this.width < 1 || this.height < 1 || (p = this.text_changed || this.need_text_redraw,
                    this.need_text_redraw = !1,
                    e = this.layer.getScale(),
                    i = this.layer.getAngle(),
                    s = this.rcTex,
                    n = e * this.width,
                    r = e * this.height,
                    o = Math.ceil(n),
                    a = Math.ceil(r),
                    d = Math.abs(o),
                    g = Math.abs(a),
                    f = this.runtime.draw_width / 2,
                    m = this.runtime.draw_height / 2,
                    this.myctx || (this.mycanvas = document.createElement("canvas"),
                    this.mycanvas.width = d,
                    this.mycanvas.height = g,
                    this.lastwidth = d,
                    this.lastheight = g,
                    p = !0,
                    this.myctx = this.mycanvas.getContext("2d")),
                    d === this.lastwidth && g === this.lastheight || (this.mycanvas.width = d,
                    this.mycanvas.height = g,
                    this.mytex && (t.deleteTexture(this.mytex),
                    this.mytex = null),
                    p = !0),
                    p && (this.myctx.clearRect(0, 0, d, g),
                    this.draw(this.myctx, !0),
                    this.mytex || (this.mytex = t.createEmptyTexture(d, g, this.runtime.linearSampling, this.runtime.isMobile)),
                    t.videoToTexture(this.mycanvas, this.mytex, this.runtime.isMobile)),
                    this.lastwidth = d,
                    this.lastheight = g,
                    t.setTexture(this.mytex),
                    t.setOpacity(this.opacity),
                    t.resetModelView(),
                    t.translate(-f, -m),
                    t.updateModelView(),
                    y = this.bquad,
                    h = this.layer.layerToCanvas(y.tlx, y.tly, !0, !0),
                    c = this.layer.layerToCanvas(y.tlx, y.tly, !1, !0),
                    l = this.layer.layerToCanvas(y.trx, y.try_, !0, !0),
                    u = this.layer.layerToCanvas(y.trx, y.try_, !1, !0),
                    p = this.layer.layerToCanvas(y.brx, y.bry, !0, !0),
                    d = this.layer.layerToCanvas(y.brx, y.bry, !1, !0),
                    g = this.layer.layerToCanvas(y.blx, y.bly, !0, !0),
                    f = this.layer.layerToCanvas(y.blx, y.bly, !1, !0),
                    (this.runtime.pixel_rounding || 0 === this.angle && 0 === i) && (h += m = (h + .5 | 0) - h,
                    c += y = (c + .5 | 0) - c,
                    l += m,
                    u += y,
                    p += m,
                    d += y,
                    g += m,
                    f += y),
                    0 === this.angle && 0 === i ? (p = l = h + o,
                    g = h,
                    f = d = (u = c) + a,
                    s.right = 1,
                    s.bottom = 1) : (s.right = n / o,
                    s.bottom = r / a),
                    t.quadTex(h, c, l, u, p, d, g, f, s),
                    t.resetModelView(),
                    t.scale(e, e),
                    t.rotateZ(-this.layer.getAngle()),
                    t.translate((this.layer.viewLeft + this.layer.viewRight) / -2, (this.layer.viewTop + this.layer.viewBottom) / -2),
                    t.updateModelView(),
                    this.last_render_tick = this.runtime.tickcount)
                }
                ;
                var u = [];
                t.TokeniseWords = function(t) {
                    cr.clearArray(u);
                    for (var e, i = "", s = 0; s < t.length; )
                        if ("\n" === (e = t.charAt(s)))
                            i.length && (u.push(i),
                            i = ""),
                            u.push("\n"),
                            ++s;
                        else if (" " === e || "\t" === e || "-" === e) {
                            for (; i += t.charAt(s),
                            s++,
                            s < t.length && (" " === t.charAt(s) || "\t" === t.charAt(s)); )
                                ;
                            u.push(i),
                            i = ""
                        } else
                            s < t.length && (i += e,
                            s++);
                    i.length && u.push(i)
                }
                ;
                var i = [];
                function p() {
                    return i.length ? i.pop() : {}
                }
                function d(t) {
                    i.push(t)
                }
                function a(t) {
                    for (var e = 0, i = t.length; e < i; e++)
                        d(t[e]);
                    cr.clearArray(t)
                }
                function g(t) {
                    return t.length && " " === t.charAt(t.length - 1) ? t.substring(0, t.length - 1) : t
                }
                function s() {}
                function n() {}
                function r() {}
                t.WordWrap = function(t, e, i, s, n, r) {
                    if (t && t.length)
                        if (s <= 2)
                            a(e);
                        else {
                            var o;
                            if (t.length <= 100 && -1 === t.indexOf("\n"))
                                if ((o = i.measureText(t).width) <= s)
                                    return a(e),
                                    e.push(p()),
                                    e[0].text = t,
                                    void (e[0].width = o);
                            r ? (o = i.measureText(t).width,
                            a(e),
                            e.push(p()),
                            e[0].text = t,
                            e[0].width = o) : this.WrapText(t, e, i, s, n)
                        }
                    else
                        a(e)
                }
                ,
                t.WrapText = function(t, e, i, s, n) {
                    for (var r, o, a = n ? (this.TokeniseWords(t),
                    u) : t, h = "", c = 0, l = 0; l < a.length; l++)
                        "\n" !== a[l] ? (r = h,
                        h += a[l],
                        s <= i.measureText(h).width && (c >= e.length && e.push(p()),
                        r = g(r),
                        (o = e[c]).text = r,
                        o.width = i.measureText(r).width,
                        c++,
                        h = a[l],
                        n || " " !== h || (h = ""))) : (c >= e.length && e.push(p()),
                        h = g(h),
                        (o = e[c]).text = h,
                        o.width = i.measureText(h).width,
                        c++,
                        h = "");
                    for (h.length && (c >= e.length && e.push(p()),
                    h = g(h),
                    (o = e[c]).text = h,
                    o.width = i.measureText(h).width,
                    c++),
                    l = c; l < e.length; l++)
                        d(e[l]);
                    e.length = c
                }
                ,
                s.prototype.CompareText = function(t, e) {
                    return e ? this.text == t : cr.equals_nocase(this.text, t)
                }
                ,
                t.cnds = new s,
                n.prototype.SetText = function(t) {
                    cr.is_number(t) && t < 1e9 && (t = Math.round(1e10 * t) / 1e10);
                    t = t.toString();
                    this.text !== t && (this.text = t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                n.prototype.AppendText = function(t) {
                    cr.is_number(t) && (t = Math.round(1e10 * t) / 1e10);
                    t = t.toString();
                    t && (this.text += t,
                    this.text_changed = !0,
                    this.runtime.redraw = !0)
                }
                ,
                n.prototype.SetFontFace = function(t, e) {
                    var i = "";
                    switch (e) {
                    case 1:
                        i = "bold";
                        break;
                    case 2:
                        i = "italic";
                        break;
                    case 3:
                        i = "bold italic"
                    }
                    t === this.facename && i === this.fontstyle || (this.facename = t,
                    this.fontstyle = i,
                    this.updateFont())
                }
                ,
                n.prototype.SetFontSize = function(t) {
                    this.ptSize !== t && (this.ptSize = t,
                    this.pxHeight = Math.ceil(this.ptSize / 72 * 96) + 4,
                    this.updateFont())
                }
                ,
                n.prototype.SetFontColor = function(t) {
                    t = "rgb(" + cr.GetRValue(t).toString() + "," + cr.GetGValue(t).toString() + "," + cr.GetBValue(t).toString() + ")";
                    t !== this.color && (this.color = t,
                    this.need_text_redraw = !0,
                    this.runtime.redraw = !0)
                }
                ,
                n.prototype.SetHorAl = function(t) {
                    this.halign = this.clamp ? cr.clamp(t, 0, 100) : t,
                    this.need_text_redraw = !0,
                    this.runtime.redraw = !0
                }
                ,
                n.prototype.SetVerAl = function(t) {
                    this.valign = this.clamp ? cr.clamp(t, 0, 100) : t,
                    this.need_text_redraw = !0,
                    this.runtime.redraw = !0
                }
                ,
                n.prototype.SetAl = function(t, e) {
                    this.halign = this.clamp ? cr.clamp(t, 0, 100) : t,
                    this.valign = this.clamp ? cr.clamp(e, 0, 100) : e,
                    this.need_text_redraw = !0,
                    this.runtime.redraw = !0
                }
                ,
                n.prototype.SetWrap = function(t) {
                    this.wrapbyword = 0 === t,
                    this.nowrap = 2 === t,
                    this.need_text_redraw = !0,
                    this.runtime.redraw = !0,
                    this.text_changed = !0
                }
                ,
                n.prototype.SetClamp = function(t) {
                    this.clamp = 0 === t,
                    this.halign = this.clamp ? cr.clamp(this.halign, 0, 100) : this.halign,
                    this.valign = this.clamp ? cr.clamp(this.valign, 0, 100) : this.valign,
                    this.need_text_redraw = !0,
                    this.runtime.redraw = !0,
                    this.text_changed = !0
                }
                ,
                n.prototype.SetHotspot = function(t) {
                    this.SetHotspot(GetHotspot(t))
                }
                ,
                n.prototype.SetWebFont = function(t, e) {
                    if (this.runtime.isDomFree)
                        cr.logexport("[Construct 2] Text plugin: 'Set web font' not supported on this platform - the action has been ignored");
                    else {
                        function i() {
                            s.runtime.redraw = !0,
                            s.text_changed = !0
                        }
                        var s = this;
                        if (o.hasOwnProperty(e)) {
                            var n = "'" + t + "'";
                            if (this.facename !== n) {
                                this.facename = n,
                                this.updateFont();
                                for (var r = 1; r < 10; r++)
                                    setTimeout(i, 100 * r),
                                    setTimeout(i, 1e3 * r)
                            }
                        } else {
                            n = document.createElement("link");
                            n.href = e,
                            n.rel = "stylesheet",
                            n.type = "text/css",
                            n.onload = i,
                            document.getElementsByTagName("head")[0].appendChild(n),
                            o[e] = !0,
                            this.facename = "'" + t + "'",
                            this.updateFont();
                            for (r = 1; r < 10; r++)
                                setTimeout(i, 100 * r),
                                setTimeout(i, 1e3 * r)
                        }
                    }
                }
                ,
                n.prototype.SetEffect = function(t) {
                    this.blend_mode = t,
                    this.compositeOp = cr.effectToCompositeOp(t),
                    cr.setGLBlend(this, t, this.runtime.gl),
                    this.runtime.redraw = !0
                }
                ,
                t.acts = new n,
                r.prototype.Text = function(t) {
                    t.set_string(this.text)
                }
                ,
                r.prototype.HAlign = function(t) {
                    t.set_int(this.halign)
                }
                ,
                r.prototype.VAlign = function(t) {
                    t.set_int(this.valign)
                }
                ,
                r.prototype.FaceName = function(t) {
                    t.set_string(this.facename)
                }
                ,
                r.prototype.FaceSize = function(t) {
                    t.set_int(this.ptSize)
                }
                ,
                r.prototype.LineHeight = function(t) {
                    t.set_int(this.pxHeight + this.line_height_offset)
                }
                ,
                r.prototype.TextWidth = function(t) {
                    for (var e, i = 0, s = 0, n = this.lines.length; s < n; s++)
                        i < (e = this.lines[s].width) && (i = e);
                    t.set_int(i)
                }
                ,
                r.prototype.TextHeight = function(t) {
                    t.set_int(this.lines.length * (this.pxHeight + this.line_height_offset) - this.line_height_offset)
                }
                ,
                t.exps = new r
            }(),
            cr.plugins_.TiledBg = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.TiledBg.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Type.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.is_family || (this.texture_img = new Image,
                    this.texture_img.cr_filesize = this.texture_filesize,
                    this.runtime.waitForImageLoad(this.texture_img, this.texture_file),
                    this.pattern = null,
                    this.webGL_texture = null)
                }
                ,
                e.onLostWebGLContext = function() {
                    this.is_family || (this.webGL_texture = null)
                }
                ,
                e.onRestoreWebGLContext = function() {
                    var t, e;
                    if (!this.is_family && this.instances.length)
                        for (this.webGL_texture || (this.webGL_texture = this.runtime.glwrap.loadTexture(this.texture_img, !0, this.runtime.linearSampling, this.texture_pixelformat)),
                        t = 0,
                        e = this.instances.length; t < e; t++)
                            this.instances[t].webGL_texture = this.webGL_texture
                }
                ,
                e.loadTextures = function() {
                    this.is_family || this.webGL_texture || !this.runtime.glwrap || (this.webGL_texture = this.runtime.glwrap.loadTexture(this.texture_img, !0, this.runtime.linearSampling, this.texture_pixelformat))
                }
                ,
                e.unloadTextures = function() {
                    this.is_family || this.instances.length || !this.webGL_texture || (this.runtime.glwrap.deleteTexture(this.webGL_texture),
                    this.webGL_texture = null)
                }
                ,
                e.preloadCanvas2D = function(t) {
                    t.drawImage(this.texture_img, 0, 0)
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ,
                (e = t.Instance.prototype).onCreate = function() {
                    this.visible = 0 === this.properties[0],
                    this.rcTex = new cr.rect(0,0,0,0),
                    this.has_own_texture = !1,
                    this.texture_img = this.type.texture_img,
                    this.runtime.glwrap ? (this.type.loadTextures(),
                    this.webGL_texture = this.type.webGL_texture) : (this.type.pattern || (this.type.pattern = this.runtime.ctx.createPattern(this.type.texture_img, "repeat")),
                    this.pattern = this.type.pattern)
                }
                ,
                e.afterLoad = function() {
                    this.has_own_texture = !1,
                    this.texture_img = this.type.texture_img
                }
                ,
                e.onDestroy = function() {
                    this.runtime.glwrap && this.has_own_texture && this.webGL_texture && (this.runtime.glwrap.deleteTexture(this.webGL_texture),
                    this.webGL_texture = null)
                }
                ,
                e.draw = function(t) {
                    t.globalAlpha = this.opacity,
                    t.save(),
                    t.fillStyle = this.pattern;
                    var e = this.x
                      , i = this.y;
                    this.runtime.pixel_rounding && (e = Math.round(e),
                    i = Math.round(i));
                    var s = -(this.hotspotX * this.width)
                      , n = -(this.hotspotY * this.height)
                      , r = s % this.texture_img.width
                      , o = n % this.texture_img.height;
                    r < 0 && (r += this.texture_img.width),
                    o < 0 && (o += this.texture_img.height),
                    t.translate(e, i),
                    t.rotate(this.angle),
                    t.translate(r, o),
                    t.fillRect(s - r, n - o, this.width, this.height),
                    t.restore()
                }
                ,
                e.drawGL_earlyZPass = function(t) {
                    this.drawGL(t)
                }
                ,
                e.drawGL = function(t) {
                    t.setTexture(this.webGL_texture),
                    t.setOpacity(this.opacity);
                    var e = this.rcTex;
                    e.right = this.width / this.texture_img.width,
                    e.bottom = this.height / this.texture_img.height;
                    var i, s, n = this.bquad;
                    this.runtime.pixel_rounding ? (i = Math.round(this.x) - this.x,
                    s = Math.round(this.y) - this.y,
                    t.quadTex(n.tlx + i, n.tly + s, n.trx + i, n.try_ + s, n.brx + i, n.bry + s, n.blx + i, n.bly + s, e)) : t.quadTex(n.tlx, n.tly, n.trx, n.try_, n.brx, n.bry, n.blx, n.bly, e)
                }
                ,
                i.prototype.OnURLLoaded = function() {
                    return !0
                }
                ,
                t.cnds = new i,
                s.prototype.SetEffect = function(t) {
                    this.blend_mode = t,
                    this.compositeOp = cr.effectToCompositeOp(t),
                    cr.setGLBlend(this, t, this.runtime.gl),
                    this.runtime.redraw = !0
                }
                ,
                s.prototype.LoadURL = function(t, e) {
                    var i = new Image
                      , s = this;
                    i.onload = function() {
                        s.texture_img = i,
                        s.runtime.glwrap ? (s.has_own_texture && s.webGL_texture && s.runtime.glwrap.deleteTexture(s.webGL_texture),
                        s.webGL_texture = s.runtime.glwrap.loadTexture(i, !0, s.runtime.linearSampling)) : s.pattern = s.runtime.ctx.createPattern(i, "repeat"),
                        s.has_own_texture = !0,
                        s.runtime.redraw = !0,
                        s.runtime.trigger(cr.plugins_.TiledBg.prototype.cnds.OnURLLoaded, s)
                    }
                    ,
                    "data:" !== t.substr(0, 5) && 0 === e && (i.crossOrigin = "anonymous"),
                    this.runtime.setImageSrc(i, t)
                }
                ,
                t.acts = new s,
                n.prototype.ImageWidth = function(t) {
                    t.set_float(this.texture_img.width)
                }
                ,
                n.prototype.ImageHeight = function(t) {
                    t.set_float(this.texture_img.height)
                }
                ,
                t.exps = new n
            }(),
            cr.plugins_.Touch = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.Touch.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.touches = [],
                    this.mouseDown = !1
                }
                ;
                var e = t.Instance.prototype
                  , l = {
                    left: 0,
                    top: 0
                };
                e.findTouch = function(t) {
                    for (var e = 0, i = this.touches.length; e < i; e++)
                        if (this.touches[e].id === t)
                            return e;
                    return -1
                }
                ;
                var i = 0
                  , s = 0
                  , n = 0;
                function a(t) {
                    i = t.x,
                    s = t.y,
                    n = t.z
                }
                var r = [];
                function h(t, e, i, s) {
                    var n = r.length ? r.pop() : new c;
                    return n.init(t, e, i, s),
                    n
                }
                function o(t) {
                    r.length < 100 && r.push(t)
                }
                function c() {
                    this.starttime = 0,
                    this.time = 0,
                    this.lasttime = 0,
                    this.startx = 0,
                    this.starty = 0,
                    this.x = 0,
                    this.y = 0,
                    this.lastx = 0,
                    this.lasty = 0,
                    this.id = 0,
                    this.startindex = 0,
                    this.triggeredHold = !1,
                    this.tooFarForHold = !1
                }
                c.prototype.init = function(t, e, i, s) {
                    var n = cr.performance_now();
                    this.time = n,
                    this.lasttime = n,
                    this.starttime = n,
                    this.startx = t,
                    this.starty = e,
                    this.x = t,
                    this.y = e,
                    this.lastx = t,
                    this.lasty = e,
                    this.width = 0,
                    this.height = 0,
                    this.pressure = 0,
                    this.id = i,
                    this.startindex = s,
                    this.triggeredHold = !1,
                    this.tooFarForHold = !1
                }
                ,
                c.prototype.update = function(t, e, i, s, n, r) {
                    this.lasttime = this.time,
                    this.time = t,
                    this.lastx = this.x,
                    this.lasty = this.y,
                    this.x = e,
                    this.y = i,
                    this.width = s,
                    this.height = n,
                    this.pressure = r,
                    !this.tooFarForHold && 15 <= cr.distanceTo(this.startx, this.starty, this.x, this.y) && (this.tooFarForHold = !0)
                }
                ,
                c.prototype.maybeTriggerHold = function(t, e) {
                    this.triggeredHold || 500 <= cr.performance_now() - this.starttime && !this.tooFarForHold && cr.distanceTo(this.startx, this.starty, this.x, this.y) < 15 && (this.triggeredHold = !0,
                    t.trigger_index = this.startindex,
                    t.trigger_id = this.id,
                    t.getTouchIndex = e,
                    t.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnHoldGesture, t),
                    t.curTouchX = this.x,
                    t.curTouchY = this.y,
                    t.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnHoldGestureObject, t),
                    t.getTouchIndex = 0)
                }
                ;
                var u = -1e3
                  , p = -1e3
                  , d = -1e4;
                function g(t) {
                    return t.sourceCapabilities && t.sourceCapabilities.firesTouchEvents || t.originalEvent && t.originalEvent.sourceCapabilities && t.originalEvent.sourceCapabilities.firesTouchEvents
                }
                function f() {}
                c.prototype.maybeTriggerTap = function(t, e) {
                    var i;
                    this.triggeredHold || (i = cr.performance_now()) - this.starttime <= 333 && !this.tooFarForHold && cr.distanceTo(this.startx, this.starty, this.x, this.y) < 15 && (t.trigger_index = this.startindex,
                    t.trigger_id = this.id,
                    t.getTouchIndex = e,
                    d = i - d <= 666 && cr.distanceTo(u, p, this.x, this.y) < 25 ? (t.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnDoubleTapGesture, t),
                    t.curTouchX = this.x,
                    t.curTouchY = this.y,
                    t.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnDoubleTapGestureObject, t),
                    p = u = -1e3,
                    -1e4) : (t.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnTapGesture, t),
                    t.curTouchX = this.x,
                    t.curTouchY = this.y,
                    t.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnTapGestureObject, t),
                    u = this.x,
                    p = this.y,
                    i),
                    t.getTouchIndex = 0)
                }
                ,
                e.onCreate = function() {
                    this.isWindows8 = !(void 0 === window.c2isWindows8 || !window.c2isWindows8),
                    this.orient_alpha = 0,
                    this.orient_beta = 0,
                    this.orient_gamma = 0,
                    this.acc_g_x = 0,
                    this.acc_g_y = 0,
                    this.acc_g_z = 0,
                    this.acc_x = 0,
                    this.acc_y = 0,
                    this.acc_z = 0,
                    this.curTouchX = 0,
                    this.curTouchY = 0,
                    this.trigger_index = 0,
                    this.trigger_id = 0,
                    this.trigger_permission = 0,
                    this.getTouchIndex = 0,
                    this.useMouseInput = 0 !== this.properties[0];
                    var t = 0 < this.runtime.fullscreen_mode ? document : this.runtime.canvas
                      , e = document;
                    this.runtime.isDirectCanvas ? e = t = window.Canvas : this.runtime.isCocoonJs && (e = t = window);
                    var i, s, n, r, o = this;
                    "undefined" != typeof PointerEvent ? (t.addEventListener("pointerdown", function(t) {
                        o.onPointerStart(t)
                    }, !1),
                    t.addEventListener("pointermove", function(t) {
                        o.onPointerMove(t)
                    }, !1),
                    e.addEventListener("pointerup", function(t) {
                        o.onPointerEnd(t, !1)
                    }, !1),
                    e.addEventListener("pointercancel", function(t) {
                        o.onPointerEnd(t, !0)
                    }, !1),
                    this.runtime.canvas && (this.runtime.canvas.addEventListener("MSGestureHold", function(t) {
                        t.preventDefault()
                    }, !1),
                    document.addEventListener("MSGestureHold", function(t) {
                        t.preventDefault()
                    }, !1),
                    this.runtime.canvas.addEventListener("gesturehold", function(t) {
                        t.preventDefault()
                    }, !1),
                    document.addEventListener("gesturehold", function(t) {
                        t.preventDefault()
                    }, !1))) : window.navigator.msPointerEnabled ? (t.addEventListener("MSPointerDown", function(t) {
                        o.onPointerStart(t)
                    }, !1),
                    t.addEventListener("MSPointerMove", function(t) {
                        o.onPointerMove(t)
                    }, !1),
                    e.addEventListener("MSPointerUp", function(t) {
                        o.onPointerEnd(t, !1)
                    }, !1),
                    e.addEventListener("MSPointerCancel", function(t) {
                        o.onPointerEnd(t, !0)
                    }, !1),
                    this.runtime.canvas && (this.runtime.canvas.addEventListener("MSGestureHold", function(t) {
                        t.preventDefault()
                    }, !1),
                    document.addEventListener("MSGestureHold", function(t) {
                        t.preventDefault()
                    }, !1))) : (t.addEventListener("touchstart", function(t) {
                        o.onTouchStart(t)
                    }, !1),
                    t.addEventListener("touchmove", function(t) {
                        o.onTouchMove(t)
                    }, !1),
                    e.addEventListener("touchend", function(t) {
                        o.onTouchEnd(t, !1)
                    }, !1),
                    e.addEventListener("touchcancel", function(t) {
                        o.onTouchEnd(t, !0)
                    }, !1)),
                    this.isWindows8 ? (i = function(t) {
                        t = t.reading;
                        o.acc_x = t.accelerationX,
                        o.acc_y = t.accelerationY,
                        o.acc_z = t.accelerationZ
                    }
                    ,
                    s = function(t) {
                        t = t.reading;
                        o.orient_alpha = t.yawDegrees,
                        o.orient_beta = t.pitchDegrees,
                        o.orient_gamma = t.rollDegrees
                    }
                    ,
                    (n = Windows.Devices.Sensors.Accelerometer.getDefault()) && (n.reportInterval = Math.max(n.minimumReportInterval, 16),
                    n.addEventListener("readingchanged", i)),
                    (r = Windows.Devices.Sensors.Inclinometer.getDefault()) && (r.reportInterval = Math.max(r.minimumReportInterval, 16),
                    r.addEventListener("readingchanged", s)),
                    document.addEventListener("visibilitychange", function(t) {
                        document.hidden || document.msHidden ? (n && n.removeEventListener("readingchanged", i),
                        r && r.removeEventListener("readingchanged", s)) : (n && n.addEventListener("readingchanged", i),
                        r && r.addEventListener("readingchanged", s))
                    }, !1)) : (window.addEventListener("deviceorientation", function(t) {
                        o.orient_alpha = t.alpha || 0,
                        o.orient_beta = t.beta || 0,
                        o.orient_gamma = t.gamma || 0
                    }, !1),
                    window.addEventListener("devicemotion", function(t) {
                        t.accelerationIncludingGravity && (o.acc_g_x = t.accelerationIncludingGravity.x || 0,
                        o.acc_g_y = t.accelerationIncludingGravity.y || 0,
                        o.acc_g_z = t.accelerationIncludingGravity.z || 0),
                        t.acceleration && (o.acc_x = t.acceleration.x || 0,
                        o.acc_y = t.acceleration.y || 0,
                        o.acc_z = t.acceleration.z || 0)
                    }, !1)),
                    this.useMouseInput && !this.runtime.isDomFree && (jQuery(document).mousemove(function(t) {
                        o.onMouseMove(t)
                    }),
                    jQuery(document).mousedown(function(t) {
                        o.onMouseDown(t)
                    }),
                    jQuery(document).mouseup(function(t) {
                        o.onMouseUp(t)
                    })),
                    !this.runtime.isiOS && this.runtime.isCordova && navigator.accelerometer && navigator.accelerometer.watchAcceleration && navigator.accelerometer.watchAcceleration(a, null, {
                        frequency: 40
                    }),
                    this.runtime.tick2Me(this)
                }
                ,
                e.onPointerMove = function(t) {
                    var e, i, s;
                    t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType && (t.preventDefault && t.preventDefault(),
                    s = this.findTouch(t.pointerId),
                    e = cr.performance_now(),
                    0 <= s && (i = this.runtime.isDomFree ? l : jQuery(this.runtime.canvas).offset(),
                    e - (s = this.touches[s]).time < 2 || s.update(e, t.pageX - i.left, t.pageY - i.top, t.width || 0, t.height || 0, t.pressure || 0)))
                }
                ,
                e.onPointerStart = function(t) {
                    var e, i;
                    t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType && (t.preventDefault && cr.isCanvasInputEvent(t) && t.preventDefault(),
                    i = this.runtime.isDomFree ? l : jQuery(this.runtime.canvas).offset(),
                    e = t.pageX - i.left,
                    i = t.pageY - i.top,
                    cr.performance_now(),
                    this.trigger_index = this.touches.length,
                    this.trigger_id = t.pointerId,
                    this.touches.push(h(e, i, t.pointerId, this.trigger_index)),
                    this.runtime.isInUserInputEvent = !0,
                    this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnNthTouchStart, this),
                    this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnTouchStart, this),
                    this.curTouchX = e,
                    this.curTouchY = i,
                    this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnTouchObject, this),
                    this.runtime.isInUserInputEvent = !1)
                }
                ,
                e.onPointerEnd = function(t, e) {
                    t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType && (t.preventDefault && cr.isCanvasInputEvent(t) && t.preventDefault(),
                    t = this.findTouch(t.pointerId),
                    this.trigger_index = 0 <= t ? this.touches[t].startindex : -1,
                    this.trigger_id = 0 <= t ? this.touches[t].id : -1,
                    this.runtime.isInUserInputEvent = !0,
                    this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnNthTouchEnd, this),
                    this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnTouchEnd, this),
                    0 <= t && (e || this.touches[t].maybeTriggerTap(this, t),
                    o(this.touches[t]),
                    this.touches.splice(t, 1)),
                    this.runtime.isInUserInputEvent = !1)
                }
                ,
                e.onTouchMove = function(t) {
                    t.preventDefault && t.preventDefault();
                    for (var e, i = cr.performance_now(), s = 0, n = t.changedTouches.length; s < n; s++) {
                        e = t.changedTouches[s];
                        var r, o, a, h, c = this.findTouch(e.identifier);
                        0 <= c && (r = this.runtime.isDomFree ? l : jQuery(this.runtime.canvas).offset(),
                        i - (o = this.touches[c]).time < 2 || (a = 2 * (e.radiusX || e.webkitRadiusX || e.mozRadiusX || e.msRadiusX || 0),
                        h = 2 * (e.radiusY || e.webkitRadiusY || e.mozRadiusY || e.msRadiusY || 0),
                        c = e.force || e.webkitForce || e.mozForce || e.msForce || 0,
                        o.update(i, e.pageX - r.left, e.pageY - r.top, a, h, c)))
                    }
                }
                ,
                e.onTouchStart = function(t) {
                    t.preventDefault && cr.isCanvasInputEvent(t) && t.preventDefault();
                    var e, i, s = this.runtime.isDomFree ? l : jQuery(this.runtime.canvas).offset();
                    cr.performance_now();
                    for (this.runtime.isInUserInputEvent = !0,
                    e = 0,
                    i = t.changedTouches.length; e < i; e++) {
                        var n, r, o = t.changedTouches[e];
                        -1 === this.findTouch(o.identifier) && (n = o.pageX - s.left,
                        r = o.pageY - s.top,
                        this.trigger_index = this.touches.length,
                        this.trigger_id = o.identifier,
                        this.touches.push(h(n, r, o.identifier, this.trigger_index)),
                        this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnNthTouchStart, this),
                        this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnTouchStart, this),
                        this.curTouchX = n,
                        this.curTouchY = r,
                        this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnTouchObject, this))
                    }
                    this.runtime.isInUserInputEvent = !1
                }
                ,
                e.onTouchEnd = function(t, e) {
                    var i, s, n;
                    for (t.preventDefault && cr.isCanvasInputEvent(t) && t.preventDefault(),
                    this.runtime.isInUserInputEvent = !0,
                    i = 0,
                    s = t.changedTouches.length; i < s; i++)
                        n = t.changedTouches[i],
                        0 <= (n = this.findTouch(n.identifier)) && (this.trigger_index = this.touches[n].startindex,
                        this.trigger_id = this.touches[n].id,
                        this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnNthTouchEnd, this),
                        this.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnTouchEnd, this),
                        e || this.touches[n].maybeTriggerTap(this, n),
                        o(this.touches[n]),
                        this.touches.splice(n, 1));
                    this.runtime.isInUserInputEvent = !1
                }
                ,
                e.getAlpha = function() {
                    return this.runtime.isCordova && 0 === this.orient_alpha && 0 !== n ? 90 * n : this.orient_alpha
                }
                ,
                e.getBeta = function() {
                    return this.runtime.isCordova && 0 === this.orient_beta && 0 !== s ? 90 * s : this.orient_beta
                }
                ,
                e.getGamma = function() {
                    return this.runtime.isCordova && 0 === this.orient_gamma && 0 !== i ? 90 * i : this.orient_gamma
                }
                ,
                e.onMouseDown = function(t) {
                    g(t) || (t = {
                        changedTouches: [{
                            pageX: t.pageX,
                            pageY: t.pageY,
                            identifier: 0
                        }]
                    },
                    this.onTouchStart(t),
                    this.mouseDown = !0)
                }
                ,
                e.onMouseMove = function(t) {
                    this.mouseDown && (g(t) || (t = {
                        changedTouches: [{
                            pageX: t.pageX,
                            pageY: t.pageY,
                            identifier: 0
                        }]
                    },
                    this.onTouchMove(t)))
                }
                ,
                e.onMouseUp = function(t) {
                    t.preventDefault && this.runtime.had_a_click && !this.runtime.isMobile && t.preventDefault(),
                    this.runtime.had_a_click = !0,
                    g(t) || (t = {
                        changedTouches: [{
                            pageX: t.pageX,
                            pageY: t.pageY,
                            identifier: 0
                        }]
                    },
                    this.onTouchEnd(t),
                    this.mouseDown = !1)
                }
                ,
                e.tick2 = function() {
                    for (var t, e = cr.performance_now(), i = 0, s = this.touches.length; i < s; ++i)
                        (t = this.touches[i]).time <= e - 50 && (t.lasttime = e),
                        t.maybeTriggerHold(this, i)
                }
                ,
                f.prototype.OnTouchStart = function() {
                    return !0
                }
                ,
                f.prototype.OnTouchEnd = function() {
                    return !0
                }
                ,
                f.prototype.IsInTouch = function() {
                    return this.touches.length
                }
                ,
                f.prototype.OnTouchObject = function(t) {
                    return !!t && this.runtime.testAndSelectCanvasPointOverlap(t, this.curTouchX, this.curTouchY, !1)
                }
                ;
                var m = [];
                function y() {}
                function _() {}
                f.prototype.IsTouchingObject = function(t) {
                    if (!t)
                        return !1;
                    for (var e, i, s = t.getCurrentSol(), n = s.getObjects(), r = 0, o = n.length; r < o; r++) {
                        var a = n[r];
                        for (a.update_bbox(),
                        e = 0,
                        i = this.touches.length; e < i; e++) {
                            var h = this.touches[e]
                              , c = a.layer.canvasToLayer(h.x, h.y, !0)
                              , h = a.layer.canvasToLayer(h.x, h.y, !1);
                            if (a.contains_pt(c, h)) {
                                m.push(a);
                                break
                            }
                        }
                    }
                    return !!m.length && (s.select_all = !1,
                    cr.shallowAssignArray(s.instances, m),
                    t.applySolToContainer(),
                    cr.clearArray(m),
                    !0)
                }
                ,
                f.prototype.CompareTouchSpeed = function(t, e, i) {
                    if ((t = Math.floor(t)) < 0 || t >= this.touches.length)
                        return !1;
                    var s = this.touches[t]
                      , t = cr.distanceTo(s.x, s.y, s.lastx, s.lasty)
                      , s = (s.time - s.lasttime) / 1e3
                      , s = 0 < s ? t / s : 0;
                    return cr.do_cmp(s, e, i)
                }
                ,
                f.prototype.OrientationSupported = function() {
                    return void 0 !== window.DeviceOrientationEvent
                }
                ,
                f.prototype.MotionSupported = function() {
                    return void 0 !== window.DeviceMotionEvent
                }
                ,
                f.prototype.CompareOrientation = function(t, e, i) {
                    var s = 0
                      , s = 0 === t ? this.getAlpha() : 1 === t ? this.getBeta() : this.getGamma();
                    return cr.do_cmp(s, e, i)
                }
                ,
                f.prototype.CompareAcceleration = function(t, e, i) {
                    var s = 0;
                    return 0 === t ? s = this.acc_g_x : 1 === t ? s = this.acc_g_y : 2 === t ? s = this.acc_g_z : 3 === t ? s = this.acc_x : 4 === t ? s = this.acc_y : 5 === t && (s = this.acc_z),
                    cr.do_cmp(s, e, i)
                }
                ,
                f.prototype.OnNthTouchStart = function(t) {
                    return (t = Math.floor(t)) === this.trigger_index
                }
                ,
                f.prototype.OnNthTouchEnd = function(t) {
                    return (t = Math.floor(t)) === this.trigger_index
                }
                ,
                f.prototype.HasNthTouch = function(t) {
                    return t = Math.floor(t),
                    this.touches.length >= t + 1
                }
                ,
                f.prototype.OnHoldGesture = function() {
                    return !0
                }
                ,
                f.prototype.OnTapGesture = function() {
                    return !0
                }
                ,
                f.prototype.OnDoubleTapGesture = function() {
                    return !0
                }
                ,
                f.prototype.OnHoldGestureObject = function(t) {
                    return !!t && this.runtime.testAndSelectCanvasPointOverlap(t, this.curTouchX, this.curTouchY, !1)
                }
                ,
                f.prototype.OnTapGestureObject = function(t) {
                    return !!t && this.runtime.testAndSelectCanvasPointOverlap(t, this.curTouchX, this.curTouchY, !1)
                }
                ,
                f.prototype.OnDoubleTapGestureObject = function(t) {
                    return !!t && this.runtime.testAndSelectCanvasPointOverlap(t, this.curTouchX, this.curTouchY, !1)
                }
                ,
                f.prototype.OnPermissionGranted = function(t) {
                    return this.trigger_permission === t
                }
                ,
                f.prototype.OnPermissionDenied = function(t) {
                    return this.trigger_permission === t
                }
                ,
                t.cnds = new f,
                y.prototype.RequestPermission = function(e) {
                    var i = this
                      , t = Promise.resolve(!0);
                    0 === e ? window.DeviceOrientationEvent && window.DeviceOrientationEvent.requestPermission && (t = window.DeviceOrientationEvent.requestPermission().then(function(t) {
                        return "granted" === t
                    })) : window.DeviceMotionEvent && window.DeviceMotionEvent.requestPermission && (t = window.DeviceMotionEvent.requestPermission().then(function(t) {
                        return "granted" === t
                    })),
                    t.then(function(t) {
                        i.trigger_permission = e,
                        t ? i.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnPermissionGranted, i) : i.runtime.trigger(cr.plugins_.Touch.prototype.cnds.OnPermissionDenied, i)
                    })
                }
                ,
                t.acts = new y,
                _.prototype.TouchCount = function(t) {
                    t.set_int(this.touches.length)
                }
                ,
                _.prototype.X = function(t, e) {
                    var i, s, n, r, o, a = this.getTouchIndex;
                    a < 0 || a >= this.touches.length ? t.set_float(0) : cr.is_undefined(e) ? (s = (i = this.runtime.getLayerByNumber(0)).scale,
                    n = i.zoomRate,
                    r = i.parallaxX,
                    o = i.angle,
                    i.scale = 1,
                    i.zoomRate = 1,
                    i.parallaxX = 1,
                    i.angle = 0,
                    t.set_float(i.canvasToLayer(this.touches[a].x, this.touches[a].y, !0)),
                    i.scale = s,
                    i.zoomRate = n,
                    i.parallaxX = r,
                    i.angle = o) : (i = cr.is_number(e) ? this.runtime.getLayerByNumber(e) : this.runtime.getLayerByName(e)) ? t.set_float(i.canvasToLayer(this.touches[a].x, this.touches[a].y, !0)) : t.set_float(0)
                }
                ,
                _.prototype.XAt = function(t, e, i) {
                    var s, n, r, o, a;
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : cr.is_undefined(i) ? (n = (s = this.runtime.getLayerByNumber(0)).scale,
                    r = s.zoomRate,
                    o = s.parallaxX,
                    a = s.angle,
                    s.scale = 1,
                    s.zoomRate = 1,
                    s.parallaxX = 1,
                    s.angle = 0,
                    t.set_float(s.canvasToLayer(this.touches[e].x, this.touches[e].y, !0)),
                    s.scale = n,
                    s.zoomRate = r,
                    s.parallaxX = o,
                    s.angle = a) : (s = cr.is_number(i) ? this.runtime.getLayerByNumber(i) : this.runtime.getLayerByName(i)) ? t.set_float(s.canvasToLayer(this.touches[e].x, this.touches[e].y, !0)) : t.set_float(0)
                }
                ,
                _.prototype.XForID = function(t, e, i) {
                    var s, n, r, o, a = this.findTouch(e);
                    a < 0 ? t.set_float(0) : (s = this.touches[a],
                    cr.is_undefined(i) ? (r = (n = this.runtime.getLayerByNumber(0)).scale,
                    o = n.zoomRate,
                    e = n.parallaxX,
                    a = n.angle,
                    n.scale = 1,
                    n.zoomRate = 1,
                    n.parallaxX = 1,
                    n.angle = 0,
                    t.set_float(n.canvasToLayer(s.x, s.y, !0)),
                    n.scale = r,
                    n.zoomRate = o,
                    n.parallaxX = e,
                    n.angle = a) : (n = cr.is_number(i) ? this.runtime.getLayerByNumber(i) : this.runtime.getLayerByName(i)) ? t.set_float(n.canvasToLayer(s.x, s.y, !0)) : t.set_float(0))
                }
                ,
                _.prototype.Y = function(t, e) {
                    var i, s, n, r, o, a = this.getTouchIndex;
                    a < 0 || a >= this.touches.length ? t.set_float(0) : cr.is_undefined(e) ? (s = (i = this.runtime.getLayerByNumber(0)).scale,
                    n = i.zoomRate,
                    r = i.parallaxY,
                    o = i.angle,
                    i.scale = 1,
                    i.zoomRate = 1,
                    i.parallaxY = 1,
                    i.angle = 0,
                    t.set_float(i.canvasToLayer(this.touches[a].x, this.touches[a].y, !1)),
                    i.scale = s,
                    i.zoomRate = n,
                    i.parallaxY = r,
                    i.angle = o) : (i = cr.is_number(e) ? this.runtime.getLayerByNumber(e) : this.runtime.getLayerByName(e)) ? t.set_float(i.canvasToLayer(this.touches[a].x, this.touches[a].y, !1)) : t.set_float(0)
                }
                ,
                _.prototype.YAt = function(t, e, i) {
                    var s, n, r, o, a;
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : cr.is_undefined(i) ? (n = (s = this.runtime.getLayerByNumber(0)).scale,
                    r = s.zoomRate,
                    o = s.parallaxY,
                    a = s.angle,
                    s.scale = 1,
                    s.zoomRate = 1,
                    s.parallaxY = 1,
                    s.angle = 0,
                    t.set_float(s.canvasToLayer(this.touches[e].x, this.touches[e].y, !1)),
                    s.scale = n,
                    s.zoomRate = r,
                    s.parallaxY = o,
                    s.angle = a) : (s = cr.is_number(i) ? this.runtime.getLayerByNumber(i) : this.runtime.getLayerByName(i)) ? t.set_float(s.canvasToLayer(this.touches[e].x, this.touches[e].y, !1)) : t.set_float(0)
                }
                ,
                _.prototype.YForID = function(t, e, i) {
                    var s, n, r, o, a = this.findTouch(e);
                    a < 0 ? t.set_float(0) : (s = this.touches[a],
                    cr.is_undefined(i) ? (r = (n = this.runtime.getLayerByNumber(0)).scale,
                    o = n.zoomRate,
                    e = n.parallaxY,
                    a = n.angle,
                    n.scale = 1,
                    n.zoomRate = 1,
                    n.parallaxY = 1,
                    n.angle = 0,
                    t.set_float(n.canvasToLayer(s.x, s.y, !1)),
                    n.scale = r,
                    n.zoomRate = o,
                    n.parallaxY = e,
                    n.angle = a) : (n = cr.is_number(i) ? this.runtime.getLayerByNumber(i) : this.runtime.getLayerByName(i)) ? t.set_float(n.canvasToLayer(s.x, s.y, !1)) : t.set_float(0))
                }
                ,
                _.prototype.AbsoluteX = function(t) {
                    this.touches.length ? t.set_float(this.touches[0].x) : t.set_float(0)
                }
                ,
                _.prototype.AbsoluteXAt = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : t.set_float(this.touches[e].x)
                }
                ,
                _.prototype.AbsoluteXForID = function(t, e) {
                    e = this.findTouch(e);
                    e < 0 ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(e.x))
                }
                ,
                _.prototype.AbsoluteY = function(t) {
                    this.touches.length ? t.set_float(this.touches[0].y) : t.set_float(0)
                }
                ,
                _.prototype.AbsoluteYAt = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : t.set_float(this.touches[e].y)
                }
                ,
                _.prototype.AbsoluteYForID = function(t, e) {
                    e = this.findTouch(e);
                    e < 0 ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(e.y))
                }
                ,
                _.prototype.SpeedAt = function(t, e) {
                    var i;
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : (i = this.touches[e],
                    e = cr.distanceTo(i.x, i.y, i.lastx, i.lasty),
                    (i = (i.time - i.lasttime) / 1e3) <= 0 ? t.set_float(0) : t.set_float(e / i))
                }
                ,
                _.prototype.SpeedForID = function(t, e) {
                    var i = this.findTouch(e);
                    i < 0 ? t.set_float(0) : (e = this.touches[i],
                    i = cr.distanceTo(e.x, e.y, e.lastx, e.lasty),
                    (e = (e.time - e.lasttime) / 1e3) <= 0 ? t.set_float(0) : t.set_float(i / e))
                }
                ,
                _.prototype.AngleAt = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(cr.to_degrees(cr.angleTo(e.lastx, e.lasty, e.x, e.y))))
                }
                ,
                _.prototype.AngleForID = function(t, e) {
                    e = this.findTouch(e);
                    e < 0 ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(cr.to_degrees(cr.angleTo(e.lastx, e.lasty, e.x, e.y))))
                }
                ,
                _.prototype.Alpha = function(t) {
                    t.set_float(this.getAlpha())
                }
                ,
                _.prototype.Beta = function(t) {
                    t.set_float(this.getBeta())
                }
                ,
                _.prototype.Gamma = function(t) {
                    t.set_float(this.getGamma())
                }
                ,
                _.prototype.AccelerationXWithG = function(t) {
                    t.set_float(this.acc_g_x)
                }
                ,
                _.prototype.AccelerationYWithG = function(t) {
                    t.set_float(this.acc_g_y)
                }
                ,
                _.prototype.AccelerationZWithG = function(t) {
                    t.set_float(this.acc_g_z)
                }
                ,
                _.prototype.AccelerationX = function(t) {
                    t.set_float(this.acc_x)
                }
                ,
                _.prototype.AccelerationY = function(t) {
                    t.set_float(this.acc_y)
                }
                ,
                _.prototype.AccelerationZ = function(t) {
                    t.set_float(this.acc_z)
                }
                ,
                _.prototype.TouchIndex = function(t) {
                    t.set_int(this.trigger_index)
                }
                ,
                _.prototype.TouchID = function(t) {
                    t.set_float(this.trigger_id)
                }
                ,
                _.prototype.WidthForID = function(t, e) {
                    e = this.findTouch(e);
                    e < 0 ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(e.width))
                }
                ,
                _.prototype.HeightForID = function(t, e) {
                    e = this.findTouch(e);
                    e < 0 ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(e.height))
                }
                ,
                _.prototype.PressureForID = function(t, e) {
                    e = this.findTouch(e);
                    e < 0 ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(e.pressure))
                }
                ,
                t.exps = new _
            }(),
            void 0 === window && (window = void 0 === window ? "undefined" == typeof global ? "undefined" == typeof self ? this : self : global : window);
            var __CONSTRUCT2_RUNTIME2__ = !0
              , __CONSTRUCT3_RUNTIME2__ = !1
              , __CONSTRUCT3_RUNTIME3__ = !1
              , __DEBUG__ = !1;
            function flood_fill(e, t, i, s, n, r) {
                if (!(s < 0 || t < s || n < 0 || i < n)) {
                    r = $("<div></div>").css("background-color", r).css("background-color");
                    "transparent" == r && (r = "rgb(0,0,0)"),
                    r = r.slice(4, -1).split(",");
                    var o = 4
                      , a = r[0]
                      , h = r[1]
                      , c = r[2]
                      , l = e[f = (n * t + s) * o]
                      , u = e[f + 1]
                      , p = e[f + 2];
                    if (a != l || h != u || c != p)
                        for (var d, g = [[s, n]]; g.length; ) {
                            var f, m = g.pop();
                            for (s = m[0],
                            n = m[1],
                            f = (n * t + s) * o; 0 <= n-- && _(f); )
                                f -= t * o;
                            f += t * o,
                            ++n;
                            var y = [];
                            for (y[-1] = !1,
                            y[1] = !1; n++ < i - 1 && _(f); )
                                e[d = f] = a,
                                e[d + 1] = h,
                                e[d + 2] = c,
                                e[d + 3] = 255,
                                0 < s && v(-1),
                                s < t - 1 && v(1),
                                f += t * o
                        }
                }
                function _(t) {
                    return l == e[t] && u == e[t + 1] && p == e[t + 2]
                }
                function v(t) {
                    _(f + t * o) ? y[t] || (g.push([s + t, n]),
                    y[t] = !0) : y[t] && (y[t] = !1)
                }
            }
            cr.plugins_.ValerypopoffJSPlugin = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var pluginProto = cr.plugins_.ValerypopoffJSPlugin.prototype;
                pluginProto.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ;
                var typeProto = pluginProto.Type.prototype;
                typeProto.onCreate = function() {}
                ,
                pluginProto.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var instanceProto = pluginProto.Instance.prototype;
                instanceProto.onCreate = function() {
                    function e(t, e) {
                        var i;
                        void 0 !== document ? ((i = document.createElement("script")).setAttribute("type", "text/javascript"),
                        i.setAttribute("src", e),
                        i.onreadystatechange = function() {
                            "complete" == this.readyState && t.sciptsToLoad--
                        }
                        ,
                        i.onload = function() {
                            t.sciptsToLoad--
                        }
                        ,
                        i.onerror = function() {
                            t.ShowError({
                                debug_caller: "Including '" + e + "' script to the page",
                                caller_name: "Including '" + e + "' script to the page",
                                error_message: "Probably file not found"
                            })
                        }
                        ,
                        document.getElementsByTagName("head")[0].appendChild(i)) : t.ShowError({
                            debug_caller: "Including '" + e + "' script to the page",
                            caller_name: "Including '" + e + "' script to the page",
                            error_message: "'document' is not defined. You're probably launching the game in a Worker. Workers are not supported yet. Export project with 'Use worker' option unchecked in the 'Advanced' section of the 'Project properties' panel."
                        })
                    }
                    if (this.returnValue = void 0,
                    this.sciptsToLoad = 0,
                    this.Aliases = {},
                    this.construct_compare_function_prefix = "ConstructCompare_",
                    this.AliasDotpartsCache = {
                        count: 0,
                        max_count: 4096,
                        Dotparts: {},
                        AliasNames: {},
                        AliasTrailers: {},
                        IsAlias: {}
                    },
                    this.NonAliasDotpartsCache = {
                        count: 0,
                        max_count: 2048,
                        Dotparts: {}
                    },
                    "" != this.properties[0])
                        for (var i, s = [], s = __CONSTRUCT2_RUNTIME2__ ? this.properties[0].split(";") : this.properties[0].split(/[;\n\r]/), n = 0; n < s.length; n++)
                            s[n] = s[n].trim(),
                            0 != s[n].length && (this.sciptsToLoad++,
                            __CONSTRUCT2_RUNTIME2__ && e(this, s[n]),
                            __CONSTRUCT3_RUNTIME2__ && e(this, this.runtime.getLocalFileUrl(s[n])),
                            __CONSTRUCT3_RUNTIME3__ && (void 0 !== (i = this)._runtime.GetAssetManager().LoadProjectFileUrl ? i._runtime.GetAssetManager().LoadProjectFileUrl(s[n]).then(function(t) {
                                e(i, t)
                            }, function(t) {
                                i.ShowError({
                                    debug_caller: "Including '" + s[n] + "' script to the page",
                                    caller_name: "Including '" + s[n] + "' script to the page",
                                    error_message: t.message
                                })
                            }).catch(function(t) {
                                i.ShowError({
                                    debug_caller: "Including '" + s[n] + "' script to the page",
                                    caller_name: "Including '" + s[n] + "' script to the page",
                                    error_message: t.message
                                })
                            }) : e(i, i._runtime.GetAssetManager().GetLocalFileUrl(s[n]))))
                }
                ,
                instanceProto.draw = function(t) {}
                ,
                instanceProto.drawGL = function(t) {}
                ;
                var IsValidIdentifier = function(t) {
                    return /^[$A-Z_][0-9A-Z_$]*$/i.test(t)
                }, DotStringToDotArray = function(n) {
                    for (var r = [], t = 0, e = 0, i = 0, s = n.length; i < s; i++)
                        "[" != n[i] ? "]" != n[i] ? "." == n[i] && t == e && r.push(i) : e++ : t++;
                    var o = []
                      , a = r.length - 1;
                    return r.forEach(function(t, e, i) {
                        var s = r[e - 1]
                          , s = n.substring(s + 1, t);
                        "" != s && o.push(s),
                        e == a && "" != (s = n.substring(t + 1)) && o.push(s)
                    }),
                    0 == o.length && o.push(n),
                    o.forEach(function(t, e, i) {
                        "[" == t[0] && (i[e] = DotStringToDotArray(t.substring(1, t.length - 1)))
                    }),
                    o
                }, HashtagParamsToCode = function(t, e) {
                    return t = t.replace(/#[0-9]+/g, function(t) {
                        t = e[t.substr(1)];
                        return "string" == typeof t ? "'" + t + "'" : t
                    })
                }, MakeCallString = function(t, e) {
                    var i = t + "(";
                    if (e)
                        for (var s = 0, n = e.length; s < n; ++s)
                            "string" == typeof e[s] ? i = i + "'" + e[s] + "'" : i += e[s],
                            s != e.length - 1 && (i += ",");
                    return i += ")"
                }, InstanceFunctionsObject = {
                    Value: function(e, t) {
                        var i = t[0];
                        t.splice(0, 1);
                        var s = this.ParseJS(i, !0, e);
                        if (!s.error) {
                            var n = void 0;
                            try {
                                n = s.end
                            } catch (t) {
                                var r = {
                                    debug_caller: "Value",
                                    caller_name: e,
                                    "show-alias-expression": s.alias_found,
                                    alias_expression: s.trimmed_code,
                                    error_message: t.message
                                };
                                return this.ShowError(r),
                                void ret.set_any(void 0)
                            }
                            return "function" == typeof s.end && (n = this.CallJSfunction(i, t, !1, e, s)),
                            n
                        }
                        ret.set_any(void 0)
                    },
                    CallJSfunction: function(e, i, t, s, n) {
                        var r;
                        if (void 0 === t && (t = !0),
                        void 0 === s && (s = "'Call function' action"),
                        !(r = void 0 === n ? this.ParseJS(e, !0, s) : n).error) {
                            if (0 <= e.indexOf("(") || 0 <= e.indexOf(")")) {
                                var o = {
                                    debug_caller: "CallJSfunction",
                                    caller_name: s,
                                    error_message: "'" + r.trimmed_code + "' must be a function name, not a function call. Remove parentheses."
                                };
                                return r.alias_found && (o["show-alias-expression"] = !0,
                                o.alias_expression = r.trimmed_code),
                                void this.ShowError(o)
                            }
                            var a = void 0;
                            try {
                                a = r.end.apply(r.context, i)
                            } catch (t) {
                                t instanceof TypeError && 0 <= t.message.indexOf("apply") && 0 <= t.message.indexOf("undefined") && (t.message = e + " is undefined");
                                o = {
                                    debug_caller: "CallJSfunction",
                                    caller_name: s,
                                    error_message: t.message
                                };
                                return r.alias_found ? (o["show-alias-expression"] = !0,
                                o.alias_expression = MakeCallString(r.trimmed_code, i),
                                o["show-code"] = !0,
                                o.code = MakeCallString(this.Aliases[r.alias_name].js + r.alias_trailer, i)) : (o["show-code"] = !0,
                                o.code = MakeCallString(r.trimmed_code, i)),
                                void this.ShowError(o)
                            }
                            return t && (this.returnValue = a),
                            a
                        }
                    },
                    CallAlias: function(t, e, i, s) {
                        void 0 === i && (i = !0),
                        void 0 === s && (s = "'Call alias' action");
                        t = this.ParseJS(t, !0, s);
                        if (!t.error)
                            return this.CallJSfunction(this.Aliases[t.alias_name].js + t.alias_trailer, e, i, s, t)
                    },
                    ShowError: function(t) {
                        var e = "ValerypopoffJS plugin: Error in " + t.caller_name + "\n";
                        e += "--------------------- \n",
                        __DEBUG__ && (e += "DEBUG CALLER: " + t.debug_caller + "\n",
                        e += "--------------------- \n"),
                        t["show-alias-expression"] && (e += "Alias expression: " + t.alias_expression + "\n",
                        e += "--------------------- \n"),
                        t["show-code"] && (e += "JS code: " + t.code + "\n",
                        e += "--------------------- \n"),
                        e += t.error_message,
                        console.error(e)
                    },
                    Resolve: function(t, e, i, s, n) {
                        for (var r = window, o = r, a = "", h = 0, c = t.length; h < c; h++) {
                            if ("object" == typeof (a = t[h])) {
                                var l = this.Resolve(a, e, i, s, n);
                                if (l.error)
                                    return {
                                        error: !0
                                    };
                                a = l.end;
                                try {
                                    o = o[a]
                                } catch (t) {
                                    var u = {
                                        debug_caller: "Resolve",
                                        caller_name: e,
                                        error_message: t.message,
                                        "show-code": !0,
                                        code: i
                                    };
                                    return s && (u["show-alias-expression"] = !0,
                                    u.code = this.Aliases[s].js + n,
                                    u.alias_expression = i),
                                    this.ShowError(u),
                                    {
                                        error: !0
                                    }
                                }
                            } else
                                try {
                                    o = r != window || IsValidIdentifier(a) ? o[a] : ("'" == a[0] && (a = a.substring(1, a.length - 1)),
                                    a)
                                } catch (t) {
                                    u = {
                                        debug_caller: "Resolve",
                                        caller_name: e,
                                        error_message: t.message,
                                        "show-code": !0,
                                        code: i
                                    };
                                    return s && (u["show-alias-expression"] = !0,
                                    u.code = this.Aliases[s].js + n,
                                    u.alias_expression = i),
                                    this.ShowError(u),
                                    {
                                        error: !0
                                    }
                                }
                            h < c - 1 && (r = o)
                        }
                        return {
                            error: !1,
                            context: r,
                            end: o,
                            endname: a
                        }
                    },
                    ParseJS: function(t, e, i) {
                        var s = !1
                          , n = void 0
                          , r = void 0
                          , o = []
                          , a = void 0
                          , t = t.trim().replace(/\s*([\.\[\]])\s*/g, "$1");
                        if ((a = this.AliasDotpartsCache).Dotparts[t])
                            o = a.Dotparts[t],
                            a.IsAlias[t] && (s = !0,
                            n = a.AliasNames[t],
                            r = a.AliasTrailers[t]);
                        else {
                            if (n = t.split(/[\.\[]/)[0],
                            r = t.substring(n.length),
                            o = this.Aliases[n] ? (s = !0,
                            DotStringToDotArray(r ? this.Aliases[n].dotstring + r.split("[").join(".[") : this.Aliases[n].dotstring)) : (r = n = void 0,
                            DotStringToDotArray(t.split("[").join(".["))),
                            a.count >= a.max_count)
                                for (var h in a.Dotparts)
                                    if (delete a.Dotparts[h],
                                    a.IsAlias[h] && (delete a.AliasNames[h],
                                    delete a.AliasTrailers[h],
                                    delete a.IsAlias[h]),
                                    a.count--,
                                    a.count <= a.max_count)
                                        break;
                            a.Dotparts[t] = o,
                            s && (a.AliasNames[t] = n,
                            a.AliasTrailers[t] = r,
                            a.IsAlias[t] = !0),
                            a.count++
                        }
                        i = this.Resolve(o, i, t, n, r);
                        return {
                            error: i.error,
                            end: i.end,
                            endname: i.endname,
                            context: i.context,
                            trimmed_code: t,
                            alias_found: s,
                            alias_name: n,
                            alias_trailer: r
                        }
                    }
                }, k;
                for (k in InstanceFunctionsObject)
                    instanceProto[k] = InstanceFunctionsObject[k];
                function Cnds() {}
                var CndsObject = {
                    C2CompareFunctionReturnValue: function(t, e, i, s) {
                        switch (e) {
                        case 2:
                            e = 4;
                            break;
                        case 3:
                            e = 5;
                            break;
                        case 4:
                            e = 2;
                            break;
                        case 5:
                            e = 3
                        }
                        return this.CNDS.CompareFunctionReturnValue.call(this, i, s, e, t)
                    },
                    C2CompareAliasCallReturnValue: function(t, e, i, s) {
                        switch (e) {
                        case 2:
                            e = 4;
                            break;
                        case 3:
                            e = 5;
                            break;
                        case 4:
                            e = 2;
                            break;
                        case 5:
                            e = 3
                        }
                        return this.CNDS.CompareAliasCallReturnValue.call(this, i, s, e, t)
                    },
                    C2CompareExecReturnWithParams: function(t, e, i, s) {
                        switch (e) {
                        case 2:
                            e = 4;
                            break;
                        case 3:
                            e = 5;
                            break;
                        case 4:
                            e = 2;
                            break;
                        case 5:
                            e = 3
                        }
                        return this.CNDS.CompareExecReturnWithParams.call(this, i, s, e, t)
                    },
                    C2CompareValue: function(t, e, i, s) {
                        switch (e) {
                        case 2:
                            e = 4;
                            break;
                        case 3:
                            e = 5;
                            break;
                        case 4:
                            e = 2;
                            break;
                        case 5:
                            e = 3
                        }
                        return this.CNDS.CompareValue.call(this, i, s, e, t)
                    },
                    CompareExecReturnWithParams: function(code_, params_, cmp_, value_) {
                        var ret = void 0
                          , caller_name_ = "'Compare JS code Completion value' condition";
                        params_.length && (code_ = HashtagParamsToCode(code_, params_));
                        try {
                            ret = eval(code_)
                        } catch (err) {
                            var info = {
                                debug_caller: "CompareExecReturnWithParams",
                                caller_name: caller_name_,
                                error_message: err.message,
                                "show-code": !0,
                                code: code_
                            };
                            return void this.ShowError(info)
                        }
                        return "boolean" == typeof ret && (ret = ret ? 1 : 0),
                        cr.do_cmp(ret, cmp_, value_)
                    },
                    CompareFunctionReturnValue: function(t, e, i, s) {
                        var n = void 0;
                        return "boolean" == typeof (n = this.CallJSfunction(t, e, !1, "'Compare Function return value' condition")) && (n = n ? 1 : 0),
                        cr.do_cmp(n, i, s)
                    },
                    CompareStoredReturnValue: function(t, e) {
                        var i = this.returnValue;
                        return "boolean" == typeof i && (i = i ? 1 : 0),
                        cr.do_cmp(i, t, e)
                    },
                    AllScriptsLoaded: function() {
                        return this.sciptsToLoad <= 0
                    },
                    CompareValue: function(t, e, i, s) {
                        var n = void 0;
                        return "boolean" == typeof (n = this.Value("'Compare Value' condition", [].concat(t, e))) && (n = n ? 1 : 0),
                        cr.do_cmp(n, i, s)
                    },
                    CompareAliasValue: function(t, e, i) {
                        var s = "'Compare alias' condition"
                          , n = this.ParseJS(t, !0, "'Set alias' action");
                        if (n.alias_found) {
                            if (!n.error) {
                                var r = n.context[this.construct_compare_function_prefix + n.endname];
                                if (!r || "object" != typeof n.context) {
                                    var o = n.end;
                                    return "boolean" == typeof o && (o = o ? 1 : 0),
                                    cr.do_cmp(o, e, i)
                                }
                                try {
                                    return r.call(n.context, e, i)
                                } catch (t) {
                                    a = {
                                        debug_caller: "CompareAliasValue",
                                        caller_name: s,
                                        "show-alias-expression": !0,
                                        alias_expression: n.trimmed_code,
                                        error_message: "Error in user defined '" + this.construct_compare_function_prefix + n.endname + "' function: " + t.message
                                    };
                                    return void this.ShowError(a)
                                }
                            }
                        } else {
                            var a = {
                                debug_caller: "CompareAliasValue",
                                caller_name: s,
                                error_message: "No such alias '" + t + "'"
                            };
                            this.ShowError(a)
                        }
                    },
                    CompareAliasCallReturnValue: function(t, e, i, s) {
                        var n = void 0;
                        return "boolean" == typeof (n = this.CallAlias(t, e, !1, "'Compare Alias Call return value' condition")) && (n = n ? 1 : 0),
                        cr.do_cmp(n, i, s)
                    }
                }, k;
                for (k in CndsObject)
                    Cnds.prototype[k] = CndsObject[k];
                function Acts() {}
                pluginProto.cnds = new Cnds;
                var ActsObject = {
                    ExecuteJSWithParams: function(code, params_) {
                        var caller_name_ = "'Execute JS code' action";
                        this.returnValue = void 0,
                        code = code.replace(/#[0-9]+/g, function(t) {
                            t = params_[t.substr(1)];
                            return "string" == typeof t ? "'" + t + "'" : t
                        });
                        try {
                            this.returnValue = eval(code)
                        } catch (err) {
                            return void this.ShowError({
                                debug_caller: "ExecuteJSWithParams",
                                caller_name: caller_name_,
                                "show-code": !0,
                                code: code,
                                error_message: err.message
                            })
                        }
                    },
                    CallJSfunction: function(t, e, i, s, n) {
                        this.CallJSfunction(t, e, i, s, n)
                    },
                    SetValue: function(e, i) {
                        var s = "'Set value' action"
                          , n = this.ParseJS(e, !0, s);
                        if (!n.error)
                            try {
                                n.context[n.endname] = i
                            } catch (t) {
                                e = e + "=";
                                "string" == typeof i ? e = e + "'" + i + "'" : e += i;
                                e = {
                                    debug_caller: "SetValue",
                                    caller_name: s,
                                    "show-alias-expression": n.alias_found,
                                    alias_expression: n.trimmed_code,
                                    "show-code": !0,
                                    code: e,
                                    error_message: t.message
                                };
                                return void this.ShowError(e)
                            }
                    },
                    Call: function(t, e, i, s) {
                        this.CallJSfunction(t, e, !0, "'Call' action")
                    },
                    InitAlias: function(t, e) {
                        var i, s, n = "'Init alias' action";
                        t = t.trim(),
                        0 != (e = e.trim()).length ? 0 <= t.indexOf(".") || 0 <= t.indexOf("[") || 0 <= t.indexOf("]") ? (s = {
                            debug_caller: "InitAlias",
                            caller_name: n,
                            error_message: "Alias name must not contain '.', '[' or ']' signs: '" + t + "'"
                        },
                        this.ShowError(s)) : null == this.Aliases[t] ? ((i = new Object).js = e,
                        i.dotstring = e.split("[").join(".["),
                        this.Aliases[t] = i) : (s = {
                            debug_caller: "InitAlias",
                            caller_name: n,
                            error_message: "Alias '" + t + "' already exists"
                        },
                        this.ShowError(s)) : (s = {
                            debug_caller: "InitAlias",
                            caller_name: n,
                            error_message: "Javascript string of alias '" + t + "' must not be empty."
                        },
                        this.ShowError(s))
                    },
                    SetAlias: function(e, i) {
                        var s = "'Set alias' action"
                          , n = this.ParseJS(e, !0, "'Set alias' action");
                        if (n.alias_found) {
                            if (!n.error)
                                try {
                                    n.context[n.endname] = i
                                } catch (t) {
                                    var r = e + "=";
                                    "string" == typeof i ? r = r + "'" + i + "'" : r += i;
                                    r = {
                                        debug_caller: "SetAlias",
                                        caller_name: s,
                                        "show-alias-expression": !0,
                                        alias_expression: n.trimmed_code,
                                        "show-code": !0,
                                        code: r,
                                        error_message: t.message
                                    };
                                    return void this.ShowError(r)
                                }
                        } else {
                            var r = {
                                debug_caller: "SetAlias",
                                caller_name: s,
                                error_message: "No such alias '" + n.trimmed_code + "'"
                            };
                            this.ShowError(r)
                        }
                    },
                    CallAlias: function(t, e, i, s) {
                        this.CallAlias(t, e, i, s)
                    }
                }, k;
                for (k in ActsObject)
                    Acts.prototype[k] = ActsObject[k];
                function Exps() {}
                pluginProto.acts = new Acts;
                var ExpsObject = {
                    JSCodeValue: function() {
                        var params_ = Array.prototype.slice.call(arguments), ret;
                        if (__CONSTRUCT3_RUNTIME3__)
                            ret = {
                                set_int: function() {},
                                set_float: function() {},
                                set_string: function() {},
                                set_any: function() {}
                            };
                        else {
                            ret = params_[0];
                            for (var i = 0; i < params_.length - 1; i++)
                                params_[i] = params_[i + 1];
                            params_.pop()
                        }
                        var code_ = params_[0]
                          , caller_name_ = "'JSCodeValue' expression"
                          , jscode = code_;
                        params_.splice(0, 1),
                        params_.length && (jscode = HashtagParamsToCode(jscode, params_));
                        var jsret = void 0;
                        try {
                            jsret = eval(jscode)
                        } catch (err) {
                            return this.ShowError({
                                debug_caller: "JSCodeValue",
                                caller_name: caller_name_,
                                "show-code": !0,
                                code: jscode,
                                error_message: err.message
                            }),
                            void ret.set_any(void 0)
                        }
                        if ("boolean" == typeof jsret) {
                            if (ret.set_any(jsret ? 1 : 0),
                            __CONSTRUCT3_RUNTIME3__)
                                return jsret ? 1 : 0
                        } else if (ret.set_any(jsret),
                        __CONSTRUCT3_RUNTIME3__)
                            return jsret
                    },
                    StoredReturnValue: function() {
                        var t, e = Array.prototype.slice.call(arguments);
                        if (__CONSTRUCT3_RUNTIME3__)
                            t = {
                                set_int: function() {},
                                set_float: function() {},
                                set_string: function() {},
                                set_any: function() {}
                            };
                        else {
                            t = e[0];
                            for (var i = 0; i < e.length - 1; i++)
                                e[i] = e[i + 1];
                            e.pop()
                        }
                        if ("boolean" == typeof this.returnValue) {
                            if (t.set_any(this.returnValue ? 1 : 0),
                            __CONSTRUCT3_RUNTIME3__)
                                return this.returnValue ? 1 : 0
                        } else if (t.set_any(this.returnValue),
                        __CONSTRUCT3_RUNTIME3__)
                            return this.returnValue
                    },
                    FunctionReturnValue: function() {
                        var t, e = Array.prototype.slice.call(arguments);
                        if (__CONSTRUCT3_RUNTIME3__)
                            t = {
                                set_int: function() {},
                                set_float: function() {},
                                set_string: function() {},
                                set_any: function() {}
                            };
                        else {
                            t = e[0];
                            for (var i = 0; i < e.length - 1; i++)
                                e[i] = e[i + 1];
                            e.pop()
                        }
                        var s = e[0]
                          , n = "'FunctionReturnValue' expression"
                          , r = this.ParseJS(s, !1, n);
                        if (e.splice(0, 1),
                        r.error)
                            t.set_any(void 0);
                        else {
                            var o = void 0;
                            if ("boolean" == typeof (o = this.CallJSfunction(s, e, !1, n, r))) {
                                if (t.set_any(o ? 1 : 0),
                                __CONSTRUCT3_RUNTIME3__)
                                    return o ? 1 : 0
                            } else if (t.set_any(o),
                            __CONSTRUCT3_RUNTIME3__)
                                return o
                        }
                    },
                    Value: function() {
                        var t, e = Array.prototype.slice.call(arguments);
                        if (__CONSTRUCT3_RUNTIME3__)
                            t = {
                                set_int: function() {},
                                set_float: function() {},
                                set_string: function() {},
                                set_any: function() {}
                            };
                        else {
                            t = e[0];
                            for (var i = 0; i < e.length - 1; i++)
                                e[i] = e[i + 1];
                            e.pop()
                        }
                        var s = this.Value("'Value' expression", e);
                        if ("boolean" == typeof s) {
                            if (t.set_any(s ? 1 : 0),
                            __CONSTRUCT3_RUNTIME3__)
                                return s ? 1 : 0
                        } else if (t.set_any(s),
                        __CONSTRUCT3_RUNTIME3__)
                            return s
                    },
                    AliasValue: function() {
                        var e, t = Array.prototype.slice.call(arguments);
                        if (__CONSTRUCT3_RUNTIME3__)
                            e = {
                                set_int: function() {},
                                set_float: function() {},
                                set_string: function() {},
                                set_any: function() {}
                            };
                        else {
                            e = t[0];
                            for (var i = 0; i < t.length - 1; i++)
                                t[i] = t[i + 1];
                            t.pop()
                        }
                        var s = t[0]
                          , n = "'AliasValue' expression"
                          , r = this.ParseJS(s, !0, n);
                        if (!r.alias_found) {
                            var o = {
                                debug_caller: "AliasValue",
                                caller_name: n,
                                error_message: "No such alias '" + r.trimmed_code + "'"
                            };
                            return this.ShowError(o),
                            void e.set_any(void 0)
                        }
                        if (r.error)
                            e.set_any(void 0);
                        else {
                            var a = void 0;
                            try {
                                a = r.end
                            } catch (t) {
                                o = {
                                    debug_caller: "AliasValue",
                                    caller_name: n,
                                    "show-alias-expression": !0,
                                    alias_expression: r.trimmed_code,
                                    error_message: t.message
                                };
                                return this.ShowError(o),
                                void e.set_any(void 0)
                            }
                            if ("boolean" == typeof a) {
                                if (e.set_any(a ? 1 : 0),
                                __CONSTRUCT3_RUNTIME3__)
                                    return a ? 1 : 0
                            } else if (e.set_any(a),
                            __CONSTRUCT3_RUNTIME3__)
                                return a
                        }
                    },
                    AliasCallReturnValue: function() {
                        var t, e = Array.prototype.slice.call(arguments);
                        if (__CONSTRUCT3_RUNTIME3__)
                            t = {
                                set_int: function() {},
                                set_float: function() {},
                                set_string: function() {},
                                set_any: function() {}
                            };
                        else {
                            t = e[0];
                            for (var i = 0; i < e.length - 1; i++)
                                e[i] = e[i + 1];
                            e.pop()
                        }
                        var s = e[0]
                          , n = "'AliasCallValue' expression"
                          , r = this.ParseJS(s, !0, n);
                        if (e.splice(0, 1),
                        !r.alias_found) {
                            var o = {
                                debug_caller: "AliasCallValue",
                                caller_name: n,
                                error_message: "No such alias '" + r.trimmed_code + "'"
                            };
                            return this.ShowError(o),
                            void t.set_any(void 0)
                        }
                        if (r.error)
                            t.set_any(void 0);
                        else {
                            o = void 0;
                            if ("boolean" == typeof (o = this.CallJSfunction(s, e, !1, n, r))) {
                                if (t.set_any(o ? 1 : 0),
                                __CONSTRUCT3_RUNTIME3__)
                                    return o ? 1 : 0
                            } else if (t.set_any(o),
                            __CONSTRUCT3_RUNTIME3__)
                                return o
                        }
                    }
                }, k;
                for (k in ExpsObject)
                    Exps.prototype[k] = ExpsObject[k];
                pluginProto.exps = new Exps,
                instanceProto.EXPS = pluginProto.exps,
                instanceProto.CNDS = pluginProto.cnds,
                instanceProto.ACTS = pluginProto.acts
            }(),
            cr.plugins_.aekiro_model = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.aekiro_model.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i(t) {
                    if (null == t)
                        return -1;
                    if ("number" == typeof t || "string" == typeof t)
                        return 0;
                    if (null != t.length)
                        return t.length;
                    var e, i = 0;
                    for (e in t)
                        i += 1;
                    return i
                }
                function l(t, e) {
                    return t = !0 === t ? 1 : !1 === t ? 0 : null == t || null == t ? null != e && null != e ? e : 0 : "object" == typeof t ? JSON.stringify(t) : t
                }
                e.onCreate = function() {
                    if (this.tag = this.properties[0],
                    this.lang_root = this.properties[1],
                    this.hashtable = {},
                    this.currentEntry = this.hashtable,
                    this.exp_CurKey = "",
                    this.exp_CurValue = 0,
                    this.exp_Loopindex = 0,
                    this.uiType = "model",
                    this.linkedBehaviors = [],
                    this.linkedBehaviors_lastResetTick = 0,
                    this.linkedLabels = [],
                    this.linkedLabels_lastResetTick = 0,
                    this.lang_code = "",
                    this.hashtable = {},
                    this.tag) {
                        if (!cr.proui)
                            throw new Error("ProUI Plugin not found. Please add it to the project.");
                        cr.proui.addTag(this.tag, this)
                    }
                    this.proui = cr.proui,
                    this.model_plugin = cr.plugins_.aekiro_model.prototype;
                    var s = this;
                    window.aekiro_model_value_set = function(t, e, i) {
                        t = s.proui.tags[t];
                        s.model_plugin.acts.SetValueByKeyString.call(t, e, i)
                    }
                    ,
                    window.aekiro_model_json_set = function(t, e, i) {
                        t = s.proui.tags[t];
                        s.model_plugin.acts.SetJSONByKeyString.call(t, e, i)
                    }
                    ,
                    window.aekiro_model = function(t, e, i) {
                        t = s.proui.tags[t];
                        s.model_plugin.acts[e].apply(t, i)
                    }
                }
                ,
                e.registerBehavior = function(t) {
                    this.runtime.extra.notRegister || (this.runtime.changelayout && this.linkedBehaviors_lastResetTick != this.runtime.tickcount && (this.linkedBehaviors.length = 0,
                    this.linkedBehaviors_lastResetTick = this.runtime.tickcount),
                    this.linkedBehaviors.push(t))
                }
                ,
                e.registerLabel = function(t) {
                    this.runtime.extra.notRegister || (this.runtime.changelayout && this.linkedLabels_lastResetTick != this.runtime.tickcount && (this.linkedLabels.length = 0,
                    this.linkedLabels_lastResetTick = this.runtime.tickcount),
                    this.linkedLabels.push(t))
                }
                ,
                e.unregisterBehavior = function(t) {
                    this.removeFromArray(this.linkedBehaviors, t)
                }
                ,
                e.unregisterLabel = function(t) {
                    this.removeFromArray(this.linkedLabels, t)
                }
                ,
                e.removeFromArray = function(t, e) {
                    for (var i = 0, s = t.length; i < s; i++)
                        if (t[i] == e)
                            return void t.splice(i, 1)
                }
                ,
                e.notifyBehaviorModels = function(t, e) {
                    var i = null;
                    e && (i = e.except);
                    var s = this.linkedBehaviors;
                    if (s.length)
                        for (var n, r, o = 0, a = s.length; o < a; o++)
                            s[o] != i ? "root" != t && "root" != s[o].modelKey && (n = s[o].modelKey,
                            r = t,
                            null == n || null == r || n != r && n.slice(0, r.length + 1) != r + "." && r.slice(0, n.length + 1) != n + ".") || s[o].setElementValue(this.getValue(s[o].modelKey), e) : console.log("except :" + i.inst.uid)
                }
                ,
                e.updateLabels = function() {
                    var t = this.linkedLabels;
                    if (t) {
                        var e = this.lang_root ? this.lang_root + "." + this.lang_code : this.lang_code
                          , i = this.getValue(e);
                        if (i)
                            for (var s = 0, n = t.length; s < n; s++)
                                null != (i = this.getValue(e + "." + t[s].modelKey)) && t[s]._setValue(i)
                    }
                }
                ,
                e.getLocalisedLabel = function(t) {
                    var e = this.lang_root ? this.lang_root + "." + this.lang_code : this.lang_code;
                    return this.getValue(e + "." + t)
                }
                ,
                e.cleanAll = function() {
                    for (var t in this.hashtable)
                        delete this.hashtable[t];
                    this.currentEntry = this.hashtable
                }
                ,
                e.getEntry = function(t, e) {
                    var i, s = e || this.hashtable;
                    if (!t || "" === t || "root" == t || 0 == t.length)
                        return s;
                    "string" == typeof t && (t = t.split("."));
                    for (var n = 0, r = t.length; n < r; n++) {
                        if (i = t[n],
                        u(s)) {
                            var o = parseInt(i);
                            if (o < 0 || o >= s.length)
                                throw console.error("MODEL %s: setting item %s while array only have %s !", this.uid, o, s.length),
                                "err"
                        }
                        null != s[i] && "object" == typeof s[i] || (s[i] = {}),
                        s = s[i]
                    }
                    return s
                }
                ,
                e.getValue = function(t, e) {
                    var i, s = e || this.hashtable;
                    if (!t || "" === t || "root" == t || 0 == t.length)
                        return s;
                    "string" == typeof t && (t = t.split("."));
                    for (var n = 0, r = t.length; n < r; n++) {
                        if (i = t[n],
                        !s.hasOwnProperty(i))
                            return;
                        s = s[i]
                    }
                    return s
                }
                ,
                e.setValue = function(t, e, i) {
                    if ("" === t || 0 === t.length)
                        null !== e && "object" == typeof e && (null == i ? this.hashtable = e : i = e);
                    else {
                        null == i && (i = this.hashtable),
                        "string" == typeof t && (t = t.split("."));
                        var s = t.pop();
                        try {
                            var n = this.getEntry(t, i)
                        } catch (t) {
                            throw "err"
                        }
                        if (u(n)) {
                            var r = parseInt(s);
                            if (r < 0 || r >= n.length)
                                return void console.error("MODEL %s: setting item %s while array only have %s !", this.uid, r, n.length)
                        }
                        n[s] = e
                    }
                }
                ,
                e.removeKey = function(t) {
                    var e;
                    "" === t || 0 === t.length ? this.cleanAll() : ("string" == typeof t && (t = t.split(".")),
                    void 0 !== this.getValue(t) && (e = t.pop(),
                    t = this.getEntry(t),
                    u(t) ? e < 0 || e >= t.length || (e === t.length - 1 ? t.pop() : 0 === e ? t.shift() : t.splice(e, 1)) : delete t[e]))
                }
                ;
                var u = function(t) {
                    return t instanceof Array
                };
                function n(t) {
                    for (var e in t)
                        if (t.hasOwnProperty(e))
                            return;
                    return 1
                }
                function s() {}
                function r() {}
                function o() {}
                e.saveToJSON = function() {
                    return {
                        d: this.hashtable
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.hashtable = t.d
                }
                ,
                e.onDestroy = function() {}
                ,
                t.cnds = new s,
                s.prototype.ForEachItem = function(t) {
                    var e = this.getEntry(t)
                      , i = this.runtime.getCurrentEventStack()
                      , s = i.current_event
                      , n = i.isModifierAfterCnds();
                    for (t in this.exp_Loopindex = -1,
                    e)
                        n && this.runtime.pushCopySol(s.solModifiers),
                        this.exp_CurKey = t,
                        this.exp_CurValue = e[t],
                        this.exp_Loopindex++,
                        s.retrigger(),
                        n && this.runtime.popSol(s.solModifiers);
                    return this.exp_CurKey = "",
                    this.exp_CurValue = 0,
                    !1
                }
                ,
                s.prototype.KeyExists = function(t) {
                    return "" != t && void 0 !== this.getValue(t)
                }
                ,
                s.prototype.IsEmpty = function(t) {
                    t = this.getEntry(t);
                    return i(t) <= 0
                }
                ,
                t.acts = new r,
                r.prototype.SetValueByKeyString = function(t, e, i) {
                    if ("" != t && "root" != t) {
                        try {
                            this.setValue(t, e)
                        } catch (t) {
                            return
                        }
                        (i = i || {}).op = 4,
                        i.key = t,
                        i.value = e,
                        this.notifyBehaviorModels(t, i)
                    } else
                        console.error("MODEL %s: You can't set the root to a simple value !", this.tag)
                }
                ,
                r.prototype.SetJSONByKeyString = function(e, i) {
                    if (null === (t = i) || "function" != typeof t && "object" != typeof t)
                        try {
                            i = JSON.parse(i)
                        } catch (t) {
                            return console.error("MODEL %s: SetJSONByKeyString() **** The json you are trying to set is not valid !"),
                            console.error("key = %s", e),
                            console.error("value = %s", i),
                            void console.error("********************* ")
                        }
                    var t;
                    try {
                        this.setValue(e, i)
                    } catch (t) {
                        return
                    }
                    this.notifyBehaviorModels(e, {
                        op: 2
                    })
                }
                ,
                r.prototype.AddToValueByKeyString = function(t, e, i) {
                    if ("" !== t) {
                        var s = t.split(".")
                          , n = this.getValue(s) || 0;
                        try {
                            this.setValue(s, n + e)
                        } catch (t) {
                            return
                        }
                        i = i || {},
                        e = this.getValue(t) || 0,
                        i.op = 4,
                        i.key = t,
                        i.value = e,
                        this.notifyBehaviorModels(t, i)
                    }
                }
                ,
                r.prototype.PushValue = function(t, e) {
                    var i = this.getEntry(t);
                    null != i && !n(i) || (this.setValue(t, []),
                    i = this.getEntry(t)),
                    u(i) ? (i.push(e),
                    this.notifyBehaviorModels(t, {
                        op: 1
                    })) : console.log("not an array")
                }
                ,
                r.prototype.PushJSON = function(t, e) {
                    try {
                        e = JSON.parse(e)
                    } catch (t) {
                        return void console.error("MODEL PLugin: The json you are trying to push is not valid !")
                    }
                    r.prototype.PushValue.call(this, t, e)
                }
                ,
                r.prototype.InsertValue = function(t, e, i) {
                    var s = this.getEntry(t);
                    null != s && !n(s) || (this.setValue(t, []),
                    s = this.getEntry(t)),
                    u(s) ? s.length < i ? console.error("MODEL PLugin: Can't insert item at %s while array only has %s !", i, s.length) : (s.splice(i, 0, e),
                    this.notifyBehaviorModels(t, {
                        op: 3,
                        idx: i
                    })) : console.log(this.hashtable)
                }
                ,
                r.prototype.InsertJSON = function(t, e, i) {
                    try {
                        e = JSON.parse(e)
                    } catch (t) {
                        return void console.error("MODEL PLugin: The json you are trying to insert is not valid !")
                    }
                    r.prototype.InsertValue.call(this, t, e, i)
                }
                ,
                r.prototype.RemoveItemByIndex = function(t, e) {
                    var i = this.getEntry(t);
                    null != i && !n(i) && u(i) ? e < 0 || e >= i.length || (e === i.length - 1 ? i.pop() : 0 === e ? i.shift() : i.splice(e, 1),
                    this.notifyBehaviorModels(t, {
                        op: -1,
                        idx: e
                    })) : console.log("The value at key = " + t + " is empty or not an array")
                }
                ,
                r.prototype.RemoveByKeyString = function(t) {
                    this.removeKey(t),
                    this.notifyBehaviorModels(t)
                }
                ,
                r.prototype.CleanAll = function() {
                    this.cleanAll(),
                    this.notifyBehaviorModels("root")
                }
                ,
                r.prototype.StringToHashTable = function(t) {
                    if ("" != t) {
                        try {
                            this.hashtable = JSON.parse(t)
                        } catch (t) {
                            return void console.error("MODEL PLugin: The json you are trying to load is not valid !", t)
                        }
                        this.notifyBehaviorModels("root", {
                            op: 2
                        })
                    } else
                        this.cleanAll()
                }
                ,
                r.prototype.SetLanguage = function(t) {
                    this.lang_code = t,
                    this.updateLabels()
                }
                ,
                t.exps = new o,
                o.prototype.at = function(t, e, i) {
                    e = e.split(".");
                    i = l(this.getValue(e), i);
                    t.set_any(i)
                }
                ,
                o.prototype.arrayValueByValue = function(t, e, i, s, n, r) {
                    var o = this.getValue(e)
                      , a = 0;
                    if (!u(o))
                        return console.log("not an array"),
                        void t.set_any(a);
                    for (var h = 0, c = o.length; h < c; h++)
                        if (this.getValue(i, o[h]) == s) {
                            a = this.getValue(n, o[h]);
                            break
                        }
                    a = l(a, r),
                    t.set_any(a)
                }
                ,
                o.prototype.curKey = function(t) {
                    t.set_string(this.exp_CurKey)
                }
                ,
                o.prototype.curValue = function(t, e, i) {
                    e = this.getValue(e, this.exp_CurValue),
                    e = l(e, i);
                    t.set_any(e)
                }
                ,
                o.prototype.loopindex = function(t) {
                    t.set_int(this.exp_Loopindex)
                }
                ,
                o.prototype.asJSON = function(t) {
                    var e = JSON.stringify(this.hashtable);
                    t.set_string(e)
                }
                ,
                o.prototype.makeJSON = function(t) {
                    var e = {};
                    if (1 < arguments.length)
                        for (var i = arguments.length, s = 1; s < i; s += 2)
                            e[arguments[s]] = arguments[s + 1];
                    t.set_string(JSON.stringify(e))
                }
                ,
                o.prototype.makeArray = function(t) {
                    var e = [];
                    if (1 < arguments.length)
                        for (var i = arguments.length, s = 1; s < i; s++)
                            e.push(arguments[s]);
                    t.set_string(JSON.stringify(e))
                }
                ,
                o.prototype.pop = function(t, e, i) {
                    e = this.getEntry(e),
                    i = null == e ? 0 : null == i || i === e.length - 1 ? e.pop() : e.splice(i, 1);
                    t.set_any(l(i))
                }
                ,
                o.prototype.shift = function(t, e) {
                    e = this.getEntry(e),
                    e = null == e ? 0 : e.shift();
                    t.set_any(l(e))
                }
                ,
                o.prototype.itemCnt = function(t, e) {
                    e = i(this.getValue(e));
                    t.set_int(e)
                }
            }(),
            cr.plugins_.aekiro_proui2 = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.aekiro_proui2.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    this.touches = [],
                    this.mouseDown = !1,
                    this.touchDown = !1,
                    this.cursor = {
                        x: null,
                        y: null
                    },
                    this._callbackObjs = {},
                    this._callbackObjs.touch = [],
                    this._callbackObjs.wheel = [],
                    this.handled = !1
                }
                ;
                var e = t.Instance.prototype
                  , g = {
                    left: 0,
                    top: 0
                };
                e.findTouch = function(t) {
                    for (var e = 0, i = this.touches.length; e < i; e++)
                        if (this.touches[e].id === t)
                            return e;
                    return -1
                }
                ;
                var r = [];
                function c(t, e, i, s) {
                    var n = r.length ? r.pop() : new o;
                    return n.init(t, e, i, s),
                    n
                }
                function a(t) {
                    r.length < 100 && r.push(t)
                }
                function o() {
                    this.starttime = 0,
                    this.time = 0,
                    this.lasttime = 0,
                    this.startx = 0,
                    this.starty = 0,
                    this.x = 0,
                    this.y = 0,
                    this.lastx = 0,
                    this.lasty = 0,
                    this.id = 0,
                    this.startindex = 0,
                    this.triggeredHold = !1,
                    this.tooFarForHold = !1
                }
                o.prototype.init = function(t, e, i, s) {
                    var n = cr.performance_now();
                    this.time = n,
                    this.lasttime = n,
                    this.starttime = n,
                    this.startx = t,
                    this.starty = e,
                    this.x = t,
                    this.y = e,
                    this.lastx = t,
                    this.lasty = e,
                    this.width = 0,
                    this.height = 0,
                    this.pressure = 0,
                    this.id = i,
                    this.startindex = s,
                    this.triggeredHold = !1,
                    this.tooFarForHold = !1
                }
                ,
                o.prototype.update = function(t, e, i, s, n, r) {
                    this.lasttime = this.time,
                    this.time = t,
                    this.lastx = this.x,
                    this.lasty = this.y,
                    this.x = e,
                    this.y = i,
                    this.width = s,
                    this.height = n,
                    this.pressure = r,
                    !this.tooFarForHold && 15 <= cr.distanceTo(this.startx, this.starty, this.x, this.y) && (this.tooFarForHold = !0)
                }
                ;
                var s = -1e3
                  , n = -1e3
                  , h = -1e4;
                function l(t, e) {
                    for (var i = 0, s = t.behavior_insts.length; i < s; i++)
                        if (t.behavior_insts[i]instanceof e.Instance)
                            return t.behavior_insts[i];
                    return null
                }
                function u(t, e) {
                    for (var i, s, n, r, o = this.my_instances.valuesRef(), a = 0, h = o.length; a < h; a++)
                        (i = o[a]) && i.layer.visible && i.visible && (n = i.layer.canvasToLayer(t, e, !0),
                        r = i.layer.canvasToLayer(t, e, !1),
                        i.update_bbox(),
                        (s = l(i, this)).OnAnyTouchStart && s.OnAnyTouchStart(),
                        i.contains_pt(n, r) && s.OnTouchStart && s.OnTouchStart(n, r))
                }
                function f(t, e) {
                    for (var i, s, n, r, o = this.my_instances.valuesRef(), a = 0, h = o.length; a < h; a++)
                        (i = o[a]) && i.layer.visible && i.visible && (n = i.layer.canvasToLayer(t, e, !0),
                        r = i.layer.canvasToLayer(t, e, !1),
                        i.update_bbox(),
                        s = l(i, this),
                        i.contains_pt(n, r) && s.OnTouchMove && s.OnTouchMove(n, r))
                }
                function p(t, e) {
                    for (var i, s, n, r = this.my_instances.valuesRef(), o = 0, a = r.length; o < a; o++)
                        (i = r[o]) && (s = i.layer.canvasToLayer(t, e, !0),
                        n = i.layer.canvasToLayer(t, e, !1),
                        (i = l(i, this)).OnAnyTouchEnd && i.OnAnyTouchEnd(s, n))
                }
                function d(t) {
                    for (var e, i, s = this.my_instances.valuesRef(), n = 0, r = s.length; n < r; n++)
                        (e = s[n]) && (i = l(e, this)).OnWheel && i.OnWheel(t)
                }
                function i() {}
                function m() {}
                o.prototype.maybeTriggerTap = function(t, e) {
                    var i;
                    this.triggeredHold || (i = cr.performance_now()) - this.starttime <= 333 && !this.tooFarForHold && cr.distanceTo(this.startx, this.starty, this.x, this.y) < 15 && (t.trigger_index = this.startindex,
                    t.trigger_id = this.id,
                    t.getTouchIndex = e,
                    h = i - h <= 666 && cr.distanceTo(s, n, this.x, this.y) < 25 ? (t.curTouchX = this.x,
                    t.curTouchY = this.y,
                    n = s = -1e3,
                    -1e4) : (t.curTouchX = this.x,
                    t.curTouchY = this.y,
                    s = this.x,
                    n = this.y,
                    i),
                    t.getTouchIndex = 0)
                }
                ,
                e.onCreate = function() {
                    this.isWindows8 = !(void 0 === window.c2isWindows8 || !window.c2isWindows8),
                    this.curTouchX = 0,
                    this.curTouchY = 0,
                    this.trigger_index = 0,
                    this.trigger_id = 0,
                    this.getTouchIndex = 0,
                    this.useMouseInput = !0;
                    var t = 0 < this.runtime.fullscreen_mode ? document : this.runtime.canvas
                      , e = document;
                    this.runtime.isDirectCanvas ? e = t = window.Canvas : this.runtime.isCocoonJs && (e = t = window);
                    var i = this;
                    "undefined" != typeof PointerEvent ? (t.addEventListener("pointerdown", function(t) {
                        i.onPointerStart(t)
                    }, !1),
                    t.addEventListener("pointermove", function(t) {
                        i.onPointerMove(t)
                    }, !1),
                    e.addEventListener("pointerup", function(t) {
                        i.onPointerEnd(t, !1)
                    }, !1),
                    e.addEventListener("pointercancel", function(t) {
                        i.onPointerEnd(t, !0)
                    }, !1),
                    this.runtime.canvas && (this.runtime.canvas.addEventListener("MSGestureHold", function(t) {
                        t.preventDefault()
                    }, !1),
                    document.addEventListener("MSGestureHold", function(t) {
                        t.preventDefault()
                    }, !1),
                    this.runtime.canvas.addEventListener("gesturehold", function(t) {
                        t.preventDefault()
                    }, !1),
                    document.addEventListener("gesturehold", function(t) {
                        t.preventDefault()
                    }, !1))) : window.navigator.msPointerEnabled ? (t.addEventListener("MSPointerDown", function(t) {
                        i.onPointerStart(t)
                    }, !1),
                    t.addEventListener("MSPointerMove", function(t) {
                        i.onPointerMove(t)
                    }, !1),
                    e.addEventListener("MSPointerUp", function(t) {
                        i.onPointerEnd(t, !1)
                    }, !1),
                    e.addEventListener("MSPointerCancel", function(t) {
                        i.onPointerEnd(t, !0)
                    }, !1),
                    this.runtime.canvas && (this.runtime.canvas.addEventListener("MSGestureHold", function(t) {
                        t.preventDefault()
                    }, !1),
                    document.addEventListener("MSGestureHold", function(t) {
                        t.preventDefault()
                    }, !1))) : (t.addEventListener("touchstart", function(t) {
                        i.onTouchStart(t)
                    }, !1),
                    t.addEventListener("touchmove", function(t) {
                        i.onTouchMove(t)
                    }, !1),
                    e.addEventListener("touchend", function(t) {
                        i.onTouchEnd(t, !1)
                    }, !1),
                    e.addEventListener("touchcancel", function(t) {
                        i.onTouchEnd(t, !0)
                    }, !1)),
                    this.useMouseInput && !this.runtime.isDomFree && (jQuery(document).mousemove(function(t) {
                        i.onMouseMove(t)
                    }),
                    jQuery(document).mousedown(function(t) {
                        i.onMouseDown(t)
                    }),
                    jQuery(document).mouseup(function(t) {
                        i.onMouseUp(t)
                    })),
                    this.runtime.isDomFree || (e = function(t) {
                        i.onWheel(t)
                    }
                    ,
                    document.addEventListener("mousewheel", e, !1),
                    document.addEventListener("DOMMouseScroll", e, !1)),
                    this.runtime.tick2Me(this),
                    this.enable = !0,
                    this.lastTouchX = null,
                    this.lastTouchY = null,
                    (cr.proui = this).cssURL = this.properties[0],
                    this.fontFamily = this.properties[1],
                    this.defaultSoundTag = this.properties[2],
                    this.useHowler = 0 === this.properties[3],
                    this.firstFrame = !0;
                    this.runtime;
                    this.toBeDestroyed = [],
                    this.currentDialogs = [],
                    this.currentDialogs_lastResetTick = 0,
                    this.tags = {},
                    this.tags_lastResetTick = 0,
                    this.scrollViews = {},
                    this.iter = 0,
                    this.notRegister = !1,
                    this.areInputsActive = !0
                }
                ,
                e.getIter = function() {
                    return this.iter++,
                    this.iter
                }
                ,
                e.setNoRegister = function() {}
                ,
                e.addTag = function(t, e) {
                    this.runtime.extra || (this.runtime.extra = {}),
                    !this.runtime.extra.notRegister && t && (this.tags.hasOwnProperty(t) ? console.error("PROUI: Tag %s already exist !", t) : this.tags[t] = e)
                }
                ,
                e.removeTag = function(t) {
                    delete this.tags[t]
                }
                ,
                e.addDialog = function(t) {
                    this.runtime.changelayout && this.currentDialogs_lastResetTick != this.runtime.tickcount && (this.currentDialogs.length = 0,
                    this.currentDialogs_lastResetTick = this.runtime.tickcount),
                    this.currentDialogs.push(t)
                }
                ,
                e.isModalDialogOpened = function() {
                    for (var t = 0; t < this.currentDialogs.length; t++)
                        if (this.currentDialogs[t].isModal)
                            return !0;
                    return !1
                }
                ,
                e.removeDialog = function(t) {
                    this.removeFromArray(this.currentDialogs, t)
                }
                ,
                e.removeFromArray = function(t, e) {
                    for (var i = 0, s = t.length; i < s; i++)
                        if (t[i] == e)
                            return void t.splice(i, 1)
                }
                ,
                e.clearDestroyList = function() {
                    for (var t = this.toBeDestroyed, e = 0, i = t.length; e < i; e++)
                        this.runtime.DestroyInstance(t[e]);
                    t.length = 0
                }
                ,
                e.playAudio = function(t) {
                    var e, i;
                    this.useHowler ? (this.getDependency(cr.plugins_.skymenhowlerjs, "howler"),
                    this.howler ? cr.plugins_.skymenhowlerjs.prototype.acts.PlayByName.call(this.howler, t, this.defaultSoundTag) : console.error("ProUI: Please add the Howler plugin to the project.")) : (this.getDependency(cr.plugins_.Audio, "audio"),
                    this.audio ? (e = {
                        val: 0,
                        set_float: function(t) {
                            e.val = t
                        }
                    },
                    cr.plugins_.Audio.prototype.exps.Volume.call(this.audio, e, this.defaultSoundTag),
                    i = e.val,
                    cr.plugins_.Audio.prototype.acts.PlayByName.call(this.audio, 0, t, 0, i, this.defaultSoundTag)) : console.error("ProUI: Please add the Audio plugin to the project."))
                }
                ,
                e.getDependency = function(t, e) {
                    if (null != this[e])
                        return this[e];
                    if (t) {
                        var i, s, n = this.runtime.types;
                        for (i in n)
                            if ((s = n[i].instances[0])instanceof t.prototype.Instance)
                                return this[e] = s,
                                this[e];
                        this[e] || console.error("ProUI: Can not find " + e + " object.")
                    } else
                        console.error("ProUI: Can not find the " + e + " object.")
                }
                ,
                e.isTypeValid = function(t, e, i) {
                    for (var s = 0, n = e.length; s < n; s++)
                        if (!!e[s] && t.type.plugin instanceof e[s])
                            return;
                    throw new Error(i)
                }
                ,
                e.runCallback = function(t, e) {
                    var i;
                    "" != t && (i = e.split(","),
                    (e = window.c2_callFunction) ? e(t, i) : console.error("ProUI : Please add the Function plugin to the project."))
                }
                ,
                e.validateSimpleValue = function(t, e) {
                    t = !0 === t ? 1 : !1 === t ? 0 : null == t || null == t || "object" == typeof t ? null != e && null != e ? e : 0 : t;
                    return t
                }
                ,
                e.HookMe = function(t, e) {
                    for (var i, s = 0, n = e.length; s < n; s++)
                        i = e[s],
                        this._callbackObjs[i].push(t)
                }
                ,
                e.UnHookMe = function(t, e) {
                    for (var i, s = 0, n = e.length; s < n; s++)
                        i = e[s],
                        cr.arrayFindRemove(this._callbackObjs[i], t)
                }
                ,
                e.onWheel = function(t) {
                    var e = t.wheelDelta || (t.detail ? -t.detail : 0);
                    this.triggerDir = e < 0 ? 0 : 1,
                    this.handled = !1,
                    this.runtime.isInUserInputEvent = !0;
                    for (var i = 0, s = this._callbackObjs.wheel.length; i < s; i++)
                        this.handled = !0,
                        d.call(this._callbackObjs.wheel[i], this.triggerDir);
                    this.runtime.isInUserInputEvent = !1,
                    this.handled && cr.isCanvasInputEvent(t) && t.preventDefault()
                }
                ,
                e.onPointerMove = function(t) {
                    if (this.enable && t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType) {
                        t.preventDefault && t.preventDefault();
                        var e = this.findTouch(t.pointerId)
                          , i = cr.performance_now();
                        if (0 <= e) {
                            var s = this.runtime.isDomFree ? g : jQuery(this.runtime.canvas).offset()
                              , e = this.touches[e];
                            if (!(i - e.time < 2)) {
                                e.update(i, t.pageX - s.left, t.pageY - s.top, t.width || 0, t.height || 0, t.pressure || 0);
                                for (var n = t.pageX - s.left, r = t.pageY - s.top, o = this._callbackObjs.touch.length, a = 0; a < o; a++)
                                    f.call(this._callbackObjs.touch[a], n, r)
                            }
                        }
                    }
                }
                ,
                e.onPointerStart = function(t) {
                    if (this.enable && t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType) {
                        t.preventDefault && cr.isCanvasInputEvent(t) && t.preventDefault();
                        var e = this.runtime.isDomFree ? g : jQuery(this.runtime.canvas).offset()
                          , i = t.pageX - e.left
                          , e = t.pageY - e.top;
                        cr.performance_now();
                        this.trigger_index = this.touches.length,
                        this.trigger_id = t.pointerId,
                        this.touches.push(c(i, e, t.pointerId, this.trigger_index)),
                        this.runtime.isInUserInputEvent = !0,
                        this.curTouchX = i,
                        this.curTouchY = e;
                        for (var s = this._callbackObjs.touch.length, n = 0; n < s; n++)
                            u.call(this._callbackObjs.touch[n], this.curTouchX, this.curTouchY);
                        this.runtime.isInUserInputEvent = !1
                    }
                }
                ,
                e.onPointerEnd = function(t, e) {
                    if (this.enable && t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType) {
                        t.preventDefault && cr.isCanvasInputEvent(t) && t.preventDefault();
                        t = this.findTouch(t.pointerId);
                        this.trigger_index = 0 <= t ? this.touches[t].startindex : -1,
                        this.trigger_id = 0 <= t ? this.touches[t].id : -1,
                        this.runtime.isInUserInputEvent = !0,
                        0 <= t && (this.lastTouchX = this.touches[t].x,
                        this.lastTouchY = this.touches[t].y);
                        for (var i = this._callbackObjs.touch.length, s = 0; s < i; s++)
                            p.call(this._callbackObjs.touch[s], this.lastTouchX, this.lastTouchY);
                        0 <= t && (e || this.touches[t].maybeTriggerTap(this, t),
                        a(this.touches[t]),
                        this.touches.splice(t, 1)),
                        this.runtime.isInUserInputEvent = !1
                    }
                }
                ,
                e.onTouchMove = function(t) {
                    if (this.enable) {
                        t.preventDefault && t.preventDefault();
                        for (var e, i = cr.performance_now(), s = this._callbackObjs.touch.length, n = 0, r = t.changedTouches.length; n < r; n++) {
                            e = t.changedTouches[n];
                            var o = this.findTouch(e.identifier);
                            if (0 <= o) {
                                var a, h = this.runtime.isDomFree ? g : jQuery(this.runtime.canvas).offset();
                                if (!(i - (a = this.touches[o]).time < 2)) {
                                    var c = 2 * (e.radiusX || e.webkitRadiusX || e.mozRadiusX || e.msRadiusX || 0)
                                      , l = 2 * (e.radiusY || e.webkitRadiusY || e.mozRadiusY || e.msRadiusY || 0)
                                      , o = e.force || e.webkitForce || e.mozForce || e.msForce || 0;
                                    a.update(i, e.pageX - h.left, e.pageY - h.top, c, l, o);
                                    for (var u = e.pageX - h.left, p = e.pageY - h.top, d = 0; d < s; d++)
                                        f.call(this._callbackObjs.touch[d], u, p)
                                }
                            }
                        }
                    }
                }
                ,
                e.onTouchStart = function(t) {
                    if (this.enable) {
                        t.preventDefault && cr.isCanvasInputEvent(t) && t.preventDefault();
                        var e, i = this.runtime.isDomFree ? g : jQuery(this.runtime.canvas).offset();
                        cr.performance_now();
                        this.runtime.isInUserInputEvent = !0;
                        for (var s, n = this._callbackObjs.touch.length, r = 0, o = t.changedTouches.length; r < o; r++)
                            if (e = t.changedTouches[r],
                            -1 === this.findTouch(e.identifier)) {
                                var a = e.pageX - i.left
                                  , h = e.pageY - i.top;
                                for (this.trigger_index = this.touches.length,
                                this.trigger_id = e.identifier,
                                this.touches.push(c(a, h, e.identifier, this.trigger_index)),
                                s = 0; s < n; s++)
                                    u.call(this._callbackObjs.touch[s], a, h)
                            }
                        this.runtime.isInUserInputEvent = !1
                    }
                }
                ,
                e.onTouchEnd = function(t, e) {
                    if (this.enable) {
                        var i;
                        t.preventDefault && cr.isCanvasInputEvent(t) && t.preventDefault(),
                        this.runtime.isInUserInputEvent = !0;
                        for (var s, n = this._callbackObjs.touch.length, r = 0, o = t.changedTouches.length; r < o; r++)
                            if (i = t.changedTouches[r],
                            0 <= (i = this.findTouch(i.identifier))) {
                                for (this.trigger_index = this.touches[i].startindex,
                                this.trigger_id = this.touches[i].id,
                                this.lastTouchX = this.touches[i].x,
                                this.lastTouchY = this.touches[i].y,
                                s = 0; s < n; s++)
                                    p.call(this._callbackObjs.touch[s], this.lastTouchX, this.lastTouchY);
                                e || this.touches[i].maybeTriggerTap(this, i),
                                a(this.touches[i]),
                                this.touches.splice(i, 1)
                            }
                        this.runtime.isInUserInputEvent = !1
                    }
                }
                ,
                e.updateCursor = function(t) {
                    var e = this.runtime.isDomFree ? g : jQuery(this.runtime.canvas).offset();
                    this.cursor.x = t.pageX - e.left,
                    this.cursor.y = t.pageY - e.top
                }
                ,
                e.onMouseDown = function(t) {
                    var e;
                    this.enable && (this.updateCursor(t),
                    this.mouseDown = !0,
                    t.preventDefault && this.runtime.had_a_click && !this.runtime.isMobile && t.preventDefault(),
                    -1 !== (e = this.findTouch(0)) && (a(this.touches[e]),
                    cr.arrayRemove(this.touches, e)),
                    t = {
                        changedTouches: [{
                            pageX: t.pageX,
                            pageY: t.pageY,
                            identifier: 0
                        }]
                    },
                    this.onTouchStart(t))
                }
                ,
                e.onMouseMove = function(t) {
                    this.enable && (this.updateCursor(t),
                    this.mouseDown && (t = {
                        changedTouches: [{
                            pageX: t.pageX,
                            pageY: t.pageY,
                            identifier: 0
                        }]
                    },
                    this.onTouchMove(t)))
                }
                ,
                e.onMouseUp = function(t) {
                    this.enable && (this.updateCursor(t),
                    this.mouseDown = !1,
                    t.preventDefault && this.runtime.had_a_click && !this.runtime.isMobile && t.preventDefault(),
                    this.runtime.had_a_click = !0,
                    t = {
                        changedTouches: [{
                            pageX: t.pageX,
                            pageY: t.pageY,
                            identifier: 0
                        }]
                    },
                    this.onTouchEnd(t))
                }
                ,
                e.tick2 = function() {
                    if (this.enable) {
                        for (var t, e = cr.performance_now(), i = 0, s = this.touches.length; i < s; ++i)
                            (t = this.touches[i]).time <= e - 50 && (t.lasttime = e);
                        this.lastTouchX = null,
                        this.lastTouchY = null
                    }
                }
                ,
                i.prototype.IsDialogOpened = function() {
                    return this.currentDialogs.length
                }
                ,
                t.cnds = new i,
                t.acts = new m,
                m.prototype.SetInputEnabled = function(t) {
                    this.enable = 1 == t
                }
                ,
                t.exps = new function() {}
                ,
                e.TouchCount = function(t) {
                    t.set_int(this.touches.length)
                }
                ,
                e.X = function(t) {
                    var e, i, s, n, r, o, a = this.getTouchIndex;
                    return a < 0 || a >= this.touches.length ? e = 0 : (cr.is_undefined(t) ? (s = (i = this.runtime.getLayerByNumber(0)).scale,
                    n = i.zoomRate,
                    r = i.parallaxX,
                    o = i.angle,
                    i.scale = 1,
                    i.zoomRate = 1,
                    i.parallaxX = 1,
                    i.angle = 0,
                    e = i.canvasToLayer(this.touches[a].x, this.touches[a].y, !0),
                    i.scale = s,
                    i.zoomRate = n,
                    i.parallaxX = r,
                    i.angle = o) : e = (i = cr.is_number(t) ? this.runtime.getLayerByNumber(t) : this.runtime.getLayerByName(t)) ? i.canvasToLayer(this.touches[a].x, this.touches[a].y, !0) : 0,
                    e)
                }
                ,
                e.XAt = function(t, e, i) {
                    var s, n, r, o, a;
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : cr.is_undefined(i) ? (n = (s = this.runtime.getLayerByNumber(0)).scale,
                    r = s.zoomRate,
                    o = s.parallaxX,
                    a = s.angle,
                    s.scale = 1,
                    s.zoomRate = 1,
                    s.parallaxX = 1,
                    s.angle = 0,
                    t.set_float(s.canvasToLayer(this.touches[e].x, this.touches[e].y, !0)),
                    s.scale = n,
                    s.zoomRate = r,
                    s.parallaxX = o,
                    s.angle = a) : (s = cr.is_number(i) ? this.runtime.getLayerByNumber(i) : this.runtime.getLayerByName(i)) ? t.set_float(s.canvasToLayer(this.touches[e].x, this.touches[e].y, !0)) : t.set_float(0)
                }
                ,
                e.XForID = function(t, e, i) {
                    var s, n, r, o, a = this.findTouch(e);
                    a < 0 ? t.set_float(0) : (s = this.touches[a],
                    cr.is_undefined(i) ? (r = (n = this.runtime.getLayerByNumber(0)).scale,
                    o = n.zoomRate,
                    e = n.parallaxX,
                    a = n.angle,
                    n.scale = 1,
                    n.zoomRate = 1,
                    n.parallaxX = 1,
                    n.angle = 0,
                    t.set_float(n.canvasToLayer(s.x, s.y, !0)),
                    n.scale = r,
                    n.zoomRate = o,
                    n.parallaxX = e,
                    n.angle = a) : (n = cr.is_number(i) ? this.runtime.getLayerByNumber(i) : this.runtime.getLayerByName(i)) ? t.set_float(n.canvasToLayer(s.x, s.y, !0)) : t.set_float(0))
                }
                ,
                e.Y = function(t) {
                    var e, i, s, n, r, o, a = this.getTouchIndex;
                    if (!(a < 0 || a >= this.touches.length))
                        return cr.is_undefined(t) ? (s = (i = this.runtime.getLayerByNumber(0)).scale,
                        n = i.zoomRate,
                        r = i.parallaxY,
                        o = i.angle,
                        i.scale = 1,
                        i.zoomRate = 1,
                        i.parallaxY = 1,
                        i.angle = 0,
                        e = i.canvasToLayer(this.touches[a].x, this.touches[a].y, !1),
                        i.scale = s,
                        i.zoomRate = n,
                        i.parallaxY = r,
                        i.angle = o) : e = (i = cr.is_number(t) ? this.runtime.getLayerByNumber(t) : this.runtime.getLayerByName(t)) ? i.canvasToLayer(this.touches[a].x, this.touches[a].y, !1) : 0,
                        e;
                    e = 0
                }
                ,
                e.YAt = function(t, e, i) {
                    var s, n, r, o, a;
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : cr.is_undefined(i) ? (n = (s = this.runtime.getLayerByNumber(0)).scale,
                    r = s.zoomRate,
                    o = s.parallaxY,
                    a = s.angle,
                    s.scale = 1,
                    s.zoomRate = 1,
                    s.parallaxY = 1,
                    s.angle = 0,
                    t.set_float(s.canvasToLayer(this.touches[e].x, this.touches[e].y, !1)),
                    s.scale = n,
                    s.zoomRate = r,
                    s.parallaxY = o,
                    s.angle = a) : (s = cr.is_number(i) ? this.runtime.getLayerByNumber(i) : this.runtime.getLayerByName(i)) ? t.set_float(s.canvasToLayer(this.touches[e].x, this.touches[e].y, !1)) : t.set_float(0)
                }
                ,
                e.YForID = function(t, e, i) {
                    var s, n, r, o, a = this.findTouch(e);
                    a < 0 ? t.set_float(0) : (s = this.touches[a],
                    cr.is_undefined(i) ? (r = (n = this.runtime.getLayerByNumber(0)).scale,
                    o = n.zoomRate,
                    e = n.parallaxY,
                    a = n.angle,
                    n.scale = 1,
                    n.zoomRate = 1,
                    n.parallaxY = 1,
                    n.angle = 0,
                    t.set_float(n.canvasToLayer(s.x, s.y, !1)),
                    n.scale = r,
                    n.zoomRate = o,
                    n.parallaxY = e,
                    n.angle = a) : (n = cr.is_number(i) ? this.runtime.getLayerByNumber(i) : this.runtime.getLayerByName(i)) ? t.set_float(n.canvasToLayer(s.x, s.y, !1)) : t.set_float(0))
                }
                ,
                e.AbsoluteX = function(t) {
                    this.touches.length ? t.set_float(this.touches[0].x) : t.set_float(0)
                }
                ,
                e.AbsoluteXAt = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : t.set_float(this.touches[e].x)
                }
                ,
                e.AbsoluteXForID = function(t, e) {
                    e = this.findTouch(e);
                    e < 0 ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(e.x))
                }
                ,
                e.AbsoluteY = function(t) {
                    this.touches.length ? t.set_float(this.touches[0].y) : t.set_float(0)
                }
                ,
                e.AbsoluteYAt = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= this.touches.length ? t.set_float(0) : t.set_float(this.touches[e].y)
                }
                ,
                e.AbsoluteYForID = function(t, e) {
                    e = this.findTouch(e);
                    e < 0 ? t.set_float(0) : (e = this.touches[e],
                    t.set_float(e.y))
                }
                ,
                e.IsInTouch = function() {
                    return 0 < this.touches.length
                }
                ,
                e.CursorX = function(t) {
                    return null == this.cursor.x ? null : (cr.is_undefined(t) ? (s = (i = this.runtime.getLayerByNumber(0)).scale,
                    n = i.zoomRate,
                    r = i.parallaxX,
                    o = i.angle,
                    i.scale = 1,
                    i.zoomRate = 1,
                    i.parallaxX = 1,
                    i.angle = 0,
                    e = i.canvasToLayer(this.cursor.x, this.cursor.y, !0),
                    i.scale = s,
                    i.zoomRate = n,
                    i.parallaxX = r,
                    i.angle = o) : e = (i = cr.is_number(t) ? this.runtime.getLayerByNumber(t) : this.runtime.getLayerByName(t)) ? i.canvasToLayer(this.cursor.x, this.cursor.y, !0) : 0,
                    e);
                    var e, i, s, n, r, o
                }
                ,
                e.CursorY = function(t) {
                    return null == this.cursor.y ? null : (cr.is_undefined(t) ? (s = (i = this.runtime.getLayerByNumber(0)).scale,
                    n = i.zoomRate,
                    r = i.parallaxX,
                    o = i.angle,
                    i.scale = 1,
                    i.zoomRate = 1,
                    i.parallaxX = 1,
                    i.angle = 0,
                    e = i.canvasToLayer(this.cursor.x, this.cursor.y, !1),
                    i.scale = s,
                    i.zoomRate = n,
                    i.parallaxX = r,
                    i.angle = o) : e = (i = cr.is_number(t) ? this.runtime.getLayerByNumber(t) : this.runtime.getLayerByName(t)) ? i.canvasToLayer(this.cursor.x, this.cursor.y, !1) : 0,
                    e);
                    var e, i, s, n, r, o
                }
                ,
                e.CursorAbsoluteX = function() {
                    return this.cursor.x
                }
                ,
                e.CursorAbsoluteY = function() {
                    return this.cursor.y
                }
            }(),
            cr.plugins_.c2canvas = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.c2canvas.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {
                    this.is_family || (this.texture_img = new Image,
                    this.texture_img.src = this.texture_file,
                    this.texture_img.cr_filesize = this.texture_filesize,
                    this.runtime.wait_for_textures.push(this.texture_img))
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype
                  , i = ["lighter", "xor", "copy", "destination-over", "source-in", "destination-in", "source-out", "destination-out", "source-atop", "destination-atop"];
                e.effectToCompositeOp = function(t) {
                    return t <= 0 || 11 <= t ? "source-over" : i[t - 1]
                }
                ,
                e.updateBlend = function(t) {
                    var e = this.runtime.gl;
                    if (e)
                        switch (this.srcBlend = e.ONE,
                        this.destBlend = e.ONE_MINUS_SRC_ALPHA,
                        t) {
                        case 1:
                            this.srcBlend = e.ONE,
                            this.destBlend = e.ONE;
                            break;
                        case 2:
                            break;
                        case 3:
                            this.srcBlend = e.ONE,
                            this.destBlend = e.ZERO;
                            break;
                        case 4:
                            this.srcBlend = e.ONE_MINUS_DST_ALPHA,
                            this.destBlend = e.ONE;
                            break;
                        case 5:
                            this.srcBlend = e.DST_ALPHA,
                            this.destBlend = e.ZERO;
                            break;
                        case 6:
                            this.srcBlend = e.ZERO,
                            this.destBlend = e.SRC_ALPHA;
                            break;
                        case 7:
                            this.srcBlend = e.ONE_MINUS_DST_ALPHA,
                            this.destBlend = e.ZERO;
                            break;
                        case 8:
                            this.srcBlend = e.ZERO,
                            this.destBlend = e.ONE_MINUS_SRC_ALPHA;
                            break;
                        case 9:
                            this.srcBlend = e.DST_ALPHA,
                            this.destBlend = e.ONE_MINUS_SRC_ALPHA;
                            break;
                        case 10:
                            this.srcBlend = e.ONE_MINUS_DST_ALPHA,
                            this.destBlend = e.SRC_ALPHA
                        }
                }
                ,
                e.onCreate = function() {
                    this.visible = 0 === this.properties[0],
                    this.compositeOp = this.effectToCompositeOp(this.properties[1]),
                    this.updateBlend(this.properties[1]),
                    this.canvas = document.createElement("canvas"),
                    this.canvas.width = this.width,
                    this.canvas.height = this.height,
                    this.ctx = this.canvas.getContext("2d"),
                    this.ctx.drawImage(this.type.texture_img, 0, 0, this.width, this.height),
                    this.tCanvas = document.createElement("canvas"),
                    this.tCtx = this.tCanvas.getContext("2d"),
                    this.update_tex = !0,
                    this.rcTex = new cr.rect(0,0,0,0)
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {
                        canvas_w: this.canvas.width,
                        canvas_h: this.canvas.height,
                        image: this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height).data
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    for (var e = this.canvas.width = t.canvas_w, i = this.canvas.height = t.canvas_h, s = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height).data, n = 0; n < i; ++n)
                        for (var r = 0; r < e; ++r)
                            for (var o = 4 * (n * e + r), a = 0; a < 4; ++a)
                                s[o + a] = t.image[o + a]
                }
                ,
                e.draw_instances = function(t, e) {
                    for (var i in t)
                        0 == t[i].visible && 0 == this.runtime.testOverlap(this, t[i]) || (e.save(),
                        e.scale(this.canvas.width / this.width, this.canvas.height / this.height),
                        e.rotate(-this.angle),
                        e.translate(-this.bquad.tlx, -this.bquad.tly),
                        e.globalCompositeOperation = t[i].compositeOp,
                        void 0 !== t[i].type.pattern && void 0 !== t[i].type.texture_img && (t[i].pattern = e.createPattern(t[i].type.texture_img, "repeat")),
                        t[i].draw(e),
                        e.restore())
                }
                ,
                e.draw = function(t) {
                    t.save(),
                    t.globalAlpha = this.opacity,
                    t.globalCompositeOperation = this.compositeOp;
                    var e = this.x
                      , i = this.y;
                    this.runtime.pixel_rounding && (e = Math.round(e),
                    i = Math.round(i)),
                    t.translate(e, i),
                    t.rotate(this.angle),
                    t.drawImage(this.canvas, 0 - this.hotspotX * this.width, 0 - this.hotspotY * this.height, this.width, this.height),
                    t.restore()
                }
                ,
                e.drawGL = function(t) {
                    t.setBlend(this.srcBlend, this.destBlend),
                    this.update_tex && (this.tex && t.deleteTexture(this.tex),
                    this.tex = t.loadTexture(this.canvas, !1, this.runtime.linearSampling),
                    this.update_tex = !1),
                    t.setTexture(this.tex),
                    t.setOpacity(this.opacity);
                    var e, i, s = this.bquad;
                    this.runtime.pixel_rounding ? (e = Math.round(this.x) - this.x,
                    i = Math.round(this.y) - this.y,
                    t.quad(s.tlx + e, s.tly + i, s.trx + e, s.try_ + i, s.brx + e, s.bry + i, s.blx + e, s.bly + i)) : t.quad(s.tlx, s.tly, s.trx, s.try_, s.brx, s.bry, s.blx, s.bly)
                }
                ,
                t.cnds = {},
                t.cnds,
                t.acts = {},
                (e = t.acts).SetEffect = function(t) {
                    this.compositeOp = this.effectToCompositeOp(t),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.DrawPoint = function(t, e, i) {
                    var s = this.ctx;
                    s.fillStyle = i,
                    s.fillRect(t, e, 1, 1),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.ResizeCanvas = function(t, e) {
                    this.canvas.width = t,
                    this.canvas.height = e,
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.PasteObject = function(t) {
                    var e = this.ctx;
                    this.update_bbox();
                    t = t.getCurrentSol(),
                    t = (t.select_all ? t.type : t).instances;
                    this.draw_instances(t, e),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.PasteLayer = function(t) {
                    if (!t || !t.visible)
                        return !1;
                    var e = this.ctx;
                    this.update_bbox(),
                    this.tCanvas.width = this.canvas.width,
                    this.tCanvas.height = this.canvas.height;
                    var i = this.tCtx;
                    i.clearRect(0, 0, this.tCanvas.width, this.tCanvas.height),
                    this.draw_instances(t.instances, i),
                    e.drawImage(this.tCanvas, 0, 0, this.width, this.height),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.DrawBox = function(t, e, i, s, n) {
                    this.ctx.fillStyle = n,
                    this.ctx.fillRect(t, e, i, s),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.DrawLine = function(t, e, i, s, n, r) {
                    var o = this.ctx;
                    o.strokeStyle = n,
                    o.lineWidth = r,
                    o.beginPath(),
                    o.moveTo(t, e),
                    o.lineTo(i, s),
                    o.stroke(),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.ClearCanvas = function() {
                    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.FillColor = function(t) {
                    this.ctx.fillStyle = t,
                    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.fillGradient = function(t, e, i) {
                    var s, n = this.ctx, r = this.canvas.width, o = this.canvas.height;
                    switch (t) {
                    case 0:
                        s = n.createLinearGradient(0, 0, r, 0);
                        break;
                    case 1:
                        s = n.createLinearGradient(0, 0, 0, o);
                        break;
                    case 2:
                        s = n.createLinearGradient(0, 0, r, o);
                        break;
                    case 3:
                        s = n.createLinearGradient(r, 0, 0, o);
                        break;
                    case 4:
                        s = n.createRadialGradient(r / 2, o / 2, 0, r / 2, o / 2, Math.sqrt(r * r + o * o) / 2)
                    }
                    try {
                        s.addColorStop(0, e)
                    } catch (t) {
                        s.addColorStop(0, "black")
                    }
                    try {
                        s.addColorStop(1, i)
                    } catch (t) {
                        s.addColorStop(1, "black")
                    }
                    this.ctx.fillStyle = s,
                    this.ctx.fillRect(0, 0, r, o),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.beginPath = function() {
                    this.ctx.beginPath()
                }
                ,
                e.drawPath = function(t, e) {
                    var i = this.ctx;
                    i.strokeStyle = t,
                    i.lineWidth = e,
                    i.stroke(),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.setLineSettings = function(t, e) {
                    var i = this.ctx;
                    i.lineCap = ["butt", "round", "square"][t],
                    i.lineJoin = ["round", "bevel", "milet"][e]
                }
                ,
                e.fillPath = function(t) {
                    this.ctx.fillStyle = t,
                    this.ctx.fill(),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.moveTo = function(t, e) {
                    this.ctx.moveTo(t, e)
                }
                ,
                e.lineTo = function(t, e) {
                    this.ctx.lineTo(t, e)
                }
                ,
                e.arc = function(t, e, i, s, n, r) {
                    this.ctx.arc(t, e, i, cr.to_radians(s), cr.to_radians(n), 1 == r)
                }
                ,
                e.drawCircle = function(t, e, i, s, n) {
                    var r = this.ctx;
                    r.strokeStyle = s,
                    r.lineWidth = n,
                    r.beginPath(),
                    r.arc(t, e, i, 0, cr.to_radians(360), !0),
                    r.stroke(),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.bezierCurveTo = function(t, e, i, s, n, r) {
                    this.ctx.bezierCurveTo(t, e, i, s, n, r)
                }
                ,
                e.quadraticCurveTo = function(t, e, i, s) {
                    this.ctx.quadraticCurveTo(t, e, i, s)
                }
                ,
                e.rectPath = function(t, e, i, s) {
                    this.ctx.rect(t, e, i, s)
                }
                ,
                e.FloodFill = function(t, e, i) {
                    var s = this.ctx
                      , n = s.getImageData(0, 0, this.canvas.width, this.canvas.height);
                    flood_fill(n.data, this.canvas.width, this.canvas.height, t, e, i),
                    s.putImageData(n, 0, 0),
                    this.runtime.redraw = !0,
                    this.update_tex = !0
                }
                ,
                e.setLineDash = function(t, e) {
                    e = [t, e];
                    this.ctx.setLineDash(e)
                }
                ,
                t.exps = {},
                (t = t.exps).rgbaAt = function(t, e, i) {
                    i = this.ctx.getImageData(e, i, 1, 1).data;
                    t.set_string("rgba(" + i[0] + "," + i[1] + "," + i[2] + "," + i[3] / 255 + ")")
                }
                ,
                t.redAt = function(t, e, i) {
                    i = this.ctx.getImageData(e, i, 1, 1).data;
                    t.set_int(i[0])
                }
                ,
                t.greenAt = function(t, e, i) {
                    i = this.ctx.getImageData(e, i, 1, 1).data;
                    t.set_int(i[1])
                }
                ,
                t.blueAt = function(t, e, i) {
                    i = this.ctx.getImageData(e, i, 1, 1).data;
                    t.set_int(i[2])
                }
                ,
                t.alphaAt = function(t, e, i) {
                    i = this.ctx.getImageData(e, i, 1, 1).data;
                    t.set_int(100 * i[3] / 255)
                }
                ,
                t.imageUrl = function(t) {
                    t.set_string(this.canvas.toDataURL())
                }
                ,
                t.AsJSON = function(t) {
                    t.set_string(JSON.stringify({
                        c2array: !0,
                        size: [1, 1, this.canvas.width * this.canvas.height * 4],
                        data: [[this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height).data]]
                    }))
                }
            }(),
            cr.plugins_.filechooser = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.filechooser.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype
                  , i = window.URL || window.webkitURL || window.mozURL || window.msURL;
                function s() {}
                function n() {}
                function r() {}
                function o(t, e) {
                    return !t || (e = Math.floor(e)) < 0 || e >= t.length ? null : t[e]
                }
                e.onCreate = function() {
                    var t;
                    this.runtime.isDomFree ? cr.logexport("[Construct 2] File Chooser plugin not supported on this platform - the object will not be created") : (this.elem = document.createElement("input"),
                    this.elem.type = "file",
                    this.elem.setAttribute("accept", this.properties[0]),
                    0 !== this.properties[1] && this.elem.setAttribute("multiple", ""),
                    this.elem.id = this.properties[3],
                    jQuery(this.elem).appendTo(this.runtime.canvasdiv || "body"),
                    this.element_hidden = !1,
                    0 === this.properties[2] && (jQuery(this.elem).hide(),
                    this.visible = !1,
                    this.element_hidden = !0),
                    (t = this).elem.onchange = function() {
                        t.runtime.trigger(cr.plugins_.filechooser.prototype.cnds.OnChanged, t)
                    }
                    ,
                    this.lastLeft = 0,
                    this.lastTop = 0,
                    this.lastRight = 0,
                    this.lastBottom = 0,
                    this.lastWinWidth = 0,
                    this.lastWinHeight = 0,
                    this.updatePosition(!0),
                    this.runtime.tickMe(this))
                }
                ,
                e.onDestroy = function() {
                    this.runtime.isDomFree || (jQuery(this.elem).remove(),
                    this.elem = null)
                }
                ,
                e.tick = function() {
                    this.updatePosition()
                }
                ,
                e.updatePosition = function(t) {
                    if (!this.runtime.isDomFree) {
                        var e = this.layer.layerToCanvas(this.x, this.y, !0)
                          , i = this.layer.layerToCanvas(this.x, this.y, !1)
                          , s = this.layer.layerToCanvas(this.x + this.width, this.y + this.height, !0)
                          , n = this.layer.layerToCanvas(this.x + this.width, this.y + this.height, !1)
                          , r = this.runtime.width / this.runtime.devicePixelRatio
                          , o = this.runtime.height / this.runtime.devicePixelRatio;
                        if (!this.visible || !this.layer.visible || s <= 0 || n <= 0 || r <= e || o <= i)
                            return this.element_hidden || jQuery(this.elem).hide(),
                            void (this.element_hidden = !0);
                        e < 1 && (e = 1),
                        i < 1 && (i = 1),
                        r <= s && (s = r - 1),
                        o <= n && (n = o - 1);
                        r = window.innerWidth,
                        o = window.innerHeight;
                        t || this.lastLeft !== e || this.lastTop !== i || this.lastRight !== s || this.lastBottom !== n || this.lastWinWidth !== r || this.lastWinHeight !== o ? (this.lastLeft = e,
                        this.lastTop = i,
                        this.lastRight = s,
                        this.lastBottom = n,
                        this.lastWinWidth = r,
                        this.lastWinHeight = o,
                        this.element_hidden && (jQuery(this.elem).show(),
                        this.element_hidden = !1),
                        r = Math.round(e) + jQuery(this.runtime.canvas).offset().left,
                        o = Math.round(i) + jQuery(this.runtime.canvas).offset().top,
                        jQuery(this.elem).css("position", "absolute"),
                        jQuery(this.elem).offset({
                            left: r,
                            top: o
                        }),
                        jQuery(this.elem).width(Math.round(s - e)),
                        jQuery(this.elem).height(Math.round(n - i))) : this.element_hidden && (jQuery(this.elem).show(),
                        this.element_hidden = !1)
                    }
                }
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                s.prototype.OnChanged = function() {
                    return !0
                }
                ,
                t.cnds = new s,
                n.prototype.SetVisible = function(t) {
                    this.runtime.isDomFree || (this.visible = 0 !== t)
                }
                ,
                n.prototype.SetCSSStyle = function(t, e) {
                    this.runtime.isDomFree || jQuery(this.elem).css(t, e)
                }
                ,
                n.prototype.ReleaseFile = function(t) {
                    this.runtime.isDomFree || i && i.revokeObjectURL && i.revokeObjectURL(t)
                }
                ,
                t.acts = new n,
                r.prototype.FileCount = function(t) {
                    t.set_int(!this.runtime.isDomFree && this.elem.files.length || 0)
                }
                ,
                r.prototype.FileNameAt = function(t, e) {
                    e = this.runtime.isDomFree ? null : o(this.elem.files, e);
                    t.set_string(e && e.name || "")
                }
                ,
                r.prototype.FileSizeAt = function(t, e) {
                    e = this.runtime.isDomFree ? null : o(this.elem.files, e);
                    t.set_int(e && e.size || 0)
                }
                ,
                r.prototype.FileTypeAt = function(t, e) {
                    e = this.runtime.isDomFree ? null : o(this.elem.files, e);
                    t.set_string(e && e.type || "")
                }
                ,
                r.prototype.FileURLAt = function(t, e) {
                    e = this.runtime.isDomFree ? null : o(this.elem.files, e);
                    e ? e.c2url ? t.set_string(e.c2url) : i && i.createObjectURL ? (e.c2url = i.createObjectURL(e),
                    t.set_string(e.c2url)) : t.set_string("") : t.set_string("")
                }
                ,
                t.exps = new r
            }(),
            cr.plugins_.gamepad = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.gamepad.prototype
                  , e = !1;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime,
                    e = !!(navigator.getGamepads || navigator.webkitGetGamepads || navigator.mozGetGamepads || navigator.gamepads || navigator.webkitGamepads || navigator.MozGamepads || window.cr_getGamepads)
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ;
                var i = null
                  , s = null
                  , p = new Array(16)
                  , n = new Array(16)
                  , r = new Array(16)
                  , o = ""
                  , a = "";
                function d(t) {
                    var e;
                    if (!n[t])
                        for (n[t] = new Array(20),
                        e = 0; e < 20; ++e)
                            n[t][e] = 0;
                    return n[t]
                }
                function g(t) {
                    var e;
                    if (!r[t])
                        for (r[t] = new Array(20),
                        e = 0; e < 20; ++e)
                            r[t][e] = 0;
                    return r[t]
                }
                function f(t) {
                    n[t] = null,
                    r[t] = null
                }
                var h = 16
                  , m = null
                  , c = {};
                function l(t, e, i, s) {
                    return e ? t >= s.length ? -1 : cr.is_number(s[t]) ? s[t] + h : s[t] : t >= i.length ? -1 : i[t]
                }
                c.windows = {},
                c.windows.firefox = {};
                var u = [0, 1, 2, 3, 4, 5, 8, 9, 10, 11]
                  , y = [0, 1, [7, 6], 2, 3, [14, 15], [12, 13]];
                c.windows.firefox.xbox360 = function(t, e) {
                    return l(t, e, u, y)
                }
                ;
                var _ = [2, 0, 1, 3, 4, 6, 5, 7, 8, 9]
                  , v = [0, 1, 2, 3, [14, 15], [12, 13]];
                function b(t, e) {
                    return e ? 4 <= t ? -1 : t + h : 16 <= t ? -1 : t
                }
                function w(t) {
                    p[t.gamepad.index] = t.gamepad,
                    i.trigger(cr.plugins_.gamepad.prototype.cnds.OnGamepadConnected, s)
                }
                function x(t) {
                    i.trigger(cr.plugins_.gamepad.prototype.cnds.OnGamepadDisconnected, s),
                    p[t.gamepad.index] = null
                }
                c.windows.firefox.logitechdualaction = function(t, e) {
                    return l(t, e, _, v)
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime,
                    i = this.runtime,
                    s = this
                }
                ;
                var S = t.Instance.prototype;
                function T() {}
                function C() {}
                S.onCreate = function() {
                    this.deadzone = this.properties[0],
                    this.lastButton = 0;
                    var t = navigator.userAgent;
                    o = "windows",
                    /mac/i.test(t) && (o = "mac"),
                    m = c[o],
                    a = "chrome",
                    /firefox/i.test(t) && (a = "firefox"),
                    m = m && m[a],
                    window.addEventListener("webkitgamepadconnected", w, !1),
                    window.addEventListener("webkitgamepaddisconnected", x, !1),
                    window.addEventListener("MozGamepadConnected", w, !1),
                    window.addEventListener("MozGamepadDisconnected", x, !1),
                    window.addEventListener("gamepadconnected", w, !1),
                    window.addEventListener("gamepaddisconnected", x, !1),
                    this.runtime.tickMe(this),
                    this.activeControllers = []
                }
                ,
                S.tick = function() {
                    this.activeControllers.length = 0;
                    var t = null
                      , e = !1;
                    if (navigator.getGamepads ? t = navigator.getGamepads() : navigator.webkitGetGamepads ? t = navigator.webkitGetGamepads() : navigator.mozGetGamepads ? t = navigator.mozGetGamepads() : navigator.msGetGamepads ? t = navigator.msGetGamepads() : this.runtime.isWindows8Capable && window.cr_getGamepads ? (t = window.cr_getGamepads(),
                    e = !0) : t = navigator.gamepads || navigator.webkitGamepads || navigator.MozGamepads || p,
                    t) {
                        for (var i, s, n, r, o, a = 0, h = t.length; a < h; a++) {
                            var c = t[a];
                            if (c) {
                                var l = d(a)
                                  , u = g(a);
                                for (!function(t) {
                                    for (var e = d(t), i = g(t), s = 0; s < 20; ++s)
                                        i[s] = e[s]
                                }(a),
                                n = e ? b : function(t) {
                                    if (!m)
                                        return b;
                                    var e = "";
                                    return -1 < (t = t.toLowerCase()).indexOf("xbox 360") ? e = "xbox360" : -1 < t.indexOf("logitech dual action") && (e = "logitechdualaction"),
                                    m[e] || b
                                }(c.id),
                                i = 0,
                                s = c.buttons.length; i < s; i++)
                                    0 <= (r = n(i, !1, o = void 0 !== c.buttons[i].value ? c.buttons[i].value : c.buttons[i])) && r < 20 && (l[r] = 100 * o,
                                    50 <= l[r] && u[r] < 50 && (this.lastButton = r));
                                for (i = 0,
                                s = c.axes.length; i < s; i++)
                                    r = n(i, !0, o = c.axes[i]),
                                    cr.is_number(r) ? 0 <= r && r < 20 && (l[r] = 100 * o) : (l[r[0]] = 0,
                                    o <= (l[r[1]] = 0) ? l[r[0]] = Math.abs(100 * o) : l[r[1]] = Math.abs(100 * o));
                                this.activeControllers.push(c)
                            } else
                                f(a)
                        }
                        for (; a < 20; ++a)
                            f(a)
                    }
                }
                ,
                S.saveToJSON = function() {
                    return {
                        lastButton: this.lastButton
                    }
                }
                ,
                S.loadFromJSON = function(t) {
                    this.lastButton = t.lastButton
                }
                ,
                T.prototype.SupportsGamepad = function() {
                    return e
                }
                ,
                T.prototype.OnGamepadConnected = function() {
                    return !0
                }
                ,
                T.prototype.OnGamepadDisconnected = function() {
                    return !0
                }
                ,
                T.prototype.IsButtonDown = function(t, e) {
                    if ((t = Math.floor(t)) < 0 || t >= this.activeControllers.length)
                        return !1;
                    t = d(t);
                    if (!t)
                        return !1;
                    t = 50 <= t[e];
                    return t && (this.lastButton = e),
                    t
                }
                ,
                T.prototype.OnButtonDown = function(t, e) {
                    if ((t = Math.floor(t)) < 0 || t >= this.activeControllers.length)
                        return !1;
                    var i = d(t)
                      , t = g(t);
                    if (!i || !t)
                        return !1;
                    t = 50 <= i[e] && t[e] < 50;
                    return t && (this.lastButton = e),
                    t
                }
                ,
                T.prototype.OnButtonUp = function(t, e) {
                    if ((t = Math.floor(t)) < 0 || t >= this.activeControllers.length)
                        return !1;
                    var i = d(t)
                      , t = g(t);
                    if (!i || !t)
                        return !1;
                    t = i[e] < 50 && 50 <= t[e];
                    return t && (this.lastButton = e),
                    t
                }
                ,
                T.prototype.HasGamepads = function() {
                    return 0 < this.activeControllers.length
                }
                ,
                T.prototype.CompareAxis = function(t, e, i, s) {
                    if (t = Math.floor(t),
                    e = Math.floor(e),
                    t < 0 || t >= this.activeControllers.length)
                        return !1;
                    var n = d(t);
                    if (n) {
                        var r = n[e + h]
                          , t = 0
                          , t = e % 2 == 0 ? n[e + h + 1] : n[e + h - 1];
                        return Math.sqrt(r * r + t * t) <= this.deadzone && (r = 0),
                        cr.do_cmp(r, i, s)
                    }
                }
                ,
                T.prototype.OnAnyButtonDown = function(t) {
                    if ((t = Math.floor(t)) < 0 || t >= this.activeControllers.length)
                        return !1;
                    var e, i, s = d(t), n = g(t);
                    if (!s || !n)
                        return !1;
                    for (e = 0,
                    i = s.length; e < i; e++)
                        if (50 <= s[e] && n[e] < 50)
                            return this.lastButton = e,
                            !0;
                    return !1
                }
                ,
                T.prototype.OnAnyButtonUp = function(t) {
                    if ((t = Math.floor(t)) < 0 || t >= this.activeControllers.length)
                        return !1;
                    var e, i, s = d(t), n = g(t);
                    if (!s || !n)
                        return !1;
                    for (e = 0,
                    i = s.length; e < i; e++)
                        if (s[e] < 50 && 50 <= n[e])
                            return this.lastButton = e,
                            !0;
                    return !1
                }
                ,
                T.prototype.IsButtonIndexDown = function(t, e) {
                    if ((t = Math.floor(t)) < 0 || t >= this.activeControllers.length)
                        return !1;
                    t = d(t);
                    if (!t)
                        return !1;
                    if ((e = Math.floor(e)) < 0 || e >= t.length)
                        return !1;
                    t = 50 <= t[e];
                    return t && (this.lastButton = e),
                    t
                }
                ,
                T.prototype.OnButtonIndexDown = function(t, e) {
                    if ((t = Math.floor(t)) < 0 || t >= this.activeControllers.length)
                        return !1;
                    var i = d(t)
                      , t = g(t);
                    if (!i || !t)
                        return !1;
                    if ((e = Math.floor(e)) < 0 || e >= i.length)
                        return !1;
                    t = 50 <= i[e] && t[e] < 50;
                    return t && (this.lastButton = e),
                    t
                }
                ,
                T.prototype.OnButtonIndexUp = function(t, e) {
                    if ((t = Math.floor(t)) < 0 || t >= this.activeControllers.length)
                        return !1;
                    var i = d(t)
                      , t = g(t);
                    if (!i || !t)
                        return !1;
                    if ((e = Math.floor(e)) < 0 || e >= i.length)
                        return !1;
                    t = i[e] < 50 && 50 <= t[e];
                    return t && (this.lastButton = e),
                    t
                }
                ,
                t.cnds = new T,
                t.acts = new function() {}
                ,
                C.prototype.GamepadCount = function(t) {
                    t.set_int(this.activeControllers.length)
                }
                ,
                C.prototype.GamepadID = function(t, e) {
                    e < 0 || e >= this.activeControllers.length ? t.set_string("") : t.set_string(this.activeControllers[e].id)
                }
                ,
                C.prototype.GamepadAxes = function(t, e) {
                    if (e < 0 || e >= this.activeControllers.length)
                        t.set_string("");
                    else {
                        for (var i = this.activeControllers[e].axes, s = "", n = 0, r = i.length; n < r; n++)
                            s += "Axis " + n + ": " + Math.round(100 * i[n]) + "\n";
                        t.set_string(s)
                    }
                }
                ,
                C.prototype.GamepadButtons = function(t, e) {
                    if (e < 0 || e >= this.activeControllers.length)
                        t.set_string("");
                    else {
                        for (var i, s = this.activeControllers[e].buttons, n = "", r = 0, o = s.length; r < o; r++)
                            i = void 0 !== s[r].value ? s[r].value : s[r],
                            n += "Button " + r + ": " + Math.round(100 * i) + "\n";
                        t.set_string(n)
                    }
                }
                ,
                C.prototype.RawButton = function(t, e, i) {
                    e = Math.floor(e),
                    i = Math.floor(i),
                    e < 0 || e >= this.activeControllers.length || !(e = this.activeControllers[e].buttons) || i < 0 || i >= e.length ? t.set_float(0) : void 0 !== e[i].value ? t.set_float(e[i].value) : t.set_float(e[i])
                }
                ,
                C.prototype.RawAxis = function(t, e, i) {
                    e = Math.floor(e),
                    i = Math.floor(i),
                    e < 0 || e >= this.activeControllers.length || !(e = this.activeControllers[e].axes) || i < 0 || i >= e.length ? t.set_float(0) : t.set_float(e[i])
                }
                ,
                C.prototype.RawButtonCount = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= this.activeControllers.length ? t.set_int(0) : t.set_int(this.activeControllers[e].buttons.length)
                }
                ,
                C.prototype.RawAxisCount = function(t, e) {
                    (e = Math.floor(e)) < 0 || e >= this.activeControllers.length ? t.set_int(0) : t.set_int(this.activeControllers[e].axes.length)
                }
                ,
                C.prototype.Button = function(t, e, i) {
                    e = Math.floor(e),
                    i = Math.floor(i),
                    e < 0 || e >= this.activeControllers.length || !(e = d(e)) || i < 0 || h <= i ? t.set_float(0) : t.set_float(e[i])
                }
                ,
                C.prototype.Axis = function(t, e, i) {
                    var s, n;
                    e = Math.floor(e),
                    i = Math.floor(i),
                    e < 0 || e >= this.activeControllers.length || !(s = d(e)) || i < 0 || 4 <= i ? t.set_float(0) : (n = s[i + h],
                    e = i % 2 == (e = 0) ? s[i + h + 1] : s[i + h - 1],
                    Math.sqrt(n * n + e * e) <= this.deadzone && (n = 0),
                    t.set_float(n))
                }
                ,
                C.prototype.LastButton = function(t) {
                    t.set_int(this.lastButton)
                }
                ,
                t.exps = new C
            }(),
            cr.plugins_.hmmg_layoutTransition_v2 = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.hmmg_layoutTransition_v2.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    var t = this.properties[0] || null;
                    null != t && 0 < t && $("head").append("<style>.animated,animated.hinge,.animated.flipOutX,.animated.flipOutY,.animated.bounceIn,.animated.bounceOut,.animated.flipOutXX,.animated.flipInXX,.animated.flipInYY,.animated.flipOutYY{-webkit-animation-duration: " + t + "s !important;animation-duration: " + t + "s !important;}</style>")
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                i.prototype.isTransitionReady = function() {
                    return !0
                }
                ,
                i.prototype.didTransitionStart = function() {
                    return !0
                }
                ,
                i.prototype.didTransitionFinish = function() {
                    return !0
                }
                ,
                t.cnds = new i,
                s.prototype.prepareTransition = function() {
                    var n, t, r = this.properties[1], r = "rgb(" + Math.floor(r / 65536) + "," + Math.floor(r / 256) % 256 + "," + r % 256 + ")", e = this;
                    n = function() {
                        e.runtime.trigger(cr.plugins_.hmmg_layoutTransition_v2.prototype.cnds.isTransitionReady, e)
                    }
                    ,
                    t = function(t) {
                        var e, i, s;
                        null == $("#fakeCanvas")[0] && (e = $("#c2canvasdiv"),
                        i = $("<div id='fakeCanvas'><img src='" + t + "' height='" + e.height() + "' width='" + e.width() + "'/><div></div></div>"),
                        t = $("<div id='fakeBody'></div>"),
                        s = parseFloat(e.css("margin-left")),
                        t.css({
                            top: e.offset().top,
                            left: e.offset().left,
                            width: e.width(),
                            height: e.height(),
                            "background-color": r
                        }),
                        e.addClass("prepared").find(" > :not(canvas)").each(function() {
                            $(this).css("left", $(this).offset().left - s + "px")
                        }),
                        t.appendTo(document.body).append(e).append(i),
                        n && n())
                    }
                    ,
                    e.runtime.doCanvasSnapshot("image/jpeg", 1),
                    setTimeout(function() {
                        t(e.runtime.snapshotData)
                    }, 50)
                }
                ,
                s.prototype.startTransition = function(t) {
                    var e = $("#fakeBody")
                      , i = e.find("#c2canvasdiv")
                      , s = e.find("#fakeCanvas")
                      , n = this;
                    function r() {
                        e.remove(),
                        i.appendTo(document.body).removeClass("prepared"),
                        n.runtime.trigger(cr.plugins_.hmmg_layoutTransition_v2.prototype.cnds.didTransitionFinish, n)
                    }
                    n.runtime.trigger(cr.plugins_.hmmg_layoutTransition_v2.prototype.cnds.didTransitionStart, n),
                    14 == t ? (i.addClass("hidden"),
                    s.addClass("animated rotateOut").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        s.addClass("hidden")
                    }),
                    i.removeClass("hidden").addClass("animated rotateIn").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        i.removeClass("animated rotateIn"),
                        r()
                    })) : 13 == t ? (s.addClass("animated rollOut").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        s.addClass("hidden")
                    }),
                    i.addClass("animated rollIn").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        i.removeClass("animated rollIn"),
                        r()
                    })) : 12 == t ? (s.addClass("animated zoomOut").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        s.addClass("hidden")
                    }),
                    i.addClass("animated zoomIn").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        i.removeClass("animated zoomIn"),
                        r()
                    })) : 11 == t ? (i.addClass("hidden"),
                    s.addClass("animated fadeOut").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        s.addClass("hidden"),
                        i.removeClass("hidden").addClass("animated fadeIn").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                            i.removeClass("animated fadeIn"),
                            r()
                        })
                    })) : 10 == t ? (i.addClass("hidden"),
                    s.addClass("animated fadeOut").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        s.addClass("hidden")
                    }),
                    i.removeClass("hidden").addClass("animated fadeIn").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        i.removeClass("animated fadeIn"),
                        r()
                    })) : 9 == t ? (i.addClass("hidden"),
                    s.addClass("animated flipOutYY").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        s.addClass("hidden"),
                        i.removeClass("hidden").addClass("animated flipInYY").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                            i.removeClass("animated flipInYY"),
                            r()
                        })
                    })) : 8 == t ? (i.addClass("hidden"),
                    s.addClass("animated flipOutXX").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        s.addClass("hidden"),
                        i.removeClass("hidden").addClass("animated flipInXX").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                            i.removeClass("animated flipInXX"),
                            r()
                        })
                    })) : 7 == t ? i.addClass("animated slideInRight").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        r(),
                        i.removeClass("animated slideInRight")
                    }) : 6 == t ? i.addClass("animated slideInLeft").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        r(),
                        i.removeClass("animated slideInLeft")
                    }) : 5 == t ? i.addClass("animated slideInDown").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        r(),
                        i.removeClass("animated slideInDown")
                    }) : 4 == t ? i.addClass("animated slideInUp").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        r(),
                        i.removeClass("animated slideInUp")
                    }) : 3 == t ? (i.addClass("animated slideInRight").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        r(),
                        i.removeClass("animated slideInRight"),
                        s.removeClass("animated slideOutLeft")
                    }),
                    s.addClass("animated slideOutLeft")) : 2 == t ? (i.addClass("animated slideInLeft").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        r(),
                        s.removeClass("animated slideOutRight"),
                        i.removeClass("animated slideInLeft")
                    }),
                    s.addClass("animated slideOutRight")) : 1 == t ? (i.addClass("animated slideInDown").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        r(),
                        s.removeClass("animated slideOutDown"),
                        i.removeClass("animated slideInDown")
                    }),
                    s.addClass("animated slideOutDown")) : 0 == t && (i.addClass("animated slideInUp").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        r(),
                        s.removeClass("animated slideOutUp"),
                        i.removeClass("animated slideInUp")
                    }),
                    s.addClass("animated slideOutUp"))
                }
                ,
                t.acts = new s,
                t.exps = new function() {}
            }(),
            Math.sign = Math.sign || function(t) {
                return 0 === (t = +t) || isNaN(t) ? Number(t) : 0 < t ? 1 : -1
            }
            ,
            cr.plugins_.jcw_trace = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.jcw_trace.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {
                    this.obstacleTypes = []
                }
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {
                    this.x1 = 0,
                    this.y1 = 0,
                    this.x2 = 0,
                    this.y2 = 0,
                    this.dx = 0,
                    this.dy = 0,
                    this.bounds = new cr.rect(0,0,0,0),
                    this.t = 0,
                    this.hit = !1,
                    this.hitx = 0,
                    this.hity = 0,
                    this.uid = -1,
                    this.normalang = 0,
                    cr.seal(this)
                }
                var s = i.prototype;
                function c(t, e, i, s) {
                    var n = 1 / t.dx
                      , r = 1 / t.dy
                      , o = Math.sign(n)
                      , a = Math.sign(r)
                      , h = (e.left + e.right) / 2
                      , c = (e.top + e.bottom) / 2
                      , l = (e.right - e.left) / 2 + i
                      , i = (e.bottom - e.top) / 2 + s
                      , e = (h - o * l - t.x1) * n
                      , s = (c - a * i - t.y1) * r
                      , n = (h + o * l - t.x1) * n
                      , i = (c + a * i - t.y1) * r;
                    if (i < e || n < s)
                        return !1;
                    r = s < e ? e : s,
                    i = n < i ? n : i;
                    return !(r >= t.t || i <= 0) && (t.t = Math.max(r, 0),
                    t.hit = !0,
                    t.normalang = s < e ? Math.atan2(0, -o) : Math.atan2(-a, 0),
                    !0)
                }
                function m(t, e, i, s, n, r, o, a) {
                    o -= n,
                    a -= r,
                    s = a * (i - t) - o * (s - e);
                    return 0 == s ? 0 : ((n - t) * a + (e - r) * o) / s
                }
                function l(t, e, i, s) {
                    var n, r, o, a, h, c = e.pts_cache;
                    if (e.contains_pt(t.x1 - i, t.y1 - s))
                        return t.t = 0,
                        t.hit = !0,
                        t.normalang = Math.atan2(-t.dy, -t.dx),
                        !0;
                    for (var l, u, p, d = !1, g = 0, f = e.pts_count; g < f; g++)
                        p = (g + 1) % f * 2,
                        r = c[u = 2 * g] + i,
                        o = c[1 + u] + s,
                        a = c[p] + i,
                        h = c[1 + p] + s,
                        cr.segments_intersect(t.x1, t.y1, t.x2, t.y2, r, o, a, h) && (n = m(t.x1, t.y1, t.x2, t.y2, r, o, a, h)) < t.t && (d = !0,
                        t.t = n,
                        t.hit = !0,
                        0 == (l = t.x1,
                        u = t.y1,
                        0 <= ((p = o) - u) * (a - (u = r)) - (u - l) * (h - p) ? 0 : 1) ? t.normalang = Math.atan2(r - a, h - o) : t.normalang = Math.atan2(a - r, o - h));
                    return d
                }
                s.CalcHitPos = function(t) {
                    var e;
                    this.hitx = this.x1 + this.dx * this.t,
                    this.hity = this.y1 + this.dy * this.t,
                    0 !== t && (e = Math.atan2(-this.dy, -this.dx),
                    this.hitx += Math.cos(e) * t,
                    this.hity += Math.sin(e) * t)
                }
                ,
                s.GetReflectAng = function() {
                    return 2 * this.normalang - Math.atan2(-this.dy, -this.dx)
                }
                ;
                var u = []
                  , p = new cr.rect(0,0,0,0);
                function h(t, e) {
                    var i;
                    e && e.collisionsEnabled && (e.update_bbox(),
                    !e.bbox.intersects_rect(t.bounds) || (e.tilemap_exists ? function(t, e) {
                        var i, s;
                        e.getCollisionRectCandidates(t.bounds, u);
                        for (var n = e.x, r = e.y, o = !1, a = 0, h = u.length; a < h; ++a)
                            s = (i = u[a]).rc,
                            t.bounds.intersects_rect_off(s, n, r) && (p.copy(s),
                            p.offset(n, r),
                            i.poly ? l(t, i.poly, p.left, p.top) && (o = !0) : c(t, p, 0, 0) && (o = !0));
                        return cr.clearArray(u),
                        o
                    }(t, e) : e.collision_poly && !e.collision_poly.is_empty() ? ((i = e.collision_poly).cache_poly(e.width, e.height, e.angle),
                    l(t, i, e.x, e.y)) : 0 === e.angle ? c(t, e.bbox, 0, 0) : function(t, e) {
                        var i, s, n, r, o, a, h = !1;
                        if (e.contains_pt(t.x1, t.y1))
                            return t.t = 0,
                            t.hit = !0,
                            t.normalang = Math.atan2(-t.dy, -t.dx),
                            !0;
                        for (i = 0; i < 4; i++)
                            n = e.at(i, !0),
                            r = e.at(i, !1),
                            o = e.at(i + 1, !0),
                            a = e.at(i + 1, !1),
                            cr.segments_intersect(t.x1, t.y1, t.x2, t.y2, n, r, o, a) && (s = m(t.x1, t.y1, t.x2, t.y2, n, r, o, a)) < t.t && (h = !0,
                            t.t = s,
                            t.hit = !0,
                            t.normalang = Math.atan2(n - o, a - r));
                        return h
                    }(t, e.bquad)) && (t.uid = e.uid))
                }
                function d(t, e, i, s) {
                    var n;
                    e && e.collisionsEnabled && (e.update_bbox(),
                    e.bbox.intersects_rect(t.bounds) && (n = !1,
                    e.tilemap_exists || (e.collision_poly && !e.collision_poly.is_empty() ? e.collision_poly.cache_poly(e.width, e.height, e.angle) : 0 === e.angle && (n = c(t, e.bbox, i, s))),
                    n && (t.uid = e.uid)))
                }
                e.onCreate = function() {
                    this.obstacleMode = this.properties[0],
                    this.useCollisionCells = 0 !== this.properties[1],
                    this.padding = cr.clamp(this.properties[2], 0, 1),
                    this.tr = new i
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ;
                var g = [];
                function n() {}
                function r() {}
                function o() {}
                e.GetOverlapCandidates = function() {
                    var t, e, i, s = this.tr;
                    if (0 === this.obstacleMode)
                        this.useCollisionCells ? this.runtime.getSolidCollisionCandidates(null, s.bounds, g) : (i = this.runtime.getSolidBehavior()) && cr.appendArray(g, i.my_instances.valuesRef());
                    else if (this.useCollisionCells)
                        this.runtime.getTypesCollisionCandidates(null, this.type.obstacleTypes, s.bounds, g);
                    else
                        for (t = 0,
                        e = this.type.obstacleTypes.length; t < e; ++t)
                            cr.appendArray(g, this.type.obstacleTypes[t].instances)
                }
                ,
                n.prototype.Hit = function() {
                    return this.tr.hit
                }
                ,
                t.cnds = new n,
                r.prototype.AddObstacle = function(t) {
                    var e = this.type.obstacleTypes;
                    if (-1 === e.indexOf(t)) {
                        for (var i, s = 0, n = e.length; s < n; s++)
                            if ((i = e[s]).is_family && -1 !== i.members.indexOf(t))
                                return;
                        e.push(t)
                    }
                }
                ,
                r.prototype.ClearObstacles = function() {
                    cr.clearArray(this.type.obstacleTypes)
                }
                ,
                r.prototype.TraceLine = function(t, e, i, s) {
                    var n, r, o, a = this.tr;
                    if (a.x1 = t,
                    a.y1 = e,
                    a.x2 = i,
                    a.y2 = s,
                    a.dx = i - t,
                    a.dy = s - e,
                    a.bounds.set(t, e, i, s),
                    a.bounds.normalize(),
                    a.t = 1,
                    a.hit = !1,
                    this.GetOverlapCandidates(),
                    0 === this.obstacleMode)
                        for (n = 0,
                        r = g.length; n < r; ++n)
                            (o = g[n]).extra.solidEnabled && h(a, o);
                    else
                        for (n = 0,
                        r = g.length; n < r; ++n)
                            h(a, o = g[n]);
                    cr.clearArray(g),
                    a.hit ? a.CalcHitPos(this.padding) : (a.hitx = i,
                    a.hity = s,
                    a.uid = -1,
                    a.normalang = Math.atan2(-a.dy, -a.dx))
                }
                ,
                r.prototype.TraceBox = function(t, e, i, s, n, r) {
                    var o, a, h, c = n / 2, l = r / 2, u = this.tr;
                    if (u.x1 = t,
                    u.y1 = e,
                    u.x2 = i,
                    u.y2 = s,
                    u.dx = i - t,
                    u.dy = s - e,
                    u.bounds.set(t, e, i, s),
                    u.bounds.normalize(),
                    u.bounds.left -= c,
                    u.bounds.right += c,
                    u.bounds.top -= l,
                    u.bounds.bottom += l,
                    u.t = 1,
                    u.hit = !1,
                    this.GetOverlapCandidates(),
                    0 === this.obstacleMode)
                        for (o = 0,
                        a = g.length; o < a; ++o)
                            (h = g[o]).extra.solidEnabled && d(u, h, c, l);
                    else
                        for (o = 0,
                        a = g.length; o < a; ++o)
                            d(u, h = g[o], c, l);
                    cr.clearArray(g),
                    u.hit ? u.CalcHitPos(this.padding) : (u.hitx = i,
                    u.hity = s,
                    u.uid = -1,
                    u.normalang = Math.atan2(-u.dy, -u.dx))
                }
                ,
                t.acts = new r,
                o.prototype.HitUID = function(t) {
                    t.set_int(this.tr.uid)
                }
                ,
                o.prototype.HitX = function(t) {
                    t.set_float(this.tr.hitx)
                }
                ,
                o.prototype.HitY = function(t) {
                    t.set_float(this.tr.hity)
                }
                ,
                o.prototype.NormalAngle = function(t) {
                    t.set_float(cr.to_degrees(this.tr.normalang))
                }
                ,
                o.prototype.ReflectAngle = function(t) {
                    t.set_float(cr.to_degrees(this.tr.GetReflectAng()))
                }
                ,
                o.prototype.HitFrac = function(t) {
                    t.set_float(this.tr.t)
                }
                ,
                t.exps = new o
            }(),
            cr.plugins_.rojoPaster = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.rojoPaster.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function C(t, e, i) {
                    for (var s = [[0, 1, 2], [2, 3, 0]], n = 0; n < 2; n++) {
                        var r = s[n]
                          , o = i[r[0]].x
                          , a = i[r[1]].x
                          , h = i[r[2]].x
                          , c = i[r[0]].y
                          , l = i[r[1]].y
                          , u = i[r[2]].y
                          , p = i[r[0]].u
                          , d = i[r[1]].u
                          , g = i[r[2]].u
                          , f = i[r[0]].v
                          , m = i[r[1]].v
                          , y = i[r[2]].v;
                        t.save(),
                        t.beginPath(),
                        t.moveTo(o, c),
                        t.lineTo(a, l),
                        t.lineTo(h, u),
                        t.closePath(),
                        t.clip();
                        var _ = p * m + f * g + d * y - m * g - f * d - p * y
                          , v = o * m + f * h + a * y - m * h - f * a - o * y
                          , r = p * a + o * g + d * h - a * g - o * d - p * h
                          , o = p * m * h + f * a * g + o * d * y - o * m * g - f * d * h - p * a * y
                          , h = c * m + f * u + l * y - m * u - f * l - c * y
                          , a = p * l + c * g + d * u - l * g - c * d - p * u
                          , y = p * m * u + f * l * g + c * d * y - c * m * g - f * d * u - p * l * y;
                        t.transform(v / _, h / _, r / _, a / _, o / _, y / _),
                        t.drawImage(e, 0, 0),
                        t.restore()
                    }
                }
                function s() {}
                e.onCreate = function() {
                    this.visible = 0 === this.properties[0],
                    this.resx = this.width,
                    this.resy = this.height,
                    this.verts = [{
                        x: 0,
                        y: 0,
                        u: 0,
                        v: 0
                    }, {
                        x: 0,
                        y: 0,
                        u: 0,
                        v: 0
                    }, {
                        x: 0,
                        y: 0,
                        u: 0,
                        v: 0
                    }, {
                        x: 0,
                        y: 0,
                        u: 0,
                        v: 0
                    }],
                    this.points = null,
                    this.canvas2textureNextTick = 0;
                    var t = this.runtime.glwrap;
                    t ? (this.texture = t.createEmptyTexture(this.resx, this.resy, this.runtime.linearSampling, !1),
                    this.temp_texture = t.createEmptyTexture(this.resx, this.resy, this.runtime.linearSampling, !1),
                    this.quadtex = t.createEmptyTexture(1, 1, this.runtime.linearSampling, !1),
                    t.setTexture(null),
                    t.setRenderingToTexture(this.quadtex),
                    t.clear(0, 0, 0, 1),
                    t.setRenderingToTexture(null),
                    this.quadblend = new Object,
                    this.quadblend.srcBlend = t.gl.ONE,
                    this.quadblend.destBlend = t.gl.ONE_MINUS_SRC_ALPHA) : (this.canvas = document.createElement("canvas"),
                    this.canvas.width = this.resx,
                    this.canvas.height = this.resy,
                    this.ctx = this.canvas.getContext("2d"),
                    this.runtime.linearSampling || (this.ctx.mozImageSmoothingEnabled = !1,
                    this.ctx.webkitImageSmoothingEnabled = !1,
                    this.ctx.msImageSmoothingEnabled = !1,
                    this.ctx.imageSmoothingEnabled = !1),
                    this.fill = "black")
                }
                ,
                e.onDestroy = function() {
                    this.texture && (this.runtime.glwrap.deleteTexture(this.texture),
                    this.runtime.glwrap.deleteTexture(this.quadtex),
                    this.runtime.glwrap.deleteTexture(this.temp_texture)),
                    this.texture = null,
                    this.quadtex = null,
                    this.temp_texture = null,
                    this.canvas = null,
                    this.ctx = null
                }
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                e.grabCanvas = function() {
                    var t, e, i, s = this.runtime.glwrap, n = this.runtime.canvas;
                    s ? (null == this.type.plugin.canvasflip && ((e = document.createElement("canvas")).width = 1,
                    e.height = 2,
                    (i = e.getContext("experimental-webgl")).clearColor(1, 1, 1, 1),
                    i.clear(i.COLOR_BUFFER_BIT),
                    t = i.createProgram(),
                    e = i.createShader(i.VERTEX_SHADER),
                    i.shaderSource(e, "attribute vec3 pos;void main() {gl_Position = vec4(pos, 1.0);}"),
                    i.compileShader(e),
                    i.attachShader(t, e),
                    e = i.createShader(i.FRAGMENT_SHADER),
                    i.shaderSource(e, "void main() {gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);}"),
                    i.compileShader(e),
                    i.attachShader(t, e),
                    i.linkProgram(t),
                    i.useProgram(t),
                    i.bindBuffer(i.ARRAY_BUFFER, i.createBuffer()),
                    i.bufferData(i.ARRAY_BUFFER, new Float32Array([-1, -1, 0, 1, -1, 0, -1, 0, 0, 1, 0, 0]), i.STATIC_DRAW),
                    e = i.getAttribLocation(t, "pos"),
                    i.enableVertexAttribArray(e),
                    i.vertexAttribPointer(e, 3, i.FLOAT, !1, 0, 0),
                    i.drawArrays(i.TRIANGLE_STRIP, 0, 4),
                    t = i.createTexture(),
                    i.bindTexture(i.TEXTURE_2D, t),
                    i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, i.RGBA, i.UNSIGNED_BYTE, i.canvas),
                    i.bindTexture(i.TEXTURE_2D, null),
                    e = i.createFramebuffer(),
                    i.bindFramebuffer(i.FRAMEBUFFER, e),
                    i.framebufferTexture2D(i.FRAMEBUFFER, i.COLOR_ATTACHMENT0, i.TEXTURE_2D, t, 0),
                    e = new Uint8Array(8),
                    i.readPixels(0, 0, 1, 2, i.RGBA, i.UNSIGNED_BYTE, e),
                    i.bindFramebuffer(i.FRAMEBUFFER, null),
                    this.type.plugin.canvasflip = 0 == e[0],
                    i.deleteTexture(t)),
                    i = s.gl,
                    this.texture.c2width == n.width && this.texture.c2height == n.height || (s.deleteTexture(this.texture),
                    this.texture = null),
                    null == this.texture && (this.texture = s.createEmptyTexture(n.width, n.height, this.runtime.linearSampling, this.runtime.isMobile)),
                    this.type.plugin.canvasflip && s.gl.pixelStorei(s.gl.UNPACK_FLIP_Y_WEBGL, !0),
                    s.videoToTexture(n, this.texture, this.runtime.isMobile),
                    s.gl.pixelStorei(s.gl.UNPACK_FLIP_Y_WEBGL, !1)) : (this.canvas.width = n.width,
                    this.canvas.height = n.height,
                    this.ctx.drawImage(n, 0, 0, n.width, n.height))
                }
                ,
                e.draw = function(t) {
                    t.globalAlpha = this.opacity,
                    t.save(),
                    t.translate(this.x, this.y);
                    var e = 0 < this.width ? 1 : -1
                      , i = 0 < this.height ? 1 : -1;
                    1 == e && 1 == i || t.scale(e, i),
                    t.rotate(this.angle * e * i),
                    t.drawImage(this.canvas, 0 - this.hotspotX * cr.abs(this.width), 0 - this.hotspotY * cr.abs(this.height), cr.abs(this.width), cr.abs(this.height)),
                    t.restore()
                }
                ,
                e.drawGL = function(t) {
                    t.setTexture(this.texture),
                    t.setOpacity(this.opacity);
                    var e = this.bquad;
                    t.quad(e.tlx, e.tly, e.trx, e.try_, e.brx, e.bry, e.blx, e.bly)
                }
                ,
                t.cnds = new function() {}
                ,
                i.prototype.SetEffect = function(t) {
                    this.compositeOp = cr.effectToCompositeOp(t),
                    cr.setGLBlend(this, t, this.runtime.gl),
                    this.runtime.redraw = !0
                }
                ,
                i.prototype.PasteObject = function(t) {
                    var e, i = t.getCurrentSol(), s = (i.select_all ? i.type : i).instances;
                    this.update_bbox();
                    var n = this.runtime.glwrap;
                    if (n) {
                        if (!this.texture)
                            return;
                        t = n.width,
                        i = n.height;
                        n.setSize(this.resx, this.resy),
                        n.setTexture(null),
                        n.setRenderingToTexture(this.texture),
                        n.resetModelView(),
                        n.scale(this.resx / this.width, -this.resy / this.height),
                        n.rotateZ(-this.angle),
                        n.translate((this.bbox.left + this.bbox.right) / -2, (this.bbox.top + this.bbox.bottom) / -2),
                        n.updateModelView();
                        for (var r, o, a, h, c = 0, l = s.length; c < l; c++)
                            if (e = s[c],
                            this != e && e.visible && 0 !== e.width && 0 !== e.height && (e.update_bbox(),
                            this.bbox.intersects_rect(e.bbox)))
                                if (e.uses_shaders)
                                    for (a = 0,
                                    h = e.active_effect_types.length; a < h; ++a)
                                        n.setTexture(null),
                                        n.setRenderingToTexture(this.temp_texture),
                                        n.clear(0, 0, 0, 0),
                                        r = e.active_effect_types[a].shaderindex,
                                        o = e.active_effect_types[a].index,
                                        n.switchProgram(r),
                                        n.setBlend(e.srcBlend, e.destBlend),
                                        n.setProgramParameters(this.temp_texture, 1 / e.width, 1 / e.height, 0, 1, 1, 0, 1, 0, 0, 0, .5, .5, this.runtime.kahanTime.sum, e.effect_params[o]),
                                        e.drawGL(n),
                                        n.switchProgram(0),
                                        n.setTexture(null),
                                        n.setRenderingToTexture(this.texture),
                                        n.setTexture(this.temp_texture),
                                        n.resetModelView(),
                                        n.scale(this.resx, -this.resy),
                                        n.translate(-.5, -.5),
                                        n.updateModelView(),
                                        n.setOpacity(e.opacity),
                                        n.setAlphaBlend(),
                                        n.quad(0, 0, 1, 0, 1, 1, 0, 1),
                                        n.resetModelView(),
                                        n.scale(this.resx / this.width, -this.resy / this.height),
                                        n.rotateZ(-this.angle),
                                        n.translate((this.bbox.left + this.bbox.right) / -2, (this.bbox.top + this.bbox.bottom) / -2),
                                        n.updateModelView();
                                else
                                    n.switchProgram(0),
                                    n.setBlend(e.srcBlend, e.destBlend),
                                    e.drawGL(n);
                        n.setRenderingToTexture(null),
                        n.setSize(t, i)
                    } else {
                        var u = this.ctx;
                        for (c = 0,
                        l = s.length; c < l; c++)
                            (e = s[c]).update_bbox(),
                            0 == e.visible && 0 == this.runtime.testOverlap(this, e) || (u.save(),
                            u.scale(this.canvas.width / this.width, this.canvas.height / this.height),
                            u.rotate(-this.angle),
                            u.translate(-this.bquad.tlx, -this.bquad.tly),
                            u.globalCompositeOperation = e.compositeOp,
                            e.draw(u),
                            u.restore())
                    }
                    this.runtime.redraw = !0
                }
                ,
                i.prototype.ClearColor = function(t, e, i, s) {
                    t = cr.clamp(t, 0, 255),
                    e = cr.clamp(e, 0, 255),
                    i = cr.clamp(i, 0, 255),
                    s = cr.clamp(s, 0, 100);
                    var n = this.runtime.glwrap;
                    n ? (n.setTexture(null),
                    n.setRenderingToTexture(this.texture),
                    n.clear(t / 255, e / 255, i / 255, s / 100),
                    n.setRenderingToTexture(null)) : (this.ctx.fillStyle = "rgba(" + parseInt(t) + "," + parseInt(e) + "," + parseInt(i) + "," + s / 100 + ")",
                    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height),
                    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height)),
                    this.runtime.redraw = !0
                }
                ,
                i.prototype.SetResolution = function(t, e) {
                    this.resx = t,
                    this.resy = e;
                    var i = this.runtime.glwrap;
                    i ? (this.texture && (i.deleteTexture(this.texture),
                    i.deleteTexture(this.temp_texture)),
                    this.texture = i.createEmptyTexture(t, e, this.runtime.linearSampling, !1),
                    this.temp_texture = i.createEmptyTexture(t, e, this.runtime.linearSampling, !1)) : (this.canvas.width = t,
                    this.canvas.height = e),
                    this.runtime.redraw = !0
                }
                ,
                i.prototype.QuadColor = function(t, e, i, s) {
                    t = cr.clamp(t, 0, 255),
                    e = cr.clamp(e, 0, 255),
                    i = cr.clamp(i, 0, 255),
                    s = cr.clamp(s, 0, 100);
                    var n = this.runtime.glwrap;
                    n ? (n.setTexture(null),
                    n.setRenderingToTexture(this.quadtex),
                    n.clear(t / 255, e / 255, i / 255, s / 100),
                    n.setRenderingToTexture(null)) : this.fill = "rgba(" + parseInt(t) + "," + parseInt(e) + "," + parseInt(i) + "," + s / 100 + ")"
                }
                ,
                i.prototype.DrawQuad = function(t, e, i, s, n, r, o, a, h) {
                    this.update_bbox();
                    var c, l, u = this.runtime.glwrap;
                    u ? (u.setTexture(null),
                    u.setRenderingToTexture(this.texture),
                    c = u.width,
                    l = u.height,
                    u.setSize(this.resx, this.resy),
                    u.resetModelView(),
                    u.scale(this.resx / this.width, -this.resy / this.height),
                    u.rotateZ(-this.angle),
                    u.translate((this.bbox.left + this.bbox.right) / -2, (this.bbox.top + this.bbox.bottom) / -2),
                    u.updateModelView(),
                    u.setTexture(this.quadtex),
                    u.setOpacity(1),
                    cr.setGLBlend(this.quadblend, h, u.gl),
                    u.setBlend(this.quadblend.srcBlend, this.quadblend.destBlend),
                    u.quad(t, e, i, s, n, r, o, a),
                    u.setRenderingToTexture(null),
                    u.setSize(c, l)) : ((l = this.ctx).save(),
                    l.scale(this.canvas.width / this.width, this.canvas.height / this.height),
                    l.rotate(-this.angle),
                    l.translate(-this.bquad.tlx, -this.bquad.tly),
                    l.globalCompositeOperation = cr.effectToCompositeOp(h),
                    l.globalAlpha = 1,
                    l.fillStyle = this.fill,
                    l.beginPath(),
                    l.moveTo(t, e),
                    l.lineTo(i, s),
                    l.lineTo(n, r),
                    l.lineTo(o, a),
                    l.closePath(),
                    l.fill(),
                    l.restore()),
                    this.runtime.redraw = !0
                }
                ,
                i.prototype.DrawTexQuad = function(t, e, i, s, n, r, o, a, h, c, l) {
                    var u, p, d, g, f, m = l.getFirstPicked();
                    m && (d = p = null,
                    (u = m.curFrame) || (m.canvas && (p = m.canvas),
                    m.tex && (d = m.tex),
                    m.texture && (d = m.texture),
                    m.texture_img && (p = m.texture_img,
                    d = m.webGL_texture)),
                    this.update_bbox(),
                    (l = this.runtime.glwrap) && (u || d) ? (l.setTexture(null),
                    l.setRenderingToTexture(this.texture),
                    f = l.width,
                    g = l.height,
                    l.setSize(this.resx, this.resy),
                    l.resetModelView(),
                    l.scale(this.resx / this.width, -this.resy / this.height),
                    l.rotateZ(-this.angle),
                    l.translate((this.bbox.left + this.bbox.right) / -2, (this.bbox.top + this.bbox.bottom) / -2),
                    l.updateModelView(),
                    l.setOpacity(c / 100),
                    cr.setGLBlend(this.quadblend, h, l.gl),
                    l.setBlend(this.quadblend.srcBlend, this.quadblend.destBlend),
                    u ? (l.setTexture(m.curWebGLTexture),
                    u.spritesheeted ? l.quadTex(t, e, i, s, n, r, o, a, u.sheetTex) : l.quad(t, e, i, s, n, r, o, a)) : (l.setTexture(d),
                    l.quad(t, e, i, s, n, r, o, a)),
                    l.setRenderingToTexture(null),
                    l.setSize(f, g)) : (u || p) && (f = null,
                    (g = this.ctx).save(),
                    g.scale(this.canvas.width / this.width, this.canvas.height / this.height),
                    g.rotate(-this.angle),
                    g.translate(-this.bquad.tlx, -this.bquad.tly),
                    g.globalCompositeOperation = cr.effectToCompositeOp(h),
                    g.globalAlpha = c / 100,
                    this.points || (this.points = [new Object, new Object, new Object, new Object]),
                    f = u ? u.texture_img : p,
                    u && u.spritesheeted ? (this.points[0].x = t,
                    this.points[0].y = e,
                    this.points[0].u = u.offx,
                    this.points[0].v = u.offy,
                    this.points[1].x = i,
                    this.points[1].y = s,
                    this.points[1].u = u.offx + u.width,
                    this.points[1].v = u.offy,
                    this.points[2].x = n,
                    this.points[2].y = r,
                    this.points[2].u = u.offx + u.width,
                    this.points[2].v = u.offy + u.height,
                    this.points[3].x = o,
                    this.points[3].y = a,
                    this.points[3].u = u.offx,
                    this.points[3].v = u.offy + u.height) : (this.points[0].x = t,
                    this.points[0].y = e,
                    this.points[0].u = 0,
                    this.points[0].v = 0,
                    this.points[1].x = i,
                    this.points[1].y = s,
                    this.points[1].u = f.width,
                    this.points[1].v = 0,
                    this.points[2].x = n,
                    this.points[2].y = r,
                    this.points[2].u = f.width,
                    this.points[2].v = f.height,
                    this.points[3].x = o,
                    this.points[3].y = a,
                    this.points[3].u = 0,
                    this.points[3].v = f.height),
                    C(g, f, this.points),
                    g.restore()),
                    this.runtime.redraw = !0)
                }
                ,
                i.prototype.setVertice = function(t, e, i, s, n) {
                    (t |= 0) < 0 || 3 < t || (this.verts[t].x = e,
                    this.verts[t].y = i,
                    this.verts[t].u = s,
                    this.verts[t].v = n)
                }
                ,
                i.prototype.DrawSubTexQuad = function(t, e, i) {
                    var s, n, r, o, a, h, c, l, u, p, d, g, f, m, y, _, v, b, w, x, S, T = i.getFirstPicked();
                    T && (s = this.verts[0].x,
                    n = this.verts[0].y,
                    r = this.verts[0].u,
                    o = this.verts[0].v,
                    a = this.verts[1].x,
                    h = this.verts[1].y,
                    c = this.verts[1].u,
                    l = this.verts[1].v,
                    u = this.verts[2].x,
                    p = this.verts[2].y,
                    d = this.verts[2].u,
                    g = this.verts[2].v,
                    f = this.verts[3].x,
                    m = this.verts[3].y,
                    y = this.verts[3].u,
                    _ = this.verts[3].v,
                    w = b = null,
                    (v = T.curFrame) || (T.canvas && (b = T.canvas),
                    T.tex && (w = T.tex),
                    T.texture && (w = T.texture),
                    T.texture_img && (b = T.texture_img,
                    w = T.webGL_texture)),
                    this.update_bbox(),
                    (i = this.runtime.glwrap) && (v || w) ? (i.setTexture(null),
                    i.setRenderingToTexture(this.texture),
                    S = i.width,
                    x = i.height,
                    i.setSize(this.resx, this.resy),
                    i.resetModelView(),
                    i.scale(this.resx / this.width, -this.resy / this.height),
                    i.rotateZ(-this.angle),
                    i.translate((this.bbox.left + this.bbox.right) / -2, (this.bbox.top + this.bbox.bottom) / -2),
                    i.updateModelView(),
                    i.setOpacity(e / 100),
                    cr.setGLBlend(this.quadblend, t, i.gl),
                    i.setBlend(this.quadblend.srcBlend, this.quadblend.destBlend),
                    v ? (i.setTexture(T.curWebGLTexture),
                    v.spritesheeted ? ((T = v.sheetTex).width = T.right - T.left,
                    T.height = T.bottom - T.top,
                    i.quadTexUV(s, n, a, h, u, p, f, m, T.left + r * T.width, T.top + o * T.height, T.left + c * T.width, T.top + l * T.height, T.left + d * T.width, T.top + g * T.height, T.left + y * T.width, T.top + _ * T.height)) : i.quadTexUV(s, n, a, h, u, p, f, m, r, o, c, l, d, g, y, _)) : (i.setTexture(w),
                    i.quadTexUV(s, n, a, h, u, p, f, m, r, o, c, l, d, g, y, _)),
                    i.setRenderingToTexture(null),
                    i.setSize(S, x)) : (v || b) && (S = null,
                    (x = this.ctx).save(),
                    x.scale(this.canvas.width / this.width, this.canvas.height / this.height),
                    x.rotate(-this.angle),
                    x.translate(-this.bquad.tlx, -this.bquad.tly),
                    x.globalCompositeOperation = cr.effectToCompositeOp(t),
                    x.globalAlpha = e / 100,
                    this.points || (this.points = [new Object, new Object, new Object, new Object]),
                    S = v ? v.texture_img : b,
                    v && v.spritesheeted ? (this.points[0].x = s,
                    this.points[0].y = n,
                    this.points[0].u = v.offx + r * v.width,
                    this.points[0].v = v.offy + o * v.height,
                    this.points[1].x = a,
                    this.points[1].y = h,
                    this.points[1].u = v.offx + c * v.width,
                    this.points[1].v = v.offy + l * v.height,
                    this.points[2].x = u,
                    this.points[2].y = p,
                    this.points[2].u = v.offx + d * v.width,
                    this.points[2].v = v.offy + g * v.height,
                    this.points[3].x = f,
                    this.points[3].y = m,
                    this.points[3].u = v.offx + y * v.width,
                    this.points[3].v = v.offy + _ * v.height) : (this.points[0].x = s,
                    this.points[0].y = n,
                    this.points[0].u = r * S.width,
                    this.points[0].v = o * S.height,
                    this.points[1].x = a,
                    this.points[1].y = h,
                    this.points[1].u = c * S.width,
                    this.points[1].v = l * S.height,
                    this.points[2].x = u,
                    this.points[2].y = p,
                    this.points[2].u = d * S.width,
                    this.points[2].v = g * S.height,
                    this.points[3].x = f,
                    this.points[3].y = m,
                    this.points[3].u = y * S.width,
                    this.points[3].v = _ * S.height),
                    C(x, S, this.points),
                    x.restore()),
                    this.runtime.redraw = !0)
                }
                ,
                i.prototype.LoadImage = function(t, e) {
                    var i = this
                      , s = new Image;
                    s.onload = function() {
                        i.resx = s.width,
                        i.resy = s.height;
                        var t = i.runtime.glwrap;
                        t ? (t.deleteTexture(this.texture),
                        t.deleteTexture(this.temp_texture),
                        i.texture = t.loadTexture(s, !1, i.runtime.linearSampling)) : (i.canvas.width = s.width,
                        i.canvas.height = s.height,
                        i.ctx.drawImage(s, 0, 0, s.width, s.height)),
                        0 === e && (i.width = s.width,
                        i.height = s.height,
                        i.set_bbox_changed()),
                        i.runtime.redraw = !0
                    }
                    ,
                    "data:" !== t.substr(0, 5) && (s.crossOrigin = "anonymous"),
                    s.src = t
                }
                ,
                i.prototype.LoadCanvas = function() {
                    this.grabCanvas(),
                    this.runtime.redraw = !0
                }
                ,
                t.acts = new i,
                s.prototype.imageUrl = function(t) {
                    var e = this.runtime.glwrap;
                    if (e) {
                        var i = e.gl
                          , s = this.resx
                          , n = this.resy;
                        e.present();
                        e = i.createFramebuffer();
                        i.bindFramebuffer(i.FRAMEBUFFER, e),
                        i.framebufferTexture2D(i.FRAMEBUFFER, i.COLOR_ATTACHMENT0, i.TEXTURE_2D, this.texture, 0);
                        var r = s * n * 4
                          , o = new Uint8Array(r);
                        i.readPixels(0, 0, s, n, i.RGBA, i.UNSIGNED_BYTE, o);
                        for (var a, h, c, l, u = 0; u < r; u += 4)
                            a = o[u] / 255,
                            h = o[u + 1] / 255,
                            c = o[u + 2] / 255,
                            l = o[u + 3] / 255,
                            o[u] = a / l * 255,
                            o[u + 1] = h / l * 255,
                            o[u + 2] = c / l * 255;
                        i.bindFramebuffer(i.FRAMEBUFFER, null),
                        i.deleteFramebuffer(e);
                        i = document.createElement("canvas");
                        i.width = s,
                        i.height = n;
                        e = i.getContext("2d"),
                        n = e.createImageData(s, n);
                        n.data.set(o),
                        e.putImageData(n, 0, 0),
                        t.set_string(i.toDataURL())
                    } else
                        t.set_string(this.canvas.toDataURL())
                }
                ,
                s.prototype.getresx = function(t) {
                    t.set_float(this.resx)
                }
                ,
                s.prototype.getresy = function(t) {
                    t.set_float(this.resy)
                }
                ,
                t.exps = new s
            }(),
            cr.plugins_.sirg_notifications = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.sirg_notifications.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i(t) {
                    switch (t) {
                    case 0:
                        return "top-right";
                    case 1:
                        return "top-left";
                    case 2:
                        return "bottom-left";
                    case 3:
                        return "bottom-right"
                    }
                    return "bottom-right"
                }
                function s(t) {
                    switch (t) {
                    case 0:
                        return "slow";
                    case 1:
                        return "medium";
                    case 2:
                        return "fast"
                    }
                    return "slow"
                }
                function c(t) {
                    switch (t) {
                    case 0:
                        return "";
                    case 1:
                        return "gritter-light";
                    case 2:
                        return "gritter-success";
                    case 3:
                        return "gritter-info";
                    case 4:
                        return "gritter-warning";
                    case 5:
                        return "gritter-error";
                    case 6:
                        return "gritter-red";
                    case 7:
                        return "gritter-yellow";
                    case 8:
                        return "gritter-blue";
                    case 9:
                        return "gritter-green"
                    }
                    return ""
                }
                function n() {}
                function r() {}
                e.onCreate = function() {
                    this.position = i(this.properties[0]),
                    this.fade_in_speed = s(this.properties[1]),
                    this.fade_out_speed = s(this.properties[2]),
                    this.time = this.properties[3],
                    this.max_number = this.properties[4],
                    this.param_sticky = 0 === this.properties[5],
                    this.param_style = this.properties[6],
                    this.curr_tag = "",
                    jQuery.extend(jQuery.gritter.options, {
                        position: this.position,
                        fade_in_speed: this.fade_in_speed,
                        fade_out_speed: this.fade_out_speed,
                        time: this.time,
                        max_to_display: this.max_number
                    })
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                n.prototype.OnNotificationClicked = function(t) {
                    return cr.equals_nocase(t, this.curr_tag)
                }
                ,
                t.cnds = new n,
                r.prototype.AddNotification = function(t, e, i, s, n, r) {
                    jQuery.gritter.add({
                        title: t,
                        text: e,
                        image: i,
                        sticky: s,
                        time: r,
                        class_name: c(n)
                    })
                }
                ,
                r.prototype.DeleteAllNotifications = function() {
                    jQuery.gritter.removeAll()
                }
                ,
                r.prototype.AddSimpleNotification = function(t, e, i) {
                    jQuery.gritter.add({
                        title: t,
                        text: e,
                        image: i,
                        sticky: this.param_sticky,
                        class_name: c(this.param_style)
                    })
                }
                ,
                r.prototype.AddNotificationClickable = function(t, e, i, s, n, r, o, a) {
                    var h = this;
                    h.curr_tag = t,
                    jQuery.gritter.add({
                        title: e,
                        text: i,
                        image: s,
                        sticky: n,
                        time: o,
                        class_name: "gritter-clickable gritter-id-" + t + " " + c(r),
                        close_on_click: a
                    }),
                    jQuery(".gritter-id-" + t).click(function() {
                        return h.runtime.trigger(cr.plugins_.sirg_notifications.prototype.cnds.OnNotificationClicked, h),
                        !1
                    })
                }
                ,
                r.prototype.SetPosition = function(t) {
                    this.position = i(t),
                    jQuery.gritter.options.position = this.position
                }
                ,
                t.acts = new r,
                t.exps = new function() {}
            }(),
            cr.plugins_.skymen_minifunctioncallback = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.skymen_minifunctioncallback.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {}
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                e.getArgs = function(t, e, i) {
                    if ("" == t)
                        return [];
                    "" == i && (i = "a");
                    var s, n = t.split(e), r = i.split(e);
                    if (n.length > r.length) {
                        s = n.length - r.length;
                        for (var o = 0; o < s; o++)
                            r.push("a")
                    }
                    for (o = 0; o < n.length; o++) {
                        var a = r[o].trim().charAt(0).toLowerCase();
                        "s" != a && "a" != a && "n" != a && console.warn("The type of the given number doesn't exist. Please use Number, String or Any. Note that the type only needs to start with n, a or s, and is not case sensitive, so using a single letter is ok."),
                        "n" == a && (n[o] = parseFloat(n[o].trim()))
                    }
                    return n
                }
                ,
                t.cnds = new function() {}
                ,
                i.prototype.Callback = function(t, e, i, s) {
                    s = this.getArgs(i, e, s);
                    c2_callFunction && c2_callFunction(t, s)
                }
                ,
                t.acts = new i,
                s.prototype.Callback = function(t, e, i, s, n) {
                    var r = pushFuncStack();
                    r.name = e.toLowerCase(),
                    r.retVal = 0,
                    cr.clearArray(r.params),
                    r.params = this.getArgs(s, i, n);
                    n = this.runtime.trigger(cr.plugins_.Function.prototype.cnds.OnFunction, this, r.name);
                    isInPreview && !n && console.warn("[Construct 2] Function object: expression Function.Call('" + e + "' ...) was used, but no event was triggered. Is the function call spelt incorrectly or no longer used?"),
                    popFuncStack(),
                    t.set_any(r.retVal)
                }
                ,
                t.exps = new s
            }(),
            cr.plugins_.skymen_siteLock = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.skymen_siteLock.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i(t) {
                    for (var e, i, s = "", n = -1; ++n < t.length; )
                        e = t.charCodeAt(n),
                        i = n + 1 < t.length ? t.charCodeAt(n + 1) : 0,
                        55296 <= e && e <= 56319 && 56320 <= i && i <= 57343 && (e = 65536 + ((1023 & e) << 10) + (1023 & i),
                        n++),
                        e <= 127 ? s += String.fromCharCode(e) : e <= 2047 ? s += String.fromCharCode(192 | e >>> 6 & 31, 128 | 63 & e) : e <= 65535 ? s += String.fromCharCode(224 | e >>> 12 & 15, 128 | e >>> 6 & 63, 128 | 63 & e) : e <= 2097151 && (s += String.fromCharCode(240 | e >>> 18 & 7, 128 | e >>> 12 & 63, 128 | e >>> 6 & 63, 128 | 63 & e));
                    return s
                }
                function o(t) {
                    for (var e = Array(t.length >> 2), i = 0; i < e.length; i++)
                        e[i] = 0;
                    for (i = 0; i < 8 * t.length; i += 8)
                        e[i >> 5] |= (255 & t.charCodeAt(i / 8)) << i % 32;
                    return e
                }
                function a(t, e) {
                    t[e >> 5] |= 128 << e % 32,
                    t[14 + (e + 64 >>> 9 << 4)] = e;
                    for (var i = 1732584193, s = -271733879, n = -1732584194, r = 271733878, o = 0; o < t.length; o += 16) {
                        var a = i
                          , h = s
                          , c = n
                          , l = r
                          , i = u(i, s, n, r, t[o + 0], 7, -680876936)
                          , r = u(r, i, s, n, t[o + 1], 12, -389564586)
                          , n = u(n, r, i, s, t[o + 2], 17, 606105819)
                          , s = u(s, n, r, i, t[o + 3], 22, -1044525330);
                        i = u(i, s, n, r, t[o + 4], 7, -176418897),
                        r = u(r, i, s, n, t[o + 5], 12, 1200080426),
                        n = u(n, r, i, s, t[o + 6], 17, -1473231341),
                        s = u(s, n, r, i, t[o + 7], 22, -45705983),
                        i = u(i, s, n, r, t[o + 8], 7, 1770035416),
                        r = u(r, i, s, n, t[o + 9], 12, -1958414417),
                        n = u(n, r, i, s, t[o + 10], 17, -42063),
                        s = u(s, n, r, i, t[o + 11], 22, -1990404162),
                        i = u(i, s, n, r, t[o + 12], 7, 1804603682),
                        r = u(r, i, s, n, t[o + 13], 12, -40341101),
                        n = u(n, r, i, s, t[o + 14], 17, -1502002290),
                        i = p(i, s = u(s, n, r, i, t[o + 15], 22, 1236535329), n, r, t[o + 1], 5, -165796510),
                        r = p(r, i, s, n, t[o + 6], 9, -1069501632),
                        n = p(n, r, i, s, t[o + 11], 14, 643717713),
                        s = p(s, n, r, i, t[o + 0], 20, -373897302),
                        i = p(i, s, n, r, t[o + 5], 5, -701558691),
                        r = p(r, i, s, n, t[o + 10], 9, 38016083),
                        n = p(n, r, i, s, t[o + 15], 14, -660478335),
                        s = p(s, n, r, i, t[o + 4], 20, -405537848),
                        i = p(i, s, n, r, t[o + 9], 5, 568446438),
                        r = p(r, i, s, n, t[o + 14], 9, -1019803690),
                        n = p(n, r, i, s, t[o + 3], 14, -187363961),
                        s = p(s, n, r, i, t[o + 8], 20, 1163531501),
                        i = p(i, s, n, r, t[o + 13], 5, -1444681467),
                        r = p(r, i, s, n, t[o + 2], 9, -51403784),
                        n = p(n, r, i, s, t[o + 7], 14, 1735328473),
                        i = d(i, s = p(s, n, r, i, t[o + 12], 20, -1926607734), n, r, t[o + 5], 4, -378558),
                        r = d(r, i, s, n, t[o + 8], 11, -2022574463),
                        n = d(n, r, i, s, t[o + 11], 16, 1839030562),
                        s = d(s, n, r, i, t[o + 14], 23, -35309556),
                        i = d(i, s, n, r, t[o + 1], 4, -1530992060),
                        r = d(r, i, s, n, t[o + 4], 11, 1272893353),
                        n = d(n, r, i, s, t[o + 7], 16, -155497632),
                        s = d(s, n, r, i, t[o + 10], 23, -1094730640),
                        i = d(i, s, n, r, t[o + 13], 4, 681279174),
                        r = d(r, i, s, n, t[o + 0], 11, -358537222),
                        n = d(n, r, i, s, t[o + 3], 16, -722521979),
                        s = d(s, n, r, i, t[o + 6], 23, 76029189),
                        i = d(i, s, n, r, t[o + 9], 4, -640364487),
                        r = d(r, i, s, n, t[o + 12], 11, -421815835),
                        n = d(n, r, i, s, t[o + 15], 16, 530742520),
                        i = g(i, s = d(s, n, r, i, t[o + 2], 23, -995338651), n, r, t[o + 0], 6, -198630844),
                        r = g(r, i, s, n, t[o + 7], 10, 1126891415),
                        n = g(n, r, i, s, t[o + 14], 15, -1416354905),
                        s = g(s, n, r, i, t[o + 5], 21, -57434055),
                        i = g(i, s, n, r, t[o + 12], 6, 1700485571),
                        r = g(r, i, s, n, t[o + 3], 10, -1894986606),
                        n = g(n, r, i, s, t[o + 10], 15, -1051523),
                        s = g(s, n, r, i, t[o + 1], 21, -2054922799),
                        i = g(i, s, n, r, t[o + 8], 6, 1873313359),
                        r = g(r, i, s, n, t[o + 15], 10, -30611744),
                        n = g(n, r, i, s, t[o + 6], 15, -1560198380),
                        s = g(s, n, r, i, t[o + 13], 21, 1309151649),
                        i = g(i, s, n, r, t[o + 4], 6, -145523070),
                        r = g(r, i, s, n, t[o + 11], 10, -1120210379),
                        n = g(n, r, i, s, t[o + 2], 15, 718787259),
                        s = g(s, n, r, i, t[o + 9], 21, -343485551),
                        i = f(i, a),
                        s = f(s, h),
                        n = f(n, c),
                        r = f(r, l)
                    }
                    return Array(i, s, n, r)
                }
                function h(t, e, i, s, n, r) {
                    return f((r = f(f(e, t), f(s, r))) << (n = n) | r >>> 32 - n, i)
                }
                function u(t, e, i, s, n, r, o) {
                    return h(e & i | ~e & s, t, e, n, r, o)
                }
                function p(t, e, i, s, n, r, o) {
                    return h(e & s | i & ~s, t, e, n, r, o)
                }
                function d(t, e, i, s, n, r, o) {
                    return h(e ^ i ^ s, t, e, n, r, o)
                }
                function g(t, e, i, s, n, r, o) {
                    return h(i ^ (e | ~s), t, e, n, r, o)
                }
                function f(t, e) {
                    var i = (65535 & t) + (65535 & e);
                    return (t >> 16) + (e >> 16) + (i >> 16) << 16 | 65535 & i
                }
                function s() {}
                e.onCreate = function() {
                    this.sites = this.properties[0].split(" "),
                    this.hash = 0 === this.properties[1],
                    this.key = this.properties[2],
                    this.order = 0 === this.properties[3]
                }
                ,
                e.SiteLock = function() {
                    var t = this.key
                      , e = this.getGameSite();
                    if (this.hash && this.order) {
                        for (var i = 0; i < this.sites.length; i++) {
                            var s, n = this.sites[i], t = this.key + i;
                            if (n === (s = this.hex_hmac_md5(t, e)))
                                return !1
                        }
                        return !0
                    }
                    return this.hash ? (s = this.hex_hmac_md5(t, e),
                    !this.sites.includes(s)) : !this.sites.includes(e)
                }
                ,
                e.hex_hmac_md5 = function(t, e) {
                    return this.rstr2hex(function(t, e) {
                        var i = o(t);
                        16 < i.length && (i = a(i, 8 * t.length));
                        for (var s = Array(16), n = Array(16), r = 0; r < 16; r++)
                            s[r] = 909522486 ^ i[r],
                            n[r] = 1549556828 ^ i[r];
                        e = a(s.concat(o(e)), 512 + 8 * e.length);
                        return function(t) {
                            for (var e = "", i = 0; i < 32 * t.length; i += 8)
                                e += String.fromCharCode(t[i >> 5] >>> i % 32 & 255);
                            return e
                        }(a(n.concat(e), 640))
                    }(i(t), i(e)))
                }
                ,
                e.rstr2hex = function(t) {
                    try {
                        this.hexcase
                    } catch (t) {
                        this.hexcase = 0
                    }
                    for (var e, i = this.hexcase ? "0123456789ABCDEF" : "0123456789abcdef", s = "", n = 0; n < t.length; n++)
                        e = t.charCodeAt(n),
                        s += i.charAt(e >>> 4 & 15) + i.charAt(15 & e);
                    return s
                }
                ,
                e.getGameSite = function() {
                    try {
                        return new URL(document.referrer).hostname
                    } catch (t) {
                        return new URL(document.location).hostname
                    }
                }
                ,
                s.prototype.SiteLock = function() {
                    return this.SiteLock()
                }
                ,
                t.cnds = new s,
                t.acts = new function() {}
                ,
                t.exps = new function() {}
            }(),
            cr.plugins_.skymen_skinsCore = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.skymen_skinsCore.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.skins = {},
                    this.lastSkin,
                    this.lastSubSkin,
                    this.curSkin,
                    this.curSubSkin,
                    this.tag = this.properties[0],
                    this.instances = [],
                    this.init = !1,
                    null == cr.SkymenSkinCore && (cr.SkymenSkinCore = {}),
                    cr.SkymenSkinCore[this.tag] = this
                }
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                e.addInstance = function(t) {
                    this.instances.push(t)
                }
                ,
                i.prototype.IsEmpty = function() {
                    return 0 === Object.keys(this.skins).length && this.skins.constructor === Object
                }
                ,
                i.prototype.HasSkin = function(t) {
                    return null != this.skins[t]
                }
                ,
                i.prototype.HasSubSkin = function(t, e) {
                    return null != this.skins[t] && null != this.skins[t][e]
                }
                ,
                i.prototype.OnSkin = function(t) {
                    return t == this.lastSkin
                }
                ,
                i.prototype.OnSubSkin = function(t, e) {
                    return t == this.lastSkin && e == this.lastSubskin
                }
                ,
                i.prototype.OnAnySkin = function() {
                    return !0
                }
                ,
                i.prototype.OnAnySubSkin = function(t) {
                    return t == this.lastSkin
                }
                ,
                i.prototype.OnAnySubAnySkin = function() {
                    return !0
                }
                ,
                e.doForEachTrigger = function(t) {
                    this.runtime.pushCopySol(t.solModifiers),
                    t.retrigger(),
                    this.runtime.popSol(t.solModifiers)
                }
                ,
                i.prototype.ForEachSkin = function() {
                    var e = this.runtime.getCurrentEventStack().current_event;
                    return self = this,
                    Object.keys(this.skins).forEach(function(t) {
                        self.curSkin = t,
                        self.doForEachTrigger(e)
                    }),
                    !1
                }
                ,
                i.prototype.ForEachSubSkin = function(t) {
                    var e = this.runtime.getCurrentEventStack().current_event;
                    return null == (self = this).skins[t] || Object.keys(this.skins[t]).forEach(function(t) {
                        self.curSubSkin = t,
                        self.doForEachTrigger(e)
                    }),
                    !1
                }
                ,
                t.cnds = new i,
                s.prototype.AddSkin = function(t, e, i, s, n) {
                    if (null == this.skins[e] && (this.skins[e] = {}),
                    0 == i)
                        for (var r = 0; r < t.animations.length; r++) {
                            s = t.animations[r].name;
                            this.skins[e][s] = {
                                type: t,
                                anim: s
                            }
                        }
                    else
                        this.skins[e][n] = {
                            type: t,
                            anim: s
                        }
                }
                ,
                s.prototype.AddSubSkin = function(t, e, i, s) {
                    null == this.skins[e] && (this.skins[e] = {}),
                    this.skins[e][i] = {
                        type: t,
                        anim: s
                    }
                }
                ,
                s.prototype.RemoveSkin = function(t) {
                    null != this.skins[t] && delete this.skins[t]
                }
                ,
                s.prototype.RemoveSubSkin = function(t, e) {
                    null != this.skins[t] && null != this.skins[t][e] && delete this.skins[t][e]
                }
                ,
                s.prototype.Init = function() {
                    if (!this.init) {
                        for (var t = 0; t < this.instances.length; t++)
                            this.instances[t].updateSkin();
                        this.init = !0
                    }
                }
                ,
                t.acts = new s,
                n.prototype.CurSkin = function(t) {
                    t.set_string(this.curSkin)
                }
                ,
                n.prototype.CurSubSkin = function(t) {
                    t.set_string(this.curSubSkin)
                }
                ,
                n.prototype.LastSkin = function(t) {
                    t.set_string(this.lastSkin)
                }
                ,
                n.prototype.LastSubSkin = function(t) {
                    t.set_string(this.lastSubSkin)
                }
                ,
                n.prototype.RandomSkin = function(t) {
                    var e = Object.keys(this.skins)
                      , e = e[e.length * Math.random() << 0];
                    "string" == typeof e ? t.set_string(e) : t.set_string("")
                }
                ,
                n.prototype.RandomSubSkin = function(t, e) {
                    var i;
                    this.skins[e] ? "string" == typeof (i = (i = Object.keys(this.skins[e]))[i.length * Math.random() << 0]) ? t.set_string(i) : t.set_string("") : (console.warn("The skin " + e + " doesn't exist"),
                    t.set_string(""))
                }
                ,
                t.exps = new n
            }();
            var HowlerAudioPlayer = globalThis.HowlerAudioPlayer;
            cr.plugins_.skymenhowlerjs = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.plugins_.skymenhowlerjs.prototype;
                t.Type = function(t) {
                    this.plugin = t,
                    this.runtime = t.runtime,
                    HowlerAudioPlayer.init(this.runtime)
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t) {
                    this.type = t,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {}
                ,
                e.saveToJSON = function() {}
                ,
                e.loadFromJSON = function(t) {}
                ,
                e.onDestroy = function() {}
                ,
                e.tick = function() {}
                ,
                e.draw = function(t) {}
                ,
                e.drawGL = function(t) {}
                ,
                i.prototype.IsPlaying = function(t) {
                    return "" === t.trim() ? HowlerAudioPlayer.isPlaying() : HowlerAudioPlayer.isPlaying(t)
                }
                ,
                t.cnds = new i,
                s.prototype.Play = function(t, e) {
                    "" === e.trim() ? HowlerAudioPlayer.play(t[0]) : HowlerAudioPlayer.play(t[0], e)
                }
                ,
                s.prototype.PlayByName = function(t, e) {
                    "" === e.trim() ? HowlerAudioPlayer.play(t) : HowlerAudioPlayer.play(t, e)
                }
                ,
                s.prototype.Stop = function(t) {
                    "" === t.trim() ? HowlerAudioPlayer.stop() : HowlerAudioPlayer.stop(t)
                }
                ,
                s.prototype.Mute = function(t) {
                    "" === t.trim() ? HowlerAudioPlayer.setMuted(!0) : HowlerAudioPlayer.setMuted(!0, t)
                }
                ,
                s.prototype.Unmute = function(t) {
                    "" === t.trim() ? HowlerAudioPlayer.setMuted(!1) : HowlerAudioPlayer.setMuted(!1, t)
                }
                ,
                s.prototype.Volume = function(t, e) {
                    "" === e.trim() ? HowlerAudioPlayer.setVolume(t) : HowlerAudioPlayer.setVolume(t, e)
                }
                ,
                s.prototype.LinearVolume = function(t, e) {
                    "" === e.trim() ? HowlerAudioPlayer.setLinearVolume(t) : HowlerAudioPlayer.setLinearVolume(t, e)
                }
                ,
                s.prototype.Load = function(t, e) {
                    "" === e.trim() ? HowlerAudioPlayer.load(t[0]) : HowlerAudioPlayer.load(t[0], e)
                }
                ,
                s.prototype.Unload = function(t, e) {
                    "" === e.trim() ? HowlerAudioPlayer.unload(t[0]) : HowlerAudioPlayer.unload(t[0], e)
                }
                ,
                s.prototype.LoadByName = function(t, e) {
                    "" === e.trim() ? HowlerAudioPlayer.load(t) : HowlerAudioPlayer.load(t, e)
                }
                ,
                s.prototype.UnloadByName = function(t, e) {
                    "" === e.trim() ? HowlerAudioPlayer.unload(t) : HowlerAudioPlayer.unload(t, e)
                }
                ,
                t.acts = new s,
                n.prototype.Volume = function(t, e) {
                    "" === e.trim() ? t.set_float(HowlerAudioPlayer.getVolume()) : t.set_float(HowlerAudioPlayer.getVolume(e))
                }
                ,
                n.prototype.MasterVolume = function(t) {
                    t.set_float(HowlerAudioPlayer.getVolume(group))
                }
                ,
                n.prototype.LinearVolume = function(t, e) {
                    "" === e.trim() ? t.set_float(HowlerAudioPlayer.getLinearVolume()) : t.set_float(HowlerAudioPlayer.getLinearVolume(e))
                }
                ,
                n.prototype.MasterVolume = function(t) {
                    t.set_float(HowlerAudioPlayer.getLinearVolume(group))
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.Anchor = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Anchor.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                e.onCreate = function() {
                    this.anch_left = this.properties[0],
                    this.anch_top = this.properties[1],
                    this.anch_right = this.properties[2],
                    this.anch_bottom = this.properties[3],
                    this.inst.update_bbox(),
                    this.xleft = this.inst.bbox.left,
                    this.ytop = this.inst.bbox.top,
                    this.xright = this.runtime.original_width - this.inst.bbox.left,
                    this.ybottom = this.runtime.original_height - this.inst.bbox.top,
                    this.rdiff = this.runtime.original_width - this.inst.bbox.right,
                    this.bdiff = this.runtime.original_height - this.inst.bbox.bottom,
                    this.enabled = 0 !== this.properties[4]
                }
                ,
                e.saveToJSON = function() {
                    return {
                        xleft: this.xleft,
                        ytop: this.ytop,
                        xright: this.xright,
                        ybottom: this.ybottom,
                        rdiff: this.rdiff,
                        bdiff: this.bdiff,
                        enabled: this.enabled
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.xleft = t.xleft,
                    this.ytop = t.ytop,
                    this.xright = t.xright,
                    this.ybottom = t.ybottom,
                    this.rdiff = t.rdiff,
                    this.bdiff = t.bdiff,
                    this.enabled = t.enabled
                }
                ,
                e.tick = function() {
                    var t, e, i, s;
                    this.enabled && (e = this.inst.layer,
                    i = this.inst,
                    s = this.inst.bbox,
                    0 === this.anch_left ? (i.update_bbox(),
                    0 !== (t = e.viewLeft + this.xleft - s.left) && (i.x += t,
                    i.set_bbox_changed())) : 1 === this.anch_left && (i.update_bbox(),
                    0 !== (t = e.viewRight - this.xright - s.left) && (i.x += t,
                    i.set_bbox_changed())),
                    0 === this.anch_top ? (i.update_bbox(),
                    0 !== (t = e.viewTop + this.ytop - s.top) && (i.y += t,
                    i.set_bbox_changed())) : 1 === this.anch_top && (i.update_bbox(),
                    0 !== (t = e.viewBottom - this.ybottom - s.top) && (i.y += t,
                    i.set_bbox_changed())),
                    1 === this.anch_right && (i.update_bbox(),
                    0 !== (t = e.viewRight - this.rdiff - s.right) && (i.width += t,
                    i.width < 0 && (i.width = 0),
                    i.set_bbox_changed())),
                    1 === this.anch_bottom && (i.update_bbox(),
                    0 !== (t = e.viewBottom - this.bdiff - s.bottom) && (i.height += t,
                    i.height < 0 && (i.height = 0),
                    i.set_bbox_changed())))
                }
                ,
                t.cnds = new function() {}
                ,
                i.prototype.SetEnabled = function(t) {
                    this.enabled && 0 === t ? this.enabled = !1 : this.enabled || 0 === t || (this.inst.update_bbox(),
                    this.xleft = this.inst.bbox.left,
                    this.ytop = this.inst.bbox.top,
                    this.xright = this.runtime.original_width - this.inst.bbox.left,
                    this.ybottom = this.runtime.original_height - this.inst.bbox.top,
                    this.rdiff = this.runtime.original_width - this.inst.bbox.right,
                    this.bdiff = this.runtime.original_height - this.inst.bbox.bottom,
                    this.enabled = !0)
                }
                ,
                t.acts = new i,
                t.exps = new function() {}
            }(),
            cr.behaviors.Bullet = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Bullet.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    var t = this.properties[0];
                    this.acc = this.properties[1],
                    this.g = this.properties[2],
                    this.bounceOffSolid = 0 !== this.properties[3],
                    this.setAngle = 0 !== this.properties[4],
                    this.dx = Math.cos(this.inst.angle) * t,
                    this.dy = Math.sin(this.inst.angle) * t,
                    this.lastx = this.inst.x,
                    this.lasty = this.inst.y,
                    this.lastKnownAngle = this.inst.angle,
                    this.travelled = 0,
                    this.enabled = 0 !== this.properties[5]
                }
                ,
                e.saveToJSON = function() {
                    return {
                        acc: this.acc,
                        g: this.g,
                        dx: this.dx,
                        dy: this.dy,
                        lx: this.lastx,
                        ly: this.lasty,
                        lka: this.lastKnownAngle,
                        t: this.travelled,
                        e: this.enabled
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.acc = t.acc,
                    this.g = t.g,
                    this.dx = t.dx,
                    this.dy = t.dy,
                    this.lastx = t.lx,
                    this.lasty = t.ly,
                    this.lastKnownAngle = t.lka,
                    this.travelled = t.t,
                    this.enabled = t.e
                }
                ,
                e.tick = function() {
                    var t, e, i, s;
                    this.enabled && (t = this.runtime.getDt(this.inst),
                    this.inst.angle !== this.lastKnownAngle && (this.setAngle && (e = cr.distanceTo(0, 0, this.dx, this.dy),
                    this.dx = Math.cos(this.inst.angle) * e,
                    this.dy = Math.sin(this.inst.angle) * e),
                    this.lastKnownAngle = this.inst.angle),
                    0 !== this.acc && (e = cr.distanceTo(0, 0, this.dx, this.dy),
                    i = 0 === this.dx && 0 === this.dy ? this.inst.angle : cr.angleTo(0, 0, this.dx, this.dy),
                    (e += this.acc * t) < 0 && (e = 0),
                    this.dx = Math.cos(i) * e,
                    this.dy = Math.sin(i) * e),
                    0 !== this.g && (this.dy += this.g * t),
                    this.lastx = this.inst.x,
                    this.lasty = this.inst.y,
                    0 === this.dx && 0 === this.dy || (this.inst.x += this.dx * t,
                    this.inst.y += this.dy * t,
                    this.travelled += cr.distanceTo(0, 0, this.dx * t, this.dy * t),
                    this.setAngle && (this.inst.angle = cr.angleTo(0, 0, this.dx, this.dy),
                    this.inst.set_bbox_changed(),
                    this.lastKnownAngle = this.inst.angle),
                    this.inst.set_bbox_changed(),
                    this.bounceOffSolid && (s = this.runtime.testOverlapSolid(this.inst)) && (this.runtime.registerCollision(this.inst, s),
                    e = cr.distanceTo(0, 0, this.dx, this.dy),
                    s = this.runtime.calculateSolidBounceAngle(this.inst, this.lastx, this.lasty),
                    this.dx = Math.cos(s) * e,
                    this.dy = Math.sin(s) * e,
                    this.inst.x += this.dx * t,
                    this.inst.y += this.dy * t,
                    this.inst.set_bbox_changed(),
                    this.setAngle && (this.inst.angle = s,
                    this.lastKnownAngle = s,
                    this.inst.set_bbox_changed()),
                    this.runtime.pushOutSolid(this.inst, this.dx / e, this.dy / e, Math.max(2.5 * e * t, 30)) || this.runtime.pushOutSolidNearest(this.inst, 100))))
                }
                ,
                i.prototype.CompareSpeed = function(t, e) {
                    return cr.do_cmp(cr.distanceTo(0, 0, this.dx, this.dy), t, e)
                }
                ,
                i.prototype.CompareTravelled = function(t, e) {
                    return cr.do_cmp(this.travelled, t, e)
                }
                ,
                t.cnds = new i,
                s.prototype.SetSpeed = function(t) {
                    var e = cr.angleTo(0, 0, this.dx, this.dy);
                    this.dx = Math.cos(e) * t,
                    this.dy = Math.sin(e) * t
                }
                ,
                s.prototype.SetAcceleration = function(t) {
                    this.acc = t
                }
                ,
                s.prototype.SetGravity = function(t) {
                    this.g = t
                }
                ,
                s.prototype.SetAngleOfMotion = function(t) {
                    t = cr.to_radians(t);
                    var e = cr.distanceTo(0, 0, this.dx, this.dy);
                    this.dx = Math.cos(t) * e,
                    this.dy = Math.sin(t) * e
                }
                ,
                s.prototype.Bounce = function(t) {
                    var e, i, s;
                    !t || (e = t.getFirstPicked(this.inst)) && (i = this.runtime.getDt(this.inst),
                    s = cr.distanceTo(0, 0, this.dx, this.dy),
                    t = this.runtime.calculateSolidBounceAngle(this.inst, this.lastx, this.lasty, e),
                    this.dx = Math.cos(t) * s,
                    this.dy = Math.sin(t) * s,
                    this.inst.x += this.dx * i,
                    this.inst.y += this.dy * i,
                    this.inst.set_bbox_changed(),
                    this.setAngle && (this.inst.angle = t,
                    this.lastKnownAngle = t,
                    this.inst.set_bbox_changed()),
                    0 !== s && (this.bounceOffSolid ? this.runtime.pushOutSolid(this.inst, this.dx / s, this.dy / s, Math.max(2.5 * s * i, 30)) || this.runtime.pushOutSolidNearest(this.inst, 100) : this.runtime.pushOut(this.inst, this.dx / s, this.dy / s, Math.max(2.5 * s * i, 30), e)))
                }
                ,
                s.prototype.SetDistanceTravelled = function(t) {
                    this.travelled = t
                }
                ,
                s.prototype.SetEnabled = function(t) {
                    this.enabled = 1 === t
                }
                ,
                t.acts = new s,
                n.prototype.Speed = function(t) {
                    var e = cr.distanceTo(0, 0, this.dx, this.dy)
                      , e = cr.round6dp(e);
                    t.set_float(e)
                }
                ,
                n.prototype.Acceleration = function(t) {
                    t.set_float(this.acc)
                }
                ,
                n.prototype.AngleOfMotion = function(t) {
                    t.set_float(cr.to_degrees(cr.angleTo(0, 0, this.dx, this.dy)))
                }
                ,
                n.prototype.DistanceTravelled = function(t) {
                    t.set_float(this.travelled)
                }
                ,
                n.prototype.Gravity = function(t) {
                    t.set_float(this.g)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.Fade = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Fade.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.activeAtStart = 1 === this.properties[0],
                    this.setMaxOpacity = !1,
                    this.fadeInTime = this.properties[1],
                    this.waitTime = this.properties[2],
                    this.fadeOutTime = this.properties[3],
                    this.destroy = this.properties[4],
                    this.stage = this.activeAtStart ? 0 : 3,
                    this.recycled ? this.stageTime.reset() : this.stageTime = new cr.KahanAdder,
                    this.maxOpacity = this.inst.opacity || 1,
                    this.activeAtStart && (0 === this.fadeInTime ? (this.stage = 1,
                    0 === this.waitTime && (this.stage = 2)) : (this.inst.opacity = 0,
                    this.runtime.redraw = !0))
                }
                ,
                e.saveToJSON = function() {
                    return {
                        fit: this.fadeInTime,
                        wt: this.waitTime,
                        fot: this.fadeOutTime,
                        s: this.stage,
                        st: this.stageTime.sum,
                        mo: this.maxOpacity
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.fadeInTime = t.fit,
                    this.waitTime = t.wt,
                    this.fadeOutTime = t.fot,
                    this.stage = t.s,
                    this.stageTime.reset(),
                    this.stageTime.sum = t.st,
                    this.maxOpacity = t.mo
                }
                ,
                e.tick = function() {
                    this.stageTime.add(this.runtime.getDt(this.inst)),
                    0 === this.stage && (this.inst.opacity = this.stageTime.sum / this.fadeInTime * this.maxOpacity,
                    this.runtime.redraw = !0,
                    this.inst.opacity >= this.maxOpacity && (this.inst.opacity = this.maxOpacity,
                    this.stage = 1,
                    this.stageTime.reset(),
                    this.runtime.trigger(cr.behaviors.Fade.prototype.cnds.OnFadeInEnd, this.inst))),
                    1 === this.stage && this.stageTime.sum >= this.waitTime && (this.stage = 2,
                    this.stageTime.reset(),
                    this.runtime.trigger(cr.behaviors.Fade.prototype.cnds.OnWaitEnd, this.inst)),
                    2 === this.stage && 0 !== this.fadeOutTime && (this.inst.opacity = this.maxOpacity - this.stageTime.sum / this.fadeOutTime * this.maxOpacity,
                    this.runtime.redraw = !0,
                    this.inst.opacity < 0 && (this.inst.opacity = 0,
                    this.stage = 3,
                    this.stageTime.reset(),
                    this.runtime.trigger(cr.behaviors.Fade.prototype.cnds.OnFadeOutEnd, this.inst),
                    1 === this.destroy && this.runtime.DestroyInstance(this.inst)))
                }
                ,
                e.doStart = function() {
                    this.stage = 0,
                    this.stageTime.reset(),
                    0 === this.fadeInTime ? (this.stage = 1,
                    0 === this.waitTime && (this.stage = 2)) : (this.inst.opacity = 0,
                    this.runtime.redraw = !0)
                }
                ,
                i.prototype.OnFadeOutEnd = function() {
                    return !0
                }
                ,
                i.prototype.OnFadeInEnd = function() {
                    return !0
                }
                ,
                i.prototype.OnWaitEnd = function() {
                    return !0
                }
                ,
                t.cnds = new i,
                s.prototype.StartFade = function() {
                    this.activeAtStart || this.setMaxOpacity || (this.maxOpacity = this.inst.opacity || 1,
                    this.setMaxOpacity = !0),
                    3 === this.stage && this.doStart()
                }
                ,
                s.prototype.RestartFade = function() {
                    this.doStart()
                }
                ,
                s.prototype.SetFadeInTime = function(t) {
                    t < 0 && (t = 0),
                    this.fadeInTime = t
                }
                ,
                s.prototype.SetWaitTime = function(t) {
                    t < 0 && (t = 0),
                    this.waitTime = t
                }
                ,
                s.prototype.SetFadeOutTime = function(t) {
                    t < 0 && (t = 0),
                    this.fadeOutTime = t
                }
                ,
                t.acts = new s,
                n.prototype.FadeInTime = function(t) {
                    t.set_float(this.fadeInTime)
                }
                ,
                n.prototype.WaitTime = function(t) {
                    t.set_float(this.waitTime)
                }
                ,
                n.prototype.FadeOutTime = function(t) {
                    t.set_float(this.fadeOutTime)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.LOS = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.LOS.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Type.prototype;
                e.onCreate = function() {
                    this.obstacleTypes = []
                }
                ,
                e.findLosBehavior = function(t) {
                    for (var e, i = 0, s = t.behavior_insts.length; i < s; ++i)
                        if ((e = t.behavior_insts[i])instanceof cr.behaviors.LOS.prototype.Instance && e.type === this)
                            return e;
                    return null
                }
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ,
                (e = t.Instance.prototype).onCreate = function() {
                    this.obstacleMode = this.properties[0],
                    this.range = this.properties[1],
                    this.cone = cr.to_radians(this.properties[2]),
                    this.useCollisionCells = 0 !== this.properties[3]
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    for (var t = {
                        r: this.range,
                        c: this.cone,
                        t: []
                    }, e = 0, i = this.type.obstacleTypes.length; e < i; e++)
                        t.t.push(this.type.obstacleTypes[e].sid);
                    return t
                }
                ,
                e.loadFromJSON = function(t) {
                    var e, i, s;
                    for (this.range = t.r,
                    this.cone = t.c,
                    cr.clearArray(this.type.obstacleTypes),
                    e = 0,
                    i = t.t.length; e < i; e++)
                        (s = this.runtime.getObjectTypeBySid(t.t[e])) && this.type.obstacleTypes.push(s)
                }
                ,
                e.tick = function() {}
                ;
                var c = []
                  , l = new cr.rect(0,0,0,0);
                function i() {}
                e.hasLOSto = function(t, e) {
                    var i = this.inst.x
                      , s = this.inst.y
                      , n = this.inst.angle;
                    if (this.inst.width < 0 && (n += Math.PI),
                    cr.distanceTo(i, s, t, e) > this.range)
                        return !1;
                    var r, o, a, h = cr.angleTo(i, s, t, e);
                    if (cr.angleDiff(n, h) > this.cone / 2)
                        return !1;
                    if (l.set(i, s, t, e),
                    l.normalize(),
                    0 === this.obstacleMode) {
                        for (this.useCollisionCells ? this.runtime.getSolidCollisionCandidates(this.inst.layer, l, c) : (h = this.runtime.getSolidBehavior()) && cr.appendArray(c, h.my_instances.valuesRef()),
                        r = 0,
                        o = c.length; r < o; ++r)
                            if (a = c[r],
                            a.extra.solidEnabled && a !== this.inst && this.runtime.testSegmentOverlap(i, s, t, e, a))
                                return cr.clearArray(c),
                                !1
                    } else {
                        if (this.useCollisionCells)
                            this.runtime.getTypesCollisionCandidates(this.inst.layer, this.type.obstacleTypes, l, c);
                        else
                            for (r = 0,
                            o = this.type.obstacleTypes.length; r < o; ++r)
                                cr.appendArray(c, this.type.obstacleTypes[r].instances);
                        for (r = 0,
                        o = c.length; r < o; ++r)
                            if (a = c[r],
                            a !== this.inst && this.runtime.testSegmentOverlap(i, s, t, e, a))
                                return cr.clearArray(c),
                                !1
                    }
                    return cr.clearArray(c),
                    !0
                }
                ;
                var f = new cr.ObjectSet
                  , m = new cr.ObjectSet;
                function s() {}
                function n() {}
                i.prototype.HasLOSToObject = function(t) {
                    if (!t)
                        return !1;
                    var e, i, s, n, r, o, a = this.runtime.getCurrentConditionObjectType().getCurrentSol(), h = t.getCurrentSol(), c = a.getObjects(), l = h.getObjects();
                    a.select_all && cr.clearArray(a.else_instances),
                    h.select_all && cr.clearArray(h.else_instances);
                    for (var u = this.runtime.getCurrentCondition().inverted, p = 0, d = c.length; p < d; ++p) {
                        for (s = c[p],
                        o = !1,
                        n = this.findLosBehavior(s),
                        e = 0,
                        i = l.length; e < i; ++e)
                            s !== (r = l[e]) && cr.xor(n.hasLOSto(r.x, r.y), u) && (o = !0,
                            m.add(r));
                        o && f.add(s)
                    }
                    var g = f.valuesRef()
                      , t = m.valuesRef();
                    return a.select_all = !1,
                    h.select_all = !1,
                    cr.shallowAssignArray(a.instances, g),
                    cr.shallowAssignArray(h.instances, t),
                    f.clear(),
                    m.clear(),
                    a.hasObjects()
                }
                ,
                i.prototype.HasLOSToPosition = function(t, e) {
                    return this.hasLOSto(t, e)
                }
                ,
                t.cnds = new i,
                s.prototype.SetRange = function(t) {
                    this.range = t
                }
                ,
                s.prototype.SetCone = function(t) {
                    this.cone = cr.to_radians(t)
                }
                ,
                s.prototype.AddObstacle = function(t) {
                    var e = this.type.obstacleTypes;
                    if (-1 === e.indexOf(t)) {
                        for (var i, s = 0, n = e.length; s < n; s++)
                            if ((i = e[s]).is_family && -1 !== i.members.indexOf(t))
                                return;
                        e.push(t)
                    }
                }
                ,
                s.prototype.ClearObstacles = function() {
                    cr.clearArray(this.type.obstacleTypes)
                }
                ,
                t.acts = new s,
                n.prototype.Range = function(t) {
                    t.set_float(this.range)
                }
                ,
                n.prototype.ConeOfView = function(t) {
                    t.set_float(cr.to_degrees(this.cone))
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.Persist = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Persist.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    this.myProperty = this.properties[0]
                }
                ,
                e.onDestroy = function() {}
                ,
                e.tick = function() {
                    this.runtime.getDt(this.inst)
                }
                ,
                t.cnds = new function() {}
                ,
                t.acts = new function() {}
                ,
                t.exps = new function() {}
            }(),
            cr.behaviors.Platform = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Platform.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    this.leftkey = !1,
                    this.rightkey = !1,
                    this.jumpkey = !1,
                    this.jumped = !1,
                    this.doubleJumped = !1,
                    this.canDoubleJump = !1,
                    this.ignoreInput = !1,
                    this.simleft = !1,
                    this.simright = !1,
                    this.simjump = !1,
                    this.lastFloorObject = null,
                    this.loadFloorObject = -1,
                    this.lastFloorX = 0,
                    this.lastFloorY = 0,
                    this.floorIsJumpthru = !1,
                    this.animMode = 0,
                    this.fallthrough = 0,
                    this.firstTick = !0,
                    this.dx = 0,
                    this.dy = 0
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.updateGravity = function() {
                    this.downx = Math.cos(this.ga),
                    this.downy = Math.sin(this.ga),
                    this.rightx = Math.cos(this.ga - Math.PI / 2),
                    this.righty = Math.sin(this.ga - Math.PI / 2),
                    this.downx = cr.round6dp(this.downx),
                    this.downy = cr.round6dp(this.downy),
                    this.rightx = cr.round6dp(this.rightx),
                    this.righty = cr.round6dp(this.righty),
                    this.g1 = this.g,
                    this.g < 0 && (this.downx *= -1,
                    this.downy *= -1,
                    this.g = Math.abs(this.g))
                }
                ,
                e.onCreate = function() {
                    this.maxspeed = this.properties[0],
                    this.acc = this.properties[1],
                    this.dec = this.properties[2],
                    this.jumpStrength = this.properties[3],
                    this.g = this.properties[4],
                    this.g1 = this.g,
                    this.maxFall = this.properties[5],
                    this.enableDoubleJump = 0 !== this.properties[6],
                    this.jumpSustain = this.properties[7] / 1e3,
                    this.defaultControls = 1 === this.properties[8],
                    this.enabled = 0 !== this.properties[9],
                    this.wasOnFloor = !1,
                    this.wasOverJumpthru = this.runtime.testOverlapJumpThru(this.inst),
                    this.loadOverJumpthru = -1,
                    this.sustainTime = 0,
                    this.ga = cr.to_radians(90),
                    this.updateGravity();
                    var e = this;
                    this.defaultControls && !this.runtime.isDomFree && (jQuery(document).keydown(function(t) {
                        e.onKeyDown(t)
                    }),
                    jQuery(document).keyup(function(t) {
                        e.onKeyUp(t)
                    })),
                    this.recycled || (this.myDestroyCallback = function(t) {
                        e.onInstanceDestroyed(t)
                    }
                    ),
                    this.runtime.addDestroyCallback(this.myDestroyCallback),
                    this.inst.extra.isPlatformBehavior = !0
                }
                ,
                e.saveToJSON = function() {
                    return {
                        ii: this.ignoreInput,
                        lfx: this.lastFloorX,
                        lfy: this.lastFloorY,
                        lfo: this.lastFloorObject ? this.lastFloorObject.uid : -1,
                        am: this.animMode,
                        en: this.enabled,
                        fall: this.fallthrough,
                        ft: this.firstTick,
                        dx: this.dx,
                        dy: this.dy,
                        ms: this.maxspeed,
                        acc: this.acc,
                        dec: this.dec,
                        js: this.jumpStrength,
                        g: this.g,
                        g1: this.g1,
                        mf: this.maxFall,
                        wof: this.wasOnFloor,
                        woj: this.wasOverJumpthru ? this.wasOverJumpthru.uid : -1,
                        ga: this.ga,
                        edj: this.enableDoubleJump,
                        cdj: this.canDoubleJump,
                        dj: this.doubleJumped,
                        sus: this.jumpSustain
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.ignoreInput = t.ii,
                    this.lastFloorX = t.lfx,
                    this.lastFloorY = t.lfy,
                    this.loadFloorObject = t.lfo,
                    this.animMode = t.am,
                    this.enabled = t.en,
                    this.fallthrough = t.fall,
                    this.firstTick = t.ft,
                    this.dx = t.dx,
                    this.dy = t.dy,
                    this.maxspeed = t.ms,
                    this.acc = t.acc,
                    this.dec = t.dec,
                    this.jumpStrength = t.js,
                    this.g = t.g,
                    this.g1 = t.g1,
                    this.maxFall = t.mf,
                    this.wasOnFloor = t.wof,
                    this.loadOverJumpthru = t.woj,
                    this.ga = t.ga,
                    this.enableDoubleJump = t.edj,
                    this.canDoubleJump = t.cdj,
                    this.doubleJumped = t.dj,
                    this.jumpSustain = t.sus,
                    this.leftkey = !1,
                    this.rightkey = !1,
                    this.jumpkey = !1,
                    this.jumped = !1,
                    this.simleft = !1,
                    this.simright = !1,
                    this.simjump = !1,
                    this.sustainTime = 0,
                    this.updateGravity()
                }
                ,
                e.afterLoad = function() {
                    -1 === this.loadFloorObject ? this.lastFloorObject = null : this.lastFloorObject = this.runtime.getObjectByUID(this.loadFloorObject),
                    -1 === this.loadOverJumpthru ? this.wasOverJumpthru = null : this.wasOverJumpthru = this.runtime.getObjectByUID(this.loadOverJumpthru)
                }
                ,
                e.onInstanceDestroyed = function(t) {
                    this.lastFloorObject == t && (this.lastFloorObject = null)
                }
                ,
                e.onDestroy = function() {
                    this.lastFloorObject = null,
                    this.runtime.removeDestroyCallback(this.myDestroyCallback)
                }
                ,
                e.onKeyDown = function(t) {
                    switch (t.which) {
                    case 38:
                        t.preventDefault(),
                        this.jumpkey = !0;
                        break;
                    case 37:
                        t.preventDefault(),
                        this.leftkey = !0;
                        break;
                    case 39:
                        t.preventDefault(),
                        this.rightkey = !0
                    }
                }
                ,
                e.onKeyUp = function(t) {
                    switch (t.which) {
                    case 38:
                        t.preventDefault(),
                        this.jumpkey = !1,
                        this.jumped = !1;
                        break;
                    case 37:
                        t.preventDefault(),
                        this.leftkey = !1;
                        break;
                    case 39:
                        t.preventDefault(),
                        this.rightkey = !1
                    }
                }
                ,
                e.onWindowBlur = function() {
                    this.leftkey = !1,
                    this.rightkey = !1,
                    this.jumpkey = !1
                }
                ,
                e.getGDir = function() {
                    return this.g < 0 ? -1 : 1
                }
                ,
                e.isOnFloor = function() {
                    var t, e, i, s, n = null, r = this.inst.x, o = this.inst.y;
                    if (this.inst.x += this.downx,
                    this.inst.y += this.downy,
                    this.inst.set_bbox_changed(),
                    this.lastFloorObject && this.runtime.testOverlap(this.inst, this.lastFloorObject) && (!this.runtime.typeHasBehavior(this.lastFloorObject.type, cr.behaviors.solid) || this.lastFloorObject.extra.solidEnabled))
                        return this.inst.x = r,
                        this.inst.y = o,
                        this.inst.set_bbox_changed(),
                        this.lastFloorObject;
                    if ((t = this.runtime.testOverlapSolid(this.inst)) || 0 !== this.fallthrough || (n = this.runtime.testOverlapJumpThru(this.inst, !0)),
                    this.inst.x = r,
                    this.inst.y = o,
                    this.inst.set_bbox_changed(),
                    t)
                        return this.runtime.testOverlap(this.inst, t) ? null : (this.floorIsJumpthru = !1,
                        t);
                    if (n && n.length) {
                        for (s = e = 0,
                        i = n.length; e < i; e++)
                            n[s] = n[e],
                            this.runtime.testOverlap(this.inst, n[e]) || s++;
                        if (1 <= s)
                            return this.floorIsJumpthru = !0,
                            n[0]
                    }
                    return null
                }
                ,
                e.tick = function() {}
                ,
                e.posttick = function() {
                    var t, e, i, s, n, r, o, a, h = this.runtime.getDt(this.inst);
                    this.jumpkey || this.simjump || (this.jumped = !1);
                    var c = this.leftkey || this.simleft
                      , l = this.rightkey || this.simright
                      , u = this.jumpkey || this.simjump
                      , p = u && !this.jumped;
                    if (this.simleft = !1,
                    this.simright = !1,
                    this.simjump = !1,
                    this.enabled) {
                        this.ignoreInput && (p = u = l = c = !1),
                        u || (this.sustainTime = 0);
                        var d = this.lastFloorObject
                          , g = !1;
                        this.firstTick && ((this.runtime.testOverlapSolid(this.inst) || this.runtime.testOverlapJumpThru(this.inst)) && this.runtime.pushOutSolid(this.inst, -this.downx, -this.downy, 4, !0),
                        this.firstTick = !1),
                        !d || 0 !== this.dy || d.y === this.lastFloorY && d.x === this.lastFloorX || (t = d.x - this.lastFloorX,
                        e = d.y - this.lastFloorY,
                        this.inst.x += t,
                        this.inst.y += e,
                        this.inst.set_bbox_changed(),
                        this.lastFloorX = d.x,
                        this.lastFloorY = d.y,
                        g = !0,
                        this.runtime.testOverlapSolid(this.inst) && this.runtime.pushOutSolid(this.inst, -t, -e, 2.5 * Math.sqrt(t * t + e * e)));
                        var f = this.isOnFloor()
                          , m = this.runtime.testOverlapSolid(this.inst);
                        if (m) {
                            var y = Math.abs(this.inst.width)
                              , _ = Math.abs(this.inst.height);
                            if (this.inst.extra.inputPredicted)
                                this.runtime.pushOutSolid(this.inst, -this.downx, -this.downy, 10, !1);
                            else if (this.runtime.pushOutSolidAxis(this.inst, -this.downx, -this.downy, _ / 8))
                                this.runtime.registerCollision(this.inst, m);
                            else if (this.runtime.pushOutSolidAxis(this.inst, this.rightx, this.righty, y / 2))
                                this.runtime.registerCollision(this.inst, m);
                            else if (this.runtime.pushOutSolidAxis(this.inst, this.downx, this.downy, _ / 2))
                                this.runtime.registerCollision(this.inst, m);
                            else {
                                if (!this.runtime.pushOutSolidNearest(this.inst, Math.max(y, _) / 2))
                                    return;
                                this.runtime.registerCollision(this.inst, m)
                            }
                        }
                        f ? (this.doubleJumped = !1,
                        this.canDoubleJump = !1,
                        0 < this.dy && (this.wasOnFloor || (this.runtime.pushInFractional(this.inst, -this.downx, -this.downy, f, 16),
                        this.wasOnFloor = !0),
                        this.dy = 0),
                        d != f ? (this.lastFloorObject = f,
                        this.lastFloorX = f.x,
                        this.lastFloorY = f.y,
                        this.runtime.registerCollision(this.inst, f)) : g && (m = this.runtime.testOverlapSolid(this.inst)) && (this.runtime.registerCollision(this.inst, m),
                        0 !== t && (0 < t ? this.runtime.pushOutSolid(this.inst, -this.rightx, -this.righty) : this.runtime.pushOutSolid(this.inst, this.rightx, this.righty)),
                        this.runtime.pushOutSolid(this.inst, -this.downx, -this.downy))) : u || (this.canDoubleJump = !0),
                        (f && p || !f && this.enableDoubleJump && u && this.canDoubleJump && !this.doubleJumped) && (o = this.inst.x,
                        a = this.inst.y,
                        this.inst.x -= this.downx,
                        this.inst.y -= this.downy,
                        this.inst.set_bbox_changed(),
                        this.runtime.testOverlapSolid(this.inst) ? p = !1 : (this.sustainTime = this.jumpSustain,
                        this.runtime.trigger(cr.behaviors.Platform.prototype.cnds.OnJump, this.inst),
                        this.animMode = 2,
                        this.dy = -this.jumpStrength,
                        p = !0,
                        f ? this.jumped = !0 : this.doubleJumped = !0),
                        this.inst.x = o,
                        this.inst.y = a,
                        this.inst.set_bbox_changed()),
                        f || (u && 0 < this.sustainTime ? (this.dy = -this.jumpStrength,
                        this.sustainTime -= h) : (this.lastFloorObject = null,
                        this.dy += this.g * h,
                        this.dy > this.maxFall && (this.dy = this.maxFall)),
                        p && (this.jumped = !0)),
                        this.wasOnFloor = !!f,
                        c == l && (this.dx < 0 ? (this.dx += this.dec * h,
                        0 < this.dx && (this.dx = 0)) : 0 < this.dx && (this.dx -= this.dec * h,
                        this.dx < 0 && (this.dx = 0))),
                        c && !l && (0 < this.dx ? this.dx -= (this.acc + this.dec) * h : this.dx -= this.acc * h),
                        l && !c && (this.dx < 0 ? this.dx += (this.acc + this.dec) * h : this.dx += this.acc * h),
                        this.dx > this.maxspeed ? this.dx = this.maxspeed : this.dx < -this.maxspeed && (this.dx = -this.maxspeed);
                        u = !1;
                        if (0 !== this.dx && (o = this.inst.x,
                        a = this.inst.y,
                        t = this.dx * h * this.rightx,
                        e = this.dx * h * this.righty,
                        this.inst.x += this.rightx * (1 < this.dx ? 1 : -1) - this.downx,
                        this.inst.y += this.righty * (1 < this.dx ? 1 : -1) - this.downy,
                        this.inst.set_bbox_changed(),
                        l = !1,
                        v = this.runtime.testOverlapSolid(this.inst),
                        this.inst.x = o + t,
                        this.inst.y = a + e,
                        this.inst.set_bbox_changed(),
                        !(c = this.runtime.testOverlapSolid(this.inst)) && f && (c = this.runtime.testOverlapJumpThru(this.inst)) && (this.inst.x = o,
                        this.inst.y = a,
                        this.inst.set_bbox_changed(),
                        l = !this.runtime.testOverlap(this.inst, c) || (c = null,
                        !1),
                        this.inst.x = o + t,
                        this.inst.y = a + e,
                        this.inst.set_bbox_changed()),
                        c ? (w = Math.abs(this.dx * h) + 2,
                        v || !this.runtime.pushOutSolid(this.inst, -this.downx, -this.downy, w, l, c) ? (this.runtime.registerCollision(this.inst, c),
                        w = Math.max(Math.abs(this.dx * h * 2.5), 30),
                        this.runtime.pushOutSolid(this.inst, this.rightx * (this.dx < 0 ? 1 : -1), this.righty * (this.dx < 0 ? 1 : -1), w, !1) ? !f || l || this.floorIsJumpthru || (o = this.inst.x,
                        a = this.inst.y,
                        this.inst.x += this.downx,
                        this.inst.y += this.downy,
                        this.runtime.testOverlapSolid(this.inst) && this.runtime.pushOutSolid(this.inst, -this.downx, -this.downy, 3, !1) || (this.inst.x = o,
                        this.inst.y = a,
                        this.inst.set_bbox_changed())) : (this.inst.x = o,
                        this.inst.y = a,
                        this.inst.set_bbox_changed()),
                        l || (this.dx = 0)) : !v && !p && Math.abs(this.dy) < Math.abs(this.jumpStrength / 4) && (this.dy = 0,
                        f || (u = !0))) : (x = this.isOnFloor(),
                        f && !x ? (b = Math.ceil(Math.abs(this.dx * h)) + 2,
                        o = this.inst.x,
                        a = this.inst.y,
                        this.inst.x += this.downx * b,
                        this.inst.y += this.downy * b,
                        this.inst.set_bbox_changed(),
                        this.runtime.testOverlapSolid(this.inst) || this.runtime.testOverlapJumpThru(this.inst) ? this.runtime.pushOutSolid(this.inst, -this.downx, -this.downy, b + 2, !0) : (this.inst.x = o,
                        this.inst.y = a,
                        this.inst.set_bbox_changed())) : x && (!f && this.floorIsJumpthru && (this.lastFloorObject = x,
                        this.lastFloorX = x.x,
                        this.lastFloorY = x.y,
                        u = !(this.dy = 0)),
                        0 === this.dy && this.runtime.pushInFractional(this.inst, -this.downx, -this.downy, x, 16)))),
                        0 !== this.dy) {
                            o = this.inst.x,
                            a = this.inst.y,
                            this.inst.x += this.dy * h * this.downx,
                            this.inst.y += this.dy * h * this.downy;
                            var v = this.inst.x
                              , b = this.inst.y;
                            this.inst.set_bbox_changed();
                            var w, x = !1;
                            if (!(m = this.runtime.testOverlapSolid(this.inst)) && 0 < this.dy && !f) {
                                if ((i = 0 < this.fallthrough ? null : this.runtime.testOverlapJumpThru(this.inst, !0)) && i.length) {
                                    if (this.wasOverJumpthru) {
                                        for (this.inst.x = o,
                                        this.inst.y = a,
                                        this.inst.set_bbox_changed(),
                                        r = s = 0,
                                        n = i.length; s < n; s++)
                                            i[r] = i[s],
                                            this.runtime.testOverlap(this.inst, i[s]) || r++;
                                        i.length = r,
                                        this.inst.x = v,
                                        this.inst.y = b,
                                        this.inst.set_bbox_changed()
                                    }
                                    1 <= i.length && (m = i[0])
                                }
                                x = !!m
                            }
                            m && (this.runtime.registerCollision(this.inst, m),
                            this.sustainTime = 0,
                            w = x ? Math.abs(this.dy * h * 2.5 + 10) : Math.max(Math.abs(this.dy * h * 2.5 + 10), 30),
                            this.runtime.pushOutSolid(this.inst, this.downx * (this.dy < 0 ? 1 : -1), this.downy * (this.dy < 0 ? 1 : -1), w, x, m) ? (this.lastFloorObject = m,
                            this.lastFloorX = m.x,
                            this.lastFloorY = m.y,
                            (this.floorIsJumpthru = x) && (u = !0),
                            this.dy = 0) : (this.inst.x = o,
                            this.inst.y = a,
                            this.inst.set_bbox_changed(),
                            this.wasOnFloor = !0,
                            x || (this.dy = 0)))
                        }
                        3 !== this.animMode && 0 < this.dy && !f && (this.runtime.trigger(cr.behaviors.Platform.prototype.cnds.OnFall, this.inst),
                        this.animMode = 3),
                        (f || u) && 0 <= this.dy && (3 === this.animMode || u || p && 0 === this.dy ? (this.runtime.trigger(cr.behaviors.Platform.prototype.cnds.OnLand, this.inst),
                        0 === this.dx && 0 === this.dy ? this.animMode = 0 : this.animMode = 1) : (0 !== this.animMode && 0 === this.dx && 0 === this.dy && (this.runtime.trigger(cr.behaviors.Platform.prototype.cnds.OnStop, this.inst),
                        this.animMode = 0),
                        1 === this.animMode || 0 === this.dx && 0 === this.dy || p || (this.runtime.trigger(cr.behaviors.Platform.prototype.cnds.OnMove, this.inst),
                        this.animMode = 1))),
                        0 < this.fallthrough && this.fallthrough--,
                        this.wasOverJumpthru = this.runtime.testOverlapJumpThru(this.inst)
                    }
                }
                ,
                i.prototype.IsMoving = function() {
                    return 0 !== this.dx || 0 !== this.dy
                }
                ,
                i.prototype.CompareSpeed = function(t, e) {
                    var i = Math.sqrt(this.dx * this.dx + this.dy * this.dy);
                    return cr.do_cmp(i, t, e)
                }
                ,
                i.prototype.IsOnFloor = function() {
                    if (0 !== this.dy)
                        return !1;
                    var t, e, i, s, n = null, r = this.inst.x, o = this.inst.y;
                    if (this.inst.x += this.downx,
                    this.inst.y += this.downy,
                    this.inst.set_bbox_changed(),
                    (t = this.runtime.testOverlapSolid(this.inst)) || 0 !== this.fallthrough || (n = this.runtime.testOverlapJumpThru(this.inst, !0)),
                    this.inst.x = r,
                    this.inst.y = o,
                    this.inst.set_bbox_changed(),
                    t)
                        return !this.runtime.testOverlap(this.inst, t);
                    if (n && n.length) {
                        for (s = e = 0,
                        i = n.length; e < i; e++)
                            n[s] = n[e],
                            this.runtime.testOverlap(this.inst, n[e]) || s++;
                        if (1 <= s)
                            return !0
                    }
                    return !1
                }
                ,
                i.prototype.IsByWall = function(t) {
                    var e, i = this.inst.x, s = this.inst.y;
                    return 0 === t ? (this.inst.x -= 2 * this.rightx,
                    this.inst.y -= 2 * this.righty) : (this.inst.x += 2 * this.rightx,
                    this.inst.y += 2 * this.righty),
                    this.inst.set_bbox_changed(),
                    this.runtime.testOverlapSolid(this.inst) ? (this.inst.x -= 3 * this.downx,
                    this.inst.y -= 3 * this.downy,
                    this.inst.set_bbox_changed(),
                    e = this.runtime.testOverlapSolid(this.inst),
                    this.inst.x = i,
                    this.inst.y = s,
                    this.inst.set_bbox_changed(),
                    e) : (this.inst.x = i,
                    this.inst.y = s,
                    this.inst.set_bbox_changed(),
                    !1)
                }
                ,
                i.prototype.IsJumping = function() {
                    return this.dy < 0
                }
                ,
                i.prototype.IsFalling = function() {
                    return 0 < this.dy
                }
                ,
                i.prototype.OnJump = function() {
                    return !0
                }
                ,
                i.prototype.OnFall = function() {
                    return !0
                }
                ,
                i.prototype.OnStop = function() {
                    return !0
                }
                ,
                i.prototype.OnMove = function() {
                    return !0
                }
                ,
                i.prototype.OnLand = function() {
                    return !0
                }
                ,
                i.prototype.IsDoubleJumpEnabled = function() {
                    return this.enableDoubleJump
                }
                ,
                t.cnds = new i,
                s.prototype.SetIgnoreInput = function(t) {
                    this.ignoreInput = t
                }
                ,
                s.prototype.SetMaxSpeed = function(t) {
                    this.maxspeed = t,
                    this.maxspeed < 0 && (this.maxspeed = 0)
                }
                ,
                s.prototype.SetAcceleration = function(t) {
                    this.acc = t,
                    this.acc < 0 && (this.acc = 0)
                }
                ,
                s.prototype.SetDeceleration = function(t) {
                    this.dec = t,
                    this.dec < 0 && (this.dec = 0)
                }
                ,
                s.prototype.SetJumpStrength = function(t) {
                    this.jumpStrength = t,
                    this.jumpStrength < 0 && (this.jumpStrength = 0)
                }
                ,
                s.prototype.SetGravity = function(t) {
                    this.g1 !== t && (this.g = t,
                    this.updateGravity(),
                    this.runtime.testOverlapSolid(this.inst) && (this.runtime.pushOutSolid(this.inst, this.downx, this.downy, 10),
                    this.inst.x += 2 * this.downx,
                    this.inst.y += 2 * this.downy,
                    this.inst.set_bbox_changed()),
                    this.lastFloorObject = null)
                }
                ,
                s.prototype.SetMaxFallSpeed = function(t) {
                    this.maxFall = t,
                    this.maxFall < 0 && (this.maxFall = 0)
                }
                ,
                s.prototype.SimulateControl = function(t) {
                    switch (t) {
                    case 0:
                        this.simleft = !0;
                        break;
                    case 1:
                        this.simright = !0;
                        break;
                    case 2:
                        this.simjump = !0
                    }
                }
                ,
                s.prototype.SetVectorX = function(t) {
                    this.dx = t
                }
                ,
                s.prototype.SetVectorY = function(t) {
                    this.dy = t
                }
                ,
                s.prototype.SetGravityAngle = function(t) {
                    t = cr.to_radians(t),
                    t = cr.clamp_angle(t),
                    this.ga !== t && (this.ga = t,
                    this.updateGravity(),
                    this.lastFloorObject = null)
                }
                ,
                s.prototype.SetEnabled = function(t) {
                    this.enabled !== (1 === t) && (this.enabled = 1 === t,
                    this.enabled || (this.lastFloorObject = null))
                }
                ,
                s.prototype.FallThrough = function() {
                    var t = this.inst.x
                      , e = this.inst.y;
                    this.inst.x += this.downx,
                    this.inst.y += this.downy,
                    this.inst.set_bbox_changed();
                    var i = this.runtime.testOverlapJumpThru(this.inst, !1);
                    this.inst.x = t,
                    this.inst.y = e,
                    this.inst.set_bbox_changed(),
                    i && (this.fallthrough = 3,
                    this.lastFloorObject = null)
                }
                ,
                s.prototype.SetDoubleJumpEnabled = function(t) {
                    this.enableDoubleJump = 0 !== t
                }
                ,
                s.prototype.SetJumpSustain = function(t) {
                    this.jumpSustain = t / 1e3
                }
                ,
                t.acts = new s,
                n.prototype.Speed = function(t) {
                    t.set_float(Math.sqrt(this.dx * this.dx + this.dy * this.dy))
                }
                ,
                n.prototype.MaxSpeed = function(t) {
                    t.set_float(this.maxspeed)
                }
                ,
                n.prototype.Acceleration = function(t) {
                    t.set_float(this.acc)
                }
                ,
                n.prototype.Deceleration = function(t) {
                    t.set_float(this.dec)
                }
                ,
                n.prototype.JumpStrength = function(t) {
                    t.set_float(this.jumpStrength)
                }
                ,
                n.prototype.Gravity = function(t) {
                    t.set_float(this.g)
                }
                ,
                n.prototype.GravityAngle = function(t) {
                    t.set_float(cr.to_degrees(this.ga))
                }
                ,
                n.prototype.MaxFallSpeed = function(t) {
                    t.set_float(this.maxFall)
                }
                ,
                n.prototype.MovingAngle = function(t) {
                    t.set_float(cr.to_degrees(Math.atan2(this.dy, this.dx)))
                }
                ,
                n.prototype.VectorX = function(t) {
                    t.set_float(this.dx)
                }
                ,
                n.prototype.VectorY = function(t) {
                    t.set_float(this.dy)
                }
                ,
                n.prototype.JumpSustain = function(t) {
                    t.set_float(1e3 * this.jumpSustain)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.Rex_Zigzag = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var behaviorProto = cr.behaviors.Rex_Zigzag.prototype;
                behaviorProto.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ;
                var behtypeProto = behaviorProto.Type.prototype;
                behtypeProto.onCreate = function() {}
                ,
                behaviorProto.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var behinstProto = behaviorProto.Instance.prototype
                  , transferCmd = function(t, e) {
                    switch (t) {
                    case "F":
                        t = "M";
                        break;
                    case "B":
                        t = "M",
                        e = -e;
                        break;
                    case "R":
                        t = "R";
                        break;
                    case "L":
                        t = "R",
                        e = -e;
                        break;
                    case "W":
                        break;
                    default:
                        return null
                    }
                    return {
                        cmd: t,
                        param: e
                    }
                }
                  , parseSpeed = function(speedString) {
                    var newSpeedValue = "" != speedString ? eval("(" + speedString + ")") : null;
                    return newSpeedValue
                }
                  , parsingRresult = [null, null]
                  , parseCmd1 = function(t) {
                    var e, i = t.indexOf("["), t = -1 != i ? (e = t.slice(i),
                    t.slice(0, i)) : (e = "",
                    t);
                    return parsingRresult[0] = t,
                    parsingRresult[1] = e,
                    parsingRresult
                }
                  , parseCmdString = function(t) {
                    for (var e, i, s, n = [], r = t.split(/;|\n/), o = r.length, a = 0; a < o; a++)
                        2 == (i = (s = parseCmd1(r[a]))[0].replace(/(^\s*)|(\s*$)/g, "").replace(/(\s+)/g, " ").split(" ")).length && (e = i[0].toUpperCase(),
                        i = parseFloat(i[1]),
                        (i = transferCmd(e, i)) && (i.speed = parseSpeed(s[1]),
                        n.push(i)));
                    return n
                };
                function Cnds() {}
                behinstProto.onCreate = function() {
                    this.activated = this.properties[0],
                    this.isRun = 1 == this.properties[1];
                    var t = 1 == this.properties[2]
                      , e = 1 == this.properties[12]
                      , i = 1 == this.properties[13]
                      , s = 1 == this.properties[14];
                    this.currentCmd = null,
                    this.inst.xOffset = 0,
                    this.inst.yOffset = 0,
                    this.isMyCall = !1;
                    var n = t ? this.inst.angle : cr.to_clamped_radians(this.properties[11]);
                    this.inst.angleOffset = n,
                    this.recycled || (this.positionData = {
                        x: 0,
                        y: 0,
                        a: 0
                    }),
                    this.positionData.x = s ? 0 : this.inst.x,
                    this.positionData.y = s ? 0 : this.inst.y,
                    this.positionData.a = n,
                    this.recycled ? this.CmdQueue.Init(this.properties[3]) : this.CmdQueue = new CmdQueue(this.properties[3]),
                    this.recycled ? this.CmdMove.Init(this.inst, this.properties[5], this.properties[6], this.properties[7], e, i, s) : this.CmdMove = new CmdMoveKlass(this.inst,this.properties[5],this.properties[6],this.properties[7],e,i,s),
                    this.recycled ? this.CmdRotate.Init(this.inst, t, this.properties[8], this.properties[9], this.properties[10], e, i, s) : this.CmdRotate = new CmdRotateKlass(this.inst,t,this.properties[8],this.properties[9],this.properties[10],e,i,s),
                    this.recycled ? this.CmdWait.Init(i) : this.CmdWait = new CmdWaitKlass(i),
                    this.recycled || (this.cmdMap = {
                        M: this.CmdMove,
                        R: this.CmdRotate,
                        W: this.CmdWait
                    }),
                    this.AddCommandString(this.properties[4])
                }
                ,
                behinstProto.tick = function() {
                    if (0 != this.activated && this.isRun)
                        for (var t, e = this.runtime.getDt(this.inst); e; ) {
                            if (null == this.currentCmd) {
                                if (this.currentCmd = this.CmdQueue.GetCmd(),
                                null == this.currentCmd) {
                                    this.isRun = !1,
                                    this.isMyCall = !0,
                                    this.runtime.trigger(cr.behaviors.Rex_Zigzag.prototype.cnds.OnCmdQueueFinish, this.inst),
                                    this.isMyCall = !1;
                                    break
                                }
                                (t = this.cmdMap[this.currentCmd.cmd]).CmdInit(this.positionData, this.currentCmd.param, this.currentCmd.speed),
                                this.isMyCall = !0,
                                this.runtime.trigger(cr.behaviors.Rex_Zigzag.prototype.cnds.OnCmdStart, this.inst),
                                this.isMyCall = !1
                            } else
                                t = this.cmdMap[this.currentCmd.cmd];
                            e = t.Tick(e),
                            t.isDone && (this.isMyCall = !0,
                            this.runtime.trigger(cr.behaviors.Rex_Zigzag.prototype.cnds.OnCmdFinish, this.inst),
                            this.isMyCall = !1,
                            this.currentCmd = null)
                        }
                }
                ,
                behinstProto.AddCommand = function(t, e) {
                    this.CmdQueue.Push(transferCmd(t, e))
                }
                ,
                behinstProto.AddCommandString = function(t) {
                    "" != t && this.CmdQueue.PushList(parseCmdString(t))
                }
                ,
                behinstProto.saveToJSON = function() {
                    return {
                        en: this.activated,
                        ir: this.isRun,
                        ps: this.positionData,
                        cq: this.CmdQueue.saveToJSON(),
                        cc: this.currentCmd,
                        cm: this.CmdMove.saveToJSON(),
                        cr: this.CmdRotate.saveToJSON(),
                        cw: this.CmdWait.saveToJSON()
                    }
                }
                ,
                behinstProto.loadFromJSON = function(t) {
                    this.activated = t.en,
                    this.isRun = t.ir,
                    this.positionData = t.ps,
                    this.CmdQueue.loadFromJSON(t.cq),
                    this.currentCmd = t.cc,
                    this.CmdMove.loadFromJSON(t.cm),
                    this.CmdRotate.loadFromJSON(t.cr),
                    this.CmdWait.loadFromJSON(t.cw),
                    null != this.currentCmd && (this.cmdMap[this.currentCmd.cmd].target = this.positionData)
                }
                ,
                behaviorProto.cnds = new Cnds,
                Cnds.prototype.CompareMovSpeed = function(t, e) {
                    return cr.do_cmp(this.CmdMove.currentSpeed, t, e)
                }
                ,
                Cnds.prototype.CompareRotSpeed = function(t, e) {
                    return cr.do_cmp(this.CmdRotate.currentSpeed, t, e)
                }
                ;
                var isValidCmd = function(t, e) {
                    if (null == t)
                        return !1;
                    var i;
                    switch (e) {
                    case 0:
                        i = "M" == t.cmd && 0 <= t.param;
                        break;
                    case 1:
                        i = "M" == t.cmd && t.param < 0;
                        break;
                    case 2:
                        i = "R" == t.cmd && 0 <= t.param;
                        break;
                    case 3:
                        i = "R" == t.cmd && t.param < 0;
                        break;
                    case 4:
                        i = "W" == t.cmd;
                        break;
                    default:
                        i = !0
                    }
                    return i
                };
                function Acts() {}
                Cnds.prototype.IsCmd = function(t) {
                    return isValidCmd(this.currentCmd, t)
                }
                ,
                Cnds.prototype.OnCmdQueueFinish = function() {
                    return this.isMyCall
                }
                ,
                Cnds.prototype.OnCmdStart = function(t) {
                    return isValidCmd(this.currentCmd, t) && this.isMyCall
                }
                ,
                Cnds.prototype.OnCmdFinish = function(t) {
                    return isValidCmd(this.currentCmd, t) && this.isMyCall
                }
                ,
                behaviorProto.acts = new Acts,
                Acts.prototype.SetActivated = function(t) {
                    this.activated = t
                }
                ,
                Acts.prototype.Start = function() {
                    this.currentCmd = null,
                    this.isRun = !0,
                    this.CmdQueue.Reset(),
                    this.positionData.x = this.CmdMove.absoluteMode ? 0 : this.inst.x,
                    this.positionData.y = this.CmdMove.absoluteMode ? 0 : this.inst.y,
                    this.CmdRotate.rotatable && (this.positionData.a = this.inst.angle)
                }
                ,
                Acts.prototype.Stop = function() {
                    this.currentCmd = null,
                    this.isRun = !1
                }
                ,
                Acts.prototype.SetMaxMovSpeed = function(t) {
                    this.CmdMove.move.max = t
                }
                ,
                Acts.prototype.SetMovAcceleration = function(t) {
                    this.CmdMove.move.acc = t
                }
                ,
                Acts.prototype.SetMovDeceleration = function(t) {
                    this.CmdMove.move.dec = t
                }
                ,
                Acts.prototype.SetMaxRotSpeed = function(t) {
                    this.CmdRotate.move.max = t
                }
                ,
                Acts.prototype.SetRotAcceleration = function(t) {
                    this.CmdRotate.move.acc = t
                }
                ,
                Acts.prototype.SetRotDeceleration = function(t) {
                    this.CmdRotate.move.dec = t
                }
                ,
                Acts.prototype.SetRepeatCount = function(t) {
                    this.CmdQueue.repeatCount = t,
                    this.CmdQueue.repeatCountSave = t
                }
                ,
                Acts.prototype.CleanCmdQueue = function() {
                    this.CmdQueue.CleanAll()
                }
                ;
                var index2NameMap = ["F", "B", "R", "L", "W"];
                function Exps() {}
                Acts.prototype.AddCmd = function(t, e) {
                    this.AddCommand(index2NameMap[t], e)
                }
                ,
                Acts.prototype.AddCmdString = function(t) {
                    this.AddCommandString(t)
                }
                ,
                Acts.prototype.SetRotatable = function(t) {
                    this.CmdRotate.rotatable = 1 == t
                }
                ,
                Acts.prototype.SetMovingAngle = function(t) {
                    t = cr.to_clamped_radians(t);
                    this.CmdMove.absoluteMode ? this.inst.angleOffset = t : (this.positionData.a = t,
                    this.CmdRotate.rotatable && (this.inst.angle = t,
                    this.inst.set_bbox_changed()))
                }
                ,
                Acts.prototype.SetPrecise = function(t) {
                    t = 1 == t;
                    this.CmdMove.preciseMode = t,
                    this.CmdRotate.preciseMode = t
                }
                ,
                Acts.prototype.SetAbsolute = function(t) {
                    t = 1 == t;
                    this.CmdMove.absoluteMode = t,
                    this.CmdRotate.absoluteMode = t
                }
                ,
                behaviorProto.exps = new Exps,
                Exps.prototype.Activated = function(t) {
                    t.set_int(this.activated)
                }
                ,
                Exps.prototype.MovSpeed = function(t) {
                    t.set_float(this.CmdMove.currentSpeed)
                }
                ,
                Exps.prototype.MaxMovSpeed = function(t) {
                    t.set_float(this.CmdMove.move.max)
                }
                ,
                Exps.prototype.MovAcc = function(t) {
                    t.set_float(this.CmdMove.move.acc)
                }
                ,
                Exps.prototype.MovDec = function(t) {
                    t.set_float(this.CmdMove.move.dec)
                }
                ,
                Exps.prototype.RotSpeed = function(t) {
                    t.set_float(this.CmdRotate.currentSpeed)
                }
                ,
                Exps.prototype.MaxRotSpeed = function(t) {
                    t.set_float(this.CmdRotate.move.max)
                }
                ,
                Exps.prototype.RotAcc = function(t) {
                    t.set_float(this.CmdRotate.move.acc)
                }
                ,
                Exps.prototype.RotDec = function(t) {
                    t.set_float(this.CmdRotate.move.dec)
                }
                ,
                Exps.prototype.Rotatable = function(t) {
                    t.set_int(this.CmdRotate.rotatable)
                }
                ,
                Exps.prototype.RepCnt = function(t) {
                    t.set_int(this.CmdQueue.repeatCountSave)
                }
                ,
                Exps.prototype.CmdIndex = function(t) {
                    t.set_int(this.CmdQueue.currentCmdQueueIndex)
                }
                ,
                Exps.prototype.MovAngle = function(t) {
                    var e;
                    isValidCmd(this.currentCmd, 2) || isValidCmd(this.currentCmd, 3) ? (e = this.CmdRotate.currentAngleDeg) < 0 && (e = 360 + e) : e = cr.to_clamped_degrees(this.positionData.a),
                    t.set_float(e)
                }
                ,
                Exps.prototype.OffAngle = function(t) {
                    var e = this.CmdRotate.rotatable ? cr.to_clamped_degrees(this.inst.angleOffset) : 0;
                    "number" == typeof e ? t.set_float(e) : t.set_float(0)
                }
                ,
                Exps.prototype.OffX = function(t) {
                    var e = this.inst.xOffset;
                    "number" == typeof e ? t.set_float(e) : t.set_float(0)
                }
                ,
                Exps.prototype.OffY = function(t) {
                    var e = this.inst.yOffset;
                    "number" == typeof e ? t.set_float(e) : t.set_float(0)
                }
                ;
                var CmdQueue = function(t) {
                    this.Init(t)
                }
                  , CmdQueueProto = CmdQueue.prototype;
                CmdQueueProto.Init = function(t) {
                    this.CleanAll(),
                    this.repeatCount = t,
                    this.repeatCountSave = t
                }
                ,
                CmdQueueProto.CleanAll = function() {
                    this.queueIndex = 0,
                    this.currentCmdQueueIndex = -1,
                    this.queue = []
                }
                ,
                CmdQueueProto.Reset = function() {
                    this.repeatCount = this.repeatCountSave,
                    this.queueIndex = 0,
                    this.currentCmdQueueIndex = -1
                }
                ,
                CmdQueueProto.Push = function(t) {
                    this.queue.push(t)
                }
                ,
                CmdQueueProto.PushList = function(t) {
                    this.queue.push.apply(this.queue, t)
                }
                ,
                CmdQueueProto.GetCmd = function() {
                    var t = this.queue[this.queueIndex];
                    this.currentCmdQueueIndex = this.queueIndex;
                    var e = this.queueIndex + 1;
                    return e >= this.queue.length ? 1 != this.repeatCount ? (this.queueIndex = 0,
                    --this.repeatCount) : this.queueIndex = -1 : this.queueIndex = e,
                    t
                }
                ,
                CmdQueueProto.saveToJSON = function() {
                    return {
                        i: this.queueIndex,
                        cci: this.currentCmdQueueIndex,
                        q: this.queue,
                        rptsv: this.repeatCountSave,
                        rpt: this.repeatCount
                    }
                }
                ,
                CmdQueueProto.loadFromJSON = function(t) {
                    this.queueIndex = t.i,
                    this.currentCmdQueueIndex = t.cci,
                    this.queue = t.q,
                    this.repeatCountSave = t.rptsv,
                    this.repeatCount = t.rpt
                }
                ;
                var CmdMoveKlass = function(t, e, i, s, n, r, o) {
                    this.Init(t, e, i, s, n, r, o)
                }
                  , CmdMoveKlassProto = CmdMoveKlass.prototype;
                CmdMoveKlassProto.Init = function(t, e, i, s, n, r, o) {
                    this.inst = t,
                    this.move = {
                        max: e,
                        acc: i,
                        dec: s
                    },
                    this.isDone = !0,
                    this.preciseMode = n,
                    this.continuedMode = r,
                    this.absoluteMode = o,
                    this.currentSpeed = 0
                }
                ,
                CmdMoveKlassProto.CmdInit = function(t, e, i) {
                    var s;
                    this.target = t,
                    this.dir = 0 <= e,
                    this.remainDistance = Math.abs(e),
                    this.isDone = !1,
                    s = this.absoluteMode ? this.inst.angleOffset : t.a,
                    t.x += e * Math.cos(s),
                    t.y += e * Math.sin(s),
                    i && speedReset.apply(this, i),
                    setCurrentSpeed.call(this, null)
                }
                ,
                CmdMoveKlassProto.Tick = function(t) {
                    var e, t = getMoveDistance.call(this, t);
                    return this.remainDistance -= t,
                    e = this.remainDistance <= 0 || this.currentSpeed <= 0 ? (this.isDone = !0,
                    this.preciseMode ? this.absoluteMode ? (this.inst.xOffset = this.target.x,
                    this.inst.yOffset = this.target.y) : (this.inst.x = this.target.x,
                    this.inst.y = this.target.y) : (e = this.target.a,
                    t += this.remainDistance,
                    this.dir || (t = -t),
                    this.absoluteMode ? (this.inst.xOffset += t * Math.cos(e),
                    this.inst.yOffset += t * Math.sin(e),
                    this.target.x = this.inst.xOffset,
                    this.target.y = this.inst.yOffset) : (this.inst.x += t * Math.cos(e),
                    this.inst.y += t * Math.sin(e),
                    this.target.x = this.inst.x,
                    this.target.y = this.inst.y)),
                    this.continuedMode ? getRemaindDt.call(this) : 0) : (e = this.absoluteMode ? this.inst.angleOffset : this.target.a,
                    this.dir || (t = -t),
                    this.absoluteMode ? (this.inst.xOffset += t * Math.cos(e),
                    this.inst.yOffset += t * Math.sin(e)) : (this.inst.x += t * Math.cos(e),
                    this.inst.y += t * Math.sin(e)),
                    0),
                    this.absoluteMode || this.inst.set_bbox_changed(),
                    e
                }
                ,
                CmdMoveKlassProto.saveToJSON = function() {
                    return {
                        v: this.move,
                        id: this.isDone,
                        pm: this.preciseMode,
                        cspd: this.currentSpeed,
                        offx: this.inst.xOffset,
                        offy: this.inst.yOffset,
                        abs: this.absoluteMode,
                        dir: this.dir,
                        rd: this.remainDistance
                    }
                }
                ,
                CmdMoveKlassProto.loadFromJSON = function(t) {
                    this.move = t.v,
                    this.isDone = t.id,
                    this.preciseMode = t.pm,
                    this.currentSpeed = t.cspd,
                    this.dir = t.dir,
                    this.remainDistance = t.rd,
                    this.absoluteMode = t.abs,
                    this.inst.xOffset = t.offx,
                    this.inst.yOffset = t.offy
                }
                ;
                var CmdRotateKlass = function(t, e, i, s, n, r, o, a) {
                    this.Init(t, e, i, s, n, r, o, a)
                }
                  , CmdRotateKlassProto = CmdRotateKlass.prototype;
                CmdRotateKlassProto.Init = function(t, e, i, s, n, r, o, a) {
                    this.inst = t,
                    this.rotatable = e,
                    this.move = {
                        max: i,
                        acc: s,
                        dec: n
                    },
                    this.isDone = !0,
                    this.isZeroDtMode = 36e3 <= i && 0 == s && 0 == n,
                    this.preciseMode = r,
                    this.continuedMode = o,
                    this.absoluteMode = a,
                    this.currentAngleDeg = e ? cr.to_clamped_degrees(t.angle) : 0,
                    this.currentSpeed = 0
                }
                ,
                CmdRotateKlassProto.CmdInit = function(t, e, i) {
                    this.target = t,
                    this.currentAngleDeg = cr.to_clamped_degrees(t.a),
                    this.targetAngleDeg = this.currentAngleDeg + e,
                    this.dir = 0 <= e;
                    var s = cr.to_clamped_radians(this.targetAngleDeg);
                    this.remainDistance = Math.abs(e),
                    this.isDone = !1,
                    t.a = s,
                    i && speedReset.apply(this, i),
                    setCurrentSpeed.call(this, null)
                }
                ,
                CmdRotateKlassProto.Tick = function(t) {
                    var e, i;
                    return this.isZeroDtMode ? (e = t,
                    this.isDone = !0,
                    i = this.target.a,
                    this.currentAngleDeg = this.targetAngleDeg) : (t = getMoveDistance.call(this, t),
                    this.remainDistance -= t,
                    e = this.remainDistance <= 0 || this.currentSpeed <= 0 ? (this.isDone = !0,
                    this.preciseMode ? (i = this.target.a,
                    this.currentAngleDeg = this.targetAngleDeg) : (t += this.remainDistance,
                    this.currentAngleDeg += this.dir ? t : -t,
                    i = cr.to_clamped_radians(this.currentAngleDeg),
                    this.target.a = i),
                    1 == this.continuedMode ? getRemaindDt.call(this) : 0) : (this.currentAngleDeg += this.dir ? t : -t,
                    i = cr.to_clamped_radians(this.currentAngleDeg),
                    0)),
                    this.absoluteMode ? this.inst.angleOffset = i : this.rotatable && (this.inst.angle = i,
                    this.inst.set_bbox_changed()),
                    e
                }
                ,
                CmdRotateKlassProto.saveToJSON = function() {
                    return {
                        ra: this.rotatable,
                        v: this.move,
                        id: this.isDone,
                        izm: this.isZeroDtMode,
                        pm: this.preciseMode,
                        cad: this.currentAngleDeg,
                        cspd: this.currentSpeed,
                        abs: this.absoluteMode,
                        offa: this.inst.angleOffset,
                        tad: this.targetAngleDeg,
                        dir: this.dir,
                        rd: this.remainDistance
                    }
                }
                ,
                CmdRotateKlassProto.loadFromJSON = function(t) {
                    this.rotatable = t.ra,
                    this.move = t.v,
                    this.isDone = t.id,
                    this.isZeroDtMode = t.izm,
                    this.preciseMode = t.pm,
                    this.currentAngleDeg = t.cad,
                    this.currentSpeed = t.cspd,
                    this.absoluteMode = t.abs,
                    this.inst.angleOffset = t.offa,
                    this.targetAngleDeg = t.tad,
                    this.dir = t.dir,
                    this.remainDistance = t.rd
                }
                ;
                var setCurrentSpeed = function(t) {
                    var e = this.move;
                    null != t ? this.currentSpeed = t > e.max ? e.max : t : 0 < e.acc ? this.currentSpeed = 0 : this.currentSpeed = e.max
                }
                  , getMoveDistance = function(t) {
                    var e = this.move
                      , i = !1;
                    0 != e.dec && (i = this.currentSpeed * this.currentSpeed / (2 * e.dec) >= this.remainDistance);
                    e = i ? -e.dec : e.acc;
                    return 0 != e && setCurrentSpeed.call(this, this.currentSpeed + e * t),
                    this.currentSpeed * t
                }
                  , getRemaindDt = function() {
                    var t = 0 < this.move.acc || 0 < this.move.dec ? (setCurrentSpeed.call(this, 0),
                    0) : -this.remainDistance / this.currentSpeed;
                    return t
                }
                  , speedReset = function(t, e, i) {
                    null != t && (this.move.max = t),
                    null != e && (this.move.acc = e),
                    null != i && (this.move.dec = i)
                }
                  , CmdWaitKlass = function(t) {
                    this.Init(t)
                }
                  , CmdWaitKlassProto = CmdWaitKlass.prototype;
                CmdWaitKlassProto.Init = function(t) {
                    this.isDone = !0,
                    this.continuedMode = t
                }
                ,
                CmdWaitKlassProto.CmdInit = function(t, e) {
                    this.remainDistance = e,
                    this.isDone = !1,
                    this.target = t
                }
                ,
                CmdWaitKlassProto.Tick = function(t) {
                    var e;
                    return this.remainDistance -= t,
                    this.remainDistance <= 0 ? (e = this.continuedMode ? -this.remainDistance : 0,
                    this.isDone = !0) : e = 0,
                    e
                }
                ,
                CmdWaitKlassProto.saveToJSON = function() {
                    return {
                        id: this.isDone,
                        rd: this.remainDistance
                    }
                }
                ,
                CmdWaitKlassProto.loadFromJSON = function(t) {
                    this.isDone = t.id,
                    this.remainDistance = t.rd
                }
            }(),
            cr.behaviors.Rex_pushOutSolid = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Rex_pushOutSolid.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {
                    this.obstacleTypes = []
                }
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    this.enabled = 1 === this.properties[0],
                    this.obstacleMode = this.properties[1],
                    this.maxDist = 100
                }
                ,
                e.onDestroy = function() {}
                ,
                e.tick = function() {
                    this.enabled && this.pushOutNearest(this.getCandidates(), this.maxDist)
                }
                ;
                var n = [];
                function i() {}
                e.getCandidates = function() {
                    if ((n.length = 0) === this.obstacleMode) {
                        var t = this.runtime.getSolidBehavior();
                        t && cr.appendArray(n, t.my_instances.valuesRef())
                    } else
                        for (var e = this.type.obstacleTypes, i = e.length, s = 0; s < i; s++)
                            cr.appendArray(n, e[s].instances);
                    return n
                }
                ,
                e.pushOutNearest = function(t, e) {
                    var i = this.inst
                      , s = 0
                      , n = i.x
                      , r = i.y
                      , o = 0
                      , a = 0
                      , h = 0
                      , c = this.get_first_overlap_inst(t);
                    if (!c)
                        return !0;
                    for (; s <= e; ) {
                        switch (o) {
                        case 0:
                            a = 0,
                            h = -1,
                            s++;
                            break;
                        case 1:
                            h = -(a = 1);
                            break;
                        case 2:
                            a = 1,
                            h = 0;
                            break;
                        case 3:
                            h = a = 1;
                            break;
                        case 4:
                            a = 0,
                            h = 1;
                            break;
                        case 5:
                            a = -1,
                            h = 1;
                            break;
                        case 6:
                            a = -1,
                            h = 0;
                            break;
                        case 7:
                            h = a = -1
                        }
                        if (o = (o + 1) % 8,
                        i.x = cr.floor(n + a * s),
                        i.y = cr.floor(r + h * s),
                        i.set_bbox_changed(),
                        !(c = this.get_first_overlap_inst(t, c)))
                            return !0
                    }
                    return i.x = n,
                    i.y = r,
                    i.set_bbox_changed(),
                    !1
                }
                ,
                e.pushOut = function(t, e, i, s) {
                    var n, r, o = this.inst, a = 0, h = o.x, c = o.y, l = this.get_first_overlap_inst(t);
                    if (!l)
                        return !0;
                    for (; a <= s; )
                        if (a++,
                        n = cr.floor(h + e * a),
                        r = cr.floor(c + i * a),
                        !(o.x === n && o.y === r || (o.x = n,
                        o.y = r,
                        o.set_bbox_changed(),
                        l = this.get_first_overlap_inst(t, l))))
                            return !0;
                    return o.x = h,
                    o.y = c,
                    o.set_bbox_changed(),
                    !1
                }
                ,
                e.get_first_overlap_inst = function(t, e) {
                    if (e && this.runtime.testOverlap(this.inst, e))
                        return e;
                    for (var i = t.length, s = 0; s < i; s++)
                        if (this.runtime.testOverlap(this.inst, t[s]))
                            return t[s];
                    return null
                }
                ,
                e.saveToJSON = function() {
                    for (var t = [], e = 0, i = this.type.obstacleTypes.length; e < i; e++)
                        t.push(this.type.obstacleTypes[e].sid);
                    return {
                        en: this.enabled,
                        obs: t
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.enabled = t.en,
                    cr.clearArray(this.type.obstacleTypes);
                    for (var e, i = t.obs, s = 0, n = i.length; s < n; s++)
                        (e = this.runtime.getObjectTypeBySid(i[s])) && this.type.obstacleTypes.push(e)
                }
                ,
                t.cnds = new function() {}
                ,
                t.acts = new i,
                i.prototype.SetEnabled = function(t) {
                    this.enabled = 1 === t
                }
                ,
                i.prototype.AddObstacle = function(t) {
                    if (t) {
                        var e = this.type.obstacleTypes;
                        if (-1 === e.indexOf(t)) {
                            for (var i, s = 0, n = e.length; s < n; s++)
                                if ((i = e[s]).is_family && -1 !== i.members.indexOf(t))
                                    return;
                            e.push(t)
                        }
                    }
                }
                ,
                i.prototype.ClearObstacles = function() {
                    this.type.obstacleTypes.length = 0
                }
                ,
                i.prototype.PushOutNearest = function(t) {
                    this.pushOutNearest(this.getCandidates(), t)
                }
                ,
                i.prototype.PushOutAngle = function(t, e) {
                    t = cr.to_radians(t);
                    var i = Math.cos(t)
                      , t = Math.sin(t);
                    this.pushOut(this.getCandidates(), i, t, e)
                }
                ,
                i.prototype.PushOutToPos = function(t, e) {
                    var i = t - this.inst.x
                      , t = e - this.inst.y
                      , e = Math.sqrt(i * i + t * t)
                      , t = Math.atan2(t, i)
                      , i = Math.cos(t)
                      , t = Math.sin(t);
                    this.pushOut(this.getCandidates(), i, t, e)
                }
                ,
                t.exps = new function() {}
            }(),
            cr.behaviors.Sin = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Sin.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    this.i = 0
                }
                ;
                var e = t.Instance.prototype
                  , i = 2 * Math.PI
                  , s = Math.PI / 2
                  , n = 3 * Math.PI / 2;
                function r() {}
                function o() {}
                function a() {}
                e.onCreate = function() {
                    this.active = 1 === this.properties[0],
                    this.movement = this.properties[1],
                    this.wave = this.properties[2],
                    this.period = this.properties[3],
                    this.period += Math.random() * this.properties[4],
                    0 === this.period ? this.i = 0 : (this.i = this.properties[5] / this.period * i,
                    this.i += Math.random() * this.properties[6] / this.period * i),
                    this.mag = this.properties[7],
                    this.mag += Math.random() * this.properties[8],
                    this.initialValue = 0,
                    this.initialValue2 = 0,
                    this.ratio = 0,
                    5 === this.movement && (this.mag = cr.to_radians(this.mag)),
                    this.init()
                }
                ,
                e.saveToJSON = function() {
                    return {
                        i: this.i,
                        a: this.active,
                        mv: this.movement,
                        w: this.wave,
                        p: this.period,
                        mag: this.mag,
                        iv: this.initialValue,
                        iv2: this.initialValue2,
                        r: this.ratio,
                        lkv: this.lastKnownValue,
                        lkv2: this.lastKnownValue2
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.i = t.i,
                    this.active = t.a,
                    this.movement = t.mv,
                    this.wave = t.w,
                    this.period = t.p,
                    this.mag = t.mag,
                    this.initialValue = t.iv,
                    this.initialValue2 = t.iv2 || 0,
                    this.ratio = t.r,
                    this.lastKnownValue = t.lkv,
                    this.lastKnownValue2 = t.lkv2 || 0
                }
                ,
                e.init = function() {
                    switch (this.movement) {
                    case 0:
                        this.initialValue = this.inst.x;
                        break;
                    case 1:
                        this.initialValue = this.inst.y;
                        break;
                    case 2:
                        this.initialValue = this.inst.width,
                        this.ratio = this.inst.height / this.inst.width;
                        break;
                    case 3:
                        this.initialValue = this.inst.width;
                        break;
                    case 4:
                        this.initialValue = this.inst.height;
                        break;
                    case 5:
                        this.initialValue = this.inst.angle;
                        break;
                    case 6:
                        this.initialValue = this.inst.opacity;
                        break;
                    case 7:
                        this.initialValue = 0;
                        break;
                    case 8:
                        this.initialValue = this.inst.x,
                        this.initialValue2 = this.inst.y
                    }
                    this.lastKnownValue = this.initialValue,
                    this.lastKnownValue2 = this.initialValue2
                }
                ,
                e.waveFunc = function(t) {
                    switch (t %= i,
                    this.wave) {
                    case 0:
                        return Math.sin(t);
                    case 1:
                        return t <= s ? t / s : t <= n ? 1 - 2 * (t - s) / Math.PI : (t - n) / s - 1;
                    case 2:
                        return 2 * t / i - 1;
                    case 3:
                        return -2 * t / i + 1;
                    case 4:
                        return t < Math.PI ? -1 : 1
                    }
                    return 0
                }
                ,
                e.tick = function() {
                    var t = this.runtime.getDt(this.inst);
                    this.active && 0 !== t && (0 === this.period ? this.i = 0 : (this.i += t / this.period * i,
                    this.i = this.i % i),
                    this.updateFromPhase())
                }
                ,
                e.updateFromPhase = function() {
                    switch (this.movement) {
                    case 0:
                        this.inst.x !== this.lastKnownValue && (this.initialValue += this.inst.x - this.lastKnownValue),
                        this.inst.x = this.initialValue + this.waveFunc(this.i) * this.mag,
                        this.lastKnownValue = this.inst.x;
                        break;
                    case 1:
                        this.inst.y !== this.lastKnownValue && (this.initialValue += this.inst.y - this.lastKnownValue),
                        this.inst.y = this.initialValue + this.waveFunc(this.i) * this.mag,
                        this.lastKnownValue = this.inst.y;
                        break;
                    case 2:
                        this.inst.width = this.initialValue + this.waveFunc(this.i) * this.mag,
                        this.inst.height = this.inst.width * this.ratio;
                        break;
                    case 3:
                        this.inst.width = this.initialValue + this.waveFunc(this.i) * this.mag;
                        break;
                    case 4:
                        this.inst.height = this.initialValue + this.waveFunc(this.i) * this.mag;
                        break;
                    case 5:
                        this.inst.angle !== this.lastKnownValue && (this.initialValue = cr.clamp_angle(this.initialValue + (this.inst.angle - this.lastKnownValue))),
                        this.inst.angle = cr.clamp_angle(this.initialValue + this.waveFunc(this.i) * this.mag),
                        this.lastKnownValue = this.inst.angle;
                        break;
                    case 6:
                        this.inst.opacity = this.initialValue + this.waveFunc(this.i) * this.mag / 100,
                        this.inst.opacity < 0 ? this.inst.opacity = 0 : 1 < this.inst.opacity && (this.inst.opacity = 1);
                        break;
                    case 8:
                        this.inst.x !== this.lastKnownValue && (this.initialValue += this.inst.x - this.lastKnownValue),
                        this.inst.y !== this.lastKnownValue2 && (this.initialValue2 += this.inst.y - this.lastKnownValue2),
                        this.inst.x = this.initialValue + Math.cos(this.inst.angle) * this.waveFunc(this.i) * this.mag,
                        this.inst.y = this.initialValue2 + Math.sin(this.inst.angle) * this.waveFunc(this.i) * this.mag,
                        this.lastKnownValue = this.inst.x,
                        this.lastKnownValue2 = this.inst.y
                    }
                    this.inst.set_bbox_changed()
                }
                ,
                e.onSpriteFrameChanged = function(t, e) {
                    switch (this.movement) {
                    case 2:
                        this.initialValue *= e.width / t.width,
                        this.ratio = e.height / e.width;
                        break;
                    case 3:
                        this.initialValue *= e.width / t.width;
                        break;
                    case 4:
                        this.initialValue *= e.height / t.height
                    }
                }
                ,
                r.prototype.IsActive = function() {
                    return this.active
                }
                ,
                r.prototype.CompareMovement = function(t) {
                    return this.movement === t
                }
                ,
                r.prototype.ComparePeriod = function(t, e) {
                    return cr.do_cmp(this.period, t, e)
                }
                ,
                r.prototype.CompareMagnitude = function(t, e) {
                    return 5 === this.movement ? cr.do_cmp(this.mag, t, cr.to_radians(e)) : cr.do_cmp(this.mag, t, e)
                }
                ,
                r.prototype.CompareWave = function(t) {
                    return this.wave === t
                }
                ,
                t.cnds = new r,
                o.prototype.SetActive = function(t) {
                    this.active = 1 === t
                }
                ,
                o.prototype.SetPeriod = function(t) {
                    this.period = t
                }
                ,
                o.prototype.SetMagnitude = function(t) {
                    this.mag = t,
                    5 === this.movement && (this.mag = cr.to_radians(this.mag))
                }
                ,
                o.prototype.SetMovement = function(t) {
                    5 === this.movement && 5 !== t && (this.mag = cr.to_degrees(this.mag)),
                    this.movement = t,
                    this.init()
                }
                ,
                o.prototype.SetWave = function(t) {
                    this.wave = t
                }
                ,
                o.prototype.SetPhase = function(t) {
                    this.i = t * i % i,
                    this.updateFromPhase()
                }
                ,
                o.prototype.UpdateInitialState = function() {
                    this.init()
                }
                ,
                t.acts = new o,
                a.prototype.CyclePosition = function(t) {
                    t.set_float(this.i / i)
                }
                ,
                a.prototype.Period = function(t) {
                    t.set_float(this.period)
                }
                ,
                a.prototype.Magnitude = function(t) {
                    5 === this.movement ? t.set_float(cr.to_degrees(this.mag)) : t.set_float(this.mag)
                }
                ,
                a.prototype.Value = function(t) {
                    t.set_float(this.waveFunc(this.i) * this.mag)
                }
                ,
                t.exps = new a
            }(),
            cr.behaviors.SkymenPin = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.SkymenPin.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.pinObject = null,
                    this.pinObjectUid = -1,
                    this.pinAngle = 0,
                    this.pinDist = 0,
                    this.myStartAngle = 0,
                    this.theirStartAngle = 0,
                    this.lastKnownAngle = 0,
                    this.mode = 0,
                    this.runOnTick = 0 == this.properties[0];
                    var e = this;
                    this.recycled || (this.myDestroyCallback = function(t) {
                        e.onInstanceDestroyed(t)
                    }
                    ),
                    this.runtime.addDestroyCallback(this.myDestroyCallback)
                }
                ,
                e.saveToJSON = function() {
                    return {
                        uid: this.pinObject ? this.pinObject.uid : -1,
                        pa: this.pinAngle,
                        pd: this.pinDist,
                        msa: this.myStartAngle,
                        tsa: this.theirStartAngle,
                        lka: this.lastKnownAngle,
                        m: this.mode
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.pinObjectUid = t.uid,
                    this.pinAngle = t.pa,
                    this.pinDist = t.pd,
                    this.myStartAngle = t.msa,
                    this.theirStartAngle = t.tsa,
                    this.lastKnownAngle = t.lka,
                    this.mode = t.m
                }
                ,
                e.afterLoad = function() {
                    -1 === this.pinObjectUid ? this.pinObject = null : this.pinObject = this.runtime.getObjectByUID(this.pinObjectUid),
                    this.pinObjectUid = -1
                }
                ,
                e.onInstanceDestroyed = function(t) {
                    this.pinObject == t && (this.pinObject = null)
                }
                ,
                e.onDestroy = function() {
                    this.pinObject = null,
                    this.runtime.removeDestroyCallback(this.myDestroyCallback)
                }
                ,
                e.tick = function() {
                    var t, e, i, s;
                    this.pinObject && this.runOnTick && (this.lastKnownAngle !== this.inst.angle && (this.myStartAngle = cr.clamp_angle(this.myStartAngle + (this.inst.angle - this.lastKnownAngle))),
                    e = this.inst.x,
                    i = this.inst.y,
                    3 === this.mode || 4 === this.mode ? ((t = cr.distanceTo(this.inst.x, this.inst.y, this.pinObject.x, this.pinObject.y)) > this.pinDist || 4 === this.mode && t < this.pinDist) && (s = cr.angleTo(this.pinObject.x, this.pinObject.y, this.inst.x, this.inst.y),
                    e = this.pinObject.x + Math.cos(s) * this.pinDist,
                    i = this.pinObject.y + Math.sin(s) * this.pinDist) : (e = this.pinObject.x + Math.cos(this.pinObject.angle + this.pinAngle) * this.pinDist,
                    i = this.pinObject.y + Math.sin(this.pinObject.angle + this.pinAngle) * this.pinDist),
                    s = cr.clamp_angle(this.myStartAngle + (this.pinObject.angle - this.theirStartAngle)),
                    this.lastKnownAngle = s,
                    0 !== this.mode && 1 !== this.mode && 3 !== this.mode && 4 !== this.mode || this.inst.x === e && this.inst.y === i || (this.inst.x = e,
                    this.inst.y = i,
                    this.inst.set_bbox_changed()),
                    0 !== this.mode && 2 !== this.mode || this.inst.angle === s || (this.inst.angle = s,
                    this.inst.set_bbox_changed()))
                }
                ,
                e.tick2 = function() {
                    var t, e, i, s;
                    this.pinObject && !this.runOnTick && (this.lastKnownAngle !== this.inst.angle && (this.myStartAngle = cr.clamp_angle(this.myStartAngle + (this.inst.angle - this.lastKnownAngle))),
                    e = this.inst.x,
                    i = this.inst.y,
                    3 === this.mode || 4 === this.mode ? ((t = cr.distanceTo(this.inst.x, this.inst.y, this.pinObject.x, this.pinObject.y)) > this.pinDist || 4 === this.mode && t < this.pinDist) && (s = cr.angleTo(this.pinObject.x, this.pinObject.y, this.inst.x, this.inst.y),
                    e = this.pinObject.x + Math.cos(s) * this.pinDist,
                    i = this.pinObject.y + Math.sin(s) * this.pinDist) : (e = this.pinObject.x + Math.cos(this.pinObject.angle + this.pinAngle) * this.pinDist,
                    i = this.pinObject.y + Math.sin(this.pinObject.angle + this.pinAngle) * this.pinDist),
                    s = cr.clamp_angle(this.myStartAngle + (this.pinObject.angle - this.theirStartAngle)),
                    this.lastKnownAngle = s,
                    0 !== this.mode && 1 !== this.mode && 3 !== this.mode && 4 !== this.mode || this.inst.x === e && this.inst.y === i || (this.inst.x = e,
                    this.inst.y = i,
                    this.inst.set_bbox_changed()),
                    0 !== this.mode && 2 !== this.mode || this.inst.angle === s || (this.inst.angle = s,
                    this.inst.set_bbox_changed()))
                }
                ,
                i.prototype.IsPinned = function() {
                    return !!this.pinObject
                }
                ,
                t.cnds = new i,
                s.prototype.Pin = function(t, e) {
                    !t || (t = t.getFirstPicked(this.inst)) && (this.pinObject = t,
                    this.pinAngle = cr.angleTo(t.x, t.y, this.inst.x, this.inst.y) - t.angle,
                    this.pinDist = cr.distanceTo(t.x, t.y, this.inst.x, this.inst.y),
                    this.myStartAngle = this.inst.angle,
                    this.lastKnownAngle = this.inst.angle,
                    this.theirStartAngle = t.angle,
                    this.mode = e)
                }
                ,
                s.prototype.Unpin = function() {
                    this.pinObject = null
                }
                ,
                t.acts = new s,
                n.prototype.PinnedUID = function(t) {
                    t.set_int(this.pinObject ? this.pinObject.uid : -1)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.SkymenPolarCoordinates = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.SkymenPolarCoordinates.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.Enabled = 0 == this.properties[4],
                    this.Radius = this.properties[2],
                    this.Angle = this.properties[3],
                    this.OriginX = this.properties[0],
                    this.OriginY = this.properties[1],
                    this.ud = !1,
                    this.Enabled && this.update()
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {
                        DX: this.Radius,
                        DY: this.Angle,
                        OX: this.OriginX,
                        OY: this.OriginY,
                        Enabled: this.Enabled
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.Radius = t.DX,
                    this.Angle = t.DY,
                    this.OriginX = t.OX,
                    this.OriginY = t.OY,
                    this.Enabled = t.Enabled,
                    this.update()
                }
                ,
                e.update = function(t=1) {
                    0 === t && (this.Radius = this.inst.x,
                    this.Angle = this.inst.y),
                    this.ud = !0
                }
                ,
                e.tick = function() {
                    359 < this.Angle && (this.Angle = this.Angle % 360),
                    this.ud && (this.inst.x = this.OriginX + Math.cos(this.Angle * Math.PI / 180) * this.Radius,
                    this.inst.y = this.OriginY + Math.sin(this.Angle * Math.PI / 180) * this.Radius,
                    this.inst.set_bbox_changed(),
                    this.ud = !1)
                }
                ,
                e.tick2 = function() {}
                ,
                i.prototype.IsEnabled = function() {
                    return this.Enabled
                }
                ,
                i.prototype.CompareRadius = function(t, e) {
                    return cr.do_cmp(this.Radius, t, e)
                }
                ,
                i.prototype.CompareAngle = function(t, e) {
                    return cr.do_cmp(this.Angle, t, e)
                }
                ,
                i.prototype.CompareOriginX = function(t, e) {
                    return cr.do_cmp(this.OriginX, t, e)
                }
                ,
                i.prototype.CompareOriginY = function(t, e) {
                    return cr.do_cmp(this.OriginY, t, e)
                }
                ,
                t.cnds = new i,
                s.prototype.SetEnabled = function(t) {
                    0 === t ? (this.Enabled = !0,
                    this.update()) : this.Enabled = !1
                }
                ,
                s.prototype.SetRadius = function(t) {
                    this.Enabled && (this.Radius = t,
                    this.update())
                }
                ,
                s.prototype.SetAngle = function(t) {
                    this.Enabled && (this.Angle = t,
                    this.update())
                }
                ,
                s.prototype.SetDeltaPos = function(t, e) {
                    this.Enabled && (this.Radius = t,
                    this.Angle = e,
                    this.update())
                }
                ,
                s.prototype.SetOriginX = function(t) {
                    this.Enabled && (this.OriginX = t,
                    this.update())
                }
                ,
                s.prototype.SetOriginY = function(t) {
                    this.Enabled && (this.OriginY = t,
                    this.update())
                }
                ,
                s.prototype.SetOriginPos = function(t, e) {
                    this.Enabled && (this.OriginX = t,
                    this.OriginY = e,
                    this.update())
                }
                ,
                s.prototype.Update = function(t) {
                    this.update(t)
                }
                ,
                t.acts = new s,
                n.prototype.Radius = function(t) {
                    t.set_float(this.Radius)
                }
                ,
                n.prototype.Angle = function(t) {
                    t.set_float(this.Angle)
                }
                ,
                n.prototype.DeltaX = function(t) {
                    t.set_float(this.Radius)
                }
                ,
                n.prototype.DeltaY = function(t) {
                    t.set_float(this.Angle)
                }
                ,
                n.prototype.OriginX = function(t) {
                    t.set_float(this.OriginX)
                }
                ,
                n.prototype.OriginY = function(t) {
                    t.set_float(this.OriginY)
                }
                ,
                n.prototype.CarToPolRad = function(t, e, i, s, n) {
                    e -= s,
                    i -= n;
                    i = Math.sqrt(Math.pow(e, 2) + Math.pow(i, 2));
                    t.set_float(i)
                }
                ,
                n.prototype.CarToPolAngle = function(t, e, i, s, n) {
                    e -= s,
                    i -= n;
                    e = 180 * Math.atan2(i, e) / Math.PI;
                    t.set_float(e)
                }
                ,
                n.prototype.PolToCarX = function(t, e, i, s) {
                    e = s + Math.cos(i * Math.PI / 180) * e,
                    e = Math.floor(1e3 * e) / 1e3;
                    t.set_float(e)
                }
                ,
                n.prototype.PolToCarY = function(t, e, i, s) {
                    e = s + Math.sin(i * Math.PI / 180) * e,
                    e = Math.floor(1e3 * e) / 1e3;
                    t.set_float(e)
                }
                ,
                n.prototype.Status = function(t) {
                    this.Enabled ? t.set_string("Enabled") : t.set_string("Disabled")
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.SkymenSkin = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.SkymenSkin.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.skinBaseTag = this.properties[0],
                    null == cr.SkymenSkinCore ? alert("Skin base plugin needed, please create it.") : null == cr.SkymenSkinCore[this.skinBaseTag] ? alert("Skin base with tag " + this.skinBaseTag + " cannot be found.") : (this.skinBase = cr.SkymenSkinCore[this.skinBaseTag],
                    this.skinBase.addInstance(this)),
                    this.skinTag = this.properties[1],
                    this.subSkinTag = this.properties[2],
                    this.oldSkinTag = this.properties[1],
                    this.oldSubSkinTag = this.properties[2],
                    this.syncWithAnim = 0 === this.properties[3] || 2 === this.properties[3],
                    this.syncWithFrame = 1 === this.properties[3] || 2 === this.properties[3],
                    this.default = 0 === this.properties[4],
                    this.hideDefault = 0 === this.properties[5],
                    this.imagePoint = this.properties[6],
                    this.syncZOrder = 0 === this.properties[7],
                    this.syncSize = 1 === this.properties[8],
                    this.syncScale = 2 === this.properties[8],
                    this.firstFrame = !0,
                    this.widthRatio = 1,
                    this.heightRatio = 1,
                    this.lastLayout = this.runtime.running_layout,
                    this.object = null,
                    this.inst.behaviorSkins || (this.inst.behaviorSkins = []);
                    var e = !1;
                    for (let t = 0; t < this.inst.behaviorSkins.length; t++)
                        this === this.inst.behaviorSkins[t] && (e = !0,
                        this.behaviorId = t);
                    e || (this.behaviorId = this.inst.behaviorSkins.length,
                    this.inst.behaviorSkins.push(this)),
                    this.skinBase.init && this.updateSkin()
                }
                ,
                e.onDestroy = function() {
                    this.destroy()
                }
                ,
                e.saveToJSON = function() {
                    return {
                        skinTag: this.skinTag,
                        subSkinTag: this.subSkinTag,
                        oldSkinTag: this.oldSkinTag,
                        oldSubSkinTag: this.oldSubSkinTag,
                        syncWithAnim: this.syncWithAnim,
                        syncWithFrame: this.syncWithFrame,
                        default: this.default,
                        hideDefault: this.hideDefault,
                        imagePoint: this.imagePoint,
                        syncZOrder: this.syncZOrder,
                        syncSize: this.syncSize,
                        syncScale: this.syncScale,
                        firstFrame: this.firstFrame,
                        skinBaseTag: this.skinBaseTag,
                        behaviorId: this.behaviorId
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.skinTag = t.skinTag,
                    this.subSkinTag = t.subSkinTag,
                    this.oldSkinTag = t.oldSkinTag,
                    this.oldSubSkinTag = t.oldSubSkinTag,
                    this.syncWithAnim = t.syncWithAnim,
                    this.syncWithFrame = t.syncWithFrame,
                    this.default = t.default,
                    this.hideDefault = t.hideDefault,
                    this.imagePoint = t.imagePoint,
                    this.syncZOrder = t.syncZOrder,
                    this.firstFrame = t.firstFrame,
                    this.skinBaseTag = t.skinBaseTag,
                    this.behaviorId = t.behaviorId,
                    this.syncSize = t.syncSize,
                    this.syncScale = t.syncScale
                }
                ,
                e.tick = function() {
                    this.firstFrame && (this.syncWithAnim && (this.subSkinTag = this.inst.cur_animation.name,
                    this.oldsubSkinTag = this.inst.cur_animation.name),
                    this.firstFrame = !1)
                }
                ,
                e.tick2 = function() {
                    if (null != this.object) {
                        var t, e, i, s = this.inst.getImagePoint(this.imagePoint, !0), n = this.inst.getImagePoint(this.imagePoint, !1), r = this.inst.angle, o = this.inst.cur_animation.name;
                        this.syncSize || this.syncScale ? (this.object.width != this.inst.width * this.widthRatio && (this.object.width = this.inst.width * this.widthRatio),
                        this.object.height != this.inst.height * this.heightRatio && (this.object.height = this.inst.height * this.heightRatio)) : (t = this.inst.width < 0,
                        e = this.object.width < 0,
                        a = this.inst.height < 0,
                        i = this.object.height < 0,
                        t != e && (this.object.width = cr.abs(this.object.width) * (t ? -1 : 1)),
                        a != i && (this.object.height = cr.abs(this.object.height) * (a ? -1 : 1)));
                        var a = this.inst;
                        if (0 != this.behaviorId) {
                            for (var h = this.behaviorId - 1; 0 <= h && null == this.inst.behaviorSkins[h].object; )
                                h--;
                            0 <= h && (a = this.inst.behaviorSkins[h].object)
                        }
                        this.syncZOrder && this.object.get_zindex() !== a.get_zindex() + 1 && this.setZorder(),
                        this.object.x != s && (this.object.x = s),
                        this.object.y != n && (this.object.y = n),
                        this.object.angle != r && (this.object.angle = r),
                        this.object.set_bbox_changed(),
                        this.syncWithAnim && this.subSkinTag != o && (this.subSkinTag = o),
                        this.syncWithFrame && this.inst.cur_frame != this.object.cur_frame && cr.plugins_.Sprite.prototype.acts.SetAnimFrame.call(this.object, this.inst.cur_frame),
                        this.skinTag == this.oldSkinTag && this.subSkinTag == this.oldSubSkinTag || (this.oldSkinTag = this.skinTag,
                        this.oldSubSkinTag = this.subSkinTag,
                        this.updateSkin())
                    }
                }
                ,
                e.updateSkin = function() {
                    if (this.default)
                        return null != this.object && this.destroy(),
                        void (this.hideDefault && !this.inst.visible && (this.inst.visible = !0,
                        this.runtime.redraw = !0));
                    if (this.hideDefault && this.inst.visible && (this.inst.visible = !1,
                    this.runtime.redraw = !0),
                    null == this.object) {
                        this.inst && this.inst.cur_animation && (e = this.inst.cur_animation.name,
                        this.syncWithAnim && this.subSkinTag != e && (this.subSkinTag = e));
                        var t = this.getType(this.skinTag, this.subSkinTag);
                        if (null == t)
                            return console.warn("Cannot assign subskin " + this.subSkinTag + " of skin " + this.skinTag + " because it doesn't exist. Reverting back to default."),
                            this.default = !0,
                            void this.updateSkin();
                        this.syncWithAnim && (this.subSkinTag = this.inst.cur_animation.name),
                        this.object = this.inst.runtime.createInstance(t, this.inst.layer);
                        var e = this.getAnim(this.skinTag, this.subSkinTag);
                        cr.plugins_.Sprite.prototype.acts.SetAnim.call(this.object, e, 0),
                        this.syncWithFrame && cr.plugins_.Sprite.prototype.acts.SetAnimSpeed.call(this.object, 0),
                        this.setZorder(),
                        cr.plugins_.Sprite.prototype.acts.SetCollisions.call(this.object, 0),
                        this.syncScale ? (t = (t = this.object.type.animations.find(t => t.name === this.object.type.default_instance[5][4])) || this.object.type.animations[0],
                        this.widthRatio = this.inst.width / Math.abs(this.inst.width) * this.object.type.default_instance[0][3] / t.frames[0].width * this.object.cur_animation.frames[0].width / this.inst.width,
                        this.heightRatio = this.inst.height / Math.abs(this.inst.height) * this.object.type.default_instance[0][4] / t.frames[0].height * this.object.cur_animation.frames[0].height / this.inst.height) : this.syncSize && (this.widthRatio = 1,
                        this.heightRatio = 1,
                        this.object.width = this.inst.width,
                        this.object.height = this.inst.height)
                    } else
                        this.object.type == this.getType(this.skinTag, this.subSkinTag) ? (this.syncWithAnim && (this.subSkinTag = this.inst.cur_animation.name),
                        e = this.getAnim(this.skinTag, this.subSkinTag),
                        cr.plugins_.Sprite.prototype.acts.SetAnim.call(this.object, e, 0),
                        this.syncWithFrame && cr.plugins_.Sprite.prototype.acts.SetAnimSpeed.call(this.object, 0),
                        this.syncZOrder && this.setZorder(),
                        cr.plugins_.Sprite.prototype.acts.SetCollisions.call(this.object, 0)) : (this.destroy(),
                        this.updateSkin())
                }
                ,
                e.destroy = function() {
                    if (null !== this.object) {
                        if (this.object.behaviorSkins)
                            for (var t = 0; t < this.object.behaviorSkins.length; t++)
                                this.object.behaviorSkins[t].destroy();
                        this.runtime.DestroyInstance(this.object),
                        this.object = null
                    }
                }
                ,
                e.setZorder = function() {
                    var t = this.inst;
                    if (0 != this.behaviorId) {
                        for (var e = this.behaviorId - 1; 0 <= e && null == this.inst.behaviorSkins[e].object; )
                            e--;
                        0 <= e && (t = this.inst.behaviorSkins[e].object)
                    }
                    this.object.layer.index !== t.layer.index && (this.object.layer.removeFromInstanceList(this.object, !0),
                    this.object.layer = t.layer,
                    t.layer.appendToInstanceList(this.object, !0)),
                    this.object.layer.moveInstanceAdjacent(this.object, t, !0),
                    this.runtime.redraw = !0
                }
                ,
                e.getType = function(t, e) {
                    return null == this.skinBase.skins[t] || null == this.skinBase.skins[t][e] ? null : this.skinBase.skins[t][e].type
                }
                ,
                e.getAnim = function(t, e) {
                    return null == this.skinBase.skins[t] || null == this.skinBase.skins[t][e] ? null : this.skinBase.skins[t][e].anim
                }
                ,
                i.prototype.IsDefault = function() {
                    return this.default
                }
                ,
                i.prototype.IsSkin = function(t) {
                    return this.skinTag == t
                }
                ,
                i.prototype.IsSubSkin = function(t) {
                    return this.subSkinTag == t
                }
                ,
                i.prototype.IsDefaultHidden = function() {
                    return this.hideDefault
                }
                ,
                t.cnds = new i,
                s.prototype.SetSkin = function(t) {
                    this.default && (this.default = !1),
                    this.skinTag = t,
                    this.updateSkin()
                }
                ,
                s.prototype.SetSubSkin = function(t) {
                    this.subSkinTag = t,
                    this.updateSkin()
                }
                ,
                s.prototype.Setup = function(t, e) {
                    this.default = !1,
                    this.skinTag = t,
                    this.subSkinTag = e,
                    this.updateSkin()
                }
                ,
                s.prototype.UseDefault = function() {
                    this.default = !0,
                    this.updateSkin()
                }
                ,
                s.prototype.HideDefault = function(t) {
                    this.hideDefault = 1 === t,
                    this.updateSkin()
                }
                ,
                s.prototype.SetImagePoint = function(t) {
                    this.imagePoint = t
                }
                ,
                s.prototype.SyncMode = function(t) {
                    this.syncWithAnim = 0 === t || 2 === t,
                    this.syncWithFrame = 1 === t || 2 === t,
                    this.syncWithAnim && (this.subSkinTag = this.inst.cur_animation.name)
                }
                ,
                s.prototype.SyncZOrder = function(t) {
                    this.syncZOrder = 0 === t
                }
                ,
                s.prototype.UpdateZOrder = function() {
                    this.object && this.setZorder()
                }
                ,
                t.acts = new s,
                n.prototype.Skin = function(t) {
                    t.set_string(this.skinTag)
                }
                ,
                n.prototype.SubSkin = function(t) {
                    t.set_string(this.subSkinTag)
                }
                ,
                n.prototype.SkinBaseTag = function(t) {
                    t.set_string(this.skinBaseTag)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.Timer = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Timer.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.timers = {}
                }
                ,
                e.onDestroy = function() {
                    cr.wipe(this.timers)
                }
                ,
                e.saveToJSON = function() {
                    var t, e, i = {};
                    for (t in this.timers)
                        this.timers.hasOwnProperty(t) && (e = this.timers[t],
                        i[t] = {
                            c: e.current.sum,
                            t: e.total.sum,
                            d: e.duration,
                            r: e.regular
                        });
                    return i
                }
                ,
                e.loadFromJSON = function(t) {
                    for (var e in this.timers = {},
                    t)
                        t.hasOwnProperty(e) && (this.timers[e] = {
                            current: new cr.KahanAdder,
                            total: new cr.KahanAdder,
                            duration: t[e].d,
                            regular: t[e].r
                        },
                        this.timers[e].current.sum = t[e].c,
                        this.timers[e].total.sum = t[e].t)
                }
                ,
                e.tick = function() {
                    var t, e, i = this.runtime.getDt(this.inst);
                    for (t in this.timers)
                        this.timers.hasOwnProperty(t) && ((e = this.timers[t]).current.add(i),
                        e.total.add(i))
                }
                ,
                e.tick2 = function() {
                    var t, e;
                    for (t in this.timers)
                        this.timers.hasOwnProperty(t) && (e = this.timers[t]).current.sum >= e.duration && (e.regular ? e.current.sum -= e.duration : delete this.timers[t])
                }
                ,
                i.prototype.OnTimer = function(t) {
                    t = t.toLowerCase();
                    t = this.timers[t];
                    return !!t && t.current.sum >= t.duration
                }
                ,
                t.cnds = new i,
                s.prototype.StartTimer = function(t, e, i) {
                    this.timers[i.toLowerCase()] = {
                        current: new cr.KahanAdder,
                        total: new cr.KahanAdder,
                        duration: t,
                        regular: 1 === e
                    }
                }
                ,
                s.prototype.StopTimer = function(t) {
                    t = t.toLowerCase(),
                    this.timers.hasOwnProperty(t) && delete this.timers[t]
                }
                ,
                t.acts = new s,
                n.prototype.CurrentTime = function(t, e) {
                    e = this.timers[e.toLowerCase()];
                    t.set_float(e ? e.current.sum : 0)
                }
                ,
                n.prototype.TotalTime = function(t, e) {
                    e = this.timers[e.toLowerCase()];
                    t.set_float(e ? e.total.sum : 0)
                }
                ,
                n.prototype.Duration = function(t, e) {
                    e = this.timers[e.toLowerCase()];
                    t.set_float(e ? e.duration : 0)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.Turret = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.Turret.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {
                    this.targetTypes = []
                }
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    this.range = this.properties[0],
                    this.rateOfFire = this.properties[1],
                    this.rotateEnabled = 0 !== this.properties[2],
                    this.rotateSpeed = cr.to_radians(this.properties[3]),
                    this.targetMode = this.properties[4],
                    this.predictiveAim = 0 !== this.properties[5],
                    this.projectileSpeed = this.properties[6],
                    this.enabled = 0 !== this.properties[7],
                    this.useCollisionCells = 0 !== this.properties[8],
                    this.lastCheckTime = 0,
                    this.fireTimeCount = this.rateOfFire,
                    this.currentTarget = null,
                    this.loadTargetUid = -1,
                    this.oldTargetX = 0,
                    this.oldTargetY = 0,
                    this.lastSpeeds = [0, 0, 0, 0],
                    this.speedsCount = 0,
                    this.firstTickWithTarget = !0;
                    var e = this;
                    this.recycled || (this.myDestroyCallback = function(t) {
                        e.onInstanceDestroyed(t)
                    }
                    ),
                    this.runtime.addDestroyCallback(this.myDestroyCallback)
                }
                ,
                e.saveToJSON = function() {
                    for (var t = {
                        r: this.range,
                        rof: this.rateOfFire,
                        re: this.rotateEnabled,
                        rs: this.rotateSpeed,
                        tm: this.targetMode,
                        pa: this.predictiveAim,
                        ps: this.projectileSpeed,
                        en: this.enabled,
                        lct: this.lastCheckTime,
                        ftc: this.fireTimeCount,
                        target: this.currentTarget ? this.currentTarget.uid : -1,
                        ox: this.oldTargetX,
                        oy: this.oldTargetY,
                        ls: this.lastSpeeds,
                        sc: this.speedsCount,
                        targs: []
                    }, e = 0, i = this.type.targetTypes.length; e < i; e++)
                        t.targs.push(this.type.targetTypes[e].sid);
                    return t
                }
                ,
                e.loadFromJSON = function(t) {
                    var e, i, s;
                    for (this.range = t.r,
                    this.rateOfFire = t.rof,
                    this.rotateEnabled = t.re,
                    this.rotateSpeed = t.rs,
                    this.targetMode = t.tm,
                    this.predictiveAim = t.pa,
                    this.projectileSpeed = t.ps,
                    this.enabled = t.en,
                    this.lastCheckTime = t.lct,
                    this.fireTimeCount = t.ftc || 0,
                    this.loadTargetUid = t.target,
                    this.oldTargetX = t.ox,
                    this.oldTargetY = t.oy,
                    this.lastSpeeds = t.ls,
                    this.speedsCount = t.sc,
                    cr.clearArray(this.type.targetTypes),
                    e = 0,
                    i = t.targs.length; e < i; e++)
                        (s = this.runtime.getObjectTypeBySid(t.targs[e])) && this.type.targetTypes.push(s)
                }
                ,
                e.afterLoad = function() {
                    -1 === this.loadTargetUid ? this.currentTarget = null : this.currentTarget = this.runtime.getObjectByUID(this.loadTargetUid)
                }
                ,
                e.onInstanceDestroyed = function(t) {
                    this.currentTarget == t && (this.currentTarget = null)
                }
                ,
                e.onDestroy = function() {
                    this.currentTarget = null,
                    this.runtime.removeDestroyCallback(this.myDestroyCallback)
                }
                ,
                e.addSpeed = function(t) {
                    this.speedsCount < 4 ? (this.lastSpeeds[this.speedsCount] = t,
                    this.speedsCount++) : (this.lastSpeeds.shift(),
                    this.lastSpeeds.push(t))
                }
                ,
                e.getSpeed = function() {
                    for (var t = 0, e = 0; e < this.speedsCount; e++)
                        t += this.lastSpeeds[e];
                    return t / this.speedsCount
                }
                ,
                e.isInRange = function(t) {
                    var e = this.inst
                      , i = t.x - e.x
                      , e = t.y - e.y;
                    return i * i + e * e <= this.range * this.range
                }
                ;
                var a = new cr.rect(0,0,0,0)
                  , h = [];
                function i() {}
                function s() {}
                function n() {}
                e.lookForFirstTarget = function() {
                    var t, e, i;
                    if (a.left = this.inst.x - this.range,
                    a.top = this.inst.y - this.range,
                    a.right = this.inst.x + this.range,
                    a.bottom = this.inst.y + this.range,
                    this.useCollisionCells)
                        this.runtime.getTypesCollisionCandidates(null, this.type.targetTypes, a, h);
                    else
                        for (t = 0,
                        e = this.type.targetTypes.length; t < e; ++t)
                            cr.appendArray(h, this.type.targetTypes[t].instances);
                    for (t = 0,
                    e = h.length; t < e; ++t)
                        if (i = h[t],
                        this.isInRange(i))
                            return this.currentTarget = i,
                            void cr.clearArray(h);
                    cr.clearArray(h)
                }
                ,
                e.lookForNearestTarget = function() {
                    var t, e, i, s, n = this.inst.x, r = this.inst.y, o = this.range * this.range;
                    if (this.currentTarget = null,
                    a.left = n - this.range,
                    a.top = r - this.range,
                    a.right = n + this.range,
                    a.bottom = r + this.range,
                    this.useCollisionCells)
                        this.runtime.getTypesCollisionCandidates(null, this.type.targetTypes, a, h);
                    else
                        for (t = 0,
                        e = this.type.targetTypes.length; t < e; ++t)
                            cr.appendArray(h, this.type.targetTypes[t].instances);
                    for (t = 0,
                    e = h.length; t < e; ++t)
                        (s = (s = n - (i = h[t]).x) * s + (s = r - i.y) * s) < o && (this.currentTarget = i,
                        o = s);
                    h.length = 0
                }
                ,
                e.tick = function() {
                    var t, e, i, s, n, r, o, a, h = this.runtime.getDt(this.inst), c = this.runtime.kahanTime.sum, l = this.inst;
                    this.enabled && (this.currentTarget && !this.isInRange(this.currentTarget) && (this.currentTarget = null,
                    this.speedsCount = 0,
                    this.firstTickWithTarget = !0),
                    c >= this.lastCheckTime + .1 && (this.lastCheckTime = c,
                    0 !== this.targetMode || this.currentTarget ? 1 === this.targetMode && (r = this.currentTarget,
                    this.lookForNearestTarget(),
                    this.currentTarget && this.currentTarget !== r && (this.speedsCount = 0,
                    this.firstTickWithTarget = !0,
                    this.oldTargetX = this.currentTarget.x,
                    this.oldTargetY = this.currentTarget.y,
                    this.runtime.trigger(cr.behaviors.Turret.prototype.cnds.OnTargetAcquired, this.inst))) : (this.lookForFirstTarget(),
                    this.currentTarget && (this.speedsCount = 0,
                    this.firstTickWithTarget = !0,
                    this.oldTargetX = this.currentTarget.x,
                    this.oldTargetY = this.currentTarget.y,
                    this.runtime.trigger(cr.behaviors.Turret.prototype.cnds.OnTargetAcquired, this.inst)))),
                    this.fireTimeCount += h,
                    this.currentTarget && (t = cr.angleTo(l.x, l.y, this.currentTarget.x, this.currentTarget.y),
                    this.predictiveAim && (e = l.x,
                    i = l.y,
                    s = this.currentTarget.x,
                    a = this.currentTarget.y,
                    n = cr.angleTo(s, a, this.oldTargetX, this.oldTargetY),
                    this.firstTickWithTarget || this.addSpeed(cr.distanceTo(s, a, this.oldTargetX, this.oldTargetY) / h),
                    o = a - i,
                    c = s - e,
                    a = ((r = this.getSpeed()) * Math.sin(n) * (e - s) - r * Math.cos(n) * (i - a)) / this.projectileSpeed,
                    c = Math.asin(a / Math.sqrt(o * o + c * c)) - Math.atan2(o, -c) + Math.PI,
                    isNaN(c) || (t = c)),
                    this.rotateEnabled && (l.angle = cr.angleRotate(l.angle, t, this.rotateSpeed * h),
                    l.set_bbox_changed()),
                    this.fireTimeCount >= this.rateOfFire && (!this.rotateEnabled || cr.to_degrees(cr.angleDiff(l.angle, t)) <= .1) && (!this.predictiveAim || 4 <= this.speedsCount) && (this.fireTimeCount -= this.rateOfFire,
                    this.fireTimeCount >= this.rateOfFire && (this.fireTimeCount = 0),
                    this.runtime.trigger(cr.behaviors.Turret.prototype.cnds.OnShoot, this.inst)),
                    this.currentTarget && (this.oldTargetX = this.currentTarget.x,
                    this.oldTargetY = this.currentTarget.y),
                    this.firstTickWithTarget = !1),
                    this.fireTimeCount > this.rateOfFire && (this.fireTimeCount = this.rateOfFire))
                }
                ,
                i.prototype.HasTarget = function() {
                    return !!this.currentTarget
                }
                ,
                i.prototype.OnShoot = function() {
                    return !0
                }
                ,
                i.prototype.OnTargetAcquired = function() {
                    return !0
                }
                ,
                t.cnds = new i,
                s.prototype.AcquireTarget = function(t) {
                    if (t)
                        for (var e, i = t.getCurrentSol().getObjects(), s = 0, n = i.length; s < n; ++s)
                            if (e = i[s],
                            this.currentTarget !== e && this.isInRange(e)) {
                                this.currentTarget = e,
                                this.speedsCount = 0,
                                this.firstTickWithTarget = !0,
                                this.oldTargetX = this.currentTarget.x,
                                this.oldTargetY = this.currentTarget.y,
                                this.runtime.trigger(cr.behaviors.Turret.prototype.cnds.OnTargetAcquired, this.inst);
                                break
                            }
                }
                ,
                s.prototype.AddTarget = function(t) {
                    var e = this.type.targetTypes;
                    if (-1 === e.indexOf(t)) {
                        for (var i, s = 0, n = e.length; s < n; s++)
                            if ((i = e[s]).is_family && -1 !== i.members.indexOf(t))
                                return;
                        e.push(t)
                    }
                }
                ,
                s.prototype.ClearTargets = function() {
                    cr.clearArray(this.type.targetTypes)
                }
                ,
                s.prototype.UnacquireTarget = function() {
                    this.currentTarget = null,
                    this.speedsCount = 0,
                    this.firstTickWithTarget = !0
                }
                ,
                s.prototype.SetEnabled = function(t) {
                    this.enabled = 0 !== t
                }
                ,
                s.prototype.SetRange = function(t) {
                    this.range = t
                }
                ,
                s.prototype.SetRateOfFire = function(t) {
                    this.rateOfFire = t
                }
                ,
                s.prototype.SetRotate = function(t) {
                    this.rotateEnabled = 0 !== t
                }
                ,
                s.prototype.SetRotateSpeed = function(t) {
                    this.rotateSpeed = cr.to_radians(t)
                }
                ,
                s.prototype.SetTargetMode = function(t) {
                    this.targetMode = t
                }
                ,
                s.prototype.SetPredictiveAim = function(t) {
                    this.predictiveAim = 0 !== t
                }
                ,
                s.prototype.SetProjectileSpeed = function(t) {
                    this.projectileSpeed = t
                }
                ,
                t.acts = new s,
                n.prototype.TargetUID = function(t) {
                    t.set_int(this.currentTarget ? this.currentTarget.uid : 0)
                }
                ,
                n.prototype.Range = function(t) {
                    t.set_float(this.range)
                }
                ,
                n.prototype.RateOfFire = function(t) {
                    t.set_float(this.rateOfFire)
                }
                ,
                n.prototype.RotateSpeed = function(t) {
                    t.set_float(cr.to_degrees(this.rotateSpeed))
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.aekiro_bind = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_bind.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.")
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.isInstanceOfText = !!cr.plugins_.Text && this.inst.type.plugin instanceof cr.plugins_.Text,
                    this.isInstanceOfSpriteFont = !!cr.plugins_.Spritefont2 && this.inst.type.plugin instanceof cr.plugins_.Spritefont2,
                    this.isInstanceOfSpriteFontPlus = !!cr.plugins_.SkymenSFPlusPLus && this.inst.type.plugin instanceof cr.plugins_.SkymenSFPlusPLus,
                    this.isInstanceOfSprite = !!cr.plugins_.Sprite && this.inst.type.plugin instanceof cr.plugins_.Sprite,
                    this.isInstanceOfPaster = !!cr.plugins_.rojoPaster && this.inst.type.plugin instanceof cr.plugins_.rojoPaster,
                    this.bind_key = this.properties[0],
                    this.bind_property = this.properties[1],
                    this.firstFrame = !0,
                    (this.inst.proui_bind = this).index = -1,
                    this.deepKey = "",
                    this.model = null
                }
                ,
                e.updateGridViewModel = function(t, e) {
                    this.model && this.deepKey && (console.log(this.deepKey + "***" + t),
                    cr.plugins_.aekiro_model.prototype.acts.SetValueByKeyString.call(this.model, this.deepKey, t, e))
                }
                ,
                e.setValue = function(t) {
                    var e;
                    this.bind_key && (0 == this.bind_property && this.inst._proui && this.inst._proui._setValue ? this.inst._proui._setValue(t) : 1 == this.bind_property && (this.isInstanceOfText || this.isInstanceOfSpriteFont || this.isInstanceOfSpriteFontPlus) ? this.inst.type.plugin.acts.SetText.call(this.inst, t) : 2 == this.bind_property && this.isInstanceOfSprite ? (e = 0,
                    isNaN(t) || (e = parseInt(t)),
                    this.inst.type.plugin.acts.SetAnimFrame.apply(this.inst, [e])) : 3 == this.bind_property && this.isInstanceOfSprite ? (e = String(t),
                    this.inst.type.plugin.acts.SetAnim.apply(this.inst, [e])) : 4 == this.bind_property && (this.isInstanceOfSprite || this.isInstanceOfPaster) && this.inst.type.plugin.acts.LoadImage.call(this.inst, t, 1))
                }
                ,
                e.tick = function() {}
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {
                        bind_key: this.bind_key,
                        bind_property: this.bind_property
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.bind_key = t.bind_key,
                    this.bind_property = t.bind_property
                }
                ,
                i.prototype.IsIndex = function(t) {
                    return t == this.index
                }
                ,
                t.cnds = new i,
                t.acts = new function() {}
                ,
                s.prototype.index = function(t) {
                    t.set_int(this.index)
                }
                ,
                t.exps = new s
            }(),
            cr.behaviors.aekiro_button = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_button.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.");
                    this.behavior.isHooked || (cr.proui.HookMe(this.behavior, ["touch"]),
                    this.behavior.isHooked = !0)
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.proui.isTypeValid(this.inst, [cr.plugins_.Sprite, cr.plugins_.NinePatch, cr.plugins_.TiledBg], "Pro UI: Button behavior is only applicable to Sprite, 9-patch or tiled backgrounds objects."),
                    this.isInstanceOfSprite = !!cr.plugins_.Sprite && this.inst.type.plugin instanceof cr.plugins_.Sprite,
                    this.isEnabled = this.properties[0],
                    this.frame_hover = isNaN(parseInt(this.properties[1])) ? -1 : parseInt(this.properties[1]),
                    this.frame_clicked = isNaN(parseInt(this.properties[2])) ? -1 : parseInt(this.properties[2]),
                    this.frame_disabled = isNaN(parseInt(this.properties[3])) ? -1 : parseInt(this.properties[3]),
                    this.clickSound = this.properties[4],
                    this.clickAnimation = this.properties[5],
                    this.hoverSound = this.properties[6],
                    this.hoverAnimation = this.properties[7],
                    this.callbackName = this.properties[8],
                    this.callbackParams = this.properties[9],
                    this.firstFrame = !0,
                    this.uiType = "button",
                    this.inst.uiType = "button",
                    (this.inst._proui = this).state = 0,
                    this.onTouchStarted = !1,
                    this.onMouseEnterFlag = !1,
                    this.callbacks = [],
                    this.onCreateInit()
                }
                ,
                e.onCreateInit = function() {
                    this.setClickAnimations(),
                    this.setHoverAnimations(),
                    this.useStates = !0,
                    this.frame_hover < 0 && this.frame_clicked < 0 && this.frame_disabled < 0 && (this.useStates = !1)
                }
                ,
                e.setClickAnimations = function() {
                    this.tween = new TWEEN.Tween(this.inst),
                    1 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        width: 1.2 * this.inst.width,
                        height: 1.2 * this.inst.height
                    }, 200) : 2 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Elastic.Out).to({
                        width: 1.2 * this.inst.width,
                        height: 1.2 * this.inst.height
                    }, 500) : 3 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        y: this.inst.y + this.inst.height / 10
                    }, 100) : 4 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        y: this.inst.y - this.inst.height / 10
                    }, 100) : 5 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        x: this.inst.x - this.inst.width / 10
                    }, 100) : 6 == this.clickAnimation && this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        x: this.inst.x + this.inst.width / 10
                    }, 100)
                }
                ,
                e.setHoverAnimations = function() {
                    this.tween_hover = new TWEEN.Tween(this.inst),
                    1 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        width: 1.1 * this.inst.width,
                        height: 1.1 * this.inst.height
                    }, 200) : 2 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Elastic.Out).to({
                        width: 1.1 * this.inst.width,
                        height: 1.1 * this.inst.height
                    }, 500) : 3 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        y: this.inst.y + this.inst.height / 10
                    }, 100) : 4 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        y: this.inst.y - this.inst.height / 10
                    }, 100) : 5 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        x: this.inst.x - this.inst.width / 13
                    }, 100) : 6 == this.hoverAnimation && this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        x: this.inst.x + this.inst.width / 13
                    }, 100)
                }
                ,
                e.updateView = function() {
                    this.useStates && this.isInstanceOfSprite && (this.isEnabled ? 2 == this.state && 0 <= this.frame_clicked ? cr.plugins_.Sprite.prototype.acts.SetAnimFrame.call(this.inst, this.frame_clicked) : 1 == this.state && 0 <= this.frame_hover ? cr.plugins_.Sprite.prototype.acts.SetAnimFrame.call(this.inst, this.frame_hover) : 0 == this.state && 0 <= this.frame_normal && cr.plugins_.Sprite.prototype.acts.SetAnimFrame.call(this.inst, this.frame_normal) : 0 <= this.frame_disabled ? cr.plugins_.Sprite.prototype.acts.SetAnimFrame.call(this.inst, this.frame_disabled) : this.isInsideScrollView || cr.plugins_.Sprite.prototype.acts.SetAnimFrame.call(this.inst, this.frame_normal))
                }
                ,
                e.OnTouchStart = function() {
                    var t;
                    this.isClickable() && this.isInsideScrollView() && !this.onTouchStarted && ((t = this.proui.scrollViews["l" + this.inst.layer.index]) && 5 < Math.sqrt(Math.pow(t.scroll.dx, 2) + Math.pow(t.scroll.dy, 2)) || (this.onTouchStarted = !0,
                    2 != this.state && 0 < this.clickAnimation && this.tween.start(),
                    this.state = 2,
                    this.updateView(),
                    this.clickSound && this.proui.playAudio(this.clickSound)))
                }
                ,
                e.OnAnyTouchEnd = function(t, e) {
                    this.onTouchStarted && this.OnTouchEnd(t, e),
                    this.onTouchStarted = !1
                }
                ,
                e.OnTouchEnd = function(t, e) {
                    if (this.inst.update_bbox(),
                    this.inst.contains_pt(t, e)) {
                        this.runtime.isMobile ? this.state = 0 : this.state = 1,
                        this.updateView(),
                        this.proui.runCallback(this.callbackName, this.callbackParams);
                        for (var i = 0, s = this.callbacks.length; i < s; i++)
                            this.callbacks[i]();
                        this.runtime.trigger(cr.behaviors.aekiro_button.prototype.cnds.OnClicked, this.inst)
                    } else
                        this.state = 0,
                        this.updateView();
                    0 < this.clickAnimation && this.tween.reverse()
                }
                ,
                e.isMouseOver = function() {
                    !this.onTouchStarted || (e = this.proui.scrollViews["l" + this.inst.layer.index]) && 5 < Math.sqrt(Math.pow(e.scroll.dx, 2) + Math.pow(e.scroll.dy, 2)) && (this.onTouchStarted = !1,
                    this.state = 0,
                    this.updateView(),
                    0 < this.clickAnimation && this.tween.reverse());
                    var t = this.proui.CursorX(this.inst.layer.index)
                      , e = this.proui.CursorY(this.inst.layer.index);
                    return this.inst.update_bbox(),
                    this.inst.contains_pt(t, e)
                }
                ,
                e.OnMouseEnter = function() {
                    this.isClickable() && (this.state = 1,
                    this.updateView(),
                    0 < this.hoverAnimation && this.tween_hover.start(),
                    this.hoverSound && this.proui.playAudio(this.hoverSound),
                    this.runtime.trigger(cr.behaviors.aekiro_button.prototype.cnds.OnMouseEnter, this.inst))
                }
                ,
                e.OnMouseLeave = function() {
                    this.state = 0,
                    this.updateView(),
                    0 < this.hoverAnimation && this.tween_hover.reverse(),
                    this.runtime.trigger(cr.behaviors.aekiro_button.prototype.cnds.OnMouseLeave, this.inst)
                }
                ,
                e.isInTouch = function() {
                    var t = this.proui.X(this.inst.layer.index)
                      , e = this.proui.Y(this.inst.layer.index);
                    return this.inst.update_bbox(),
                    this.inst.contains_pt(t, e)
                }
                ,
                e.setEnabled = function(t) {
                    this.isEnabled = t,
                    this.updateView()
                }
                ,
                e.isInsideScrollView = function() {
                    var t, e, i = !0, s = this.proui.scrollViews["l" + this.inst.layer.index];
                    return s && (e = this.runtime.isMobile ? (t = this.proui.X(this.inst.layer.index),
                    this.proui.Y(this.inst.layer.index)) : (t = this.proui.CursorX(this.inst.layer.index),
                    this.proui.CursorY(this.inst.layer.index)),
                    s.inst.update_bbox(),
                    i = s.inst.contains_pt(t, e)),
                    i
                }
                ,
                e.isClickable = function() {
                    for (var t = this.inst.layer.visible && this.inst.visible, e = !1, i = 0, s = this.proui.currentDialogs.length; i < s; i++)
                        if (this.inst.layer.index < this.proui.currentDialogs[i].inst.layer.index) {
                            e = !0;
                            break
                        }
                    return t && this.isEnabled && !e
                }
                ,
                e.tick = function() {
                    var t;
                    this.firstFrame && (this.firstFrame = !1,
                    this.useStates && (this.inst.cur_anim_speed = 0),
                    this.frame_normal = this.inst.cur_frame,
                    this.updateView(),
                    this.lastY = this.proui.CursorY(this.inst.layer.index),
                    this.lastX = this.proui.CursorX(this.inst.layer.index)),
                    this.tween.isPlaying && (t = 1e3 * this.runtime.getDt(this.inst),
                    this.tween.update(t),
                    this.inst.set_bbox_changed()),
                    this.tween_hover.isPlaying && (t = 1e3 * this.runtime.getDt(this.inst),
                    this.tween_hover.update(t),
                    this.inst.set_bbox_changed()),
                    this.isClickable() && (this.isMouseOver() && this.isInsideScrollView() ? !this.onMouseEnterFlag && (10 < Math.abs(this.lastY - this.proui.CursorY(this.inst.layer.index)) || 10 < Math.abs(this.lastX - this.proui.CursorX(this.inst.layer.index))) && (this.onMouseEnterFlag = !0,
                    this.OnMouseEnter(),
                    this.lastY = this.proui.CursorY(this.inst.layer.index),
                    this.lastX = this.proui.CursorX(this.inst.layer.index)) : this.onMouseEnterFlag && (!this.isInsideScrollView() || 10 < Math.abs(this.lastY - this.proui.CursorY(this.inst.layer.index)) || 10 < Math.abs(this.lastX - this.proui.CursorX(this.inst.layer.index))) && (this.onMouseEnterFlag = !1,
                    this.OnMouseLeave(),
                    this.lastY = this.proui.CursorY(this.inst.layer.index),
                    this.lastX = this.proui.CursorX(this.inst.layer.index)))
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {
                        isEnabled: this.isEnabled,
                        clickSound: this.clickSound,
                        clickAnimation: this.clickAnimation,
                        hoverSound: this.hoverSound,
                        hoverAnimation: this.hoverAnimation,
                        callbackName: this.callbackName,
                        callbackParams: this.callbackParams,
                        frame_hover: this.frame_hover,
                        frame_clicked: this.frame_clicked,
                        frame_disabled: this.frame_disabled
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.isEnabled = t.isEnabled,
                    this.clickSound = t.clickSound,
                    this.clickAnimation = t.clickAnimation,
                    this.hoverSound = t.hoverSound,
                    this.hoverAnimation = t.hoverAnimation,
                    this.callbackName = t.callbackName,
                    this.callbackParams = t.callbackParams,
                    this.frame_hover = t.frame_hover,
                    this.frame_clicked = t.frame_clicked,
                    this.frame_disabled = t.frame_disabled,
                    this.onCreateInit()
                }
                ,
                i.prototype.OnMouseEnter = function() {
                    return !0
                }
                ,
                i.prototype.OnMouseLeave = function() {
                    return !0
                }
                ,
                i.prototype.OnClicked = function() {
                    return !0
                }
                ,
                i.prototype.IsEnabled = function() {
                    return this.isEnabled
                }
                ,
                t.cnds = new i,
                s.prototype.setEnabled = function(t) {
                    this.setEnabled(t)
                }
                ,
                t.acts = new s,
                t.exps = new function() {}
            }(),
            cr.behaviors.aekiro_checkbox = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_checkbox.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.");
                    this.behavior.isHooked || (cr.proui.HookMe(this.behavior, ["touch"]),
                    this.behavior.isHooked = !0)
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.proui.isTypeValid(this.inst, [cr.plugins_.Sprite], "Pro UI: Checkbox behavior is only applicable to Sprite objects."),
                    this.isEnabled = this.properties[0],
                    this.value = this.properties[1],
                    this.frames_normal = this.properties[2],
                    this.frames_hover = this.properties[3],
                    this.frames_disabled = this.properties[4],
                    this.clickSound = this.properties[5],
                    this.clickAnimation = this.properties[6],
                    this.hoverSound = this.properties[7],
                    this.hoverAnimation = this.properties[8],
                    this.callbackName = this.properties[9],
                    this.callbackParams = this.properties[10],
                    this.firstFrame = !0,
                    this.uiType = "checkbox",
                    this.inst.uiType = "checkbox",
                    (this.inst._proui = this).firstSetValue = !1,
                    this.state = 0,
                    this.onTouchStarted = !1,
                    this.onMouseEnterFlag = !1,
                    (this.compParent = this).onCreateInit()
                }
                ,
                e.onCreateInit = function() {
                    this.setFrames(),
                    this.setClickAnimations(),
                    this.setHoverAnimations()
                }
                ,
                e.setFrames = function() {
                    var t = this.frames_normal.split(",");
                    this.frame_normal_uncheck = isNaN(parseInt(t[0])) ? -1 : parseInt(t[0]),
                    this.frame_normal_check = isNaN(parseInt(t[1])) ? -1 : parseInt(t[1]);
                    t = this.frames_hover.split(",");
                    this.frame_hover_uncheck = isNaN(parseInt(t[0])) ? -1 : parseInt(t[0]),
                    this.frame_hover_check = isNaN(parseInt(t[1])) ? -1 : parseInt(t[1]);
                    t = this.frames_disabled.split(",");
                    this.frame_disabled_uncheck = isNaN(parseInt(t[0])) ? -1 : parseInt(t[0]),
                    this.frame_disabled_check = isNaN(parseInt(t[1])) ? -1 : parseInt(t[1])
                }
                ,
                e.setClickAnimations = function() {
                    this.tween = new TWEEN.Tween(this.inst),
                    1 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        width: 1.2 * this.inst.width,
                        height: 1.2 * this.inst.height
                    }, 200) : 2 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Elastic.Out).to({
                        width: 1.2 * this.inst.width,
                        height: 1.2 * this.inst.height
                    }, 500) : 3 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        y: this.inst.y + this.inst.height / 10
                    }, 100) : 4 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        y: this.inst.y - this.inst.height / 10
                    }, 100) : 5 == this.clickAnimation ? this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        x: this.inst.x - this.inst.width / 10
                    }, 100) : 6 == this.clickAnimation && this.tween.easing(TWEEN.Easing.Quadratic.Out).to({
                        x: this.inst.x + this.inst.width / 10
                    }, 100)
                }
                ,
                e.setHoverAnimations = function() {
                    this.tween_hover = new TWEEN.Tween(this.inst),
                    1 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        width: 1.1 * this.inst.width,
                        height: 1.1 * this.inst.height
                    }, 200) : 2 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Elastic.Out).to({
                        width: 1.1 * this.inst.width,
                        height: 1.1 * this.inst.height
                    }, 500) : 3 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        y: this.inst.y + this.inst.height / 10
                    }, 100) : 4 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        y: this.inst.y - this.inst.height / 10
                    }, 100) : 5 == this.hoverAnimation ? this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        x: this.inst.x - this.inst.width / 13
                    }, 100) : 6 == this.hoverAnimation && this.tween_hover.easing(TWEEN.Easing.Quadratic.Out).to({
                        x: this.inst.x + this.inst.width / 13
                    }, 100)
                }
                ,
                e.setValue = function(t) {
                    var e;
                    this.firstSetValue = !0,
                    this._setValue(t) && ((e = this.inst.proui_model) && e.setModelValue(t, {
                        except: this.compParent
                    }),
                    this.inst.proui_bind && this.inst.proui_bind.updateGridViewModel(t, {
                        except: this.compParent
                    }))
                }
                ,
                e._setValue = function(t) {
                    return null != t && (t = this.proui.validateSimpleValue(t, 0),
                    t = cr.clamp(t, 0, 1),
                    this.value != t && (this.value = t,
                    this.updateView(),
                    !0))
                }
                ,
                e.updateFromModel = function() {
                    var t = this.inst.proui_model;
                    !t || null != (t = t.getFromModel()) && (t = this.proui.validateSimpleValue(t, 0),
                    t = cr.clamp(t, 0, 1),
                    this.value != t && (this.value = t))
                }
                ,
                e.updateView = function() {
                    this.value ? (cr.plugins_.Sprite.prototype.acts.SetAnimFrame.apply(this.inst, [this.frame_normal_check]),
                    this.isEnabled ? 1 == this.state && 0 <= this.frame_hover_check && cr.plugins_.Sprite.prototype.acts.SetAnimFrame.apply(this.inst, [this.frame_hover_check]) : 0 <= this.frame_disabled_check && cr.plugins_.Sprite.prototype.acts.SetAnimFrame.apply(this.inst, [this.frame_disabled_check])) : (cr.plugins_.Sprite.prototype.acts.SetAnimFrame.apply(this.inst, [this.frame_normal_uncheck]),
                    this.isEnabled ? 1 == this.state && 0 <= this.frame_hover_uncheck && cr.plugins_.Sprite.prototype.acts.SetAnimFrame.apply(this.inst, [this.frame_hover_uncheck]) : 0 <= this.frame_disabled_uncheck && cr.plugins_.Sprite.prototype.acts.SetAnimFrame.apply(this.inst, [this.frame_disabled_uncheck]))
                }
                ,
                e.setEnabled = function(t) {
                    this.isEnabled = t,
                    this.updateView()
                }
                ,
                e.OnTouchStart = function() {
                    var t;
                    this.isClickable() && this.isInsideScrollView() && !this.onTouchStarted && ((t = this.proui.scrollViews["l" + this.inst.layer.index]) && 5 < Math.sqrt(Math.pow(t.scroll.dx, 2) + Math.pow(t.scroll.dy, 2)) || (this.onTouchStarted = !0,
                    2 != this.state && 0 < this.clickAnimation && this.tween.start(),
                    this.state = 2,
                    this.clickSound && this.proui.playAudio(this.clickSound)))
                }
                ,
                e.OnAnyTouchEnd = function(t, e) {
                    this.onTouchStarted && this.OnTouchEnd(t, e),
                    this.onTouchStarted = !1
                }
                ,
                e.OnTouchEnd = function(t, e) {
                    this.inst.update_bbox(),
                    this.inst.contains_pt(t, e) ? (this.runtime.isMobile ? this.state = 0 : this.state = 1,
                    this.setValue(1 - this.value),
                    this.updateView(),
                    this.proui.runCallback(this.callbackName, this.callbackParams),
                    this.runtime.trigger(cr.behaviors.aekiro_checkbox.prototype.cnds.OnClicked, this.inst)) : (this.state = 0,
                    this.updateView()),
                    0 < this.clickAnimation && this.tween.reverse()
                }
                ,
                e.isMouseOver = function() {
                    !this.onTouchStarted || (e = this.proui.scrollViews["l" + this.inst.layer.index]) && 5 < Math.sqrt(Math.pow(e.scroll.dx, 2) + Math.pow(e.scroll.dy, 2)) && (this.onTouchStarted = !1,
                    this.state = 0,
                    this.updateView(),
                    0 < this.clickAnimation && this.tween.reverse());
                    var t = this.proui.CursorX(this.inst.layer.index)
                      , e = this.proui.CursorY(this.inst.layer.index);
                    return this.inst.update_bbox(),
                    this.inst.contains_pt(t, e)
                }
                ,
                e.OnMouseEnter = function() {
                    this.isClickable() && (this.state = 1,
                    this.updateView(),
                    0 < this.hoverAnimation && this.tween_hover.start(),
                    this.hoverSound && this.proui.playAudio(this.hoverSound),
                    this.runtime.trigger(cr.behaviors.aekiro_checkbox.prototype.cnds.OnMouseEnter, this.inst))
                }
                ,
                e.OnMouseLeave = function() {
                    this.state = 0,
                    this.updateView(),
                    0 < this.hoverAnimation && this.tween_hover.reverse(),
                    this.runtime.trigger(cr.behaviors.aekiro_checkbox.prototype.cnds.OnMouseLeave, this.inst)
                }
                ,
                e.isInTouch = function() {
                    var t = this.proui.X(this.inst.layer.index)
                      , e = this.proui.Y(this.inst.layer.index);
                    return this.inst.update_bbox(),
                    this.inst.contains_pt(t, e)
                }
                ,
                e.isInsideScrollView = function() {
                    var t, e, i = !0, s = this.proui.scrollViews["l" + this.inst.layer.index];
                    return s && (e = this.runtime.isMobile ? (t = this.proui.X(this.inst.layer.index),
                    this.proui.Y(this.inst.layer.index)) : (t = this.proui.CursorX(this.inst.layer.index),
                    this.proui.CursorY(this.inst.layer.index)),
                    s.inst.update_bbox(),
                    i = s.inst.contains_pt(t, e)),
                    i
                }
                ,
                e.isClickable = function() {
                    for (var t = this.inst.layer.visible && this.inst.visible, e = !1, i = 0, s = this.proui.currentDialogs.length; i < s; i++)
                        if (this.inst.layer.index < this.proui.currentDialogs[i].inst.layer.index) {
                            e = !0;
                            break
                        }
                    return t && this.isEnabled && !e
                }
                ,
                e.tick = function() {
                    var t;
                    this.firstFrame && (this.firstFrame = !1,
                    this.inst.cur_anim_speed = 0,
                    this.firstSetValue || this.updateFromModel(),
                    this.updateView(),
                    this.lastY = this.proui.CursorY(this.inst.layer.index),
                    this.lastX = this.proui.CursorX(this.inst.layer.index)),
                    this.tween.isPlaying && (t = 1e3 * this.runtime.getDt(this.inst),
                    this.tween.update(t),
                    this.inst.set_bbox_changed()),
                    this.tween_hover.isPlaying && (t = 1e3 * this.runtime.getDt(this.inst),
                    this.tween_hover.update(t),
                    this.inst.set_bbox_changed()),
                    this.isClickable() && (this.isMouseOver() && this.isInsideScrollView() ? !this.onMouseEnterFlag && (10 < Math.abs(this.lastY - this.proui.CursorY(this.inst.layer.index)) || 10 < Math.abs(this.lastX - this.proui.CursorX(this.inst.layer.index))) && (this.onMouseEnterFlag = !0,
                    this.OnMouseEnter(),
                    this.lastY = this.proui.CursorY(this.inst.layer.index),
                    this.lastX = this.proui.CursorX(this.inst.layer.index)) : this.onMouseEnterFlag && (!this.isInsideScrollView() || 10 < Math.abs(this.lastY - this.proui.CursorY(this.inst.layer.index)) || 10 < Math.abs(this.lastX - this.proui.CursorX(this.inst.layer.index))) && (this.onMouseEnterFlag = !1,
                    this.OnMouseLeave(),
                    this.lastY = this.proui.CursorY(this.inst.layer.index),
                    this.lastX = this.proui.CursorX(this.inst.layer.index)))
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {
                        isEnabled: this.isEnabled,
                        clickSound: this.clickSound,
                        clickAnimation: this.clickAnimation,
                        hoverSound: this.hoverSound,
                        hoverAnimation: this.hoverAnimation,
                        callbackName: this.callbackName,
                        callbackParams: this.callbackParams,
                        frames_normal: this.frames_normal,
                        frames_hover: this.frames_hover,
                        disabledFrames: this.frames_disabled,
                        value: this.value
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.isEnabled = t.isEnabled,
                    this.clickSound = t.clickSound,
                    this.clickAnimation = t.clickAnimation,
                    this.hoverSound = t.hoverSound,
                    this.hoverAnimation = t.hoverAnimation,
                    this.callbackName = t.callbackName,
                    this.callbackParams = t.callbackParams,
                    this.frames_normal = t.frames_normal,
                    this.frames_hover = t.frames_hover,
                    this.frames_disabled = t.disabledFrames,
                    this.value = t.value,
                    this.onCreateInit()
                }
                ,
                i.prototype.OnMouseEnter = function() {
                    return !0
                }
                ,
                i.prototype.OnMouseLeave = function() {
                    return !0
                }
                ,
                i.prototype.IsEnabled = function() {
                    return this.isEnabled
                }
                ,
                i.prototype.OnClicked = function() {
                    return !0
                }
                ,
                i.prototype.IsChecked = function() {
                    return this.value
                }
                ,
                t.cnds = new i,
                s.prototype.setEnabled = function(t) {
                    this.setEnabled(t)
                }
                ,
                s.prototype.setValue = function(t) {
                    this.setValue(t)
                }
                ,
                t.acts = new s,
                n.prototype.value = function(t) {
                    t.set_int(this.value)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.aekiro_dialog = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_dialog.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.");
                    this.tweenFunctions = [TWEEN.Easing.Linear.None, TWEEN.Easing.Quadratic.Out, TWEEN.Easing.Quartic.Out, TWEEN.Easing.Exponential.Out, TWEEN.Easing.Circular.Out, TWEEN.Easing.Back.Out, TWEEN.Easing.Elastic.Out, TWEEN.Easing.Bounce.Out]
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.proui.isTypeValid(this.inst, [cr.plugins_.Sprite, cr.plugins_.NinePatch, cr.plugins_.TiledBg], "Pro UI: dialog behavior is only applicable to Sprite, 9-patch or tiled backgrounds objects."),
                    this.openAnimation = this.properties[0],
                    this.openAnimTweenFunction = this.tweenFunctions[this.properties[1]],
                    this.openSound = this.properties[2],
                    this.openAnimDuration = this.properties[3],
                    this.closeAnimation = this.properties[4],
                    this.closeAnimTweenFunction = this.tweenFunctions[this.properties[5]],
                    this.closeSound = this.properties[6],
                    this.closeAnimDuration = this.properties[7],
                    this.overlayUID = this.properties[8],
                    this.pauseOnOpen = this.properties[9],
                    this.closeButtonUID = this.properties[10],
                    this.isModal = this.properties[11],
                    this.isLayerContainer = this.properties[12],
                    this.firstFrame = !0,
                    this.inst.uiType = "dialog",
                    this.uiType = "dialog",
                    (this.inst._proui = this).dpos = {},
                    this.isInit = !1,
                    this.isOpen = !1,
                    this.outLayerChildren = {},
                    this.tween = new TWEEN.Tween,
                    this.tween.onReverseComplete(this.postClose, this),
                    this.tween.onComplete(this.postOpen, this),
                    this.tween_close = new TWEEN.Tween,
                    this.tween_close.onComplete(this.postClose, this),
                    this.tween_opacity = new TWEEN.Tween
                }
                ,
                e.setCloseButton = function() {
                    var t;
                    this.closeButton = this.proui.tags[this.closeButtonUID],
                    this.closeButton && ("button" == this.closeButton.uiType ? (t = this).closeButton._proui.callbacks.push(function() {
                        t.close()
                    }) : console.error("ProUI-Dialog uid=%s: the close button needs to have a button behavior !", this.inst.uid))
                }
                ,
                e.setOverlay = function() {
                    this.overlay = this.proui.tags[this.overlayUID],
                    this.overlay && (this.proui.isTypeValid(this.overlay, [cr.plugins_.Sprite, cr.plugins_.NinePatch, cr.plugins_.TiledBg], "ProUI-Dialog: The overlay of a dialog can only be a Sprite, 9-patch Or Tiled Background object."),
                    this.overlay.uiType = "overlay",
                    this.tween_overlay = new TWEEN.Tween,
                    this.tween_overlay.easing(TWEEN.Easing.Quartic.Out))
                }
                ,
                e.showOverlay = function() {
                    this.overlay && (this.overlay.my_timescale = 1,
                    this.overlay.type.plugin.acts.MoveToLayer.call(this.overlay, this.inst.layer),
                    this.overlay.type.plugin.acts.MoveToBottom.call(this.overlay),
                    this.overlay.width = this.inst.layer.viewRight - this.inst.layer.viewLeft,
                    this.overlay.height = this.inst.layer.viewBottom - this.inst.layer.viewTop,
                    this.overlay.set_bbox_changed(),
                    this.overlay.update_bbox(),
                    this.overlay.x = this.inst.layer.viewLeft + (this.overlay.x - this.overlay.bbox.left),
                    this.overlay.y = this.inst.layer.viewTop + (this.overlay.y - this.overlay.bbox.top),
                    this.overlay.set_bbox_changed(),
                    this.overlay.visible = !0,
                    this.overlay.opacity = 0,
                    this.tween_overlay.setObject(this.overlay),
                    this.tween_overlay.to({
                        opacity: .3
                    }, 300),
                    this.tween_overlay.start())
                }
                ,
                e.setDialogTimeScale = function() {
                    for (var t = 0, e = this.inst.layer.instances.length; t < e; t++)
                        this.inst.layer.instances[t].my_timescale = 1
                }
                ,
                e.setOutLayerChildrenVisible = function(s) {
                    var n, r = this;
                    Object.keys(this.outLayerChildren).forEach(function(t) {
                        for (var e = 0, i = (n = r.outLayerChildren[t]).length; e < i; e++)
                            cr.system_object.prototype.acts.SetLayerVisible.call(r.runtime.system, n[e].layer, s)
                    })
                }
                ,
                e.init = function() {
                    this.isInit || (cr.system_object.prototype.acts.SetLayerVisible.call(this.runtime.system, this.inst.layer, !1),
                    this.setOutLayerChildrenVisible(!1),
                    this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y,
                    this.dpos.dx = 0,
                    this.dpos.dy = 0,
                    this.inst.x = this.inst.layer.viewLeft - this.inst.width - 100,
                    this.inst.set_bbox_changed(),
                    this.setOverlay(),
                    this.setCloseButton(),
                    this.isInit = !0)
                }
                ,
                e.tick = function() {
                    var t, s, n;
                    this.firstFrame && (this.firstFrame = !1,
                    this.init()),
                    this.tween.isPlaying && (t = 1e3 * this.runtime.getDt(this.inst),
                    this.tween.update(t),
                    5 == this.openAnimation || 6 == this.openAnimation ? (n = this,
                    Object.keys(this.outLayerChildren).forEach(function(t) {
                        for (var e = 0, i = (s = n.outLayerChildren[t]).length; e < i; e++)
                            s[e].layer.scale = n.inst.layer.scale
                    }),
                    this.runtime.redraw = !0) : this.inst.set_bbox_changed()),
                    this.tween_close.isPlaying && (t = 1e3 * this.runtime.getDt(this.inst),
                    this.tween_close.update(t),
                    6 == this.closeAnimation || 7 == this.closeAnimation ? (n = this,
                    Object.keys(this.outLayerChildren).forEach(function(t) {
                        for (var e = 0, i = (s = n.outLayerChildren[t]).length; e < i; e++)
                            s[e].layer.scale = n.inst.layer.scale
                    }),
                    this.runtime.redraw = !0) : this.inst.set_bbox_changed()),
                    this.tween_opacity.isPlaying && (t = 1e3 * this.runtime.getDt(this.inst),
                    this.tween_opacity.update(t),
                    n = this,
                    Object.keys(this.outLayerChildren).forEach(function(t) {
                        for (var e = 0, i = (s = n.outLayerChildren[t]).length; e < i; e++)
                            s[e].layer.opacity = n.inst.layer.opacity
                    }),
                    this.runtime.redraw = !0),
                    this.tween_overlay && this.tween_overlay.isPlaying && (t = 1e3 * this.runtime.getDt(this.inst),
                    this.tween_overlay.update(t),
                    this.runtime.redraw = !0)
                }
                ,
                e.updateChildren = function() {
                    var n;
                    if (this.isLayerContainer && (isNaN(this.dpos.prev_x) && (this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y),
                    this.dpos.dx = this.inst.x - this.dpos.prev_x,
                    this.dpos.dy = this.inst.y - this.dpos.prev_y,
                    this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y,
                    0 != this.dpos.dx || 0 != this.dpos.dy)) {
                        for (var r, t = 0, e = this.inst.layer.instances.length; t < e; t++)
                            "dialog" != (n = this.inst.layer.instances[t]).uiType && "overlay" != n.uiType && !0 !== n.isSubComp && (n.x += this.dpos.dx,
                            n.y += this.dpos.dy,
                            n.set_bbox_changed(),
                            "radiogroup" != n.uiType && "discreteProgress" != n.uiType && "sliderbar" != n.uiType || n._proui.updateChildren());
                        var o = this;
                        Object.keys(this.outLayerChildren).forEach(function(t, e) {
                            for (var i = 0, s = (r = o.outLayerChildren[t]).length; i < s; i++)
                                (n = r[i]).x += o.dpos.dx,
                                n.y += o.dpos.dy,
                                n.set_bbox_changed()
                        })
                    }
                }
                ,
                e.tick2 = function() {
                    this.updateChildren()
                }
                ,
                e.setInitialPosition = function(t, e, i) {
                    var s, n;
                    0 == this.openAnimation || 5 == this.openAnimation || 6 == this.openAnimation ? (s = t,
                    n = e,
                    i && (n = (this.inst.layer.viewTop + this.inst.layer.viewBottom) / 2,
                    s = (this.inst.layer.viewLeft + this.inst.layer.viewRight) / 2)) : 1 == this.openAnimation ? (n = this.inst.layer.viewTop - this.inst.height / 2 - 100,
                    s = i ? (this.inst.layer.viewLeft + this.inst.layer.viewRight) / 2 : t) : 2 == this.openAnimation ? (n = this.inst.layer.viewBottom + this.inst.height / 2 + 100,
                    s = i ? (this.inst.layer.viewLeft + this.inst.layer.viewRight) / 2 : t) : 3 == this.openAnimation ? (s = this.inst.layer.viewRight + this.inst.width / 2 + 100,
                    n = i ? (this.inst.layer.viewTop + this.inst.layer.viewBottom) / 2 : e) : 4 == this.openAnimation && (s = this.inst.layer.viewLeft - this.inst.width / 2 - 100,
                    n = i ? (this.inst.layer.viewTop + this.inst.layer.viewBottom) / 2 : e),
                    this.inst.x = s,
                    this.inst.y = n,
                    this.inst.set_bbox_changed(),
                    this.updateChildren()
                }
                ,
                e.open = function(t, e, i) {
                    var s, n;
                    this.init(),
                    this.isOpen || this.tween.isPlaying || (this.proui.isModalDialogOpened() ? console.log("ProUI-Dialog: Can not open dialog because modal dialog is already opened") : (this.tween_close.isPlaying && (this.tween_close.isPlaying = !1,
                    this.postClose()),
                    this.proui.addDialog(this),
                    this.isOpen = !0,
                    this.runtime.trigger(cr.behaviors.aekiro_dialog.prototype.cnds.onDialogOpened, this.inst),
                    this.pauseOnOpen && (this.prevTimescale = this.runtime.timescale,
                    cr.system_object.prototype.acts.SetTimescale.call(this.runtime.system, 0)),
                    1 != this.runtime.timescale && this.setDialogTimeScale(1),
                    this.setInitialPosition(t, e, i),
                    cr.system_object.prototype.acts.SetLayerVisible.call(this.runtime.system, this.inst.layer, !0),
                    n = this,
                    Object.keys(this.outLayerChildren).forEach(function(t) {
                        for (var e = 0, i = (s = n.outLayerChildren[t]).length; e < i; e++)
                            cr.system_object.prototype.acts.SetLayerVisible.call(n.runtime.system, s[e].layer, !0)
                    }),
                    t = t,
                    e = e,
                    i && (t = (this.inst.layer.viewLeft + this.inst.layer.viewRight) / 2,
                    e = (this.inst.layer.viewTop + this.inst.layer.viewBottom) / 2),
                    0 == this.openAnimDuration && (this.openAnimation = 0),
                    1 == this.openAnimation || 2 == this.openAnimation ? (this.tween.setObject(this.inst),
                    this.tween.easing(this.openAnimTweenFunction),
                    this.tween.to({
                        y: e
                    }, this.openAnimDuration)) : 3 == this.openAnimation || 4 == this.openAnimation ? (this.tween.setObject(this.inst),
                    this.tween.easing(this.openAnimTweenFunction),
                    this.tween.to({
                        x: t
                    }, this.openAnimDuration)) : 5 != this.openAnimation && 6 != this.openAnimation || (this.tween.setObject(this.inst.layer),
                    this.tween.easing(this.openAnimTweenFunction),
                    5 == this.openAnimation ? this.inst.layer.scale = 2 : this.inst.layer.scale = .2,
                    this.inst.layer.opacity = 0,
                    this.runtime.redraw = !0,
                    this.tween.to({
                        scale: 1
                    }, this.openAnimDuration),
                    this.tween_opacity.setObject(this.inst.layer),
                    this.tween_opacity.to({
                        opacity: 1
                    }, 300),
                    this.tween_opacity.easing(TWEEN.Easing.Quartic.Out)),
                    0 < this.openAnimation ? (this.tween.start(),
                    5 != this.openAnimation && 6 != this.openAnimation || this.tween_opacity.start()) : (this.inst.x = t,
                    this.inst.y = e,
                    this.inst.set_bbox_changed(),
                    this.updateChildren()),
                    this.openSound && this.proui.playAudio(this.openSound)))
                }
                ,
                e.postOpen = function() {
                    this.showOverlay()
                }
                ,
                e.getCloseTargetPosition = function() {
                    var t = this.inst.x
                      , e = this.inst.y;
                    return 2 == this.closeAnimation ? (e = this.inst.layer.viewBottom + this.inst.height / 2 + 100,
                    t = this.inst.x) : 3 == this.closeAnimation ? (e = this.inst.layer.viewTop - this.inst.height / 2 - 100,
                    t = this.inst.x) : 4 == this.closeAnimation ? (t = this.inst.layer.viewLeft - this.inst.width / 2 - 100,
                    e = this.inst.y) : 5 == this.closeAnimation && (t = this.inst.layer.viewRight + this.inst.width / 2 + 100,
                    e = this.inst.y),
                    {
                        x: t,
                        y: e
                    }
                }
                ,
                e.close = function() {
                    var t, e;
                    !this.isOpen || this.tween.isPlaying || this.tween_close.isPlaying || (this.isOpen = !1,
                    this.runtime.trigger(cr.behaviors.aekiro_dialog.prototype.cnds.onDialogClosed, this.inst),
                    this.overlay && (this.overlay.visible = !1),
                    this.proui.removeDialog(this),
                    t = (e = this.getCloseTargetPosition()).x,
                    e = e.y,
                    0 == this.closeAnimDuration && (this.closeAnimation = 0),
                    2 == this.closeAnimation || 3 == this.closeAnimation ? (this.tween_close.setObject(this.inst),
                    this.tween_close.easing(this.closeAnimTweenFunction),
                    this.tween_close.to({
                        y: e
                    }, this.closeAnimDuration)) : 4 == this.closeAnimation || 5 == this.closeAnimation ? (this.tween_close.setObject(this.inst),
                    this.tween_close.easing(this.closeAnimTweenFunction),
                    this.tween_close.to({
                        x: t
                    }, this.closeAnimDuration)) : 6 != this.closeAnimation && 7 != this.closeAnimation || (this.tween_close.setObject(this.inst.layer),
                    this.tween_close.easing(this.closeAnimTweenFunction),
                    6 == this.closeAnimation ? this.tween_close.to({
                        scale: .2
                    }, this.closeAnimDuration) : this.tween_close.to({
                        scale: 2
                    }, this.closeAnimDuration),
                    this.tween_opacity.setObject(this.inst.layer),
                    this.tween_opacity.to({
                        opacity: 0
                    }, 300),
                    this.tween_opacity.easing(TWEEN.Easing.Quartic.Out)),
                    1 == this.closeAnimation ? (this.tween.reverse(),
                    5 != this.openAnimation && 6 != this.openAnimation || this.tween_opacity.reverse()) : 0 == this.closeAnimation ? this.postClose() : (this.tween_close.start(),
                    6 != this.closeAnimation && 7 != this.closeAnimation || this.tween_opacity.start()),
                    this.closeSound && this.proui.playAudio(this.closeSound))
                }
                ,
                e.postClose = function() {
                    cr.system_object.prototype.acts.SetLayerVisible.call(this.runtime.system, this.inst.layer, !1);
                    var s, n = this;
                    Object.keys(this.outLayerChildren).forEach(function(t) {
                        for (var e = 0, i = (s = n.outLayerChildren[t]).length; e < i; e++)
                            cr.system_object.prototype.acts.SetLayerVisible.call(n.runtime.system, s[e].layer, !1)
                    }),
                    this.inst.layer.scale = 1,
                    this.inst.layer.opacity = 1,
                    this.runtime.redraw = !0;
                    var t = (this.inst.layer.viewLeft + this.inst.layer.viewRight) / 2
                      , e = this.inst.layer.viewTop - this.inst.height / 2 - 100;
                    this.inst.x = t,
                    this.inst.y = e,
                    this.inst.set_bbox_changed(),
                    this.updateChildren(),
                    this.pauseOnOpen && cr.system_object.prototype.acts.SetTimescale.call(this.runtime.system, this.prevTimescale),
                    0 != this.runtime.timescale && this.setDialogTimeScale(-1)
                }
                ,
                e.onDestroy = function() {
                    this.proui.removeDialog(this)
                }
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                i.prototype.onDialogOpened = function() {
                    return !0
                }
                ,
                i.prototype.onDialogClosed = function() {
                    return !0
                }
                ,
                i.prototype.isOpened = function() {
                    return this.isOpen
                }
                ,
                t.cnds = new i,
                s.prototype.Open = function(t, e, i) {
                    this.open(t, e, i)
                }
                ,
                s.prototype.Close = function() {
                    this.close()
                }
                ,
                t.acts = new s,
                t.exps = new function() {}
            }(),
            cr.behaviors.aekiro_gameobject2 = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_gameobject2.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    var n;
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    cr.goManager || (n = this.runtime,
                    cr.goManager = {
                        gos: {},
                        toBeDestroyed: [],
                        addGO: function(t) {
                            var e;
                            t && (t.aekiro_gameobject2.name || (t.aekiro_gameobject2.name = "o" + t.uid),
                            e = t.aekiro_gameobject2.name,
                            this.gos.hasOwnProperty(e) ? console.error("Aekiro Hierarchy: GameObject already exist with name: %s !", e) : this.gos[e] = t)
                        },
                        removeGO: function(t) {
                            delete this.gos[t]
                        },
                        clearDestroyList: function() {
                            for (var t = this.toBeDestroyed, e = 0, i = t.length; e < i; e++)
                                n.DestroyInstance(t[e]);
                            t.length = 0
                        },
                        createInst: function(t, e, i, s) {
                            e = "number" == typeof e ? this.runtime.getLayerByNumber(e) : "string" == typeof e ? this.runtime.getLayerByName(e) : e;
                            return n.createInstance(t, e)
                        },
                        clone: function(t, e, i, s, n) {
                            cr.haltNext = !0;
                            var r = this.createInst(t.parent.type, i);
                            cr.haltNext = !1,
                            r.type.plugin.acts.LoadFromJsonString.call(r, t.parent.json),
                            r.x = s,
                            r.y = n,
                            r.set_bbox_changed(),
                            r.update_bbox(),
                            r.aekiro_gameobject2.name = "",
                            r.aekiro_gameobject2.onCreateInit(),
                            e && (r.aekiro_gameobject2.parentName = e.aekiro_gameobject2.name);
                            for (var o = 0, a = t.children.length; o < a; o++)
                                this.clone(t.children[o], r, i, r.bbox.left + t.children[o].parent.relX, r.bbox.top + t.children[o].parent.relY);
                            return r.aekiro_gameobject2.init(),
                            r
                        }
                    })
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.goManager = cr.goManager,
                    this.name = this.properties[0],
                    this.parentName = this.properties[1],
                    this.firstFrame = !0,
                    (this.inst.aekiro_gameobject2 = this).isInit = !1,
                    this.areChildrenRegistred = !1,
                    this.children = [],
                    cr.haltNext || this.onCreateInit()
                }
                ,
                e.onCreateInit = function() {
                    this.goManager.addGO(this.inst),
                    this.local = {
                        x: 0,
                        y: 0,
                        angle: 0
                    },
                    this.inst.update_bbox(),
                    this.prev = {
                        x: this.inst.x,
                        y: this.inst.y,
                        angle: this.inst.angle,
                        width: this.inst.width,
                        height: this.inst.height
                    };
                    var t = this.inst.set_bbox_changed;
                    this.inst.set_bbox_changed_old = this.inst.set_bbox_changed,
                    this.inst.set_bbox_changed = function() {
                        this.aekiro_gameobject2.local_update(),
                        this.aekiro_gameobject2.children_update(),
                        t.call(this)
                    }
                }
                ,
                e.local_update = function() {
                    var t;
                    this.parent = this.parent_get(),
                    this.parent && (t = this.globalToLocal(this.inst, this.parent),
                    this.local.x = t.x,
                    this.local.y = t.y,
                    this.local.angle = t.angle)
                }
                ,
                e.local_set = function(t, e, i) {
                    var s;
                    this.parent = this.parent_get(),
                    this.parent && (s = this.inst,
                    null != t && (this.local.x = t),
                    null != e && (this.local.y = e),
                    null != i && (this.local.angle = i),
                    s.x = this.parent.x + this.local.x * Math.cos(this.parent.angle) - this.local.y * Math.sin(this.parent.angle),
                    s.y = this.parent.y + this.local.x * Math.sin(this.parent.angle) + this.local.y * Math.cos(this.parent.angle),
                    s.angle = this.parent.angle + this.local.angle,
                    this.prev.x = s.x,
                    this.prev.y = s.y,
                    this.prev.angle = s.angle,
                    this.children_update(),
                    this.inst.set_bbox_changed_old())
                }
                ,
                e.children_add = function(t) {
                    var e, i, s;
                    if ("string" == typeof t)
                        e = t,
                        t = null;
                    else {
                        if (!(i = t.aekiro_gameobject2))
                            return void console.error("Aekiro GameObject: You're adding a child (uid=%s) without a gameobject behavior on it.", t.uid);
                        e = t.aekiro_gameobject2.name
                    }
                    (t = this.goManager.gos[e]) ? e != this.parentName ? -1 < this.children.indexOf(t) ? console.error("Aekiro GameObject: Object %s already have a child named %s !", this.name, e) : ((i = t.aekiro_gameobject2).removeFromParent(),
                    i.parentName = this.name,
                    s = this.globalToLocal2(t, this.prev.x, this.prev.y, this.prev.angle),
                    i.local.x = s.x,
                    i.local.y = s.y,
                    i.local.angle = s.angle,
                    this.children.push(t)) : console.error("Aekiro GameObject: Cannot add %s as a child of %s, because %s is its parent !", e, this.name, e) : console.error("Aekiro GameObject: Object of name : %s not found !", e)
                }
                ,
                e.children_remove = function(t) {
                    var e = -1;
                    if ("string" == typeof t) {
                        for (var i = 0, s = this.children.length; i < s; i++)
                            if (this.children[i].aekiro_gameobject2.name == t) {
                                e = i;
                                break
                            }
                    } else
                        e = this.children.indexOf(t);
                    -1 != e && (this.children[e].aekiro_gameobject2.parentName = "",
                    this.children[e].aekiro_gameobject2.parent = null,
                    this.children.splice(e, 1))
                }
                ,
                e.children_update = function() {
                    if (this.areChildrenRegistred || this.registerChildren(),
                    this.prev.x = this.inst.x,
                    this.prev.y = this.inst.y,
                    this.prev.angle = this.inst.angle,
                    this.children.length) {
                        var t = this.inst;
                        t.width = 0 == t.width ? .1 : t.width,
                        t.height = 0 == t.height ? .1 : t.height;
                        var e = t.width / this.prev.width
                          , i = t.height / this.prev.height;
                        this.prev.width = t.width,
                        this.prev.height = t.height;
                        this.goManager;
                        for (var s, n = 0, r = this.children.length; n < r; n++)
                            s = this.children[n],
                            1 != e && (s.width *= e,
                            s.aekiro_gameobject2.local.x *= e),
                            1 != i && (s.height *= i,
                            s.aekiro_gameobject2.local.y *= i),
                            s.x = t.x + s.aekiro_gameobject2.local.x * Math.cos(t.angle) - s.aekiro_gameobject2.local.y * Math.sin(t.angle),
                            s.y = t.y + s.aekiro_gameobject2.local.x * Math.sin(t.angle) + s.aekiro_gameobject2.local.y * Math.cos(t.angle),
                            s.angle = t.angle + s.aekiro_gameobject2.local.angle,
                            s.aekiro_gameobject2.prev.x = s.x,
                            s.aekiro_gameobject2.prev.y = s.y,
                            s.aekiro_gameobject2.prev.angle = s.angle,
                            s.set_bbox_changed_old(),
                            s.aekiro_gameobject2.children_update()
                    }
                }
                ,
                e.scopeToParent = function(t, e) {
                    var i = {};
                    return i.x = e.x + t.x * Math.cos(e.angle) - t.y * Math.sin(e.angle),
                    i.y = e.y + t.x * Math.sin(e.angle) + t.y * Math.cos(e.angle),
                    i.angle = e.angle + t.angle,
                    i
                }
                ,
                e.localToGlobal = function() {
                    let t = this.parent_get();
                    var e = this.local
                      , i = {};
                    if (!t)
                        return {
                            x: this.inst.x,
                            y: this.inst.y,
                            angle: this.inst.angle
                        };
                    for (; t; )
                        i.x = t.x + e.x * Math.cos(t.angle) - e.y * Math.sin(t.angle),
                        i.y = t.y + e.x * Math.sin(t.angle) + e.y * Math.cos(t.angle),
                        i.angle = t.angle + e.angle,
                        e = {
                            x: i.x,
                            y: i.y,
                            angle: i.angle
                        },
                        t = t.aekiro_gameobject2.parent_get();
                    return i
                }
                ,
                e.globalToLocal = function(t, e) {
                    var i = {};
                    return i.x = (t.x - e.x) * Math.cos(e.angle) + (t.y - e.y) * Math.sin(e.angle),
                    i.y = -(t.x - e.x) * Math.sin(e.angle) + (t.y - e.y) * Math.cos(e.angle),
                    i.angle = t.angle - e.angle,
                    i
                }
                ,
                e.globalToLocal2 = function(t, e, i, s) {
                    var n = {};
                    return n.x = (t.x - e) * Math.cos(s) + (t.y - i) * Math.sin(s),
                    n.y = -(t.x - e) * Math.sin(s) + (t.y - i) * Math.cos(s),
                    n.angle = t.angle - s,
                    n
                }
                ,
                e.registerChildren = function() {
                    var e, i, s;
                    this.areChildrenRegistred || (e = this.goManager.gos,
                    (s = this).name && Object.keys(e).forEach(function(t) {
                        (i = e[t]).aekiro_gameobject2.parentName == s.name && (s.children_add(i),
                        i.aekiro_gameobject2.registerChildren())
                    }),
                    this.areChildrenRegistred = !0,
                    console.log("registerChildren"))
                }
                ,
                e.init = function() {
                    this.isInit || (this.registerChildren(),
                    this.children_update(),
                    this.isInit = !0,
                    this.setVisible(this.inst.visible))
                }
                ,
                e.tick = function() {
                    this.firstFrame && (this.firstFrame = !1,
                    this.init())
                }
                ,
                e.tick2 = function() {}
                ,
                e.setVisible = function(t) {
                    this.init(),
                    this.inst.type.plugin.acts.SetVisible.call(this.inst, t);
                    for (var e = this.children, i = 0, s = e.length; i < s; i++)
                        e[i].aekiro_gameobject2.setVisible(t)
                }
                ,
                e.setOpacity = function(t) {
                    this.init(),
                    this.inst.type.plugin.acts.SetOpacity.call(this.inst, t);
                    for (var e = this.children, i = 0, s = e.length; i < s; i++)
                        e[i].aekiro_gameobject2.setOpacity(t)
                }
                ,
                e.getTemplate = function(t, e, i) {
                    this.init(),
                    t = t || this.inst,
                    i = i || [],
                    e && e.update_bbox(),
                    i.push({
                        parent: {
                            type: t.type,
                            relX: e ? t.x - e.bbox.left : null,
                            relY: e ? t.y - e.bbox.top : null,
                            json: JSON.stringify(this.runtime.saveInstanceToJSON(t, !0))
                        },
                        children: []
                    });
                    for (var s = t.aekiro_gameobject2.children, n = 0, r = s.length; n < r; n++)
                        this.getTemplate(s[n], t, i[i.length - 1].children);
                    return i[0]
                }
                ,
                e.parent_get = function() {
                    return !this.parent && this.parentName && this.name && (this.parent = this.goManager.gos[this.parentName]),
                    this.parent
                }
                ,
                e.removeFromParent = function() {
                    this.parent = this.parent_get(),
                    this.parent && this.parent.aekiro_gameobject2.children_remove(this.inst)
                }
                ,
                e.onDestroy = function() {
                    var t = this.goManager;
                    if (!this.runtime.changelayout) {
                        for (var e = 0, i = this.children.length; e < i; e++)
                            t.toBeDestroyed.push(this.children[e]);
                        setTimeout(function() {
                            t.clearDestroyList()
                        }, 0)
                    }
                    this.children.length = 0,
                    t.removeGO(this.name),
                    this.inst.set_bbox_changed = this.inst.set_bbox_changed_old,
                    this.removeFromParent()
                }
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                i.prototype.IsName = function(t) {
                    return t == this.name
                }
                ,
                i.prototype.IsParent = function(t) {
                    return t == this.parentName
                }
                ,
                i.prototype.OnCloned = function() {
                    return !0
                }
                ,
                t.cnds = new i,
                s.prototype.Clone = function(t, e, i) {
                    var s = this.getTemplate(this.inst)
                      , i = this.goManager.clone(s, null, t, e, i);
                    this.runtime.trigger(cr.behaviors.aekiro_gameobject2.prototype.cnds.OnCloned, i)
                }
                ,
                s.prototype.SetVisible = function(t) {
                    this.setVisible(t)
                }
                ,
                s.prototype.SetOpacity = function(t) {
                    this.setOpacity(t)
                }
                ,
                s.prototype.AddChildrenFromLayer = function(t) {
                    this.init();
                    for (var e = "number" == typeof t ? this.runtime.getLayerByNumber(t) : "string" == typeof t ? this.runtime.getLayerByName(t) : t, i = 0, s = e.instances.length; i < s; i++)
                        this.children_add(e.instances[i])
                }
                ,
                s.prototype.AddChildrenFromType = function(t) {
                    if (t)
                        for (var e = t.getCurrentSol().getObjects(), i = 0, s = e.length; i < s; i++)
                            this.children_add(e[i])
                }
                ,
                s.prototype.AddChildByName = function(t) {
                    this.children_add(t)
                }
                ,
                s.prototype.SetLocalPosition = function(t, e) {
                    this.local_set(t, e)
                }
                ,
                s.prototype.SetLocal = function(t, e) {
                    0 == t ? this.local_set(e) : 1 == t ? this.local_set(null, e) : 2 == t && this.local_set(null, null, e)
                }
                ,
                s.prototype.RemoveChildByName = function(t) {
                    this.children_remove(t)
                }
                ,
                s.prototype.RemoveChildByType = function(t) {
                    if (t)
                        for (var e = t.getCurrentSol().getObjects(), i = 0, s = e.length; i < s; i++)
                            this.children_remove(e[i])
                }
                ,
                s.prototype.RemoveFromParent = function() {
                    this.removeFromParent()
                }
                ,
                t.acts = new s,
                n.prototype.name = function(t) {
                    t.set_string(this.name)
                }
                ,
                n.prototype.parent = function(t) {
                    t.set_string(this.parentName)
                }
                ,
                n.prototype.local = function(t, e) {
                    this.parent_get() ? "x" == e ? t.set_float(this.local.x) : "y" == e ? t.set_float(this.local.y) : "angle" == e ? t.set_float(this.local.angle) : t.set_float(0) : t.set_float(0)
                }
                ,
                n.prototype.global = function(t, e) {
                    var i;
                    this.parent_get() ? (i = this.localToGlobal(),
                    "x" === e ? t.set_float(i.x) : "y" === e ? t.set_float(i.y) : "angle" === e ? t.set_float(i.angle) : t.set_float(0)) : "x" === e ? t.set_float(this.inst.x) : "y" === e ? t.set_float(this.inst.y) : "angle" === e ? t.set_float(this.inst.angle) : t.set_float(0)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.aekiro_gridView = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_gridView.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.")
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.proui.isTypeValid(this.inst, [cr.plugins_.Sprite, cr.plugins_.NinePatch, cr.plugins_.TiledBg], "ProUI-GRIDVIEW: GridView behavior is only applicable to Sprite Or 9-patch objects."),
                    this.itemUID = this.properties[0],
                    this.columns = this.properties[1],
                    this.rows = this.properties[2],
                    this.vspace = this.properties[3],
                    this.hspace = this.properties[4],
                    this.VPadding = this.properties[5],
                    this.HPadding = this.properties[6],
                    this.dialogUID = this.properties[7],
                    this.firstFrame = !0,
                    this.inst.uiType = "gridView",
                    this.uiType = "gridView",
                    (this.inst._proui = this).dpos = {},
                    this.template = {},
                    this.isTemplateSet = !1,
                    this.value = [],
                    this.items = [],
                    this.isViewBuilt = !1,
                    this.it_column = 0,
                    this.it_row = 0,
                    this.firstUpdateView = !1,
                    this.scrollView = null,
                    this.isScrollViewInit = !1,
                    this.triggerRenderTickCt = 0,
                    this.triggerRenderTickMax = 4
                }
                ,
                e.updateFromModel = function() {
                    var t, e = this.inst.proui_model;
                    !e || null != (t = e.getFromModel()) && (i(t) ? this.value = t : console.error("ProUI-GRIDVIEW: The value at the key %s of the model of uid= %s, is not an array !", e.modelKey, e.modelUID))
                }
                ,
                e._setValue = function(t, e) {
                    null == t && (t = []),
                    i(t) ? (this.value = t,
                    this.updateView(e)) : (e = this.inst.proui_model,
                    console.error("ProUI-GRIDVIEW: The value at the key %s of the model of uid= %s, is not an array !", e.modelKey, e.modelUID))
                }
                ,
                e.setItemTemplate = function() {
                    if (!this.isTemplateSet) {
                        this.setTemplateVisible(!0);
                        var t, e, i = this.proui.tags[this.itemUID];
                        if (!i)
                            throw new Error("ProUI-GRIDVIEW: Grid item not found, please check gridItem uid");
                        this.proui.isTypeValid(i, [cr.plugins_.Sprite, cr.plugins_.NinePatch, cr.plugins_.TiledBg], "ProUI-GRIDVIEW: Grid item can only be a Sprite Or 9-patch object."),
                        i.uiType = "gridItem",
                        i.update_bbox(),
                        this.template.item = {},
                        this.template.item.type = i.type,
                        this.template.item.width = i.width,
                        this.template.item.height = i.height,
                        this.template.item.uiType = "gridItem",
                        this.template.item.offsetX = i.x - i.bbox.left,
                        this.template.item.offsetY = i.y - i.bbox.top,
                        this.template.item.json = JSON.stringify(this.runtime.saveInstanceToJSON(i, !0)),
                        this.template.subs = [];
                        for (var s = 0, n = this.inst.layer.instances.length; s < n; s++)
                            "discreteProgress" != (t = this.inst.layer.instances[s]).uiType && "sliderbar" != t.uiType && "progress" != t.uiType && "scrollView" != t.uiType || t._proui.init();
                        for (s = 0,
                        n = this.inst.layer.instances.length; s < n; s++)
                            "gridView" != (t = this.inst.layer.instances[s]).uiType && "gridItem" != t.uiType && "dialog" != t.uiType && "scrollView" != t.uiType && "radiobutton" != t.uiType && "scrollBar" != t.uiType && "slider" != t.uiType && !0 !== t.isSubComp && (e = null,
                            "radiogroup" != t.uiType && "discreteProgress" != t.uiType && "sliderbar" != t.uiType || (e = t._proui.getTemplate()),
                            this.template.subs.push({
                                type: t.type,
                                relX: t.x - i.bbox.left,
                                relY: t.y - i.bbox.top,
                                json: JSON.stringify(this.runtime.saveInstanceToJSON(t, !0)),
                                bindkey: t.proui_bind ? t.proui_bind.bind_key : "",
                                template: e
                            }));
                        this.isTemplateSet = !0;
                        for (s = 0,
                        n = this.inst.layer.instances.length; s < n; s++)
                            "gridView" != (t = this.inst.layer.instances[s]).uiType && "dialog" != t.uiType && "scrollView" != t.uiType && "radiobutton" != t.uiType && "scrollBar" != t.uiType && "slider" != t.uiType && !0 !== t.isSubComp && this.runtime.DestroyInstance(t)
                    }
                }
                ,
                e.initScrollView = function() {
                    if (!this.isScrollViewInit)
                        for (var t, e = 0, i = this.inst.layer.instances.length; e < i; e++)
                            if ("scrollView" == (t = this.inst.layer.instances[e]).uiType)
                                return t._proui.init(),
                                void (this.isScrollViewInit = !0)
                }
                ,
                e.updateView = function(t) {
                    if (this.rows <= 0 && this.columns <= 0)
                        console.error("ProUI-GRIDVIEW: max rows and max columns can't be both -1 or 0");
                    else {
                        if (this.initScrollView(),
                        this.setItemTemplate(),
                        this.inst.update_bbox(),
                        this.initBboxTop = this.inst.bbox.top,
                        this.initBboxLeft = this.inst.bbox.left,
                        0 == this.value.length)
                            this.clear();
                        else if (2 == t.op)
                            this.build();
                        else if (1 == t.op) {
                            if (0 < this.rows && 0 < this.columns && this.it_row == this.rows)
                                return;
                            this.add(this.value.length - 1),
                            this.nextRowColumn(),
                            this.resize()
                        } else
                            -1 == t.op ? this.remove(t.idx) : 3 == t.op ? this.build() : 4 == t.op && this.edit(t.key, t.value);
                        this.dpos.prev_x = this.inst.x,
                        this.dpos.prev_y = this.inst.y,
                        this.dpos.dx = 0,
                        this.dpos.dy = 0,
                        this.scrollView && this.scrollView.postGridviewUpdate(),
                        this.firstUpdateView && this.runtime.trigger(cr.behaviors.aekiro_gridView.prototype.cnds.OnRender, this.inst),
                        this.firstUpdateView = !0
                    }
                }
                ,
                e.edit = function(t, e) {
                    var i, s, n = this.inst.proui_model.modelKey;
                    if (t.slice(0, n.length + 1) == n + ".") {
                        t = t.slice(n.length + 1),
                        n = t.split(".");
                        if (1 < n.length) {
                            i = n[0],
                            s = t.slice(i.length + 1);
                            var r = this.items[i];
                            if (r)
                                for (var o = 0, a = r.subs.length; o < a; o++) {
                                    var h = r.subs[o];
                                    h.proui_bind && h.proui_bind.bind_key == s && h.proui_bind.setValue(e)
                                }
                        }
                    }
                }
                ,
                e.clear = function() {
                    for (var t = 0, e = this.items.length; t < e; t++) {
                        this.runtime.DestroyInstance(this.items[t].parent);
                        for (var i = 0, s = this.items[t].subs.length; i < s; i++)
                            this.runtime.DestroyInstance(this.items[t].subs[i])
                    }
                    this.items.length = 0,
                    this.it_column = 0,
                    this.it_row = 0,
                    this.inst.width = 5,
                    this.inst.height = 5,
                    this.inst.set_bbox_changed(),
                    this.inst.update_bbox(),
                    this.inst.x = this.initBboxLeft + (this.inst.x - this.inst.bbox.left),
                    this.inst.y = this.initBboxTop + (this.inst.y - this.inst.bbox.top),
                    this.inst.set_bbox_changed()
                }
                ,
                e.resize = function() {
                    var t = Math.ceil(this.value.length / this.columns)
                      , e = Math.ceil(this.value.length / this.rows);
                    this.rows < 0 ? (e = this.columns,
                    this.value.length < this.columns && (e = this.value.length)) : this.columns < 0 ? (t = this.rows,
                    this.value.length < this.rows && (t = this.value.length)) : (e = this.columns,
                    t = this.rows),
                    this.inst.update_bbox();
                    var i = this.inst.bbox.top
                      , s = this.inst.bbox.left;
                    this.inst.width = this.template.item.width * e + this.vspace * (e - 1) + 2 * this.HPadding,
                    this.inst.height = this.template.item.height * t + this.hspace * (t - 1) + 2 * this.VPadding,
                    this.inst.set_bbox_changed(),
                    this.inst.update_bbox(),
                    this.inst.x = s + (this.inst.x - this.inst.bbox.left),
                    this.inst.y = i + (this.inst.y - this.inst.bbox.top),
                    this.inst.set_bbox_changed(),
                    this.scrollView && (this.scrollView.contentDpos.prev_x = this.inst.x,
                    this.scrollView.contentDpos.prev_y = this.inst.y)
                }
                ,
                e.build = function() {
                    if (0 != this.items.length && this.value.length == this.items.length)
                        for (var t = 0; t < this.value.length; t++)
                            this.mapData(t);
                    else {
                        this.clear();
                        for (t = 0; t < this.value.length && (this.add(t),
                        this.nextRowColumn()); t++)
                            ;
                        this.resize()
                    }
                }
                ,
                e.mapData = function(t) {
                    for (var e = this.items[t], i = 0, s = e.subs.length; i < s; i++) {
                        var n, r = this.template.subs[i];
                        (n = e.subs[i]).proui_bind && g(this.value[t]) && (!(r = r.bindkey) || null != (r = a(this.value[t], r)) && n.proui_bind.setValue(r))
                    }
                }
                ,
                e.add = function(t) {
                    var e, i = this.inst.proui_model;
                    this.inst.update_bbox(),
                    this.runtime.extra.notRegister = !0,
                    e = this.runtime.createInstance(this.template.item.type, this.inst.layer),
                    this.template.item.type.plugin.acts.LoadFromJsonString.call(e, this.template.item.json),
                    e.x = this.inst.bbox.left + this.template.item.offsetX + (this.vspace + e.width) * this.it_column + this.HPadding,
                    e.y = this.inst.bbox.top + this.template.item.offsetY + (this.hspace + e.height) * this.it_row + this.VPadding,
                    e.set_bbox_changed(),
                    e.update_bbox(),
                    this.items.push({
                        parent: e,
                        subs: []
                    }),
                    e.proui_bind && (e.proui_bind.index = t);
                    for (var s = 0, n = this.template.subs.length; s < n; s++) {
                        var r = this.template.subs[s]
                          , o = this.runtime.createInstance(r.type, this.inst.layer);
                        r.type.plugin.acts.LoadFromJsonString.call(o, r.json),
                        o.x = e.bbox.left + r.relX,
                        o.y = e.bbox.top + r.relY,
                        o.set_bbox_changed(),
                        o.type.plugin.acts.SetEffect && o.type.plugin.acts.SetEffect.call(o, 9),
                        o.proui_model && (o.proui_model.modelUID = null,
                        o.proui_model.modelKey = null),
                        o._proui && (o._proui.isValidModel = !1,
                        null != o._proui.compParent && (o._proui.compParent = this)),
                        this.items[t].subs.push(o),
                        "radiogroup" != o.uiType && "discreteProgress" != o.uiType && "sliderbar" != o.uiType || o._proui.clone(r.template),
                        o.proui_bind && g(this.value[t]) && ((r = r.bindkey) && ("checkbox" != o.uiType && "radiogroup" != o.uiType && "sliderbar" != o.uiType || (o.proui_bind.deepKey = i.modelKey + "." + t + "." + r,
                        o.proui_bind.model = i.model),
                        null != (r = a(this.value[t], r)) && o.proui_bind.setValue(r)),
                        o.proui_bind.index = t)
                    }
                    this.runtime.extra.notRegister = !1
                }
                ,
                e.nextRowColumn = function() {
                    if (this.rows < 0)
                        this.it_column++,
                        this.it_column == this.columns && (this.it_column = 0,
                        this.it_row++);
                    else if (this.columns < 0)
                        this.it_row++,
                        this.it_row == this.rows && (this.it_row = 0,
                        this.it_column++);
                    else if (this.it_column++,
                    this.it_column == this.columns && (this.it_column = 0,
                    this.it_row++),
                    this.it_row == this.rows)
                        return !1;
                    return !0
                }
                ,
                e.previousRowColumn = function() {
                    if (this.rows < 0)
                        this.it_column--,
                        this.it_column < 0 && (this.it_column = this.columns - 1,
                        this.it_row--);
                    else if (this.columns < 0)
                        this.it_row--,
                        this.it_row < 0 && (this.it_row = this.rows - 1,
                        this.it_column--);
                    else if (this.it_column--,
                    this.it_column < 0 && (this.it_column = this.columns - 1,
                    this.it_row--),
                    0 == this.it_row)
                        return !1;
                    return !0
                }
                ,
                e.remove = function(t) {
                    for (var e, i, s, n, r, o, a, h, c = this.inst.proui_model, l = t, u = this.items.length; l < u; l++)
                        if (a = this.items[l].parent,
                        l == t) {
                            e = a.x,
                            i = a.y,
                            this.runtime.DestroyInstance(a);
                            for (var p = 0, d = this.items[l].subs.length; p < d; p++)
                                this.runtime.DestroyInstance(this.items[l].subs[p])
                        } else {
                            s = a.x,
                            n = a.y,
                            a.x = e,
                            a.y = i,
                            e = s,
                            i = n,
                            a.set_bbox_changed(),
                            a.update_bbox();
                            for (p = 0,
                            d = this.items[l].subs.length; p < d; p++)
                                o = this.template.subs[p],
                                (r = this.items[l].subs[p]).x = a.bbox.left + o.relX,
                                r.y = a.bbox.top + o.relY,
                                r.set_bbox_changed(),
                                r.proui_bind && g(this.value[t]) && (r.proui_bind.index--,
                                (o = o.bindkey) && ("checkbox" != r.uiType && "radiogroup" != r.uiType && "sliderbar" != r.uiType || (r.proui_bind.deepKey = c.modelKey + "." + r.proui_bind.index + "." + o)))
                        }
                    this.items.splice(t, 1),
                    this.previousRowColumn(),
                    this.resize(),
                    0 < this.rows && 0 < this.columns && (h = this.rows * this.columns,
                    this.value.length >= h && (this.add(h - 1),
                    this.nextRowColumn(),
                    this.resize()))
                }
                ,
                e.setTemplateVisible = function(t) {
                    if (!this.isTemplateSet)
                        for (var e, i = 0, s = this.inst.layer.instances.length; i < s; i++)
                            "discreteProgress" != (e = this.inst.layer.instances[i]).uiType && "sliderbar" != e.uiType && "progress" != e.uiType && "scrollView" != e.uiType || e._proui.init()
                }
                ,
                e.tick = function() {
                    var t;
                    this.firstFrame && (this.firstFrame = !1,
                    this.setTemplateVisible(!1),
                    (t = this.proui.tags[this.dialogUID]) && "dialog" == t.uiType && t._proui && (t._proui.outLayerChildren[this.inst.layer.name] || (t._proui.outLayerChildren[this.inst.layer.name] = []),
                    t._proui.outLayerChildren[this.inst.layer.name].push(this.inst)),
                    this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y,
                    this.dpos.dx = 0,
                    this.dpos.dy = 0,
                    this.updateFromModel(),
                    this.firstUpdateView || this.updateView({
                        op: 2
                    }))
                }
                ,
                e.updateChildren = function() {
                    var t;
                    if (isNaN(this.dpos.prev_x) && (this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y),
                    this.dpos.dx = this.inst.x - this.dpos.prev_x,
                    this.dpos.dy = this.inst.y - this.dpos.prev_y,
                    this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y,
                    0 != this.dpos.dx || 0 != this.dpos.dy)
                        for (var e = 0, i = this.inst.layer.instances.length; e < i; e++)
                            !0 !== (t = this.inst.layer.instances[e]).isSubComp && "gridView" != t.uiType && "dialog" != t.uiType && "scrollView" != t.uiType && "scrollBar" != t.uiType && "slider" != t.uiType && (t.x += this.dpos.dx,
                            t.y += this.dpos.dy,
                            t.set_bbox_changed())
                }
                ,
                e.tick2 = function() {
                    this.updateChildren()
                }
                ,
                e.onDestroy = function() {}
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ;
                var g = function(t) {
                    return !!t && t.constructor === Object
                }
                  , i = function(t) {
                    return !!t && t.constructor === Array
                }
                  , a = function(t, e) {
                    for (var i = (e = (e = e.replace(/\[(\w+)\]/g, ".$1")).replace(/^\./, "")).split("."), s = 0, n = i.length; s < n; ++s) {
                        var r = i[s];
                        if (!(r in t))
                            return;
                        t = t[r]
                    }
                    return t
                };
                function s() {}
                s.prototype.OnRender = function() {
                    return !0
                }
                ,
                t.cnds = new s,
                t.acts = new function() {}
                ,
                t.exps = new function() {}
            }(),
            cr.behaviors.aekiro_modelB = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_modelB.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.")
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.modelUID = this.properties[0],
                    this.modelKey = this.properties[1],
                    this.model = this.proui.tags[this.modelUID],
                    this.model = this.model && "model" == this.model.uiType ? this.model : null,
                    this.firstFrame = !0,
                    (this.inst.proui_model = this).model && this.modelKey && this.model.registerBehavior(this)
                }
                ,
                e.setModelValue = function(t, e) {
                    this.model && this.modelKey && cr.plugins_.aekiro_model.prototype.acts.SetValueByKeyString.call(this.model, this.modelKey, t, e)
                }
                ,
                e.setElementValue = function(t, e) {
                    var i = this.inst;
                    i._proui && i._proui._setValue && i._proui._setValue(t, e)
                }
                ,
                e.getFromModel = function() {
                    var t = null;
                    return this.model && this.modelKey && (t = this.model.getValue(this.modelKey)),
                    t
                }
                ,
                e.tick = function() {}
                ,
                e.onDestroy = function() {
                    this.model && this.model.unregisterBehavior(this),
                    this.modelUID = 0,
                    this.modelKey = "",
                    this.model = null
                }
                ,
                e.saveToJSON = function() {}
                ,
                e.loadFromJSON = function(t) {}
                ,
                t.cnds = new function() {}
                ,
                i.prototype.Reset = function() {
                    this.model && this.model.unregisterBehavior(this),
                    this.modelUID = "",
                    this.modelKey = "",
                    this.model = null
                }
                ,
                t.acts = new i,
                t.exps = new function() {}
            }(),
            cr.behaviors.aekiro_scrollView = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_scrollView.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.");
                    this.behavior.isHooked || (cr.proui.HookMe(this.behavior, ["touch", "wheel"]),
                    this.behavior.isHooked = !0)
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.proui.isTypeValid(this.inst, [cr.plugins_.Sprite, cr.plugins_.NinePatch, cr.plugins_.TiledBg], "Pro UI: ScrollView behavior is only applicable to Sprite Or 9-patch objects."),
                    this.scrolling = this.properties[0],
                    this.isSwipeScroll = this.properties[1],
                    this.isMouseScroll = this.properties[2],
                    this.contentUID = this.properties[3],
                    this.vSliderUID = this.properties[4],
                    this.vScrollBarUID = this.properties[5],
                    this.hSliderUID = this.properties[6],
                    this.hScrollBarUID = this.properties[7],
                    this.inertia = this.properties[8],
                    this.movement = this.properties[9],
                    this.dialogUID = this.properties[10],
                    this.inertia || (this.movement = 0),
                    this.elasticF = 1,
                    this.movement && (this.elasticF = .4),
                    this.firstFrame = !0,
                    this.uiType = "scrollView",
                    this.inst.uiType = "scrollView",
                    (this.inst._proui = this).dpos = {},
                    (this.proui.scrollViews["l" + this.inst.layer.index] = this).onTouchStarted = !1,
                    this.isTouchMoving = !1,
                    this.onSliderTouchStarted = !1,
                    this.onvSliderTouchStarted = !1,
                    this.onhSliderTouchStarted = !1,
                    this.content = null,
                    this.vSlider = null,
                    this.vScrollBar = null,
                    this.hSlider = null,
                    this.hScrollBar = null,
                    this.contentPrevWidth = 0,
                    this.contentPrevHeight = 0,
                    this.contentDpos = {},
                    this.isInit = !1,
                    this.isContentGridView = !1,
                    this.scroll = {
                        isEnabled: !1,
                        prevTouchX: 0,
                        dx: 0,
                        prevTouchY: 0,
                        dy: 0,
                        scrollRatio: 0,
                        vScrolling: 0 == this.scrolling || 2 == this.scrolling,
                        hScrolling: 1 == this.scrolling || 2 == this.scrolling,
                        isSwipeScroll: this.isSwipeScroll,
                        isMouseScroll: this.isMouseScroll,
                        vSliderDy: 0,
                        hSliderDx: 0,
                        scrollToTargetY: null,
                        scrollToTargetX: null,
                        scrollToX: !1,
                        scrollToY: !1,
                        scrollToSmooth: .3
                    }
                }
                ,
                e.scrollTo = function(t, e, i, s) {
                    this.inst.update_bbox(),
                    this.content.update_bbox(),
                    this.scroll.scrollToSmooth = s,
                    this.scroll.scrollToTargetY = null,
                    this.scroll.scrollToTargetX = null,
                    this.scroll.scrollToX = !1,
                    this.scroll.scrollToY = !1,
                    this.onScrollToStarted = !1,
                    0 <= e && this.scroll.vScrolling && (s = (this.inst.bbox.top + this.inst.bbox.bottom) / 2,
                    e = i ? (e = cr.clamp(e, 0, 1),
                    this.content.bbox.top + e * this.content.height) : this.content.bbox.top + e,
                    this.scroll.scrollToTargetY = this.content.y + (s - e),
                    this.scroll.scrollToY = !0,
                    this.scroll.isEnabled = !0,
                    this.onScrollToStarted = !0),
                    0 <= t && this.scroll.hScrolling && (e = (this.inst.bbox.left + this.inst.bbox.right) / 2,
                    t = i ? (t = cr.clamp(t, 0, 1),
                    this.content.bbox.left + t * this.content.width) : this.content.bbox.left + t,
                    this.scroll.scrollToTargetX = this.content.x + (e - t),
                    this.scroll.scrollToX = !0,
                    this.scroll.isEnabled = !0,
                    this.onScrollToStarted = !0),
                    this.content.set_bbox_changed()
                }
                ,
                e.OnWheel = function(t) {
                    this.isInteractible() && this.scroll.isMouseScroll && this.scroll.vScrolling && this.isMouseOver() && (this.scroll.scrollToX = !1,
                    this.scroll.scrollToY = !1,
                    this.scroll.isEnabled = !0,
                    this.onWheelStarted = !0,
                    t = 0 == t ? -1 : 1,
                    this.scroll.dy = .026 * t * this.content.height)
                }
                ,
                e.OnAnyTouchStart = function() {
                    this.vSlider && this.isInTouch(this.vSlider) && this.scroll.vScrolling && (this.OnSliderTouchStart(),
                    this.onvSliderTouchStarted = !0),
                    this.hSlider && this.isInTouch(this.hSlider) && this.scroll.hScrolling && (this.OnSliderTouchStart(),
                    this.onhSliderTouchStarted = !0)
                }
                ,
                e.isInteractible = function() {
                    for (var t = !0, e = 0, i = this.proui.currentDialogs.length; e < i; e++)
                        if (this.inst.layer.index < this.proui.currentDialogs[e].inst.layer.index)
                            return t = !1;
                    for (var s, n = this.runtime.running_layout.layers, e = this.inst.layer.index + 1, i = n.length; e < i; e++)
                        if (s = this.proui.scrollViews["l" + e],
                        s && (s.inst.update_bbox(),
                        s.inst.contains_pt(this.proui.X(s.inst.layer.index), this.proui.Y(s.inst.layer.index)) || s.inst.contains_pt(this.proui.CursorX(s.inst.layer.index), this.proui.CursorY(s.inst.layer.index)))) {
                            t = !1;
                            break
                        }
                    return t
                }
                ,
                e.OnTouchStart = function() {
                    this.isInteractible() && (this.onTouchStarted = !0,
                    this.scroll.vScrolling && (this.scroll.prevTouchY = this.proui.Y(this.inst.layer.index),
                    this.scroll.dy = 0,
                    this.scroll.isEnabled = !0,
                    this.scroll.scrollToX = !1,
                    this.scroll.scrollToY = !1),
                    this.scroll.hScrolling && (this.scroll.prevTouchX = this.proui.X(this.inst.layer.index),
                    this.scroll.dx = 0,
                    this.scroll.isEnabled = !0,
                    this.scroll.scrollToX = !1,
                    this.scroll.scrollToY = !1))
                }
                ,
                e.OnTouchMove = function() {
                    this.isTouchMoving = !0
                }
                ,
                e.OnAnyTouchEnd = function(t, e) {
                    this.onTouchStarted && this.OnTouchEnd(t, e),
                    this.onTouchStarted = !1,
                    this.onSliderTouchStarted = !1,
                    this.onvSliderTouchStarted = !1,
                    this.onhSliderTouchStarted = !1
                }
                ,
                e.OnTouchEnd = function(t, e) {
                    this.isTouchMoving = !1
                }
                ,
                e.OnSliderTouchStart = function() {
                    this.scroll.prevTouchY = this.proui.Y(this.inst.layer.index),
                    this.scroll.prevTouchX = this.proui.X(this.inst.layer.index),
                    this.scroll.dy = 0,
                    this.scroll.dx = 0,
                    this.scroll.vSliderDy = 0,
                    this.scroll.hSliderDx = 0,
                    this.onSliderTouchStarted = !0,
                    this.scroll.isEnabled = !0,
                    this.scroll.scrollToX = !1,
                    this.scroll.scrollToY = !1
                }
                ,
                e.isMouseOver = function() {
                    var t = this.proui.CursorX(this.inst.layer.index)
                      , e = this.proui.CursorY(this.inst.layer.index);
                    return this.inst.update_bbox(),
                    this.inst.contains_pt(t, e)
                }
                ,
                e.isInTouch = function(t) {
                    var e = this.proui.X(this.inst.layer.index)
                      , i = this.proui.Y(this.inst.layer.index);
                    return t.update_bbox(),
                    t.contains_pt(e, i)
                }
                ,
                e.boundSlider = function(t) {
                    var e;
                    "v" == t && this.vSlider && this.vScrollBar && (this.inst.update_bbox(),
                    this.content.update_bbox(),
                    this.vScrollBar.update_bbox(),
                    this.vSlider.update_bbox(),
                    e = this.vScrollBar.bbox.top + (this.vSlider.y - this.vSlider.bbox.top) + (this.vScrollBar.height - this.vSlider.height) * ((this.content.bbox.top - this.inst.bbox.top) / (this.inst.height - this.content.height)),
                    this.vSlider.y = cr.clamp(e, this.vScrollBar.bbox.top + (this.vSlider.y - this.vSlider.bbox.top), this.vScrollBar.bbox.bottom - (this.vSlider.bbox.bottom - this.vSlider.y)),
                    this.vSlider.set_bbox_changed()),
                    "h" == t && this.hSlider && this.hScrollBar && (this.inst.update_bbox(),
                    this.content.update_bbox(),
                    this.hScrollBar.update_bbox(),
                    this.hSlider.update_bbox(),
                    t = this.hScrollBar.bbox.left + (this.hSlider.x - this.hSlider.bbox.left) + (this.hScrollBar.width - this.hSlider.width) * ((this.content.bbox.left - this.inst.bbox.left) / (this.inst.width - this.content.width)),
                    this.hSlider.x = cr.clamp(t, this.hScrollBar.bbox.left + (this.hSlider.x - this.hSlider.bbox.left), this.hScrollBar.bbox.right - (this.hSlider.bbox.right - this.hSlider.x)),
                    this.hSlider.set_bbox_changed())
                }
                ,
                e.postGridviewUpdate = function() {
                    for (var t = [this.vScrollBar, this.vSlider, this.hScrollBar, this.hSlider], e = 0, i = t.length; e < i; e++)
                        t[e] && t[e].type.plugin.acts.MoveToTop.call(t[e])
                }
                ,
                e.init = function() {
                    if (!this.isInit) {
                        if (this.vSliderUID && (this.vSlider = this.proui.tags[this.vSliderUID],
                        this.vSlider ? (this.proui.isTypeValid(this.vSlider, [cr.plugins_.Sprite, cr.plugins_.NinePatch], "ProUI-ScrollView: The vertical slider can only be a Sprite Or 9-patch object."),
                        this.vSlider.uiType = "slider") : console.error("ProUI-ScrollView %d : Vertical slider not found", this.inst.uid)),
                        this.vScrollBarUID && (this.vScrollBar = this.proui.tags[this.vScrollBarUID],
                        this.vScrollBar ? (this.proui.isTypeValid(this.vScrollBar, [cr.plugins_.Sprite, cr.plugins_.NinePatch], "ProUI-ScrollView: The vertical scrollbar can only be a Sprite Or 9-patch object."),
                        this.vScrollBar.uiType = "scrollBar") : console.error("ProUI-ScrollView %d : Vertical scrollbar not found", this.inst.uid)),
                        this.hSliderUID && (this.hSlider = this.proui.tags[this.hSliderUID],
                        this.hSlider ? (this.proui.isTypeValid(this.hSlider, [cr.plugins_.Sprite, cr.plugins_.NinePatch], "ProUI-ScrollView: The horizontal slider can only be a Sprite Or 9-patch object."),
                        this.hSlider.uiType = "slider") : console.error("ProUI-ScrollView %d : Horizontal slider not found", this.inst.uid)),
                        this.hScrollBarUID && (this.hScrollBar = this.proui.tags[this.hScrollBarUID],
                        this.hScrollBar ? (this.proui.isTypeValid(this.hScrollBar, [cr.plugins_.Sprite, cr.plugins_.NinePatch], "ProUI-ScrollView: The horizontal scrollbar can only be a Sprite Or 9-patch object."),
                        this.hScrollBar.uiType = "scrollBar") : console.error("ProUI-ScrollView %d : Horizontal scrollbar not found", this.inst.uid)),
                        this.content = this.proui.tags[this.contentUID],
                        !this.content)
                            throw new Error("ProUI-ScrollView: Content not found, please check the content tag");
                        var t;
                        this.proui.isTypeValid(this.content, [cr.plugins_.Sprite, cr.plugins_.NinePatch, cr.plugins_.TiledBg], "ProUI-ScrollView: The content of the scrollView can only be a Sprite Or 9-patch object."),
                        "gridView" == this.content.uiType && (this.isContentGridView = !0,
                        this.content._proui.scrollView = this),
                        this.content.height <= this.inst.height && (this.scroll.vScrolling = !1),
                        this.content.width <= this.inst.width && (this.scroll.hScrolling = !1),
                        this.contentPrevHeight = this.content.height,
                        this.contentPrevWidth = this.content.width,
                        this.contentDpos.prev_x = this.content.x,
                        this.contentDpos.prev_y = this.content.y,
                        this.contentDpos.dx = 0,
                        this.contentDpos.dy = 0,
                        this.inst.update_bbox(),
                        this.content.update_bbox(),
                        this.content.x = this.inst.bbox.left + (this.content.x - this.content.bbox.left),
                        this.content.y = this.inst.bbox.top + (this.content.y - this.content.bbox.top),
                        this.content.set_bbox_changed(),
                        this.hSlider && this.hScrollBar && (this.hSlider.update_bbox(),
                        this.hScrollBar.update_bbox(),
                        this.hSlider.x = this.hScrollBar.bbox.left + (this.hSlider.x - this.hSlider.bbox.left),
                        this.hSlider.set_bbox_changed(),
                        this.hScrollBar.type.plugin.acts.MoveToTop.call(this.hScrollBar),
                        this.hSlider.type.plugin.acts.MoveToTop.call(this.hSlider)),
                        this.vSlider && this.vScrollBar && (this.vSlider.update_bbox(),
                        this.vScrollBar.update_bbox(),
                        this.vSlider.y = this.vScrollBar.bbox.top + (this.vSlider.y - this.vSlider.bbox.top),
                        this.vSlider.set_bbox_changed(),
                        this.vScrollBar.type.plugin.acts.MoveToTop.call(this.vScrollBar),
                        this.vSlider.type.plugin.acts.MoveToTop.call(this.vSlider)),
                        cr.system_object.prototype.acts.SetLayerForceOwnTexture.call(this.runtime.system, this.inst.layer, !0);
                        for (var e = 0, i = this.inst.layer.instances.length; e < i; e++)
                            (t = this.inst.layer.instances[e]) && t != this.inst && "dialog" != t.uiType && "scrollBar" != t.uiType && "slider" != t.uiType && t.type.plugin.acts.SetEffect && t.type.plugin.acts.SetEffect.call(t, 9);
                        this.isInit = !0;
                        var s = this.proui.tags[this.dialogUID];
                        s && "dialog" == s.uiType && s._proui && (s._proui.outLayerChildren[this.inst.layer.name] || (s._proui.outLayerChildren[this.inst.layer.name] = []),
                        s._proui.outLayerChildren[this.inst.layer.name].push(this.inst),
                        s._proui.isOpen || cr.system_object.prototype.acts.SetLayerVisible.call(this.runtime.system, this.inst.layer, !1))
                    }
                }
                ,
                e.tick = function() {
                    var t, e, i, s;
                    this.firstFrame && (this.firstFrame = !1,
                    this.prevSelfLayerVisible = this.inst.layer.visible,
                    this.init(),
                    this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y,
                    this.dpos.dx = 0,
                    this.dpos.dy = 0),
                    this.content && (this.contentDpos.dx = this.content.x - this.contentDpos.prev_x,
                    this.contentDpos.dy = this.content.y - this.contentDpos.prev_y,
                    this.contentDpos.prev_x = this.content.x,
                    this.contentDpos.prev_y = this.content.y,
                    (e = this.inst.layer.visible) != this.prevSelfLayerVisible && (this.prevSelfLayerVisible = this.inst.layer.visible,
                    cr.system_object.prototype.acts.SetLayerForceOwnTexture.call(this.runtime.system, this.inst.layer, e)),
                    this.contentPrevHeight != this.content.height && (this.inst.update_bbox(),
                    this.content.update_bbox(),
                    this.content.height <= this.inst.height ? (this.content.y = this.inst.bbox.top + (this.content.y - this.content.bbox.top),
                    this.scroll.vScrolling = !1) : (this.content.y = cr.clamp(this.content.y, this.inst.bbox.bottom - (this.content.bbox.bottom - this.content.y), this.inst.bbox.top + (this.content.y - this.content.bbox.top)),
                    0 != this.scrolling && 2 != this.scrolling || (this.scroll.vScrolling = !0)),
                    this.content.set_bbox_changed(),
                    this.boundSlider("v"),
                    this.contentPrevHeight = this.content.height),
                    this.contentPrevWidth != this.content.width && (this.inst.update_bbox(),
                    this.content.update_bbox(),
                    this.content.width <= this.inst.width ? (this.content.x = this.inst.bbox.left + (this.content.x - this.content.bbox.left),
                    this.scroll.hScrolling = !1) : (this.content.x = cr.clamp(this.content.x, this.inst.bbox.right - (this.content.bbox.right - this.content.x), this.inst.bbox.left + (this.content.x - this.content.bbox.left)),
                    1 != this.scrolling && 2 != this.scrolling || (this.scroll.hScrolling = !0)),
                    this.content.set_bbox_changed(),
                    this.boundSlider("h"),
                    this.contentPrevWidth = this.content.width),
                    this.scroll.isEnabled && (this.onvSliderTouchStarted && this.scroll.vScrolling && (this.scroll.vSliderDy = this.proui.Y(this.inst.layer.index) - this.scroll.prevTouchY,
                    this.scroll.prevTouchY = this.proui.Y(this.inst.layer.index),
                    i = this.vSlider.y + this.scroll.vSliderDy,
                    this.vSlider.update_bbox(),
                    this.vScrollBar.update_bbox(),
                    this.vSlider.y = cr.clamp(i, this.vScrollBar.bbox.top + (this.vSlider.y - this.vSlider.bbox.top), this.vScrollBar.bbox.bottom - (this.vSlider.bbox.bottom - this.vSlider.y)),
                    this.vSlider.set_bbox_changed(),
                    this.vSlider.update_bbox(),
                    this.inst.update_bbox(),
                    this.content.update_bbox(),
                    this.content.y = this.inst.bbox.top + (this.content.y - this.content.bbox.top) - (this.vSlider.bbox.top - this.vScrollBar.bbox.top) / (this.vScrollBar.height - this.vSlider.height) * (this.content.height - this.inst.height),
                    this.content.set_bbox_changed()),
                    this.onhSliderTouchStarted && this.scroll.hScrolling && (this.scroll.hSliderDx = this.proui.X(this.inst.layer.index) - this.scroll.prevTouchX,
                    this.scroll.prevTouchX = this.proui.X(this.inst.layer.index),
                    s = this.hSlider.x + this.scroll.hSliderDx,
                    this.hSlider.update_bbox(),
                    this.hScrollBar.update_bbox(),
                    this.hSlider.x = cr.clamp(s, this.hScrollBar.bbox.left + (this.hSlider.x - this.hSlider.bbox.left), this.hScrollBar.bbox.right - (this.hSlider.bbox.right - this.hSlider.x)),
                    this.hSlider.set_bbox_changed(),
                    this.hSlider.update_bbox(),
                    this.inst.update_bbox(),
                    this.content.update_bbox(),
                    this.content.x = this.inst.bbox.left + (this.content.x - this.content.bbox.left) - (this.hSlider.bbox.left - this.hScrollBar.bbox.left) / (this.hScrollBar.width - this.hSlider.width) * (this.content.width - this.inst.width),
                    this.content.set_bbox_changed()),
                    this.scroll.isSwipeScroll && this.isInTouch(this.inst) && !this.onSliderTouchStarted && this.onTouchStarted && (this.scroll.vScrolling && (this.scroll.dy = this.proui.Y(this.inst.layer.index) - this.scroll.prevTouchY + (this.runtime.tickcount % 2 == 1 ? .2 : -.2),
                    this.scroll.prevTouchY = this.proui.Y(this.inst.layer.index)),
                    this.scroll.hScrolling && (this.scroll.dx = this.proui.X(this.inst.layer.index) - this.scroll.prevTouchX,
                    this.scroll.prevTouchX = this.proui.X(this.inst.layer.index))),
                    this.scroll.vScrolling && !this.onSliderTouchStarted && (this.scroll.scrollToY ? null != this.scroll.scrollToTargetY && (this.content.y = cr.lerp(this.content.y, this.scroll.scrollToTargetY, this.scroll.scrollToSmooth),
                    Math.abs(this.content.y - this.scroll.scrollToTargetY) < 5 && (this.content.y = this.scroll.scrollToTargetY,
                    this.scroll.scrollToY = !1)) : this.content.y = cr.lerp(this.content.y, this.content.y + this.scroll.dy, .7),
                    this.content.set_bbox_changed(),
                    this.inertia ? this.scroll.dy = 14 / 15 * this.scroll.dy : this.scroll.dy = 0,
                    this.boundSlider("v")),
                    this.scroll.hScrolling && !this.onSliderTouchStarted && (this.scroll.scrollToX ? null != this.scroll.scrollToTargetX && (this.content.x = cr.lerp(this.content.x, this.scroll.scrollToTargetX, this.scroll.scrollToSmooth),
                    Math.abs(this.content.x - this.scroll.scrollToTargetX) < 5 && (this.content.x = this.scroll.scrollToTargetX,
                    this.scroll.scrollToX = !1)) : this.content.x = cr.lerp(this.content.x, this.content.x + this.scroll.dx, .7),
                    this.content.set_bbox_changed(),
                    this.inertia ? this.scroll.dx = 14 / 15 * this.scroll.dx : this.scroll.dx = 0,
                    this.boundSlider("h")),
                    this.onSliderTouchStarted || (this.inst.update_bbox(),
                    this.content.update_bbox(),
                    s = i = e = t = 0,
                    this.scroll.vScrolling && (t = this.content.bbox.top - this.inst.bbox.top,
                    e = this.inst.bbox.bottom - this.content.bbox.bottom,
                    (0 < t || 0 < e) && (this.scroll.scrollToY ? (this.content.y = cr.clamp(this.content.y, this.content.y + e, this.content.y - t),
                    this.scroll.scrollToTargetY = this.content.y,
                    this.scroll.scrollToY = !1) : this.content.y = cr.clamp(this.content.y, cr.lerp(this.content.y, this.content.y + e, this.elasticF), cr.lerp(this.content.y, this.content.y - t, this.elasticF))),
                    this.content.set_bbox_changed()),
                    this.scroll.hScrolling && (i = this.inst.bbox.right - this.content.bbox.right,
                    s = this.content.bbox.left - this.inst.bbox.left,
                    (0 < i || 0 < s) && (this.scroll.scrollToX ? (this.content.x = cr.clamp(this.content.x, this.content.x + i, this.content.x - s),
                    this.scroll.scrollToTargetX = this.content.x,
                    this.scroll.scrollToX = !1) : this.content.x = cr.clamp(this.content.x, cr.lerp(this.content.x, this.content.x + i, this.elasticF), cr.lerp(this.content.x, this.content.x - s, this.elasticF))),
                    this.content.set_bbox_changed()),
                    !this.inertia && this.onWheelStarted && (this.scroll.isEnabled = !1,
                    this.onWheelStarted = !1),
                    !this.onScrollToStarted || this.scroll.scrollToX || this.scroll.scrollToY || (this.scroll.isEnabled = !1,
                    this.onScrollToStarted = !1),
                    this.inertia && Math.abs(this.scroll.dx) < .1 && Math.abs(this.scroll.dy) < .1 && !this.scroll.scrollToX && !this.scroll.scrollToY && (this.scroll.isEnabled = !1,
                    console.log("Scroll disabled")))))
                }
                ,
                e.updateContentChildren = function() {
                    var t;
                    if (this.content && (0 != this.contentDpos.dx || 0 != this.contentDpos.dy))
                        for (var e = 0, i = this.inst.layer.instances.length; e < i; e++)
                            (t = this.inst.layer.instances[e]) && t != this.content && !0 !== t.isSubComp && "dialog" != t.uiType && "scrollView" != t.uiType && "scrollBar" != t.uiType && "slider" != t.uiType && (t.x += this.contentDpos.dx,
                            t.y += this.contentDpos.dy,
                            t.set_bbox_changed())
                }
                ,
                e.updateChildren = function() {
                    isNaN(this.dpos.prev_x) && (this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y),
                    this.dpos.dx = this.inst.x - this.dpos.prev_x,
                    this.dpos.dy = this.inst.y - this.dpos.prev_y,
                    this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y;
                    var t, e = [this.content, this.vScrollBar, this.vSlider, this.hScrollBar, this.hSlider];
                    if (0 != this.dpos.dx || 0 != this.dpos.dy)
                        for (var i = 0, s = e.length; i < s; i++)
                            (t = e[i]) && (t.x += this.dpos.dx,
                            t.y += this.dpos.dy,
                            t.set_bbox_changed())
                }
                ,
                e.tick2 = function() {
                    this.isContentGridView || this.updateContentChildren(),
                    this.updateChildren()
                }
                ,
                e.onDestroy = function() {
                    this.proui.scrollViews["l" + this.inst.layer.index] = null
                }
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                t.cnds = new function() {}
                ,
                i.prototype.ScrollTo = function(t, e, i, s) {
                    this.scrollTo(t, e, i, s)
                }
                ,
                t.acts = new i,
                t.exps = new function() {}
            }(),
            cr.behaviors.aekiro_sliderbar = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_sliderbar.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.");
                    this.behavior.isHooked || (cr.proui.HookMe(this.behavior, ["touch"]),
                    this.behavior.isHooked = !0)
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.proui.isTypeValid(this.inst, [cr.plugins_.Sprite, cr.plugins_.NinePatch], "Pro UI: SliderBar behavior is only applicable to Sprite Or 9-patch objects."),
                    this.isEnabled = this.properties[0],
                    this.value = this.properties[1],
                    this.sliderButtonUID = this.properties[2],
                    this.minValue = this.properties[3],
                    this.maxValue = this.properties[4],
                    this.step = this.properties[5],
                    this.firstFrame = !0,
                    this.inst.uiType = "sliderbar",
                    this.uiType = "sliderbar",
                    (this.inst._proui = this).firstSetValue = !1,
                    (this.compParent = this).isInit = !1,
                    this.dpos = {},
                    this.onSliderTouchStarted = !1,
                    this.onValueChanged = !1,
                    this.value = this.validateValue(this.value)
                }
                ,
                e.getTemplate = function() {
                    if (this.sliderButton = this.proui.tags[this.sliderButtonUID],
                    this.sliderButton)
                        return {
                            sliderTag: this.sliderButtonUID,
                            type: this.sliderButton.type,
                            json: JSON.stringify(this.runtime.saveInstanceToJSON(this.sliderButton, !0))
                        };
                    console.error("SLIDERBAR %d : Slider button not found", this.inst.uid)
                }
                ,
                e.clone = function(t) {
                    var e, i;
                    t && ((e = this.runtime.createInstance(t.type, this.inst.layer)).type.plugin.acts.LoadFromJsonString.call(e, t.json),
                    i = t.sliderTag + this.proui.getIter(),
                    e.aekiro_tag.tag = i,
                    t = this.runtime.extra.notRegister,
                    this.runtime.extra.notRegister = !1,
                    this.proui.addTag(i, e),
                    this.runtime.extra.notRegister = t,
                    this.sliderButtonUID = i,
                    this.init())
                }
                ,
                e.setValue = function(t) {
                    var e;
                    this.firstSetValue = !0,
                    this._setValue(t) && ((e = this.inst.proui_model) && e.setModelValue(t, {
                        except: this.compParent
                    }),
                    this.inst.proui_bind && this.inst.proui_bind.updateGridViewModel(t, {
                        except: this.compParent
                    }))
                }
                ,
                e.validateValue = function(t) {
                    return t = this.proui.validateSimpleValue(t, 0),
                    t = Math.round(t / this.step) * this.step,
                    t = cr.clamp(t, this.minValue, this.maxValue)
                }
                ,
                e._setValue = function(t) {
                    return null != t && (t = this.validateValue(t),
                    this.value = t,
                    this.updateView(),
                    !0)
                }
                ,
                e.updateFromModel = function() {
                    var t = this.inst.proui_model;
                    !t || null != (t = t.getFromModel()) && (t = this.validateValue(t),
                    this.value = t)
                }
                ,
                e.OnAnyTouchStart = function() {
                    this.sliderButton && this.isInTouch(this.sliderButton) && this.isEnabled && (this.OnSliderTouchStart(),
                    this.onSliderTouchStarted = !0,
                    this.onValueChanged = !0)
                }
                ,
                e.OnTouchStart = function() {
                    this.sliderButton && this.isInTouch(this.sliderButton) || !this.isEnabled || (this.onX(this.proui.X(this.inst.layer.index)),
                    this.onValueChanged = !0)
                }
                ,
                e.OnSliderTouchStart = function() {}
                ,
                e.OnAnyTouchEnd = function(t, e) {
                    this.onSliderTouchStarted && this.OnTouchEnd(t, e),
                    this.onSliderTouchStarted = !1,
                    this.onValueChanged = !1
                }
                ,
                e.OnTouchEnd = function(t, e) {
                    this.setValue(this.value)
                }
                ,
                e.updateView = function() {
                    this.isInit && (this.inst.update_bbox(),
                    this.sliderButton.x = cr.clamp(this.inst.bbox.left + (this.value - this.minValue) / this.step * this.widthStep, this.inst.bbox.left, this.inst.bbox.right),
                    this.sliderButton.y = (this.inst.bbox.bottom + this.inst.bbox.top) / 2,
                    this.sliderButton.set_bbox_changed(),
                    this.lastStop = this.sliderButton.x)
                }
                ,
                e.setEnabled = function(t) {
                    this.isEnabled = t
                }
                ,
                e.init = function() {
                    this.isInit || (this.sliderButton = this.proui.tags[this.sliderButtonUID],
                    this.sliderButton ? (this.sliderButton.uiType = "sliderbutton",
                    this.inst.update_bbox(),
                    this.sliderButton.x = this.inst.bbox.left,
                    this.sliderButton.y = (this.inst.bbox.bottom + this.inst.bbox.top) / 2,
                    this.sliderButton.set_bbox_changed(),
                    this.sliderButton.isSubComp = !0,
                    this.widthStep = this.step / (this.maxValue - this.minValue) * this.inst.width,
                    this.thres = this.step / (this.maxValue - this.minValue),
                    this.lastStop = this.inst.bbox.left,
                    this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y,
                    this.dpos.dx = 0,
                    this.dpos.dy = 0,
                    this.isInit = !0) : console.error("SLIDERBAR %d : Slider button not found", this.inst.uid))
                }
                ,
                e.onX = function(t) {
                    this.inst.update_bbox();
                    var e = t - this.lastStop;
                    .04 < this.thres ? 0 < this.sign(e) && this.maxValue - this.value < this.step || Math.abs(e) > 2 * this.widthStep / 3 && (this.lastStop = this.lastStop + this.sign(e) * this.widthStep,
                    this.sliderButton.x = cr.clamp(this.lastStop, this.inst.bbox.left, this.inst.bbox.right),
                    this.sliderButton.set_bbox_changed(),
                    this.value = this.value + this.sign(e) * this.step,
                    this.value = cr.clamp(this.value, this.minValue, this.maxValue)) : (this.sliderButton.x = cr.clamp(t, this.inst.bbox.left, this.inst.bbox.right),
                    this.sliderButton.set_bbox_changed(),
                    this.value = (this.sliderButton.x - this.inst.bbox.left) / this.inst.width * (this.maxValue - this.minValue),
                    this.value = this.minValue + Math.round(this.value / this.step) * this.step,
                    this.value = cr.clamp(this.value, this.minValue, this.maxValue))
                }
                ,
                e.isInTouch = function(t) {
                    var e = this.proui.X(this.inst.layer.index)
                      , i = this.proui.Y(this.inst.layer.index);
                    return t.update_bbox(),
                    t.contains_pt(e, i)
                }
                ,
                e.sign = function(t) {
                    return isNaN(parseFloat(t)) ? NaN : 0 === t ? 0 : -0 === t ? -0 : 0 < t ? 1 : -1
                }
                ,
                e.tick = function() {
                    this.firstFrame && (this.firstFrame = !1,
                    this.init(),
                    this.firstSetValue || this.updateFromModel(),
                    this.updateView()),
                    this.onSliderTouchStarted && this.onX(this.proui.X(this.inst.layer.index))
                }
                ,
                e.updateChildren = function() {
                    var t;
                    this.sliderButton && (isNaN(this.dpos.prev_x) && (this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y),
                    this.dpos.dx = this.inst.x - this.dpos.prev_x,
                    this.dpos.dy = this.inst.y - this.dpos.prev_y,
                    this.dpos.prev_x = this.inst.x,
                    this.dpos.prev_y = this.inst.y,
                    t = this.sliderButton,
                    0 == this.dpos.dx && 0 == this.dpos.dy || (t.x += this.dpos.dx,
                    t.y += this.dpos.dy,
                    t.set_bbox_changed()))
                }
                ,
                e.tick2 = function() {
                    this.updateChildren()
                }
                ,
                e.onDestroy = function() {
                    var t;
                    this.runtime.changelayout || (this.proui.toBeDestroyed.push(this.sliderButton),
                    t = this.proui,
                    setTimeout(function() {
                        t.clearDestroyList()
                    }, 0))
                }
                ,
                e.saveToJSON = function() {
                    return {
                        isEnabled: this.isEnabled,
                        value: this.value,
                        minValue: this.minValue,
                        maxValue: this.maxValue,
                        step: this.step
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.isEnabled = t.isEnabled,
                    this.value = t.value,
                    this.minValue = t.minValue,
                    this.maxValue = t.maxValue,
                    this.step = t.step
                }
                ,
                t.cnds = new i,
                i.prototype.IsSliding = function() {
                    return this.onValueChanged
                }
                ,
                s.prototype.setValue = function(t) {
                    this.setValue(t)
                }
                ,
                t.acts = new s,
                n.prototype.value = function(t) {
                    t.set_float(this.value)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.aekiro_tag = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.aekiro_tag.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    if (this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    !cr.proui)
                        throw new Error("ProUI Plugin not found. Please add it to the project.")
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    this.proui = cr.proui,
                    this.tag = this.properties[0],
                    this.inst.proui_tag = this.tag,
                    (this.inst.aekiro_tag = this).proui.addTag(this.tag, this.inst)
                }
                ,
                e.tick = function() {}
                ,
                e.onDestroy = function() {
                    this.proui.removeTag(this.tag)
                }
                ,
                e.saveToJSON = function() {
                    return {}
                }
                ,
                e.loadFromJSON = function(t) {}
                ,
                i.prototype.IsTag = function(t) {
                    return t == this.tag
                }
                ,
                t.cnds = new i,
                t.acts = new function() {}
                ,
                s.prototype.tag = function(t) {
                    t.set_string(this.tag)
                }
                ,
                t.exps = new s
            }(),
            cr.behaviors.jumpthru = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.jumpthru.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    this.inst.extra.jumpthruEnabled = 0 !== this.properties[0]
                }
                ,
                e.tick = function() {}
                ,
                i.prototype.IsEnabled = function() {
                    return this.inst.extra.jumpthruEnabled
                }
                ,
                t.cnds = new i,
                s.prototype.SetEnabled = function(t) {
                    this.inst.extra.jumpthruEnabled = !!t
                }
                ,
                t.acts = new s
            }();
            var easeOutBounceArray = []
              , easeInElasticArray = []
              , easeOutElasticArray = []
              , easeInOutElasticArray = []
              , easeInCircle = []
              , easeOutCircle = []
              , easeInOutCircle = []
              , easeInBack = []
              , easeOutBack = []
              , easeInOutBack = []
              , litetween_precision = 1e4
              , updateLimit = 0;
            function easeOutBouncefunc(t) {
                return result = (t /= 1) < 1 / 2.75 ? 7.5625 * t * t * 1 + 0 : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375,
                result
            }
            function integerize(t, e) {
                return Math.round(t / e * litetween_precision)
            }
            function easeFunc(t, e, i, s, n, r, o) {
                var a, h, c, l, u = 0;
                switch (t) {
                case 0:
                    u = s * e / n + i;
                    break;
                case 1:
                    u = s * (e /= n) * e + i;
                    break;
                case 2:
                    u = -s * (e /= n) * (e - 2) + i;
                    break;
                case 3:
                    u = (e /= n / 2) < 1 ? s / 2 * e * e + i : -s / 2 * (--e * (e - 2) - 1) + i;
                    break;
                case 4:
                    u = s * (e /= n) * e * e + i;
                    break;
                case 5:
                    u = s * ((e = e / n - 1) * e * e + 1) + i;
                    break;
                case 6:
                    u = (e /= n / 2) < 1 ? s / 2 * e * e * e + i : s / 2 * ((e -= 2) * e * e + 2) + i;
                    break;
                case 7:
                    u = s * (e /= n) * e * e * e + i;
                    break;
                case 8:
                    u = -s * ((e = e / n - 1) * e * e * e - 1) + i;
                    break;
                case 9:
                    u = (e /= n / 2) < 1 ? s / 2 * e * e * e * e + i : -s / 2 * ((e -= 2) * e * e * e - 2) + i;
                    break;
                case 10:
                    u = s * (e /= n) * e * e * e * e + i;
                    break;
                case 11:
                    u = s * ((e = e / n - 1) * e * e * e * e + 1) + i;
                    break;
                case 12:
                    u = (e /= n / 2) < 1 ? s / 2 * e * e * e * e * e + i : s / 2 * ((e -= 2) * e * e * e * e + 2) + i;
                    break;
                case 13:
                    u = o.optimized ? easeInCircle[integerize(e, n)] : -(Math.sqrt(1 - e * e) - 1);
                    break;
                case 14:
                    u = o.optimized ? easeOutCircle[integerize(e, n)] : Math.sqrt(1 - (e - 1) * (e - 1));
                    break;
                case 15:
                    u = o.optimized ? easeInOutCircle[integerize(e, n)] : (e /= n / 2) < 1 ? -s / 2 * (Math.sqrt(1 - e * e) - 1) + i : s / 2 * (Math.sqrt(1 - (e -= 2) * e) + 1) + i;
                    break;
                case 16:
                    u = o.optimized ? easeInBack[integerize(e, n)] : s * (e /= n) * e * (((c = o.s) + 1) * e - c) + i;
                    break;
                case 17:
                    u = o.optimized ? easeOutBack[integerize(e, n)] : s * ((e = e / n - 1) * e * (((c = o.s) + 1) * e + c) + 1) + i;
                    break;
                case 18:
                    u = o.optimized ? easeInOutBack[integerize(e, n)] : (c = o.s,
                    (e /= n / 2) < 1 ? s / 2 * (e * e * ((1 + (c *= 1.525)) * e - c)) + i : s / 2 * ((e -= 2) * e * ((1 + (c *= 1.525)) * e + c) + 2) + i);
                    break;
                case 19:
                    u = o.optimized ? easeInElasticArray[integerize(e, n)] : (a = o.a,
                    (c = 0) == e && (u = i),
                    1 == (e /= n) && (u = i + s),
                    0 == (h = o.p) && (h = .3 * n),
                    c = 0 == a || a < Math.abs(s) ? (a = s,
                    h / 4) : h / (2 * Math.PI) * Math.asin(s / a),
                    -(a * Math.pow(2, 10 * --e) * Math.sin((e * n - c) * (2 * Math.PI) / h)) + i);
                    break;
                case 20:
                    u = o.optimized ? easeOutElasticArray[integerize(e, n)] : (a = o.a,
                    (c = 0) == e && (u = i),
                    1 == (e /= n) && (u = i + s),
                    0 == (h = o.p) && (h = .3 * n),
                    c = 0 == a || a < Math.abs(s) ? (a = s,
                    h / 4) : h / (2 * Math.PI) * Math.asin(s / a),
                    a * Math.pow(2, -10 * e) * Math.sin((e * n - c) * (2 * Math.PI) / h) + s + i);
                    break;
                case 21:
                    u = o.optimized ? easeInOutElasticArray[integerize(e, n)] : (a = o.a,
                    (c = 0) == e && (u = i),
                    2 == (e /= n / 2) && (u = i + s),
                    0 == (h = o.p) && (h = n * (.3 * 1.5)),
                    c = 0 == a || a < Math.abs(s) ? (a = s,
                    h / 4) : h / (2 * Math.PI) * Math.asin(s / a),
                    e < 1 ? a * Math.pow(2, 10 * --e) * Math.sin((e * n - c) * (2 * Math.PI) / h) * -.5 + i : a * Math.pow(2, -10 * --e) * Math.sin((e * n - c) * (2 * Math.PI) / h) * .5 + s + i);
                    break;
                case 22:
                    u = o.optimized ? s - easeOutBounceArray[integerize(n - e, n)] + i : s - easeOutBouncefunc(n - e / n) + i;
                    break;
                case 23:
                    u = o.optimized ? easeOutBounceArray[integerize(e, n)] : easeOutBouncefunc(e / n);
                    break;
                case 24:
                    u = o.optimized ? e < n / 2 ? .5 * (s - easeOutBounceArray[integerize(n - 2 * e, n)] + i) + i : .5 * easeOutBounceArray[integerize(2 * e - n, n)] + .5 * s + i : e < n / 2 ? .5 * (s - easeOutBouncefunc(n - 2 * e) + i) + i : .5 * easeOutBouncefunc((2 * e - n) / n) + .5 * s + i;
                    break;
                case 25:
                    u = (l = e / n / 2) * l * (3 - 2 * l) * 2;
                    break;
                case 26:
                    u = (l = (e / n + 1) / 2) * l * (3 - 2 * l) * 2 - 1;
                    break;
                case 27:
                    u = (l = e / n) * l * (3 - 2 * l)
                }
                return r ? s - i - u : u
            }
            !function() {
                for (var t = 0, e = 0, i = 0, s = 0, n = 0, r = 0; r <= litetween_precision; r++) {
                    s = r / litetween_precision,
                    t = (s /= 1) < 1 / 2.75 ? 7.5625 * s * s * 1 + 0 : s < 2 / 2.75 ? 7.5625 * (s -= 1.5 / 2.75) * s + .75 : s < 2.5 / 2.75 ? 7.5625 * (s -= 2.25 / 2.75) * s + .9375 : 7.5625 * (s -= 2.625 / 2.75) * s + .984375;
                    easeOutBounceArray[r] = t,
                    (i = e = 0) == (s = r / litetween_precision) && (t = 0),
                    1 == (s /= 1) && (t = 1),
                    0 == i && (i = .3),
                    n = 0 == e || e < Math.abs(1) ? (e = 1,
                    i / 4) : i / (2 * Math.PI) * Math.asin(1 / e),
                    t = 0 - e * Math.pow(2, 10 * --s) * Math.sin((+s - n) * (2 * Math.PI) / i),
                    easeInElasticArray[r] = t,
                    (i = e = 0) == (s = r / litetween_precision) && (t = 0),
                    1 == (s /= 1) && (t = 1),
                    0 == i && (i = .3),
                    n = 0 == e || e < Math.abs(1) ? (e = 1,
                    i / 4) : i / (2 * Math.PI) * Math.asin(1 / e),
                    t = e * Math.pow(2, -10 * s) * Math.sin((+s - n) * (2 * Math.PI) / i) + 1,
                    easeOutElasticArray[r] = t,
                    (i = e = 0) == (s = r / litetween_precision) && (t = 0),
                    2 == (s /= .5) && (t = 1),
                    0 == i && (i = .3 * 1.5 * 1),
                    n = 0 == e || e < Math.abs(1) ? (e = 1,
                    i / 4) : i / (2 * Math.PI) * Math.asin(1 / e),
                    t = s < 1 ? e * Math.pow(2, 10 * --s) * Math.sin((+s - n) * (2 * Math.PI) / i) * -.5 + 0 : e * Math.pow(2, -10 * --s) * Math.sin((+s - n) * (2 * Math.PI) / i) * .5 + 1,
                    easeInOutElasticArray[r] = t,
                    s = r / litetween_precision,
                    easeInCircle[r] = -(Math.sqrt(1 - s * s) - 1),
                    s = r / litetween_precision,
                    easeOutCircle[r] = Math.sqrt(1 - (s - 1) * (s - 1)),
                    s = r / litetween_precision,
                    t = (s /= .5) < 1 ? -.5 * (Math.sqrt(1 - s * s) - 1) + 0 : .5 * (Math.sqrt(1 - (s -= 2) * s) + 1) + 0,
                    easeInOutCircle[r] = t,
                    s = r / litetween_precision,
                    (n = 0) == n && (n = 1.70158),
                    t = (s /= 1) * s * ((n + 1) * s - n) + 0,
                    easeInBack[r] = t,
                    (n = 0) == n && (n = 1.70158),
                    t = (s = +(s = r / litetween_precision) - 1) * s * ((n + 1) * s + n) + 1,
                    easeOutBack[r] = t,
                    s = r / litetween_precision,
                    (n = 0) == n && (n = 1.70158),
                    t = (s /= .5) < 1 ? s * s * ((1 + (n *= 1.525)) * s - n) * .5 + 0 : .5 * ((s -= 2) * s * ((1 + (n *= 1.525)) * s + n) + 2) + 0,
                    easeInOutBack[r] = t
                }
            }();
            var TweenObject = function(t, e, i, s, n, r, o) {
                this.name = t,
                this.value = 0,
                this.setInitial(s),
                this.setTarget(n),
                this.easefunc = i,
                this.tweened = e,
                this.duration = r,
                this.progress = 0,
                this.state = 0,
                this.onStart = !1,
                this.onEnd = !1,
                this.onReverseStart = !1,
                this.onReverseEnd = !1,
                this.lastKnownValue = 0,
                this.lastKnownValue2 = 0,
                this.enforce = o,
                this.pingpong = 1,
                this.flipEase = !1,
                this.easingparam = [],
                this.lastState = 1;
                for (var a = 0; a < 28; a++)
                    this.easingparam[a] = {},
                    this.easingparam[a].a = 0,
                    this.easingparam[a].p = 0,
                    this.easingparam[a].t = 0,
                    this.easingparam[a].s = 0,
                    this.easingparam[a].optimized = !0
            };
            function trim(t) {
                return t.replace(/^\s\s*/, "").replace(/\s\s*$/, "")
            }
            function trim(t) {
                return t.replace(/^\s\s*/, "").replace(/\s\s*$/, "")
            }
            TweenObject.prototype = {},
            TweenObject.prototype.flipTarget = function() {
                var t = this.initialparam1
                  , e = this.initialparam2;
                this.initialparam1 = this.targetparam1,
                this.initialparam2 = this.targetparam2,
                this.targetparam1 = t,
                this.targetparam2 = e,
                this.lastKnownValue = 0,
                this.lastKnownValue2 = 0
            }
            ,
            TweenObject.prototype.setInitial = function(t) {
                this.initialparam1 = parseFloat(t.split(",")[0]),
                this.initialparam2 = parseFloat(t.split(",")[1]),
                this.lastKnownValue = 0,
                this.lastKnownValue2 = 0
            }
            ,
            TweenObject.prototype.setTarget = function(t) {
                this.targetparam1 = parseFloat(t.split(",")[0]),
                this.targetparam2 = parseFloat(t.split(",")[1]),
                isNaN(this.targetparam2) && (this.targetparam2 = this.targetparam1)
            }
            ,
            TweenObject.prototype.OnTick = function(t) {
                return 0 === this.state ? -1 : (1 === this.state && (this.progress += t),
                2 === this.state && (this.progress -= t),
                3 === this.state && (this.state = 0),
                4 !== this.state && 6 !== this.state || (this.progress += t * this.pingpong),
                5 === this.state && (this.progress += t * this.pingpong),
                this.progress < 0 ? (this.progress = 0,
                4 === this.state ? this.pingpong = 1 : 6 === this.state ? (this.pingpong = 1,
                this.flipEase = !1) : this.state = 0,
                this.onReverseEnd = !0,
                0) : this.progress > this.duration ? (this.progress = this.duration,
                4 === this.state ? this.pingpong = -1 : 6 === this.state ? (this.pingpong = -1,
                this.flipEase = !0) : 5 === this.state ? this.progress = 0 : this.state = 0,
                this.onEnd = !0,
                1) : this.flipEase ? easeFunc(this.easefunc, this.duration - this.progress, 0, 1, this.duration, this.flipEase, this.easingparam[this.easefunc]) : easeFunc(this.easefunc, this.progress, 0, 1, this.duration, this.flipEase, this.easingparam[this.easefunc]))
            }
            ,
            cr.behaviors.lunarray_LiteTween = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.lunarray_LiteTween.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    this.i = 0
                }
                ;
                var e = t.Instance.prototype;
                e.onCreate = function() {
                    this.playmode = this.properties[0],
                    this.active = 1 == this.playmode || 2 == this.playmode || 3 == this.playmode || 4 == this.playmode,
                    this.tweened = this.properties[1],
                    this.easing = this.properties[2],
                    this.target = this.properties[3],
                    this.targetmode = this.properties[4],
                    this.useCurrent = !1,
                    1 === this.targetmode && (this.target = "relative(" + this.target + ")"),
                    this.duration = this.properties[5],
                    this.enforce = 1 === this.properties[6],
                    this.value = 0,
                    this.tween_list = {},
                    this.addToTweenList("default", this.tweened, this.easing, "current", this.target, this.duration, this.enforce),
                    1 === this.properties[0] && this.startTween(0),
                    2 === this.properties[0] && this.startTween(2),
                    3 === this.properties[0] && this.startTween(3),
                    4 === this.properties[0] && this.startTween(4)
                }
                ,
                e.parseCurrent = function(t, e) {
                    void 0 === e && (e = "current");
                    var i = trim(e);
                    e = trim(e);
                    var s = this.value;
                    if ("current" === e)
                        switch (t) {
                        case 0:
                            i = this.inst.x + "," + this.inst.y;
                            break;
                        case 1:
                        case 2:
                        case 3:
                            i = this.inst.width + "," + this.inst.height;
                            break;
                        case 4:
                            i = cr.to_degrees(this.inst.angle) + "," + cr.to_degrees(this.inst.angle);
                            break;
                        case 5:
                            i = 100 * this.inst.opacity + "," + 100 * this.inst.opacity;
                            break;
                        case 6:
                            i = s + "," + s;
                            break;
                        case 7:
                        case 8:
                            i = this.inst.x + "," + this.inst.y;
                            break;
                        case 9:
                            i = void 0 !== this.inst.curFrame ? this.inst.width / this.inst.curFrame.width + "," + this.inst.height / this.inst.curFrame.height : "1,1"
                        }
                    if ("relative" === e.substring(0, 8)) {
                        var n, r, e = e.match(/\((.*?)\)/);
                        switch (e && (n = parseFloat(e[1].split(",")[0]),
                        r = parseFloat(e[1].split(",")[1])),
                        isNaN(n) && (n = 0),
                        isNaN(r) && (r = 0),
                        t) {
                        case 0:
                            i = this.inst.x + n + "," + (this.inst.y + r);
                            break;
                        case 1:
                        case 2:
                        case 3:
                            i = this.inst.width + n + "," + (this.inst.height + r);
                            break;
                        case 4:
                            i = cr.to_degrees(this.inst.angle) + n + "," + (cr.to_degrees(this.inst.angle) + r);
                            break;
                        case 5:
                            i = 100 * this.inst.opacity + n + "," + (100 * this.inst.opacity + r);
                            break;
                        case 6:
                            i = s + n + "," + s + n;
                            break;
                        case 7:
                            i = this.inst.x + n + "," + this.inst.y;
                            break;
                        case 8:
                            i = this.inst.x + "," + (this.inst.y + n);
                            break;
                        case 9:
                            i = n + "," + r
                        }
                    }
                    return i
                }
                ,
                e.addToTweenList = function(t, e, i, s, n, r, o) {
                    s = this.parseCurrent(e, s),
                    n = this.parseCurrent(e, n),
                    void 0 !== this.tween_list[t] && delete this.tween_list[t],
                    this.tween_list[t] = new TweenObject(t,e,i,s,n,r,o),
                    this.tween_list[t].dt = 0
                }
                ,
                e.saveToJSON = function() {
                    JSON.stringify(this.tween_list.default);
                    return {
                        playmode: this.playmode,
                        active: this.active,
                        tweened: this.tweened,
                        easing: this.easing,
                        target: this.target,
                        targetmode: this.targetmode,
                        useCurrent: this.useCurrent,
                        duration: this.duration,
                        enforce: this.enforce,
                        value: this.value,
                        tweenlist: JSON.stringify(this.tween_list.default)
                    }
                }
                ,
                TweenObject.Load = function(t, e, i, s, n, r, o, a) {
                    var h, c = new TweenObject(e,i,s,n,r,o,a);
                    for (h in t)
                        c[h] = t[h];
                    return c
                }
                ,
                e.loadFromJSON = function(t) {
                    var e = JSON.parse(t.tweenlist)
                      , e = TweenObject.Load(e, e.name, e.tweened, e.easefunc, e.initialparam1 + "," + e.initialparam2, e.targetparam1 + "," + e.targetparam2, e.duration, e.enforce);
                    this.tween_list.default = e,
                    this.playmode = t.playmode,
                    this.active = t.active,
                    this.movement = t.tweened,
                    this.easing = t.easing,
                    this.target = t.target,
                    this.targetmode = t.targetmode,
                    this.useCurrent = t.useCurrent,
                    this.duration = t.duration,
                    this.enforce = t.enforce,
                    this.value = t.value
                }
                ,
                e.setProgressTo = function(t) {
                    for (var e in 1 < t && (t = 1),
                    t < 0 && (t = 0),
                    this.tween_list) {
                        var i = this.tween_list[e];
                        i.lastKnownValue = 0,
                        i.lastKnownValue2 = 0,
                        i.state = 3,
                        i.progress = t * i.duration;
                        var s = i.OnTick(0);
                        this.updateTween(i, s)
                    }
                }
                ,
                e.startTween = function(t) {
                    for (var e in this.tween_list) {
                        var i, s, n = this.tween_list[e];
                        this.useCurrent && (i = this.parseCurrent(n.tweened, "current"),
                        s = this.parseCurrent(n.tweened, this.target),
                        n.setInitial(i),
                        n.setTarget(s)),
                        0 === t && (n.progress = 1e-6,
                        n.lastKnownValue = 0,
                        n.lastKnownValue2 = 0,
                        n.onStart = !0,
                        n.state = 1),
                        1 === t && (n.state = n.lastState),
                        2 !== t && 4 !== t || (n.progress = 1e-6,
                        n.lastKnownValue = 0,
                        n.lastKnownValue2 = 0,
                        n.onStart = !0,
                        2 == t && (n.state = 4),
                        4 == t && (n.state = 6)),
                        3 === t && (n.progress = 1e-6,
                        n.lastKnownValue = 0,
                        n.lastKnownValue2 = 0,
                        n.onStart = !0,
                        n.state = 5)
                    }
                }
                ,
                e.stopTween = function(t) {
                    for (var e in this.tween_list) {
                        var i = this.tween_list[e];
                        3 != i.state && 0 != i.state && (i.lastState = i.state),
                        1 === t && (i.progress = 0),
                        2 === t && (i.progress = i.duration),
                        i.state = 3;
                        var s = i.OnTick(0);
                        this.updateTween(i, s)
                    }
                }
                ,
                e.reverseTween = function(t) {
                    for (var e in this.tween_list) {
                        var i = this.tween_list[e];
                        1 === t && (i.progress = i.duration,
                        i.lastKnownValue = 0,
                        i.lastKnownValue2 = 0,
                        i.onReverseStart = !0),
                        i.state = 2
                    }
                }
                ,
                e.updateTween = function(t, e) {
                    var i, s;
                    0 === t.tweened ? t.enforce ? (this.inst.x = t.initialparam1 + (t.targetparam1 - t.initialparam1) * e,
                    this.inst.y = t.initialparam2 + (t.targetparam2 - t.initialparam2) * e) : (this.inst.x += (t.targetparam1 - t.initialparam1) * e - t.lastKnownValue,
                    this.inst.y += (t.targetparam2 - t.initialparam2) * e - t.lastKnownValue2,
                    t.lastKnownValue = (t.targetparam1 - t.initialparam1) * e,
                    t.lastKnownValue2 = (t.targetparam2 - t.initialparam2) * e) : 1 === t.tweened ? t.enforce ? (this.inst.width = t.initialparam1 + (t.targetparam1 - t.initialparam1) * e,
                    this.inst.height = t.initialparam2 + (t.targetparam2 - t.initialparam2) * e) : (this.inst.width += (t.targetparam1 - t.initialparam1) * e - t.lastKnownValue,
                    this.inst.height += (t.targetparam2 - t.initialparam2) * e - t.lastKnownValue2,
                    t.lastKnownValue = (t.targetparam1 - t.initialparam1) * e,
                    t.lastKnownValue2 = (t.targetparam2 - t.initialparam2) * e) : 2 === t.tweened ? t.enforce ? this.inst.width = t.initialparam1 + (t.targetparam1 - t.initialparam1) * e : (this.inst.width += (t.targetparam1 - t.initialparam1) * e - t.lastKnownValue,
                    t.lastKnownValue = (t.targetparam1 - t.initialparam1) * e) : 3 === t.tweened ? t.enforce ? this.inst.height = t.initialparam2 + (t.targetparam2 - t.initialparam2) * e : (this.inst.height += (t.targetparam2 - t.initialparam2) * e - t.lastKnownValue2,
                    t.lastKnownValue2 = (t.targetparam2 - t.initialparam2) * e) : 4 === t.tweened ? t.enforce ? (s = t.initialparam1 + (t.targetparam1 - t.initialparam1) * e,
                    this.inst.angle = cr.clamp_angle(cr.to_radians(s))) : (s = (t.targetparam1 - t.initialparam1) * e - t.lastKnownValue,
                    this.inst.angle = cr.clamp_angle(this.inst.angle + cr.to_radians(s)),
                    t.lastKnownValue = (t.targetparam1 - t.initialparam1) * e) : 5 === t.tweened ? t.enforce ? this.inst.opacity = (t.initialparam1 + (t.targetparam1 - t.initialparam1) * e) / 100 : (this.inst.opacity += ((t.targetparam1 - t.initialparam1) * e - t.lastKnownValue) / 100,
                    t.lastKnownValue = (t.targetparam1 - t.initialparam1) * e) : 6 === t.tweened ? t.enforce ? this.value = t.initialparam1 + (t.targetparam1 - t.initialparam1) * e : (this.value += (t.targetparam1 - t.initialparam1) * e - t.lastKnownValue,
                    t.lastKnownValue = (t.targetparam1 - t.initialparam1) * e) : 7 === t.tweened ? t.enforce ? this.inst.x = t.initialparam1 + (t.targetparam1 - t.initialparam1) * e : (this.inst.x += (t.targetparam1 - t.initialparam1) * e - t.lastKnownValue,
                    t.lastKnownValue = (t.targetparam1 - t.initialparam1) * e) : 8 === t.tweened ? t.enforce ? this.inst.y = t.initialparam2 + (t.targetparam2 - t.initialparam2) * e : (this.inst.y += (t.targetparam2 - t.initialparam2) * e - t.lastKnownValue2,
                    t.lastKnownValue2 = (t.targetparam2 - t.initialparam2) * e) : 9 === t.tweened && (i = t.initialparam1 + (t.targetparam1 - t.initialparam1) * e,
                    s = t.initialparam2 + (t.targetparam2 - t.initialparam2) * e,
                    this.inst.width < 0 && (i = t.initialparam1 + (t.targetparam1 + t.initialparam1) * -e),
                    this.inst.height < 0 && (s = t.initialparam2 + (t.targetparam2 + t.initialparam2) * -e),
                    t.enforce ? (this.inst.width = this.inst.curFrame.width * i,
                    this.inst.height = this.inst.curFrame.height * s) : (this.inst.width < 0 ? (this.inst.width = i * (this.inst.width / (-1 + t.lastKnownValue)),
                    t.lastKnownValue = i + 1) : (this.inst.width = i * (this.inst.width / (1 + t.lastKnownValue)),
                    t.lastKnownValue = i - 1),
                    this.inst.height < 0 ? (this.inst.height = s * (this.inst.height / (-1 + t.lastKnownValue2)),
                    t.lastKnownValue2 = s + 1) : (this.inst.height = s * (this.inst.height / (1 + t.lastKnownValue2)),
                    t.lastKnownValue2 = s - 1))),
                    this.inst.set_bbox_changed()
                }
                ,
                e.tick = function() {
                    var t = this.runtime.getDt(this.inst)
                      , e = this.tween_list.default;
                    0 !== e.state && (e.onStart && (this.runtime.trigger(cr.behaviors.lunarray_LiteTween.prototype.cnds.OnStart, this.inst),
                    e.onStart = !1),
                    e.onReverseStart && (this.runtime.trigger(cr.behaviors.lunarray_LiteTween.prototype.cnds.OnReverseStart, this.inst),
                    e.onReverseStart = !1),
                    this.active = 1 == e.state || 2 == e.state || 4 == e.state || 5 == e.state || 6 == e.state,
                    t = e.OnTick(t),
                    this.updateTween(e, t),
                    e.onEnd && (this.runtime.trigger(cr.behaviors.lunarray_LiteTween.prototype.cnds.OnEnd, this.inst),
                    e.onEnd = !1),
                    e.onReverseEnd && (this.runtime.trigger(cr.behaviors.lunarray_LiteTween.prototype.cnds.OnReverseEnd, this.inst),
                    e.onReverseEnd = !1))
                }
                ,
                t.cnds = {},
                (e = t.cnds).IsActive = function() {
                    return 0 !== this.tween_list.default.state
                }
                ,
                e.IsReversing = function() {
                    return 2 == this.tween_list.default.state
                }
                ,
                e.CompareProgress = function(t, e) {
                    var i = this.tween_list.default;
                    return cr.do_cmp(i.progress / i.duration, t, e)
                }
                ,
                e.OnThreshold = function(t, e) {
                    var i = this.tween_list.default;
                    this.threshold = cr.do_cmp(i.progress / i.duration, t, e);
                    e = this.oldthreshold != this.threshold && this.threshold;
                    return e && (this.oldthreshold = this.threshold),
                    e
                }
                ,
                e.OnStart = function() {
                    return void 0 !== this.tween_list.default && this.tween_list.default.onStart
                }
                ,
                e.OnReverseStart = function() {
                    return void 0 !== this.tween_list.default && this.tween_list.default.onReverseStart
                }
                ,
                e.OnEnd = function() {
                    return void 0 !== this.tween_list.default && this.tween_list.default.onEnd
                }
                ,
                e.OnReverseEnd = function() {
                    return void 0 !== this.tween_list.default && this.tween_list.default.onReverseEnd
                }
                ,
                t.acts = {},
                (e = t.acts).Start = function(t, e) {
                    this.threshold = !1,
                    this.oldthreshold = !1,
                    this.useCurrent = 1 == e,
                    this.startTween(t)
                }
                ,
                e.Stop = function(t) {
                    this.stopTween(t)
                }
                ,
                e.Reverse = function(t) {
                    this.threshold = !1,
                    this.oldthreshold = !1,
                    this.reverseTween(t)
                }
                ,
                e.ProgressTo = function(t) {
                    this.setProgressTo(t)
                }
                ,
                e.SetDuration = function(t) {
                    isNaN(t) || t < 0 || void 0 !== this.tween_list.default && (this.tween_list.default.duration = t)
                }
                ,
                e.SetEnforce = function(t) {
                    void 0 !== this.tween_list.default && (this.tween_list.default.enforce = 1 === t)
                }
                ,
                e.SetInitial = function(t) {
                    void 0 !== this.tween_list.default && (t = this.parseCurrent(this.tween_list.default.tweened, t),
                    this.tween_list.default.setInitial(t))
                }
                ,
                e.SetTarget = function(t, e, i) {
                    if (void 0 !== this.tween_list.default && !isNaN(i)) {
                        var s = this.tween_list.default
                          , n = i + ""
                          , r = ""
                          , o = "";
                        if (1 === (this.targetmode = e)) {
                            switch (this.target = "relative(" + n + ")",
                            t) {
                            case 0:
                                r = this.inst.x + i,
                                o = s.targetparam2;
                                break;
                            case 1:
                                r = s.targetparam1,
                                o = this.inst.y + i;
                                break;
                            case 2:
                                o = r = "" + cr.to_degrees(this.inst.angle + cr.to_radians(i));
                                break;
                            case 3:
                                o = r = "" + 100 * this.inst.opacity + i;
                                break;
                            case 4:
                                r = this.inst.width + i,
                                o = s.targetparam2;
                                break;
                            case 5:
                                r = s.targetparam1,
                                o = this.inst.height + i;
                                break;
                            case 6:
                                o = r = i
                            }
                            n = r + "," + o
                        } else {
                            switch (t) {
                            case 0:
                                r = i,
                                o = s.targetparam2;
                                break;
                            case 1:
                                r = s.targetparam1,
                                o = i;
                                break;
                            case 2:
                            case 3:
                                o = r = i;
                                break;
                            case 4:
                                r = i,
                                o = s.targetparam2;
                                break;
                            case 5:
                                r = s.targetparam1,
                                o = i;
                                break;
                            case 6:
                                o = r = i
                            }
                            n = r + "," + o,
                            this.target = n
                        }
                        t = this.parseCurrent(this.tween_list.default.tweened, "current"),
                        n = this.parseCurrent(this.tween_list.default.tweened, n);
                        s.setInitial(t),
                        s.setTarget(n)
                    }
                }
                ,
                e.SetTweenedProperty = function(t) {
                    void 0 !== this.tween_list.default && (this.tween_list.default.tweened = t)
                }
                ,
                e.SetEasing = function(t) {
                    void 0 !== this.tween_list.default && (this.tween_list.default.easefunc = t)
                }
                ,
                e.SetEasingParam = function(t, e, i, s, n) {
                    void 0 !== this.tween_list.default && (this.tween_list.default.easingparam[t].optimized = !1,
                    this.tween_list.default.easingparam[t].a = e,
                    this.tween_list.default.easingparam[t].p = i,
                    this.tween_list.default.easingparam[t].t = s,
                    this.tween_list.default.easingparam[t].s = n)
                }
                ,
                e.ResetEasingParam = function() {
                    void 0 !== this.tween_list.default && (this.tween_list.default.optimized = !0)
                }
                ,
                e.SetValue = function(t) {
                    var e = this.tween_list.default;
                    this.value = t,
                    6 === e.tweened && e.setInitial(this.parseCurrent(e.tweened, "current"))
                }
                ,
                e.SetParameter = function(t, e, i, s, n) {
                    var r;
                    void 0 === this.tween_list.default ? this.addToTweenList("default", t, e, initial, i, s, n, 0) : ((r = this.tween_list.default).tweened = t,
                    r.easefunc = e,
                    r.setInitial(this.parseCurrent(t, "current")),
                    r.setTarget(this.parseCurrent(t, i)),
                    r.duration = s,
                    r.enforce = 1 === n)
                }
                ,
                t.exps = {},
                (t = t.exps).State = function(t) {
                    var e = "N/A";
                    switch (this.tween_list.default.state) {
                    case 0:
                        e = "paused";
                        break;
                    case 1:
                        e = "playing";
                        break;
                    case 2:
                        e = "reversing";
                        break;
                    case 3:
                        e = "seeking"
                    }
                    t.set_string(e)
                }
                ,
                t.Progress = function(t) {
                    var e = this.tween_list.default.progress / this.tween_list.default.duration;
                    t.set_float(e)
                }
                ,
                t.Duration = function(t) {
                    t.set_float(this.tween_list.default.duration)
                }
                ,
                t.Target = function(t) {
                    var e = this.tween_list.default
                      , i = "N/A";
                    switch (e.tweened) {
                    case 0:
                        i = e.targetparam1;
                        break;
                    case 1:
                        i = e.targetparam2;
                        break;
                    case 2:
                    case 3:
                    case 4:
                        i = e.targetparam1;
                        break;
                    case 5:
                        i = e.targetparam2;
                        break;
                    case 6:
                        i = e.targetparam1
                    }
                    t.set_float(i)
                }
                ,
                t.Value = function(t) {
                    var e = this.value;
                    t.set_float(e)
                }
                ,
                t.Tween = function(t, e, i, s, n) {
                    s = 1 < s ? 1 : s,
                    s = easeFunc(n, s < 0 ? 0 : s, 0, 1, 1, !1, !1);
                    t.set_float(e + s * (i - e))
                }
            }(),
            cr.behaviors.lunarray_Tween = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.lunarray_Tween.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime,
                    this.i = 0
                }
                ;
                var e = t.Instance.prototype;
                function h(t, e, i, s) {
                    return (t /= s) < 1 / 2.75 ? i * (7.5625 * t * t) + e : t < 2 / 2.75 ? i * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + e : t < 2.5 / 2.75 ? i * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + e : i * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + e
                }
                e.groupUpdateProgress = function(t) {
                    1 < t && (t = 1),
                    cr.lunarray_tweenProgress[this.group] = -1,
                    cr.lunarray_tweenProgress[this.group] = t,
                    cr.lunarray_tweenProgress[this.group] >= t && (cr.lunarray_tweenProgress[this.group] = t)
                }
                ,
                e.groupSync = function() {
                    "" != this.group && (void 0 === cr.lunarray_tweenGroup && (cr.lunarray_tweenGroup = {},
                    cr.lunarray_tweenProgress = {}),
                    void 0 === cr.lunarray_tweenGroup[this.group] && (cr.lunarray_tweenGroup[this.group] = [],
                    cr.lunarray_tweenProgress[this.group] = -1),
                    -1 == cr.lunarray_tweenGroup[this.group].indexOf(this) && cr.lunarray_tweenGroup[this.group].push(this))
                }
                ,
                e.saveState = function() {
                    this.tweenSaveWidth = this.inst.width,
                    this.tweenSaveHeight = this.inst.height,
                    this.tweenSaveAngle = this.inst.angle,
                    this.tweenSaveOpacity = this.inst.opacity,
                    this.tweenSaveX = this.inst.x,
                    this.tweenSaveY = this.inst.y,
                    this.tweenSaveValue = this.value
                }
                ,
                e.onCreate = function() {
                    this.active = 1 === this.properties[0],
                    this.tweened = this.properties[1],
                    this.easing = this.properties[2],
                    this.initial = this.properties[3],
                    this.target = this.properties[4],
                    this.duration = this.properties[5],
                    this.wait = this.properties[6],
                    this.playmode = this.properties[7],
                    this.value = this.properties[8],
                    this.coord_mode = this.properties[9],
                    this.forceInit = 1 === this.properties[10],
                    this.group = this.properties[11],
                    this.targetObject = null,
                    this.pingpongCounter = 0,
                    5 == this.playmode && (this.pingpongCounter = 1),
                    this.groupSync(),
                    this.isPaused = !1,
                    this.initialX = this.inst.x,
                    this.initialY = this.inst.y,
                    this.targetX = parseFloat(this.target.split(",")[0]),
                    this.targetY = parseFloat(this.target.split(",")[1]),
                    this.saveState(),
                    this.tweenInitialX = 0,
                    this.tweenInitialY = 0,
                    this.tweenTargetX = 0,
                    this.tweenTargetY = 0,
                    this.tweenTargetAngle = 0,
                    this.ratio = this.inst.height / this.inst.width,
                    this.reverse = !1,
                    this.rewindMode = !1,
                    this.doTweenX = !0,
                    this.doTweenY = !0,
                    this.loop = !1,
                    this.initiating = 0,
                    this.cooldown = 0,
                    this.lastPlayMode = this.playmode,
                    this.lastKnownValue = this.tweenInitialX,
                    this.lastKnownX = this.tweenInitialX,
                    this.lastKnownY = this.tweenInitialY,
                    this.forceInit && this.init(),
                    "" == this.initial && (this.initial = "current"),
                    this.onStarted = !1,
                    this.onStartedDone = !1,
                    this.onWaitEnd = !1,
                    this.onWaitEndDone = !1,
                    this.onEnd = !1,
                    this.onEndDone = !1,
                    this.onCooldown = !1,
                    this.onCooldownDone = !1,
                    this.active && this.init()
                }
                ,
                e.init = function() {
                    this.onStarted = !1,
                    "" === this.initial && (this.initial = "current"),
                    "" === this.target && (this.target = "current");
                    var t, e, i, s, n = "current" === this.initial, r = "current" === this.target, o = "OBJ" === this.target;
                    "OBJ" === this.target && null != this.targetObject && (0 == this.tweened ? 1 == this.coord_mode ? this.target = this.targetObject.x - this.inst.x + "," + (this.targetObject.y - this.inst.y) : this.target = this.targetObject.x + "," + this.targetObject.y : 1 == this.tweened || 2 == this.tweened || 3 == this.tweened || 7 == this.tweened ? 1 == this.coord_mode ? this.target = (2 == this.tweened ? 1 : this.targetObject.width) + "," + (3 == this.tweened ? 1 : this.targetObject.height) : this.target = (2 == this.tweened ? 1 : this.targetObject.width / this.tweenSaveWidth) + "," + (3 == this.tweened ? 1 : this.targetObject.height / this.tweenSaveHeight) : 4 == this.tweened ? 1 == this.coord_mode ? this.target = cr.to_degrees(this.targetObject.angle - this.inst.angle) + "" : this.target = cr.to_degrees(this.targetObject.angle) + "" : 5 == this.tweened && (1 == this.coord_mode ? this.target = 100 * (this.targetObject.opacity - this.inst.opacity) + "" : this.target = 100 * this.targetObject.opacity + "")),
                    0 == this.tweened ? (r && (this.target = this.inst.x + "," + this.inst.y),
                    n ? 1 == this.coord_mode ? this.initial = this.inst.x + "," + this.inst.y : this.initial = this.tweenSaveX + "," + this.tweenSaveY : this.reverse || 1 != this.playmode && (this.inst.x = parseFloat(this.initial.split(",")[0]),
                    this.inst.y = parseFloat(this.initial.split(",")[1])),
                    1 == this.coord_mode ? (this.loop && (this.inst.x = this.tweenSaveX,
                    this.inst.y = this.tweenSaveY),
                    this.initialX = this.inst.x,
                    this.initialY = this.inst.y,
                    this.reverse ? (this.targetX = -parseFloat(this.target.split(",")[0]),
                    this.targetY = -parseFloat(this.target.split(",")[1])) : (this.targetX = parseFloat(this.target.split(",")[0]),
                    this.targetY = parseFloat(this.target.split(",")[1])),
                    this.tweenInitialX = this.initialX,
                    this.tweenInitialY = this.initialY,
                    this.tweenTargetX = this.tweenInitialX + this.targetX,
                    this.tweenTargetY = this.tweenInitialY + this.targetY) : (this.reverse ? (this.inst.x = parseFloat(this.target.split(",")[0]),
                    this.inst.y = parseFloat(this.target.split(",")[1]),
                    this.targetX = this.tweenSaveX,
                    this.targetY = this.tweenSaveY) : (this.inst.x = this.tweenSaveX,
                    this.inst.y = this.tweenSaveY,
                    this.targetX = parseFloat(this.target.split(",")[0]),
                    this.targetY = parseFloat(this.target.split(",")[1])),
                    this.initialX = this.inst.x,
                    this.initialY = this.inst.y,
                    this.tweenInitialX = this.initialX,
                    this.tweenInitialY = this.initialY,
                    this.tweenTargetX = this.targetX,
                    this.tweenTargetY = this.targetY,
                    -6 == this.playmode && (this.tweenTargetX = this.tweenSaveX,
                    this.tweenTargetY = this.tweenSaveY))) : 1 == this.tweened || 2 == this.tweened || 3 == this.tweened ? (r && (this.target = "1,1"),
                    "current" == this.initial && (this.initial = "1,1"),
                    this.initial = "" + this.initial,
                    this.target = "" + this.target,
                    2 == this.tweened ? (-1 == this.initial.indexOf(",") && (this.initial = parseFloat(this.initial) + ",1"),
                    -1 == this.target.indexOf(",") && (this.target = parseFloat(this.target) + ",1")) : 3 == this.tweened ? (-1 == this.initial.indexOf(",") && (this.initial = "1," + parseFloat(this.initial)),
                    -1 == this.target.indexOf(",") && (this.target = "1," + parseFloat(this.target))) : (-1 == this.initial.indexOf(",") && (this.initial = parseFloat(this.initial) + "," + parseFloat(this.initial)),
                    -1 == this.target.indexOf(",") && (this.target = parseFloat(this.target) + "," + parseFloat(this.target))),
                    t = parseFloat(this.initial.split(",")[0]),
                    e = parseFloat(this.initial.split(",")[1]),
                    this.doTweenX = !0,
                    0 != (i = parseFloat(this.target.split(",")[0])) && !isNaN(i) || (this.doTweenX = !1),
                    3 == this.tweened && (this.doTweenX = !1),
                    this.doTweenY = !0,
                    0 != (s = parseFloat(this.target.split(",")[1])) && !isNaN(s) || (this.doTweenY = !1),
                    2 == this.tweened && (this.doTweenY = !1),
                    1 == this.coord_mode ? (this.loop && (this.inst.width = this.tweenSaveWidth,
                    this.inst.height = this.tweenSaveHeight),
                    n || (this.reverse ? (this.inst.width = this.inst.width * i,
                    this.inst.height = this.inst.height * s) : (this.inst.width = this.inst.width * t,
                    this.inst.height = this.inst.height * e)),
                    this.initialX = this.inst.width,
                    this.initialY = this.inst.height,
                    this.tweenInitialX = this.initialX,
                    this.tweenInitialY = this.initialY,
                    this.reverse ? (this.targetX = this.initialX * t / i,
                    this.targetY = this.initialY * e / s) : (this.targetX = this.initialX * i,
                    this.targetY = this.initialY * s)) : (n || (this.reverse ? (this.inst.width = this.tweenSaveWidth * i,
                    this.inst.height = this.tweenSaveHeight * s) : (this.inst.width = this.tweenSaveWidth * t,
                    this.inst.height = this.tweenSaveHeight * e)),
                    this.initialX = this.inst.width,
                    this.initialY = this.inst.height,
                    this.tweenInitialX = this.initialX,
                    this.tweenInitialY = this.initialY,
                    this.reverse ? (this.targetX = this.tweenSaveWidth * t,
                    this.targetY = this.tweenSaveHeight * e) : (this.targetX = this.tweenSaveWidth * i,
                    this.targetY = this.tweenSaveHeight * s)),
                    this.tweenTargetX = this.targetX,
                    this.tweenTargetY = this.targetY,
                    -6 == this.playmode && (this.tweenTargetX = this.tweenSaveWidth * t,
                    this.tweenTargetY = this.tweenSaveHeight * e)) : 4 == this.tweened ? (r && (this.target = cr.to_degrees(this.inst.angle)),
                    "current" != this.initial && (this.reverse || 1 != this.playmode && (this.inst.angle = cr.to_radians(parseFloat(this.initial.split(",")[0])))),
                    1 == this.coord_mode ? (this.loop && (this.inst.angle = this.tweenSaveAngle),
                    this.initialX = this.inst.angle,
                    this.reverse ? this.targetX = this.inst.angle - cr.to_radians(parseFloat(this.target.split(",")[0])) : this.targetX = this.inst.angle + cr.to_radians(parseFloat(this.target.split(",")[0]))) : this.reverse ? (this.inst.angle = cr.to_radians(parseFloat(this.target.split(",")[0])),
                    this.initialX = this.inst.angle,
                    this.targetX = this.tweenSaveAngle) : (this.inst.angle = this.tweenSaveAngle,
                    this.initialX = this.inst.angle,
                    this.targetX = cr.to_radians(parseFloat(this.target.split(",")[0]))),
                    this.tweenInitialX = this.initialX,
                    this.tweenTargetX = cr.to_degrees(this.targetX),
                    -6 == this.playmode && (this.tweenTargetX = cr.to_degrees(this.tweenSaveAngle)),
                    this.tweenTargetAngle = cr.to_radians(this.tweenTargetX)) : 5 == this.tweened ? ("current" == this.initial && (this.initial = this.inst.opacity),
                    r && (this.target = "" + this.inst.opacity),
                    n || this.reverse || 1 != this.playmode && (this.inst.opacity = parseFloat(this.initial.split(",")[0]) / 100),
                    1 == this.coord_mode ? (this.loop && (this.inst.opacity = this.tweenSaveOpacity),
                    this.initialX = this.inst.opacity,
                    this.tweenInitialX = this.initialX,
                    this.reverse ? this.targetX = -parseFloat(this.target.split(",")[0]) / 100 : this.targetX = parseFloat(this.target.split(",")[0]) / 100,
                    this.tweenTargetX = this.tweenInitialX + this.targetX) : (this.initialX = this.inst.opacity,
                    this.reverse ? (this.tweenInitialX = parseFloat(this.target.split(",")[0]) / 100,
                    this.targetX = parseFloat(this.initial.split(",")[0]) / 100) : (this.tweenInitialX = this.initialX,
                    this.targetX = parseFloat(this.target.split(",")[0]) / 100),
                    this.tweenTargetX = this.targetX),
                    -6 == this.playmode && (this.tweenTargetX = this.tweenSaveOpacity)) : 6 == this.tweened ? (isNaN(this.value) && (this.value = 0),
                    "current" == this.initial && (this.initial = "" + this.value),
                    r && (this.target = "" + this.value),
                    n || this.reverse || 1 != this.playmode && (this.value = parseFloat(this.initial.split(",")[0])),
                    1 == this.coord_mode ? (this.loop && (this.value = this.tweenSaveValue),
                    n || (this.reverse ? this.value = parseFloat(this.target.split(",")[0]) : this.value = parseFloat(this.initial.split(",")[0])),
                    this.initialX = this.value,
                    this.reverse ? this.targetX = this.initialX - parseFloat(this.target.split(",")[0]) : this.targetX = this.initialX + parseFloat(this.target.split(",")[0])) : (n || (this.reverse ? this.value = parseFloat(this.target.split(",")[0]) : this.value = parseFloat(this.initial.split(",")[0])),
                    this.initialX = this.value,
                    this.reverse ? this.targetX = parseFloat(this.initial.split(",")[0]) : this.targetX = parseFloat(this.target.split(",")[0])),
                    this.tweenInitialX = this.initialX,
                    this.tweenTargetX = this.targetX,
                    -6 == this.playmode && (this.tweenTargetX = this.tweenSaveValue)) : 7 == this.tweened && (r && (this.target = this.inst.width + "," + this.inst.height),
                    "current" != this.initial && (this.reverse || 1 != this.playmode && (this.inst.width = parseFloat(this.initial.split(",")[0]),
                    this.inst.height = parseFloat(this.initial.split(",")[1]))),
                    this.doTweenX = !0,
                    ((i = parseFloat(this.target.split(",")[0])) < 0 || isNaN(i)) && (this.doTweenX = !1),
                    this.doTweenY = !0,
                    ((s = parseFloat(this.target.split(",")[1])) < 0 || isNaN(s)) && (this.doTweenY = !1),
                    1 == this.coord_mode ? (this.loop && (this.inst.width = this.tweenSaveWidth,
                    this.inst.height = this.tweenSaveHeight),
                    this.initialX = this.inst.width,
                    this.initialY = this.inst.height,
                    this.reverse ? (this.targetX = this.initialX - parseFloat(this.target.split(",")[0]),
                    this.targetY = this.initialY - parseFloat(this.target.split(",")[1])) : (this.targetX = this.initialX + parseFloat(this.target.split(",")[0]),
                    this.targetY = this.initialY + parseFloat(this.target.split(",")[1]))) : (n || (this.reverse ? (this.inst.width = parseFloat(this.target.split(",")[0]),
                    this.inst.height = parseFloat(this.target.split(",")[1])) : (this.inst.width = this.tweenSaveWidth,
                    this.inst.height = this.tweenSaveHeight)),
                    this.initialX = this.inst.width,
                    this.initialY = this.inst.height,
                    this.reverse ? (this.targetX = this.tweenSaveWidth,
                    this.targetY = this.tweenSaveHeight) : (this.targetX = parseFloat(this.target.split(",")[0]),
                    this.targetY = parseFloat(this.target.split(",")[1]))),
                    this.tweenInitialX = this.initialX,
                    this.tweenInitialY = this.initialY,
                    this.tweenTargetX = this.targetX,
                    this.tweenTargetY = this.targetY,
                    -6 == this.playmode && (this.tweenTargetX = this.tweenSaveWidth,
                    this.tweenTargetY = this.tweenSaveHeight)),
                    this.lastKnownValue = this.tweenInitialX,
                    this.lastKnownX = this.tweenInitialX,
                    this.lastKnownY = this.tweenInitialY,
                    this.initiating = parseFloat(this.wait.split(",")[0]),
                    this.cooldown = parseFloat(this.wait.split(",")[1]),
                    (this.initiating < 0 || isNaN(this.initiating)) && (this.initiating = 0),
                    (this.cooldown < 0 || isNaN(this.cooldown)) && (this.cooldown = 0),
                    n && (this.initial = "current"),
                    r && (this.target = "current"),
                    o && (this.target = "OBJ")
                }
                ,
                e.easeFunc = function(t, e, i, s) {
                    switch (this.easing) {
                    case 0:
                        return i * t / s + e;
                    case 1:
                        return i * (t /= s) * t + e;
                    case 2:
                        return -i * (t /= s) * (t - 2) + e;
                    case 3:
                        return (t /= s / 2) < 1 ? i / 2 * t * t + e : -i / 2 * (--t * (t - 2) - 1) + e;
                    case 4:
                        return i * (t /= s) * t * t + e;
                    case 5:
                        return i * ((t = t / s - 1) * t * t + 1) + e;
                    case 6:
                        return (t /= s / 2) < 1 ? i / 2 * t * t * t + e : i / 2 * ((t -= 2) * t * t + 2) + e;
                    case 7:
                        return i * (t /= s) * t * t * t + e;
                    case 8:
                        return -i * ((t = t / s - 1) * t * t * t - 1) + e;
                    case 9:
                        return (t /= s / 2) < 1 ? i / 2 * t * t * t * t + e : -i / 2 * ((t -= 2) * t * t * t - 2) + e;
                    case 10:
                        return i * (t /= s) * t * t * t * t + e;
                    case 11:
                        return i * ((t = t / s - 1) * t * t * t * t + 1) + e;
                    case 12:
                        return (t /= s / 2) < 1 ? i / 2 * t * t * t * t * t + e : i / 2 * ((t -= 2) * t * t * t * t + 2) + e;
                    case 13:
                        return -i * (Math.sqrt(1 - (t /= s) * t) - 1) + e;
                    case 14:
                        return i * Math.sqrt(1 - (t = t / s - 1) * t) + e;
                    case 15:
                        return (t /= s / 2) < 1 ? -i / 2 * (Math.sqrt(1 - t * t) - 1) + e : i / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + e;
                    case 16:
                        return 0 == (o = 0) && (o = 1.70158),
                        i * (t /= s) * t * ((o + 1) * t - o) + e;
                    case 17:
                        return 0 == (o = 0) && (o = 1.70158),
                        i * ((t = t / s - 1) * t * ((o + 1) * t + o) + 1) + e;
                    case 18:
                        return 0 == (o = 0) && (o = 1.70158),
                        (t /= s / 2) < 1 ? i / 2 * (t * t * ((1 + (o *= 1.525)) * t - o)) + e : i / 2 * ((t -= 2) * t * ((1 + (o *= 1.525)) * t + o) + 2) + e;
                    case 19:
                        return 0 == t ? e : 1 == (t /= s) ? e + i : (0 == (r = 0) && (r = .3 * s),
                        o = 0 == (n = 0) || n < Math.abs(i) ? (n = i,
                        r / 4) : r / (2 * Math.PI) * Math.asin(i / n),
                        -(n * Math.pow(2, 10 * --t) * Math.sin((t * s - o) * (2 * Math.PI) / r)) + e);
                    case 20:
                        return 0 == t ? e : 1 == (t /= s) ? e + i : (0 == (r = 0) && (r = .3 * s),
                        o = 0 == (n = 0) || n < Math.abs(i) ? (n = i,
                        r / 4) : r / (2 * Math.PI) * Math.asin(i / n),
                        n * Math.pow(2, -10 * t) * Math.sin((t * s - o) * (2 * Math.PI) / r) + i + e);
                    case 21:
                        var n, r, o;
                        return 0 == t ? e : 2 == (t /= s / 2) ? e + i : (0 == (r = 0) && (r = s * (.3 * 1.5)),
                        o = 0 == (n = 0) || n < Math.abs(i) ? (n = i,
                        r / 4) : r / (2 * Math.PI) * Math.asin(i / n),
                        t < 1 ? n * Math.pow(2, 10 * --t) * Math.sin((t * s - o) * (2 * Math.PI) / r) * -.5 + e : n * Math.pow(2, -10 * --t) * Math.sin((t * s - o) * (2 * Math.PI) / r) * .5 + i + e);
                    case 22:
                        return i - h(s - t, 0, i, s) + e;
                    case 23:
                        return h(t, e, i, s);
                    case 24:
                        return t < s / 2 ? .5 * (i - h(s - 2 * t, 0, i, s) + e) + e : .5 * h(2 * t - s, 0, i, s) + .5 * i + e;
                    case 25:
                        return (a = t / s / 2) * a * (3 - 2 * a) * 2;
                    case 26:
                        return (a = (t / s + 1) / 2) * a * (3 - 2 * a) * 2 - 1;
                    case 27:
                        var a;
                        return (a = t / s) * a * (3 - 2 * a)
                    }
                    return 0
                }
                ,
                e.saveToJSON = function() {
                    return {
                        i: this.i,
                        active: this.active,
                        tweened: this.tweened,
                        easing: this.easing,
                        initial: this.initial,
                        target: this.target,
                        duration: this.duration,
                        wait: this.wait,
                        playmode: this.playmode,
                        value: this.value,
                        coord_mode: this.coord_mode,
                        forceInit: this.forceInit,
                        group: this.group,
                        targetObject: this.targetObject,
                        pingpongCounter: this.pingpongCounter,
                        isPaused: this.isPaused,
                        initialX: this.initialX,
                        initialY: this.initialY,
                        targetX: this.targetX,
                        targetY: this.targetY,
                        tweenSaveWidth: this.tweenSaveWidth,
                        tweenSaveHeight: this.tweenSaveHeight,
                        tweenSaveAngle: this.tweenSaveAngle,
                        tweenSaveX: this.tweenSaveX,
                        tweenSaveY: this.tweenSaveY,
                        tweenSaveValue: this.tweenSaveValue,
                        tweenInitialX: this.tweenInitialX,
                        tweenInitialY: this.tweenInitialY,
                        tweenTargetX: this.tweenTargetX,
                        tweenTargetY: this.tweenTargetY,
                        tweenTargetAngle: this.tweenTargetAngle,
                        ratio: this.ratio,
                        reverse: this.reverse,
                        rewindMode: this.rewindMode,
                        doTweenX: this.doTweenX,
                        doTweenY: this.doTweenY,
                        loop: this.loop,
                        initiating: this.initiating,
                        cooldown: this.cooldown,
                        lastPlayMode: this.lastPlayMode,
                        lastKnownValue: this.lastKnownValue,
                        lastKnownX: this.lastKnownX,
                        lastKnownY: this.lastKnownY,
                        onStarted: this.onStarted,
                        onStartedDone: this.onStartedDone,
                        onWaitEnd: this.onWaitEnd,
                        onWaitEndDone: this.onWaitEndDone,
                        onEnd: this.onEnd,
                        onEndDone: this.onEndDone,
                        onCooldown: this.onCooldown,
                        onCooldownDone: this.onCooldownDone
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.i = t.i,
                    this.active = t.active,
                    this.tweened = t.tweened,
                    this.easing = t.easing,
                    this.initial = t.initial,
                    this.target = t.target,
                    this.duration = t.duration,
                    this.wait = t.wait,
                    this.playmode = t.playmode,
                    this.value = t.value,
                    this.coord_mode = t.coord_mode,
                    this.forceInit = t.forceInit,
                    this.group = t.group,
                    this.targetObject = t.targetObject,
                    this.pingpongCounter = t.pingpongCounter,
                    this.isPaused = t.isPaused,
                    this.initialX = t.initialX,
                    this.initialY = t.initialY,
                    this.targetX = t.targetX,
                    this.targetY = t.targetY,
                    this.tweenSaveWidth = t.tweenSaveWidth,
                    this.tweenSaveHeight = t.tweenSaveHeight,
                    this.tweenSaveAngle = t.tweenSaveAngle,
                    this.tweenSaveX = t.tweenSaveX,
                    this.tweenSaveY = t.tweenSaveY,
                    this.tweenSaveValue = t.tweenSaveValue,
                    this.tweenInitialX = t.tweenInitialX,
                    this.tweenInitialY = t.tweenInitialY,
                    this.tweenTargetX = t.tweenTargetX,
                    this.tweenTargetY = t.tweenTargetY,
                    this.tweenTargetAngle = t.tweenTargetAngle,
                    this.ratio = t.ratio,
                    this.reverse = t.reverse,
                    this.rewindMode = t.rewindMode,
                    this.doTweenX = t.doTweenX,
                    this.doTweenY = t.doTweenY,
                    this.loop = t.loop,
                    this.initiating = t.initiating,
                    this.cooldown = t.cooldown,
                    this.lastPlayMode = t.lastPlayMode,
                    this.lastKnownValue = t.lastKnownValue,
                    this.lastKnownX = t.lastKnownX,
                    this.lastKnownY = t.lastKnownY,
                    this.onStarted = t.onStarted,
                    this.onStartedDone = t.onStartedDone,
                    this.onWaitEnd = t.onWaitEnd,
                    this.onWaitEndDone = t.onWaitEndDone,
                    this.onEnd = t.onEnd,
                    this.onEndDone = t.onEndDone,
                    this.onCooldown = t.onCooldown,
                    this.onCooldownDone = t.onCooldownDone,
                    this.groupSync()
                }
                ,
                e.tick = function() {
                    var t, e = this.runtime.getDt(this.inst), i = -1 == this.i;
                    this.active && 0 !== e && (0 == this.i && (this.onStarted || (this.onStarted = !0,
                    this.onStartedDone = !1,
                    this.onWaitEnd = !1,
                    this.onWaitEndDone = !1,
                    this.onEnd = !1,
                    this.onEndDone = !1,
                    this.onCooldown = !1,
                    this.onCooldownDone = !1,
                    this.runtime.trigger(cr.behaviors.lunarray_Tween.prototype.cnds.OnStart, this.inst),
                    this.onStartedDone = !0)),
                    -1 == this.i ? this.i = this.initiating + this.duration + this.cooldown : this.i += e,
                    this.i <= this.initiating || (0 == this.onWaitEnd && (this.onWaitEnd = !0,
                    this.runtime.trigger(cr.behaviors.lunarray_Tween.prototype.cnds.OnWaitEnd, this.inst),
                    this.onWaitEndDone = !0),
                    this.i <= this.duration + this.initiating && (t = this.easeFunc(this.i - this.initiating, 0, 1, this.duration),
                    0 == this.tweened ? (1 == this.coord_mode ? (this.inst.x !== this.lastKnownX && (this.tweenInitialX += this.inst.x - this.lastKnownX,
                    this.tweenTargetX += this.inst.x - this.lastKnownX),
                    this.inst.y !== this.lastKnownY && (this.tweenInitialY += this.inst.y - this.lastKnownY,
                    this.tweenTargetY += this.inst.y - this.lastKnownY)) : (this.inst.x !== this.lastKnownX && (this.tweenInitialX += this.inst.x - this.lastKnownX),
                    this.inst.y !== this.lastKnownY && (this.tweenInitialY += this.inst.y - this.lastKnownY)),
                    this.inst.x = this.tweenInitialX + (this.tweenTargetX - this.tweenInitialX) * t,
                    this.inst.y = this.tweenInitialY + (this.tweenTargetY - this.tweenInitialY) * t,
                    this.lastKnownX = this.inst.x,
                    this.lastKnownY = this.inst.y) : 1 == this.tweened || 2 == this.tweened || 3 == this.tweened ? (this.inst.width !== this.lastKnownX && (this.tweenInitialX = this.inst.width),
                    this.inst.height !== this.lastKnownY && (this.tweenInitialY = this.inst.height),
                    this.doTweenX && (this.inst.width = this.tweenInitialX + (this.tweenTargetX - this.tweenInitialX) * t),
                    this.doTweenY ? this.inst.height = this.tweenInitialY + (this.tweenTargetY - this.tweenInitialY) * t : 1 == this.tweened && (this.inst.height = this.inst.width * this.ratio),
                    this.lastKnownX = this.inst.width,
                    this.lastKnownY = this.inst.height) : 4 == this.tweened ? (e = this.tweenInitialX + (this.tweenTargetAngle - this.tweenInitialX) * t,
                    this.i >= this.duration + this.initiating && (e = this.tweenTargetAngle),
                    this.inst.angle = cr.clamp_angle(e)) : 5 == this.tweened ? (1 == this.coord_mode && this.inst.opacity !== this.lastKnownX && (this.tweenInitialX = this.inst.opacity),
                    this.inst.opacity = this.tweenInitialX + (this.tweenTargetX - this.tweenInitialX) * t,
                    this.lastKnownX = this.inst.opacity) : 6 == this.tweened ? this.value = this.tweenInitialX + (this.tweenTargetX - this.tweenInitialX) * t : 7 == this.tweened && (1 == this.coord_mode && (this.inst.width !== this.lastKnownX && (this.tweenInitialX = this.inst.width),
                    this.inst.height !== this.lastKnownY && (this.tweenInitialY = this.inst.height)),
                    this.doTweenX && (this.inst.width = this.tweenInitialX + (this.tweenTargetX - this.tweenInitialX) * t),
                    this.doTweenY && (this.inst.height = this.tweenInitialY + (this.tweenTargetY - this.tweenInitialY) * t),
                    this.lastKnownX = this.inst.width,
                    this.lastKnownY = this.inst.height),
                    this.inst.set_bbox_changed()),
                    this.i >= this.duration + this.initiating && (this.doEndFrame(i),
                    this.inst.set_bbox_changed(),
                    0 == this.onEnd && (this.onEnd = !0,
                    this.runtime.trigger(cr.behaviors.lunarray_Tween.prototype.cnds.OnEnd, this.inst),
                    this.onEndDone = !0))))
                }
                ,
                e.doEndFrame = function(t) {
                    switch (this.tweened) {
                    case 0:
                        this.inst.x = this.tweenTargetX,
                        this.inst.y = this.tweenTargetY;
                        break;
                    case 1:
                        this.doTweenX && (this.inst.width = this.tweenTargetX),
                        this.doTweenY ? this.inst.height = this.tweenTargetY : this.inst.height = this.inst.width * this.ratio;
                        break;
                    case 2:
                        this.inst.width = this.tweenTargetX;
                        break;
                    case 3:
                        this.inst.height = this.tweenTargetY;
                        break;
                    case 4:
                        var e = this.tweenTargetAngle;
                        this.inst.angle = cr.clamp_angle(e),
                        this.lastKnownValue = this.inst.angle;
                        break;
                    case 5:
                        this.inst.opacity = this.tweenTargetX;
                        break;
                    case 6:
                        this.value = this.tweenTargetX;
                        break;
                    case 7:
                        this.doTweenX && (this.inst.width = this.tweenTargetX),
                        this.doTweenY && (this.inst.height = this.tweenTargetY)
                    }
                    this.i >= this.duration + this.initiating + this.cooldown && (0 == this.playmode ? (this.active = !1,
                    this.reverse = !1,
                    this.i = this.duration + this.initiating + this.cooldown) : 1 == this.playmode ? (this.i = 0,
                    this.init(),
                    this.active = !0) : 2 == this.playmode ? t ? (this.reverse = !1,
                    this.init()) : (this.reverse = !this.reverse,
                    this.i = 0,
                    this.init(),
                    this.active = !0) : 3 == this.playmode ? this.runtime.DestroyInstance(this.inst) : 4 == this.playmode ? (this.loop = !0,
                    this.i = 0,
                    this.init(),
                    this.active = !0) : 5 == this.playmode ? t ? (this.reverse = !1,
                    this.init()) : this.pingpongCounter <= 0 ? (this.i = this.duration + this.initiating + this.cooldown,
                    this.active = !1) : (this.reverse ? (--this.pingpongCounter,
                    this.reverse = !1) : (--this.pingpongCounter,
                    this.reverse = !0),
                    this.i = 0,
                    this.init(),
                    this.active = !0) : -6 == this.playmode ? (this.playmode = this.lastPlayMode,
                    this.reverse = !1,
                    this.i = 0,
                    this.active = !1) : 6 == this.playmode && (this.reverse = !1,
                    this.i = this.duration + this.initiating + this.cooldown,
                    this.active = !1)),
                    0 == this.onCooldown && (this.onCooldown = !0,
                    this.runtime.trigger(cr.behaviors.lunarray_Tween.prototype.cnds.OnCooldownEnd, this.inst),
                    this.onCooldownDone = !0)
                }
                ,
                t.cnds = {},
                (e = t.cnds).IsActive = function() {
                    return this.active
                }
                ,
                e.CompareGroupProgress = function(t, e) {
                    var i = [];
                    return cr.lunarray_tweenGroup[this.group].forEach(function(t) {
                        i.push(t.i / (t.duration + t.initiating + t.cooldown))
                    }),
                    cr.do_cmp(Math.min.apply(null, i), t, e)
                }
                ,
                e.CompareProgress = function(t, e) {
                    return cr.do_cmp(this.i / (this.duration + this.initiating + this.cooldown), t, e)
                }
                ,
                e.OnStart = function() {
                    if (!1 === this.onStartedDone)
                        return this.onStarted
                }
                ,
                e.OnWaitEnd = function() {
                    if (!1 === this.onWaitEndDone)
                        return this.onWaitEnd
                }
                ,
                e.OnEnd = function(t, e, i) {
                    if (!1 === this.onEndDone)
                        return this.onEnd
                }
                ,
                e.OnCooldownEnd = function() {
                    if (!1 === this.onCooldownDone)
                        return this.onCooldown
                }
                ,
                t.acts = {};
                var c = t.acts;
                c.SetActive = function(t) {
                    this.active = 1 === t
                }
                ,
                c.StartGroup = function(e, t) {
                    "" === t && (t = this.group),
                    1 !== e && !cr.lunarray_tweenGroup[t].every(function(t) {
                        return !t.active
                    }) || cr.lunarray_tweenGroup[t].forEach(function(t) {
                        (1 === e ? c.Force : c.Start).apply(t)
                    })
                }
                ,
                c.StopGroup = function(e, t) {
                    "" === t && (t = this.group),
                    cr.lunarray_tweenGroup[t].forEach(function(t) {
                        c.Stop.apply(t, [e])
                    })
                }
                ,
                c.ReverseGroup = function(e, i, t) {
                    "" === t && (t = this.group),
                    1 !== e && !cr.lunarray_tweenGroup[t].every(function(t) {
                        return !t.active
                    }) || cr.lunarray_tweenGroup[t].forEach(function(t) {
                        (1 === e ? c.ForceReverse : c.Reverse).apply(t, [i])
                    })
                }
                ,
                c.Force = function() {
                    this.loop = 4 === this.playmode,
                    5 == this.playmode && (this.pingpongCounter = 1),
                    6 == this.playmode || -6 == this.playmode ? this.i < this.duration + this.cooldown + this.initiating && (this.reverse = !1,
                    this.init(),
                    this.active = !0) : (this.reverse = !1,
                    this.i = 0,
                    this.init(),
                    this.active = !0)
                }
                ,
                c.ForceReverse = function(t) {
                    this.rewindMode = 1 == t,
                    this.loop = 4 === this.playmode,
                    5 == this.playmode && (this.pingpongCounter = 1),
                    6 == this.playmode || -6 == this.playmode ? this.i < this.duration + this.cooldown + this.initiating && (this.reverse = !0,
                    this.init(),
                    this.active = !0) : t ? 1 == this.pingpongCounter && this.i >= this.duration + this.cooldown + this.initiating && (this.reverse = !0,
                    this.i = 0,
                    this.pingpongCounter = 2,
                    this.init(),
                    this.active = !0) : (this.reverse = !0,
                    this.i = 0,
                    this.init(),
                    this.active = !0)
                }
                ,
                c.Start = function() {
                    this.active || (this.loop = 4 === this.playmode,
                    5 == this.playmode && (this.pingpongCounter = 1),
                    6 == this.playmode || -6 == this.playmode ? this.i < this.duration + this.cooldown + this.initiating && (this.reverse = !1,
                    this.init(),
                    this.active = !0) : (this.pingpongCounter = 1,
                    this.reverse = !1,
                    this.i = 0,
                    this.init(),
                    this.active = !0))
                }
                ,
                c.Stop = function(t) {
                    this.active && (2 == this.playmode || 4 == this.playmode ? this.reverse ? this.i = 0 : this.i = -1 : 1 == t ? this.saveState() : this.i = 0 == t ? this.initiating + this.cooldown + this.duration : 0,
                    this.tick(),
                    this.active = !1)
                }
                ,
                c.Pause = function() {
                    this.active && (this.isPaused = !0,
                    this.active = !1)
                }
                ,
                c.Resume = function() {
                    this.isPaused ? (this.active = !0,
                    this.isPaused = !1) : this.active || (this.reverse = !1,
                    this.i = 0,
                    this.init(),
                    this.active = !0)
                }
                ,
                c.Reverse = function(t) {
                    this.rewindMode = 1 == t,
                    this.active || (this.loop = 4 === this.playmode,
                    5 == this.playmode && (this.pingpongCounter = 1),
                    6 == this.playmode || -6 == this.playmode ? this.i < this.duration + this.cooldown + this.initiating && (this.reverse = !0,
                    this.init(),
                    this.active = !0) : t ? 1 == this.pingpongCounter && this.i >= this.duration + this.cooldown + this.initiating && (this.reverse = !0,
                    this.i = 0,
                    this.pingpongCounter = 2,
                    this.init(),
                    this.active = !0) : (this.reverse = !0,
                    this.i = 0,
                    this.init(),
                    this.active = !0))
                }
                ,
                c.SetDuration = function(t) {
                    this.duration = t
                }
                ,
                c.SetWait = function(t) {
                    this.wait = t,
                    this.initiating = parseFloat(this.wait.split(",")[0]),
                    this.cooldown = parseFloat(this.wait.split(",")[1]),
                    (this.initiating < 0 || isNaN(this.initiating)) && (this.initiating = 0),
                    (this.cooldown < 0 || isNaN(this.cooldown)) && (this.cooldown = 0)
                }
                ,
                c.SetTarget = function(t) {
                    "string" == typeof t ? (this.target = t,
                    this.targetX = parseFloat(t.split(",")[0]),
                    this.targetY = parseFloat(t.split(",")[1])) : (this.target = t,
                    this.targetX = t),
                    this.active || this.init()
                }
                ,
                c.SetTargetObject = function(t) {
                    !t || (t = t.getFirstPicked()) && (this.targetObject = t,
                    this.target = "OBJ")
                }
                ,
                c.SetTargetX = function(t) {
                    var e;
                    2 == this.tweened || 3 == this.tweened || 4 == this.tweened || 5 == this.tweened || 6 == this.tweened ? (this.target = "string" == typeof t ? parseFloat(t.split(",")[0]) : t + "," + this.targetY,
                    this.targetX = this.target) : (e = this.target.split(",")[1],
                    this.target = String(t) + "," + e,
                    this.targetX = parseFloat(this.target.split(",")[0]),
                    this.targetY = parseFloat(this.target.split(",")[1])),
                    this.active || (this.saveState(),
                    this.init())
                }
                ,
                c.SetTargetY = function(t) {
                    var e;
                    2 == this.tweened || 3 == this.tweened || 4 == this.tweened || 5 == this.tweened || 6 == this.tweened ? (this.target = "string" == typeof t ? parseFloat(t) + "" : this.targetX + "," + t,
                    this.targetX = this.target) : (e = this.target.split(",")[0],
                    this.target = e + "," + String(t),
                    this.targetX = parseFloat(this.target.split(",")[0]),
                    this.targetY = parseFloat(this.target.split(",")[1])),
                    this.active || (this.saveState(),
                    this.init())
                }
                ,
                c.SetInitial = function(t) {
                    "string" == typeof t ? (this.initial = t,
                    this.initialX = parseFloat(t.split(",")[0]),
                    this.initialY = parseFloat(t.split(",")[1])) : (this.initial = "" + t,
                    this.initialX = t),
                    6 == this.tweened && (this.value = this.initialX),
                    this.active || (this.saveState(),
                    this.init())
                }
                ,
                c.SetInitialX = function(t) {
                    var e;
                    2 == this.tweened || 3 == this.tweened || 4 == this.tweened || 5 == this.tweened || 6 == this.tweened ? (this.initial = "string" == typeof t ? parseFloat(t) : t + "," + this.initialY,
                    this.initialX = this.initial) : ("" == this.initial && (this.initial = "current"),
                    e = "current" == this.initial ? this.tweenSaveY : this.initial.split(",")[1],
                    this.initial = String(t) + "," + e,
                    this.initialX = parseFloat(this.initial.split(",")[0]),
                    this.initialY = parseFloat(this.initial.split(",")[1])),
                    6 == this.tweened && (this.value = this.initialX),
                    this.active || (this.saveState(),
                    this.init())
                }
                ,
                c.SetInitialY = function(t) {
                    var e;
                    2 == this.tweened || 3 == this.tweened || 4 == this.tweened || 5 == this.tweened || 6 == this.tweened ? (this.initial = "string" == typeof t ? parseFloat(t) : this.initialX + "," + t,
                    this.initialX = this.initial) : ("" == this.initial && (this.initial = "current"),
                    e = "current" == this.initial ? this.tweenSaveX : this.initial.split(",")[0],
                    this.initial = e + "," + String(t),
                    this.initialX = parseFloat(this.initial.split(",")[0]),
                    this.initialY = parseFloat(this.initial.split(",")[1])),
                    this.active || (this.saveState(),
                    this.init())
                }
                ,
                c.SetValue = function(t) {
                    this.value = t
                }
                ,
                c.SetTweenedProperty = function(t) {
                    this.tweened = t
                }
                ,
                c.SetEasing = function(t) {
                    this.easing = t
                }
                ,
                c.SetPlayback = function(t) {
                    this.playmode = t
                }
                ,
                c.SetParameter = function(t, e, i, s, n, r, o, a) {
                    this.tweened = t,
                    this.playmode = e,
                    this.easing = i,
                    c.SetInitial.apply(this, [s]),
                    c.SetTarget.apply(this, [n]),
                    c.SetDuration.apply(this, [r]),
                    c.SetWait.apply(this, [o]),
                    this.coord_mode = a,
                    this.saveState()
                }
                ,
                t.exps = {},
                (t = t.exps).Progress = function(t) {
                    t.set_float(this.i / (this.duration + this.initiating + this.cooldown))
                }
                ,
                t.ProgressTime = function(t) {
                    t.set_float(this.i)
                }
                ,
                t.Duration = function(t) {
                    t.set_float(this.duration)
                }
                ,
                t.Initiating = function(t) {
                    t.set_float(this.initiating)
                }
                ,
                t.Cooldown = function(t) {
                    t.set_float(this.cooldown)
                }
                ,
                t.Target = function(t) {
                    t.set_string(this.target)
                }
                ,
                t.Value = function(t) {
                    t.set_float(this.value)
                }
                ,
                t.isPaused = function(t) {
                    t.set_int(this.isPaused ? 1 : 0)
                }
            }(),
            cr.behaviors.scrollto = function(t) {
                this.runtime = t,
                this.shakeMag = 0,
                this.shakeStart = 0,
                this.shakeEnd = 0,
                this.shakeMode = 0
            }
            ,
            function() {
                var t = cr.behaviors.scrollto.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                e.onCreate = function() {
                    this.enabled = 0 !== this.properties[0]
                }
                ,
                e.saveToJSON = function() {
                    return {
                        smg: this.behavior.shakeMag,
                        ss: this.behavior.shakeStart,
                        se: this.behavior.shakeEnd,
                        smd: this.behavior.shakeMode
                    }
                }
                ,
                e.loadFromJSON = function(t) {
                    this.behavior.shakeMag = t.smg,
                    this.behavior.shakeStart = t.ss,
                    this.behavior.shakeEnd = t.se,
                    this.behavior.shakeMode = t.smd
                }
                ,
                e.tick = function() {}
                ,
                e.tick2 = function() {
                    if (this.enabled) {
                        for (var t, e = this.behavior.my_instances.valuesRef(), i = 0, s = 0, n = 0, r = 0, o = e.length; r < o; r++)
                            (t = function(t) {
                                for (var e, i = 0, s = t.behavior_insts.length; i < s; ++i)
                                    if ((e = t.behavior_insts[i]).behavior instanceof cr.behaviors.scrollto)
                                        return e;
                                return null
                            }(e[r])) && t.enabled && (i += e[r].x,
                            s += e[r].y,
                            ++n);
                        var a, h = this.inst.layer.layout, c = this.runtime.kahanTime.sum, l = 0, u = 0;
                        c >= this.behavior.shakeStart && c < this.behavior.shakeEnd && (a = this.behavior.shakeMag * Math.min(this.runtime.timescale, 1),
                        0 === this.behavior.shakeMode && (a *= 1 - (c - this.behavior.shakeStart) / (this.behavior.shakeEnd - this.behavior.shakeStart)),
                        c = Math.random() * Math.PI * 2,
                        a = Math.random() * a,
                        l = Math.cos(c) * a,
                        u = Math.sin(c) * a),
                        h.scrollToX(i / n + l),
                        h.scrollToY(s / n + u)
                    }
                }
                ,
                i.prototype.Shake = function(t, e, i) {
                    this.behavior.shakeMag = t,
                    this.behavior.shakeStart = this.runtime.kahanTime.sum,
                    this.behavior.shakeEnd = this.behavior.shakeStart + e,
                    this.behavior.shakeMode = i
                }
                ,
                i.prototype.SetEnabled = function(t) {
                    this.enabled = 0 !== t
                }
                ,
                t.acts = new i
            }(),
            cr.behaviors.shadowcaster = function(t) {
                this.runtime = t,
                this.myTypes = []
            }
            ,
            function() {
                var t = cr.behaviors.shadowcaster.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime,
                    -1 === this.behavior.myTypes.indexOf(e) && this.behavior.myTypes.push(e)
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                function n() {}
                e.onCreate = function() {
                    this.inst.extra.shadowcasterEnabled = 0 !== this.properties[0],
                    this.inst.extra.shadowcasterHeight = this.properties[1],
                    this.inst.extra.shadowcasterTag = this.properties[2]
                }
                ,
                e.tick = function() {}
                ,
                i.prototype.IsEnabled = function() {
                    return this.inst.extra.shadowcasterEnabled
                }
                ,
                i.prototype.CompareHeight = function(t, e) {
                    var i = this.inst.extra.shadowcasterHeight;
                    return cr.do_cmp(i, t, e)
                }
                ,
                t.cnds = new i,
                s.prototype.SetEnabled = function(t) {
                    this.inst.extra.shadowcasterEnabled = !!t
                }
                ,
                s.prototype.SetHeight = function(t) {
                    this.inst.extra.shadowcasterHeight !== t && (this.inst.extra.shadowcasterHeight = t,
                    this.runtime.redraw = !0)
                }
                ,
                s.prototype.SetTag = function(t) {
                    this.inst.extra.shadowcasterTag !== t && (this.inst.extra.shadowcasterTag = t,
                    this.runtime.redraw = !0)
                }
                ,
                t.acts = new s,
                n.prototype.Height = function(t) {
                    t.set_float(this.inst.extra.shadowcasterHeight)
                }
                ,
                n.prototype.Tag = function(t) {
                    t.set_string(this.inst.extra.shadowcasterTag)
                }
                ,
                t.exps = new n
            }(),
            cr.behaviors.solid = function(t) {
                this.runtime = t
            }
            ,
            function() {
                var t = cr.behaviors.solid.prototype;
                t.Type = function(t, e) {
                    this.behavior = t,
                    this.objtype = e,
                    this.runtime = t.runtime
                }
                ,
                t.Type.prototype.onCreate = function() {}
                ,
                t.Instance = function(t, e) {
                    this.type = t,
                    this.behavior = t.behavior,
                    this.inst = e,
                    this.runtime = t.runtime
                }
                ;
                var e = t.Instance.prototype;
                function i() {}
                function s() {}
                e.onCreate = function() {
                    this.inst.extra.solidEnabled = 0 !== this.properties[0]
                }
                ,
                e.tick = function() {}
                ,
                i.prototype.IsEnabled = function() {
                    return this.inst.extra.solidEnabled
                }
                ,
                t.cnds = new i,
                s.prototype.SetEnabled = function(t) {
                    this.inst.extra.solidEnabled = !!t
                }
                ,
                t.acts = new s
            }(),
            cr.getObjectRefTable = function() {
                return [cr.plugins_.NinePatch, cr.plugins_.AJAX, cr.plugins_.Audio, cr.plugins_.Arr, cr.plugins_.Function, cr.plugins_.Browser, cr.plugins_.Button, cr.plugins_.filechooser, cr.plugins_.Keyboard, cr.plugins_.gamepad, cr.plugins_.NodeWebkit, cr.plugins_.Mouse, cr.plugins_.LocalStorage, cr.plugins_.Touch, cr.plugins_.TextBox, cr.plugins_.Particles, cr.plugins_.aekiro_model, cr.plugins_.aekiro_proui2, cr.plugins_.TiledBg, cr.plugins_.Sprite, cr.plugins_.Text, cr.plugins_.c2canvas, cr.plugins_.GameAnalytics, cr.plugins_.Globals, cr.plugins_.CSS_import, cr.plugins_.hmmg_layoutTransition_v2, cr.plugins_.jcw_trace, cr.plugins_.JSON, cr.plugins_.HTML_Div_Pode, cr.plugins_.MagiCam, cr.plugins_.rojoPaster, cr.plugins_.sirg_notifications, cr.plugins_.TR_ClockParser, cr.plugins_.skymen_minifunctioncallback, cr.plugins_.skymen_siteLock, cr.plugins_.SkymenSFPlusPLus, cr.plugins_.skymen_skinsCore, cr.plugins_.TextModded, cr.plugins_.SyncStorage, cr.plugins_.TR_AdBlockDetector, cr.plugins_.ValerypopoffJSPlugin, cr.plugins_.skymenhowlerjs, cr.behaviors.Platform, cr.behaviors.Timer, cr.behaviors.Rex_pushOutSolid, cr.behaviors.LOS, cr.behaviors.jumpthru, cr.behaviors.solid, cr.behaviors.Persist, cr.behaviors.Rex_Zigzag, cr.behaviors.SkymenPolarCoordinates, cr.behaviors.shadowcaster, cr.behaviors.Bullet, cr.behaviors.Turret, cr.behaviors.Fade, cr.behaviors.Anchor, cr.behaviors.aekiro_button, cr.behaviors.aekiro_tag, cr.behaviors.aekiro_gameobject2, cr.behaviors.Sin, cr.behaviors.aekiro_bind, cr.behaviors.aekiro_gridView, cr.behaviors.aekiro_modelB, cr.behaviors.aekiro_scrollView, cr.behaviors.aekiro_dialog, cr.behaviors.aekiro_checkbox, cr.behaviors.aekiro_sliderbar, cr.behaviors.lunarray_Tween, cr.behaviors.scrollto, cr.behaviors.lunarray_LiteTween, cr.behaviors.SkymenSkin, cr.behaviors.SkymenPin, cr.system_object.prototype.cnds.IsGroupActive, cr.plugins_.Sprite.prototype.cnds.CompareInstanceVar, cr.behaviors.solid.prototype.acts.SetEnabled, cr.system_object.prototype.cnds.Else, cr.plugins_.Sprite.prototype.cnds.IsOverlapping, cr.plugins_.Sprite.prototype.cnds.IsBoolInstanceVarSet, cr.plugins_.Sprite.prototype.acts.AddInstanceVar, cr.system_object.prototype.exps.dt, cr.plugins_.Function.prototype.acts.CallFunction, cr.plugins_.Sprite.prototype.acts.Destroy, cr.plugins_.Sprite.prototype.acts.SetInstanceVar, cr.plugins_.Sprite.prototype.cnds.OnCollision, cr.behaviors.Platform.prototype.acts.SetVectorY, cr.behaviors.Platform.prototype.exps.Gravity, cr.system_object.prototype.exps.sin, cr.plugins_.Sprite.prototype.exps.Angle, cr.behaviors.Platform.prototype.acts.SetMaxSpeed, cr.system_object.prototype.exps.max, cr.system_object.prototype.exps.cos, cr.behaviors.Platform.prototype.acts.SetVectorX, cr.behaviors.Platform.prototype.exps.VectorX, cr.plugins_.skymenhowlerjs.prototype.acts.Play, cr.behaviors.Platform.prototype.acts.SetDeceleration, cr.behaviors.Bullet.prototype.acts.SetAngleOfMotion, cr.behaviors.Bullet.prototype.acts.SetSpeed, cr.behaviors.Bullet.prototype.exps.Gravity, cr.system_object.prototype.cnds.OnLayoutStart, cr.system_object.prototype.acts.Wait, cr.system_object.prototype.cnds.CompareVar, cr.system_object.prototype.acts.SetVar, cr.system_object.prototype.cnds.TriggerOnce, cr.plugins_.GameAnalytics.prototype.acts.addProgressionEvent, cr.system_object.prototype.exps.layoutname, cr.system_object.prototype.exps.int, cr.system_object.prototype.exps.tokenat, cr.plugins_.Globals.prototype.cnds.IsBoolInstanceVarSet, cr.plugins_.Globals.prototype.cnds.CompareInstanceVar, cr.system_object.prototype.cnds.IsPreview, cr.system_object.prototype.cnds.IsOnPlatform, cr.plugins_.SyncStorage.prototype.acts.SetData, cr.plugins_.SyncStorage.prototype.exps.Get, cr.plugins_.SyncStorage.prototype.acts.SaveData, cr.plugins_.Sprite.prototype.acts.SetBoolInstanceVar, cr.plugins_.Sprite.prototype.acts.SetAnimFrame, cr.plugins_.Sprite.prototype.cnds.IsVisible, cr.system_object.prototype.cnds.ForEach, cr.behaviors.SkymenPin.prototype.acts.Pin, cr.behaviors.Rex_Zigzag.prototype.acts.Start, cr.plugins_.Sprite.prototype.acts.SetPos, cr.plugins_.Sprite.prototype.exps.X, cr.plugins_.Sprite.prototype.exps.Y, cr.plugins_.Sprite.prototype.acts.SetAngle, cr.plugins_.Sprite.prototype.exps.UID, cr.system_object.prototype.cnds.PickAll, cr.plugins_.Sprite.prototype.cnds.PickByUID, cr.system_object.prototype.cnds.Compare, cr.behaviors.Rex_Zigzag.prototype.acts.SetAbsolute, cr.behaviors.SkymenPolarCoordinates.prototype.acts.SetEnabled, cr.plugins_.Sprite.prototype.cnds.PickInstVarHiLow, cr.behaviors.SkymenPolarCoordinates.prototype.acts.SetOriginPos, cr.system_object.prototype.exps.distance, cr.system_object.prototype.exps.angle, cr.behaviors.SkymenPolarCoordinates.prototype.acts.SetDeltaPos, cr.behaviors.Rex_Zigzag.prototype.exps.OffX, cr.behaviors.Rex_Zigzag.prototype.exps.OffY, cr.behaviors.Rex_Zigzag.prototype.exps.OffAngle, cr.behaviors.jumpthru.prototype.acts.SetEnabled, cr.behaviors.Turret.prototype.acts.AddTarget, cr.behaviors.Turret.prototype.cnds.OnShoot, cr.plugins_.Sprite.prototype.acts.Spawn, cr.plugins_.Sprite.prototype.exps.LayerName, cr.behaviors.Bullet.prototype.exps.Speed, cr.behaviors.LOS.prototype.cnds.HasLOSToObject, cr.behaviors.Turret.prototype.acts.SetEnabled, cr.system_object.prototype.cnds.EveryTick, cr.plugins_.Sprite.prototype.acts.RotateTowardPosition, cr.plugins_.Sprite.prototype.cnds.OnDestroyed, cr.plugins_.SyncStorage.prototype.cnds.HasData, cr.plugins_.Sprite.prototype.acts.SetOpacity, cr.behaviors.Bullet.prototype.cnds.CompareTravelled, cr.behaviors.Bullet.prototype.acts.SetEnabled, cr.behaviors.Fade.prototype.acts.StartFade, cr.system_object.prototype.cnds.PickByComparison, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetText, cr.plugins_.Sprite.prototype.acts.SetMirrored, cr.plugins_.Sprite.prototype.cnds.IsOverlappingOffset, cr.behaviors.Platform.prototype.exps.VectorY, cr.plugins_.Sprite.prototype.cnds.PickDistance, cr.plugins_.Function.prototype.exps.Call, cr.plugins_.Sprite.prototype.acts.SetCollisions, cr.behaviors.Platform.prototype.exps.Speed, cr.behaviors.Platform.prototype.exps.MovingAngle, cr.plugins_.Sprite.prototype.exps.ImagePointX, cr.plugins_.Sprite.prototype.exps.ImagePointY, cr.plugins_.Sprite.prototype.acts.SetY, cr.behaviors.Bullet.prototype.exps.AngleOfMotion, cr.plugins_.Sprite.prototype.cnds.IsCollisionEnabled, cr.plugins_.Function.prototype.cnds.OnFunction, cr.plugins_.Function.prototype.exps.Param, cr.plugins_.Function.prototype.acts.SetReturnValue, cr.behaviors.Timer.prototype.cnds.OnTimer, cr.behaviors.Platform.prototype.exps.GravityAngle, cr.behaviors.Platform.prototype.acts.SetGravityAngle, cr.plugins_.TiledBg.prototype.exps.Angle, cr.system_object.prototype.exps.anglediff, cr.behaviors.Timer.prototype.acts.StartTimer, cr.plugins_.Sprite.prototype.acts.SetSize, cr.plugins_.Sprite.prototype.acts.SetTowardPosition, cr.system_object.prototype.cnds.ForEachOrdered, cr.plugins_.Sprite.prototype.acts.ZMoveToObject, cr.behaviors.SkymenSkin.prototype.acts.UseDefault, cr.behaviors.SkymenSkin.prototype.acts.SetSkin, cr.behaviors.SkymenSkin.prototype.acts.HideDefault, cr.plugins_.Sprite.prototype.exps.Width, cr.plugins_.Sprite.prototype.exps.ImageWidth, cr.plugins_.Sprite.prototype.exps.Height, cr.plugins_.Sprite.prototype.exps.ImageHeight, cr.system_object.prototype.exps.find, cr.plugins_.MagiCam.prototype.acts.CreateLocalCamera, cr.plugins_.MagiCam.prototype.acts.FollowObject, cr.plugins_.MagiCam.prototype.acts.EnableFollowing, cr.plugins_.MagiCam.prototype.acts.SetFollowLag, cr.system_object.prototype.acts.Scroll, cr.system_object.prototype.exps.windowwidth, cr.system_object.prototype.exps.windowheight, cr.plugins_.Globals.prototype.acts.SetBoolInstanceVar, cr.plugins_.Browser.prototype.acts.ExecJs, cr.plugins_.Sprite.prototype.cnds.IsOutsideLayout, cr.behaviors.Bullet.prototype.acts.SetAcceleration, cr.behaviors.Fade.prototype.exps.FadeOutTime, cr.behaviors.Platform.prototype.acts.SetEnabled, cr.system_object.prototype.acts.RestartLayout, cr.behaviors.Platform.prototype.cnds.IsFalling, cr.behaviors.Platform.prototype.cnds.IsByWall, cr.behaviors.Platform.prototype.cnds.OnJump, cr.behaviors.Platform.prototype.exps.MaxSpeed, cr.behaviors.Platform.prototype.exps.JumpStrength, cr.behaviors.Platform.prototype.cnds.IsOnFloor, cr.behaviors.Platform.prototype.acts.SetIgnoreInput, cr.behaviors.Platform.prototype.cnds.IsMoving, cr.system_object.prototype.exps.time, cr.system_object.prototype.acts.AddVar, cr.behaviors.Platform.prototype.cnds.IsJumping, cr.behaviors.solid.prototype.cnds.IsEnabled, cr.behaviors.Rex_pushOutSolid.prototype.acts.SetEnabled, cr.behaviors.Rex_pushOutSolid.prototype.acts.PushOutNearest, cr.plugins_.jcw_trace.prototype.acts.TraceLine, cr.plugins_.jcw_trace.prototype.cnds.Hit, cr.plugins_.jcw_trace.prototype.exps.NormalAngle, cr.system_object.prototype.cnds.CompareBetween, cr.plugins_.Text.prototype.acts.SetText, cr.behaviors.Platform.prototype.cnds.CompareSpeed, cr.system_object.prototype.exps.abs, cr.system_object.prototype.exps.anglelerp, cr.system_object.prototype.exps.timescale, cr.plugins_.Keyboard.prototype.cnds.OnKeyCode, cr.plugins_.Touch.prototype.cnds.OnTouchObject, cr.plugins_.gamepad.prototype.cnds.OnButtonDown, cr.system_object.prototype.cnds.IsMobile, cr.plugins_.Browser.prototype.acts.Vibrate, cr.plugins_.Touch.prototype.cnds.IsTouchingObject, cr.plugins_.gamepad.prototype.cnds.CompareAxis, cr.plugins_.Keyboard.prototype.cnds.OnKeyCodeReleased, cr.plugins_.gamepad.prototype.cnds.OnButtonUp, cr.plugins_.Arr.prototype.cnds.CompareSize, cr.system_object.prototype.cnds.Repeat, cr.plugins_.Arr.prototype.acts.Push, cr.plugins_.Arr.prototype.acts.SetSize, cr.behaviors.Platform.prototype.acts.SimulateControl, cr.system_object.prototype.cnds.Every, cr.plugins_.Arr.prototype.exps.At, cr.plugins_.Arr.prototype.acts.Pop, cr.behaviors.Timer.prototype.acts.StopTimer, cr.plugins_.Sprite.prototype.acts.SetAnim, cr.plugins_.Sprite.prototype.cnds.IsAnimPlaying, cr.behaviors.Platform.prototype.acts.SetMaxFallSpeed, cr.plugins_.MagiCam.prototype.acts.ShakeCamera, cr.plugins_.Sprite.prototype.cnds.IsBetweenAngles, cr.behaviors.Platform.prototype.cnds.OnLand, cr.plugins_.Arr.prototype.exps.Width, cr.system_object.prototype.cnds.While, cr.system_object.prototype.acts.SubVar, cr.plugins_.Sprite.prototype.cnds.CompareX, cr.plugins_.Sprite.prototype.cnds.CompareY, cr.plugins_.Sprite.prototype.cnds.OnCreated, cr.plugins_.Arr.prototype.acts.JSONLoad, cr.plugins_.Arr.prototype.cnds.CompareXY, cr.plugins_.Sprite.prototype.acts.SetPosToObject, cr.system_object.prototype.exps.lerp, cr.plugins_.Sprite.prototype.acts.SetHeight, cr.plugins_.SkymenSFPlusPLus.prototype.acts.MoveToBottom, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetOpacity, cr.behaviors.Platform.prototype.acts.SetDoubleJumpEnabled, cr.plugins_.SkymenSFPlusPLus.prototype.exps.Count, cr.system_object.prototype.acts.CreateObject, cr.plugins_.SkymenSFPlusPLus.prototype.exps.LayerName, cr.plugins_.SkymenSFPlusPLus.prototype.exps.X, cr.plugins_.SkymenSFPlusPLus.prototype.exps.BBoxBottom, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetSize, cr.plugins_.SkymenSFPlusPLus.prototype.exps.Width, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetPos, cr.plugins_.SkymenSFPlusPLus.prototype.acts.MoveToLayer, cr.system_object.prototype.acts.SetGroupActive, cr.plugins_.TiledBg.prototype.acts.SetSize, cr.system_object.prototype.exps.layoutwidth, cr.plugins_.TiledBg.prototype.acts.MoveToBottom, cr.plugins_.TiledBg.prototype.acts.SetOpacity, cr.system_object.prototype.exps.layoutheight, cr.plugins_.TiledBg.prototype.acts.SetAngle, cr.plugins_.Browser.prototype.exps.Domain, cr.plugins_.ValerypopoffJSPlugin.prototype.exps.JSCodeValue, cr.behaviors.aekiro_dialog.prototype.acts.Open, cr.plugins_.Keyboard.prototype.cnds.OnKey, cr.plugins_.Browser.prototype.acts.ConsoleLog, cr.plugins_.SkymenSFPlusPLus.prototype.cnds.OnCreated, cr.plugins_.Browser.prototype.cnds.OnPageHidden, cr.plugins_.ValerypopoffJSPlugin.prototype.acts.ExecuteJSWithParams, cr.plugins_.Browser.prototype.cnds.OnPageVisible, cr.plugins_.skymenhowlerjs.prototype.cnds.IsPlaying, cr.plugins_.skymenhowlerjs.prototype.acts.PlayByName, cr.plugins_.skymenhowlerjs.prototype.acts.Mute, cr.plugins_.SyncStorage.prototype.cnds.IsLoaded, cr.plugins_.skymenhowlerjs.prototype.acts.LinearVolume, cr.plugins_.SyncStorage.prototype.cnds.CompareData, cr.plugins_.skymenhowlerjs.prototype.acts.Unmute, cr.system_object.prototype.exps.choose, cr.system_object.prototype.exps.str, cr.system_object.prototype.exps.floor, cr.system_object.prototype.exps.random, cr.plugins_.skymenhowlerjs.prototype.acts.Stop, cr.plugins_.Sprite.prototype.cnds.AngleWithin, cr.plugins_.JSON.prototype.cnds.IsEmpty, cr.plugins_.AJAX.prototype.acts.RequestFile, cr.plugins_.AJAX.prototype.cnds.OnComplete, cr.plugins_.JSON.prototype.acts.LoadJSON, cr.plugins_.AJAX.prototype.exps.LastData, cr.plugins_.aekiro_model.prototype.acts.SetJSONByKeyString, cr.plugins_.skymen_minifunctioncallback.prototype.acts.Callback, cr.plugins_.JSON.prototype.exps.Value, cr.plugins_.ValerypopoffJSPlugin.prototype.acts.Call, cr.plugins_.ValerypopoffJSPlugin.prototype.exps.StoredReturnValue, cr.plugins_.SyncStorage.prototype.acts.LoadData, cr.plugins_.skymenhowlerjs.prototype.acts.Load, cr.system_object.prototype.acts.WaitForSignal, cr.plugins_.Globals.prototype.acts.SetInstanceVar, cr.plugins_.Globals.prototype.exps.GetVariablesAsJSON, cr.plugins_.ValerypopoffJSPlugin.prototype.acts.SetValue, cr.plugins_.AJAX.prototype.cnds.OnError, cr.plugins_.SyncStorage.prototype.cnds.OnDataMissing, cr.plugins_.SyncStorage.prototype.cnds.OnLoaded, cr.plugins_.Globals.prototype.acts.LoadVariables, cr.plugins_.skymenhowlerjs.prototype.acts.Volume, cr.plugins_.skymenhowlerjs.prototype.exps.LinearVolume, cr.plugins_.Browser.prototype.acts.RequestFullScreen, cr.plugins_.SyncStorage.prototype.cnds.OnLoadError, cr.plugins_.SyncStorage.prototype.exps.ErrorMsg, cr.system_object.prototype.cnds.OnLayoutEnd, cr.plugins_.SyncStorage.prototype.acts.ClearData, cr.system_object.prototype.cnds.For, cr.plugins_.SyncStorage.prototype.acts.RemoveData, cr.system_object.prototype.exps.loopindex, cr.plugins_.SyncStorage.prototype.acts.AddValue, cr.plugins_.Browser.prototype.cnds.OnOfflineReady, cr.plugins_.Browser.prototype.cnds.OnUpdateFound, cr.plugins_.Browser.prototype.cnds.OnUpdateReady, cr.plugins_.sirg_notifications.prototype.cnds.OnNotificationClicked, cr.plugins_.Browser.prototype.acts.Reload, cr.plugins_.Browser.prototype.acts.GoToURLWindow, cr.plugins_.hmmg_layoutTransition_v2.prototype.cnds.didTransitionStart, cr.plugins_.sirg_notifications.prototype.acts.AddSimpleNotification, cr.plugins_.sirg_notifications.prototype.acts.AddNotification, cr.plugins_.sirg_notifications.prototype.acts.AddNotificationClickable, cr.plugins_.sirg_notifications.prototype.acts.DeleteAllNotifications, cr.plugins_.skymen_skinsCore.prototype.acts.AddSkin, cr.plugins_.skymen_skinsCore.prototype.acts.Init, cr.system_object.prototype.exps.clamp, cr.plugins_.Keyboard.prototype.cnds.OnAnyKey, cr.plugins_.Keyboard.prototype.exps.LastKeyCode, cr.plugins_.Sprite.prototype.exps.Count, cr.plugins_.NodeWebkit.prototype.acts.SetWindowTitle, cr.plugins_.Arr.prototype.acts.SetXY, cr.plugins_.Sprite.prototype.exps.AnimationFrame, cr.plugins_.NodeWebkit.prototype.acts.SetClipboardText, cr.plugins_.Arr.prototype.exps.AsJSON, cr.plugins_.Sprite.prototype.acts.SetVisible, cr.plugins_.skymen_skinsCore.prototype.exps.RandomSkin, cr.plugins_.Globals.prototype.acts.ToggleBoolInstanceVar, cr.plugins_.SyncStorage.prototype.exps.AsString, cr.plugins_.TextModded.prototype.cnds.OnCreated, cr.plugins_.TextModded.prototype.acts.SetInstanceVar, cr.plugins_.TextModded.prototype.exps.FaceSize, cr.plugins_.TextModded.prototype.exps.Width, cr.plugins_.TextModded.prototype.exps.Height, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetInstanceVar, cr.plugins_.SkymenSFPlusPLus.prototype.exps.CharacterScale, cr.plugins_.TextModded.prototype.acts.SetWebFont, cr.plugins_.SkymenSFPlusPLus.prototype.cnds.IsBoolInstanceVarSet, cr.plugins_.SkymenSFPlusPLus.prototype.cnds.IsVisible, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetVisible, cr.plugins_.ValerypopoffJSPlugin.prototype.cnds.CompareStoredReturnValue, cr.plugins_.SkymenSFPlusPLus.prototype.exps.Text, cr.plugins_.SkymenSFPlusPLus.prototype.exps.LayerNumber, cr.behaviors.aekiro_gameobject2.prototype.exps.global, cr.plugins_.TextModded.prototype.acts.SetSize, cr.plugins_.SkymenSFPlusPLus.prototype.exps.Height, cr.plugins_.TextModded.prototype.acts.SetText, cr.plugins_.TextModded.prototype.acts.SetFontSize, cr.plugins_.TextModded.prototype.acts.SetHorAl, cr.plugins_.TextModded.prototype.acts.SetVerAl, cr.plugins_.TextModded.prototype.acts.SetHeight, cr.plugins_.TextModded.prototype.acts.SetY, cr.plugins_.TextModded.prototype.exps.Y, cr.plugins_.TextModded.prototype.acts.SetWidth, cr.plugins_.TextModded.prototype.acts.SetX, cr.plugins_.TextModded.prototype.exps.X, cr.plugins_.TextModded.prototype.acts.SetAngle, cr.plugins_.SkymenSFPlusPLus.prototype.exps.Angle, cr.plugins_.TextModded.prototype.acts.SetOpacity, cr.plugins_.SkymenSFPlusPLus.prototype.exps.Opacity, cr.plugins_.TextModded.prototype.acts.ZMoveToObject, cr.plugins_.SkymenSFPlusPLus.prototype.cnds.CompareInstanceVar, cr.plugins_.TextModded.prototype.acts.SetFontColor, cr.system_object.prototype.exps.rgb, cr.plugins_.TextModded.prototype.acts.SetBoolInstanceVar, cr.plugins_.SkymenSFPlusPLus.prototype.exps.UID, cr.plugins_.SkymenSFPlusPLus.prototype.acts.Destroy, cr.system_object.prototype.acts.Signal, cr.system_object.prototype.exps.lowercase, cr.plugins_.Sprite.prototype.exps.AnimationName, cr.plugins_.Sprite.prototype.exps.LayerNumber, cr.plugins_.TextModded.prototype.acts.SetPos, cr.plugins_.Sprite.prototype.exps.Opacity, cr.plugins_.TextModded.prototype.exps.UID, cr.behaviors.aekiro_gameobject2.prototype.acts.AddChildrenFromType, cr.plugins_.TextModded.prototype.cnds.IsBoolInstanceVarSet, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetScale, cr.plugins_.SkymenSFPlusPLus.prototype.cnds.PickByUID, cr.plugins_.TextModded.prototype.cnds.PickByUID, cr.plugins_.aekiro_model.prototype.acts.StringToHashTable, cr.plugins_.TR_ClockParser.prototype.exps.MMSS, cr.system_object.prototype.exps.round, cr.system_object.prototype.exps.zeropad, cr.behaviors.aekiro_button.prototype.acts.setEnabled, cr.plugins_.aekiro_model.prototype.cnds.IsEmpty, cr.plugins_.Sprite.prototype.acts.SetX, cr.plugins_.Sprite.prototype.acts.SetWidth, cr.behaviors.aekiro_gameobject2.prototype.exps.parent, cr.plugins_.Sprite.prototype.exps.BBoxRight, cr.system_object.prototype.exps.replace, cr.plugins_.AJAX.prototype.acts.Request, cr.plugins_.Text.prototype.cnds.OnCreated, cr.plugins_.Text.prototype.acts.SetWebFont, cr.behaviors.aekiro_dialog.prototype.cnds.onDialogOpened, cr.system_object.prototype.acts.SetObjectTimescale, cr.behaviors.aekiro_dialog.prototype.acts.Close, cr.behaviors.aekiro_button.prototype.cnds.OnClicked, cr.behaviors.aekiro_bind.prototype.exps.index, cr.plugins_.TR_AdBlockDetector.prototype.cnds.IsBlocking, cr.plugins_.GameAnalytics.prototype.acts.addDesignEvent, cr.plugins_.Function.prototype.exps.ParamCount, cr.system_object.prototype.acts.GoToLayoutByName, cr.system_object.prototype.acts.SetTimescale, cr.plugins_.hmmg_layoutTransition_v2.prototype.acts.prepareTransition, cr.plugins_.hmmg_layoutTransition_v2.prototype.cnds.isTransitionReady, cr.plugins_.hmmg_layoutTransition_v2.prototype.acts.startTransition, cr.system_object.prototype.acts.SetLayerVisible, cr.behaviors.lunarray_LiteTween.prototype.cnds.OnEnd, cr.behaviors.aekiro_button.prototype.cnds.IsEnabled, cr.plugins_.Sprite.prototype.cnds.CompareFrame, cr.plugins_.Sprite.prototype.cnds.CompareWidth, cr.plugins_.JSON.prototype.exps.Size, cr.behaviors.lunarray_LiteTween.prototype.acts.SetParameter, cr.behaviors.lunarray_LiteTween.prototype.acts.Start, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetPosToObject, cr.plugins_.Sprite.prototype.exps.BBoxLeft, cr.plugins_.Sprite.prototype.exps.BBoxTop, cr.system_object.prototype.exps.viewportright, cr.system_object.prototype.exps.viewportleft, cr.system_object.prototype.exps.viewportbottom, cr.system_object.prototype.exps.viewporttop, cr.system_object.prototype.acts.SetLayerOpacity, cr.system_object.prototype.exps.unlerp, cr.plugins_.Sprite.prototype.exps.BBoxBottom, cr.plugins_.Particles.prototype.acts.SetRate, cr.system_object.prototype.exps.canvastolayerx, cr.plugins_.Touch.prototype.exps.AbsoluteX, cr.plugins_.Touch.prototype.exps.AbsoluteY, cr.system_object.prototype.exps.canvastolayery, cr.plugins_.Mouse.prototype.cnds.OnObjectClicked, cr.plugins_.Mouse.prototype.exps.AbsoluteX, cr.plugins_.Mouse.prototype.exps.AbsoluteY, cr.plugins_.Mouse.prototype.cnds.IsOverObject, cr.behaviors.Sin.prototype.acts.SetMagnitude, cr.behaviors.Sin.prototype.exps.Magnitude, cr.behaviors.Sin.prototype.acts.SetPeriod, cr.behaviors.Sin.prototype.exps.Period, cr.behaviors.aekiro_dialog.prototype.cnds.onDialogClosed, cr.plugins_.TextModded.prototype.cnds.CompareInstanceVar, cr.plugins_.Keyboard.prototype.exps.StringFromKeyCode, cr.behaviors.aekiro_sliderbar.prototype.acts.setValue, cr.behaviors.aekiro_checkbox.prototype.acts.setValue, cr.plugins_.Browser.prototype.cnds.IsFullscreen, cr.behaviors.aekiro_checkbox.prototype.cnds.OnClicked, cr.behaviors.aekiro_checkbox.prototype.cnds.IsChecked, cr.plugins_.Browser.prototype.acts.CancelFullScreen, cr.behaviors.aekiro_sliderbar.prototype.cnds.IsSliding, cr.behaviors.aekiro_sliderbar.prototype.exps.value, cr.plugins_.rojoPaster.prototype.cnds.OnCreated, cr.plugins_.rojoPaster.prototype.acts.LoadImage, cr.plugins_.SkymenSFPlusPLus.prototype.exps.Y, cr.plugins_.TextModded.prototype.acts.Destroy, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetBoolInstanceVar, cr.plugins_.SyncStorage.prototype.acts.SubtractValue, cr.plugins_.Touch.prototype.cnds.OnDoubleTapGestureObject, cr.plugins_.Arr.prototype.acts.SetXYZ, cr.plugins_.Keyboard.prototype.cnds.IsKeyDown, cr.system_object.prototype.acts.GoToLayout, cr.system_object.prototype.acts.ResetPersisted, cr.behaviors.aekiro_dialog.prototype.cnds.isOpened, cr.plugins_.Function.prototype.cnds.CompareParam, cr.plugins_.HTML_Div_Pode.prototype.acts.MoveToLayer, cr.plugins_.Browser.prototype.cnds.IsPortraitLandscape, cr.plugins_.HTML_Div_Pode.prototype.acts.SetPos, cr.system_object.prototype.exps.originalwindowwidth, cr.plugins_.HTML_Div_Pode.prototype.acts.SetWidth, cr.plugins_.HTML_Div_Pode.prototype.acts.SetVisible, cr.plugins_.filechooser.prototype.acts.ReleaseFile, cr.plugins_.filechooser.prototype.exps.FileURLAt, cr.plugins_.Browser.prototype.acts.InvokeDownloadString, cr.plugins_.filechooser.prototype.cnds.OnChanged, cr.plugins_.TextBox.prototype.cnds.OnClicked, cr.plugins_.TextBox.prototype.acts.SetBlur, cr.plugins_.Button.prototype.cnds.OnClicked, cr.plugins_.Button.prototype.cnds.CompareInstanceVar, cr.plugins_.TextBox.prototype.cnds.CompareInstanceVar, cr.plugins_.TextBox.prototype.exps.Text, cr.plugins_.Button.prototype.cnds.IsChecked, cr.plugins_.SyncStorage.prototype.acts.AppendValue, cr.behaviors.Fade.prototype.acts.RestartFade, cr.plugins_.hmmg_layoutTransition_v2.prototype.cnds.didTransitionFinish, cr.behaviors.lunarray_Tween.prototype.cnds.OnEnd, cr.behaviors.lunarray_Tween.prototype.acts.SetParameter, cr.behaviors.lunarray_Tween.prototype.acts.Start, cr.behaviors.lunarray_Tween.prototype.exps.isPaused, cr.behaviors.lunarray_Tween.prototype.exps.Target, cr.behaviors.lunarray_Tween.prototype.exps.Value, cr.plugins_.SkymenSFPlusPLus.prototype.acts.SetCharPos, cr.plugins_.SkymenSFPlusPLus.prototype.acts.Redraw, cr.system_object.prototype.exps.loadingprogress, cr.plugins_.TiledBg.prototype.exps.Opacity, cr.plugins_.HTML_Div_Pode.prototype.acts.Destroy, cr.plugins_.sirg_notifications.prototype.acts.SetPosition, cr.plugins_.GameAnalytics.prototype.acts.initialize, cr.plugins_.skymen_siteLock.prototype.cnds.SiteLock, cr.plugins_.Browser.prototype.acts.GoToURL]
            }
            ;
        </script>
    </body>
</html>
